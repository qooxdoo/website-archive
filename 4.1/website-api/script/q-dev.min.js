/** qooxdoo v4.1 | (c) 2013 1&1 Internet AG, http://1und1.de | http://qooxdoo.org/license */
(function(){
if (!window.qx) window.qx = qxWeb.$$qx;
var qx = window.qx;

if (!qx.$$environment) qx.$$environment = {};
var envinfo = {"apiviewer.modulenamereplacements":{"qx\.module\.":"","qx\.ui\.website\.":""},"json":true,"q.eventtypes":"qx.module.event.Mouse,qx.module.event.Keyboard,qx.module.event.Native,qx.module.event.Orientation,qx.module.event.Touch,qx.module.event.Pointer,qx.module.event.Swipe,qx.module.event.Track,qx.module.event.Pinch,qx.module.event.Rotate,qx.module.event.Tap","qx.application":"library.Application","qx.debug":false,"qx.debug.databinding":false,"qx.debug.dispose":false,"qx.debug.io":false,"qx.debug.ui.queue":false,"qx.globalErrorHandling":false,"qx.optimization.basecalls":true,"qx.optimization.comments":true,"qx.optimization.statics":true,"qx.optimization.strings":true,"qx.optimization.variables":true,"qx.optimization.variants":true,"qx.optimization.whitespace":true,"qx.revision":"","qx.theme":"qx.theme.Modern","qx.version":"4.1"};
for (var k in envinfo) qx.$$environment[k] = envinfo[k];

qx.$$packageData = {};

/** qooxdoo v4.1 | (c) 2013 1&1 Internet AG, http://1und1.de | http://qooxdoo.org/license */
qx.$$packageData['0']={"locales":{},"resources":{},"translations":{"C":{},"en":{}}};
(function(){var a="qx.module.dev.FakeServer";qx.Bootstrap.define(a,{statics:{configure:function(b){qx.dev.FakeServer.getInstance().configure(b);},removeResponse:function(d,c){qx.dev.FakeServer.getInstance().removeResponse(d,c);},addFilter:function(e){qx.dev.FakeServer.getInstance().addFilter(e);},removeFilter:function(f){qx.dev.FakeServer.getInstance().removeFilter(f);},respondWith:function(i,h,g){qx.dev.FakeServer.getInstance().respondWith(i,h,g);},getFakeServer:function(){return qx.dev.FakeServer.getInstance().getFakeServer();},restore:function(){qx.dev.FakeServer.getInstance().restore();}},defer:function(j){qxWeb.$attachStatic({"dev":{"fakeServer":{"configure":j.configure,"removeResponse":j.removeResponse,"addFilter":j.addFilter,"removeFilter":j.removeFilter,"respondWith":j.respondWith,"getFakeServer":j.getFakeServer,"restore":j.restore}}});}});})();(function(){var a=" is a singleton! It is not possible to instantiate it directly.",b="qx.dev.FakeServer",c=".*?",d="Use the static getInstance() method instead.";qx.Bootstrap.define(b,{extend:Object,construct:function(){var f=qx.dev.FakeServer;if(!f.$$allowconstruct){var e=f+a+d;throw new Error(e);};this.getFakeServer();this.__responses=[];},statics:{$$instance:null,$$allowconstruct:false,getInstance:function(){if(!this.$$instance){this.$$allowconstruct=true;this.$$instance=new this();delete this.$$allowconstruct;};return this.$$instance;}},members:{__sinon:null,__fakeServer:null,__responses:null,__filter:null,configure:function(h){h.forEach(function(n){var o=n.url instanceof RegExp?n.url:this._getRegExp(n.url);var m=[n.method,o];var k=false;for(var i=0,l=this.__responses.length;i<l;i++ ){var j=this.__responses[i];k=(j[0]==m[0]&&j[1]==m[1]);};if(!k){this.__responses.push(m);};this.respondWith(n.method,o,n.response);}.bind(this));var g=this.__filter=this.__getCombinedFilter();this.addFilter(g);},addFilter:function(p){{};this.__sinon.FakeXMLHttpRequest.addFilter(p);},removeFilter:function(q){qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters,q);},removeResponse:function(t,r){qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters,this.__filter);var s=r instanceof RegExp?r:this._getRegExp(r);this.__responses=this.__responses.filter(function(u){return (u[0]!=t||u[1].toString()!=s.toString());});this.__fakeServer.responses=this.__fakeServer.responses.filter(function(v){return (v.method!=t||v.url.toString()!=s.toString());});this.removeFilter(this.__filter);this.__filter=this.__getCombinedFilter();this.addFilter(this.__filter);},respondWith:function(y,x,w){this.getFakeServer().respondWith(y,x,w);},getFakeServer:function(){if(!this.__fakeServer){var z=this.__sinon=qx.dev.unit.Sinon.getSinon();z.FakeXMLHttpRequest.useFilters=true;this.__fakeServer=z.sandbox.useFakeServer();this.__fakeServer.autoRespond=true;};return this.__fakeServer;},restore:function(){this.__responses=[];this.removeFilter(this.__filter);this.__filter=null;this.__fakeServer.restore();this.__fakeServer=null;},_getRegExp:function(A){A=A.replace(/\{[^\/]*?\}/g,c);return new RegExp(A);},__getCombinedFilter:function(){var B=this.__responses;return function(I,D,F,C,H){for(var i=0,l=B.length;i<l;i++ ){var E=B[i][0];var G=B[i][1];if(I==E&&G.test(D)){return false;};};return true;};}},destruct:function(){this.restore();this.__fakeServer=this.__sinon=null;}});})();(function(){var c="html:",d="./sinon/mock",g="expected %n to always be called with match %*%C",n="truthy",q='withCredentials',r="loadstart",s="at most ",t="\r\n",u="%",v="clearInterval",w="Not Acceptable",x='create',y="Expectation met: ",z="stub#",A="INVALID_STATE_ERR - ",B="./sinon/sandbox",C="match",D="notCalled",E="stubbed",G="inherit",H='\n--------------\n',I="Requested Range Not Satisfiable",J="Date",K="expectedArguments",L='Async',M=" property ",N="expected %n to always be called with %1 as this but was called with %t",O="falsy",P="clock",Q="calledOnce",R="', but no object with such a property was passed.",S="Payment Required",T='$2',U="calledWithMatch",V="expected %n to be called thrice but was called %c%C",W="[object Date]",X="{\n  ",Y=" cannot yield since it was not yet invoked.",ba=":",bb="(",bc="sinon.testCase needs an object with test functions",bd="called",be="readystatechange",bf="Callback must be provided to timer calls",bg="loadend",bh="[object Window]",bi="object is null",bj="overrideMimeType",bk="hasOwn",bl="calledWith",bm="Matcher was not a string, a number, a ",bn=",\n  ",bo="error",bp="=\"",bq="Precondition Failed",br="progress",bs="./util/fake_timers",bt="Use Proxy",bu="any",bv="tick only understands numbers and 'h:m:s'",bw="_",bx="Forbidden",by="contenteditable",bz="./sinon/test",bA="Request Timeout",bB="Found",bC="expected %n to never be called with match %*%C",bD="expected %n to always be called with exact arguments %*%C",bE="Fake XHR onreadystatechange handler",bF=" which is already wrapped",bG="called in order but were called as ",bH="Method Not Allowed",bI=" received no arguments, expected ",bJ=", [...",bK=" and at most ",bL=']',bM=" Received [",bN="function, a boolean or an object",bO="Temporary Redirect",bP="Not Found",bQ="expected %n to be called with new",bR=" already called ",bS=";",bT="alwaysCalledWithExactly",bU="    ",bV="Content-Type",bW='withArgs',bX="undefined",bY=" cannot call arg since it was not yet invoked.",ca=" as thisValue, expected ",cb="thrice",cc="notCalledWithMatch",cd="yieldOn",ce="../sinon",cf="array",cg="Expectation Failed",ch="responseXML",ci="Gone",cj=" is not stubbed",ck="Bad Request",cl="Unauthorized",cm="open",cn="send",co=" times",cp="expected %n to be called twice but was called %c%C",cq=", expected ",cr="The constructor should be a function.",cs="{ ",ct="toString",cu="number",cv="Request Entity Too Large",cw="expected %n to be called with match %*%C",cx="INVALID_STATE_ERR",cy="[",cz="Attempted to wrap ",cA="samsam",cB="./sinon/behavior",cC="alwaysCalledOn",cD="ExpectationError",cE="Matcher expected",cF="Unsupported Media Type",cG="yield",cH="p = (function proxy(",cI="Method wrapper should be function",cJ="argument context is not an object",cK='object',cL="once",cM="Expected type of ",cN='"',cO="null",cP="' is not number",cQ="(\"",cR=", which is not a string.",cS="stub",cT="[, ...",cU=";charset=utf-8",cV="expected %n to always be called with new",cW="Multi-Status",cX="AssertError",cY='$1',da="MSXML2.XMLHTTP.3.0",db="mock",dc="util",dd="setTimeout",de="verify",df="addEventListener",dg="function",dh="\n\n",di=")",dj="Should wrap property of object",dk="Invalid time ",dl="expected value to match",dm="text/plain;charset=utf-8",dn="Moved Permanently",dp="Multiple Choice",dq=" received too many arguments (",dr="%n did not throw exception%C",ds="assert",dt="Continue",du="Unexpected call: ",dv="server",dw="' since no callback was passed.",dx="yieldTo",dy="callArgWith",dz=", didn't match ",dA="export",dB="Not Modified",dC="    expected = ",dD="'",dE='Stack Trace for original',dF=" threw exception: ",dG="called ",dH="Unprocessable Entity",dI="expected ",dJ=" is not a function",dK="threw",dL="    actual = ",dM="method is falsy",dN="Expected ",dO="Switching Protocols",dP="clearTimeout",dQ="a,b,c,d,e,f,g,h,i,j,k,l",dR=".and(",dS="boolean",dT="[object Array]",dU="restore",dV="formatio",dW="Proxy Authentication Required",dX="expected %n to be called with %1 as this but was called with %t",dY="neverCalledWith",ea="alwaysReturned",eb="calledWithExactly",ec="div",ed=" but was called %c%C",ee="), expected ",ef=", ",eg="type",eh="<",ei="setInterval",ej='number',ek="-0",el="same(",em="\n",en=") { return p.invoke(func, this, slice.call(arguments)); });",eo="./sinon/test_case",ep="OK",eq=" received too few arguments (",er="expected %n to be called once but was called %c%C",es="fake is not a spy",et="expectedThis",eu="twice",ev="sinon fake",ew="sinon.test needs to wrap a test function, got ",ex="InvalidBodyException",ey="./sinon/spy",ez="match(",eA="expected %n to be called with arguments %*%C",eB="callArgOnWith",eC="expected %n to never be called with arguments %*%C",eD="text/xml",eE="argument at index ",eF="calledOn",eG=" => ",eH="setRequestHeader",eI="Gateway Timeout",eJ="spy",eK="calledWithNew",eL='undefined',eM="[object HTMLDocument]",eN=" expected to yield to '",eO="target is null or undefined",eP="calledThrice",eQ="callCount",eR="spy#",eS="%n did not always throw exception%C",eT="Error",eU="regexp",eV="./sinon/stub",eW="typeOf(\"",eX="Request:\n",eY='progress',fa="expected %n to always be called with arguments %*%C",fb="status",fc="./sinon/call",fd="on",fe="getResponseHeader",ff="\"",fg="at least ",fh="[object global]",fi='invoke',fj="./sinon/collection",fk="anonymous mock expectation",fl=" cannot yield to '",fm="now should be milliseconds since UNIX epoch",fo="alwaysThrew",fp="Array",fq="}",fr="Bad Gateway",fs="\")",ft="clearImmediate",fu="",fv="yieldToOn",fw="]",fx="has",fy=", but was ",fz="expected %n to not have been called but was called %c%C",fA=" }",fB="Response:\n",fC="Reset Content",fD="' is not a number",fE="sandbox",fF="Call id is not a number",fG="Non-Authoritative Information",fH="Not Implemented",fI="./sinon/assert",fJ="Length Required",fK="Fake server response body should be string, but was ",fL="./match",fM='function',fN="property",fO="load",fP="Service Unavailable",fQ="//",fR=" to be ",fS="callArg",fT="test",fU="Conflict",fV=" received wrong arguments ",fW="alwaysCalledWithNew",fX="Anonymous mock",fY=" is not a function: ",ga="Refused to set unsafe header \"",gb="</",gc='Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. ',gd="neverCalledWithMatch",ge="match(\"",gf="string",gg="Function requires at least 1 parameter",gh="defined",gi="removeEventListener",gj="returned",gk="Object",gl="[...]",gm="Fake server request processing",gn=" called with ",go="() {}",gp="expected %n to have been called at least once but was never called",gq="instanceOf(",gr="Request-URI Too Long",gs=".or(",gt="alwaysCalledWith",gu='Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.',gv="alwaysCalledWithMatch",gw=" ",gx="No Content",gy="^",gz="callOrder",gA="responseText",gB="Created",gC="argument index is not number",gD="requests",gE="statusText",gF="calledTwice",gG="abort",gH="qx.dev.unit.Sinon",gI=": ",gJ="setImmediate",gK="No headers received",gL="Custom stub should be function",gM=" (",gN=" which is already ",gO="date",gP="spied on",gQ="getAllResponseHeaders",gR='[',gS="See Other",gT="Partial Content",gU="Accepted",gV="object",gW="Cannot stub non-existent own property ",gX="[Circular]",gY="callArgOn",ha=" cannot yield since no callback was passed.",hb="] ",hc="./sinon/match",hd="Internal Server Error",he=">",hf="expected %n to be called with exact arguments %*%C",hg=" as function",hh="function ",hi="Attempted to respond to fake XMLHttpRequest with ",hj=" !",hk="Request done",hl="Microsoft.XMLHTTP",hm="false",hn="notCalledWith",ho="expected %n to be called ",hp="Microsoft.XMLDOM",hq="' since it was not yet invoked.",hr=" expected to yield, but no callback was passed.",hs="HTTP Version Not Supported",ht="never called",hu=",";qx.Bootstrap.define(gH,{statics:{getSinon:null}});(function(){this.sinon=(function(){var samsam,formatio;function define(hx,hv,hw){if(hx==cA){samsam=hv();}else {formatio=hw(samsam);};};define.amd=true;((typeof define===dg&&define.amd&&function(m){define(cA,m);})||(typeof module===gV&&function(m){module.exports=m();})||function(m){this.samsam=m();})(function(){var o=Object.prototype;var hG=typeof document!==bX&&document.createElement(ec);function isNaN(hJ){var hK=hJ;return typeof hJ===cu&&hJ!==hK;};function hz(hL){return o.toString.call(hL).split(/[ \]]/)[1];};function hI(hM){if(typeof hM!==gV||typeof hM.length!==cu||hz(hM)===fp){return false;};if(typeof hM.callee==dg){return true;};try{hM[hM.length]=6;delete hM[hM.length];}catch(e){return true;};return false;};function hF(hN){if(!hN||hN.nodeType!==1||!hG){return false;};try{hN.appendChild(hG);hN.removeChild(hG);}catch(e){return false;};return true;};function hA(hP){var hO=[],hQ;for(hQ in hP){if(o.hasOwnProperty.call(hP,hQ)){hO.push(hQ);};};return hO;};function hB(hR){return typeof hR.getTime==dg&&hR.getTime()==hR.valueOf();};function hE(hS){return hS===0&&1/hS===-Infinity;};function hy(hT,hU){if(hT===hU||(isNaN(hT)&&isNaN(hU))){return hT!==0||hE(hT)===hE(hU);};};function hD(hV,ib){var hY=[],ia=[],ie=[],ic=[],hX={};function ig(ih){if(typeof ih===cK&&ih!==null&&!(ih instanceof Boolean)&&!(ih instanceof Date)&&!(ih instanceof Number)&&!(ih instanceof RegExp)&&!(ih instanceof String)){return true;};return false;};function hW(ii,ij){var i;for(i=0;i<ii.length;i++ ){if(ii[i]===ij){return i;};};return -1;};return (function iH(iw,ix,iE,iD){var ip=typeof iw;var iq=typeof ix;if(iw===ix||isNaN(iw)||isNaN(ix)||iw==null||ix==null||ip!==gV||iq!==gV){return hy(iw,ix);};if(hF(iw)||hF(ix)){return false;};var io=hB(iw),im=hB(ix);if(io||im){if(!io||!im||iw.getTime()!==ix.getTime()){return false;};};if(iw instanceof RegExp&&ix instanceof RegExp){if(iw.toString()!==ix.toString()){return false;};};var iv=hz(iw);var iu=hz(ix);var iy=hA(iw);var iz=hA(ix);if(hI(iw)||hI(ix)){if(iw.length!==ix.length){return false;};}else {if(ip!==iq||iv!==iu||iy.length!==iz.length){return false;};};var iA,i,l,it,ir,il,ik,iC,iB,iF,iG;for(i=0,l=iy.length;i<l;i++ ){iA=iy[i];if(!o.hasOwnProperty.call(ix,iA)){return false;};it=iw[iA];ir=ix[iA];il=ig(it);ik=ig(ir);iC=il?hW(hY,it):-1;iB=ik?hW(ia,ir):-1;iF=iC!==-1?ie[iC]:iE+gR+JSON.stringify(iA)+bL;iG=iB!==-1?ic[iB]:iD+gR+JSON.stringify(iA)+bL;if(hX[iF+iG]){return true;};if(iC===-1&&il){hY.push(it);ie.push(iF);};if(iB===-1&&ik){ia.push(ir);ic.push(iG);};if(il&&ik){hX[iF+iG]=true;};if(!iH(it,ir,iF,iG)){return false;};};return true;}(hV,ib,cY,T));};var hH;function hC(iJ,iI){if(iI.length===0){return true;};var i,l,j,k;for(i=0,l=iJ.length;i<l; ++i){if(hH(iJ[i],iI[0])){for(j=0,k=iI.length;j<k; ++j){if(!hH(iJ[i+j],iI[j])){return false;};};return true;};};return false;};hH=function iN(iM,iL){if(iL&&typeof iL.test===dg){return iL.test(iM);};if(typeof iL===dg){return iL(iM)===true;};if(typeof iL===gf){iL=iL.toLowerCase();var iK=typeof iM===gf||!!iM;return iK&&(String(iM)).toLowerCase().indexOf(iL)>=0;};if(typeof iL===cu){return iL===iM;};if(typeof iL===dS){return iL===iM;};if(hz(iM)===fp&&hz(iL)===fp){return hC(iM,iL);};if(iL&&typeof iL===gV){var iO;for(iO in iL){if(!iN(iM[iO],iL[iO])){return false;};};return true;};throw new Error(bm+bN);};return {isArguments:hI,isElement:hF,isDate:hB,isNegZero:hE,identical:hy,deepEqual:hD,match:hH,keys:hA};});((typeof define===dg&&define.amd&&function(m){define(dV,[cA],m);})||(typeof module===gV&&function(m){module.exports=m(require(cA));})||function(m){this.formatio=m(this.samsam);})(function(iS){var iU={excludeConstructors:[gk,/^.$/],quoteStrings:true};var iR=[];if(typeof global!==bX){iR.push({object:global,value:fh});};if(typeof document!==bX){iR.push({object:document,value:eM});};if(typeof window!==bX){iR.push({object:window,value:bh});};function iP(iY){if(!iY){return fu;};if(iY.displayName){return iY.displayName;};if(iY.name){return iY.name;};var iX=iY.toString().match(/function\s+([^\(]+)/m);return (iX&&iX[1])||fu;};function iQ(f,jb){var name=iP(jb&&jb.constructor);var ja=f.excludeConstructors||iU.excludeConstructors||[];var i,l;for(i=0,l=ja.length;i<l; ++i){if(typeof ja[i]===gf&&ja[i]===name){return fu;}else if(ja[i].test&&ja[i].test(name)){return fu;};};return name;};function iT(jc,jd){if(typeof jc!==gV){return false;};var i,l;for(i=0,l=jd.length;i<l; ++i){if(jd[i]===jc){return true;};};return false;};function iW(f,jh,ji,jf){if(typeof jh===gf){var je=f.quoteStrings;var jg=typeof je!==dS||je;return ji||jg?cN+jh+cN:jh;};if(typeof jh===dg&&!(jh instanceof RegExp)){return iW.func(jh);};ji=ji||[];if(iT(jh,ji)){return gX;};if(Object.prototype.toString.call(jh)===dT){return iW.array.call(f,jh,ji);};if(!jh){return String((1/jh)===-Infinity?ek:jh);};if(iS.isElement(jh)){return iW.element(jh);};if(typeof jh.toString===dg&&jh.toString!==Object.prototype.toString){return jh.toString();};var i,l;for(i=0,l=iR.length;i<l;i++ ){if(jh===iR[i].object){return iR[i].value;};};return iW.object.call(f,jh,ji,jf);};iW.func=function(jj){return hh+iP(jj)+go;};iW.array=function(jk,jl){jl=jl||[];jl.push(jk);var i,l,jm=[];for(i=0,l=jk.length;i<l; ++i){jm.push(iW(this,jk[i],jl));};return cy+jm.join(ef)+fw;};iW.object=function(jq,ju,jo){ju=ju||[];ju.push(jq);jo=jo||0;var jr=[],jx=iS.keys(jq).sort();var length=3;var jw,jv,jt,i,l;for(i=0,l=jx.length;i<l; ++i){jw=jx[i];jt=jq[jw];if(iT(jt,ju)){jv=gX;}else {jv=iW(this,jt,ju,jo+2);};jv=(/\s/.test(jw)?cN+jw+cN:jw)+gI+jv;length+=jv.length;jr.push(jv);};var jn=iQ(this,jq);var js=jn?cy+jn+hb:fu;var jp=fu;for(i=0,l=jo;i<l; ++i){jp+=gw;};if(length+jo>80){return js+X+jp+jr.join(bn+jp)+em+jp+fq;};return js+cs+jr.join(ef)+fA;};iW.element=function(jD){var jG=jD.tagName.toLowerCase();var jF=jD.attributes,jA,jz=[],jy,i,l,jB;for(i=0,l=jF.length;i<l; ++i){jA=jF.item(i);jy=jA.nodeName.toLowerCase().replace(c,fu);jB=jA.nodeValue;if(jy!==by||jB!==G){if(!!jB){jz.push(jy+bp+jB+ff);};};};var jE=eh+jG+(jz.length>0?gw:fu);var content=jD.innerHTML;if(content.length>20){content=content.substr(0,20)+gl;};var jC=jE+jz.join(gw)+he+content+gb+jG+he;return jC.replace(/ contentEditable="inherit"/,fu);};function iV(jI){for(var jH in jI){this[jH]=jI[jH];};};iV.prototype={functionName:iP,configure:function(jJ){return new iV(jJ);},constructorName:function(jK){return iQ(this,jK);},ascii:function(jL,jN,jM){return iW(this,jL,jN,jM);}};return iV.prototype;});var sinon=(function(jQ){var jY=typeof document!=bX&&document.createElement(ec);var jS=Object.prototype.hasOwnProperty;function jW(kd){var ke=false;try{kd.appendChild(jY);ke=jY.parentNode==kd;}catch(e){return false;}finally{try{kd.removeChild(jY);}catch(e){};};return ke;};function jX(kf){return jY&&kf&&kf.nodeType===1&&jW(kf);};function kb(kg){return typeof kg===dg||!!(kg&&kg.constructor&&kg.call&&kg.apply);};function jP(kh){return typeof kh===ej&&isNaN(kh);};function kc(kj,ki){for(var kk in ki){if(!jS.call(kj,kk)){kj[kk]=ki[kk];};};};function jO(kl){return typeof kl===dg&&typeof kl.restore===dg&&kl.restore.sinon;};var jV={wrapMethod:function km(kn,kt,ku){if(!kn){throw new TypeError(dj);};if(typeof ku!=dg){throw new TypeError(cI);};var kq=kn[kt],kr;if(!kb(kq)){kr=new TypeError(cz+(typeof kq)+M+kt+hg);};if(kq.restore&&kq.restore.sinon){kr=new TypeError(cz+kt+bF);};if(kq.calledBefore){var kp=!!kq.returns?E:gP;kr=new TypeError(cz+kt+gN+kp);};if(kr){if(kq._stack){kr.stack+=H+kq._stack;};throw kr;};var ko=kn.hasOwnProperty?kn.hasOwnProperty(kt):jS.call(kn,kt);kn[kt]=ku;ku.displayName=kt;ku._stack=(new Error(dE)).stack;ku.restore=function(){if(!ko){delete kn[kt];};if(kn[kt]===ku){kn[kt]=kq;};};ku.restore.sinon=true;kc(ku,kq);return ku;},extend:function kx(kw){for(var i=1,l=arguments.length;i<l;i+=1){for(var kv in arguments[i]){if(arguments[i].hasOwnProperty(kv)){kw[kv]=arguments[i][kv];};if(arguments[i].hasOwnProperty(ct)&&arguments[i].toString!=kw.toString){kw.toString=arguments[i].toString;};};};return kw;},create:function ky(kz){var F=function(){};F.prototype=kz;return new F();},deepEqual:function kE(a,b){if(jV.match&&jV.match.isMatcher(a)){return a.test(b);};if(typeof a!=cK||typeof b!=cK){if(jP(a)&&jP(b)){return true;}else {return a===b;};};if(jX(a)||jX(b)){return a===b;};if(a===b){return true;};if((a===null&&b!==null)||(a!==null&&b===null)){return false;};if(a instanceof RegExp&&b instanceof RegExp){return (a.source===b.source)&&(a.global===b.global)&&(a.ignoreCase===b.ignoreCase)&&(a.multiline===b.multiline);};var kB=Object.prototype.toString.call(a);if(kB!=Object.prototype.toString.call(b)){return false;};if(kB==W){return a.valueOf()===b.valueOf();};var kC,kD=0,kA=0;if(kB==dT&&a.length!==b.length){return false;};for(kC in a){kD+=1;if(!kE(a[kC],b[kC])){return false;};};for(kC in b){kA+=1;};return kD==kA;},functionName:function kG(kH){var name=kH.displayName||kH.name;if(!name){var kF=kH.toString().match(/function ([^\s\(]+)/);name=kF&&kF[1];};return name;},functionToString:function kI(){if(this.getCall&&this.callCount){var kJ,kK,i=this.callCount;while(i-- ){kJ=this.getCall(i).thisValue;for(kK in kJ){if(kJ[kK]===this){return kK;};};};};return this.displayName||ev;},getConfig:function(kL){var kM={};kL=kL||{};var kN=jV.defaultConfig;for(var kO in kN){if(kN.hasOwnProperty(kO)){kM[kO]=kL.hasOwnProperty(kO)?kL[kO]:kN[kO];};};return kM;},format:function(kP){return fu+kP;},defaultConfig:{injectIntoThis:true,injectInto:null,properties:[eJ,cS,db,P,dv,gD],useFakeTimers:true,useFakeServer:true},timesInWords:function kR(kQ){return kQ==1&&cL||kQ==2&&eu||kQ==3&&cb||(kQ||0)+co;},calledInOrder:function(kS){for(var i=1,l=kS.length;i<l;i++ ){if(!kS[i-1].calledBefore(kS[i])||!kS[i].called){return false;};};return true;},orderByFirstCall:function(kT){return kT.sort(function(a,b){var kU=a.getCall(0);var kX=b.getCall(0);var kW=kU&&kU.callId||-1;var kV=kX&&kX.callId||-1;return kW<kV?-1:1;});},log:function(){},logError:function(lb,la){var kY=lb+dF;jV.log(kY+cy+la.name+hb+la.message);if(la.stack){jV.log(la.stack);};setTimeout(function(){la.message=kY+la.message;throw la;},0);},typeOf:function(ld){if(ld===null){return cO;}else if(ld===undefined){return bX;};var lc=Object.prototype.toString.call(ld);return lc.substring(8,lc.length-1).toLowerCase();},createStubInstance:function(le){if(typeof le!==dg){throw new TypeError(cr);};return jV.stub(jV.create(le.prototype));},restore:function(lf){if(lf!==null&&typeof lf===gV){for(var lg in lf){if(jO(lf[lg])){lf[lg].restore();};};}else if(jO(lf)){lf.restore();};}};var jR=typeof module!==bX&&module.exports;var jU=typeof define===fM&&typeof define.amd===cK&&define.amd;if(jU){define(function(){return jV;});}else if(jR){try{jQ=require(dV);}catch(e){};module.exports=jV;module.exports.spy=require(ey);module.exports.spyCall=require(fc);module.exports.behavior=require(cB);module.exports.stub=require(eV);module.exports.mock=require(d);module.exports.collection=require(fj);module.exports.assert=require(fI);module.exports.sandbox=require(B);module.exports.test=require(bz);module.exports.testCase=require(eo);module.exports.assert=require(fI);module.exports.match=require(hc);};if(jQ){var ka=jQ.configure({quoteStrings:false});jV.format=function(){return ka.ascii.apply(ka,arguments);};}else if(jR){try{var jT=require(dc);jV.format=function(lh){return typeof lh==gV&&lh.toString===Object.prototype.toString?jT.inspect(lh):lh;};}catch(e){};};return jV;}(typeof formatio==gV&&formatio));(function(ln){var li=typeof module!==eL&&module.exports;if(!ln&&li){ln=require(ce);};if(!ln){return;};function ll(ls,lq,name){var lr=ln.typeOf(ls);if(lr!==lq){throw new TypeError(cM+name+fR+lq+fy+lr);};};var lk={toString:function(){return this.message;}};function lm(lt){return lk.isPrototypeOf(lt);};function lj(lw,lv){if(lv===null||lv===undefined){return false;};for(var lx in lw){if(lw.hasOwnProperty(lx)){var lu=lw[lx];var ly=lv[lx];if(lo.isMatcher(lu)){if(!lu.test(ly)){return false;};}else if(ln.typeOf(lu)===gV){if(!lj(lu,ly)){return false;};}else if(!ln.deepEqual(lu,ly)){return false;};};};return true;};lk.or=function(lB){if(!arguments.length){throw new TypeError(cE);}else if(!lm(lB)){lB=lo(lB);};var lz=this;var lA=ln.create(lk);lA.test=function(lC){return lz.test(lC)||lB.test(lC);};lA.message=lz.message+gs+lB.message+di;return lA;};lk.and=function(lF){if(!arguments.length){throw new TypeError(cE);}else if(!lm(lF)){lF=lo(lF);};var lE=this;var lD=ln.create(lk);lD.test=function(lG){return lE.test(lG)&&lF.test(lG);};lD.message=lE.message+dR+lF.message+di;return lD;};var lo=function(lI,lK){var m=ln.create(lk);var lL=ln.typeOf(lI);switch(lL){case gV:if(typeof lI.test===dg){m.test=function(lM){return lI.test(lM)===true;};m.message=ez+ln.functionName(lI.test)+di;return m;};var lH=[];for(var lJ in lI){if(lI.hasOwnProperty(lJ)){lH.push(lJ+gI+lI[lJ]);};};m.test=function(lN){return lj(lI,lN);};m.message=ez+lH.join(ef)+di;break;case cu:m.test=function(lO){return lI==lO;};break;case gf:m.test=function(lP){if(typeof lP!==gf){return false;};return lP.indexOf(lI)!==-1;};m.message=ge+lI+fs;break;case eU:m.test=function(lQ){if(typeof lQ!==gf){return false;};return lI.test(lQ);};break;case dg:m.test=lI;if(lK){m.message=lK;}else {m.message=ez+ln.functionName(lI)+di;};break;default:m.test=function(lR){return ln.deepEqual(lI,lR);};};if(!m.message){m.message=ez+lI+di;};return m;};lo.isMatcher=lm;lo.any=lo(function(){return true;},bu);lo.defined=lo(function(lS){return lS!==null&&lS!==undefined;},gh);lo.truthy=lo(function(lT){return !!lT;},n);lo.falsy=lo(function(lU){return !lU;},O);lo.same=function(lV){return lo(function(lW){return lV===lW;},el+lV+di);};lo.typeOf=function(lX){ll(lX,gf,eg);return lo(function(lY){return ln.typeOf(lY)===lX;},eW+lX+fs);};lo.instanceOf=function(ma){ll(ma,dg,eg);return lo(function(mb){return mb instanceof ma;},gq+ln.functionName(ma)+di);};function lp(md,mc){return function(mg,mh){ll(mg,gf,fN);var me=arguments.length===1;var mf=mc+cQ+mg+ff;if(!me){mf+=ef+mh;};mf+=di;return lo(function(mi){if(mi===undefined||mi===null||!md(mi,mg)){return false;};return me||ln.deepEqual(mh,mi[mg]);},mf);};};lo.has=lp(function(mk,mj){if(typeof mk===gV){return mj in mk;};return mk[mj]!==undefined;},fx);lo.hasOwn=lp(function(mm,ml){return mm.hasOwnProperty(ml);},bk);lo.bool=lo.typeOf(dS);lo.number=lo.typeOf(cu);lo.string=lo.typeOf(gf);lo.object=lo.typeOf(gV);lo.func=lo.typeOf(dg);lo.array=lo.typeOf(cf);lo.regexp=lo.typeOf(eU);lo.date=lo.typeOf(gO);if(li){module.exports=lo;}else {ln.match=lo;};}(typeof sinon==gV&&sinon||null));(function(mr){var mn=typeof module!==eL&&module.exports;if(!mr&&mn){mr=require(ce);};if(!mr){return;};function mo(mx,mv,mw){var mu=mr.functionName(mx)+mv;if(mw.length){mu+=bM+mp.call(mw).join(ef)+fw;};throw new Error(mu);};var mp=Array.prototype.slice;var mt={calledOn:function my(mz){if(mr.match&&mr.match.isMatcher(mz)){return mz.test(this.thisValue);};return this.thisValue===mz;},calledWith:function mA(){for(var i=0,l=arguments.length;i<l;i+=1){if(!mr.deepEqual(arguments[i],this.args[i])){return false;};};return true;},calledWithMatch:function mC(){for(var i=0,l=arguments.length;i<l;i+=1){var mB=this.args[i];var mD=arguments[i];if(!mr.match||!mr.match(mD).test(mB)){return false;};};return true;},calledWithExactly:function mE(){return arguments.length==this.args.length&&this.calledWith.apply(this,arguments);},notCalledWith:function mF(){return !this.calledWith.apply(this,arguments);},notCalledWithMatch:function mG(){return !this.calledWithMatch.apply(this,arguments);},returned:function mH(mI){return mr.deepEqual(mI,this.returnValue);},threw:function mJ(mK){if(typeof mK===bX||!this.exception){return !!this.exception;};return this.exception===mK||this.exception.name===mK;},calledWithNew:function mL(){return this.proxy.prototype&&this.thisValue instanceof this.proxy;},calledBefore:function(mM){return this.callId<mM.callId;},calledAfter:function(mN){return this.callId>mN.callId;},callArg:function(mO){this.args[mO]();},callArgOn:function(mP,mQ){this.args[mP].apply(mQ);},callArgWith:function(mR){this.callArgOnWith.apply(this,[mR,null].concat(mp.call(arguments,1)));},callArgOnWith:function(mT,mU){var mS=mp.call(arguments,2);this.args[mT].apply(mU,mS);},"yield":function(){this.yieldOn.apply(this,[null].concat(mp.call(arguments,0)));},yieldOn:function(mW){var mV=this.args;for(var i=0,l=mV.length;i<l; ++i){if(typeof mV[i]===dg){mV[i].apply(mW,mp.call(arguments,1));return;};};mo(this.proxy,ha,mV);},yieldTo:function(mX){this.yieldToOn.apply(this,[mX,null].concat(mp.call(arguments,1)));},yieldToOn:function(nb,na){var mY=this.args;for(var i=0,l=mY.length;i<l; ++i){if(mY[i]&&typeof mY[i][nb]===dg){mY[i][nb].apply(na,mp.call(arguments,2));return;};};mo(this.proxy,fl+nb+dw,mY);},toString:function(){var nc=this.proxy.toString()+bb;var nd=[];for(var i=0,l=this.args.length;i<l; ++i){nd.push(mr.format(this.args[i]));};nc=nc+nd.join(ef)+di;if(typeof this.returnValue!=bX){nc+=eG+mr.format(this.returnValue);};if(this.exception){nc+=hj+this.exception.name;if(this.exception.message){nc+=bb+this.exception.message+di;};};return nc;}};mt.invokeCallback=mt.yield;function mq(ne,ng,ni,nj,nf,nk){if(typeof nk!==cu){throw new TypeError(fF);};var nh=mr.create(mt);nh.proxy=ne;nh.thisValue=ng;nh.args=ni;nh.returnValue=nj;nh.exception=nf;nh.callId=nk;return nh;};mq.toString=mt.toString;if(mn){module.exports=mq;}else {mr.spyCall=mq;};}(typeof sinon==gV&&sinon||null));(function(sinon){var commonJSModule=typeof module!==eL&&module.exports;var push=Array.prototype.push;var slice=Array.prototype.slice;var callId=0;if(!sinon&&commonJSModule){sinon=require(ce);};if(!sinon){return;};function spy(nn,nl){if(!nl&&typeof nn==dg){return spy.create(nn);};if(!nn&&!nl){return spy.create(function(){});};var nm=nn[nl];return sinon.wrapMethod(nn,nl,spy.create(nm));};function matchingFake(nq,np,no){if(!nq){return;};for(var i=0,l=nq.length;i<l;i++ ){if(nq[i].matches(np,no)){return nq[i];};};};function incrementCallCount(){this.called=true;this.callCount+=1;this.notCalled=false;this.calledOnce=this.callCount==1;this.calledTwice=this.callCount==2;this.calledThrice=this.callCount==3;};function createCallProperties(){this.firstCall=this.getCall(0);this.secondCall=this.getCall(1);this.thirdCall=this.getCall(2);this.lastCall=this.getCall(this.callCount-1);};var vars=dQ;function createProxy(func){var p;if(func.length){eval(cH+vars.substring(0,func.length*2-1)+en);}else {p=function nr(){return p.invoke(func,this,slice.call(arguments));};};return p;};var uuid=0;var spyApi={reset:function(){this.called=false;this.notCalled=true;this.calledOnce=false;this.calledTwice=false;this.calledThrice=false;this.callCount=0;this.firstCall=null;this.secondCall=null;this.thirdCall=null;this.lastCall=null;this.args=[];this.returnValues=[];this.thisValues=[];this.exceptions=[];this.callIds=[];if(this.fakes){for(var i=0;i<this.fakes.length;i++ ){this.fakes[i].reset();};};},create:function ns(nt){var name;if(typeof nt!=dg){nt=function(){};}else {name=sinon.functionName(nt);};var nu=createProxy(nt);sinon.extend(nu,spy);delete nu.create;sinon.extend(nu,nt);nu.reset();nu.prototype=nt.prototype;nu.displayName=name||eJ;nu.toString=sinon.functionToString;nu._create=sinon.spy.create;nu.id=eR+uuid++ ;return nu;},invoke:function ny(nw,nx,nz){var nC=matchingFake(this.fakes,nz);var nv,nB;incrementCallCount.call(this);push.call(this.thisValues,nx);push.call(this.args,nz);push.call(this.callIds,callId++ );try{if(nC){nB=nC.invoke(nw,nx,nz);}else {nB=(this.func||nw).apply(nx,nz);};var nA=this.getCall(this.callCount-1);if(nA.calledWithNew()&&typeof nB!==cK){nB=nx;};}catch(e){nv=e;};push.call(this.exceptions,nv);push.call(this.returnValues,nB);createCallProperties.call(this);if(nv!==undefined){throw nv;};return nB;},getCall:function nD(i){if(i<0||i>=this.callCount){return null;};return sinon.spyCall(this,this.thisValues[i],this.args[i],this.returnValues[i],this.exceptions[i],this.callIds[i]);},getCalls:function(){var nE=[];var i;for(i=0;i<this.callCount;i++ ){nE.push(this.getCall(i));};return nE;},calledBefore:function nF(nG){if(!this.called){return false;};if(!nG.called){return true;};return this.callIds[0]<nG.callIds[nG.callIds.length-1];},calledAfter:function nI(nH){if(!this.called||!nH.called){return false;};return this.callIds[this.callCount-1]>nH.callIds[nH.callCount-1];},withArgs:function(){var nJ=slice.call(arguments);if(this.fakes){var nL=matchingFake(this.fakes,nJ,true);if(nL){return nL;};}else {this.fakes=[];};var nK=this;var nM=this._create();nM.matchingAguments=nJ;nM.parent=this;push.call(this.fakes,nM);nM.withArgs=function(){return nK.withArgs.apply(nK,arguments);};for(var i=0;i<this.args.length;i++ ){if(nM.matches(this.args[i])){incrementCallCount.call(nM);push.call(nM.thisValues,this.thisValues[i]);push.call(nM.args,this.args[i]);push.call(nM.returnValues,this.returnValues[i]);push.call(nM.exceptions,this.exceptions[i]);push.call(nM.callIds,this.callIds[i]);};};createCallProperties.call(nM);return nM;},matches:function(nP,nN){var nO=this.matchingAguments;if(nO.length<=nP.length&&sinon.deepEqual(nO,nP.slice(0,nO.length))){return !nN||nO.length==nP.length;};},printf:function(nT){var nQ=this;var nR=slice.call(arguments,1);var nS;return (nT||fu).replace(/%(.)/g,function(nV,nU){nS=spyApi.formatters[nU];if(typeof nS==dg){return nS.call(null,nQ,nR);}else if(!isNaN(parseInt(nU,10))){return sinon.format(nR[nU-1]);};return u+nU;});}};function delegateToCalls(nY,nW,nX,oa){spyApi[nY]=function(){if(!this.called){if(oa){return oa.apply(this,arguments);};return false;};var oc;var ob=0;for(var i=0,l=this.callCount;i<l;i+=1){oc=this.getCall(i);if(oc[nX||nY].apply(oc,arguments)){ob+=1;if(nW){return true;};};};return ob===this.callCount;};};delegateToCalls(eF,true);delegateToCalls(cC,false,eF);delegateToCalls(bl,true);delegateToCalls(U,true);delegateToCalls(gt,false,bl);delegateToCalls(gv,false,U);delegateToCalls(eb,true);delegateToCalls(bT,false,eb);delegateToCalls(dY,false,hn,function(){return true;});delegateToCalls(gd,false,cc,function(){return true;});delegateToCalls(dK,true);delegateToCalls(fo,false,dK);delegateToCalls(gj,true);delegateToCalls(ea,false,gj);delegateToCalls(eK,true);delegateToCalls(fW,false,eK);delegateToCalls(fS,false,dy,function(){throw new Error(this.toString()+bY);});spyApi.callArgWith=spyApi.callArg;delegateToCalls(gY,false,eB,function(){throw new Error(this.toString()+bY);});spyApi.callArgOnWith=spyApi.callArgOn;delegateToCalls(cG,false,cG,function(){throw new Error(this.toString()+Y);});spyApi.invokeCallback=spyApi.yield;delegateToCalls(cd,false,cd,function(){throw new Error(this.toString()+Y);});delegateToCalls(dx,false,dx,function(od){throw new Error(this.toString()+fl+od+hq);});delegateToCalls(fv,false,fv,function(oe){throw new Error(this.toString()+fl+oe+hq);});spyApi.formatters={"c":function(of){return sinon.timesInWords(of.callCount);},"n":function(og){return og.toString();},"C":function(oh){var oi=[];for(var i=0,l=oh.callCount;i<l; ++i){var oj=bU+oh.getCall(i).toString();if(/\n/.test(oi[i-1])){oj=em+oj;};push.call(oi,oj);};return oi.length>0?em+oi.join(em):fu;},"t":function(ok){var ol=[];for(var i=0,l=ok.callCount;i<l; ++i){push.call(ol,sinon.format(ok.thisValues[i]));};return ol.join(ef);},"*":function(om,oo){var op=[];for(var i=0,l=oo.length;i<l; ++i){push.call(op,sinon.format(oo[i]));};return op.join(ef);}};sinon.extend(spy,spyApi);spy.spyCall=sinon.spyCall;if(commonJSModule){module.exports=spy;}else {sinon.spy=spy;};}(typeof sinon==gV&&sinon||null));(function(oy){var oq=typeof module!==eL&&module.exports;if(!oy&&oq){oy=require(ce);};if(!oy){return;};var ot=Array.prototype.slice;var ou=Array.prototype.join;var ow;var os=(function(){if(typeof process===gV&&typeof process.nextTick===dg){return process.nextTick;}else if(typeof setImmediate===dg){return setImmediate;}else {return function(oC){setTimeout(oC,0);};};})();function oA(oE,oD){if(typeof oE==gf){this.exception=new Error(oD||fu);this.exception.name=oE;}else if(!oE){this.exception=new Error(eT);}else {this.exception=oE;};return this;};function oz(oH,oF){var oI=oH.callArgAt;if(oI<0){var oG=oH.callArgProp;for(var i=0,l=oF.length;i<l; ++i){if(!oG&&typeof oF[i]==dg){return oF[i];};if(oG&&oF[i]&&typeof oF[i][oG]==dg){return oF[i][oG];};};return null;};return oF[oI];};function ox(oL,oM,oK){if(oL.callArgAt<0){var oJ;if(oL.callArgProp){oJ=oy.functionName(oL.stub)+eN+oL.callArgProp+R;}else {oJ=oy.functionName(oL.stub)+hr;};if(oK.length>0){oJ+=bM+ou.call(oK,ef)+fw;};return oJ;};return eE+oL.callArgAt+fY+oM;};function ov(oO,oN){if(typeof oO.callArgAt==cu){var oP=oz(oO,oN);if(typeof oP!=dg){throw new TypeError(ox(oO,oP,oN));};if(oO.callbackAsync){os(function(){oP.apply(oO.callbackContext,oO.callbackArguments);});}else {oP.apply(oO.callbackContext,oO.callbackArguments);};};};ow={create:function(oQ){var oR=oy.extend({},oy.behavior);delete oR.create;oR.stub=oQ;return oR;},isPresent:function(){return (typeof this.callArgAt==ej||this.exception||typeof this.returnArgAt==ej||this.returnThis||this.returnValueDefined);},invoke:function(oT,oS){ov(this,oS);if(this.exception){throw this.exception;}else if(typeof this.returnArgAt==ej){return oS[this.returnArgAt];}else if(this.returnThis){return oT;};return this.returnValue;},onCall:function(oU){return this.stub.onCall(oU);},onFirstCall:function(){return this.stub.onFirstCall();},onSecondCall:function(){return this.stub.onSecondCall();},onThirdCall:function(){return this.stub.onThirdCall();},withArgs:function(){throw new Error(gc+gu);},callsArg:function oV(oW){if(typeof oW!=cu){throw new TypeError(gC);};this.callArgAt=oW;this.callbackArguments=[];this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgOn:function oX(oY,pa){if(typeof oY!=cu){throw new TypeError(gC);};if(typeof pa!=gV){throw new TypeError(cJ);};this.callArgAt=oY;this.callbackArguments=[];this.callbackContext=pa;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgWith:function pb(pc){if(typeof pc!=cu){throw new TypeError(gC);};this.callArgAt=pc;this.callbackArguments=ot.call(arguments,1);this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgOnWith:function pd(pf,pe){if(typeof pf!=cu){throw new TypeError(gC);};if(typeof pe!=gV){throw new TypeError(cJ);};this.callArgAt=pf;this.callbackArguments=ot.call(arguments,2);this.callbackContext=pe;this.callArgProp=undefined;this.callbackAsync=false;return this;},yields:function(){this.callArgAt=-1;this.callbackArguments=ot.call(arguments,0);this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},yieldsOn:function(pg){if(typeof pg!=gV){throw new TypeError(cJ);};this.callArgAt=-1;this.callbackArguments=ot.call(arguments,1);this.callbackContext=pg;this.callArgProp=undefined;this.callbackAsync=false;return this;},yieldsTo:function(ph){this.callArgAt=-1;this.callbackArguments=ot.call(arguments,1);this.callbackContext=undefined;this.callArgProp=ph;this.callbackAsync=false;return this;},yieldsToOn:function(pj,pi){if(typeof pi!=gV){throw new TypeError(cJ);};this.callArgAt=-1;this.callbackArguments=ot.call(arguments,2);this.callbackContext=pi;this.callArgProp=pj;this.callbackAsync=false;return this;},"throws":oA,throwsException:oA,returns:function pk(pl){this.returnValue=pl;this.returnValueDefined=true;return this;},returnsArg:function pm(pn){if(typeof pn!=cu){throw new TypeError(gC);};this.returnArgAt=pn;return this;},returnsThis:function po(){this.returnThis=true;return this;}};for(var oB in ow){if(ow.hasOwnProperty(oB)&&oB.match(/^(callsArg|yields)/)&&!oB.match(/Async/)){ow[oB+L]=(function(pp){return function(){var pq=this[pp].apply(this,arguments);this.callbackAsync=true;return pq;};})(oB);};};if(oq){module.exports=ow;}else {oy.behavior=ow;};}(typeof sinon==gV&&sinon||null));(function(pw){var pr=typeof module!==eL&&module.exports;if(!pw&&pr){pw=require(ce);};if(!pw){return;};function pv(pz,py,pA){if(!!pA&&typeof pA!=dg){throw new TypeError(gL);};var pB;if(pA){pB=pw.spy&&pw.spy.create?pw.spy.create(pA):pA;}else {pB=pv.create();};if(!pz&&typeof py===bX){return pw.stub.create();};if(typeof py===bX&&typeof pz==gV){for(var pC in pz){if(typeof pz[pC]===dg){pv(pz,pC);};};return pz;};return pw.wrapMethod(pz,py,pB);};function pu(pD){return pD.defaultBehavior||px(pD)||pw.behavior.create(pD);};function px(pE){return (pE.parent&&ps(pE.parent));};function ps(pF){var pG=pF.behaviors[pF.callCount-1];return pG&&pG.isPresent()?pG:pu(pF);};var pt=0;pw.extend(pv,(function(){var pI={create:function pK(){var pJ=function(){return ps(pJ).invoke(this,arguments);};pJ.id=z+pt++ ;var pL=pJ;pJ=pw.spy.create(pJ);pJ.func=pL;pw.extend(pJ,pv);pJ._create=pw.stub.create;pJ.displayName=cS;pJ.toString=pw.functionToString;pJ.defaultBehavior=null;pJ.behaviors=[];return pJ;},resetBehavior:function(){var i;this.defaultBehavior=null;this.behaviors=[];delete this.returnValue;delete this.returnArgAt;this.returnThis=false;if(this.fakes){for(i=0;i<this.fakes.length;i++ ){this.fakes[i].resetBehavior();};};},onCall:function(pM){if(!this.behaviors[pM]){this.behaviors[pM]=pw.behavior.create(this);};return this.behaviors[pM];},onFirstCall:function(){return this.onCall(0);},onSecondCall:function(){return this.onCall(1);},onThirdCall:function(){return this.onCall(2);}};for(var pH in pw.behavior){if(pw.behavior.hasOwnProperty(pH)&&!pI.hasOwnProperty(pH)&&pH!=x&&pH!=bW&&pH!=fi){pI[pH]=(function(pN){return function(){this.defaultBehavior=this.defaultBehavior||pw.behavior.create(this);this.defaultBehavior[pN].apply(this.defaultBehavior,arguments);return this;};}(pH));};};return pI;}()));if(pr){module.exports=pv;}else {pw.stub=pv;};}(typeof sinon==gV&&sinon||null));(function(pQ){var pO=typeof module!==eL&&module.exports;var pS=[].push;var pT;if(!pQ&&pO){pQ=require(ce);};if(!pQ){return;};pT=pQ.match;if(!pT&&pO){pT=require(fL);};function pR(pU){if(!pU){return pQ.expectation.create(fX);};return pR.create(pU);};pQ.mock=pR;pQ.extend(pR,(function(){function pV(pX,pW){if(!pX){return;};for(var i=0,l=pX.length;i<l;i+=1){pW(pX[i]);};};return {create:function pY(qa){if(!qa){throw new TypeError(bi);};var qb=pQ.extend({},pR);qb.object=qa;delete qb.create;return qb;},expects:function qf(qc){if(!qc){throw new TypeError(dM);};if(!this.expectations){this.expectations={};this.proxies=[];};if(!this.expectations[qc]){this.expectations[qc]=[];var qe=this;pQ.wrapMethod(this.object,qc,function(){return qe.invokeMethod(qc,this,arguments);});pS.call(this.proxies,qc);};var qd=pQ.expectation.create(qc);pS.call(this.expectations[qc],qd);return qd;},restore:function qg(){var qh=this.object;pV(this.proxies,function(qi){if(typeof qh[qi].restore==dg){qh[qi].restore();};});},verify:function qj(){var ql=this.expectations||{};var qk=[],qm=[];pV(this.proxies,function(qn){pV(ql[qn],function(qo){if(!qo.met()){pS.call(qk,qo.toString());}else {pS.call(qm,qo.toString());};});});this.restore();if(qk.length>0){pQ.expectation.fail(qk.concat(qm).join(em));}else {pQ.expectation.pass(qk.concat(qm).join(em));};return true;},invokeMethod:function qw(qy,qq,qr){var qu=this.expectations&&this.expectations[qy];var length=qu&&qu.length||0,i;for(i=0;i<length;i+=1){if(!qu[i].met()&&qu[i].allowsCall(qq,qr)){return qu[i].apply(qq,qr);};};var qt=[],qp,qv=0;for(i=0;i<length;i+=1){if(qu[i].allowsCall(qq,qr)){qp=qp||qu[i];}else {qv+=1;};pS.call(qt,bU+qu[i].toString());};if(qv===0){return qp.apply(qq,qr);};qt.unshift(du+pQ.spyCall.toString.call({proxy:qy,args:qr}));pQ.expectation.fail(qt.join(em));}};}()));var pP=pQ.timesInWords;pQ.expectation=(function(){var qB=Array.prototype.slice;var qz=pQ.spy.invoke;function qF(qG){if(qG==0){return ht;}else {return dG+pP(qG);};};function qC(qI){var qK=qI.minCalls;var qH=qI.maxCalls;if(typeof qK==cu&&typeof qH==cu){var qJ=pP(qK);if(qK!=qH){qJ=fg+qJ+bK+pP(qH);};return qJ;};if(typeof qK==cu){return fg+pP(qK);};return s+pP(qH);};function qA(qL){var qM=typeof qL.minCalls==cu;return !qM||qL.callCount>=qL.minCalls;};function qD(qN){if(typeof qN.maxCalls!=cu){return false;};return qN.callCount==qN.maxCalls;};function qE(qO,qP){if(pT&&pT.isMatcher(qO)){return qO.test(qP);}else {return true;};};return {minCalls:1,maxCalls:1,create:function qQ(qR){var qS=pQ.extend(pQ.stub.create(),pQ.expectation);delete qS.create;qS.method=qR;return qS;},invoke:function qV(qU,qW,qT){this.verifyCallAllowed(qW,qT);return qz.apply(this,arguments);},atLeast:function qY(qX){if(typeof qX!=cu){throw new TypeError(dD+qX+cP);};if(!this.limitsSet){this.maxCalls=null;this.limitsSet=true;};this.minCalls=qX;return this;},atMost:function ra(rb){if(typeof rb!=cu){throw new TypeError(dD+rb+cP);};if(!this.limitsSet){this.minCalls=null;this.limitsSet=true;};this.maxCalls=rb;return this;},never:function rc(){return this.exactly(0);},once:function rd(){return this.exactly(1);},twice:function re(){return this.exactly(2);},thrice:function rf(){return this.exactly(3);},exactly:function rg(rh){if(typeof rh!=cu){throw new TypeError(dD+rh+fD);};this.atLeast(rh);return this.atMost(rh);},met:function ri(){return !this.failed&&qA(this);},verifyCallAllowed:function rk(rl,rj){if(qD(this)){this.failed=true;pQ.expectation.fail(this.method+bR+pP(this.maxCalls));};if(et in this&&this.expectedThis!==rl){pQ.expectation.fail(this.method+gn+rl+ca+this.expectedThis);};if(!(K in this)){return;};if(!rj){pQ.expectation.fail(this.method+bI+pQ.format(this.expectedArguments));};if(rj.length<this.expectedArguments.length){pQ.expectation.fail(this.method+eq+pQ.format(rj)+ee+pQ.format(this.expectedArguments));};if(this.expectsExactArgCount&&rj.length!=this.expectedArguments.length){pQ.expectation.fail(this.method+dq+pQ.format(rj)+ee+pQ.format(this.expectedArguments));};for(var i=0,l=this.expectedArguments.length;i<l;i+=1){if(!qE(this.expectedArguments[i],rj[i])){pQ.expectation.fail(this.method+fV+pQ.format(rj)+dz+this.expectedArguments.toString());};if(!pQ.deepEqual(this.expectedArguments[i],rj[i])){pQ.expectation.fail(this.method+fV+pQ.format(rj)+cq+pQ.format(this.expectedArguments));};};},allowsCall:function rn(ro,rm){if(this.met()&&qD(this)){return false;};if(et in this&&this.expectedThis!==ro){return false;};if(!(K in this)){return true;};rm=rm||[];if(rm.length<this.expectedArguments.length){return false;};if(this.expectsExactArgCount&&rm.length!=this.expectedArguments.length){return false;};for(var i=0,l=this.expectedArguments.length;i<l;i+=1){if(!qE(this.expectedArguments[i],rm[i])){return false;};if(!pQ.deepEqual(this.expectedArguments[i],rm[i])){return false;};};return true;},withArgs:function rp(){this.expectedArguments=qB.call(arguments);return this;},withExactArgs:function rq(){this.withArgs.apply(this,arguments);this.expectsExactArgCount=true;return this;},on:function rr(rs){this.expectedThis=rs;return this;},toString:function(){var rv=(this.expectedArguments||[]).slice();if(!this.expectsExactArgCount){pS.call(rv,gl);};var rt=pQ.spyCall.toString.call({proxy:this.method||fk,args:rv});var rw=rt.replace(bJ,cT)+gw+qC(this);if(this.met()){return y+rw;};return dN+rw+gM+qF(this.callCount)+di;},verify:function rx(){if(!this.met()){pQ.expectation.fail(this.toString());}else {pQ.expectation.pass(this.toString());};return true;},pass:function(ry){pQ.assert.pass(ry);},fail:function(rz){var rA=new Error(rz);rA.name=cD;throw rA;}};}());if(pO){module.exports=pR;}else {pQ.mock=pR;};}(typeof sinon==gV&&sinon||null));(function(rF){var rB=typeof module!==eL&&module.exports;var rI=[].push;var rG=Object.prototype.hasOwnProperty;if(!rF&&rB){rF=require(ce);};if(!rF){return;};function rD(rJ){if(!rJ.fakes){rJ.fakes=[];};return rJ.fakes;};function rH(rK,rM){var rL=rD(rK);for(var i=0,l=rL.length;i<l;i+=1){if(typeof rL[i][rM]==dg){rL[i][rM]();};};};function rC(rN){var rO=rD(rN);var i=0;while(i<rO.length){rO.splice(i,1);};};var rE={verify:function rP(){rH(this,de);},restore:function rQ(){rH(this,dU);rC(this);},verifyAndRestore:function rS(){var rR;try{this.verify();}catch(e){rR=e;};this.restore();if(rR){throw rR;};},add:function rT(rU){rI.call(rD(this),rU);return rU;},spy:function rV(){return this.add(rF.spy.apply(rF,arguments));},stub:function sb(rX,sc,rY){if(sc){var sd=rX[sc];if(typeof sd!=dg){if(!rG.call(rX,sc)){throw new TypeError(gW+sc);};rX[sc]=rY;return this.add({restore:function(){rX[sc]=sd;}});};};if(!sc&&!!rX&&typeof rX==gV){var rW=rF.stub.apply(rF,arguments);for(var sa in rW){if(typeof rW[sa]===dg){this.add(rW[sa]);};};return rW;};return this.add(rF.stub.apply(rF,arguments));},mock:function se(){return this.add(rF.mock.apply(rF,arguments));},inject:function sg(sf){var sh=this;sf.spy=function(){return sh.spy.apply(sh,arguments);};sf.stub=function(){return sh.stub.apply(sh,arguments);};sf.mock=function(){return sh.mock.apply(sh,arguments);};return sf;}};if(rB){module.exports=rE;}else {rF.collection=rE;};}(typeof sinon==gV&&sinon||null));if(typeof sinon==bX){var sinon={};};(function(global){var timeoutResult=setTimeout(function(){},0);var addTimerReturnsObject=typeof timeoutResult===cK;clearTimeout(timeoutResult);var id=1;function addTimer(sk,sl){if(sk.length===0){throw new Error(gg);};if(typeof sk[0]===bX){throw new Error(bf);};var sj=id++ ;var si=sk[1]||0;if(!this.timeouts){this.timeouts={};};this.timeouts[sj]={id:sj,func:sk[0],callAt:this.now+si,invokeArgs:Array.prototype.slice.call(sk,2)};if(sl===true){this.timeouts[sj].interval=si;};if(addTimerReturnsObject){return {id:sj,ref:function(){},unref:function(){}};}else {return sj;};};function parseTime(sm){if(!sm){return 0;};var sn=sm.split(ba);var l=sn.length,i=l;var so=0,sp;if(l>3||!/^(\d\d:){0,2}\d\d?$/.test(sm)){throw new Error(bv);};while(i-- ){sp=parseInt(sn[i],10);if(sp>=60){throw new Error(dk+sm);};so+=sp*Math.pow(60,(l-i-1));};return so*1000;};function createObject(sq){var sr;if(Object.create){sr=Object.create(sq);}else {var F=function(){};F.prototype=sq;sr=new F();};sr.Date.clock=sr;return sr;};sinon.clock={now:0,create:function ss(st){var su=createObject(this);if(typeof st==cu){su.now=st;};if(!!st&&typeof st==gV){throw new TypeError(fm);};return su;},setTimeout:function setTimeout(sv,sw){return addTimer.call(this,arguments,false);},clearTimeout:function clearTimeout(sx){if(!this.timeouts){this.timeouts=[];};if(sx in this.timeouts){delete this.timeouts[sx];};},setInterval:function setInterval(sy,sz){return addTimer.call(this,arguments,true);},clearInterval:function clearInterval(sA){this.clearTimeout(sA);},setImmediate:function sD(sB){var sC=Array.prototype.slice.call(arguments,1);return addTimer.call(this,[sB,0].concat(sC),false);},clearImmediate:function sE(sF){this.clearTimeout(sF);},tick:function sL(sJ){sJ=typeof sJ==cu?sJ:parseTime(sJ);var sK=this.now,sH=this.now+sJ,sM=this.now;var sG=this.firstTimerInRange(sK,sH);var sI;while(sG&&sK<=sH){if(this.timeouts[sG.id]){sK=this.now=sG.callAt;try{this.callTimer(sG);}catch(e){sI=sI||e;};};sG=this.firstTimerInRange(sM,sH);sM=sK;};this.now=sH;if(sI){throw sI;};return this.now;},firstTimerInRange:function(sN,sO){var sP,sR=null,sQ;for(var sS in this.timeouts){if(this.timeouts.hasOwnProperty(sS)){if(this.timeouts[sS].callAt<sN||this.timeouts[sS].callAt>sO){continue;};if(sR===null||this.timeouts[sS].callAt<sR){sQ=this.timeouts[sS];sR=this.timeouts[sS].callAt;sP={func:this.timeouts[sS].func,callAt:this.timeouts[sS].callAt,interval:this.timeouts[sS].interval,id:this.timeouts[sS].id,invokeArgs:this.timeouts[sS].invokeArgs};};};};return sP||null;},callTimer:function(timer){if(typeof timer.interval==cu){this.timeouts[timer.id].callAt+=timer.interval;}else {delete this.timeouts[timer.id];};try{if(typeof timer.func==dg){timer.func.apply(null,timer.invokeArgs);}else {eval(timer.func);};}catch(e){var exception=e;};if(!this.timeouts[timer.id]){if(exception){throw exception;};return;};if(exception){throw exception;};},reset:function sT(){this.timeouts={};},Date:(function(){var sU=Date;function sV(tb,sX,tc,sW,td,sY,ta){switch(arguments.length){case 0:return new sU(sV.clock.now);case 1:return new sU(tb);case 2:return new sU(tb,sX);case 3:return new sU(tb,sX,tc);case 4:return new sU(tb,sX,tc,sW);case 5:return new sU(tb,sX,tc,sW,td);case 6:return new sU(tb,sX,tc,sW,td,sY);default:return new sU(tb,sX,tc,sW,td,sY,ta);};};return mirrorDateProperties(sV,sU);}())};function mirrorDateProperties(tf,te){if(te.now){tf.now=function th(){return tf.clock.now;};}else {delete tf.now;};if(te.toSource){tf.toSource=function ti(){return te.toSource();};}else {delete tf.toSource;};tf.toString=function tj(){return te.toString();};tf.prototype=te.prototype;tf.parse=te.parse;tf.UTC=te.UTC;tf.prototype.toUTCString=te.prototype.toUTCString;for(var tg in te){if(te.hasOwnProperty(tg)){tf[tg]=te[tg];};};return tf;};var methods=[J,dd,ei,dP,v];if(typeof global.setImmediate!==bX){methods.push(gJ);};if(typeof global.clearImmediate!==bX){methods.push(ft);};function restore(){var tk;for(var i=0,l=this.methods.length;i<l;i++ ){tk=this.methods[i];if(global[tk].hadOwnProperty){global[tk]=this[bw+tk];}else {try{delete global[tk];}catch(e){};};};this.methods=[];};function stubGlobal(tn,tm){tm[tn].hadOwnProperty=Object.prototype.hasOwnProperty.call(global,tn);tm[bw+tn]=global[tn];if(tn==J){var tl=mirrorDateProperties(tm[tn],global[tn]);global[tn]=tl;}else {global[tn]=function(){return tm[tn].apply(tm,arguments);};for(var tp in tm[tn]){if(tm[tn].hasOwnProperty(tp)){global[tn][tp]=tm[tn][tp];};};};global[tn].clock=tm;};sinon.useFakeTimers=function tr(tq){var ts=sinon.clock.create(tq);ts.restore=restore;ts.methods=Array.prototype.slice.call(arguments,typeof tq==cu?1:0);if(ts.methods.length===0){ts.methods=methods;};for(var i=0,l=ts.methods.length;i<l;i++ ){stubGlobal(ts.methods[i],ts);};return ts;};}(typeof global!=bX&&typeof global!==dg?global:this));sinon.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:(typeof setImmediate!==bX?setImmediate:undefined),clearImmediate:(typeof clearImmediate!==bX?clearImmediate:undefined),setInterval:setInterval,clearInterval:clearInterval,Date:Date};if(typeof module!==eL&&module.exports){module.exports=sinon;};if(typeof sinon==bX){this.sinon={};};(function(){var tt=[].push;sinon.Event=function Event(tw,tv,tu,tx){this.initEvent(tw,tv,tu,tx);};sinon.Event.prototype={initEvent:function(tA,tz,ty,tB){this.type=tA;this.bubbles=tz;this.cancelable=ty;this.target=tB;},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=true;}};sinon.ProgressEvent=function tE(tC,tF,tD){this.initEvent(tC,false,false,tD);this.loaded=tF.loaded||null;this.total=tF.total||null;};sinon.ProgressEvent.prototype=new sinon.Event();sinon.ProgressEvent.prototype.constructor=sinon.ProgressEvent;sinon.CustomEvent=function CustomEvent(tH,tG,tI){this.initEvent(tH,false,false,tI);this.detail=tG.detail||null;};sinon.CustomEvent.prototype=new sinon.Event();sinon.CustomEvent.prototype.constructor=sinon.CustomEvent;sinon.EventTarget={addEventListener:function addEventListener(event,tJ){this.eventListeners=this.eventListeners||{};this.eventListeners[event]=this.eventListeners[event]||[];tt.call(this.eventListeners[event],tJ);},removeEventListener:function removeEventListener(event,tK){var tL=this.eventListeners&&this.eventListeners[event]||[];for(var i=0,l=tL.length;i<l; ++i){if(tL[i]==tK){return tL.splice(i,1);};};},dispatchEvent:function dispatchEvent(event){var tN=event.type;var tM=this.eventListeners&&this.eventListeners[tN]||[];for(var i=0;i<tM.length;i++ ){if(typeof tM[i]==dg){tM[i].call(this,event);}else {tM[i].handleEvent(event);};};return !!event.defaultPrevented;}};}());(function(tT){if(typeof sinon===bX){tT.sinon={};};var ud=typeof ProgressEvent!==bX;var tQ=typeof CustomEvent!==bX;sinon.xhr={XMLHttpRequest:tT.XMLHttpRequest};var tR=sinon.xhr;tR.GlobalXMLHttpRequest=tT.XMLHttpRequest;tR.GlobalActiveXObject=tT.ActiveXObject;tR.supportsActiveX=typeof tR.GlobalActiveXObject!=bX;tR.supportsXHR=typeof tR.GlobalXMLHttpRequest!=bX;tR.workingXHR=tR.supportsXHR?tR.GlobalXMLHttpRequest:tR.supportsActiveX?function(){return new tR.GlobalActiveXObject(da);}:false;tR.supportsCORS=q in (new sinon.xhr.GlobalXMLHttpRequest());var tO={"Accept-Charset":true,"Accept-Encoding":true,"Connection":true,"Content-Length":true,"Cookie":true,"Cookie2":true,"Content-Transfer-Encoding":true,"Date":true,"Expect":true,"Host":true,"Keep-Alive":true,"Referer":true,"TE":true,"Trailer":true,"Transfer-Encoding":true,"Upgrade":true,"User-Agent":true,"Via":true};function tW(){this.readyState=tW.UNSENT;this.requestHeaders={};this.requestBody=null;this.status=0;this.statusText=fu;this.upload=new tX();if(sinon.xhr.supportsCORS){this.withCredentials=false;};var uf=this;var ug=[r,fO,gG,bg];function addEventListener(uh){uf.addEventListener(uh,function(event){var ui=uf[fd+uh];if(ui&&typeof ui==dg){ui.call(this,event);};});};for(var i=ug.length-1;i>=0;i-- ){addEventListener(ug[i]);};if(typeof tW.onCreate==dg){tW.onCreate(this);};};function tX(){this.eventListeners={"progress":[],"load":[],"abort":[],"error":[]};};tX.prototype.addEventListener=function(event,uj){this.eventListeners[event].push(uj);};tX.prototype.removeEventListener=function(event,uk){var ul=this.eventListeners[event]||[];for(var i=0,l=ul.length;i<l; ++i){if(ul[i]==uk){return ul.splice(i,1);};};};tX.prototype.dispatchEvent=function(event){var un=this.eventListeners[event.type]||[];for(var i=0,um;(um=un[i])!=null;i++ ){um(event);};};function tY(uo){if(uo.readyState!==tW.OPENED){throw new Error(cx);};if(uo.sendFlag){throw new Error(cx);};};function uc(uq,up){if(!uq)return;for(var i=0,l=uq.length;i<l;i+=1){up(uq[i]);};};function tU(us,ur){for(var ut=0;ut<us.length;ut++ ){if(ur(us[ut])===true)return true;};return false;};var ub=function(uv,uw,uu){switch(uu.length){case 0:return uv[uw]();case 1:return uv[uw](uu[0]);case 2:return uv[uw](uu[0],uu[1]);case 3:return uv[uw](uu[0],uu[1],uu[2]);case 4:return uv[uw](uu[0],uu[1],uu[2],uu[3]);case 5:return uv[uw](uu[0],uu[1],uu[2],uu[3],uu[4]);};};tW.filters=[];tW.addFilter=function(ux){this.filters.push(ux);};var tP=/MSIE 6/;tW.defake=function(uC,uB){var uA=new sinon.xhr.workingXHR();uc([cm,eH,cn,gG,fe,gQ,df,bj,gi],function(uD){uC[uD]=function(){return ub(uA,uD,arguments);};});var uz=function(uE){uc(uE,function(uF){try{uC[uF]=uA[uF];}catch(e){if(!tP.test(navigator.userAgent))throw e;};});};var uy=function(){uC.readyState=uA.readyState;if(uA.readyState>=tW.HEADERS_RECEIVED){uz([fb,gE]);};if(uA.readyState>=tW.LOADING){uz([gA]);};if(uA.readyState===tW.DONE){uz([ch]);};if(uC.onreadystatechange)uC.onreadystatechange.call(uC,{target:uC});};if(uA.addEventListener){for(var event in uC.eventListeners){if(uC.eventListeners.hasOwnProperty(event)){uc(uC.eventListeners[event],function(uG){uA.addEventListener(event,uG);});};};uA.addEventListener(be,uy);}else {uA.onreadystatechange=uy;};ub(uA,cm,uB);};tW.useFilters=false;function tV(uH){if(uH.readyState!=tW.OPENED){throw new Error(A+uH.readyState);};};function ue(uI){if(uI.readyState==tW.DONE){throw new Error(hk);};};function ua(uJ){if(uJ.async&&uJ.readyState!=tW.HEADERS_RECEIVED){throw new Error(gK);};};function tS(uK){if(typeof uK!=gf){var uL=new Error(hi+uK+cR);uL.name=ex;throw uL;};};sinon.extend(tW.prototype,sinon.EventTarget,{async:true,open:function open(uS,uN,uQ,uM,uR){this.method=uS;this.url=uN;this.async=typeof uQ==dS?uQ:true;this.username=uM;this.password=uR;this.responseText=null;this.responseXML=null;this.requestHeaders={};this.sendFlag=false;if(sinon.FakeXMLHttpRequest.useFilters===true){var uO=arguments;var uP=tU(tW.filters,function(uT){return uT.apply(this,uO);});if(uP){return sinon.FakeXMLHttpRequest.defake(this,arguments);};};this.readyStateChange(tW.OPENED);},readyStateChange:function uU(uV){this.readyState=uV;if(typeof this.onreadystatechange==dg){try{this.onreadystatechange();}catch(e){sinon.logError(bE,e);};};this.dispatchEvent(new sinon.Event(be));switch(this.readyState){case tW.DONE:this.dispatchEvent(new sinon.Event(fO,false,false,this));this.dispatchEvent(new sinon.Event(bg,false,false,this));this.upload.dispatchEvent(new sinon.Event(fO,false,false,this));if(ud){this.upload.dispatchEvent(new sinon.ProgressEvent(eY,{loaded:100,total:100}));};break;};},setRequestHeader:function uX(uW,uY){tY(this);if(tO[uW]||/^(Sec-|Proxy-)/.test(uW)){throw new Error(ga+uW+ff);};if(this.requestHeaders[uW]){this.requestHeaders[uW]+=hu+uY;}else {this.requestHeaders[uW]=uY;};},setResponseHeaders:function vb(va){tV(this);this.responseHeaders={};for(var vc in va){if(va.hasOwnProperty(vc)){this.responseHeaders[vc]=va[vc];};};if(this.async){this.readyStateChange(tW.HEADERS_RECEIVED);}else {this.readyState=tW.HEADERS_RECEIVED;};},send:function ve(vd){tY(this);if(!/^(get|head)$/i.test(this.method)){if(this.requestHeaders[bV]){var vf=this.requestHeaders[bV].split(bS);this.requestHeaders[bV]=vf[0]+cU;}else {this.requestHeaders[bV]=dm;};this.requestBody=vd;};this.errorFlag=false;this.sendFlag=this.async;this.readyStateChange(tW.OPENED);if(typeof this.onSend==dg){this.onSend(this);};this.dispatchEvent(new sinon.Event(r,false,false,this));},abort:function vg(){this.aborted=true;this.responseText=null;this.errorFlag=true;this.requestHeaders={};if(this.readyState>sinon.FakeXMLHttpRequest.UNSENT&&this.sendFlag){this.readyStateChange(sinon.FakeXMLHttpRequest.DONE);this.sendFlag=false;};this.readyState=sinon.FakeXMLHttpRequest.UNSENT;this.dispatchEvent(new sinon.Event(gG,false,false,this));this.upload.dispatchEvent(new sinon.Event(gG,false,false,this));if(typeof this.onerror===dg){this.onerror();};},getResponseHeader:function vi(vh){if(this.readyState<tW.HEADERS_RECEIVED){return null;};if(/^Set-Cookie2?$/i.test(vh)){return null;};vh=vh.toLowerCase();for(var h in this.responseHeaders){if(h.toLowerCase()==vh){return this.responseHeaders[h];};};return null;},getAllResponseHeaders:function vk(){if(this.readyState<tW.HEADERS_RECEIVED){return fu;};var vj=fu;for(var vl in this.responseHeaders){if(this.responseHeaders.hasOwnProperty(vl)&&!/^Set-Cookie2?$/i.test(vl)){vj+=vl+gI+this.responseHeaders[vl]+t;};};return vj;},setResponseBody:function vo(vm){ue(this);ua(this);tS(vm);var vq=this.chunkSize||10;var vn=0;this.responseText=fu;do {if(this.async){this.readyStateChange(tW.LOADING);};this.responseText+=vm.substring(vn,vn+vq);vn+=vq;}while(vn<vm.length);var vp=this.getResponseHeader(bV);if(this.responseText&&(!vp||/(text\/xml)|(application\/xml)|(\+xml)/.test(vp))){try{this.responseXML=tW.parseXML(this.responseText);}catch(e){};};if(this.async){this.readyStateChange(tW.DONE);}else {this.readyState=tW.DONE;};},respond:function vr(status,vt,vs){this.status=typeof status==cu?status:200;this.statusText=tW.statusCodes[this.status];this.setResponseHeaders(vt||{});this.setResponseBody(vs||fu);},uploadProgress:function vu(vv){if(ud){this.upload.dispatchEvent(new sinon.ProgressEvent(br,vv));};},uploadError:function vw(vx){if(tQ){this.upload.dispatchEvent(new sinon.CustomEvent(bo,{"detail":vx}));};}});sinon.extend(tW,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4});tW.parseXML=function vA(vy){var vB;if(typeof DOMParser!=bX){var vz=new DOMParser();vB=vz.parseFromString(vy,eD);}else {vB=new ActiveXObject(hp);vB.async=hm;vB.loadXML(vy);};return vB;};tW.statusCodes={'100':dt,'101':dO,'200':ep,'201':gB,'202':gU,'203':fG,'204':gx,'205':fC,'206':gT,'300':dp,'301':dn,'302':bB,'303':gS,'304':dB,'305':bt,'307':bO,'400':ck,'401':cl,'402':S,'403':bx,'404':bP,'405':bH,'406':w,'407':dW,'408':bA,'409':fU,'410':ci,'411':fJ,'412':bq,'413':cv,'414':gr,'415':cF,'416':I,'417':cg,'422':dH,'500':hd,'501':fH,'502':fr,'503':fP,'504':eI,'505':hs};sinon.useFakeXMLHttpRequest=function(){sinon.FakeXMLHttpRequest.restore=function vC(vD){if(tR.supportsXHR){tT.XMLHttpRequest=tR.GlobalXMLHttpRequest;};if(tR.supportsActiveX){tT.ActiveXObject=tR.GlobalActiveXObject;};delete sinon.FakeXMLHttpRequest.restore;if(vD!==true){delete sinon.FakeXMLHttpRequest.onCreate;};};if(tR.supportsXHR){tT.XMLHttpRequest=sinon.FakeXMLHttpRequest;};if(tR.supportsActiveX){tT.ActiveXObject=function ActiveXObject(vE){if(vE==hl||/^Msxml2\.XMLHTTP/i.test(vE)){return new sinon.FakeXMLHttpRequest();};return new tR.GlobalActiveXObject(vE);};};return sinon.FakeXMLHttpRequest;};sinon.FakeXMLHttpRequest=tW;})(typeof global===gV?global:this);if(typeof module!==eL&&module.exports){module.exports=sinon;};if(typeof sinon==bX){var sinon={};};sinon.fakeServer=(function(){var vK=[].push;function F(){};function vI(vN){F.prototype=vN;return new F();};function vH(vO){var vP=vO;if(Object.prototype.toString.call(vO)!=dT){vP=[200,{},vO];};if(typeof vP[2]!=gf){throw new TypeError(fK+typeof vP[2]);};return vP;};var vL=typeof window!==bX?window.location:{};var vF=new RegExp(gy+vL.protocol+fQ+vL.host);function vJ(vU,vT,vW){var vS=vU.method;var vQ=!vS||vS.toLowerCase()==vT.toLowerCase();var vR=vU.url;var vV=!vR||vR==vW||(typeof vR.test==dg&&vR.test(vW));return vQ&&vV;};function vM(wc,wa){var wb=wa.url;if(!/^https?:\/\//.test(wb)||vF.test(wb)){wb=wb.replace(vF,fu);};if(vJ(wc,this.getHTTPMethod(wa),wb)){if(typeof wc.response==dg){var vX=wc.url;var vY=[wa].concat(vX&&typeof vX.exec==dg?vX.exec(wb).slice(1):[]);return wc.response.apply(wc,vY);};return true;};return false;};function vG(we,wd){var wf;wf=eX+sinon.format(wd)+dh;wf+=fB+sinon.format(we)+dh;sinon.log(wf);};return {create:function(){var wg=vI(this);this.xhr=sinon.useFakeXMLHttpRequest();wg.requests=[];this.xhr.onCreate=function(wh){wg.addRequest(wh);};return wg;},addRequest:function wj(wi){var wk=this;vK.call(this.requests,wi);wi.onSend=function(){wk.handleRequest(this);if(wk.autoRespond&&!wk.responding){setTimeout(function(){wk.responding=false;wk.respond();},wk.autoRespondAfter||10);wk.responding=true;};};},getHTTPMethod:function wm(wn){if(this.fakeHTTPMethods&&/post/i.test(wn.method)){var wl=(wn.requestBody||fu).match(/_method=([^\b;]+)/);return !!wl?wl[1]:wn.method;};return wn.method;},handleRequest:function wp(wo){if(wo.async){if(!this.queue){this.queue=[];};vK.call(this.queue,wo);}else {this.processRequest(wo);};},respondWith:function wr(wt,ws,wq){if(arguments.length==1&&typeof wt!=dg){this.response=vH(wt);return;};if(!this.responses){this.responses=[];};if(arguments.length==1){wq=wt;ws=wt=null;};if(arguments.length==2){wq=ws;ws=wt;wt=null;};vK.call(this.responses,{method:wt,url:ws,response:typeof wq==dg?wq:vH(wq)});},respond:function wu(){if(arguments.length>0)this.respondWith.apply(this,arguments);var wv=this.queue||[];var ww=wv.splice(0,wv.length);var wx;while(wx=ww.shift()){this.processRequest(wx);};},processRequest:function wy(wz){try{if(wz.aborted){return;};var wA=this.response||[404,{},fu];if(this.responses){for(var l=this.responses.length,i=l-1;i>=0;i-- ){if(vM.call(this,this.responses[i],wz)){wA=this.responses[i].response;break;};};};if(wz.readyState!=4){vG(wA,wz);wz.respond(wA[0],wA[1],wA[2]);};}catch(e){sinon.logError(gm,e);};},restore:function wB(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments);}};}());if(typeof module!==eL&&module.exports){module.exports=sinon;};(function(){function wC(){};wC.prototype=sinon.fakeServer;sinon.fakeServerWithClock=new wC();sinon.fakeServerWithClock.addRequest=function wG(wD){if(wD.async){if(typeof setTimeout.clock==gV){this.clock=setTimeout.clock;}else {this.clock=sinon.useFakeTimers();this.resetClock=true;};if(!this.longestTimeout){var wE=this.clock.setTimeout;var wF=this.clock.setInterval;var wH=this;this.clock.setTimeout=function(wI,wJ){wH.longestTimeout=Math.max(wJ,wH.longestTimeout||0);return wE.apply(this,arguments);};this.clock.setInterval=function(wK,wL){wH.longestTimeout=Math.max(wL,wH.longestTimeout||0);return wF.apply(this,arguments);};};};return sinon.fakeServer.addRequest.call(this,wD);};sinon.fakeServerWithClock.respond=function wM(){var wN=sinon.fakeServer.respond.apply(this,arguments);if(this.clock){this.clock.tick(this.longestTimeout||0);this.longestTimeout=0;if(this.resetClock){this.clock.restore();this.resetClock=false;};};return wN;};sinon.fakeServerWithClock.restore=function wO(){if(this.clock){this.clock.restore();};return sinon.fakeServer.restore.apply(this,arguments);};}());if(typeof module!==eL&&module.exports){var sinon=require(ce);sinon.extend(sinon,require(bs));};(function(){var wP=[].push;function wQ(wS,wT,wU,wV){if(!wV){return;};if(wT.injectInto&&!(wU in wT.injectInto)){wT.injectInto[wU]=wV;wS.injectedKeys.push(wU);}else {wP.call(wS.args,wV);};};function wR(wX){var wW=sinon.create(sinon.sandbox);if(wX.useFakeServer){if(typeof wX.useFakeServer==gV){wW.serverPrototype=wX.useFakeServer;};wW.useFakeServer();};if(wX.useFakeTimers){if(typeof wX.useFakeTimers==gV){wW.useFakeTimers.apply(wW,wX.useFakeTimers);}else {wW.useFakeTimers();};};return wW;};sinon.sandbox=sinon.extend(sinon.create(sinon.collection),{useFakeTimers:function wY(){this.clock=sinon.useFakeTimers.apply(sinon,arguments);return this.add(this.clock);},serverPrototype:sinon.fakeServer,useFakeServer:function xa(){var xb=this.serverPrototype||sinon.fakeServer;if(!xb||!xb.create){return null;};this.server=xb.create();return this.add(this.server);},inject:function(xc){sinon.collection.inject.call(this,xc);if(this.clock){xc.clock=this.clock;};if(this.server){xc.server=this.server;xc.requests=this.server.requests;};return xc;},restore:function(){sinon.collection.restore.apply(this,arguments);this.restoreContext();},restoreContext:function(){if(this.injectedKeys){for(var i=0,j=this.injectedKeys.length;i<j;i++ ){delete this.injectInto[this.injectedKeys[i]];};this.injectedKeys=[];};},create:function(xh){if(!xh){return sinon.create(sinon.sandbox);};var xg=wR(xh);xg.args=xg.args||[];xg.injectedKeys=[];xg.injectInto=xh.injectInto;var xf,xe,xd=xg.inject({});if(xh.properties){for(var i=0,l=xh.properties.length;i<l;i++ ){xf=xh.properties[i];xe=xd[xf]||xf==fE&&xg;wQ(xg,xh,xf,xe);};}else {wQ(xg,xh,fE,xe);};return xg;}});sinon.sandbox.useFakeXMLHttpRequest=sinon.sandbox.useFakeServer;if(typeof module!==eL&&module.exports){module.exports=sinon.sandbox;};}());(function(xk){var xi=typeof module!==eL&&module.exports;if(!xk&&xi){xk=require(ce);};if(!xk){return;};function xj(xl){var xm=typeof xl;if(xm!=dg){throw new TypeError(ew+xm);};return function(){var xp=xk.getConfig(xk.config);xp.injectInto=xp.injectIntoThis&&this||xp.injectInto;var xq=xk.sandbox.create(xp);var xn,xr;var xo=Array.prototype.slice.call(arguments).concat(xq.args);try{xr=xl.apply(this,xo);}catch(e){xn=e;};if(typeof xn!==bX){xq.restore();throw xn;}else {xq.verifyAndRestore();};return xr;};};xj.config={injectIntoThis:true,injectInto:null,properties:[eJ,cS,db,P,dv,gD],useFakeTimers:true,useFakeServer:true};if(xi){module.exports=xj;}else {xk.test=xj;};}(typeof sinon==gV&&sinon||null));(function(xv){var xs=typeof module!==eL&&module.exports;if(!xv&&xs){xv=require(ce);};if(!xv||!Object.prototype.hasOwnProperty){return;};function xu(xy,xx,xw){return function(){if(xx){xx.apply(this,arguments);};var xz,xA;try{xA=xy.apply(this,arguments);}catch(e){xz=e;};if(xw){xw.apply(this,arguments);};if(xz){throw xz;};return xA;};};function xt(xB,xH){if(!xB||typeof xB!=gV){throw new TypeError(bc);};xH=xH||fT;var xE=new RegExp(gy+xH);var xC={},xG,xI,xJ;var xF=xB.setUp;var xD=xB.tearDown;for(xG in xB){if(xB.hasOwnProperty(xG)){xI=xB[xG];if(/^(setUp|tearDown)$/.test(xG)){continue;};if(typeof xI==dg&&xE.test(xG)){xJ=xI;if(xF||xD){xJ=xu(xI,xF,xD);};xC[xG]=xv.test(xJ);}else {xC[xG]=xB[xG];};};};return xC;};if(xs){module.exports=xt;}else {xv.testCase=xt;};}(typeof sinon==gV&&sinon||null));(function(xR,xO){var xK=typeof module!==bX&&module.exports;var xL=Array.prototype.slice;var xP;if(!xR&&xK){xR=require(ce);};if(!xR){return;};function xQ(){var xT;for(var i=0,l=arguments.length;i<l; ++i){xT=arguments[i];if(!xT){xP.fail(es);};if(typeof xT!=dg){xP.fail(xT+dJ);};if(typeof xT.getCall!=dg){xP.fail(xT+cj);};};};function xM(xV,xU){xV=xV||xO;var xW=xV.fail||xP.fail;xW.call(xV,xU);};function xS(name,xY,xX){if(arguments.length==2){xX=xY;xY=name;};xP[name]=function(yc){xQ(yc);var yb=xL.call(arguments,1);var ya=false;if(typeof xY==dg){ya=!xY(yc);}else {ya=typeof yc[xY]==dg?!yc[xY].apply(yc,yb):!yc[xY];};if(ya){xM(this,yc.printf.apply(yc,[xX].concat(yb)));}else {xP.pass(name);};};};function xN(yd,ye){return !yd||/^fail/.test(ye)?ye:yd+ye.slice(0,1).toUpperCase()+ye.slice(1);};xP={failException:cX,fail:function yf(yg){var yh=new Error(yg);yh.name=this.failException||xP.failException;throw yh;},pass:function yj(yi){},callOrder:function ym(){xQ.apply(null,arguments);var yk=fu,yl=fu;if(!xR.calledInOrder(arguments)){try{yk=[].join.call(arguments,ef);var yn=xL.call(arguments);var i=yn.length;while(i){if(!yn[ --i].called){yn.splice(i,1);};};yl=xR.orderByFirstCall(yn).join(ef);}catch(e){};xM(this,dI+yk+fR+bG+yl);}else {xP.pass(gz);};},callCount:function yo(yq,yp){xQ(yq);if(yq.callCount!=yp){var yr=ho+xR.timesInWords(yp)+ed;xM(this,yq.printf(yr));}else {xP.pass(eQ);};},expose:function yu(yt,yv){if(!yt){throw new TypeError(eO);};var o=yv||{};var yw=typeof o.prefix==bX&&ds||o.prefix;var ys=typeof o.includeFail==bX||!!o.includeFail;for(var yx in this){if(yx!=dA&&(ys||!/^(fail)/.test(yx))){yt[xN(yw,yx)]=this[yx];};};return yt;},match:function yB(yz,yA){var yy=xR.match(yA);if(yy.test(yz)){xP.pass(C);}else {var yC=[dl,dC+xR.format(yA),dL+xR.format(yz)];xM(this,yC.join(em));};}};xS(bd,gp);xS(D,function(yD){return !yD.called;},fz);xS(Q,er);xS(gF,cp);xS(eP,V);xS(eF,dX);xS(cC,N);xS(eK,bQ);xS(fW,cV);xS(bl,eA);xS(U,cw);xS(gt,fa);xS(gv,g);xS(eb,hf);xS(bT,bD);xS(dY,eC);xS(gd,bC);xS(dK,dr);xS(fo,eS);if(xK){module.exports=xP;}else {xR.assert=xP;};}(typeof sinon==gV&&sinon||null,typeof window!=bX?window:(typeof self!=bX)?self:global));return sinon;}.call(typeof window!=eL&&window||{}));this.sinon.assert.fail=function(yE){this.fail(yE,true);};this.sinon.FakeXMLHttpRequest.statusCodes[207]=cW;var origSinon=this.sinon;var Sinon=qx.dev.unit.Sinon;Sinon.getSinon=function(){return origSinon;};}).call(this);})();

var exp = envinfo["qx.export"];
if (exp) {
  for (var name in exp) {
    var c = exp[name].split(".");
    var root = window;
    for (var i=0; i < c.length; i++) {
      root = root[c[i]];
    };
    window[name] = root;
  }
}

window["qx"] = undefined;
try {
  delete window.qx;
} catch(e) {}

})();