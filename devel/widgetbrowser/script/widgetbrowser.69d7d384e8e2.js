qx.$$packageData['8320']={"locales":{},"resources":{},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("8320", function() {
(function(){var a="..",b="changeSelection",c="Try to turn off batch mode althoug it was not turned on.",d="_applySelectionMode",f="]",g="qx.event.type.Event",h="Ranges:",k="qx.ui.table.selection.Model",l=" [";qx.Class.define(k,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__sS=[];this.__sT=-1;this.__sU=-1;this.hasBatchModeRefCount=0;this.__sV=false;},events:{"changeSelection":g},statics:{NO_SELECTION:1,SINGLE_SELECTION:2,SINGLE_INTERVAL_SELECTION:3,MULTIPLE_INTERVAL_SELECTION:4,MULTIPLE_INTERVAL_SELECTION_TOGGLE:5},properties:{selectionMode:{init:2,check:[1,2,3,4,5],apply:d}},members:{__sV:null,__sT:null,__sU:null,__sS:null,_applySelectionMode:function(m){this.resetSelection();},setBatchMode:function(n){if(n){this.hasBatchModeRefCount+=1;}else {if(this.hasBatchModeRefCount==0){throw new Error(c);};this.hasBatchModeRefCount-=1;if(this.__sV){this.__sV=false;this._fireChangeSelection();};};return this.hasBatchMode();},hasBatchMode:function(){return this.hasBatchModeRefCount>0;},getAnchorSelectionIndex:function(){return this.__sT;},_setAnchorSelectionIndex:function(o){this.__sT=o;},getLeadSelectionIndex:function(){return this.__sU;},_setLeadSelectionIndex:function(p){this.__sU=p;},_getSelectedRangeArr:function(){return this.__sS;},resetSelection:function(){if(!this.isSelectionEmpty()){this._resetSelection();this._fireChangeSelection();};},isSelectionEmpty:function(){return this.__sS.length==0;},getSelectedCount:function(){var r=0;for(var i=0;i<this.__sS.length;i++ ){var q=this.__sS[i];r+=q.maxIndex-q.minIndex+1;};return r;},isSelectedIndex:function(s){for(var i=0;i<this.__sS.length;i++ ){var t=this.__sS[i];if(s>=t.minIndex&&s<=t.maxIndex){return true;};};return false;},getSelectedRanges:function(){var u=[];for(var i=0;i<this.__sS.length;i++ ){u.push({minIndex:this.__sS[i].minIndex,maxIndex:this.__sS[i].maxIndex});};return u;},iterateSelection:function(w,v){for(var i=0;i<this.__sS.length;i++ ){for(var j=this.__sS[i].minIndex;j<=this.__sS[i].maxIndex;j++ ){w.call(v,j);};};},setSelectionInterval:function(z,y){var x=this.self(arguments);switch(this.getSelectionMode()){case x.NO_SELECTION:return;case x.SINGLE_SELECTION:if(this.isSelectedIndex(y)){return;};z=y;break;case x.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this.setBatchMode(true);try{for(var i=z;i<=y;i++ ){if(!this.isSelectedIndex(i)){this._addSelectionInterval(i,i);}else {this.removeSelectionInterval(i,i);};};}catch(e){throw e;}finally{this.setBatchMode(false);};this._fireChangeSelection();return;};this._resetSelection();this._addSelectionInterval(z,y);this._fireChangeSelection();},addSelectionInterval:function(B,A){var C=qx.ui.table.selection.Model;switch(this.getSelectionMode()){case C.NO_SELECTION:return;case C.MULTIPLE_INTERVAL_SELECTION:case C.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this._addSelectionInterval(B,A);this._fireChangeSelection();break;default:this.setSelectionInterval(B,A);break;};},removeSelectionInterval:function(H,E,K){this.__sT=H;this.__sU=E;var D=Math.min(H,E);var I=Math.max(H,E);var L=I+1-D;var F=[];var G=null;for(var i=0;i<this.__sS.length;i++ ){var M=this.__sS[i];if(M.minIndex>I){if(K){M.minIndex-=L;M.maxIndex-=L;};}else if(M.maxIndex>=D){var N=(M.minIndex>=D);var J=(M.maxIndex>=D)&&(M.maxIndex<=I);if(N&&J){M=null;}else if(N){if(K){M.minIndex=D;M.maxIndex-=L;}else {M.minIndex=I+1;};}else if(J){M.maxIndex=D-1;}else {if(K){M.maxIndex-=L;}else {G={minIndex:I+1,maxIndex:M.maxIndex};M.maxIndex=D-1;};};};if(M){F.push(M);M=null;};if(G){F.push(G);G=null;};};this.__sS=F;this._fireChangeSelection();},_resetSelection:function(){this.__sS=[];this.__sT=-1;this.__sU=-1;},_addSelectionInterval:function(R,P){this.__sT=R;this.__sU=P;var O=Math.min(R,P);var S=Math.max(R,P);var Q=0;for(;Q<this.__sS.length;Q++ ){var T=this.__sS[Q];if(T.minIndex>O){break;};};this.__sS.splice(Q,0,{minIndex:O,maxIndex:S});var U=this.__sS[0];for(var i=1;i<this.__sS.length;i++ ){var T=this.__sS[i];if(U.maxIndex+1>=T.minIndex){U.maxIndex=Math.max(U.maxIndex,T.maxIndex);this.__sS.splice(i,1);i-- ;}else {U=T;};};},_dumpRanges:function(){var V=h;for(var i=0;i<this.__sS.length;i++ ){var W=this.__sS[i];V+=l+W.minIndex+a+W.maxIndex+f;};this.debug(V);},_fireChangeSelection:function(){if(this.hasBatchMode()){this.__sV=true;}else {this.fireEvent(b);};}},destruct:function(){this.__sS=null;}});})();(function(){var a="_applyStatusBarVisible",b="_onKeyPress",c="function",d="blur",f="qx.ui.table.Table",g="Boolean",h="_applyFocusCellOnPointerMove",k="columnVisibilityMenuCreateEnd",m="verticalScrollBarChanged",n="_applyMetaColumnCounts",o="PageUp",p="focus",q="changeDataRowRenderer",r="dataChanged",s="changeHeaderCellHeight",t="Escape",u="A",v="changeSelectionModel",w="keydown",y="Left",z="Down",A="Integer",B="__sX",C="_applyHeaderCellHeight",D="qx.event.type.Data",E="statusbar",F="Function",G="menu",H="qx.ui.table.ITableModel",I="column-button",J="_applySelectionModel",K="__ej",L="changeLocale",M="__sW",N="menu-button",O="_applyResetSelectionOnHeaderTap",P="_applyAdditionalStatusBarText",Q="table",R="_applyColumnVisibilityButtonVisible",S="changeTableModel",T="qx.event.type.Event",U="tableWidthChanged",V="changeSelection",W="_applyHeaderCellsVisible",X="Object",Y="_applyShowCellFocusIndicator",bS="__tf",bT="changeColumnVisible",bU="resize",bO="changeScrollY",bP="_applyTableModel",bQ="__tg",bR="End",bY="_applyKeepFirstVisibleRowComplete",ca="widthChanged",cb="one of one row",cw="Home",bV="_applyRowHeight",bW="F2",bX="appear",bL="visibilityChanged",cu="qx.dynlocale",bN="columnVisibilityMenuCreateStart",ce="%1 rows",cf="qx.ui.table.selection.Model",bM='"',cc="one row",cm="PageDown",cd="%1 of %2 rows",cg="changeRowHeight",ch="Up",ci="Enter",cn="Number",co="metaDataChanged",ct="header",cv="__th",cj="_applyContextMenuFromDataCellsOnly",ck="qx.ui.table.IRowRenderer",cl="The method '_onKeyPress()' is deprecated. Please use '_onKeyDown()' instead.",cp="orderChanged",cq="Right",cr="qx.ui.table.pane.CellEvent",cs="Space";qx.Class.define(f,{extend:qx.ui.core.Widget,include:qx.ui.core.MDragDropScrolling,construct:function(cx,cz){qx.ui.core.Widget.call(this);if(!cz){cz={};};if(cz.initiallyHiddenColumns){this.setInitiallyHiddenColumns(cz.initiallyHiddenColumns);};if(cz.selectionManager){this.setNewSelectionManager(cz.selectionManager);};if(cz.selectionModel){this.setNewSelectionModel(cz.selectionModel);};if(cz.tableColumnModel){this.setNewTableColumnModel(cz.tableColumnModel);};if(cz.tablePane){this.setNewTablePane(cz.tablePane);};if(cz.tablePaneHeader){this.setNewTablePaneHeader(cz.tablePaneHeader);};if(cz.tablePaneScroller){this.setNewTablePaneScroller(cz.tablePaneScroller);};if(cz.tablePaneModel){this.setNewTablePaneModel(cz.tablePaneModel);};if(cz.columnMenu){this.setNewColumnMenu(cz.columnMenu);};this._setLayout(new qx.ui.layout.VBox());this.__sW=new qx.ui.container.Composite(new qx.ui.layout.HBox());this._add(this.__sW,{flex:1});this.setDataRowRenderer(new qx.ui.table.rowrenderer.Default(this));this.__sX=this.getNewSelectionManager()(this);this.setSelectionModel(this.getNewSelectionModel()(this));this.setTableModel(cx||this.getEmptyTableModel());this.setMetaColumnCounts([-1]);this.setTabIndex(1);this.addListener(w,this._onKeyDown);this.addListener(p,this._onFocusChanged);this.addListener(d,this._onFocusChanged);var cy=new qx.ui.core.Widget().set({height:0});this._add(cy);cy.addListener(bU,this._onResize,this);this.__sY=null;this.__ta=null;if(qx.core.Environment.get(cu)){qx.locale.Manager.getInstance().addListener(L,this._onChangeLocale,this);};this.initStatusBarVisible();cx=this.getTableModel();if(cx.init&&typeof (cx.init)==c){cx.init(this);};},events:{"columnVisibilityMenuCreateStart":D,"columnVisibilityMenuCreateEnd":D,"tableWidthChanged":T,"verticalScrollBarChanged":D,"cellTap":cr,"cellDbltap":cr,"cellContextmenu":cr,"dataEdited":D},statics:{__tb:{cellTap:1,cellDbltap:1,cellContextmenu:1}},properties:{appearance:{refine:true,init:Q},focusable:{refine:true,init:true},minWidth:{refine:true,init:50},initiallyHiddenColumns:{init:null},selectable:{refine:true,init:false},selectionModel:{check:cf,apply:J,event:v},tableModel:{check:H,apply:bP,event:S},rowHeight:{check:cn,init:20,apply:bV,event:cg,themeable:true},forceLineHeight:{check:g,init:true},headerCellsVisible:{check:g,init:true,apply:W,themeable:true},headerCellHeight:{check:A,init:16,apply:C,event:s,nullable:true,themeable:true},statusBarVisible:{check:g,init:true,apply:a},additionalStatusBarText:{nullable:true,init:null,apply:P},columnVisibilityButtonVisible:{check:g,init:true,apply:R,themeable:true},metaColumnCounts:{check:X,apply:n},focusCellOnPointerMove:{check:g,init:false,apply:h},rowFocusChangeModifiesSelection:{check:g,init:true},showCellFocusIndicator:{check:g,init:true,apply:Y},contextMenuFromDataCellsOnly:{check:g,init:true,apply:cj},keepFirstVisibleRowComplete:{check:g,init:true,apply:bY},alwaysUpdateCells:{check:g,init:false},resetSelectionOnHeaderTap:{check:g,init:true,apply:O},dataRowRenderer:{check:ck,init:null,nullable:true,event:q},modalCellEditorPreOpenFunction:{check:F,init:null,nullable:true},excludeScrollerScrollbarsIfNotNeeded:{check:g,init:false,nullable:false},newColumnMenu:{check:F,init:function(){return new qx.ui.table.columnmenu.Button();}},newSelectionManager:{check:F,init:function(cA){return new qx.ui.table.selection.Manager(cA);}},newSelectionModel:{check:F,init:function(cB){return new qx.ui.table.selection.Model(cB);}},newTableColumnModel:{check:F,init:function(cC){return new qx.ui.table.columnmodel.Basic(cC);}},newTablePane:{check:F,init:function(cD){return new qx.ui.table.pane.Pane(cD);}},newTablePaneHeader:{check:F,init:function(cE){return new qx.ui.table.pane.Header(cE);}},newTablePaneScroller:{check:F,init:function(cF){return new qx.ui.table.pane.Scroller(cF);}},newTablePaneModel:{check:F,init:function(cG){return new qx.ui.table.pane.Model(cG);}}},members:{__sY:null,__ta:null,__sW:null,__sX:null,__tc:null,__td:null,__te:null,__tf:null,__tg:null,__th:null,__ti:null,__ej:null,_createChildControlImpl:function(cK,cJ){var cH;switch(cK){case E:cH=new qx.ui.basic.Label();cH.set({allowGrowX:true});this._add(cH);break;case I:cH=this.getNewColumnMenu()();cH.set({focusable:false});var cI=cH.factory(G,{table:this});cI.addListener(bX,this._initColumnMenu,this);break;};return cH||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,cK);},_applySelectionModel:function(cM,cL){this.__sX.setSelectionModel(cM);if(cL!=null){cL.removeListener(V,this._onSelectionChanged,this);};cM.addListener(V,this._onSelectionChanged,this);},_applyRowHeight:function(cP,cO){var cN=this._getPaneScrollerArr();for(var i=0;i<cN.length;i++ ){cN[i].updateVerScrollBarMaximum();};},_applyHeaderCellsVisible:function(cS,cR){var cQ=this._getPaneScrollerArr();for(var i=0;i<cQ.length;i++ ){if(cS){cQ[i]._showChildControl(ct);}else {cQ[i]._excludeChildControl(ct);};};if(this.getColumnVisibilityButtonVisible()){this._applyColumnVisibilityButtonVisible(cS);};},_applyHeaderCellHeight:function(cV,cU){var cT=this._getPaneScrollerArr();for(var i=0;i<cT.length;i++ ){cT[i].getHeader().setHeight(cV);};},getEmptyTableModel:function(){if(!this.__th){this.__th=new qx.ui.table.model.Simple();this.__th.setColumns([]);this.__th.setData([]);};return this.__th;},_applyTableModel:function(cX,cW){this.getTableColumnModel().init(cX.getColumnCount(),this);if(cW!=null){cW.removeListener(co,this._onTableModelMetaDataChanged,this);cW.removeListener(r,this._onTableModelDataChanged,this);};cX.addListener(co,this._onTableModelMetaDataChanged,this);cX.addListener(r,this._onTableModelDataChanged,this);this._updateStatusBar();this._updateTableData(0,cX.getRowCount(),0,cX.getColumnCount());this._onTableModelMetaDataChanged();if(cW&&cX.init&&typeof (cX.init)==c){cX.init(this);};},getTableColumnModel:function(){if(!this.__tg){var dc=this.__tg=this.getNewTableColumnModel()(this);dc.addListener(bL,this._onColVisibilityChanged,this);dc.addListener(ca,this._onColWidthChanged,this);dc.addListener(cp,this._onColOrderChanged,this);var da=this.getTableModel();dc.init(da.getColumnCount(),this);var cY=this._getPaneScrollerArr();for(var i=0;i<cY.length;i++ ){var dd=cY[i];var db=dd.getTablePaneModel();db.setTableColumnModel(dc);};};return this.__tg;},_applyStatusBarVisible:function(df,de){if(df){this._showChildControl(E);}else {this._excludeChildControl(E);};if(df){this._updateStatusBar();};},_applyAdditionalStatusBarText:function(dh,dg){this.__tc=dh;this._updateStatusBar();},_applyColumnVisibilityButtonVisible:function(dj,di){if(dj){this._showChildControl(I);}else {this._excludeChildControl(I);};},_applyMetaColumnCounts:function(dt,dn){var ds=dt;var dk=this._getPaneScrollerArr();var dq={};if(dt>dn){var dv=qx.event.Registration.getManager(dk[0]);for(var dm in qx.ui.table.Table.__tb){dq[dm]={};dq[dm].capture=dv.getListeners(dk[0],dm,true);dq[dm].bubble=dv.getListeners(dk[0],dm,false);};};this._cleanUpMetaColumns(ds.length);var dr=0;for(var i=0;i<dk.length;i++ ){var dx=dk[i];var du=dx.getTablePaneModel();du.setFirstColumnX(dr);du.setMaxColumnCount(ds[i]);dr+=ds[i];};if(ds.length>dk.length){var dw=this.getTableColumnModel();for(var i=dk.length;i<ds.length;i++ ){var du=this.getNewTablePaneModel()(dw);du.setFirstColumnX(dr);du.setMaxColumnCount(ds[i]);dr+=ds[i];var dx=this.getNewTablePaneScroller()(this);dx.setTablePaneModel(du);dx.addListener(bO,this._onScrollY,this);for(dm in qx.ui.table.Table.__tb){if(!dq[dm]){break;};if(dq[dm].capture&&dq[dm].capture.length>0){var dl=dq[dm].capture;for(var j=0;j<dl.length;j++ ){var dp=dl[j].context;if(!dp){dp=this;}else if(dp==dk[0]){dp=dx;};dx.addListener(dm,dl[j].handler,dp,true);};};if(dq[dm].bubble&&dq[dm].bubble.length>0){var dz=dq[dm].bubble;for(var j=0;j<dz.length;j++ ){var dp=dz[j].context;if(!dp){dp=this;}else if(dp==dk[0]){dp=dx;};dx.addListener(dm,dz[j].handler,dp,false);};};};var dy=(i==ds.length-1)?1:0;this.__sW.add(dx,{flex:dy});dk=this._getPaneScrollerArr();};};for(var i=0;i<dk.length;i++ ){var dx=dk[i];var dA=(i==(dk.length-1));dx.getHeader().setHeight(this.getHeaderCellHeight());dx.setTopRightWidget(dA?this.getChildControl(I):null);};if(!this.isColumnVisibilityButtonVisible()){this._excludeChildControl(I);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_applyFocusCellOnPointerMove:function(dD,dC){var dB=this._getPaneScrollerArr();for(var i=0;i<dB.length;i++ ){dB[i].setFocusCellOnPointerMove(dD);};},_applyShowCellFocusIndicator:function(dG,dF){var dE=this._getPaneScrollerArr();for(var i=0;i<dE.length;i++ ){dE[i].setShowCellFocusIndicator(dG);};},_applyContextMenuFromDataCellsOnly:function(dJ,dI){var dH=this._getPaneScrollerArr();for(var i=0;i<dH.length;i++ ){dH[i].setContextMenuFromDataCellsOnly(dJ);};},_applyKeepFirstVisibleRowComplete:function(dM,dL){var dK=this._getPaneScrollerArr();for(var i=0;i<dK.length;i++ ){dK[i].onKeepFirstVisibleRowCompleteChanged();};},_applyResetSelectionOnHeaderTap:function(dP,dO){var dN=this._getPaneScrollerArr();for(var i=0;i<dN.length;i++ ){dN[i].setResetSelectionOnHeaderTap(dP);};},getSelectionManager:function(){return this.__sX;},_getPaneScrollerArr:function(){return this.__sW.getChildren();},getPaneScroller:function(dQ){return this._getPaneScrollerArr()[dQ];},_cleanUpMetaColumns:function(dS){var dR=this._getPaneScrollerArr();if(dR!=null){for(var i=dR.length-1;i>=dS;i-- ){dR[i].destroy();};};},_onChangeLocale:function(dT){this.updateContent();this._updateStatusBar();},_onChangeTheme:function(){qx.ui.core.Widget.prototype._onChangeTheme.call(this);this.getDataRowRenderer().initThemeValues();this.updateContent();this._updateStatusBar();},_onSelectionChanged:function(dV){var dU=this._getPaneScrollerArr();for(var i=0;i<dU.length;i++ ){dU[i].onSelectionChanged();};this._updateStatusBar();},_onTableModelMetaDataChanged:function(dX){var dW=this._getPaneScrollerArr();for(var i=0;i<dW.length;i++ ){dW[i].onTableModelMetaDataChanged();};this._updateStatusBar();},_onTableModelDataChanged:function(dY){var ea=dY.getData();this._updateTableData(ea.firstRow,ea.lastRow,ea.firstColumn,ea.lastColumn,ea.removeStart,ea.removeCount);},_onContextMenuOpen:function(e){},_updateTableData:function(ef,ei,ed,ec,ee,eh){var eb=this._getPaneScrollerArr();if(eh){this.getSelectionModel().removeSelectionInterval(ee,ee+eh-1,true);if(this.__ta>=ee&&this.__ta<(ee+eh)){this.setFocusedCell();};};for(var i=0;i<eb.length;i++ ){eb[i].onTableModelDataChanged(ef,ei,ed,ec);};var eg=this.getTableModel().getRowCount();if(eg!=this.__td){this.__td=eg;this._updateScrollBarVisibility();this._updateStatusBar();};},_onScrollY:function(ek){if(!this.__te){this.__te=true;var ej=this._getPaneScrollerArr();for(var i=0;i<ej.length;i++ ){ej[i].setScrollY(ek.getData());};this.__te=false;};},_onKeyPress:function(el){qx.log.Logger.deprecatedMethodWarning(this._onKeyPress,cl);qx.log.Logger.deprecateMethodOverriding(this,qx.ui.table.Table,b,cl);this._onKeyDown(el);},_onKeyDown:function(eu){if(!this.getEnabled()){return;};var es=this.__ta;var ep=false;var et=eu.getKeyIdentifier();if(this.isEditing()){if(eu.getModifiers()==0){switch(et){case ci:this.stopEditing();var es=this.__ta;this.moveFocusedCell(0,1);if(this.__ta!=es){ep=this.startEditing();};break;case t:this.cancelEditing();this.focus();break;default:ep=false;break;};};}else {ep=true;if(eu.isCtrlPressed()){switch(et){case u:var eq=this.getTableModel().getRowCount();if(eq>0){this.getSelectionModel().setSelectionInterval(0,eq-1);};break;default:ep=false;break;};}else {switch(et){case cs:this.__sX.handleSelectKeyDown(this.__ta,eu);break;case bW:case ci:this.startEditing();ep=true;break;case cw:this.setFocusedCell(this.__sY,0,true);break;case bR:var eq=this.getTableModel().getRowCount();this.setFocusedCell(this.__sY,eq-1,true);break;case y:this.moveFocusedCell(-1,0);break;case cq:this.moveFocusedCell(1,0);break;case ch:this.moveFocusedCell(0,-1);break;case z:this.moveFocusedCell(0,1);break;case o:case cm:var eo=this.getPaneScroller(0);var er=eo.getTablePane();var en=this.getRowHeight();var em=(et==o)?-1:1;eq=er.getVisibleRowCount()-1;eo.setScrollY(eo.getScrollY()+em*eq*en);this.moveFocusedCell(0,em*eq);break;default:ep=false;};};};if(es!=this.__ta&&this.getRowFocusChangeModifiesSelection()){this.__sX.handleMoveKeyDown(this.__ta,eu);};if(ep){eu.preventDefault();eu.stopPropagation();};},_onFocusChanged:function(ew){var ev=this._getPaneScrollerArr();for(var i=0;i<ev.length;i++ ){ev[i].onFocusChanged();};},_onColVisibilityChanged:function(ey){var ex=this._getPaneScrollerArr();for(var i=0;i<ex.length;i++ ){ex[i].onColVisibilityChanged();};var ez=ey.getData();if(this.__tf!=null&&ez.col!=null&&ez.visible!=null){this.__tf[ez.col].setColumnVisible(ez.visible);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColWidthChanged:function(eB){var eA=this._getPaneScrollerArr();for(var i=0;i<eA.length;i++ ){var eC=eB.getData();eA[i].setColumnWidth(eC.col,eC.newWidth);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColOrderChanged:function(eE){var eD=this._getPaneScrollerArr();for(var i=0;i<eD.length;i++ ){eD[i].onColOrderChanged();};this._updateScrollerWidths();this._updateScrollBarVisibility();},getTablePaneScrollerAtPageX:function(eG){var eF=this._getMetaColumnAtPageX(eG);return (eF!=-1)?this.getPaneScroller(eF):null;},setFocusedCell:function(eJ,eK,eI){if(!this.isEditing()&&(eJ!=this.__sY||eK!=this.__ta)){if(eJ===null){eJ=0;};this.__sY=eJ;this.__ta=eK;var eH=this._getPaneScrollerArr();for(var i=0;i<eH.length;i++ ){eH[i].setFocusedCell(eJ,eK);};if(eJ!=null&&eI){this.scrollCellVisible(eJ,eK);};};},resetSelection:function(){this.getSelectionModel().resetSelection();},resetCellFocus:function(){this.setFocusedCell(null,null,false);},getFocusedColumn:function(){return this.__sY;},getFocusedRow:function(){return this.__ta;},highlightFocusedRow:function(eL){this.getDataRowRenderer().setHighlightFocusRow(eL);},clearFocusedRowHighlight:function(eN){if(eN){var eO=eN.getRelatedTarget();if(eO instanceof qx.ui.table.pane.Pane||eO instanceof qx.ui.table.pane.FocusIndicator){return;};};this.resetCellFocus();var eM=this._getPaneScrollerArr();for(var i=0;i<eM.length;i++ ){eM[i].onFocusChanged();};},moveFocusedCell:function(eP,eQ){var eU=this.__sY;var eV=this.__ta;if(eU==null||eV==null){return;};if(eP!=0){var eT=this.getTableColumnModel();var x=eT.getVisibleX(eU);var eS=eT.getVisibleColumnCount();x=qx.lang.Number.limit(x+eP,0,eS-1);eU=eT.getVisibleColumnAtX(x);};if(eQ!=0){var eR=this.getTableModel();eV=qx.lang.Number.limit(eV+eQ,0,eR.getRowCount()-1);};this.setFocusedCell(eU,eV,true);},scrollCellVisible:function(fa,fb){var eX=this.getContentElement().getDomElement();if(!eX){this.addListenerOnce(bX,function(){this.scrollCellVisible(fa,fb);},this);};var eY=this.getTableColumnModel();var x=eY.getVisibleX(fa);var eW=this._getMetaColumnAtColumnX(x);if(eW!=-1){this.getPaneScroller(eW).scrollCellVisible(fa,fb);};},isEditing:function(){if(this.__sY!=null){var x=this.getTableColumnModel().getVisibleX(this.__sY);var fc=this._getMetaColumnAtColumnX(x);return this.getPaneScroller(fc).isEditing();};return false;},startEditing:function(){if(this.__sY!=null){var x=this.getTableColumnModel().getVisibleX(this.__sY);var fe=this._getMetaColumnAtColumnX(x);var fd=this.getPaneScroller(fe).startEditing();return fd;};return false;},stopEditing:function(){if(this.__sY!=null){var x=this.getTableColumnModel().getVisibleX(this.__sY);var ff=this._getMetaColumnAtColumnX(x);this.getPaneScroller(ff).stopEditing();};},cancelEditing:function(){if(this.__sY!=null){var x=this.getTableColumnModel().getVisibleX(this.__sY);var fg=this._getMetaColumnAtColumnX(x);this.getPaneScroller(fg).cancelEditing();};},updateContent:function(){var fh=this._getPaneScrollerArr();for(var i=0;i<fh.length;i++ ){fh[i].getTablePane().updateContent(true);};},blockHeaderElements:function(){var fi=this._getPaneScrollerArr();for(var i=0;i<fi.length;i++ ){fi[i].getHeader().getBlocker().blockContent(20);};this.getChildControl(I).getBlocker().blockContent(20);},unblockHeaderElements:function(){var fj=this._getPaneScrollerArr();for(var i=0;i<fj.length;i++ ){fj[i].getHeader().getBlocker().unblock();};this.getChildControl(I).getBlocker().unblock();},_getMetaColumnAtPageX:function(fm){var fk=this._getPaneScrollerArr();for(var i=0;i<fk.length;i++ ){var fl=fk[i].getContentLocation();if(fm>=fl.left&&fm<=fl.right){return i;};};return -1;},_getMetaColumnAtColumnX:function(fo){var fp=this.getMetaColumnCounts();var fq=0;for(var i=0;i<fp.length;i++ ){var fn=fp[i];fq+=fn;if(fn==-1||fo<fq){return i;};};return -1;},_updateStatusBar:function(){var fr=this.getTableModel();if(this.getStatusBarVisible()){var fs=this.getSelectionModel().getSelectedCount();var ft=fr.getRowCount();var fu;if(ft>=0){if(fs==0){fu=this.trn(cc,ce,ft,ft);}else {fu=this.trn(cb,cd,ft,fs,ft);};};if(this.__tc){if(fu){fu+=this.__tc;}else {fu=this.__tc;};};if(fu){this.getChildControl(E).setValue(fu);};};},_updateScrollerWidths:function(){var fv=this._getPaneScrollerArr();for(var i=0;i<fv.length;i++ ){var fx=(i==(fv.length-1));var fy=fv[i].getTablePaneModel().getTotalWidth();fv[i].setPaneWidth(fy);var fw=fx?1:0;fv[i].setLayoutProperties({flex:fw});};},_updateScrollBarVisibility:function(){if(!this.getBounds()){return;};var fC=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var fE=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;var fz=this._getPaneScrollerArr();var fB=false;var fD=false;var fG;fG=this.getExcludeScrollerScrollbarsIfNotNeeded();if(!fG){for(var i=0;i<fz.length;i++ ){var fF=(i==(fz.length-1));var fA=fz[i].getNeededScrollBars(fB,!fF);if(fA&fC){fB=true;};if(fF&&(fA&fE)){fD=true;};};};for(var i=0;i<fz.length;i++ ){fF=(i==(fz.length-1));if(fG){fB=!!(fz[i].getNeededScrollBars(false,!fF)&fC);fz[i].setHorizontalScrollBarVisible(fB||null);}else {fz[i].setHorizontalScrollBarVisible(fB);};if(fF){fD=!!(fz[i].getNeededScrollBars(false,false)&fE);if(this.__ti==null){this.__ti=fz[i].getVerticalScrollBarVisible();this.__ej=qx.event.Timer.once(function(){this.__ti=null;this.__ej=null;},this,0);};};fz[i].setVerticalScrollBarVisible(fF&&fD);if(fF&&fD!=this.__ti){this.fireDataEvent(m,fD);};};},_initColumnMenu:function(){var fJ=this.getTableModel();var fK=this.getTableColumnModel();var fL=this.getChildControl(I);fL.empty();var fI=fL.getMenu();var fM={table:this,menu:fI,columnButton:fL};this.fireDataEvent(bN,fM);this.__tf={};for(var fN=0,l=fJ.getColumnCount();fN<l;fN++ ){var fH=fL.factory(N,{text:fJ.getColumnName(fN),column:fN,bVisible:fK.isColumnVisible(fN)});qx.core.Assert.assertInterface(fH,qx.ui.table.IColumnMenuItem);fH.addListener(bT,this._createColumnVisibilityCheckBoxHandler(fN),this);this.__tf[fN]=fH;};fM={table:this,menu:fI,columnButton:fL};this.fireDataEvent(k,fM);},_createColumnVisibilityCheckBoxHandler:function(fO){return function(fP){var fQ=this.getTableColumnModel();fQ.setColumnVisible(fO,fP.getData());};},setColumnWidth:function(fS,fR){this.getTableColumnModel().setColumnWidth(fS,fR);},_onResize:function(){this.fireEvent(U);this._updateScrollerWidths();this._updateScrollBarVisibility();},addListener:function(fW,fV,self,fT){if(this.self(arguments).__tb[fW]){var fX=[fW];for(var i=0,fU=this._getPaneScrollerArr();i<fU.length;i++ ){fX.push(fU[i].addListener.apply(fU[i],arguments));};return fX.join(bM);}else {return qx.ui.core.Widget.prototype.addListener.call(this,fW,fV,self,fT);};},removeListener:function(gc,gb,self,fY){if(this.self(arguments).__tb[gc]){for(var i=0,ga=this._getPaneScrollerArr();i<ga.length;i++ ){ga[i].removeListener.apply(ga[i],arguments);};}else {qx.ui.core.Widget.prototype.removeListener.call(this,gc,gb,self,fY);};},removeListenerById:function(gh){var ge=gh.split(bM);var gg=ge.shift();if(this.self(arguments).__tb[gg]){var gf=true;for(var i=0,gd=this._getPaneScrollerArr();i<gd.length;i++ ){gf=gd[i].removeListenerById.call(gd[i],ge[i])&&gf;};return gf;}else {return qx.ui.core.Widget.prototype.removeListenerById.call(this,gh);};},destroy:function(){this.getChildControl(I).getMenu().destroy();qx.ui.core.Widget.prototype.destroy.call(this);}},destruct:function(){if(qx.core.Environment.get(cu)){qx.locale.Manager.getInstance().removeListener(L,this._onChangeLocale,this);};var gj=this.getSelectionModel();if(gj){gj.dispose();};var gi=this.getDataRowRenderer();if(gi){gi.dispose();};this._cleanUpMetaColumns(0);this.getTableColumnModel().dispose();this._disposeObjects(B,M,cv,cv,bQ,K);this._disposeMap(bS);}});})();(function(){var a="qx.ui.table.IRowRenderer";qx.Interface.define(a,{members:{updateDataRowElement:function(c,b){},getRowHeightStyle:function(d){},createRowStyle:function(e){},getRowClass:function(f){}}});})();(function(){var a="table-row-background-even",b="Boolean",c="content",d="default",e="height:",f="changeTheme",g="'",h="table-row",i="table-row-background-focused",j="css.boxmodel",k=';color:',l="table-row-background-odd",m="1px solid ",n="table-row-line",o="qx.dyntheme",p="table-row-background-selected",q="background-color:",r="",s=';border-bottom: 1px solid ',t="table-row-selected",u="table-row-background-focused-selected",v="px;",w="qx.ui.table.rowrenderer.Default",x=";";qx.Class.define(w,{extend:qx.core.Object,implement:qx.ui.table.IRowRenderer,construct:function(){qx.core.Object.call(this);this.initThemeValues();if(qx.core.Environment.get(o)){qx.theme.manager.Meta.getInstance().addListener(f,this.initThemeValues,this);};},properties:{highlightFocusRow:{check:b,init:true}},members:{_colors:null,_fontStyle:null,_fontStyleString:null,initThemeValues:function(){this._fontStyleString=r;this._fontStyle={};this._colors={};this._renderFont(qx.theme.manager.Font.getInstance().resolve(d));var y=qx.theme.manager.Color.getInstance();this._colors.bgcolFocusedSelected=y.resolve(u);this._colors.bgcolFocused=y.resolve(i);this._colors.bgcolSelected=y.resolve(p);this._colors.bgcolEven=y.resolve(a);this._colors.bgcolOdd=y.resolve(l);this._colors.colSelected=y.resolve(t);this._colors.colNormal=y.resolve(h);this._colors.horLine=y.resolve(n);},_insetY:1,_renderFont:function(z){if(z){this._fontStyle=z.getStyles();this._fontStyleString=qx.bom.element.Style.compile(this._fontStyle);this._fontStyleString=this._fontStyleString.replace(/"/g,g);}else {this._fontStyleString=r;this._fontStyle=qx.bom.Font.getDefaultStyles();};},updateDataRowElement:function(D,A){var B=this._fontStyle;var C=A.style;qx.bom.element.Style.setStyles(A,B);if(D.focusedRow&&this.getHighlightFocusRow()){C.backgroundColor=D.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused;}else {if(D.selected){C.backgroundColor=this._colors.bgcolSelected;}else {C.backgroundColor=(D.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd;};};C.color=D.selected?this._colors.colSelected:this._colors.colNormal;C.borderBottom=m+this._colors.horLine;},getRowHeightStyle:function(E){if(qx.core.Environment.get(j)==c){E-=this._insetY;};return e+E+v;},createRowStyle:function(G){var F=[];F.push(x);F.push(this._fontStyleString);F.push(q);if(G.focusedRow&&this.getHighlightFocusRow()){F.push(G.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused);}else {if(G.selected){F.push(this._colors.bgcolSelected);}else {F.push((G.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd);};};F.push(k);F.push(G.selected?this._colors.colSelected:this._colors.colNormal);F.push(s,this._colors.horLine);return F.join(r);},getRowClass:function(H){return r;},getRowAttributes:function(I){return r;}},destruct:function(){this._colors=this._fontStyle=this._fontStyleString=null;if(qx.core.Environment.get(o)){qx.theme.manager.Meta.getInstance().removeListener(f,this.initThemeValues,this);};}});})();(function(){var a="qx.ui.table.IColumnMenuButton";qx.Interface.define(a,{properties:{menu:{}},members:{factory:function(b,c){return true;},empty:function(){return true;}}});})();(function(){var a="Unrecognized factory request: ",b="menu-button",c="table-column-reset-button",d="separator",e="user-button",f="qx.ui.table.columnmenu.Button",g="menu";qx.Class.define(f,{extend:qx.ui.form.MenuButton,implement:qx.ui.table.IColumnMenuButton,construct:function(){qx.ui.form.MenuButton.call(this);this.__nx=new qx.ui.core.Blocker(this);},members:{__tf:null,__nx:null,factory:function(h,k){switch(h){case g:var m=new qx.ui.menu.Menu();this.setMenu(m);return m;case b:var n=new qx.ui.table.columnmenu.MenuItem(k.text);n.setColumnVisible(k.bVisible);this.getMenu().add(n);return n;case e:var j=new qx.ui.menu.Button(k.text);j.set({appearance:c});return j;case d:return new qx.ui.menu.Separator();default:throw new Error(a+h);};},getBlocker:function(){return this.__nx;},empty:function(){var o=this.getMenu();var p=o.getChildren();for(var i=0,l=p.length;i<l;i++ ){p[0].destroy();};}},destruct:function(){this.__nx.dispose();}});})();(function(){var a="qx.ui.table.IColumnMenuItem",b="qx.event.type.Data";qx.Interface.define(a,{properties:{columnVisible:{}},events:{changeColumnVisible:b}});})();(function(){var a="value",b="qx.ui.table.columnmenu.MenuItem",c="Boolean",d="columnVisible",e="changeColumnVisible";qx.Class.define(b,{extend:qx.ui.menu.CheckBox,implement:qx.ui.table.IColumnMenuItem,construct:function(f){qx.ui.menu.CheckBox.call(this,f);this.bind(a,this,d);this.bind(d,this,a);},properties:{columnVisible:{check:c,init:true,event:e}}});})();(function(){var a="qx.ui.table.selection.Model",b="qx.ui.table.selection.Manager";qx.Class.define(b,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);},properties:{selectionModel:{check:a}},members:{__tj:null,handleTap:function(c,d){if(d.isLeftPressed()){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){this._handleSelectEvent(c,d);this.__tj=true;}else {this.__tj=false;};}else if(d.isRightPressed()&&d.getModifiers()==0){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){e.setSelectionInterval(c,c);};};if(d.isLeftPressed()&&!this.__tj){this._handleSelectEvent(c,d);};},handleSelectKeyDown:function(f,g){this._handleSelectEvent(f,g);},handleMoveKeyDown:function(h,i){var k=this.getSelectionModel();switch(i.getModifiers()){case 0:k.setSelectionInterval(h,h);break;case qx.event.type.Dom.SHIFT_MASK:var j=k.getAnchorSelectionIndex();if(j==-1){k.setSelectionInterval(h,h);}else {k.setSelectionInterval(j,h);};break;};},_handleSelectEvent:function(l,n){var p=this.getSelectionModel();var m=p.getLeadSelectionIndex();var o=p.getAnchorSelectionIndex();if(n.isShiftPressed()){if(l!=m||p.isSelectionEmpty()){if(o==-1){o=l;};if(n.isCtrlOrCommandPressed()){p.addSelectionInterval(o,l);}else {p.setSelectionInterval(o,l);};};}else if(n.isCtrlOrCommandPressed()){if(p.isSelectedIndex(l)){p.removeSelectionInterval(l,l);}else {p.addSelectionInterval(l,l);};}else {p.setSelectionInterval(l,l);};}}});})();(function(){var a="qx.ui.table.ICellRenderer";qx.Interface.define(a,{members:{createDataCellHtml:function(b,c){return true;}}});})();(function(){var a="qooxdoo-table-cell",b="content",c='</div>',d="nowrap",e="default",f="changeTheme",g="}",h="width:",i=".qooxdoo-table-cell-right { text-align:right } ",j="css.boxsizing",k="css.boxmodel",l="0px 6px",m='<div class="',n="0px",o="height:",p="1px solid ",q=".qooxdoo-table-cell-bold { font-weight:bold } ",r="String",s="} ",t="qx.dyntheme",u='>',v="",w='" ',x="ellipsis",y="content-box",z="px;",A='left:',B="qx.ui.table.cellrenderer.Abstract",C='" style="',D="abstract",E="none",F=".qooxdoo-table-cell {",G="hidden",H="table-column-line",I='px;',J=".qooxdoo-table-cell-italic { font-style:italic} ",K="absolute";qx.Class.define(B,{type:D,implement:qx.ui.table.ICellRenderer,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);var L=qx.ui.table.cellrenderer.Abstract;if(!L.__tk){L.__tk=this.self(arguments);this._createStyleSheet();if(qx.core.Environment.get(t)){qx.theme.manager.Meta.getInstance().addListener(f,this._onChangeTheme,this);};};},properties:{defaultCellStyle:{init:null,check:r,nullable:true}},members:{_onChangeTheme:qx.core.Environment.select(t,{"true":function(){qx.bom.Stylesheet.removeAllRules(qx.ui.table.cellrenderer.Abstract.__tk.stylesheet);this._createStyleSheet();},"false":null}),_insetX:6+6+1,_insetY:0,_createStyleSheet:function(){var M=qx.theme.manager.Color.getInstance();var N=F+qx.bom.element.Style.compile({position:K,top:n,overflow:G,whiteSpace:d,borderRight:p+M.resolve(H),padding:l,cursor:e,textOverflow:x,userSelect:E})+s+i+J+q;if(qx.core.Environment.get(j)){N+=F+qx.bom.element.BoxSizing.compile(y)+g;};qx.ui.table.cellrenderer.Abstract.__tk.stylesheet=qx.bom.Stylesheet.createElement(N);},_getCellClass:function(O){return a;},_getCellStyle:function(P){return P.style||v;},_getCellAttributes:function(Q){return v;},_getContentHtml:function(R){return R.value||v;},_getCellSizeStyle:function(S,W,U,V){var T=v;if(qx.core.Environment.get(k)==b){S-=U;W-=V;};T+=h+Math.max(S,0)+z;T+=o+Math.max(W,0)+z;return T;},createDataCellHtml:function(X,Y){Y.push(m,this._getCellClass(X),C,A,X.styleLeft,I,this._getCellSizeStyle(X.styleWidth,X.styleHeight,this._insetX,this._insetY),this._getCellStyle(X),w,this._getCellAttributes(X),u+this._getContentHtml(X),c);}},destruct:function(){if(qx.core.Environment.get(t)){qx.theme.manager.Meta.getInstance().removeListener(f,this._onChangeTheme,this);};}});})();(function(){var a="Boolean",b="",c="qx.ui.table.cellrenderer.Default",d="number",e=" qooxdoo-table-cell-bold",f=" qooxdoo-table-cell-right",g=" qooxdoo-table-cell-italic",h="string";qx.Class.define(c,{extend:qx.ui.table.cellrenderer.Abstract,statics:{STYLEFLAG_ALIGN_RIGHT:1,STYLEFLAG_BOLD:2,STYLEFLAG_ITALIC:4,_numberFormat:null},properties:{useAutoAlign:{check:a,init:true}},members:{_getStyleFlags:function(i){if(this.getUseAutoAlign()){if(typeof i.value==d){return qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT;};};return 0;},_getCellClass:function(j){var k=qx.ui.table.cellrenderer.Abstract.prototype._getCellClass.call(this,j);if(!k){return b;};var l=this._getStyleFlags(j);if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT){k+=f;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_BOLD){k+=e;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ITALIC){k+=g;};return k;},_getContentHtml:function(m){return qx.bom.String.escape(this._formatValue(m));},_formatValue:function(n){var p=n.value;var o;if(p==null){return b;};if(typeof p==h){return p;}else if(typeof p==d){if(!qx.ui.table.cellrenderer.Default._numberFormat){qx.ui.table.cellrenderer.Default._numberFormat=new qx.util.format.NumberFormat();qx.ui.table.cellrenderer.Default._numberFormat.setMaximumFractionDigits(2);};o=qx.ui.table.cellrenderer.Default._numberFormat.format(p);}else if(p instanceof Date){o=qx.util.format.DateFormat.getDateInstance().format(p);}else {o=p.toString();};return o;}}});})();(function(){var a="-",b="Boolean",c='{0,1}[0-9]{3}){0,}){0,1}',d=")?$",e="Number string '",f="' does not match the number format",g="Wrong argument type. String is expected.",h="0",i="^(",j="changeLocale",k=')?([-+]){0,1}',l='(',m="-Infinity",n="String",o="",p='\\d+){0,1}(',q='([0-9]{1,3}(?:',r="g",s="qx.util.format.NumberFormat",t="qx.dynlocale",u="locale",v="Wrong number of arguments.",w="Number",x="NaN",y="changeNumberFormat",z=".",A="Infinity";qx.Class.define(s,{extend:qx.core.Object,implement:[qx.util.format.IFormat,qx.core.IDisposable],construct:function(B){qx.core.Object.call(this);if(arguments.length>0){if(arguments.length===1){if(qx.lang.Type.isString(B)){this.setLocale(B);}else {throw new Error(g);};}else {throw new Error(v);};};if(!B){this.setLocale(qx.locale.Manager.getInstance().getLocale());if(qx.core.Environment.get(t)){qx.locale.Manager.getInstance().bind(u,this,u);};};},properties:{minimumIntegerDigits:{check:w,init:0},maximumIntegerDigits:{check:w,nullable:true},minimumFractionDigits:{check:w,init:0},maximumFractionDigits:{check:w,nullable:true},groupingUsed:{check:b,init:true},prefix:{check:n,init:o,event:y},postfix:{check:n,init:o,event:y},locale:{check:n,init:null,event:j}},members:{format:function(H){if(isNaN(H)){return x;};switch(H){case Infinity:return A;case -Infinity:return m;};var F=(H<0);if(F){H=-H;};if(this.getMaximumFractionDigits()!=null){var N=Math.pow(10,this.getMaximumFractionDigits());H=Math.round(H*N)/N;};var L=String(Math.floor(H)).length;var C=o+H;var J=C.substring(0,L);while(J.length<this.getMinimumIntegerDigits()){J=h+J;};if(this.getMaximumIntegerDigits()!=null&&J.length>this.getMaximumIntegerDigits()){J=J.substring(J.length-this.getMaximumIntegerDigits());};var I=C.substring(L+1);while(I.length<this.getMinimumFractionDigits()){I+=h;};if(this.getMaximumFractionDigits()!=null&&I.length>this.getMaximumFractionDigits()){I=I.substring(0,this.getMaximumFractionDigits());};if(this.getGroupingUsed()){var E=J;J=o;var M;for(M=E.length;M>3;M-=3){J=o+qx.locale.Number.getGroupSeparator(this.getLocale())+E.substring(M-3,M)+J;};J=E.substring(0,M)+J;};var G=this.getPrefix()?this.getPrefix():o;var D=this.getPostfix()?this.getPostfix():o;var K=G+(F?a:o)+J;if(I.length>0){K+=o+qx.locale.Number.getDecimalSeparator(this.getLocale())+I;};K+=D;return K;},parse:function(W){var S=qx.lang.String.escapeRegexpChars(qx.locale.Number.getGroupSeparator(this.getLocale())+o);var Q=qx.lang.String.escapeRegexpChars(qx.locale.Number.getDecimalSeparator(this.getLocale())+o);var O=new RegExp(i+qx.lang.String.escapeRegexpChars(this.getPrefix())+k+q+S+c+l+Q+p+qx.lang.String.escapeRegexpChars(this.getPostfix())+d);var R=O.exec(W);if(R==null){throw new Error(e+W+f);};var T=(R[2]==a);var V=R[3]||h;var U=R[4];V=V.replace(new RegExp(S,r),o);var P=(T?a:o)+V;if(U!=null&&U.length!=0){U=U.replace(new RegExp(Q),o);P+=z+U;};return parseFloat(P);}},destruct:function(){if(qx.core.Environment.get(t)){qx.locale.Manager.getInstance().removeRelatedBindings(this);};}});})();(function(){var a="qx.ui.table.ICellEditorFactory";qx.Interface.define(a,{members:{createCellEditor:function(b){return true;},getCellEditorValue:function(c){return true;}}});})();(function(){var a="Function",b="abstract",c="",d="number",e="appear",f="Abstract method call!",g="qx.ui.table.celleditor.AbstractField";qx.Class.define(g,{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,type:b,properties:{validationFunction:{check:a,nullable:true,init:null}},members:{_createEditor:function(){throw new Error(f);},createCellEditor:function(h){var i=this._createEditor();i.originalValue=h.value;if(h.value===null||h.value===undefined){h.value=c;};i.setValue(c+h.value);i.addListener(e,function(){i.selectAllText();});return i;},getCellEditorValue:function(j){var k=j.getValue();var l=this.getValidationFunction();if(l){k=l(k,j.originalValue);};if(typeof j.originalValue==d){k=parseFloat(k);};return k;}}});})();(function(){var a='',b="number",c="qx.ui.table.celleditor.TextField",d="table-editor-textfield";qx.Class.define(c,{extend:qx.ui.table.celleditor.AbstractField,members:{getCellEditorValue:function(e){var f=e.getValue();var g=this.getValidationFunction();if(g){f=g(f,e.originalValue);};if(typeof e.originalValue==b){if(f!=null&&f!=a){f=parseFloat(f);};};return f;},_createEditor:function(){var h=new qx.ui.form.TextField();h.setAppearance(d);return h;}}});})();(function(){var a="qx.ui.table.IHeaderRenderer";qx.Interface.define(a,{members:{createHeaderCell:function(b){return true;},updateHeaderCell:function(c,d){return true;}}});})();(function(){var a="qx.ui.table.headerrenderer.Default",b="sortedAscending",c="sorted",d="String";qx.Class.define(a,{extend:qx.core.Object,implement:qx.ui.table.IHeaderRenderer,statics:{STATE_SORTED:c,STATE_SORTED_ASCENDING:b},properties:{toolTip:{check:d,init:null,nullable:true}},members:{createHeaderCell:function(e){var f=new qx.ui.table.headerrenderer.HeaderCell();this.updateHeaderCell(e,f);return f;},updateHeaderCell:function(j,i){var h=qx.ui.table.headerrenderer.Default;if(j.name&&j.name.translate){i.setLabel(j.name.translate());}else {i.setLabel(j.name);};var g=i.getToolTip();if(this.getToolTip()!=null){if(g==null){g=new qx.ui.tooltip.ToolTip(this.getToolTip());i.setToolTip(g);qx.util.DisposeUtil.disposeTriggeredBy(g,i);}else {g.setLabel(this.getToolTip());};};j.sorted?i.addState(h.STATE_SORTED):i.removeState(h.STATE_SORTED);j.sortedAscending?i.addState(h.STATE_SORTED_ASCENDING):i.removeState(h.STATE_SORTED_ASCENDING);}}});})();(function(){var a="_applySortIcon",b="_applyIcon",c="icon",d="label",e="table-header-cell",f="qx.ui.table.headerrenderer.HeaderCell",g="_applyLabel",h="String",i="sort-icon";qx.Class.define(f,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this);var j=new qx.ui.layout.Grid();j.setRowFlex(0,1);j.setColumnFlex(1,1);j.setColumnFlex(2,1);this.setLayout(j);},properties:{appearance:{refine:true,init:e},label:{check:h,init:null,nullable:true,apply:g},sortIcon:{check:h,init:null,nullable:true,apply:a,themeable:true},icon:{check:h,init:null,nullable:true,apply:b}},members:{_applyLabel:function(l,k){if(l){this._showChildControl(d).setValue(l);}else {this._excludeChildControl(d);};},_applySortIcon:function(n,m){if(n){this._showChildControl(i).setSource(n);}else {this._excludeChildControl(i);};},_applyIcon:function(p,o){if(p){this._showChildControl(c).setSource(p);}else {this._excludeChildControl(c);};},_createChildControlImpl:function(s,r){var q;switch(s){case d:q=new qx.ui.basic.Label(this.getLabel()).set({anonymous:true,allowShrinkX:true});this._add(q,{row:0,column:1});break;case i:q=new qx.ui.basic.Image(this.getSortIcon());q.setAnonymous(true);this._add(q,{row:0,column:2});break;case c:q=new qx.ui.basic.Image(this.getIcon()).set({anonymous:true,allowShrinkX:true});this._add(q,{row:0,column:0});break;};return q||qx.ui.container.Composite.prototype._createChildControlImpl.call(this,s);}}});})();(function(){var a="visibilityChanged",b="orderChanged",c="widthChanged",d="qx.ui.table.columnmodel.Basic",e=". The column is not added to this TablePaneModel.",f="Showing column failed: ",g=", got ",h="setColumnsOrder: Invalid number of column positions given, expected ",j="headerCellRendererChanged",k="__tr",l="qx.event.type.Data",m="__tp",n="__tq",o="visibilityChangedPre";qx.Class.define(d,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__tl=[];this.__tm=[];},events:{"widthChanged":l,"visibilityChangedPre":l,"visibilityChanged":l,"orderChanged":l,"headerCellRendererChanged":l},statics:{DEFAULT_WIDTH:100,DEFAULT_HEADER_RENDERER:qx.ui.table.headerrenderer.Default,DEFAULT_DATA_RENDERER:qx.ui.table.cellrenderer.Default,DEFAULT_EDITOR_FACTORY:qx.ui.table.celleditor.TextField},members:{__te:null,__tn:null,__tm:null,__tl:null,__to:null,__tp:null,__tq:null,__tr:null,init:function(s,v){{};this.__to=[];var r=qx.ui.table.columnmodel.Basic.DEFAULT_WIDTH;var t=this.__tp||(this.__tp=new qx.ui.table.columnmodel.Basic.DEFAULT_HEADER_RENDERER());var q=this.__tq||(this.__tq=new qx.ui.table.columnmodel.Basic.DEFAULT_DATA_RENDERER());var p=this.__tr||(this.__tr=new qx.ui.table.columnmodel.Basic.DEFAULT_EDITOR_FACTORY());this.__tl=[];this.__tm=[];var u;if(v){u=v.getInitiallyHiddenColumns();};u=u||[];for(var z=0;z<s;z++ ){this.__to[z]={width:r,headerRenderer:t,dataRenderer:q,editorFactory:p};this.__tl[z]=z;this.__tm[z]=z;};this.__tn=null;this.__te=true;for(var w=0;w<u.length;w++ ){this.setColumnVisible(u[w],false);};this.__te=false;for(z=0;z<s;z++ ){var y={col:z,visible:this.isColumnVisible(z)};this.fireDataEvent(o,y);this.fireDataEvent(a,y);};},getVisibleColumns:function(){return this.__tm!=null?this.__tm:[];},setColumnWidth:function(E,A,D){{};var C=this.__to[E].width;if(C!=A){this.__to[E].width=A;var B={col:E,newWidth:A,oldWidth:C,isPointerAction:D||false};this.fireDataEvent(c,B);};},getColumnWidth:function(F){{};return this.__to[F].width;},setHeaderCellRenderer:function(H,I){{};var G=this.__to[H].headerRenderer;if(G!==this.__tp){G.dispose();};this.__to[H].headerRenderer=I;if(!this.__te){this.fireDataEvent(j,{col:H});};},setHeaderCellRenderers:function(J){var K;this.__te=true;for(K in J){this.setHeaderCellRenderer(+K,J[K]);};this.__te=false;this.fireDataEvent(j,{cols:Object.keys(J)});},getHeaderCellRenderer:function(L){{};return this.__to[L].headerRenderer;},setDataCellRenderer:function(N,O){{};var M=this.__to[N].dataRenderer;this.__to[N].dataRenderer=O;if(M!==this.__tq){return M;};return null;},getDataCellRenderer:function(P){{};return this.__to[P].dataRenderer;},setCellEditorFactory:function(R,Q){{};var S=this.__to[R].editorFactory;if(S===Q){return;};if(S!==this.__tr){S.dispose();};this.__to[R].editorFactory=Q;},getCellEditorFactory:function(T){{};return this.__to[T].editorFactory;},_getColToXPosMap:function(){if(this.__tn==null){this.__tn={};for(var W=0;W<this.__tl.length;W++ ){var V=this.__tl[W];this.__tn[V]={overX:W};};for(var U=0;U<this.__tm.length;U++ ){var V=this.__tm[U];this.__tn[V].visX=U;};};return this.__tn;},getVisibleColumnCount:function(){return this.__tm!=null?this.__tm.length:0;},getVisibleColumnAtX:function(X){{};return this.__tm[X];},getVisibleX:function(Y){{};return this._getColToXPosMap()[Y].visX;},getOverallColumnCount:function(){return this.__tl.length;},getOverallColumnAtX:function(ba){{};return this.__tl[ba];},getOverallX:function(bb){{};return this._getColToXPosMap()[bb].overX;},isColumnVisible:function(bc){{};return (this._getColToXPosMap()[bc].visX!=null);},setColumnVisible:function(bl,bf){{};if(bf!=this.isColumnVisible(bl)){if(bf){var bj=this._getColToXPosMap();var bh=bj[bl].overX;if(bh==null){throw new Error(f+bl+e);};var bg;for(var x=bh+1;x<this.__tl.length;x++ ){var bi=this.__tl[x];var bd=bj[bi].visX;if(bd!=null){bg=bd;break;};};if(bg==null){bg=this.__tm.length;};this.__tm.splice(bg,0,bl);}else {var be=this.getVisibleX(bl);this.__tm.splice(be,1);};this.__tn=null;if(!this.__te){var bk={col:bl,visible:bf};this.fireDataEvent(o,bk);this.fireDataEvent(a,bk);};};},moveColumn:function(bm,bp){{};this.__te=true;var bq=this.__tl[bm];var bn=this.isColumnVisible(bq);if(bn){this.setColumnVisible(bq,false);};this.__tl.splice(bm,1);this.__tl.splice(bp,0,bq);this.__tn=null;if(bn){this.setColumnVisible(bq,true);};this.__te=false;var bo={col:bq,fromOverXPos:bm,toOverXPos:bp};this.fireDataEvent(b,bo);},setColumnsOrder:function(bt){{};if(bt.length==this.__tl.length){this.__te=true;var bs=new Array(bt.length);for(var br=0;br<this.__tl.length;br++ ){var bu=this.isColumnVisible(br);bs[br]=bu;if(bu){this.setColumnVisible(br,false);};};this.__tl=qx.lang.Array.clone(bt);this.__tn=null;for(var br=0;br<this.__tl.length;br++ ){if(bs[br]){this.setColumnVisible(br,true);};};this.__te=false;this.fireDataEvent(b);}else {throw new Error(h+this.__tl.length+g+bt.length);};}},destruct:function(){for(var i=0;i<this.__to.length;i++ ){this.__to[i].headerRenderer.dispose();this.__to[i].dataRenderer.dispose();this.__to[i].editorFactory.dispose();};this.__tl=this.__tm=this.__to=this.__tn=null;this._disposeObjects(m,n,k);}});})();(function(){var a='<div>',b="</div>",c="overflow: hidden;",d="qx.event.type.Data",e='</div>',f="paneReloadsData",g="div",h='style="',j="_applyMaxCacheLines",k="track",l="qx.ui.table.pane.Pane",m="width: 100%;",n="qx.event.type.Event",o="_applyVisibleRowCount",p='>',q="",r='" ',s="line-height: ",t="paneUpdated",u="appear",v='class="',w="width:100%;",z="px;",A='<div ',B="'>",C="Number",D="_applyFirstVisibleRow",E="<div style='",F=";position:relative;";qx.Class.define(l,{extend:qx.ui.core.Widget,construct:function(G){qx.ui.core.Widget.call(this);this.__ts=G;this.__tt=0;this.__td=0;this.__tu=[];},events:{"paneReloadsData":d,"paneUpdated":n},properties:{firstVisibleRow:{check:C,init:0,apply:D},visibleRowCount:{check:C,init:0,apply:o},maxCacheLines:{check:C,init:1000,apply:j},allowShrinkX:{refine:true,init:false}},members:{__td:null,__tt:null,__ts:null,__tv:null,__ta:null,__sY:null,__tu:null,__tw:0,_applyFirstVisibleRow:function(I,H){this.updateContent(false,I-H);},_applyVisibleRowCount:function(K,J){this.updateContent(true);},_getContentHint:function(){return {width:this.getPaneScroller().getTablePaneModel().getTotalWidth(),height:400};},getPaneScroller:function(){return this.__ts;},getTable:function(){return this.__ts.getTable();},setFocusedCell:function(N,M,L){if(N!=this.__sY||M!=this.__ta){var O=this.__ta;this.__sY=N;this.__ta=M;if(M!=O&&!L){if(O!==null){this.updateContent(false,null,O,true);};if(M!==null){this.updateContent(false,null,M,true);};};};},onSelectionChanged:function(){this.updateContent(false,null,null,true);},onFocusChanged:function(){this.updateContent(false,null,null,true);},setColumnWidth:function(Q,P){this.updateContent(true);},onColOrderChanged:function(){this.updateContent(true);},onPaneModelChanged:function(){this.updateContent(true);},onTableModelDataChanged:function(U,W,S,R){this.__tx();var T=this.getFirstVisibleRow();var V=this.getVisibleRowCount();if(W==-1||W>=T&&U<T+V){this.updateContent();};},onTableModelMetaDataChanged:function(){this.updateContent(true);},_applyMaxCacheLines:function(Y,X){if(this.__tw>=Y&&Y!==-1){this.__tx();};},__tx:function(){this.__tu=[];this.__tw=0;},__ty:function(bc,ba,bb){if(!ba&&!bb&&this.__tu[bc]){return this.__tu[bc];}else {return null;};},__tz:function(bh,bg,be,bf){var bd=this.getMaxCacheLines();if(!be&&!bf&&!this.__tu[bh]&&bd>0){this._applyMaxCacheLines(bd);this.__tu[bh]=bg;this.__tw+=1;};},updateContent:function(bi,bl,bk,bj){if(bi){this.__tx();};if(bl&&Math.abs(bl)<=Math.min(10,this.getVisibleRowCount())){this._scrollContent(bl);}else if(bj&&!this.getTable().getAlwaysUpdateCells()){this._updateRowStyles(bk);}else {this._updateAllRows();};},_updateRowStyles:function(br){var bq=this.getContentElement().getDomElement();if(!bq||!bq.firstChild){this._updateAllRows();return;};var bu=this.getTable();var bn=bu.getSelectionModel();var bs=bu.getTableModel();var bv=bu.getDataRowRenderer();var bp=bq.firstChild.childNodes;var bo={table:bu};var bw=this.getFirstVisibleRow();var y=0;var bm=bp.length;if(br!=null){var bt=br-bw;if(bt>=0&&bt<bm){bw=br;y=bt;bm=bt+1;}else {return;};};for(;y<bm;y++ ,bw++ ){bo.row=bw;bo.selected=bn.isSelectedIndex(bw);bo.focusedRow=(this.__ta==bw);bo.rowData=bs.getRowData(bw);bv.updateDataRowElement(bo,bp[y]);};},_getRowsHtml:function(bI,bR){var bC=this.getTable();var bF=bC.getSelectionModel();var bA=bC.getTableModel();var bB=bC.getTableColumnModel();var bW=this.getPaneScroller().getTablePaneModel();var bL=bC.getDataRowRenderer();bA.prefetchRows(bI,bI+bR-1);var bT=bC.getRowHeight();var bV=bW.getColumnCount();var cb=0;var bz=[];for(var x=0;x<bV;x++ ){var ca=bW.getColumnAtX(x);var bE=bB.getColumnWidth(ca);bz.push({col:ca,xPos:x,editable:bA.isColumnEditable(ca),focusedCol:this.__sY==ca,styleLeft:cb,styleWidth:bE});cb+=bE;};var bY=[];var bx=false;for(var bD=bI;bD<bI+bR;bD++ ){var bG=bF.isSelectedIndex(bD);var bK=(this.__ta==bD);var bM=this.__ty(bD,bG,bK);if(bM){bY.push(bM);continue;};var bN=[];var bS={table:bC};bS.styleHeight=bT;bS.row=bD;bS.selected=bG;bS.focusedRow=bK;bS.rowData=bA.getRowData(bD);if(!bS.rowData){bx=true;};bN.push(A);var bO=bL.getRowAttributes(bS);if(bO){bN.push(bO);};var by=bL.getRowClass(bS);if(by){bN.push(v,by,r);};var bP=bL.createRowStyle(bS);bP+=F+bL.getRowHeightStyle(bT)+w;if(bP){bN.push(h,bP,r);};bN.push(p);var bX=false;for(x=0;x<bV&&!bX;x++ ){var bH=bz[x];for(var bU in bH){bS[bU]=bH[bU];};var ca=bS.col;bS.value=bA.getValue(ca,bD);var bJ=bB.getDataCellRenderer(ca);bS.style=bJ.getDefaultCellStyle();bX=bJ.createDataCellHtml(bS,bN)||false;};bN.push(e);var bQ=bN.join(q);this.__tz(bD,bQ,bG,bK);bY.push(bQ);};this.fireDataEvent(f,bx);return bY.join(q);},_scrollContent:function(cn){var cc=this.getContentElement().getDomElement();if(!(cc&&cc.firstChild)){this._updateAllRows();return;};var cl=cc.firstChild;var cd=cl.childNodes;var cf=this.getVisibleRowCount();var ci=this.getFirstVisibleRow();var cg=this.getTable().getTableModel();var cm=0;cm=cg.getRowCount();if(ci+cf>cm){this._updateAllRows();return;};var co=cn<0?cf+cn:0;var ce=cn<0?0:cf-cn;for(var i=Math.abs(cn)-1;i>=0;i-- ){var ch=cd[co];try{cl.removeChild(ch);}catch(cp){break;};};if(!this.__tv){this.__tv=document.createElement(g);};var ck=a;ck+=this._getRowsHtml(ci+ce,Math.abs(cn));ck+=e;this.__tv.innerHTML=ck;var cj=this.__tv.firstChild.childNodes;if(cn>0){for(var i=cj.length-1;i>=0;i-- ){var ch=cj[0];cl.appendChild(ch);};}else {for(var i=cj.length-1;i>=0;i-- ){var ch=cj[cj.length-1];cl.insertBefore(ch,cl.firstChild);};};if(this.__ta!==null){this._updateRowStyles(this.__ta-cn);this._updateRowStyles(this.__ta);};this.fireEvent(t);},_updateAllRows:function(){var ct=this.getContentElement().getDomElement();if(!ct){this.addListenerOnce(u,this._updateAllRows,this);return;};var cz=this.getTable();var cw=cz.getTableModel();var cy=this.getPaneScroller().getTablePaneModel();var cx=cy.getColumnCount();var cq=cz.getRowHeight();var cu=this.getFirstVisibleRow();var cr=this.getVisibleRowCount();var cA=cw.getRowCount();if(cu+cr>cA){cr=Math.max(0,cA-cu);};var cs=cy.getTotalWidth();var cv;if(cr>0){cv=[E,m,(cz.getForceLineHeight()?s+cq+z:q),c,B,this._getRowsHtml(cu,cr),b];}else {cv=[];};var cB=cv.join(q);ct.innerHTML=cB;this.setWidth(cs);this.__tt=cx;this.__td=cr;this.fireEvent(t);}},destruct:function(){this.__tv=this.__ts=this.__tu=null;this.removeListener(k,this._onTrack,this);}});})();(function(){var a="first",b="hovered",c="__ts",d="last",e="qx.ui.table.pane.Header";qx.Class.define(e,{extend:qx.ui.core.Widget,construct:function(f){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this.__nx=new qx.ui.core.Blocker(this);this.__ts=f;},members:{__ts:null,__tA:null,__tB:null,__nx:null,getPaneScroller:function(){return this.__ts;},getTable:function(){return this.__ts.getTable();},getBlocker:function(){return this.__nx;},onColOrderChanged:function(){this._updateContent(true);},onPaneModelChanged:function(){this._updateContent(true);},onTableModelMetaDataChanged:function(){this._updateContent();},setColumnWidth:function(h,g,i){var j=this.getHeaderWidgetAtColumn(h);if(j!=null){j.setWidth(g);};},setPointerOverColumn:function(l){if(l!=this.__tB){if(this.__tB!=null){var k=this.getHeaderWidgetAtColumn(this.__tB);if(k!=null){k.removeState(b);};};if(l!=null){this.getHeaderWidgetAtColumn(l).addState(b);};this.__tB=l;};},getHeaderWidgetAtColumn:function(n){var m=this.getPaneScroller().getTablePaneModel().getX(n);return this._getChildren()[m];},showColumnMoveFeedback:function(y,x){var r=this.getContentLocation();if(this.__tA==null){var w=this.getTable();var o=this.getPaneScroller().getTablePaneModel().getX(y);var q=this._getChildren()[o];var s=w.getTableModel();var u=w.getTableColumnModel();var v={xPos:o,col:y,name:s.getColumnName(y),table:w};var t=u.getHeaderCellRenderer(y);var p=t.createHeaderCell(v);var z=q.getBounds();p.setWidth(z.width);p.setHeight(z.height);p.setZIndex(1000000);p.setOpacity(0.8);p.setLayoutProperties({top:r.top});this.getApplicationRoot().add(p);this.__tA=p;};this.__tA.setLayoutProperties({left:r.left+x});this.__tA.show();},hideColumnMoveFeedback:function(){if(this.__tA!=null){this.__tA.destroy();this.__tA=null;};},isShowingColumnMoveFeedback:function(){return this.__tA!=null;},_updateContent:function(B){var L=this.getTable();var E=L.getTableModel();var H=L.getTableColumnModel();var A=this.getPaneScroller().getTablePaneModel();var D=this._getChildren();var F=A.getColumnCount();var I=E.getSortColumnIndex();if(B){this._cleanUpCells();};var J={};J.sortedAscending=E.isSortAscending();for(var x=0;x<F;x++ ){var M=A.getColumnAtX(x);if(M===undefined){continue;};var K=H.getColumnWidth(M);var G=H.getHeaderCellRenderer(M);J.xPos=x;J.col=M;J.name=E.getColumnName(M);J.editable=E.isColumnEditable(M);J.sorted=(M==I);J.table=L;var C=D[x];if(C==null){C=G.createHeaderCell(J);C.set({width:K});this._add(C);}else {G.updateHeaderCell(J,C);};if(x===0){C.addState(a);C.removeState(d);}else if(x===F-1){C.removeState(a);C.addState(d);}else {C.removeState(a);C.removeState(d);};};},_cleanUpCells:function(){var O=this._getChildren();for(var x=O.length-1;x>=0;x-- ){var N=O[x];N.destroy();};}},destruct:function(){this.__nx.dispose();this._disposeObjects(c);}});})();(function(){var a="__tE",b="changeScrollX",c="Boolean",d="scroll",g="focus-indicator",h="_paneClipper",i="changeHorizontalScrollBarVisible",j="cellDbltap",k="excluded",l="bottom",m="_applyScrollTimeout",n="__tG",o="_applyTablePaneModel",p="Integer",q="cellTap",r="roll",s="qx.event.type.Data",t="dblclick",u="dataEdited",v="__ej",w="mouse",y="changeVerticalScrollBarVisible",z="interval",A="qx.ui.table.pane.Scroller",B="scrollbar-y",C="table-scroller-focus-indicator",D="_headerClipper",E="visible",F="hidden",G="__tI",H="resize-line",I="_applyShowCellFocusIndicator",J="header",K="dbltap",L="resize",M="pointerup",N="vertical",O="changeScrollY",P="__pn",Q="__tH",R="device.type",S="__tD",T="os.scrollBarOverlayed",U="pointerdown",V="modelChanged",W="changeTablePaneModel",X="beforeSort",Y="scrollbar-x",bA="__tF",bB="cellContextmenu",bC="horizontal",bw="table-scroller",bx="appear",by="losecapture",bz="contextmenu",bG="col-resize",bH="disappear",bI="_applyVerticalScrollBarVisible",bN="_applyHorizontalScrollBarVisible",bD="editing",bE="pane",bF="desktop",bu="close",bM="tap",bv="pointermove",bJ="qx.ui.table.pane.Model",bK="qx.ui.table.pane.CellEvent",bL="pointerout";qx.Class.define(A,{extend:qx.ui.core.Widget,include:[qx.ui.core.scroll.MScrollBarFactory],construct:function(bO){qx.ui.core.Widget.call(this);this.__tC=bO;var bP=new qx.ui.layout.Grid();bP.setColumnFlex(0,1);bP.setRowFlex(1,1);this._setLayout(bP);this.__pn=this._showChildControl(J);this.__tD=this._showChildControl(bE);this.__tE=new qx.ui.container.Composite(new qx.ui.layout.HBox()).set({minWidth:0});this._add(this.__tE,{row:0,column:0,colSpan:2});this._headerClipper=this._createHeaderClipper();this._headerClipper.add(this.__pn);this._headerClipper.addListener(by,this._onChangeCaptureHeader,this);this._headerClipper.addListener(bv,this._onPointermoveHeader,this);this._headerClipper.addListener(U,this._onPointerdownHeader,this);this._headerClipper.addListener(M,this._onPointerupHeader,this);this._headerClipper.addListener(bM,this._onTapHeader,this);this.__tE.add(this._headerClipper,{flex:1});this._paneClipper=this._createPaneClipper();this._paneClipper.add(this.__tD);this._paneClipper.addListener(r,this._onRoll,this);this._paneClipper.addListener(bv,this._onPointermovePane,this);this._paneClipper.addListener(U,this._onPointerdownPane,this);this._paneClipper.addListener(bM,this._onTapPane,this);this._paneClipper.addListener(bz,this._onTapPane,this);this._paneClipper.addListener(bz,this._onContextMenu,this);if(qx.core.Environment.get(R)===bF){this._paneClipper.addListener(t,this._onDbltapPane,this);}else {this._paneClipper.addListener(K,this._onDbltapPane,this);};this._paneClipper.addListener(L,this._onResizePane,this);if(qx.core.Environment.get(T)){this.__tF=new qx.ui.container.Composite();this.__tF.setLayout(new qx.ui.layout.Canvas());this.__tF.add(this._paneClipper,{edge:0});this._add(this.__tF,{row:1,column:0});}else {this._add(this._paneClipper,{row:1,column:0});};this.__tG=this._showChildControl(Y);this.__tH=this._showChildControl(B);this.__tI=this.getChildControl(g);this.initShowCellFocusIndicator();this.getChildControl(H).hide();this.addListener(bL,this._onPointerout,this);this.addListener(bx,this._onAppear,this);this.addListener(bH,this._onDisappear,this);this.__ej=new qx.event.Timer();this.__ej.addListener(z,this._oninterval,this);this.initScrollTimeout();},statics:{MIN_COLUMN_WIDTH:10,RESIZE_REGION_RADIUS:5,TAP_TOLERANCE:5,HORIZONTAL_SCROLLBAR:1,VERTICAL_SCROLLBAR:2},events:{"changeScrollY":s,"changeScrollX":s,"cellTap":bK,"cellDbltap":bK,"cellContextmenu":bK,"beforeSort":s},properties:{horizontalScrollBarVisible:{check:c,init:false,apply:bN,event:i,nullable:true},verticalScrollBarVisible:{check:c,init:false,apply:bI,event:y},tablePaneModel:{check:bJ,apply:o,event:W},liveResize:{check:c,init:false},focusCellOnPointerMove:{check:c,init:false},selectBeforeFocus:{check:c,init:false},showCellFocusIndicator:{check:c,init:true,apply:I},contextMenuFromDataCellsOnly:{check:c,init:true},resetSelectionOnHeaderTap:{check:c,init:true},scrollTimeout:{check:p,init:100,apply:m},appearance:{refine:true,init:bw}},members:{__td:null,__tC:null,__tJ:null,__tK:null,__tL:null,_moveColumn:null,__tM:null,_lastMoveTargetX:null,_lastMoveTargetScroller:null,__tN:null,__tO:null,__tP:null,__tQ:null,__tR:null,__tS:false,__tT:null,__tU:null,__tV:null,__sY:null,__ta:null,_cellEditor:null,__tW:null,__tX:null,__tG:null,__tH:null,__pn:null,_headerClipper:null,__tD:null,_paneClipper:null,__tF:null,__tI:null,__tE:null,__ej:null,__tY:null,getPaneInsetRight:function(){var bS=this.getTopRightWidget();var bT=bS&&bS.isVisible()&&bS.getBounds()?bS.getBounds().width+bS.getMarginLeft()+bS.getMarginRight():0;var bR=this.__tH;var bQ=this.getVerticalScrollBarVisible()?this.getVerticalScrollBarWidth()+bR.getMarginLeft()+bR.getMarginRight():0;return Math.max(bT,bQ);},setPaneWidth:function(bU){if(this.isVerticalScrollBarVisible()){bU+=this.getPaneInsetRight();};this.setWidth(bU);},_createChildControlImpl:function(bX,bW){var bV;switch(bX){case J:bV=(this.getTable().getNewTablePaneHeader())(this);break;case bE:bV=(this.getTable().getNewTablePane())(this);break;case g:bV=new qx.ui.table.pane.FocusIndicator(this);bV.setUserBounds(0,0,0,0);bV.setZIndex(1000);bV.addListener(M,this._onPointerupFocusIndicator,this);this._paneClipper.add(bV);bV.show();bV.setDecorator(null);break;case H:bV=new qx.ui.core.Widget();bV.setUserBounds(0,0,0,0);bV.setZIndex(1000);this._paneClipper.add(bV);break;case Y:bV=this._createScrollBar(bC).set({alignY:l});bV.addListener(d,this._onScrollX,this);if(this.__tF!=null){bV.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this.__tF.add(bV,{bottom:0,right:0,left:0});}else {this._add(bV,{row:2,column:0});};break;case B:bV=this._createScrollBar(N);bV.addListener(d,this._onScrollY,this);if(this.__tF!=null){this.__tF.add(bV,{right:0,bottom:0,top:0});}else {this._add(bV,{row:1,column:1});};break;};return bV||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bX);},_applyHorizontalScrollBarVisible:function(ca,bY){if(ca===null){this.__tG.setVisibility(F);}else {this.__tG.setVisibility(ca?E:k);};},_applyVerticalScrollBarVisible:function(cc,cb){this.__tH.setVisibility(cc?E:k);},_applyTablePaneModel:function(ce,cd){if(cd!=null){cd.removeListener(V,this._onPaneModelChanged,this);};ce.addListener(V,this._onPaneModelChanged,this);},_applyShowCellFocusIndicator:function(cg,cf){if(cg){this.__tI.setDecorator(C);this._updateFocusIndicator();}else {if(this.__tI){this.__tI.setDecorator(null);};};},getScrollY:function(){return this.__tH.getPosition();},setScrollY:function(scrollY,ch){this.__tH.scrollTo(scrollY);if(ch){this._updateContent();};},getScrollX:function(){return this.__tG.getPosition();},setScrollX:function(scrollX){this.__tG.scrollTo(scrollX);},getTable:function(){return this.__tC;},_createPaneClipper:function(){return new qx.ui.table.pane.Clipper();},_createHeaderClipper:function(){return new qx.ui.table.pane.Clipper();},onColVisibilityChanged:function(){this.updateHorScrollBarMaximum();this._updateFocusIndicator();},setColumnWidth:function(ck,cj){this.__pn.setColumnWidth(ck,cj);this.__tD.setColumnWidth(ck,cj);var ci=this.getTablePaneModel();var x=ci.getX(ck);if(x!=-1){this.updateHorScrollBarMaximum();this._updateFocusIndicator();};},onColOrderChanged:function(){this.__pn.onColOrderChanged();this.__tD.onColOrderChanged();this.updateHorScrollBarMaximum();},onTableModelDataChanged:function(cn,cq,cm,cl){this.__tD.onTableModelDataChanged(cn,cq,cm,cl);var co=this.getTable().getTableModel().getRowCount();var cp=this.__tC.getTableColumnModel().getOverallColumnCount();if(co!=this.__td){this.updateVerScrollBarMaximum();if(this.getFocusedRow()===null&&co>0&&cp>0){this.setFocusedCell(this.getFocusedColumn()||0,0);}else if(this.getFocusedRow()>=co){if(co==0){this.setFocusedCell(null,null);}else {this.setFocusedCell(this.getFocusedColumn(),co-1);};};this.__td=co;};},onSelectionChanged:function(){this.__tD.onSelectionChanged();},onFocusChanged:function(){this.__tD.onFocusChanged();},onTableModelMetaDataChanged:function(){this.__pn.onTableModelMetaDataChanged();this.__tD.onTableModelMetaDataChanged();},_onPaneModelChanged:function(){this.__pn.onPaneModelChanged();this.__tD.onPaneModelChanged();},_onResizePane:function(){this.updateHorScrollBarMaximum();this.updateVerScrollBarMaximum();this._updateContent();this.__pn._updateContent();this.__tC._updateScrollBarVisibility();},updateHorScrollBarMaximum:function(){var cv=this._paneClipper.getInnerSize();if(!cv){return;};var cs=this.getTablePaneModel().getTotalWidth();var ct=this.__tG;if(cv.width<cs){var cr=Math.max(0,cs-cv.width);ct.setMaximum(cr);ct.setKnobFactor(cv.width/cs);var cu=ct.getPosition();ct.setPosition(Math.min(cu,cr));}else {ct.setMaximum(0);ct.setKnobFactor(1);ct.setPosition(0);};},updateVerScrollBarMaximum:function(){var cD=this._paneClipper.getInnerSize();if(!cD){return;};var cB=this.getTable().getTableModel();var cx=cB.getRowCount();if(this.getTable().getKeepFirstVisibleRowComplete()){cx+=1;};var cw=this.getTable().getRowHeight();var cz=cx*cw;var cC=this.__tH;if(cD.height<cz){var cy=Math.max(0,cz-cD.height);cC.setMaximum(cy);cC.setKnobFactor(cD.height/cz);var cA=cC.getPosition();cC.setPosition(Math.min(cA,cy));}else {cC.setMaximum(0);cC.setKnobFactor(1);cC.setPosition(0);};},onKeepFirstVisibleRowCompleteChanged:function(){this.updateVerScrollBarMaximum();this._updateContent();},_onAppear:function(){this._startInterval(this.getScrollTimeout());},_onDisappear:function(){this._stopInterval();},_onScrollX:function(e){var cE=e.getData();this.fireDataEvent(b,cE,e.getOldData());this._headerClipper.scrollToX(cE);this._paneClipper.scrollToX(cE);},__ua:false,_onScrollY:function(e){if(this.__ua){return;};var cF=this.__tH;this.__ua=true;var cG=this.getTable().getRowHeight();var cH=e.getData()-e.getOldData();if((Math.abs(cH)>1)&&(Math.abs(cH)<cG)){cH=(cH<0)?e.getOldData()-cG:e.getOldData()+cG;if(cH>=0&&cH<=cF.getMaximum()){cF.setPosition(cH);};};this.__ua=false;this.fireDataEvent(O,cF.getPosition(),e.getOldData());this._postponedUpdateContent();},_onRoll:function(e){var cJ=this.getTable();if(e.getPointerType()==w||!cJ.getEnabled()){return;};var cK=e.getDelta();if(cK.y>0&&cK.y<1){cK.y=1;}else if(cK.y<0&&cK.y>-1){cK.y=-1;};this.__tH.scrollBy(parseInt(cK.y,10));var cI=cK.y!=0&&!this.__ub(this.__tH,cK.y);if(cK.x>0&&cK.x<1){cK.x=1;}else if(cK.x<0&&cK.x>-1){cK.x=-1;};this.__tG.scrollBy(parseInt(cK.x,10));if(this.__tU&&this.getFocusCellOnPointerMove()){this._focusCellAtPagePos(this.__tU,this.__tV);};cI=cI||(cK.x!=0&&!this.__ub(this.__tG,cK.x));if(cI){e.stop();}else {e.stopMomentum();};},__ub:function(cM,cN){var cL=cM.getPosition();return (cN<0&&cL<=0)||(cN>0&&cL>=cM.getMaximum());},__uc:function(cT){var cR=this.getTable();var cU=this.__pn.getHeaderWidgetAtColumn(this.__tO);var cO=cU.getSizeHint().minWidth;var cQ=Math.max(cO,this.__tQ+cT-this.__tP);if(this.getLiveResize()){var cP=cR.getTableColumnModel();cP.setColumnWidth(this.__tO,cQ,true);}else {var cS=this.getTablePaneModel();this._showResizeLine(cS.getColumnLeft(this.__tO)+cQ);};this.__tP+=cQ-this.__tQ;this.__tQ=cQ;},__ud:function(cX){var cW=qx.ui.table.pane.Scroller.TAP_TOLERANCE;if(this.__pn.isShowingColumnMoveFeedback()||cX>this.__tN+cW||cX<this.__tN-cW){this.__tM+=cX-this.__tN;this.__pn.showColumnMoveFeedback(this._moveColumn,this.__tM);var cV=this.__tC.getTablePaneScrollerAtPageX(cX);if(this._lastMoveTargetScroller&&this._lastMoveTargetScroller!=cV){this._lastMoveTargetScroller.hideColumnMoveFeedback();};if(cV!=null){this._lastMoveTargetX=cV.showColumnMoveFeedback(cX);}else {this._lastMoveTargetX=null;};this._lastMoveTargetScroller=cV;this.__tN=cX;};},_onPointermoveHeader:function(e){var df=this.getTable();if(!df.getEnabled()){return;};var dg=false;var cY=null;var dd=e.getDocumentLeft();var de=e.getDocumentTop();this.__tU=dd;this.__tV=de;if(this.__tO!=null){this.__uc(dd);dg=true;e.stopPropagation();}else if(this._moveColumn!=null){this.__ud(dd);e.stopPropagation();}else {var da=this._getResizeColumnForPageX(dd);if(da!=-1){dg=true;}else {var dc=df.getTableModel();var dh=this._getColumnForPageX(dd);if(dh!=null&&dc.isColumnSortable(dh)){cY=dh;};};};var db=dg?bG:null;this.getApplicationRoot().setGlobalCursor(db);this.setCursor(db);this.__pn.setPointerOverColumn(cY);},_onPointermovePane:function(e){var dm=this.getTable();if(!dm.getEnabled()){return;};var dk=e.getDocumentLeft();var dl=e.getDocumentTop();this.__tU=dk;this.__tV=dl;var dn=false;var di=this._getResizeColumnForPageX(dk);if(di!=-1){dn=true;};var dj=dn?bG:null;this.getApplicationRoot().setGlobalCursor(dj);this.setCursor(dj);var dp=this._getRowForPagePos(dk,dl);if(dp!=null&&this._getColumnForPageX(dk)!=null){if(this.getFocusCellOnPointerMove()){this._focusCellAtPagePos(dk,dl);};};this.__pn.setPointerOverColumn(null);},_onPointerdownHeader:function(e){if(!this.getTable().getEnabled()){return;};var dr=e.getDocumentLeft();var ds=this._getResizeColumnForPageX(dr);if(ds!=-1){this._startResizeHeader(ds,dr);e.stop();}else {var dq=this._getColumnForPageX(dr);if(dq!=null){this._startMoveHeader(dq,dr);e.stop();};};},_startResizeHeader:function(dv,dt){var du=this.getTable().getTableColumnModel();this.__tO=dv;this.__tP=dt;this.__tQ=du.getColumnWidth(this.__tO);this._headerClipper.capture();},_startMoveHeader:function(dw,dx){this._moveColumn=dw;this.__tN=dx;this.__tM=this.getTablePaneModel().getColumnLeft(dw);this._headerClipper.capture();},_onPointerdownPane:function(e){var dB=this.getTable();if(!dB.getEnabled()){return;};if(dB.isEditing()){dB.stopEditing();};var dz=e.getDocumentLeft();var dy=this._getResizeColumnForPageX(dz);if(dy!=-1){this._startResizeHeader(dy,dz);e.stop();return;};var dA=e.getDocumentTop();var dD=this._getRowForPagePos(dz,dA);var dC=this._getColumnForPageX(dz);if(dD!==null){this.__tR={row:dD,col:dC};this.__tS=false;};},_onPointerupFocusIndicator:function(e){if(this.__tR&&!this.__tS&&!this.isEditing()&&this.__tI.getRow()==this.__tR.row&&this.__tI.getColumn()==this.__tR.col){this.fireEvent(q,qx.ui.table.pane.CellEvent,[this,e,this.__tR.row,this.__tR.col],true);this.__tS=true;}else if(!this.isEditing()){this._onPointerdownPane(e);};},_onChangeCaptureHeader:function(e){if(this.__tO!=null){this._stopResizeHeader();};if(this._moveColumn!=null){this._stopMoveHeader();};},_stopResizeHeader:function(){var dE=this.getTable().getTableColumnModel();if(!this.getLiveResize()){this._hideResizeLine();dE.setColumnWidth(this.__tO,this.__tQ,true);};this.__tO=null;this._headerClipper.releaseCapture();this.getApplicationRoot().setGlobalCursor(null);this.setCursor(null);},_stopMoveHeader:function(){var dJ=this.getTable().getTableColumnModel();var dK=this.getTablePaneModel();this.__pn.hideColumnMoveFeedback();if(this._lastMoveTargetScroller){this._lastMoveTargetScroller.hideColumnMoveFeedback();};if(this._lastMoveTargetX!=null){var dM=dK.getFirstColumnX()+dK.getX(this._moveColumn);var dI=this._lastMoveTargetX;if(dI!=dM&&dI!=dM+1){var dL=dJ.getVisibleColumnAtX(dM);var dH=dJ.getVisibleColumnAtX(dI);var dG=dJ.getOverallX(dL);var dF=(dH!=null)?dJ.getOverallX(dH):dJ.getOverallColumnCount();if(dF>dG){dF-- ;};dJ.moveColumn(dG,dF);this._updateFocusIndicator();};};this._moveColumn=null;this._lastMoveTargetX=null;this._headerClipper.releaseCapture();},_onPointerupHeader:function(e){var dN=this.getTable();if(!dN.getEnabled()){return;};if(this.__tO!=null){this._stopResizeHeader();this.__tT=true;e.stop();}else if(this._moveColumn!=null){this._stopMoveHeader();e.stop();};},_onTapHeader:function(e){if(this.__tT){this.__tT=false;return;};var dS=this.getTable();if(!dS.getEnabled()){return;};var dQ=dS.getTableModel();var dR=e.getDocumentLeft();var dP=this._getResizeColumnForPageX(dR);if(dP==-1){var dV=this._getColumnForPageX(dR);if(dV!=null&&dQ.isColumnSortable(dV)){var dO=dQ.getSortColumnIndex();var dT=(dV!=dO)?true:!dQ.isSortAscending();var dU={column:dV,ascending:dT,tapEvent:e};if(this.fireDataEvent(X,dU,null,true)){if(dS.isEditing()){dS.stopEditing();};dQ.sortByColumn(dV,dT);if(this.getResetSelectionOnHeaderTap()){dS.getSelectionModel().resetSelection();};};};};e.stop();},_onTapPane:function(e){var ea=this.getTable();if(!ea.getEnabled()){return;};var dX=e.getDocumentLeft();var dY=e.getDocumentTop();var ec=this._getRowForPagePos(dX,dY);var eb=this._getColumnForPageX(dX);if(ec!=null&&eb!=null){var dW=this.getSelectBeforeFocus();if(dW){ea.getSelectionManager().handleTap(ec,e);};if(!this.getFocusCellOnPointerMove()){this._focusCellAtPagePos(dX,dY);};if(!dW){ea.getSelectionManager().handleTap(ec,e);};if(this.__tI.isHidden()||(this.__tR&&!this.__tS&&!this.isEditing()&&ec==this.__tR.row&&eb==this.__tR.col)){this.fireEvent(q,qx.ui.table.pane.CellEvent,[this,e,ec,eb],true);this.__tS=true;};};},_onContextMenu:function(e){var ee=e.getDocumentLeft();var ef=e.getDocumentTop();var eh=this._getRowForPagePos(ee,ef);var eg=this._getColumnForPageX(ee);if(eh===null&&this.getContextMenuFromDataCellsOnly()){return;};if(!this.getShowCellFocusIndicator()||eh===null||(this.__tR&&eh==this.__tR.row&&eg==this.__tR.col)){this.fireEvent(bB,qx.ui.table.pane.CellEvent,[this,e,eh,eg],true);var ed=this.getTable().getContextMenu();if(ed){if(ed.getChildren().length>0){ed.openAtPointer(e);}else {ed.exclude();};e.preventDefault();};};},_onContextMenuOpen:function(e){},_onDbltapPane:function(e){var ek=e.getDocumentLeft();var el=e.getDocumentTop();var ej=this._getColumnForPageX(ek);if(ej!==null){this._focusCellAtPagePos(ek,el);this.startEditing();var ei=this._getRowForPagePos(ek,el);if(ei!=-1&&ei!=null){this.fireEvent(j,qx.ui.table.pane.CellEvent,[this,e,ei],true);};};},_onPointerout:function(e){var em=this.getTable();if(!em.getEnabled()){return;};if(this.__tO==null){this.setCursor(null);this.getApplicationRoot().setGlobalCursor(null);};this.__pn.setPointerOverColumn(null);if(this.getFocusCellOnPointerMove()){this.__tC.setFocusedCell();};},_showResizeLine:function(x){var eo=this._showChildControl(H);var en=eo.getWidth();var ep=this._paneClipper.getBounds();eo.setUserBounds(x-Math.round(en/2),0,en,ep.height);},_hideResizeLine:function(){this._excludeChildControl(H);},showColumnMoveFeedback:function(ey){var ez=this.getTablePaneModel();var es=this.getTable().getTableColumnModel();var et=this.__tD.getContentLocation().left;var ex=ez.getColumnCount();var eu=0;var eC=0;var er=et;for(var eq=0;eq<ex;eq++ ){var eB=ez.getColumnAtX(eq);var eA=es.getColumnWidth(eB);if(ey<er+eA/2){break;};er+=eA;eu=eq+1;eC=er-et;};var ew=this._paneClipper.getContentLocation().left;var ev=this._paneClipper.getBounds().width;var scrollX=ew-et;eC=qx.lang.Number.limit(eC,scrollX+2,scrollX+ev-1);this._showResizeLine(eC);return ez.getFirstColumnX()+eu;},hideColumnMoveFeedback:function(){this._hideResizeLine();},_focusCellAtPagePos:function(eF,eD){var eG=this._getRowForPagePos(eF,eD);if(eG!=-1&&eG!=null){var eE=this._getColumnForPageX(eF);this.__tC.setFocusedCell(eE,eG);};},setFocusedCell:function(eH,eI){if(!this.isEditing()){this.__tD.setFocusedCell(eH,eI,this.__tK);this.__sY=eH;this.__ta=eI;this._updateFocusIndicator();};},getFocusedColumn:function(){return this.__sY;},getFocusedRow:function(){return this.__ta;},scrollCellVisible:function(eV,eW){var eT=this.getTablePaneModel();var eJ=eT.getX(eV);if(eJ!=-1){var eQ=this._paneClipper.getInnerSize();if(!eQ){return;};var eM=this.getTable().getTableColumnModel();var eN=eT.getColumnLeft(eV);var eU=eM.getColumnWidth(eV);var eL=this.getTable().getRowHeight();var eK=eW*eL;var scrollX=this.getScrollX();var scrollY=this.getScrollY();var eS=Math.min(eN,eN+eU-eQ.width);var eP=eN;this.setScrollX(Math.max(eS,Math.min(eP,scrollX)));var eR=eK+eL-eQ.height;if(this.getTable().getKeepFirstVisibleRowComplete()){eR+=eL;};var eO=eK;this.setScrollY(Math.max(eR,Math.min(eO,scrollY)),true);};},isEditing:function(){return this._cellEditor!=null;},startEditing:function(){var fc=this.getTable();var fa=fc.getTableModel();var fd=this.__sY;if(!this.isEditing()&&(fd!=null)&&fa.isColumnEditable(fd)){var fe=this.__ta;var eX=this.getTablePaneModel().getX(fd);var eY=fa.getValue(fd,fe);this.scrollCellVisible(fd,fe);this.__tW=fc.getTableColumnModel().getCellEditorFactory(fd);var fb={col:fd,row:fe,xPos:eX,value:eY,table:fc};this._cellEditor=this.__tW.createCellEditor(fb);if(this._cellEditor===null){return false;}else if(this._cellEditor instanceof qx.ui.window.Window){this._cellEditor.setModal(true);this._cellEditor.setShowClose(false);this._cellEditor.addListener(bu,this._onCellEditorModalWindowClose,this);var f=fc.getModalCellEditorPreOpenFunction();if(f!=null){f(this._cellEditor,fb);};this._cellEditor.open();}else {this.__tY=this.__tI.addListener(U,function(e){this.__tR={row:this.__ta,col:this.__sY};e.stopPropagation();},this);this.__tI.add(this._cellEditor);this.__tI.addState(bD);this.__tI.setKeepActive(false);this.__tI.setDecorator(C);this._cellEditor.focus();this._cellEditor.activate();};return true;};return false;},stopEditing:function(){if(!this.getShowCellFocusIndicator()){this.__tI.setDecorator(null);};this.flushEditor(true);},flushEditor:function(ff){if(this.isEditing()){var fg=this.__tW.getCellEditorValue(this._cellEditor);var fh=this.getTable().getTableModel().getValue(this.__sY,this.__ta);this.getTable().getTableModel().setValue(this.__sY,this.__ta,fg);this.__tC.focus();if(ff){this.cancelEditing();};this.__tC.fireDataEvent(u,{row:this.__ta,col:this.__sY,oldValue:fh,value:fg});};},cancelEditing:function(){if(this.isEditing()){if(!(this._cellEditor instanceof qx.ui.window.Window)){this.__tI.removeState(bD);this.__tI.setKeepActive(true);if(this.__tY!==null){this.__tI.removeListenerById(this.__tY);this.__tY=null;};};this._cellEditor.destroy();this._cellEditor=null;this.__tW=null;};},_onCellEditorModalWindowClose:function(e){this.stopEditing();},_getColumnForPageX:function(fi){var fl=this.getTable().getTableColumnModel();var fm=this.getTablePaneModel();var fk=fm.getColumnCount();var fj=this.__tD.getContentLocation().left;for(var x=0;x<fk;x++ ){var fo=fm.getColumnAtX(x);var fn=fl.getColumnWidth(fo);fj+=fn;if(fi<fj){return fo;};};return null;},_getResizeColumnForPageX:function(fq){var fx=this.__pn.getContentLocation()||this.__tD.getContentLocation();if(fx){var fr=fx.left;var ft=this.getTable().getTableColumnModel();var fu=this.getTablePaneModel();var fs=fu.getColumnCount();var fp=qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS;for(var x=0;x<fs;x++ ){var fw=fu.getColumnAtX(x);var fv=ft.getColumnWidth(fw);fr+=fv;if(fq>=(fr-fp)&&fq<=(fr+fp)){return fw;};};};return -1;},_getRowForPagePos:function(fE,fF){var fy=this.__tD.getContentLocation();if(fE<fy.left||fE>fy.right){return null;};if(fF>=fy.top&&fF<=fy.bottom){var fz=this.getTable().getRowHeight();var scrollY=this.__tH.getPosition();if(this.getTable().getKeepFirstVisibleRowComplete()){scrollY=Math.floor(scrollY/fz)*fz;};var fC=scrollY+fF-fy.top;var fG=Math.floor(fC/fz);var fA=this.getTable().getTableModel();var fD=fA.getRowCount();return (fG<fD)?fG:null;};var fB=this.__pn.getContentLocation();if(fF>=fB.top&&fF<=fB.bottom&&fE<=fB.right){return -1;};return null;},setTopRightWidget:function(fH){var fI=this.__tX;if(fI!=null){this.__tE.remove(fI);};if(fH!=null){this.__tE.add(fH);};this.__tX=fH;},getTopRightWidget:function(){return this.__tX;},getHeader:function(){return this.__pn;},getTablePane:function(){return this.__tD;},getVerticalScrollBarWidth:function(){var fJ=this.__tH;return fJ.isVisible()?(fJ.getSizeHint().width||0):0;},getNeededScrollBars:function(fN,fO){var ga=this.__tH;var fY=ga.getSizeHint().width+ga.getMarginLeft()+ga.getMarginRight();var fT=this.__tG;var fW=fT.getSizeHint().height+fT.getMarginTop()+fT.getMarginBottom();var fQ=this._paneClipper.getInnerSize();var fK=fQ?fQ.width:0;if(this.getVerticalScrollBarVisible()){fK+=fY;};var fU=fQ?fQ.height:0;if(this.getHorizontalScrollBarVisible()){fU+=fW;};var fR=this.getTable().getTableModel();var fS=fR.getRowCount();var fL=this.getTablePaneModel().getTotalWidth();var fV=this.getTable().getRowHeight()*fS;var fM=false;var gb=false;if(fL>fK){fM=true;if(fV>fU-fW){gb=true;};}else if(fV>fU){gb=true;if(!fO&&(fL>fK-fY)){fM=true;};};var fP=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var fX=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;return ((fN||fM)?fP:0)|((fO||!gb)?0:fX);},getPaneClipper:function(){return this._paneClipper;},getScrollAreaContainer:function(){return this.getPaneClipper();},_applyScrollTimeout:function(gd,gc){this._startInterval(gd);},_startInterval:function(ge){this.__ej.setInterval(ge);this.__ej.start();},_stopInterval:function(){this.__ej.stop();},_postponedUpdateContent:function(){this._updateContent();},_oninterval:qx.event.GlobalError.observeMethod(function(){if(this.__tK&&!this.__tD._layoutPending){this.__tK=false;this._updateContent();};}),_updateContent:function(){var gm=this._paneClipper.getInnerSize();if(!gm){return;};var gk=gm.height;var scrollX=this.__tG.getPosition();var scrollY=this.__tH.getPosition();var gg=this.getTable().getRowHeight();var gi=Math.floor(scrollY/gg);var gl=this.__tD.getFirstVisibleRow();this.__tD.setFirstVisibleRow(gi);var gh=Math.ceil(gk/gg);var gf=0;var gj=this.getTable().getKeepFirstVisibleRowComplete();if(!gj){gh++ ;gf=scrollY%gg;};this.__tD.setVisibleRowCount(gh);if(gi!=gl){this._updateFocusIndicator();};this._paneClipper.scrollToX(scrollX);if(!gj){this._paneClipper.scrollToY(gf);};},_updateFocusIndicator:function(){var gn=this.getTable();if(!gn.getEnabled()){return;};this.__tI.moveToCell(this.__sY,this.__ta);}},destruct:function(){this._stopInterval();var go=this.getTablePaneModel();if(go){go.dispose();};this.__tR=this.__tX=this.__tC=null;this._disposeObjects(n,Q,D,h,G,P,S,a,v,bA);}});})();(function(){var a="Escape",b="keypress",c="Enter",d="excluded",f="Integer",g="qx.ui.table.pane.FocusIndicator";qx.Class.define(g,{extend:qx.ui.container.Composite,construct:function(h){qx.ui.container.Composite.call(this,new qx.ui.layout.Grow());this.__ue=h;this.setKeepActive(true);this.addListener(b,this._onKeyPress,this);},properties:{visibility:{refine:true,init:d},row:{check:f,nullable:true},column:{check:f,nullable:true}},members:{__ue:null,_onKeyPress:function(e){var i=e.getKeyIdentifier();if(i!==a&&i!==c){e.stopPropagation();};},moveToCell:function(p,q){if(!this.__ue.getShowCellFocusIndicator()&&!this.__ue.getTable().getTableModel().isColumnEditable(p)){this.exclude();return;}else {this.show();};if(p==null){this.hide();this.setRow(null);this.setColumn(null);}else {var j=this.__ue.getTablePaneModel().getX(p);if(j==-1){this.hide();this.setRow(null);this.setColumn(null);}else {var o=this.__ue.getTable();var m=o.getTableColumnModel();var n=this.__ue.getTablePaneModel();var l=this.__ue.getTablePane().getFirstVisibleRow();var k=o.getRowHeight();this.setUserBounds(n.getColumnLeft(p)-2,(q-l)*k-2,m.getColumnWidth(p)+3,k+3);this.show();this.setRow(q);this.setColumn(p);};};}},destruct:function(){this.__ue=null;}});})();(function(){var a="qx.ui.table.pane.Clipper";qx.Class.define(a,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this,new qx.ui.layout.Grow());this.setMinWidth(0);},members:{scrollToX:function(b){this.getContentElement().scrollToX(b,false);},scrollToY:function(c){this.getContentElement().scrollToY(c,true);}}});})();(function(){var a="Integer",b="qx.ui.table.pane.CellEvent";qx.Class.define(b,{extend:qx.event.type.Pointer,properties:{row:{check:a,nullable:true},column:{check:a,nullable:true}},members:{init:function(e,c,f,d){c.clone(this);this.setBubbles(false);if(f!=null){this.setRow(f);}else {this.setRow(e._getRowForPagePos(this.getDocumentLeft(),this.getDocumentTop()));};if(d!=null){this.setColumn(d);}else {this.setColumn(e._getColumnForPageX(this.getDocumentLeft()));};},clone:function(g){var h=qx.event.type.Pointer.prototype.clone.call(this,g);h.set({row:this.getRow(),column:this.getColumn()});return h;}}});})();(function(){var a="Number",b="qx.event.type.Event",c="modelChanged",d="_applyFirstColumnX",e="headerCellRendererChanged",f="Integer",g="qx.ui.table.pane.Model",h="_applyMaxColumnCount",i="visibilityChangedPre";qx.Class.define(g,{extend:qx.core.Object,construct:function(j){qx.core.Object.call(this);this.setTableColumnModel(j);},events:{"modelChanged":b},statics:{EVENT_TYPE_MODEL_CHANGED:c},properties:{firstColumnX:{check:f,init:0,apply:d},maxColumnCount:{check:a,init:-1,apply:h}},members:{__uf:null,__ug:null,_applyFirstColumnX:function(l,k){this.__uf=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_applyMaxColumnCount:function(n,m){this.__uf=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},setTableColumnModel:function(o){if(this.__ug){this.__ug.removeListener(i,this._onColVisibilityChanged,this);this.__ug.removeListener(e,this._onHeaderCellRendererChanged,this);};this.__ug=o;this.__ug.addListener(i,this._onColVisibilityChanged,this);this.__ug.addListener(e,this._onHeaderCellRendererChanged,this);this.__uf=null;},_onColVisibilityChanged:function(p){this.__uf=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_onHeaderCellRendererChanged:function(q){this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},getColumnCount:function(){if(this.__uf==null){var r=this.getFirstColumnX();var t=this.getMaxColumnCount();var s=this.__ug.getVisibleColumnCount();if(t==-1||(r+t)>s){this.__uf=s-r;}else {this.__uf=t;};};return this.__uf;},getColumnAtX:function(v){var u=this.getFirstColumnX();return this.__ug.getVisibleColumnAtX(u+v);},getX:function(z){var w=this.getFirstColumnX();var y=this.getMaxColumnCount();var x=this.__ug.getVisibleX(z)-w;if(x>=0&&(y==-1||x<y)){return x;}else {return -1;};},getColumnLeft:function(D){var B=0;var C=this.getColumnCount();for(var x=0;x<C;x++ ){var A=this.getColumnAtX(x);if(A==D){return B;};B+=this.__ug.getColumnWidth(A);};return -1;},getTotalWidth:function(){var E=0;var F=this.getColumnCount();for(var x=0;x<F;x++ ){var G=this.getColumnAtX(x);E+=this.__ug.getColumnWidth(G);};return E;}},destruct:function(){if(this.__ug){this.__ug.removeListener(i,this._onColVisibilityChanged,this);this.__ug.removeListener(e,this._onHeaderCellRendererChanged,this);};this.__ug=null;}});})();(function(){var a="qx.event.type.Event",b="qx.ui.table.ITableModel",c="qx.event.type.Data";qx.Interface.define(b,{events:{"dataChanged":c,"metaDataChanged":a,"sorted":c},members:{getRowCount:function(){},getRowData:function(d){},getColumnCount:function(){},getColumnId:function(e){},getColumnIndexById:function(f){},getColumnName:function(g){},isColumnEditable:function(h){},isColumnSortable:function(i){},sortByColumn:function(j,k){},getSortColumnIndex:function(){},isSortAscending:function(){},prefetchRows:function(m,l){},getValue:function(o,n){},getValueById:function(q,p){},setValue:function(s,r,t){},setValueById:function(v,u,w){}}});})();(function(){var a=" != ",b="abstract",c="metaDataChanged",d="columnIdArr and columnNameArr have different length: ",e="getValue is abstract",f="qx.ui.table.model.Abstract",g="qx.event.type.Event",h="this.__columnIdArr and columnNameArr have different length: ",j="setValue is abstract",k="getRowCount is abstract",l="qx.event.type.Data";qx.Class.define(f,{type:b,extend:qx.core.Object,implement:qx.ui.table.ITableModel,events:{"dataChanged":l,"metaDataChanged":g,"sorted":l},construct:function(){qx.core.Object.call(this);this.__uh=[];this.__ui=[];this.__uj={};},members:{__uh:null,__ui:null,__uj:null,__te:null,init:function(m){},getRowCount:function(){throw new Error(k);},getRowData:function(n){return null;},isColumnEditable:function(o){return false;},isColumnSortable:function(p){return false;},sortByColumn:function(q,r){},getSortColumnIndex:function(){return -1;},isSortAscending:function(){return true;},prefetchRows:function(t,s){},getValue:function(v,u){throw new Error(e);},getValueById:function(x,w){return this.getValue(this.getColumnIndexById(x),w);},setValue:function(z,y,A){throw new Error(j);},setValueById:function(C,B,D){this.setValue(this.getColumnIndexById(C),B,D);},getColumnCount:function(){return this.__uh.length;},getColumnIndexById:function(E){return this.__uj[E];},getColumnId:function(F){return this.__uh[F];},getColumnName:function(G){return this.__ui[G];},setColumnIds:function(H){this.__uh=H;this.__uj={};for(var i=0;i<H.length;i++ ){this.__uj[H[i]]=i;};this.__ui=new Array(H.length);if(!this.__te){this.fireEvent(c);};},setColumnNamesByIndex:function(I){if(this.__uh.length!=I.length){throw new Error(h+this.__uh.length+a+I.length);};this.__ui=I;this.fireEvent(c);},setColumnNamesById:function(J){this.__ui=new Array(this.__uh.length);for(var i=0;i<this.__uh.length; ++i){this.__ui[i]=J[this.__uh[i]];};},setColumns:function(K,L){var M=this.__uh.length==0||L;if(L==null){if(this.__uh.length==0){L=K;}else {L=this.__uh;};};if(L.length!=K.length){throw new Error(d+L.length+a+K.length);};if(M){this.__te=true;this.setColumnIds(L);this.__te=false;};this.setColumnNamesByIndex(K);}},destruct:function(){this.__uh=this.__ui=this.__uj=null;}});})();(function(){var a="qx.ui.table.model.Simple",b="Boolean",c="metaDataChanged",d=")",e="this._rowArr out of bounds: ",f="dataChanged",g=" (0..",h="sorted";qx.Class.define(a,{extend:qx.ui.table.model.Abstract,construct:function(){qx.ui.table.model.Abstract.call(this);this._rowArr=[];this.__uk=-1;this.__ul=[];this.__um=null;},properties:{caseSensitiveSorting:{check:b,init:true}},statics:{_defaultSortComparatorAscending:function(l,m,o){var k=l[o];var n=m[o];if(qx.lang.Type.isNumber(k)&&qx.lang.Type.isNumber(n)){var p=isNaN(k)?isNaN(n)?0:1:isNaN(n)?-1:null;if(p!=null){return p;};};return (k>n)?1:((k==n)?0:-1);},_defaultSortComparatorInsensitiveAscending:function(r,s,u){var q=(r[u].toLowerCase?r[u].toLowerCase():r[u]);var t=(s[u].toLowerCase?s[u].toLowerCase():s[u]);if(qx.lang.Type.isNumber(q)&&qx.lang.Type.isNumber(t)){var v=isNaN(q)?isNaN(t)?0:1:isNaN(t)?-1:null;if(v!=null){return v;};};return (q>t)?1:((q==t)?0:-1);},_defaultSortComparatorDescending:function(x,y,A){var w=x[A];var z=y[A];if(qx.lang.Type.isNumber(w)&&qx.lang.Type.isNumber(z)){var B=isNaN(w)?isNaN(z)?0:1:isNaN(z)?-1:null;if(B!=null){return B;};};return (w<z)?1:((w==z)?0:-1);},_defaultSortComparatorInsensitiveDescending:function(D,E,G){var C=(D[G].toLowerCase?D[G].toLowerCase():D[G]);var F=(E[G].toLowerCase?E[G].toLowerCase():E[G]);if(qx.lang.Type.isNumber(C)&&qx.lang.Type.isNumber(F)){var H=isNaN(C)?isNaN(F)?0:1:isNaN(F)?-1:null;if(H!=null){return H;};};return (C<F)?1:((C==F)?0:-1);}},members:{_rowArr:null,__um:null,__un:null,__ul:null,__uk:null,__uo:null,getRowData:function(I){var J=this._rowArr[I];if(J==null||J.originalData==null){return J;}else {return J.originalData;};},getRowDataAsMap:function(K){var M=this._rowArr[K];if(M!=null){var L={};for(var N=0;N<this.getColumnCount();N++ ){L[this.getColumnId(N)]=M[N];};if(M.originalData!=null){for(var O in M.originalData){if(L[O]==undefined){L[O]=M.originalData[O];};};};return L;};return (M&&M.originalData)?M.originalData:null;},getDataAsMapArray:function(){var Q=this.getRowCount();var P=[];for(var i=0;i<Q;i++ ){P.push(this.getRowDataAsMap(i));};return P;},setEditable:function(R){this.__um=[];for(var S=0;S<this.getColumnCount();S++ ){this.__um[S]=R;};this.fireEvent(c);},setColumnEditable:function(T,U){if(U!=this.isColumnEditable(T)){if(this.__um==null){this.__um=[];};this.__um[T]=U;this.fireEvent(c);};},isColumnEditable:function(V){return this.__um?(this.__um[V]==true):false;},setColumnSortable:function(W,X){if(X!=this.isColumnSortable(W)){if(this.__un==null){this.__un=[];};this.__un[W]=X;this.fireEvent(c);};},isColumnSortable:function(Y){return (this.__un?(this.__un[Y]!==false):true);},sortByColumn:function(ba,be){var bd;var bc=this.__ul[ba];if(bc){bd=(be?bc.ascending:bc.descending);}else {if(this.getCaseSensitiveSorting()){bd=(be?qx.ui.table.model.Simple._defaultSortComparatorAscending:qx.ui.table.model.Simple._defaultSortComparatorDescending);}else {bd=(be?qx.ui.table.model.Simple._defaultSortComparatorInsensitiveAscending:qx.ui.table.model.Simple._defaultSortComparatorInsensitiveDescending);};};bd.columnIndex=ba;this._rowArr.sort(function(bf,bg){return bd(bf,bg,ba);});this.__uk=ba;this.__uo=be;var bb={columnIndex:ba,ascending:be};this.fireDataEvent(h,bb);this.fireEvent(c);},setSortMethods:function(bh,bi){var bj;if(qx.lang.Type.isFunction(bi)){bj={ascending:bi,descending:function(bk,bl,bm){bi.columnIndex=bm;return bi(bl,bk,bm);}};}else {bj=bi;};this.__ul[bh]=bj;},getSortMethods:function(bn){return this.__ul[bn];},clearSorting:function(){if(this.__uk!=-1){this.__uk=-1;this.__uo=true;this.fireEvent(c);};},getSortColumnIndex:function(){return this.__uk;},_setSortColumnIndex:function(bo){this.__uk=bo;},isSortAscending:function(){return this.__uo;},_setSortAscending:function(bp){this.__uo=bp;},getRowCount:function(){return this._rowArr.length;},getValue:function(br,bq){if(bq<0||bq>=this._rowArr.length){throw new Error(e+bq+g+this._rowArr.length+d);};return this._rowArr[bq][br];},setValue:function(bt,bs,bv){if(this._rowArr[bs][bt]!=bv){this._rowArr[bs][bt]=bv;if(this.hasListener(f)){var bu={firstRow:bs,lastRow:bs,firstColumn:bt,lastColumn:bt};this.fireDataEvent(f,bu);};if(bt==this.__uk){this.clearSorting();};};},setData:function(bx,bw){this._rowArr=bx;if(this.hasListener(f)){var by={firstRow:0,lastRow:bx.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(f,by);};if(bw!==false){this.clearSorting();};},getData:function(){return this._rowArr;},setDataAsMapArray:function(bA,bz,bB){this.setData(this._mapArray2RowArr(bA,bz),bB);},addRows:function(bE,bD,bC){if(bD==null){bD=this._rowArr.length;};bE.splice(0,0,bD,0);Array.prototype.splice.apply(this._rowArr,bE);var bF={firstRow:bD,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(f,bF);if(bC!==false){this.clearSorting();};},addRowsAsMapArray:function(bH,bI,bG,bJ){this.addRows(this._mapArray2RowArr(bH,bG),bI,bJ);},setRows:function(bM,bL,bK){if(bL==null){bL=0;};bM.splice(0,0,bL,bM.length);Array.prototype.splice.apply(this._rowArr,bM);var bN={firstRow:bL,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(f,bN);if(bK!==false){this.clearSorting();};},setRowsAsMapArray:function(bP,bQ,bO,bR){this.setRows(this._mapArray2RowArr(bP,bO),bQ,bR);},removeRows:function(bT,bU,bS){this._rowArr.splice(bT,bU);var bV={firstRow:bT,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1,removeStart:bT,removeCount:bU};this.fireDataEvent(f,bV);if(bS!==false){this.clearSorting();};},_mapArray2RowArr:function(bX,cc){var cb=bX.length;var bW=this.getColumnCount();var ca=new Array(cb);var bY;for(var i=0;i<cb; ++i){bY=[];if(cc){bY.originalData=bX[i];};for(var j=0;j<bW; ++j){bY[j]=bX[i][this.getColumnId(j)];};ca[i]=bY;};return ca;}},destruct:function(){this._rowArr=this.__um=this.__ul=this.__un=null;}});})();
});