qx.$$packageData[0]={locales:{C:{alternateQuotationEnd:"’",alternateQuotationStart:"‘",quotationEnd:"”",quotationStart:"“",cldr_am:"AM",cldr_pm:"PM",cldr_date_format_full:"EEEE, MMMM d, y",cldr_date_format_long:"MMMM d, y",cldr_date_format_medium:"MMM d, y",cldr_date_format_short:"M/d/yy",cldr_date_time_format_Ed:"d E",cldr_date_time_format_Hm:"HH:mm",cldr_date_time_format_Hms:"HH:mm:ss",cldr_date_time_format_M:"L",cldr_date_time_format_MEd:"E, M/d",cldr_date_time_format_MMM:"LLL",cldr_date_time_format_MMMEd:"E, MMM d",cldr_date_time_format_MMMd:"MMM d",cldr_date_time_format_Md:"M/d",cldr_date_time_format_d:"d",cldr_date_time_format_hm:"h:mm a",cldr_date_time_format_hms:"h:mm:ss a",cldr_date_time_format_ms:"mm:ss",cldr_date_time_format_y:"y",cldr_date_time_format_yM:"M/y",cldr_date_time_format_yMEd:"E, M/d/y",cldr_date_time_format_yMMM:"MMM y",cldr_date_time_format_yMMMEd:"E, MMM d, y",cldr_date_time_format_yMMMd:"MMM d, y",cldr_date_time_format_yMd:"M/d/y",cldr_date_time_format_yQ:null,cldr_date_time_format_yQQQ:"QQQ y",cldr_day_format_abbreviated_fri:"Fri",cldr_day_format_abbreviated_mon:"Mon",cldr_day_format_abbreviated_sat:"Sat",cldr_day_format_abbreviated_sun:"Sun",cldr_day_format_abbreviated_thu:"Thu",cldr_day_format_abbreviated_tue:"Tue",cldr_day_format_abbreviated_wed:"Wed",cldr_day_format_wide_fri:"Friday",cldr_day_format_wide_mon:"Monday",cldr_day_format_wide_sat:"Saturday",cldr_day_format_wide_sun:"Sunday",cldr_day_format_wide_thu:"Thursday",cldr_day_format_wide_tue:"Tuesday",cldr_day_format_wide_wed:"Wednesday","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"W",cldr_month_format_abbreviated_1:"Jan",cldr_month_format_abbreviated_2:"Feb",cldr_month_format_abbreviated_3:"Mar",cldr_month_format_abbreviated_4:"Apr",cldr_month_format_abbreviated_5:"May",cldr_month_format_abbreviated_6:"Jun",cldr_month_format_abbreviated_7:"Jul",cldr_month_format_abbreviated_8:"Aug",cldr_month_format_abbreviated_9:"Sep",cldr_month_format_abbreviated_10:"Oct",cldr_month_format_abbreviated_11:"Nov",cldr_month_format_abbreviated_12:"Dec",cldr_month_format_wide_1:"January",cldr_month_format_wide_2:"February",cldr_month_format_wide_3:"March",cldr_month_format_wide_4:"April",cldr_month_format_wide_5:"May",cldr_month_format_wide_6:"June",cldr_month_format_wide_7:"July",cldr_month_format_wide_8:"August",cldr_month_format_wide_9:"September",cldr_month_format_wide_10:"October",cldr_month_format_wide_11:"November",cldr_month_format_wide_12:"December","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D",cldr_number_decimal_separator:".",cldr_number_group_separator:",",cldr_number_percent_format:"#,##0%",day:["day"],dayperiod:["AM/PM","am/pm"],era:["era"],hour:["hour"],minute:["minute"],month:["month"],second:["second"],week:["week"],weekday:["day of the week"],year:["year"],zone:["time zone"]},en:{alternateQuotationEnd:"’",alternateQuotationStart:"‘",quotationEnd:"”",quotationStart:"“",cldr_am:"AM",cldr_pm:"PM",cldr_date_format_full:"EEEE, MMMM d, y",cldr_date_format_long:"MMMM d, y",cldr_date_format_medium:"MMM d, y",cldr_date_format_short:"M/d/yy",cldr_date_time_format_Ed:"d E",cldr_date_time_format_Hm:"HH:mm",cldr_date_time_format_Hms:"HH:mm:ss",cldr_date_time_format_M:"L",cldr_date_time_format_MEd:"E, M/d",cldr_date_time_format_MMM:"LLL",cldr_date_time_format_MMMEd:"E, MMM d",cldr_date_time_format_MMMd:"MMM d",cldr_date_time_format_Md:"M/d",cldr_date_time_format_d:"d",cldr_date_time_format_hm:"h:mm a",cldr_date_time_format_hms:"h:mm:ss a",cldr_date_time_format_ms:"mm:ss",cldr_date_time_format_y:"y",cldr_date_time_format_yM:"M/y",cldr_date_time_format_yMEd:"E, M/d/y",cldr_date_time_format_yMMM:"MMM y",cldr_date_time_format_yMMMEd:"E, MMM d, y",cldr_date_time_format_yMMMd:"MMM d, y",cldr_date_time_format_yMd:"M/d/y",cldr_date_time_format_yQ:null,cldr_date_time_format_yQQQ:"QQQ y",cldr_day_format_abbreviated_fri:"Fri",cldr_day_format_abbreviated_mon:"Mon",cldr_day_format_abbreviated_sat:"Sat",cldr_day_format_abbreviated_sun:"Sun",cldr_day_format_abbreviated_thu:"Thu",cldr_day_format_abbreviated_tue:"Tue",cldr_day_format_abbreviated_wed:"Wed",cldr_day_format_wide_fri:"Friday",cldr_day_format_wide_mon:"Monday",cldr_day_format_wide_sat:"Saturday",cldr_day_format_wide_sun:"Sunday",cldr_day_format_wide_thu:"Thursday",cldr_day_format_wide_tue:"Tuesday",cldr_day_format_wide_wed:"Wednesday","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"W",cldr_month_format_abbreviated_1:"Jan",cldr_month_format_abbreviated_2:"Feb",cldr_month_format_abbreviated_3:"Mar",cldr_month_format_abbreviated_4:"Apr",cldr_month_format_abbreviated_5:"May",cldr_month_format_abbreviated_6:"Jun",cldr_month_format_abbreviated_7:"Jul",cldr_month_format_abbreviated_8:"Aug",cldr_month_format_abbreviated_9:"Sep",cldr_month_format_abbreviated_10:"Oct",cldr_month_format_abbreviated_11:"Nov",cldr_month_format_abbreviated_12:"Dec",cldr_month_format_wide_1:"January",cldr_month_format_wide_2:"February",cldr_month_format_wide_3:"March",cldr_month_format_wide_4:"April",cldr_month_format_wide_5:"May",cldr_month_format_wide_6:"June",cldr_month_format_wide_7:"July",cldr_month_format_wide_8:"August",cldr_month_format_wide_9:"September",cldr_month_format_wide_10:"October",cldr_month_format_wide_11:"November",cldr_month_format_wide_12:"December","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D",cldr_number_decimal_separator:".",cldr_number_group_separator:",",cldr_number_percent_format:"#,##0%",day:["day"],dayperiod:["AM/PM","am/pm"],era:["era"],hour:["hour"],minute:["minute"],month:["month"],second:["second"],week:["week"],weekday:["day of the week"],year:["year"],zone:["time zone"]}},resources:{"qx/decoration/Classic/arrows-combined.gif":[124,7,"gif","qx"],"qx/decoration/Classic/arrows-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/checkbox-radiobutton-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/checkbox-radiobutton-combined.png":[504,14,"png","qx"],"qx/decoration/Classic/colorselector-combined.gif":[46,11,"gif","qx"],"qx/decoration/Classic/colorselector-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/cursors-combined.gif":[71,20,"gif","qx"],"qx/decoration/Classic/cursors-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/menu-combined.gif":[64,7,"gif","qx"],"qx/decoration/Classic/menu-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/shadow-lr-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/shadow-lr-combined.png":[30,382,"png","qx"],"qx/decoration/Classic/shadow-small-lr-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/shadow-small-lr-combined.png":[10,136,"png","qx"],"qx/decoration/Classic/shadow-small-tb-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/shadow-small-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Classic/shadow-tb-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/shadow-tb-combined.png":[15,90,"png","qx"],"qx/decoration/Classic/table-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/table-combined.png":[72,11,"png","qx"],"qx/decoration/Classic/window-captionbar-buttons-combined.gif":[36,9,"gif","qx"],"qx/decoration/Classic/window-captionbar-buttons-combined.meta":[null,null,"meta","qx"],"qx/decoration/Classic/arrows/down-invert.gif":[7,4,"gif","qx"],"qx/decoration/Classic/arrows/down-small-invert.gif":[5,3,"gif","qx"],"qx/decoration/Classic/arrows/down-small.gif":[5,3,"gif","qx"],"qx/decoration/Classic/arrows/down.gif":[7,4,"gif","qx"],"qx/decoration/Classic/arrows/forward-invert.gif":[8,7,"gif","qx"],"qx/decoration/Classic/arrows/forward.gif":[8,7,"gif","qx"],"qx/decoration/Classic/arrows/left-invert.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/left-small-invert.gif":[3,5,"gif","qx"],"qx/decoration/Classic/arrows/left-small.gif":[3,5,"gif","qx"],"qx/decoration/Classic/arrows/left.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/next-invert.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/next.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/previous-invert.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/previous.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/rewind-invert.gif":[8,7,"gif","qx"],"qx/decoration/Classic/arrows/rewind.gif":[8,7,"gif","qx"],"qx/decoration/Classic/arrows/right-invert.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/right-small-invert.gif":[3,5,"gif","qx"],"qx/decoration/Classic/arrows/right-small.gif":[3,5,"gif","qx"],"qx/decoration/Classic/arrows/right.gif":[4,7,"gif","qx"],"qx/decoration/Classic/arrows/up-invert.gif":[7,4,"gif","qx"],"qx/decoration/Classic/arrows/up-small-invert.gif":[5,3,"gif","qx"],"qx/decoration/Classic/arrows/up-small.gif":[5,3,"gif","qx"],"qx/decoration/Classic/arrows/up.gif":[7,4,"gif","qx"],"qx/decoration/Classic/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Classic/colorselector/brightness-handle.gif":[35,11,"gif","qx"],"qx/decoration/Classic/colorselector/huesaturation-field.jpg":[256,256,"jpg","qx"],"qx/decoration/Classic/colorselector/huesaturation-handle.gif":[11,11,"gif","qx"],"qx/decoration/Classic/cursors/alias.gif":[19,15,"gif","qx"],"qx/decoration/Classic/cursors/copy.gif":[19,15,"gif","qx"],"qx/decoration/Classic/cursors/move.gif":[13,9,"gif","qx"],"qx/decoration/Classic/cursors/nodrop.gif":[20,20,"gif","qx"],"qx/decoration/Classic/datechooser/last-month-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-month.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-year-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-year.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-month-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-month.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-year-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-year.png":[16,16,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-pressed-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-pressed.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-checked.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-pressed-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-pressed.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-pressed-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked-pressed.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-checked.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-pressed-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton-pressed.png":[14,14,"png","qx"],"qx/decoration/Classic/form/radiobutton.png":[14,14,"png","qx"],"qx/decoration/Classic/menu/checkbox-invert.gif":[16,7,"gif","qx"],"qx/decoration/Classic/menu/checkbox.gif":[16,7,"gif","qx"],"qx/decoration/Classic/menu/radiobutton-invert.gif":[16,5,"gif","qx"],"qx/decoration/Classic/menu/radiobutton.gif":[16,5,"gif","qx"],"qx/decoration/Classic/shadow/shadow-b.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow-bl.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow-br.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow-c.png":[40,382,"png","qx"],"qx/decoration/Classic/shadow/shadow-l.png":[15,382,"png","qx"],"qx/decoration/Classic/shadow/shadow-r.png":[15,382,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-b.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-bl.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-br.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-c.png":[40,136,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-l.png":[5,136,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-r.png":[5,136,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-t.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-tl.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-tr.png":[5,5,"png","qx"],"qx/decoration/Classic/shadow/shadow-small.png":[114,146,"png","qx"],"qx/decoration/Classic/shadow/shadow-t.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow-tl.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow-tr.png":[15,15,"png","qx"],"qx/decoration/Classic/shadow/shadow.png":[381,412,"png","qx"],"qx/decoration/Classic/splitpane/knob-horizontal.png":[4,15,"png","qx"],"qx/decoration/Classic/splitpane/knob-vertical.png":[15,4,"png","qx"],"qx/decoration/Classic/table/ascending-invert.png":[10,10,"png","qx"],"qx/decoration/Classic/table/ascending.png":[10,10,"png","qx"],"qx/decoration/Classic/table/boolean-false.png":[11,11,"png","qx"],"qx/decoration/Classic/table/boolean-true.png":[11,11,"png","qx"],"qx/decoration/Classic/table/descending-invert.png":[10,10,"png","qx"],"qx/decoration/Classic/table/descending.png":[10,10,"png","qx"],"qx/decoration/Classic/table/select-column-order.png":[10,9,"png","qx"],"qx/decoration/Classic/tree/minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/tree/plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/line.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/only_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/only_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/window/close.gif":[10,9,"gif","qx"],"qx/decoration/Classic/window/maximize.gif":[9,9,"gif","qx"],"qx/decoration/Classic/window/minimize.gif":[9,9,"gif","qx"],"qx/decoration/Classic/window/restore.gif":[8,9,"gif","qx"],"qx/decoration/Modern/arrows/down-invert.png":[8,5,"png","qx"],"qx/decoration/Modern/arrows/down-small.png":[5,3,"png","qx"],"qx/decoration/Modern/arrows/down.png":[8,5,"png","qx"],"qx/decoration/Modern/arrows/forward.png":[10,8,"png","qx"],"qx/decoration/Modern/arrows/left.png":[5,8,"png","qx"],"qx/decoration/Modern/arrows/rewind.png":[10,8,"png","qx"],"qx/decoration/Modern/arrows/right-invert.png":[5,8,"png","qx"],"qx/decoration/Modern/arrows/right.png":[5,8,"png","qx"],"qx/decoration/Modern/arrows/up-invert.png":[8,5,"png","qx"],"qx/decoration/Modern/arrows/up-small.png":[5,3,"png","qx"],"qx/decoration/Modern/arrows/up.png":[8,5,"png","qx"],"qx/decoration/Modern/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Modern/colorselector/brightness-handle.gif":[35,11,"gif","qx"],"qx/decoration/Modern/colorselector/huesaturation-field.jpg":[256,256,"jpg","qx"],"qx/decoration/Modern/colorselector/huesaturation-handle.gif":[11,11,"gif","qx"],"qx/decoration/Modern/cursors/alias.gif":[19,15,"gif","qx"],"qx/decoration/Modern/cursors/copy.gif":[19,15,"gif","qx"],"qx/decoration/Modern/cursors/move.gif":[13,9,"gif","qx"],"qx/decoration/Modern/cursors/nodrop.gif":[20,20,"gif","qx"],"qx/decoration/Modern/form/checked.png":[6,6,"png","qx"],"qx/decoration/Modern/form/tooltip-error-arrow-right.png":[11,14,"png","qx"],"qx/decoration/Modern/form/tooltip-error-arrow.png":[11,14,"png","qx"],"qx/decoration/Modern/form/undetermined.png":[6,2,"png","qx"],"qx/decoration/Modern/menu/checkbox-invert.gif":[16,7,"gif","qx"],"qx/decoration/Modern/menu/checkbox.gif":[16,7,"gif","qx"],"qx/decoration/Modern/menu/radiobutton-invert.gif":[16,5,"gif","qx"],"qx/decoration/Modern/menu/radiobutton.gif":[16,5,"gif","qx"],"qx/decoration/Modern/scrollbar/scrollbar-down.png":[6,4,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-left.png":[4,6,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-right.png":[4,6,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-up.png":[6,4,"png","qx"],"qx/decoration/Modern/splitpane/knob-horizontal.png":[1,8,"png","qx"],"qx/decoration/Modern/splitpane/knob-vertical.png":[8,1,"png","qx"],"qx/decoration/Modern/table/ascending.png":[8,5,"png","qx"],"qx/decoration/Modern/table/boolean-false.png":[14,14,"png","qx"],"qx/decoration/Modern/table/boolean-true.png":[14,14,"png","qx"],"qx/decoration/Modern/table/descending.png":[8,5,"png","qx"],"qx/decoration/Modern/table/select-column-order.png":[10,9,"png","qx"],"qx/decoration/Modern/toolbar/toolbar-handle-knob.gif":[1,8,"gif","qx"],"qx/decoration/Modern/toolbar/toolbar-part.gif":[7,1,"gif","qx"],"qx/decoration/Modern/tree/closed-selected.png":[8,8,"png","qx"],"qx/decoration/Modern/tree/closed.png":[8,8,"png","qx"],"qx/decoration/Modern/tree/open-selected.png":[8,8,"png","qx"],"qx/decoration/Modern/tree/open.png":[8,8,"png","qx"],"qx/decoration/Modern/window/close-active-hovered.png":[9,9,"png","qx"],"qx/decoration/Modern/window/close-active.png":[9,9,"png","qx"],"qx/decoration/Modern/window/close-inactive.png":[9,9,"png","qx"],"qx/decoration/Modern/window/maximize-active-hovered.png":[9,9,"png","qx"],"qx/decoration/Modern/window/maximize-active.png":[9,9,"png","qx"],"qx/decoration/Modern/window/maximize-inactive.png":[9,9,"png","qx"],"qx/decoration/Modern/window/minimize-active-hovered.png":[9,9,"png","qx"],"qx/decoration/Modern/window/minimize-active.png":[9,9,"png","qx"],"qx/decoration/Modern/window/minimize-inactive.png":[9,9,"png","qx"],"qx/decoration/Modern/window/restore-active-hovered.png":[9,8,"png","qx"],"qx/decoration/Modern/window/restore-active.png":[9,8,"png","qx"],"qx/decoration/Modern/window/restore-inactive.png":[9,8,"png","qx"],"qx/decoration/Simple/arrows/down-invert.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/down-small.gif":[5,3,"gif","qx"],"qx/decoration/Simple/arrows/down.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/forward.gif":[8,7,"gif","qx"],"qx/decoration/Simple/arrows/left-invert.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/left.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/rewind.gif":[8,7,"gif","qx"],"qx/decoration/Simple/arrows/right-invert.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/right.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/up-invert.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/up-small.gif":[5,3,"gif","qx"],"qx/decoration/Simple/arrows/up.gif":[7,4,"gif","qx"],"qx/decoration/Simple/checkbox/checked-disabled.png":[6,6,"png","qx"],"qx/decoration/Simple/checkbox/checked.png":[6,6,"png","qx"],"qx/decoration/Simple/checkbox/undetermined-disabled.png":[6,2,"png","qx"],"qx/decoration/Simple/checkbox/undetermined.png":[6,2,"png","qx"],"qx/decoration/Simple/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Simple/colorselector/brightness-handle.gif":[35,11,"gif","qx"],"qx/decoration/Simple/colorselector/huesaturation-field.jpg":[256,256,"jpg","qx"],"qx/decoration/Simple/colorselector/huesaturation-handle.gif":[11,11,"gif","qx"],"qx/decoration/Simple/cursors/alias.gif":[19,15,"gif","qx"],"qx/decoration/Simple/cursors/copy.gif":[19,15,"gif","qx"],"qx/decoration/Simple/cursors/move.gif":[13,9,"gif","qx"],"qx/decoration/Simple/cursors/nodrop.gif":[20,20,"gif","qx"],"qx/decoration/Simple/menu/checkbox-invert.gif":[16,7,"gif","qx"],"qx/decoration/Simple/menu/checkbox.gif":[16,7,"gif","qx"],"qx/decoration/Simple/menu/radiobutton-invert.gif":[16,5,"gif","qx"],"qx/decoration/Simple/menu/radiobutton.gif":[16,5,"gif","qx"],"qx/decoration/Simple/splitpane/knob-horizontal.png":[1,8,"png","qx"],"qx/decoration/Simple/splitpane/knob-vertical.png":[8,1,"png","qx"],"qx/decoration/Simple/table/ascending-invert.png":[10,10,"png","qx"],"qx/decoration/Simple/table/ascending.png":[10,10,"png","qx"],"qx/decoration/Simple/table/boolean-false.png":[11,11,"png","qx"],"qx/decoration/Simple/table/boolean-true.png":[11,11,"png","qx"],"qx/decoration/Simple/table/descending-invert.png":[10,10,"png","qx"],"qx/decoration/Simple/table/descending.png":[10,10,"png","qx"],"qx/decoration/Simple/table/select-column-order.png":[10,9,"png","qx"],"qx/decoration/Simple/tabview/close.gif":[10,9,"gif","qx"],"qx/decoration/Simple/tree/minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/tree/plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/line.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/only_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/only_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/window/close-white.gif":[10,9,"gif","qx"],"qx/decoration/Simple/window/close.gif":[10,9,"gif","qx"],"qx/decoration/Simple/window/maximize-white.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/maximize.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/minimize-white.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/minimize.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/restore-white.gif":[8,9,"gif","qx"],"qx/decoration/Simple/window/restore.gif":[8,9,"gif","qx"],"qx/icon/Oxygen/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-calendar.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/text-plain.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/folder-open.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/folder.png":[16,16,"png","qx"],"qx/icon/Oxygen/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-surprise.png":[22,22,"png","qx"],"qx/icon/Tango/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-clear.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-calendar.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-color-chooser.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/system.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-document.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/text-plain.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/folder-open.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/folder.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-error.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-information.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-warning.png":[16,16,"png","qx"],"qx/icon/Tango/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-document.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/folder-open.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/folder.png":[22,22,"png","qx"],"qx/icon/Tango/32/mimetypes/office-document.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/folder-open.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/folder.png":[32,32,"png","qx"],"qx/icon/Tango/48/places/folder.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/user-home.png":[48,48,"png","qx"],"qx/static/blank.gif":[1,1,"gif","qx"],"qx/static/blank.html":[null,null,"html","qx"],"qx/static/blank.png":[1,1,"png","qx"],"qx/static/drawer.png":[23,23,"png","qx"],"qx/static/drawer@2x.png":[45,45,"png","qx"],"qx/test/UnitTestFlash.mxml":[null,null,"mxml","qx"],"qx/test/UnitTestFlash.swf":[null,null,"swf","qx"],"qx/test/array.json":[null,null,"json","qx"],"qx/test/bluebar.svg":[null,null,"svg","qx"],"qx/test/build.xml":[null,null,"xml","qx"],"qx/test/cached-script.php":[null,null,"php","qx"],"qx/test/colorstrip.gif":[192,10,"gif","qx"],"qx/test/delayedImage.php":[null,null,"php","qx"],"qx/test/failing.json":[null,null,"json","qx"],"qx/test/hello.html":[null,null,"html","qx"],"qx/test/jsonp_primitive.php":[null,null,"php","qx"],"qx/test/object.json":[null,null,"json","qx"],"qx/test/primitive.json":[null,null,"json","qx"],"qx/test/script.js":[null,null,"js","qx"],"qx/test/style.css":[null,null,"css","qx"],"qx/test/webworker.js":[null,null,"js","qx"],"qx/test/dynamicscriptloader/first.js":[null,null,"js","qx"],"qx/test/dynamicscriptloader/second.js":[null,null,"js","qx"],"qx/test/dynamicscriptloader/third.js":[null,null,"js","qx"],"qx/test/media/knock.mp3":[null,null,"mp3","qx"],"qx/test/media/knock.ogg":[null,null,"ogg","qx"],"qx/test/media/knock.wav":[null,null,"wav","qx"],"qx/test/media/qx.m4v":[null,null,"m4v","qx"],"qx/test/media/qx.ogv":[null,null,"ogv","qx"],"qx/test/media/qx.webm":[null,null,"webm","qx"],"qx/test/part/delay.php":[null,null,"php","qx"],"qx/test/part/file1-closure.js":[null,null,"js","qx"],"qx/test/part/file1.js":[null,null,"js","qx"],"qx/test/part/file2-closure.js":[null,null,"js","qx"],"qx/test/part/file2.js":[null,null,"js","qx"],"qx/test/part/file3-closure.js":[null,null,"js","qx"],"qx/test/part/file3.js":[null,null,"js","qx"],"qx/test/webfonts/fineliner_script-webfont.eot":[null,null,"eot","qx"],"qx/test/webfonts/fineliner_script-webfont.ttf":[null,null,"ttf","qx"],"qx/test/webfonts/fineliner_script-webfont.woff":[null,null,"woff","qx"],"qx/test/webfonts/fontawesome-webfont.eot":[null,null,"eot","qx"],"qx/test/webfonts/fontawesome-webfont.ttf":[null,null,"ttf","qx"],"qx/test/webfonts/fontawesome-webfont.woff":[null,null,"woff","qx"],"qx/test/webfonts/tobec___-webfont.eot":[null,null,"eot","qx"],"qx/test/webfonts/tobec___-webfont.ttf":[null,null,"ttf","qx"],"qx/test/webfonts/tobec___-webfont.woff":[null,null,"woff","qx"],"qx/test/webfonts/yanonekaffeesatz-regular-webfont.eot":[null,null,"eot","qx"],"qx/test/webfonts/yanonekaffeesatz-regular-webfont.ttf":[null,null,"ttf","qx"],"qx/test/webfonts/yanonekaffeesatz-regular-webfont.woff":[null,null,"woff","qx"],"qx/test/xmlhttp/404.php":[null,null,"php","qx"],"qx/test/xmlhttp/echo_form_request.php":[null,null,"php","qx"],"qx/test/xmlhttp/echo_get_request.php":[null,null,"php","qx"],"qx/test/xmlhttp/echo_header.php":[null,null,"php","qx"],"qx/test/xmlhttp/echo_post_request.php":[null,null,"php","qx"],"qx/test/xmlhttp/get_content.php":[null,null,"php","qx"],"qx/test/xmlhttp/invalid.xml":[null,null,"xml","qx"],"qx/test/xmlhttp/loading.php":[null,null,"php","qx"],"qx/test/xmlhttp/long_poll.php":[null,null,"php","qx"],"qx/test/xmlhttp/not_modified.php":[null,null,"php","qx"],"qx/test/xmlhttp/php_version.php":[null,null,"php","qx"],"qx/test/xmlhttp/random.php":[null,null,"php","qx"],"qx/test/xmlhttp/sample.html":[null,null,"html","qx"],"qx/test/xmlhttp/sample.json":[null,null,"json","qx"],"qx/test/xmlhttp/sample.txt":[null,null,"txt","qx"],"qx/test/xmlhttp/sample.xml":[null,null,"xml","qx"],"qx/test/xmlhttp/send_known_header.php":[null,null,"php","qx"],"qx/test/xmlhttp/time.php":[null,null,"php","qx"],"qx/test/xmlhttp/xml.php":[null,null,"php","qx"],"qxl/testtapper/run.js":[null,null,"js","qxl.testtapper"]},translations:{C:{},en:{"":"Project-Id-Version: 1.0\nReport-Msgid-Bugs-To: you@your.org\nPOT-Creation-Date: 2011-05-31 14:30+0100\nPO-Revision-Date: 2011-05-31 14:30+0100\nLast-Translator: you <you@your.org>\nLanguage-Team: Team <yourteam@your.org>\nMIME-Version: 1.0\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\n"}}};!function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}}()({1:[function(e,t,i){"use strict";e(2);var n,s=(n=e(15))&&n.__esModule?n:{default:n};s.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning.");s.default._babelPolyfill=!0},{15:15,2:2}],2:[function(e,t,i){"use strict";e(3);e(5);e(4);e(11);e(10);e(13);e(12);e(14);e(7);e(8);e(6);e(9);e(306);e(307)},{10:10,11:11,12:12,13:13,14:14,3:3,306:306,307:307,4:4,5:5,6:6,7:7,8:8,9:9}],3:[function(e,t,i){e(278);e(214);e(216);e(215);e(218);e(220);e(225);e(219);e(217);e(227);e(226);e(222);e(223);e(221);e(213);e(224);e(228);e(229);e(180);e(182);e(181);e(231);e(230);e(201);e(211);e(212);e(202);e(203);e(204);e(205);e(206);e(207);e(208);e(209);e(210);e(184);e(185);e(186);e(187);e(188);e(189);e(190);e(191);e(192);e(193);e(194);e(195);e(196);e(197);e(198);e(199);e(200);e(265);e(270);e(277);e(268);e(260);e(261);e(266);e(271);e(273);e(256);e(257);e(258);e(259);e(262);e(263);e(264);e(267);e(269);e(272);e(274);e(275);e(276);e(175);e(177);e(176);e(179);e(178);e(163);e(161);e(168);e(165);e(171);e(173);e(160);e(167);e(157);e(172);e(155);e(170);e(169);e(162);e(166);e(154);e(156);e(159);e(158);e(174);e(164);e(247);e(248);e(254);e(249);e(250);e(251);e(252);e(253);e(232);e(183);e(255);e(290);e(291);e(279);e(280);e(285);e(288);e(289);e(283);e(286);e(284);e(287);e(281);e(282);e(233);e(234);e(235);e(236);e(237);e(240);e(238);e(239);e(241);e(242);e(243);e(244);e(246);e(245);t.exports=e(52)},{154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,52:52}],4:[function(e,t,i){e(292);t.exports=e(52).Array.flatMap},{292:292,52:52}],5:[function(e,t,i){e(293);t.exports=e(52).Array.includes},{293:293,52:52}],6:[function(e,t,i){e(294);t.exports=e(52).Object.entries},{294:294,52:52}],7:[function(e,t,i){e(295);t.exports=e(52).Object.getOwnPropertyDescriptors},{295:295,52:52}],8:[function(e,t,i){e(296);t.exports=e(52).Object.values},{296:296,52:52}],9:[function(e,t,i){"use strict";e(232);e(297);t.exports=e(52).Promise.finally},{232:232,297:297,52:52}],10:[function(e,t,i){e(298);t.exports=e(52).String.padEnd},{298:298,52:52}],11:[function(e,t,i){e(299);t.exports=e(52).String.padStart},{299:299,52:52}],12:[function(e,t,i){e(301);t.exports=e(52).String.trimRight},{301:301,52:52}],13:[function(e,t,i){e(300);t.exports=e(52).String.trimLeft},{300:300,52:52}],14:[function(e,t,i){e(302);t.exports=e(151).f("asyncIterator")},{151:151,302:302}],15:[function(e,t,i){e(32);t.exports=e(18).global},{18:18,32:32}],16:[function(e,t,i){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],17:[function(e,t,i){var n=e(28);t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{28:28}],18:[function(e,t,i){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},{}],19:[function(e,t,i){var n=e(16);t.exports=function(e,t,i){n(e);if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},{16:16}],20:[function(e,t,i){t.exports=!e(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{23:23}],21:[function(e,t,i){var n=e(28),s=e(24).document,r=n(s)&&n(s.createElement);t.exports=function(e){return r?s.createElement(e):{}}},{24:24,28:28}],22:[function(e,t,i){var n=e(24),s=e(18),r=e(19),o=e(26),a=e(25),l=function(e,t,i){var u,c,d,h=e&l.F,g=e&l.G,m=e&l.S,f=e&l.P,p=e&l.B,_=e&l.W,x=g?s:s[t]||(s[t]={}),q=x.prototype,v=g?n:m?n[t]:(n[t]||{}).prototype;g&&(i=t);for(u in i)if(!(c=!h&&v&&void 0!==v[u])||!a(x,u)){d=c?v[u]:i[u];x[u]=g&&"function"!=typeof v[u]?i[u]:p&&c?r(d,n):_&&v[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};t.prototype=e.prototype;return t}(d):f&&"function"==typeof d?r(Function.call,d):d;if(f){(x.virtual||(x.virtual={}))[u]=d;e&l.R&&q&&!q[u]&&o(q,u,d)}}};l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;t.exports=l},{18:18,19:19,24:24,25:25,26:26}],23:[function(e,t,i){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],24:[function(e,t,i){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],25:[function(e,t,i){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],26:[function(e,t,i){var n=e(29),s=e(30);t.exports=e(20)?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){e[t]=i;return e}},{20:20,29:29,30:30}],27:[function(e,t,i){t.exports=!e(20)&&!e(23)(function(){return 7!=Object.defineProperty(e(21)("div"),"a",{get:function(){return 7}}).a})},{20:20,21:21,23:23}],28:[function(e,t,i){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],29:[function(e,t,i){var n=e(17),s=e(27),r=e(31),o=Object.defineProperty;i.f=e(20)?Object.defineProperty:function(e,t,i){n(e);t=r(t,!0);n(i);if(s)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");"value"in i&&(e[t]=i.value);return e}},{17:17,20:20,27:27,31:31}],30:[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],31:[function(e,t,i){var n=e(28);t.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},{28:28}],32:[function(e,t,i){var n=e(22);n(n.G,{global:e(24)})},{22:22,24:24}],33:[function(e,t,i){arguments[4][16][0].apply(i,arguments)},{16:16}],34:[function(e,t,i){var n=e(48);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{48:48}],35:[function(e,t,i){var n=e(152)("unscopables"),s=Array.prototype;void 0==s[n]&&e(72)(s,n,{});t.exports=function(e){s[n][e]=!0}},{152:152,72:72}],36:[function(e,t,i){"use strict";var n=e(129)(!0);t.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},{129:129}],37:[function(e,t,i){t.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},{}],38:[function(e,t,i){arguments[4][17][0].apply(i,arguments)},{17:17,81:81}],39:[function(e,t,i){"use strict";var n=e(142),s=e(137),r=e(141);t.exports=[].copyWithin||function(e,t){var i=n(this),o=r(i.length),a=s(e,o),l=s(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:s(u,o))-l,o-a),d=1;if(l<a&&a<l+c){d=-1;l+=c-1;a+=c-1}for(;c-- >0;){l in i?i[a]=i[l]:delete i[a];a+=d;l+=d}return i}},{137:137,141:141,142:142}],40:[function(e,t,i){"use strict";var n=e(142),s=e(137),r=e(141);t.exports=function(e){for(var t=n(this),i=r(t.length),o=arguments.length,a=s(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,u=void 0===l?i:s(l,i);u>a;)t[a++]=e;return t}},{137:137,141:141,142:142}],41:[function(e,t,i){var n=e(140),s=e(141),r=e(137);t.exports=function(e){return function(t,i,o){var a,l=n(t),u=s(l.length),c=r(o,u);if(e&&i!=i){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},{137:137,140:140,141:141}],42:[function(e,t,i){var n=e(54),s=e(77),r=e(142),o=e(141),a=e(45);t.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,g=t||a;return function(t,a,m){for(var f,p,_=r(t),x=s(_),q=n(a,m,3),v=o(x.length),b=0,y=i?g(t,v):l?g(t,0):void 0;v>b;b++)if(h||b in x){p=q(f=x[b],b,_);if(e)if(i)y[b]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:y.push(f)}else if(c)return!1}return d?-1:u||c?c:y}}},{141:141,142:142,45:45,54:54,77:77}],43:[function(e,t,i){var n=e(33),s=e(142),r=e(77),o=e(141);t.exports=function(e,t,i,a,l){n(t);var u=s(e),c=r(u),d=o(u.length),h=l?d-1:0,g=l?-1:1;if(i<2)for(;;){if(h in c){a=c[h];h+=g;break}h+=g;if(l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=g)h in c&&(a=t(a,c[h],h,u));return a}},{141:141,142:142,33:33,77:77}],44:[function(e,t,i){var n=e(81),s=e(79),r=e(152)("species");t.exports=function(e){var t;if(s(e)){"function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)||(t=void 0);n(t)&&null===(t=t[r])&&(t=void 0)}return void 0===t?Array:t}},{152:152,79:79,81:81}],45:[function(e,t,i){var n=e(44);t.exports=function(e,t){return new(n(e))(t)}},{44:44}],46:[function(e,t,i){"use strict";var n=e(33),s=e(81),r=e(76),o=[].slice,a={};t.exports=Function.bind||function(e){var t=n(this),i=o.call(arguments,1),l=function(){var n=i.concat(o.call(arguments));return this instanceof l?function(e,t,i){if(!(t in a)){for(var n=[],s=0;s<t;s++)n[s]="a["+s+"]";a[t]=Function("F,a","return new F("+n.join(",")+")")}return a[t](e,i)}(t,n.length,n):r(t,n,e)};s(t.prototype)&&(l.prototype=t.prototype);return l}},{33:33,76:76,81:81}],47:[function(e,t,i){var n=e(48),s=e(152)("toStringTag"),r="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,i,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?i:r?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{152:152,48:48}],48:[function(e,t,i){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],49:[function(e,t,i){"use strict";var n=e(99).f,s=e(98),r=e(117),o=e(54),a=e(37),l=e(68),u=e(85),c=e(87),d=e(123),h=e(58),g=e(94).fastKey,m=e(149),f=h?"_s":"size",p=function(e,t){var i,n=g(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};t.exports={getConstructor:function(e,t,i,u){var c=e(function(e,n){a(e,c,t,"_i");e._t=t;e._i=s(null);e._f=void 0;e._l=void 0;e[f]=0;void 0!=n&&l(n,i,e[u],e)});r(c.prototype,{clear:function(){for(var e=m(this,t),i=e._i,n=e._f;n;n=n.n){n.r=!0;n.p&&(n.p=n.p.n=void 0);delete i[n.i]}e._f=e._l=void 0;e[f]=0},delete:function(e){var i=m(this,t),n=p(i,e);if(n){var s=n.n,r=n.p;delete i._i[n.i];n.r=!0;r&&(r.n=s);s&&(s.p=r);i._f==n&&(i._f=s);i._l==n&&(i._l=r);i[f]--}return!!n},forEach:function(e){m(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;){n(i.v,i.k,this);for(;i&&i.r;)i=i.p}},has:function(e){return!!p(m(this,t),e)}});h&&n(c.prototype,"size",{get:function(){return m(this,t)[f]}});return c},def:function(e,t,i){var n,s,r=p(e,t);if(r)r.v=i;else{e._l=r={i:s=g(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1};e._f||(e._f=r);n&&(n.n=r);e[f]++;"F"!==s&&(e._i[s]=r)}return e},getEntry:p,setStrong:function(e,t,i){u(e,t,function(e,i){this._t=m(e,t);this._k=i;this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;if(!this._t||!(this._l=t=t?t.n:this._t._f)){this._t=void 0;return c(1)}return c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v])},i?"entries":"values",!i,!0);d(t)}}},{117:117,123:123,149:149,37:37,54:54,58:58,68:68,85:85,87:87,94:94,98:98,99:99}],50:[function(e,t,i){"use strict";var n=e(117),s=e(94).getWeak,r=e(38),o=e(81),a=e(37),l=e(68),u=e(42),c=e(71),d=e(149),h=u(5),g=u(6),m=0,f=function(e){return e._l||(e._l=new p)},p=function(){this.a=[]},_=function(e,t){return h(e.a,function(e){return e[0]===t})};p.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var i=_(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=g(this.a,function(t){return t[0]===e});~t&&this.a.splice(t,1);return!!~t}};t.exports={getConstructor:function(e,t,i,r){var u=e(function(e,n){a(e,u,t,"_i");e._t=t;e._i=m++;e._l=void 0;void 0!=n&&l(n,i,e[r],e)});n(u.prototype,{delete:function(e){if(!o(e))return!1;var i=s(e);return!0===i?f(d(this,t)).delete(e):i&&c(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=s(e);return!0===i?f(d(this,t)).has(e):i&&c(i,this._i)}});return u},def:function(e,t,i){var n=s(r(t),!0);!0===n?f(e).set(t,i):n[e._i]=i;return e},ufstore:f}},{117:117,149:149,37:37,38:38,42:42,68:68,71:71,81:81,94:94}],51:[function(e,t,i){"use strict";var n=e(70),s=e(62),r=e(118),o=e(117),a=e(94),l=e(68),u=e(37),c=e(81),d=e(64),h=e(86),g=e(124),m=e(75);t.exports=function(e,t,i,f,p,_){var x=n[e],q=x,v=p?"set":"add",b=q&&q.prototype,y={},C=function(e){var t=b[e];r(b,e,"delete"==e?function(e){return!(_&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){t.call(this,0===e?0:e);return this}:function(e,i){t.call(this,0===e?0:e,i);return this})};if("function"==typeof q&&(_||b.forEach&&!d(function(){(new q).entries().next()}))){var w=new q,E=w[v](_?{}:-0,1)!=w,S=d(function(){w.has(1)}),T=h(function(e){new q(e)}),I=!_&&d(function(){for(var e=new q,t=5;t--;)e[v](t,t);return!e.has(-0)});if(!T){(q=t(function(t,i){u(t,q,e);var n=m(new x,t,q);void 0!=i&&l(i,p,n[v],n);return n})).prototype=b;b.constructor=q}if(S||I){C("delete");C("has");p&&C("get")}(I||E)&&C(v);_&&b.clear&&delete b.clear}else{q=f.getConstructor(t,e,p,v);o(q.prototype,i);a.NEED=!0}g(q,e);y[e]=q;s(s.G+s.W+s.F*(q!=x),y);_||f.setStrong(q,e,p);return q}},{117:117,118:118,124:124,37:37,62:62,64:64,68:68,70:70,75:75,81:81,86:86,94:94}],52:[function(e,t,i){arguments[4][18][0].apply(i,arguments)},{18:18}],53:[function(e,t,i){"use strict";var n=e(99),s=e(116);t.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},{116:116,99:99}],54:[function(e,t,i){arguments[4][19][0].apply(i,arguments)},{19:19,33:33}],55:[function(e,t,i){"use strict";var n=e(64),s=Date.prototype.getTime,r=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:r},{64:64}],56:[function(e,t,i){"use strict";var n=e(38),s=e(143);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return s(n(this),"number"!=e)}},{143:143,38:38}],57:[function(e,t,i){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],58:[function(e,t,i){arguments[4][20][0].apply(i,arguments)},{20:20,64:64}],59:[function(e,t,i){arguments[4][21][0].apply(i,arguments)},{21:21,70:70,81:81}],60:[function(e,t,i){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],61:[function(e,t,i){var n=e(107),s=e(104),r=e(108);t.exports=function(e){var t=n(e),i=s.f;if(i)for(var o,a=i(e),l=r.f,u=0;a.length>u;)l.call(e,o=a[u++])&&t.push(o);return t}},{104:104,107:107,108:108}],62:[function(e,t,i){var n=e(70),s=e(52),r=e(72),o=e(118),a=e(54),l=function(e,t,i){var u,c,d,h,g=e&l.F,m=e&l.G,f=e&l.S,p=e&l.P,_=e&l.B,x=m?n:f?n[t]||(n[t]={}):(n[t]||{}).prototype,q=m?s:s[t]||(s[t]={}),v=q.prototype||(q.prototype={});m&&(i=t);for(u in i){d=((c=!g&&x&&void 0!==x[u])?x:i)[u];h=_&&c?a(d,n):p&&"function"==typeof d?a(Function.call,d):d;x&&o(x,u,d,e&l.U);q[u]!=d&&r(q,u,h);p&&v[u]!=d&&(v[u]=d)}};n.core=s;l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;t.exports=l},{118:118,52:52,54:54,70:70,72:72}],63:[function(e,t,i){var n=e(152)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{t[n]=!1;return!"/./"[e](t)}catch(e){}}return!0}},{152:152}],64:[function(e,t,i){arguments[4][23][0].apply(i,arguments)},{23:23}],65:[function(e,t,i){"use strict";e(248);var n=e(118),s=e(72),r=e(64),o=e(57),a=e(152),l=e(120),u=a("species"),c=!r(function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(e,t,i){var h=a(e),g=!r(function(){var t={};t[h]=function(){return 7};return 7!=""[e](t)}),m=g?!r(function(){var t=!1,i=/a/;i.exec=function(){t=!0;return null};if("split"===e){i.constructor={};i.constructor[u]=function(){return i}}i[h]("");return!t}):void 0;if(!g||!m||"replace"===e&&!c||"split"===e&&!d){var f=/./[h],p=i(o,h,""[e],function(e,t,i,n,s){return t.exec===l?g&&!s?{done:!0,value:f.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),_=p[0],x=p[1];n(String.prototype,e,_);s(RegExp.prototype,h,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}}},{118:118,120:120,152:152,248:248,57:57,64:64,72:72}],66:[function(e,t,i){"use strict";var n=e(38);t.exports=function(){var e=n(this),t="";e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");e.unicode&&(t+="u");e.sticky&&(t+="y");return t}},{38:38}],67:[function(e,t,i){"use strict";var n=e(79),s=e(81),r=e(141),o=e(54),a=e(152)("isConcatSpreadable");t.exports=function e(t,i,l,u,c,d,h,g){for(var m,f,p=c,_=0,x=!!h&&o(h,g,3);_<u;){if(_ in l){m=x?x(l[_],_,i):l[_];f=!1;s(m)&&(f=void 0!==(f=m[a])?!!f:n(m));if(f&&d>0)p=e(t,i,m,r(m.length),p,d-1)-1;else{if(p>=9007199254740991)throw TypeError();t[p]=m}p++}_++}return p}},{141:141,152:152,54:54,79:79,81:81}],68:[function(e,t,i){var n=e(54),s=e(83),r=e(78),o=e(38),a=e(141),l=e(153),u={},c={};(i=t.exports=function(e,t,i,d,h){var g,m,f,p,_=h?function(){return e}:l(e),x=n(i,d,t?2:1),q=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(r(_)){for(g=a(e.length);g>q;q++)if((p=t?x(o(m=e[q])[0],m[1]):x(e[q]))===u||p===c)return p}else for(f=_.call(e);!(m=f.next()).done;)if((p=s(f,x,m.value,t))===u||p===c)return p}).BREAK=u;i.RETURN=c},{141:141,153:153,38:38,54:54,78:78,83:83}],69:[function(e,t,i){t.exports=e(126)("native-function-to-string",Function.toString)},{126:126}],70:[function(e,t,i){arguments[4][24][0].apply(i,arguments)},{24:24}],71:[function(e,t,i){arguments[4][25][0].apply(i,arguments)},{25:25}],72:[function(e,t,i){arguments[4][26][0].apply(i,arguments)},{116:116,26:26,58:58,99:99}],73:[function(e,t,i){var n=e(70).document;t.exports=n&&n.documentElement},{70:70}],74:[function(e,t,i){arguments[4][27][0].apply(i,arguments)},{27:27,58:58,59:59,64:64}],75:[function(e,t,i){var n=e(81),s=e(122).set;t.exports=function(e,t,i){var r,o=t.constructor;o!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&n(r)&&s&&s(e,r);return e}},{122:122,81:81}],76:[function(e,t,i){t.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},{}],77:[function(e,t,i){var n=e(48);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{48:48}],78:[function(e,t,i){var n=e(88),s=e(152)("iterator"),r=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||r[s]===e)}},{152:152,88:88}],79:[function(e,t,i){var n=e(48);t.exports=Array.isArray||function(e){return"Array"==n(e)}},{48:48}],80:[function(e,t,i){var n=e(81),s=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&s(e)===e}},{81:81}],81:[function(e,t,i){arguments[4][28][0].apply(i,arguments)},{28:28}],82:[function(e,t,i){var n=e(81),s=e(48),r=e(152)("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==s(e))}},{152:152,48:48,81:81}],83:[function(e,t,i){var n=e(38);t.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var r=e.return;void 0!==r&&n(r.call(e));throw t}}},{38:38}],84:[function(e,t,i){"use strict";var n=e(98),s=e(116),r=e(124),o={};e(72)(o,e(152)("iterator"),function(){return this});t.exports=function(e,t,i){e.prototype=n(o,{next:s(1,i)});r(e,t+" Iterator")}},{116:116,124:124,152:152,72:72,98:98}],85:[function(e,t,i){"use strict";var n=e(89),s=e(62),r=e(118),o=e(72),a=e(88),l=e(84),u=e(124),c=e(105),d=e(152)("iterator"),h=!([].keys&&"next"in[].keys()),g=function(){return this};t.exports=function(e,t,i,m,f,p,_){l(i,t,m);var x,q,v,b=function(e){if(!h&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},y=t+" Iterator",C="values"==f,w=!1,E=e.prototype,S=E[d]||E["@@iterator"]||f&&E[f],T=S||b(f),I=f?C?b("entries"):T:void 0,A="Array"==t&&E.entries||S;if(A&&(v=c(A.call(new e)))!==Object.prototype&&v.next){u(v,y,!0);n||"function"==typeof v[d]||o(v,d,g)}if(C&&S&&"values"!==S.name){w=!0;T=function(){return S.call(this)}}n&&!_||!h&&!w&&E[d]||o(E,d,T);a[t]=T;a[y]=g;if(f){x={values:C?T:b("values"),keys:p?T:b("keys"),entries:I};if(_)for(q in x)q in E||r(E,q,x[q]);else s(s.P+s.F*(h||w),t,x)}return x}},{105:105,118:118,124:124,152:152,62:62,72:72,84:84,88:88,89:89}],86:[function(e,t,i){var n=e(152)("iterator"),s=!1;try{var r=[7][n]();r.return=function(){s=!0};Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var r=[7],o=r[n]();o.next=function(){return{done:i=!0}};r[n]=function(){return o};e(r)}catch(e){}return i}},{152:152}],87:[function(e,t,i){t.exports=function(e,t){return{value:t,done:!!e}}},{}],88:[function(e,t,i){t.exports={}},{}],89:[function(e,t,i){t.exports=!1},{}],90:[function(e,t,i){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],91:[function(e,t,i){var n=e(93),s=Math.pow,r=s(2,-52),o=s(2,-23),a=s(2,127)*(2-o),l=s(2,-126);t.exports=Math.fround||function(e){var t,i,s=Math.abs(e),u=n(e);return s<l?u*(s/l/o+1/r-1/r)*l*o:(i=(t=(1+o/r)*s)-(t-s))>a||i!=i?u*(1/0):u*i}},{93:93}],92:[function(e,t,i){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],93:[function(e,t,i){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],94:[function(e,t,i){var n=e(147)("meta"),s=e(81),r=e(71),o=e(99).f,a=0,l=Object.isExtensible||function(){return!0},u=!e(64)(function(){return l(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!r(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){u&&d.NEED&&l(e)&&!r(e,n)&&c(e);return e}}},{147:147,64:64,71:71,81:81,99:99}],95:[function(e,t,i){var n=e(70),s=e(136).set,r=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,l="process"==e(48)(o);t.exports=function(){var e,t,i,u=function(){var n,s;l&&(n=o.domain)&&n.exit();for(;e;){s=e.fn;e=e.next;try{s()}catch(n){e?i():t=void 0;throw n}}t=void 0;n&&n.enter()};if(l)i=function(){o.nextTick(u)};else if(!r||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);i=function(){c.then(u)}}else i=function(){s.call(n,u)};else{var d=!0,h=document.createTextNode("");new r(u).observe(h,{characterData:!0});i=function(){h.data=d=!d}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s);if(!e){e=s;i()}t=s}}},{136:136,48:48,70:70}],96:[function(e,t,i){"use strict";var n=e(33);t.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e;i=n});this.resolve=n(t);this.reject=n(i)}(e)}},{33:33}],97:[function(e,t,i){"use strict";var n=e(107),s=e(104),r=e(108),o=e(142),a=e(77),l=Object.assign;t.exports=!l||e(64)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";e[i]=7;n.split("").forEach(function(e){t[e]=e});return 7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=o(e),l=arguments.length,u=1,c=s.f,d=r.f;l>u;)for(var h,g=a(arguments[u++]),m=c?n(g).concat(c(g)):n(g),f=m.length,p=0;f>p;)d.call(g,h=m[p++])&&(i[h]=g[h]);return i}:l},{104:104,107:107,108:108,142:142,64:64,77:77}],98:[function(e,t,i){var n=e(38),s=e(100),r=e(60),o=e(125)("IE_PROTO"),a=function(){},l=function(){var t,i=e(59)("iframe"),n=r.length;i.style.display="none";e(73).appendChild(i);i.src="javascript:";(t=i.contentWindow.document).open();t.write("<script>document.F=Object<\/script>");t.close();l=t.F;for(;n--;)delete l.prototype[r[n]];return l()};t.exports=Object.create||function(e,t){var i;if(null!==e){a.prototype=n(e);i=new a;a.prototype=null;i[o]=e}else i=l();return void 0===t?i:s(i,t)}},{100:100,125:125,38:38,59:59,60:60,73:73}],99:[function(e,t,i){arguments[4][29][0].apply(i,arguments)},{143:143,29:29,38:38,58:58,74:74}],100:[function(e,t,i){var n=e(99),s=e(38),r=e(107);t.exports=e(58)?Object.defineProperties:function(e,t){s(e);for(var i,o=r(t),a=o.length,l=0;a>l;)n.f(e,i=o[l++],t[i]);return e}},{107:107,38:38,58:58,99:99}],101:[function(e,t,i){var n=e(108),s=e(116),r=e(140),o=e(143),a=e(71),l=e(74),u=Object.getOwnPropertyDescriptor;i.f=e(58)?u:function(e,t){e=r(e);t=o(t,!0);if(l)try{return u(e,t)}catch(e){}if(a(e,t))return s(!n.f.call(e,t),e[t])}},{108:108,116:116,140:140,143:143,58:58,71:71,74:74}],102:[function(e,t,i){var n=e(140),s=e(103).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return s(e)}catch(e){return o.slice()}}(e):s(n(e))}},{103:103,140:140}],103:[function(e,t,i){var n=e(106),s=e(60).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},{106:106,60:60}],104:[function(e,t,i){i.f=Object.getOwnPropertySymbols},{}],105:[function(e,t,i){var n=e(71),s=e(142),r=e(125)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){e=s(e);return n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{125:125,142:142,71:71}],106:[function(e,t,i){var n=e(71),s=e(140),r=e(41)(!1),o=e(125)("IE_PROTO");t.exports=function(e,t){var i,a=s(e),l=0,u=[];for(i in a)i!=o&&n(a,i)&&u.push(i);for(;t.length>l;)n(a,i=t[l++])&&(~r(u,i)||u.push(i));return u}},{125:125,140:140,41:41,71:71}],107:[function(e,t,i){var n=e(106),s=e(60);t.exports=Object.keys||function(e){return n(e,s)}},{106:106,60:60}],108:[function(e,t,i){i.f={}.propertyIsEnumerable},{}],109:[function(e,t,i){var n=e(62),s=e(52),r=e(64);t.exports=function(e,t){var i=(s.Object||{})[e]||Object[e],o={};o[e]=t(i);n(n.S+n.F*r(function(){i(1)}),"Object",o)}},{52:52,62:62,64:64}],110:[function(e,t,i){var n=e(107),s=e(140),r=e(108).f;t.exports=function(e){return function(t){for(var i,o=s(t),a=n(o),l=a.length,u=0,c=[];l>u;)r.call(o,i=a[u++])&&c.push(e?[i,o[i]]:o[i]);return c}}},{107:107,108:108,140:140}],111:[function(e,t,i){var n=e(103),s=e(104),r=e(38),o=e(70).Reflect;t.exports=o&&o.ownKeys||function(e){var t=n.f(r(e)),i=s.f;return i?t.concat(i(e)):t}},{103:103,104:104,38:38,70:70}],112:[function(e,t,i){var n=e(70).parseFloat,s=e(134).trim;t.exports=1/n(e(135)+"-0")!=-1/0?function(e){var t=s(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},{134:134,135:135,70:70}],113:[function(e,t,i){var n=e(70).parseInt,s=e(134).trim,r=e(135),o=/^[-+]?0[xX]/;t.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(e,t){var i=s(String(e),3);return n(i,t>>>0||(o.test(i)?16:10))}:n},{134:134,135:135,70:70}],114:[function(e,t,i){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],115:[function(e,t,i){var n=e(38),s=e(81),r=e(96);t.exports=function(e,t){n(e);if(s(t)&&t.constructor===e)return t;var i=r.f(e);(0,i.resolve)(t);return i.promise}},{38:38,81:81,96:96}],116:[function(e,t,i){arguments[4][30][0].apply(i,arguments)},{30:30}],117:[function(e,t,i){var n=e(118);t.exports=function(e,t,i){for(var s in t)n(e,s,t[s],i);return e}},{118:118}],118:[function(e,t,i){var n=e(70),s=e(72),r=e(71),o=e(147)("src"),a=e(69),l=(""+a).split("toString");e(52).inspectSource=function(e){return a.call(e)};(t.exports=function(e,t,i,a){var u="function"==typeof i;u&&(r(i,"name")||s(i,"name",t));if(e[t]!==i){u&&(r(i,o)||s(i,o,e[t]?""+e[t]:l.join(String(t))));if(e===n)e[t]=i;else if(a)e[t]?e[t]=i:s(e,t,i);else{delete e[t];s(e,t,i)}}})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},{147:147,52:52,69:69,70:70,71:71,72:72}],119:[function(e,t,i){"use strict";var n=e(47),s=RegExp.prototype.exec;t.exports=function(e,t){var i=e.exec;if("function"==typeof i){var r=i.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},{47:47}],120:[function(e,t,i){"use strict";var n=e(66),s=RegExp.prototype.exec,r=String.prototype.replace,o=s,a=function(){var e=/a/,t=/b*/g;s.call(e,"a");s.call(t,"a");return 0!==e.lastIndex||0!==t.lastIndex}(),l=void 0!==/()??/.exec("")[1];(a||l)&&(o=function(e){var t,i,o,u,c=this;l&&(i=new RegExp("^"+c.source+"$(?!\\s)",n.call(c)));a&&(t=c.lastIndex);o=s.call(c,e);a&&o&&(c.lastIndex=c.global?o.index+o[0].length:t);l&&o&&o.length>1&&r.call(o[0],i,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)});return o});t.exports=o},{66:66}],121:[function(e,t,i){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],122:[function(e,t,i){var n=e(81),s=e(38),r=function(e,t){s(e);if(!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=e(54)(Function.call,e(101).f(Object.prototype,"__proto__").set,2))(t,[]);i=!(t instanceof Array)}catch(e){i=!0}return function(e,t){r(e,t);i?e.__proto__=t:n(e,t);return e}}({},!1):void 0),check:r}},{101:101,38:38,54:54,81:81}],123:[function(e,t,i){"use strict";var n=e(70),s=e(99),r=e(58),o=e(152)("species");t.exports=function(e){var t=n[e];r&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},{152:152,58:58,70:70,99:99}],124:[function(e,t,i){var n=e(99).f,s=e(71),r=e(152)("toStringTag");t.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}},{152:152,71:71,99:99}],125:[function(e,t,i){var n=e(126)("keys"),s=e(147);t.exports=function(e){return n[e]||(n[e]=s(e))}},{126:126,147:147}],126:[function(e,t,i){var n=e(52),s=e(70),r=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e(89)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{52:52,70:70,89:89}],127:[function(e,t,i){var n=e(38),s=e(33),r=e(152)("species");t.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||void 0==(i=n(o)[r])?t:s(i)}},{152:152,33:33,38:38}],128:[function(e,t,i){"use strict";var n=e(64);t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{64:64}],129:[function(e,t,i){var n=e(139),s=e(57);t.exports=function(e){return function(t,i){var r,o,a=String(s(t)),l=n(i),u=a.length;return l<0||l>=u?e?"":void 0:(r=a.charCodeAt(l))<55296||r>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):r:e?a.slice(l,l+2):o-56320+(r-55296<<10)+65536}}},{139:139,57:57}],130:[function(e,t,i){var n=e(82),s=e(57);t.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(e))}},{57:57,82:82}],131:[function(e,t,i){var n=e(62),s=e(64),r=e(57),o=/"/g,a=function(e,t,i,n){var s=String(r(e)),a="<"+t;""!==i&&(a+=" "+i+'="'+String(n).replace(o,"&quot;")+'"');return a+">"+s+"</"+t+">"};t.exports=function(e,t){var i={};i[e]=t(a);n(n.P+n.F*s(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},{57:57,62:62,64:64}],132:[function(e,t,i){var n=e(141),s=e(133),r=e(57);t.exports=function(e,t,i,o){var a=String(r(e)),l=a.length,u=void 0===i?" ":String(i),c=n(t);if(c<=l||""==u)return a;var d=c-l,h=s.call(u,Math.ceil(d/u.length));h.length>d&&(h=h.slice(0,d));return o?h+a:a+h}},{133:133,141:141,57:57}],133:[function(e,t,i){"use strict";var n=e(139),s=e(57);t.exports=function(e){var t=String(s(this)),i="",r=n(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(i+=t);return i}},{139:139,57:57}],134:[function(e,t,i){var n=e(62),s=e(57),r=e(64),o=e(135),a="["+o+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(e,t,i){var s={},a=r(function(){return!!o[e]()||"​"!="​"[e]()}),l=s[e]=a?t(d):o[e];i&&(s[i]=l);n(n.P+n.F*a,"String",s)},d=c.trim=function(e,t){e=String(s(e));1&t&&(e=e.replace(l,""));2&t&&(e=e.replace(u,""));return e};t.exports=c},{135:135,57:57,62:62,64:64}],135:[function(e,t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],136:[function(e,t,i){var n,s,r,o=e(54),a=e(76),l=e(73),u=e(59),c=e(70),d=c.process,h=c.setImmediate,g=c.clearImmediate,m=c.MessageChannel,f=c.Dispatch,p=0,_={},x=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e];t()}},q=function(e){x.call(e.data)};if(!h||!g){h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);_[++p]=function(){a("function"==typeof e?e:Function(e),t)};n(p);return p};g=function(e){delete _[e]};if("process"==e(48)(d))n=function(e){d.nextTick(o(x,e,1))};else if(f&&f.now)n=function(e){f.now(o(x,e,1))};else if(m){r=(s=new m).port2;s.port1.onmessage=q;n=o(r.postMessage,r,1)}else if(c.addEventListener&&"function"==typeof postMessage&&!c.importScripts){n=function(e){c.postMessage(e+"","*")};c.addEventListener("message",q,!1)}else n="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this);x.call(e)}}:function(e){setTimeout(o(x,e,1),0)}}t.exports={set:h,clear:g}},{48:48,54:54,59:59,70:70,73:73,76:76}],137:[function(e,t,i){var n=e(139),s=Math.max,r=Math.min;t.exports=function(e,t){return(e=n(e))<0?s(e+t,0):r(e,t)}},{139:139}],138:[function(e,t,i){var n=e(139),s=e(141);t.exports=function(e){if(void 0===e)return 0;var t=n(e),i=s(t);if(t!==i)throw RangeError("Wrong length!");return i}},{139:139,141:141}],139:[function(e,t,i){var n=Math.ceil,s=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?s:n)(e)}},{}],140:[function(e,t,i){var n=e(77),s=e(57);t.exports=function(e){return n(s(e))}},{57:57,77:77}],141:[function(e,t,i){var n=e(139),s=Math.min;t.exports=function(e){return e>0?s(n(e),9007199254740991):0}},{139:139}],142:[function(e,t,i){var n=e(57);t.exports=function(e){return Object(n(e))}},{57:57}],143:[function(e,t,i){arguments[4][31][0].apply(i,arguments)},{31:31,81:81}],144:[function(e,t,i){"use strict";if(e(58)){var n=e(89),s=e(70),r=e(64),o=e(62),a=e(146),l=e(145),u=e(54),c=e(37),d=e(116),h=e(72),g=e(117),m=e(139),f=e(141),p=e(138),_=e(137),x=e(143),q=e(71),v=e(47),b=e(81),y=e(142),C=e(78),w=e(98),E=e(105),S=e(103).f,T=e(153),I=e(147),A=e(152),D=e(42),B=e(41),L=e(127),M=e(164),P=e(88),k=e(86),R=e(123),O=e(40),F=e(39),N=e(99),W=e(101),$=N.f,V=W.f,H=s.RangeError,j=s.TypeError,U=s.Uint8Array,z=Array.prototype,G=l.ArrayBuffer,X=l.DataView,Y=D(0),K=D(2),J=D(3),Q=D(4),Z=D(5),ee=D(6),te=B(!0),ie=B(!1),ne=M.values,se=M.keys,re=M.entries,oe=z.lastIndexOf,ae=z.reduce,le=z.reduceRight,ue=z.join,ce=z.sort,de=z.slice,he=z.toString,ge=z.toLocaleString,me=A("iterator"),fe=A("toStringTag"),pe=I("typed_constructor"),_e=I("def_constructor"),xe=a.CONSTR,qe=a.TYPED,ve=a.VIEW,be=D(1,function(e,t){return Se(L(e,e[_e]),t)}),ye=r(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Ce=!!U&&!!U.prototype.set&&r(function(){new U(1).set({})}),we=function(e,t){var i=m(e);if(i<0||i%t)throw H("Wrong offset!");return i},Ee=function(e){if(b(e)&&qe in e)return e;throw j(e+" is not a typed array!")},Se=function(e,t){if(!(b(e)&&pe in e))throw j("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Ie(L(e,e[_e]),t)},Ie=function(e,t){for(var i=0,n=t.length,s=Se(e,n);n>i;)s[i]=t[i++];return s},Ae=function(e,t,i){$(e,t,{get:function(){return this._d[i]}})},De=function(e){var t,i,n,s,r,o,a=y(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,h=T(a);if(void 0!=h&&!C(h)){for(o=h.call(a),n=[],t=0;!(r=o.next()).done;t++)n.push(r.value);a=n}d&&l>2&&(c=u(c,arguments[2],2));for(t=0,i=f(a.length),s=Se(this,i);i>t;t++)s[t]=d?c(a[t],t):a[t];return s},Be=function(){for(var e=0,t=arguments.length,i=Se(this,t);t>e;)i[e]=arguments[e++];return i},Le=!!U&&r(function(){ge.call(new U(1))}),Me=function(){return ge.apply(Le?de.call(Ee(this)):Ee(this),arguments)},Pe={copyWithin:function(e,t){return F.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return O.apply(Ee(this),arguments)},filter:function(e){return Te(this,K(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ee(this),arguments)},lastIndexOf:function(e){return oe.apply(Ee(this),arguments)},map:function(e){return be(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ae.apply(Ee(this),arguments)},reduceRight:function(e){return le.apply(Ee(this),arguments)},reverse:function(){for(var e,t=Ee(this).length,i=Math.floor(t/2),n=0;n<i;){e=this[n];this[n++]=this[--t];this[t]=e}return this},some:function(e){return J(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ee(this),e)},subarray:function(e,t){var i=Ee(this),n=i.length,s=_(e,n);return new(L(i,i[_e]))(i.buffer,i.byteOffset+s*i.BYTES_PER_ELEMENT,f((void 0===t?n:_(t,n))-s))}},ke=function(e,t){return Te(this,de.call(Ee(this),e,t))},Re=function(e){Ee(this);var t=we(arguments[1],1),i=this.length,n=y(e),s=f(n.length),r=0;if(s+t>i)throw H("Wrong length!");for(;r<s;)this[t+r]=n[r++]},Oe={entries:function(){return re.call(Ee(this))},keys:function(){return se.call(Ee(this))},values:function(){return ne.call(Ee(this))}},Fe=function(e,t){return b(e)&&e[qe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ne=function(e,t){return Fe(e,t=x(t,!0))?d(2,e[t]):V(e,t)},We=function(e,t,i){if(Fe(e,t=x(t,!0))&&b(i)&&q(i,"value")&&!q(i,"get")&&!q(i,"set")&&!i.configurable&&(!q(i,"writable")||i.writable)&&(!q(i,"enumerable")||i.enumerable)){e[t]=i.value;return e}return $(e,t,i)};if(!xe){W.f=Ne;N.f=We}o(o.S+o.F*!xe,"Object",{getOwnPropertyDescriptor:Ne,defineProperty:We});r(function(){he.call({})})&&(he=ge=function(){return ue.call(this)});var $e=g({},Pe);g($e,Oe);h($e,me,Oe.values);g($e,{slice:ke,set:Re,constructor:function(){},toString:he,toLocaleString:Me});Ae($e,"buffer","b");Ae($e,"byteOffset","o");Ae($e,"byteLength","l");Ae($e,"length","e");$($e,fe,{get:function(){return this[qe]}});t.exports=function(e,t,i,l){var u=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,g="set"+e,m=s[u],_=m||{},x=m&&E(m),q=!m||!a.ABV,y={},C=m&&m.prototype,T=function(e,i){$(e,i,{get:function(){return function(e,i){var n=e._d;return n.v[d](i*t+n.o,ye)}(this,i)},set:function(e){return function(e,i,n){var s=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n);s.v[g](i*t+s.o,n,ye)}(this,i,e)},enumerable:!0})};if(q){m=i(function(e,i,n,s){c(e,m,u,"_d");var r,o,a,l,d=0,g=0;if(b(i)){if(!(i instanceof G||"ArrayBuffer"==(l=v(i))||"SharedArrayBuffer"==l))return qe in i?Ie(m,i):De.call(m,i);r=i;g=we(n,t);var _=i.byteLength;if(void 0===s){if(_%t)throw H("Wrong length!");if((o=_-g)<0)throw H("Wrong length!")}else if((o=f(s)*t)+g>_)throw H("Wrong length!");a=o/t}else{a=p(i);r=new G(o=a*t)}h(e,"_d",{b:r,o:g,l:o,e:a,v:new X(r)});for(;d<a;)T(e,d++)});C=m.prototype=w($e);h(C,"constructor",m)}else if(!r(function(){m(1)})||!r(function(){new m(-1)})||!k(function(e){new m;new m(null);new m(1.5);new m(e)},!0)){m=i(function(e,i,n,s){c(e,m,u);var r;return b(i)?i instanceof G||"ArrayBuffer"==(r=v(i))||"SharedArrayBuffer"==r?void 0!==s?new _(i,we(n,t),s):void 0!==n?new _(i,we(n,t)):new _(i):qe in i?Ie(m,i):De.call(m,i):new _(p(i))});Y(x!==Function.prototype?S(_).concat(S(x)):S(_),function(e){e in m||h(m,e,_[e])});m.prototype=C;n||(C.constructor=m)}var I=C[me],A=!!I&&("values"==I.name||void 0==I.name),D=Oe.values;h(m,pe,!0);h(C,qe,u);h(C,ve,!0);h(C,_e,m);(l?new m(1)[fe]==u:fe in C)||$(C,fe,{get:function(){return u}});y[u]=m;o(o.G+o.W+o.F*(m!=_),y);o(o.S,u,{BYTES_PER_ELEMENT:t});o(o.S+o.F*r(function(){_.of.call(m,1)}),u,{from:De,of:Be});"BYTES_PER_ELEMENT"in C||h(C,"BYTES_PER_ELEMENT",t);o(o.P,u,Pe);R(u);o(o.P+o.F*Ce,u,{set:Re});o(o.P+o.F*!A,u,Oe);n||C.toString==he||(C.toString=he);o(o.P+o.F*r(function(){new m(1).slice()}),u,{slice:ke});o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!r(function(){C.toLocaleString.call([1,2])})),u,{toLocaleString:Me});P[u]=A?I:D;n||A||h(C,me,D)}}else t.exports=function(){}},{101:101,103:103,105:105,116:116,117:117,123:123,127:127,137:137,138:138,139:139,141:141,142:142,143:143,145:145,146:146,147:147,152:152,153:153,164:164,37:37,39:39,40:40,41:41,42:42,47:47,54:54,58:58,62:62,64:64,70:70,71:71,72:72,78:78,81:81,86:86,88:88,89:89,98:98,99:99}],145:[function(e,t,i){"use strict";var n=e(70),s=e(58),r=e(89),o=e(146),a=e(72),l=e(117),u=e(64),c=e(37),d=e(139),h=e(141),g=e(138),m=e(103).f,f=e(99).f,p=e(40),_=e(124),x="prototype",q="Wrong index!",v=n.ArrayBuffer,b=n.DataView,y=n.Math,C=n.RangeError,w=n.Infinity,E=v,S=y.abs,T=y.pow,I=y.floor,A=y.log,D=y.LN2,B=s?"_b":"buffer",L=s?"_l":"byteLength",M=s?"_o":"byteOffset";function P(e,t,i){var n,s,r,o=new Array(i),a=8*i-t-1,l=(1<<a)-1,u=l>>1,c=23===t?T(2,-24)-T(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;if((e=S(e))!=e||e===w){s=e!=e?1:0;n=l}else{n=I(A(e)/D);if(e*(r=T(2,-n))<1){n--;r*=2}if((e+=n+u>=1?c/r:c*T(2,1-u))*r>=2){n++;r/=2}if(n+u>=l){s=0;n=l}else if(n+u>=1){s=(e*r-1)*T(2,t);n+=u}else{s=e*T(2,u-1)*T(2,t);n=0}}for(;t>=8;o[d++]=255&s,s/=256,t-=8);n=n<<t|s;a+=t;for(;a>0;o[d++]=255&n,n/=256,a-=8);o[--d]|=128*h;return o}function k(e,t,i){var n,s=8*i-t-1,r=(1<<s)-1,o=r>>1,a=s-7,l=i-1,u=e[l--],c=127&u;u>>=7;for(;a>0;c=256*c+e[l],l--,a-=8);n=c&(1<<-a)-1;c>>=-a;a+=t;for(;a>0;n=256*n+e[l],l--,a-=8);if(0===c)c=1-o;else{if(c===r)return n?NaN:u?-w:w;n+=T(2,t);c-=o}return(u?-1:1)*n*T(2,c-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function O(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function N(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function W(e){return P(e,52,8)}function $(e){return P(e,23,4)}function V(e,t,i){f(e[x],t,{get:function(){return this[i]}})}function H(e,t,i,n){var s=g(+i);if(s+t>e[L])throw C(q);var r=e[B]._b,o=s+e[M],a=r.slice(o,o+t);return n?a:a.reverse()}function j(e,t,i,n,s,r){var o=g(+i);if(o+t>e[L])throw C(q);for(var a=e[B]._b,l=o+e[M],u=n(+s),c=0;c<t;c++)a[l+c]=u[r?c:t-c-1]}if(o.ABV){if(!u(function(){v(1)})||!u(function(){new v(-1)})||u(function(){new v;new v(1.5);new v(NaN);return"ArrayBuffer"!=v.name})){for(var U,z=(v=function(e){c(this,v);return new E(g(e))})[x]=E[x],G=m(E),X=0;G.length>X;)(U=G[X++])in v||a(v,U,E[U]);r||(z.constructor=v)}var Y=new b(new v(2)),K=b[x].setInt8;Y.setInt8(0,2147483648);Y.setInt8(1,2147483649);!Y.getInt8(0)&&Y.getInt8(1)||l(b[x],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else{v=function(e){c(this,v,"ArrayBuffer");var t=g(e);this._b=p.call(new Array(t),0);this[L]=t};b=function(e,t,i){c(this,b,"DataView");c(e,v,"DataView");var n=e[L],s=d(t);if(s<0||s>n)throw C("Wrong offset!");if(s+(i=void 0===i?n-s:h(i))>n)throw C("Wrong length!");this[B]=e;this[M]=s;this[L]=i};if(s){V(v,"byteLength","_l");V(b,"buffer","_b");V(b,"byteLength","_l");V(b,"byteOffset","_o")}l(b[x],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(H(this,4,e,arguments[1]))},getUint32:function(e){return R(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return k(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return k(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){j(this,1,e,O,t)},setUint8:function(e,t){j(this,1,e,O,t)},setInt16:function(e,t){j(this,2,e,F,t,arguments[2])},setUint16:function(e,t){j(this,2,e,F,t,arguments[2])},setInt32:function(e,t){j(this,4,e,N,t,arguments[2])},setUint32:function(e,t){j(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){j(this,4,e,$,t,arguments[2])},setFloat64:function(e,t){j(this,8,e,W,t,arguments[2])}})}_(v,"ArrayBuffer");_(b,"DataView");a(b[x],o.VIEW,!0);i.ArrayBuffer=v;i.DataView=b},{103:103,117:117,124:124,138:138,139:139,141:141,146:146,37:37,40:40,58:58,64:64,70:70,72:72,89:89,99:99}],146:[function(e,t,i){for(var n,s=e(70),r=e(72),o=e(147),a=o("typed_array"),l=o("view"),u=!(!s.ArrayBuffer||!s.DataView),c=u,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)if(n=s[h[d++]]){r(n.prototype,a,!0);r(n.prototype,l,!0)}else c=!1;t.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{147:147,70:70,72:72}],147:[function(e,t,i){var n=0,s=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},{}],148:[function(e,t,i){var n=e(70).navigator;t.exports=n&&n.userAgent||""},{70:70}],149:[function(e,t,i){var n=e(81);t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{81:81}],150:[function(e,t,i){var n=e(70),s=e(52),r=e(89),o=e(151),a=e(99).f;t.exports=function(e){var t=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},{151:151,52:52,70:70,89:89,99:99}],151:[function(e,t,i){i.f=e(152)},{152:152}],152:[function(e,t,i){var n=e(126)("wks"),s=e(147),r=e(70).Symbol,o="function"==typeof r;(t.exports=function(e){return n[e]||(n[e]=o&&r[e]||(o?r:s)("Symbol."+e))}).store=n},{126:126,147:147,70:70}],153:[function(e,t,i){var n=e(47),s=e(152)("iterator"),r=e(88);t.exports=e(52).getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||r[n(e)]}},{152:152,47:47,52:52,88:88}],154:[function(e,t,i){var n=e(62);n(n.P,"Array",{copyWithin:e(39)});e(35)("copyWithin")},{35:35,39:39,62:62}],155:[function(e,t,i){"use strict";var n=e(62),s=e(42)(4);n(n.P+n.F*!e(128)([].every,!0),"Array",{every:function(e){return s(this,e,arguments[1])}})},{128:128,42:42,62:62}],156:[function(e,t,i){var n=e(62);n(n.P,"Array",{fill:e(40)});e(35)("fill")},{35:35,40:40,62:62}],157:[function(e,t,i){"use strict";var n=e(62),s=e(42)(2);n(n.P+n.F*!e(128)([].filter,!0),"Array",{filter:function(e){return s(this,e,arguments[1])}})},{128:128,42:42,62:62}],158:[function(e,t,i){"use strict";var n=e(62),s=e(42)(6),r="findIndex",o=!0;r in[]&&Array(1)[r](function(){o=!1});n(n.P+n.F*o,"Array",{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}});e(35)(r)},{35:35,42:42,62:62}],159:[function(e,t,i){"use strict";var n=e(62),s=e(42)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1});n(n.P+n.F*r,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}});e(35)("find")},{35:35,42:42,62:62}],160:[function(e,t,i){"use strict";var n=e(62),s=e(42)(0),r=e(128)([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(e){return s(this,e,arguments[1])}})},{128:128,42:42,62:62}],161:[function(e,t,i){"use strict";var n=e(54),s=e(62),r=e(142),o=e(83),a=e(78),l=e(141),u=e(53),c=e(153);s(s.S+s.F*!e(86)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,s,d,h=r(e),g="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,p=void 0!==f,_=0,x=c(h);p&&(f=n(f,m>2?arguments[2]:void 0,2));if(void 0==x||g==Array&&a(x))for(i=new g(t=l(h.length));t>_;_++)u(i,_,p?f(h[_],_):h[_]);else for(d=x.call(h),i=new g;!(s=d.next()).done;_++)u(i,_,p?o(d,f,[s.value,_],!0):s.value);i.length=_;return i}})},{141:141,142:142,153:153,53:53,54:54,62:62,78:78,83:83,86:86}],162:[function(e,t,i){"use strict";var n=e(62),s=e(41)(!1),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!e(128)(r)),"Array",{indexOf:function(e){return o?r.apply(this,arguments)||0:s(this,e,arguments[1])}})},{128:128,41:41,62:62}],163:[function(e,t,i){var n=e(62);n(n.S,"Array",{isArray:e(79)})},{62:62,79:79}],164:[function(e,t,i){"use strict";var n=e(35),s=e(87),r=e(88),o=e(140);t.exports=e(85)(Array,"Array",function(e,t){this._t=o(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,i=this._i++;if(!e||i>=e.length){this._t=void 0;return s(1)}return s(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values");r.Arguments=r.Array;n("keys");n("values");n("entries")},{140:140,35:35,85:85,87:87,88:88}],165:[function(e,t,i){"use strict";var n=e(62),s=e(140),r=[].join;n(n.P+n.F*(e(77)!=Object||!e(128)(r)),"Array",{join:function(e){return r.call(s(this),void 0===e?",":e)}})},{128:128,140:140,62:62,77:77}],166:[function(e,t,i){"use strict";var n=e(62),s=e(140),r=e(139),o=e(141),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!e(128)(a)),"Array",{lastIndexOf:function(e){if(l)return a.apply(this,arguments)||0;var t=s(this),i=o(t.length),n=i-1;arguments.length>1&&(n=Math.min(n,r(arguments[1])));n<0&&(n=i+n);for(;n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{128:128,139:139,140:140,141:141,62:62}],167:[function(e,t,i){"use strict";var n=e(62),s=e(42)(1);n(n.P+n.F*!e(128)([].map,!0),"Array",{map:function(e){return s(this,e,arguments[1])}})},{128:128,42:42,62:62}],168:[function(e,t,i){"use strict";var n=e(62),s=e(53);n(n.S+n.F*e(64)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)s(i,e,arguments[e++]);i.length=t;return i}})},{53:53,62:62,64:64}],169:[function(e,t,i){"use strict";var n=e(62),s=e(43);n(n.P+n.F*!e(128)([].reduceRight,!0),"Array",{reduceRight:function(e){return s(this,e,arguments.length,arguments[1],!0)}})},{128:128,43:43,62:62}],170:[function(e,t,i){"use strict";var n=e(62),s=e(43);n(n.P+n.F*!e(128)([].reduce,!0),"Array",{reduce:function(e){return s(this,e,arguments.length,arguments[1],!1)}})},{128:128,43:43,62:62}],171:[function(e,t,i){"use strict";var n=e(62),s=e(73),r=e(48),o=e(137),a=e(141),l=[].slice;n(n.P+n.F*e(64)(function(){s&&l.call(s)}),"Array",{slice:function(e,t){var i=a(this.length),n=r(this);t=void 0===t?i:t;if("Array"==n)return l.call(this,e,t);for(var s=o(e,i),u=o(t,i),c=a(u-s),d=new Array(c),h=0;h<c;h++)d[h]="String"==n?this.charAt(s+h):this[s+h];return d}})},{137:137,141:141,48:48,62:62,64:64,73:73}],172:[function(e,t,i){"use strict";var n=e(62),s=e(42)(3);n(n.P+n.F*!e(128)([].some,!0),"Array",{some:function(e){return s(this,e,arguments[1])}})},{128:128,42:42,62:62}],173:[function(e,t,i){"use strict";var n=e(62),s=e(33),r=e(142),o=e(64),a=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!e(128)(a)),"Array",{sort:function(e){return void 0===e?a.call(r(this)):a.call(r(this),s(e))}})},{128:128,142:142,33:33,62:62,64:64}],174:[function(e,t,i){e(123)("Array")},{123:123}],175:[function(e,t,i){var n=e(62);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{62:62}],176:[function(e,t,i){var n=e(62),s=e(55);n(n.P+n.F*(Date.prototype.toISOString!==s),"Date",{toISOString:s})},{55:55,62:62}],177:[function(e,t,i){"use strict";var n=e(62),s=e(142),r=e(143);n(n.P+n.F*e(64)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=s(this),i=r(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},{142:142,143:143,62:62,64:64}],178:[function(e,t,i){var n=e(152)("toPrimitive"),s=Date.prototype;n in s||e(72)(s,n,e(56))},{152:152,56:56,72:72}],179:[function(e,t,i){var n=Date.prototype,s=n.toString,r=n.getTime;new Date(NaN)+""!="Invalid Date"&&e(118)(n,"toString",function(){var e=r.call(this);return e==e?s.call(this):"Invalid Date"})},{118:118}],180:[function(e,t,i){var n=e(62);n(n.P,"Function",{bind:e(46)})},{46:46,62:62}],181:[function(e,t,i){"use strict";var n=e(81),s=e(105),r=e(152)("hasInstance"),o=Function.prototype;r in o||e(99).f(o,r,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=s(e);)if(this.prototype===e)return!0;return!1}})},{105:105,152:152,81:81,99:99}],182:[function(e,t,i){var n=e(99).f,s=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in s||e(58)&&n(s,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},{58:58,99:99}],183:[function(e,t,i){"use strict";var n=e(49),s=e(149);t.exports=e(51)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(s(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(s(this,"Map"),0===e?0:e,t)}},n,!0)},{149:149,49:49,51:51}],184:[function(e,t,i){var n=e(62),s=e(92),r=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:s(e-1+r(e-1)*r(e+1))}})},{62:62,92:92}],185:[function(e,t,i){var n=e(62),s=Math.asinh;n(n.S+n.F*!(s&&1/s(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{62:62}],186:[function(e,t,i){var n=e(62),s=Math.atanh;n(n.S+n.F*!(s&&1/s(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{62:62}],187:[function(e,t,i){var n=e(62),s=e(93);n(n.S,"Math",{cbrt:function(e){return s(e=+e)*Math.pow(Math.abs(e),1/3)}})},{62:62,93:93}],188:[function(e,t,i){var n=e(62);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{62:62}],189:[function(e,t,i){var n=e(62),s=Math.exp;n(n.S,"Math",{cosh:function(e){return(s(e=+e)+s(-e))/2}})},{62:62}],190:[function(e,t,i){var n=e(62),s=e(90);n(n.S+n.F*(s!=Math.expm1),"Math",{expm1:s})},{62:62,90:90}],191:[function(e,t,i){var n=e(62);n(n.S,"Math",{fround:e(91)})},{62:62,91:91}],192:[function(e,t,i){var n=e(62),s=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,r=0,o=0,a=arguments.length,l=0;o<a;)if(l<(i=s(arguments[o++]))){r=r*(n=l/i)*n+1;l=i}else r+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*Math.sqrt(r)}})},{62:62}],193:[function(e,t,i){var n=e(62),s=Math.imul;n(n.S+n.F*e(64)(function(){return-5!=s(4294967295,5)||2!=s.length}),"Math",{imul:function(e,t){var i=+e,n=+t,s=65535&i,r=65535&n;return 0|s*r+((65535&i>>>16)*r+s*(65535&n>>>16)<<16>>>0)}})},{62:62,64:64}],194:[function(e,t,i){var n=e(62);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{62:62}],195:[function(e,t,i){var n=e(62);n(n.S,"Math",{log1p:e(92)})},{62:62,92:92}],196:[function(e,t,i){var n=e(62);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{62:62}],197:[function(e,t,i){var n=e(62);n(n.S,"Math",{sign:e(93)})},{62:62,93:93}],198:[function(e,t,i){var n=e(62),s=e(90),r=Math.exp;n(n.S+n.F*e(64)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(s(e)-s(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},{62:62,64:64,90:90}],199:[function(e,t,i){var n=e(62),s=e(90),r=Math.exp;n(n.S,"Math",{tanh:function(e){var t=s(e=+e),i=s(-e);return t==1/0?1:i==1/0?-1:(t-i)/(r(e)+r(-e))}})},{62:62,90:90}],200:[function(e,t,i){var n=e(62);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{62:62}],201:[function(e,t,i){"use strict";var n=e(70),s=e(71),r=e(48),o=e(75),a=e(143),l=e(64),u=e(103).f,c=e(101).f,d=e(99).f,h=e(134).trim,g=n.Number,m=g,f=g.prototype,p="Number"==r(e(98)(f)),_="trim"in String.prototype,x=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){var i,n,s,r=(t=_?t.trim():h(t,3)).charCodeAt(0);if(43===r||45===r){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:n=2;s=49;break;case 79:case 111:n=8;s=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if((o=l.charCodeAt(u))<48||o>s)return NaN;return parseInt(l,n)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof g&&(p?l(function(){f.valueOf.call(i)}):"Number"!=r(i))?o(new m(x(t)),i,g):x(t)};for(var q,v=e(58)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;v.length>b;b++)s(m,q=v[b])&&!s(g,q)&&d(g,q,c(m,q));g.prototype=f;f.constructor=g;e(118)(n,"Number",g)}},{101:101,103:103,118:118,134:134,143:143,48:48,58:58,64:64,70:70,71:71,75:75,98:98,99:99}],202:[function(e,t,i){var n=e(62);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{62:62}],203:[function(e,t,i){var n=e(62),s=e(70).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&s(e)}})},{62:62,70:70}],204:[function(e,t,i){var n=e(62);n(n.S,"Number",{isInteger:e(80)})},{62:62,80:80}],205:[function(e,t,i){var n=e(62);n(n.S,"Number",{isNaN:function(e){return e!=e}})},{62:62}],206:[function(e,t,i){var n=e(62),s=e(80),r=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return s(e)&&r(e)<=9007199254740991}})},{62:62,80:80}],207:[function(e,t,i){var n=e(62);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{62:62}],208:[function(e,t,i){var n=e(62);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{62:62}],209:[function(e,t,i){var n=e(62),s=e(112);n(n.S+n.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},{112:112,62:62}],210:[function(e,t,i){var n=e(62),s=e(113);n(n.S+n.F*(Number.parseInt!=s),"Number",{parseInt:s})},{113:113,62:62}],211:[function(e,t,i){"use strict";var n=e(62),s=e(139),r=e(34),o=e(133),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var i=-1,n=t;++i<6;){n+=e*u[i];u[i]=n%1e7;n=l(n/1e7)}},h=function(e){for(var t=6,i=0;--t>=0;){i+=u[t];u[t]=l(i/e);i=i%e*1e7}},g=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var i=String(u[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t},m=function(e,t,i){return 0===t?i:t%2==1?m(e,t-1,i*e):m(e*e,t/2,i)};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(64)(function(){a.call({})})),"Number",{toFixed:function(e){var t,i,n,a,l=r(this,c),u=s(e),f="",p="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0){f="-";l=-l}if(l>1e-21){i=(t=function(e){for(var t=0,i=e;i>=4096;){t+=12;i/=4096}for(;i>=2;){t+=1;i/=2}return t}(l*m(2,69,1))-69)<0?l*m(2,-t,1):l/m(2,t,1);i*=4503599627370496;if((t=52-t)>0){d(0,i);n=u;for(;n>=7;){d(1e7,0);n-=7}d(m(10,n,1),0);n=t-1;for(;n>=23;){h(1<<23);n-=23}h(1<<n);d(1,1);h(2);p=g()}else{d(0,i);d(1<<-t,0);p=g()+o.call("0",u)}}return p=u>0?f+((a=p.length)<=u?"0."+o.call("0",u-a)+p:p.slice(0,a-u)+"."+p.slice(a-u)):f+p}})},{133:133,139:139,34:34,62:62,64:64}],212:[function(e,t,i){"use strict";var n=e(62),s=e(64),r=e(34),o=1..toPrecision;n(n.P+n.F*(s(function(){return"1"!==o.call(1,void 0)})||!s(function(){o.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},{34:34,62:62,64:64}],213:[function(e,t,i){var n=e(62);n(n.S+n.F,"Object",{assign:e(97)})},{62:62,97:97}],214:[function(e,t,i){var n=e(62);n(n.S,"Object",{create:e(98)})},{62:62,98:98}],215:[function(e,t,i){var n=e(62);n(n.S+n.F*!e(58),"Object",{defineProperties:e(100)})},{100:100,58:58,62:62}],216:[function(e,t,i){var n=e(62);n(n.S+n.F*!e(58),"Object",{defineProperty:e(99).f})},{58:58,62:62,99:99}],217:[function(e,t,i){var n=e(81),s=e(94).onFreeze;e(109)("freeze",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},{109:109,81:81,94:94}],218:[function(e,t,i){var n=e(140),s=e(101).f;e(109)("getOwnPropertyDescriptor",function(){return function(e,t){return s(n(e),t)}})},{101:101,109:109,140:140}],219:[function(e,t,i){e(109)("getOwnPropertyNames",function(){return e(102).f})},{102:102,109:109}],220:[function(e,t,i){var n=e(142),s=e(105);e(109)("getPrototypeOf",function(){return function(e){return s(n(e))}})},{105:105,109:109,142:142}],221:[function(e,t,i){var n=e(81);e(109)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},{109:109,81:81}],222:[function(e,t,i){var n=e(81);e(109)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{109:109,81:81}],223:[function(e,t,i){var n=e(81);e(109)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{109:109,81:81}],224:[function(e,t,i){var n=e(62);n(n.S,"Object",{is:e(121)})},{121:121,62:62}],225:[function(e,t,i){var n=e(142),s=e(107);e(109)("keys",function(){return function(e){return s(n(e))}})},{107:107,109:109,142:142}],226:[function(e,t,i){var n=e(81),s=e(94).onFreeze;e(109)("preventExtensions",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},{109:109,81:81,94:94}],227:[function(e,t,i){var n=e(81),s=e(94).onFreeze;e(109)("seal",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},{109:109,81:81,94:94}],228:[function(e,t,i){var n=e(62);n(n.S,"Object",{setPrototypeOf:e(122).set})},{122:122,62:62}],229:[function(e,t,i){"use strict";var n=e(47),s={};s[e(152)("toStringTag")]="z";s+""!="[object z]"&&e(118)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{118:118,152:152,47:47}],230:[function(e,t,i){var n=e(62),s=e(112);n(n.G+n.F*(parseFloat!=s),{parseFloat:s})},{112:112,62:62}],231:[function(e,t,i){var n=e(62),s=e(113);n(n.G+n.F*(parseInt!=s),{parseInt:s})},{113:113,62:62}],232:[function(e,t,i){"use strict";var n,s,r,o,a=e(89),l=e(70),u=e(54),c=e(47),d=e(62),h=e(81),g=e(33),m=e(37),f=e(68),p=e(127),_=e(136).set,x=e(95)(),q=e(96),v=e(114),b=e(148),y=e(115),C=l.TypeError,w=l.process,E=w&&w.versions,S=E&&E.v8||"",T=l.Promise,I="process"==c(w),A=function(){},D=s=q.f,B=!!function(){try{var t=T.resolve(1),i=(t.constructor={})[e(152)("species")]=function(e){e(A,A)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof i&&0!==S.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var i=e._c;x(function(){for(var n=e._v,s=1==e._s,r=0,o=function(t){var i,r,o,a=s?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{if(a){if(!s){2==e._h&&R(e);e._h=1}if(!0===a)i=n;else{c&&c.enter();i=a(n);if(c){c.exit();o=!0}}i===t.promise?u(C("Promise-chain cycle")):(r=L(i))?r.call(i,l,u):l(i)}else u(n)}catch(e){c&&!o&&c.exit();u(e)}};i.length>r;)o(i[r++]);e._c=[];e._n=!1;t&&!e._h&&P(e)})}},P=function(e){_.call(l,function(){var t,i,n,s=e._v,r=k(e);if(r){t=v(function(){I?w.emit("unhandledRejection",s,e):(i=l.onunhandledrejection)?i({promise:e,reason:s}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",s)});e._h=I||k(e)?2:1}e._a=void 0;if(r&&t.e)throw t.v})},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){_.call(l,function(){var t;I?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;if(!t._d){t._d=!0;(t=t._w||t)._v=e;t._s=2;t._a||(t._a=t._c.slice());M(t,!0)}},F=function(e){var t,i=this;if(!i._d){i._d=!0;i=i._w||i;try{if(i===e)throw C("Promise can't be resolved itself");if(t=L(e))x(function(){var n={_w:i,_d:!1};try{t.call(e,u(F,n,1),u(O,n,1))}catch(e){O.call(n,e)}});else{i._v=e;i._s=1;M(i,!1)}}catch(e){O.call({_w:i,_d:!1},e)}}};if(!B){T=function(e){m(this,T,"Promise","_h");g(e);n.call(this);try{e(u(F,this,1),u(O,this,1))}catch(e){O.call(this,e)}};(n=function(e){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=e(117)(T.prototype,{then:function(e,t){var i=D(p(this,T));i.ok="function"!=typeof e||e;i.fail="function"==typeof t&&t;i.domain=I?w.domain:void 0;this._c.push(i);this._a&&this._a.push(i);this._s&&M(this,!1);return i.promise},catch:function(e){return this.then(void 0,e)}});r=function(){var e=new n;this.promise=e;this.resolve=u(F,e,1);this.reject=u(O,e,1)};q.f=D=function(e){return e===T||e===o?new r(e):s(e)}}d(d.G+d.W+d.F*!B,{Promise:T});e(124)(T,"Promise");e(123)("Promise");o=e(52).Promise;d(d.S+d.F*!B,"Promise",{reject:function(e){var t=D(this);(0,t.reject)(e);return t.promise}});d(d.S+d.F*(a||!B),"Promise",{resolve:function(e){return y(a&&this===o?T:this,e)}});d(d.S+d.F*!(B&&e(86)(function(e){T.all(e).catch(A)})),"Promise",{all:function(e){var t=this,i=D(t),n=i.resolve,s=i.reject,r=v(function(){var i=[],r=0,o=1;f(e,!1,function(e){var a=r++,l=!1;i.push(void 0);o++;t.resolve(e).then(function(e){if(!l){l=!0;i[a]=e;--o||n(i)}},s)});--o||n(i)});r.e&&s(r.v);return i.promise},race:function(e){var t=this,i=D(t),n=i.reject,s=v(function(){f(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});s.e&&n(s.v);return i.promise}})},{114:114,115:115,117:117,123:123,124:124,127:127,136:136,148:148,152:152,33:33,37:37,47:47,52:52,54:54,62:62,68:68,70:70,81:81,86:86,89:89,95:95,96:96}],233:[function(e,t,i){var n=e(62),s=e(33),r=e(38),o=(e(70).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!e(64)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var n=s(e),l=r(i);return o?o(n,t,l):a.call(n,t,l)}})},{33:33,38:38,62:62,64:64,70:70}],234:[function(e,t,i){var n=e(62),s=e(98),r=e(33),o=e(38),a=e(81),l=e(64),u=e(46),c=(e(70).Reflect||{}).construct,d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),h=!l(function(){c(function(){})});n(n.S+n.F*(d||h),"Reflect",{construct:function(e,t){r(e);o(t);var i=arguments.length<3?e:r(arguments[2]);if(h&&!d)return c(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];n.push.apply(n,t);return new(u.apply(e,n))}var l=i.prototype,g=s(a(l)?l:Object.prototype),m=Function.apply.call(e,g,t);return a(m)?m:g}})},{33:33,38:38,46:46,62:62,64:64,70:70,81:81,98:98}],235:[function(e,t,i){var n=e(99),s=e(62),r=e(38),o=e(143);s(s.S+s.F*e(64)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){r(e);t=o(t,!0);r(i);try{n.f(e,t,i);return!0}catch(e){return!1}}})},{143:143,38:38,62:62,64:64,99:99}],236:[function(e,t,i){var n=e(62),s=e(101).f,r=e(38);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=s(r(e),t);return!(i&&!i.configurable)&&delete e[t]}})},{101:101,38:38,62:62}],237:[function(e,t,i){"use strict";var n=e(62),s=e(38),r=function(e){this._t=s(e);this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};e(84)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}});n(n.S,"Reflect",{enumerate:function(e){return new r(e)}})},{38:38,62:62,84:84}],238:[function(e,t,i){var n=e(101),s=e(62),r=e(38);s(s.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(r(e),t)}})},{101:101,38:38,62:62}],239:[function(e,t,i){var n=e(62),s=e(105),r=e(38);n(n.S,"Reflect",{getPrototypeOf:function(e){return s(r(e))}})},{105:105,38:38,62:62}],240:[function(e,t,i){var n=e(101),s=e(105),r=e(71),o=e(62),a=e(81),l=e(38);o(o.S,"Reflect",{get:function e(t,i){var o,u,c=arguments.length<3?t:arguments[2];return l(t)===c?t[i]:(o=n.f(t,i))?r(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:a(u=s(t))?e(u,i,c):void 0}})},{101:101,105:105,38:38,62:62,71:71,81:81}],241:[function(e,t,i){var n=e(62);n(n.S,"Reflect",{has:function(e,t){return t in e}})},{62:62}],242:[function(e,t,i){var n=e(62),s=e(38),r=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){s(e);return!r||r(e)}})},{38:38,62:62}],243:[function(e,t,i){var n=e(62);n(n.S,"Reflect",{ownKeys:e(111)})},{111:111,62:62}],244:[function(e,t,i){var n=e(62),s=e(38),r=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){s(e);try{r&&r(e);return!0}catch(e){return!1}}})},{38:38,62:62}],245:[function(e,t,i){var n=e(62),s=e(122);s&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){s.check(e,t);try{s.set(e,t);return!0}catch(e){return!1}}})},{122:122,62:62}],246:[function(e,t,i){var n=e(99),s=e(101),r=e(105),o=e(71),a=e(62),l=e(116),u=e(38),c=e(81);a(a.S,"Reflect",{set:function e(t,i,a){var d,h,g=arguments.length<4?t:arguments[3],m=s.f(u(t),i);if(!m){if(c(h=r(t)))return e(h,i,a,g);m=l(0)}if(o(m,"value")){if(!1===m.writable||!c(g))return!1;if(d=s.f(g,i)){if(d.get||d.set||!1===d.writable)return!1;d.value=a;n.f(g,i,d)}else n.f(g,i,l(0,a));return!0}return void 0!==m.set&&(m.set.call(g,a),!0)}})},{101:101,105:105,116:116,38:38,62:62,71:71,81:81,99:99}],247:[function(e,t,i){var n=e(70),s=e(75),r=e(99).f,o=e(103).f,a=e(82),l=e(66),u=n.RegExp,c=u,d=u.prototype,h=/a/g,g=/a/g,m=new u(h)!==h;if(e(58)&&(!m||e(64)(function(){g[e(152)("match")]=!1;return u(h)!=h||u(g)==g||"/a/i"!=u(h,"i")}))){u=function(e,t){var i=this instanceof u,n=a(e),r=void 0===t;return!i&&n&&e.constructor===u&&r?e:s(m?new c(n&&!r?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&r?l.call(e):t),i?this:d,u)};for(var f=function(e){e in u||r(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},p=o(c),_=0;p.length>_;)f(p[_++]);d.constructor=u;u.prototype=d;e(118)(n,"RegExp",u)}e(123)("RegExp")},{103:103,118:118,123:123,152:152,58:58,64:64,66:66,70:70,75:75,82:82,99:99}],248:[function(e,t,i){"use strict";var n=e(120);e(62)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},{120:120,62:62}],249:[function(e,t,i){e(58)&&"g"!=/./g.flags&&e(99).f(RegExp.prototype,"flags",{configurable:!0,get:e(66)})},{58:58,66:66,99:99}],250:[function(e,t,i){"use strict";var n=e(38),s=e(141),r=e(36),o=e(119);e(65)("match",1,function(e,t,i,a){return[function(i){var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},function(e){var t=a(i,e,this);if(t.done)return t.value;var l=n(e),u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;for(var d,h=[],g=0;null!==(d=o(l,u));){var m=String(d[0]);h[g]=m;""===m&&(l.lastIndex=r(u,s(l.lastIndex),c));g++}return 0===g?null:h}]})},{119:119,141:141,36:36,38:38,65:65}],251:[function(e,t,i){"use strict";var n=e(38),s=e(142),r=e(141),o=e(139),a=e(36),l=e(119),u=Math.max,c=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g;e(65)("replace",2,function(e,t,i,m){return[function(n,s){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,s):i.call(String(r),n,s)},function(e,t){var s=m(i,e,this,t);if(s.done)return s.value;var d=n(e),h=String(this),g="function"==typeof t;g||(t=String(t));var p=d.global;if(p){var _=d.unicode;d.lastIndex=0}for(var x=[];;){var q=l(d,h);if(null===q)break;x.push(q);if(!p)break;""===String(q[0])&&(d.lastIndex=a(h,r(d.lastIndex),_))}for(var v,b="",y=0,C=0;C<x.length;C++){q=x[C];for(var w=String(q[0]),E=u(c(o(q.index),h.length),0),S=[],T=1;T<q.length;T++)S.push(void 0===(v=q[T])?v:String(v));var I=q.groups;if(g){var A=[w].concat(S,E,h);void 0!==I&&A.push(I);var D=String(t.apply(void 0,A))}else D=f(w,h,E,S,I,t);if(E>=y){b+=h.slice(y,E)+D;y=E+w.length}}return b+h.slice(y)}];function f(e,t,n,r,o,a){var l=n+e.length,u=r.length,c=g;if(void 0!==o){o=s(o);c=h}return i.call(a,c,function(i,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return i;if(c>u){var h=d(c/10);return 0===h?i:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):i}a=r[c-1]}return void 0===a?"":a})}})},{119:119,139:139,141:141,142:142,36:36,38:38,65:65}],252:[function(e,t,i){"use strict";var n=e(38),s=e(121),r=e(119);e(65)("search",1,function(e,t,i,o){return[function(i){var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},function(e){var t=o(i,e,this);if(t.done)return t.value;var a=n(e),l=String(this),u=a.lastIndex;s(u,0)||(a.lastIndex=0);var c=r(a,l);s(a.lastIndex,u)||(a.lastIndex=u);return null===c?-1:c.index}]})},{119:119,121:121,38:38,65:65}],253:[function(e,t,i){"use strict";var n=e(82),s=e(38),r=e(127),o=e(36),a=e(141),l=e(119),u=e(120),c=e(64),d=Math.min,h=[].push,g=!c(function(){RegExp(4294967295,"y")});e(65)("split",2,function(e,t,i,c){var m;m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var s=String(this);if(void 0===e&&0===t)return[];if(!n(e))return i.call(s,e,t);for(var r,o,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,g=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,c+"g");r=u.call(m,s);){if((o=m.lastIndex)>d){l.push(s.slice(d,r.index));r.length>1&&r.index<s.length&&h.apply(l,r.slice(1));a=r[0].length;d=o;if(l.length>=g)break}m.lastIndex===r.index&&m.lastIndex++}d===s.length?!a&&m.test("")||l.push(""):l.push(s.slice(d));return l.length>g?l.slice(0,g):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i;return[function(i,n){var s=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,s,n):m.call(String(s),i,n)},function(e,t){var n=c(m,e,this,t,m!==i);if(n.done)return n.value;var u=s(e),h=String(this),f=r(u,RegExp),p=u.unicode,_=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),x=new f(g?u:"^(?:"+u.source+")",_),q=void 0===t?4294967295:t>>>0;if(0===q)return[];if(0===h.length)return null===l(x,h)?[h]:[];for(var v=0,b=0,y=[];b<h.length;){x.lastIndex=g?b:0;var C,w=l(x,g?h:h.slice(b));if(null===w||(C=d(a(x.lastIndex+(g?0:b)),h.length))===v)b=o(h,b,p);else{y.push(h.slice(v,b));if(y.length===q)return y;for(var E=1;E<=w.length-1;E++){y.push(w[E]);if(y.length===q)return y}b=v=C}}y.push(h.slice(v));return y}]})},{119:119,120:120,127:127,141:141,36:36,38:38,64:64,65:65,82:82}],254:[function(e,t,i){"use strict";e(249);var n=e(38),s=e(66),r=e(58),o=/./.toString,a=function(t){e(118)(RegExp.prototype,"toString",t,!0)};e(64)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?s.call(e):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},{118:118,249:249,38:38,58:58,64:64,66:66}],255:[function(e,t,i){"use strict";var n=e(49),s=e(149);t.exports=e(51)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(s(this,"Set"),e=0===e?0:e,e)}},n)},{149:149,49:49,51:51}],256:[function(e,t,i){"use strict";e(131)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{131:131}],257:[function(e,t,i){"use strict";e(131)("big",function(e){return function(){return e(this,"big","","")}})},{131:131}],258:[function(e,t,i){"use strict";e(131)("blink",function(e){return function(){return e(this,"blink","","")}})},{131:131}],259:[function(e,t,i){"use strict";e(131)("bold",function(e){return function(){return e(this,"b","","")}})},{131:131}],260:[function(e,t,i){"use strict";var n=e(62),s=e(129)(!1);n(n.P,"String",{codePointAt:function(e){return s(this,e)}})},{129:129,62:62}],261:[function(e,t,i){"use strict";var n=e(62),s=e(141),r=e(130),o="".endsWith;n(n.P+n.F*e(63)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=s(t.length),a=void 0===i?n:Math.min(s(i),n),l=String(e);return o?o.call(t,l,a):t.slice(a-l.length,a)===l}})},{130:130,141:141,62:62,63:63}],262:[function(e,t,i){"use strict";e(131)("fixed",function(e){return function(){return e(this,"tt","","")}})},{131:131}],263:[function(e,t,i){"use strict";e(131)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{131:131}],264:[function(e,t,i){"use strict";e(131)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{131:131}],265:[function(e,t,i){var n=e(62),s=e(137),r=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;n>o;){t=+arguments[o++];if(s(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},{137:137,62:62}],266:[function(e,t,i){"use strict";var n=e(62),s=e(130);n(n.P+n.F*e(63)("includes"),"String",{includes:function(e){return!!~s(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{130:130,62:62,63:63}],267:[function(e,t,i){"use strict";e(131)("italics",function(e){return function(){return e(this,"i","","")}})},{131:131}],268:[function(e,t,i){"use strict";var n=e(129)(!0);e(85)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e,t=this._t,i=this._i;if(i>=t.length)return{value:void 0,done:!0};e=n(t,i);this._i+=e.length;return{value:e,done:!1}})},{129:129,85:85}],269:[function(e,t,i){"use strict";e(131)("link",function(e){return function(t){return e(this,"a","href",t)}})},{131:131}],270:[function(e,t,i){var n=e(62),s=e(140),r=e(141);n(n.S,"String",{raw:function(e){for(var t=s(e.raw),i=r(t.length),n=arguments.length,o=[],a=0;i>a;){o.push(String(t[a++]));a<n&&o.push(String(arguments[a]))}return o.join("")}})},{140:140,141:141,62:62}],271:[function(e,t,i){var n=e(62);n(n.P,"String",{repeat:e(133)})},{133:133,62:62}],272:[function(e,t,i){"use strict";e(131)("small",function(e){return function(){return e(this,"small","","")}})},{131:131}],273:[function(e,t,i){"use strict";var n=e(62),s=e(141),r=e(130),o="".startsWith;n(n.P+n.F*e(63)("startsWith"),"String",{startsWith:function(e){var t=r(this,e,"startsWith"),i=s(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,i):t.slice(i,i+n.length)===n}})},{130:130,141:141,62:62,63:63}],274:[function(e,t,i){"use strict";e(131)("strike",function(e){return function(){return e(this,"strike","","")}})},{131:131}],275:[function(e,t,i){"use strict";e(131)("sub",function(e){return function(){return e(this,"sub","","")}})},{131:131}],276:[function(e,t,i){"use strict";e(131)("sup",function(e){return function(){return e(this,"sup","","")}})},{131:131}],277:[function(e,t,i){"use strict";e(134)("trim",function(e){return function(){return e(this,3)}})},{134:134}],278:[function(e,t,i){"use strict";var n=e(70),s=e(71),r=e(58),o=e(62),a=e(118),l=e(94).KEY,u=e(64),c=e(126),d=e(124),h=e(147),g=e(152),m=e(151),f=e(150),p=e(61),_=e(79),x=e(38),q=e(81),v=e(140),b=e(143),y=e(116),C=e(98),w=e(102),E=e(101),S=e(99),T=e(107),I=E.f,A=S.f,D=w.f,B=n.Symbol,L=n.JSON,M=L&&L.stringify,P=g("_hidden"),k=g("toPrimitive"),R={}.propertyIsEnumerable,O=c("symbol-registry"),F=c("symbols"),N=c("op-symbols"),W=Object.prototype,$="function"==typeof B,V=n.QObject,H=!V||!V.prototype||!V.prototype.findChild,j=r&&u(function(){return 7!=C(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=I(W,t);n&&delete W[t];A(e,t,i);n&&e!==W&&A(W,t,n)}:A,U=function(e){var t=F[e]=C(B.prototype);t._k=e;return t},z=$&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},G=function(e,t,i){e===W&&G(N,t,i);x(e);t=b(t,!0);x(i);if(s(F,t)){if(i.enumerable){s(e,P)&&e[P][t]&&(e[P][t]=!1);i=C(i,{enumerable:y(0,!1)})}else{s(e,P)||A(e,P,y(1,{}));e[P][t]=!0}return j(e,t,i)}return A(e,t,i)},X=function(e,t){x(e);for(var i,n=p(t=v(t)),s=0,r=n.length;r>s;)G(e,i=n[s++],t[i]);return e},Y=function(e){var t=R.call(this,e=b(e,!0));return!(this===W&&s(F,e)&&!s(N,e))&&(!(t||!s(this,e)||!s(F,e)||s(this,P)&&this[P][e])||t)},K=function(e,t){e=v(e);t=b(t,!0);if(e!==W||!s(F,t)||s(N,t)){var i=I(e,t);!i||!s(F,t)||s(e,P)&&e[P][t]||(i.enumerable=!0);return i}},J=function(e){for(var t,i=D(v(e)),n=[],r=0;i.length>r;)s(F,t=i[r++])||t==P||t==l||n.push(t);return n},Q=function(e){for(var t,i=e===W,n=D(i?N:v(e)),r=[],o=0;n.length>o;)!s(F,t=n[o++])||i&&!s(W,t)||r.push(F[t]);return r};if(!$){a((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(i){this===W&&t.call(N,i);s(this,P)&&s(this[P],e)&&(this[P][e]=!1);j(this,e,y(1,i))};r&&H&&j(W,e,{configurable:!0,set:t});return U(e)}).prototype,"toString",function(){return this._k});E.f=K;S.f=G;e(103).f=w.f=J;e(108).f=Y;e(104).f=Q;r&&!e(89)&&a(W,"propertyIsEnumerable",Y,!0);m.f=function(e){return U(g(e))}}o(o.G+o.W+o.F*!$,{Symbol:B});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)g(Z[ee++]);for(var te=T(g.store),ie=0;te.length>ie;)f(te[ie++]);o(o.S+o.F*!$,"Symbol",{for:function(e){return s(O,e+="")?O[e]:O[e]=B(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in O)if(O[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}});o(o.S+o.F*!$,"Object",{create:function(e,t){return void 0===t?C(e):X(C(e),t)},defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Q});L&&o(o.S+o.F*(!$||u(function(){var e=B();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],s=1;arguments.length>s;)n.push(arguments[s++]);i=t=n[1];if((q(t)||void 0!==e)&&!z(e)){_(t)||(t=function(e,t){"function"==typeof i&&(t=i.call(this,e,t));if(!z(t))return t});n[1]=t;return M.apply(L,n)}}});B.prototype[k]||e(72)(B.prototype,k,B.prototype.valueOf);d(B,"Symbol");d(Math,"Math",!0);d(n.JSON,"JSON",!0)},{101:101,102:102,103:103,104:104,107:107,108:108,116:116,118:118,124:124,126:126,140:140,143:143,147:147,150:150,151:151,152:152,38:38,58:58,61:61,62:62,64:64,70:70,71:71,72:72,79:79,81:81,89:89,94:94,98:98,99:99}],279:[function(e,t,i){"use strict";var n=e(62),s=e(146),r=e(145),o=e(38),a=e(137),l=e(141),u=e(81),c=e(70).ArrayBuffer,d=e(127),h=r.ArrayBuffer,g=r.DataView,m=s.ABV&&c.isView,f=h.prototype.slice,p=s.VIEW;n(n.G+n.W+n.F*(c!==h),{ArrayBuffer:h});n(n.S+n.F*!s.CONSTR,"ArrayBuffer",{isView:function(e){return m&&m(e)||u(e)&&p in e}});n(n.P+n.U+n.F*e(64)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(o(this),e);for(var i=o(this).byteLength,n=a(e,i),s=a(void 0===t?i:t,i),r=new(d(this,h))(l(s-n)),u=new g(this),c=new g(r),m=0;n<s;)c.setUint8(m++,u.getUint8(n++));return r}});e(123)("ArrayBuffer")},{123:123,127:127,137:137,141:141,145:145,146:146,38:38,62:62,64:64,70:70,81:81}],280:[function(e,t,i){var n=e(62);n(n.G+n.W+n.F*!e(146).ABV,{DataView:e(145).DataView})},{145:145,146:146,62:62}],281:[function(e,t,i){e(144)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],282:[function(e,t,i){e(144)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],283:[function(e,t,i){e(144)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],284:[function(e,t,i){e(144)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],285:[function(e,t,i){e(144)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],286:[function(e,t,i){e(144)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],287:[function(e,t,i){e(144)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],288:[function(e,t,i){e(144)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},{144:144}],289:[function(e,t,i){e(144)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},{144:144}],290:[function(e,t,i){"use strict";var n,s=e(70),r=e(42)(0),o=e(118),a=e(94),l=e(97),u=e(50),c=e(81),d=e(149),h=e(149),g=!s.ActiveXObject&&"ActiveXObject"in s,m=a.getWeak,f=Object.isExtensible,p=u.ufstore,_=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},x={get:function(e){if(c(e)){var t=m(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},q=t.exports=e(51)("WeakMap",_,x,u,!0,!0);if(h&&g){l((n=u.getConstructor(_,"WeakMap")).prototype,x);a.NEED=!0;r(["delete","has","get","set"],function(e){var t=q.prototype,i=t[e];o(t,e,function(t,s){if(c(t)&&!f(t)){this._f||(this._f=new n);var r=this._f[e](t,s);return"set"==e?this:r}return i.call(this,t,s)})})}},{118:118,149:149,42:42,50:50,51:51,70:70,81:81,94:94,97:97}],291:[function(e,t,i){"use strict";var n=e(50),s=e(149);e(51)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(s(this,"WeakSet"),e,!0)}},n,!1,!0)},{149:149,50:50,51:51}],292:[function(e,t,i){"use strict";var n=e(62),s=e(67),r=e(142),o=e(141),a=e(33),l=e(45);n(n.P,"Array",{flatMap:function(e){var t,i,n=r(this);a(e);t=o(n.length);i=l(n,0);s(i,n,n,t,0,1,e,arguments[1]);return i}});e(35)("flatMap")},{141:141,142:142,33:33,35:35,45:45,62:62,67:67}],293:[function(e,t,i){"use strict";var n=e(62),s=e(41)(!0);n(n.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}});e(35)("includes")},{35:35,41:41,62:62}],294:[function(e,t,i){var n=e(62),s=e(110)(!0);n(n.S,"Object",{entries:function(e){return s(e)}})},{110:110,62:62}],295:[function(e,t,i){var n=e(62),s=e(111),r=e(140),o=e(101),a=e(53);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=r(e),l=o.f,u=s(n),c={},d=0;u.length>d;)void 0!==(i=l(n,t=u[d++]))&&a(c,t,i);return c}})},{101:101,111:111,140:140,53:53,62:62}],296:[function(e,t,i){var n=e(62),s=e(110)(!1);n(n.S,"Object",{values:function(e){return s(e)}})},{110:110,62:62}],297:[function(e,t,i){"use strict";var n=e(62),s=e(52),r=e(70),o=e(127),a=e(115);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,s.Promise||r.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then(function(){return i})}:e,i?function(i){return a(t,e()).then(function(){throw i})}:e)}})},{115:115,127:127,52:52,62:62,70:70}],298:[function(e,t,i){"use strict";var n=e(62),s=e(132),r=e(148),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);n(n.P+n.F*o,"String",{padEnd:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{132:132,148:148,62:62}],299:[function(e,t,i){"use strict";var n=e(62),s=e(132),r=e(148),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);n(n.P+n.F*o,"String",{padStart:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{132:132,148:148,62:62}],300:[function(e,t,i){"use strict";e(134)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{134:134}],301:[function(e,t,i){"use strict";e(134)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{134:134}],302:[function(e,t,i){e(150)("asyncIterator")},{150:150}],303:[function(e,t,i){for(var n=e(164),s=e(107),r=e(118),o=e(70),a=e(72),l=e(88),u=e(152),c=u("iterator"),d=u("toStringTag"),h=l.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=s(g),f=0;f<m.length;f++){var p,_=m[f],x=g[_],q=o[_],v=q&&q.prototype;if(v){v[c]||a(v,c,h);v[d]||a(v,d,_);l[_]=h;if(x)for(p in n)v[p]||r(v,p,n[p],!0)}}},{107:107,118:118,152:152,164:164,70:70,72:72,88:88}],304:[function(e,t,i){var n=e(62),s=e(136);n(n.G+n.B,{setImmediate:s.set,clearImmediate:s.clear})},{136:136,62:62}],305:[function(e,t,i){var n=e(70),s=e(62),r=e(148),o=[].slice,a=/MSIE .\./.test(r),l=function(e){return function(t,i){var n=arguments.length>2,s=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,s)}:t,i)}};s(s.G+s.B+s.F*a,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},{148:148,62:62,70:70}],306:[function(e,t,i){e(305);e(304);e(303);t.exports=e(52)},{303:303,304:304,305:305,52:52}],307:[function(e,t,i){var n=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},r=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",a=s.toStringTag||"@@toStringTag";function l(e,t,i,n){var s=t&&t.prototype instanceof f?t:f,r=Object.create(s.prototype),o=new T(n||[]);r._invoke=function(e,t,i){var n=c;return function(s,r){if(n===h)throw new Error("Generator is already running");if(n===g){if("throw"===s)throw r;return A()}i.method=s;i.arg=r;for(;;){var o=i.delegate;if(o){var a=w(o,i);if(a){if(a===m)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c){n=g;throw i.arg}i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var l=u(e,t,i);if("normal"===l.type){n=i.done?g:d;if(l.arg===m)continue;return{value:l.arg,done:i.done}}if("throw"===l.type){n=g;i.method="throw";i.arg=l.arg}}}}(e,i,o);return r}e.wrap=l;function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}var c="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function f(){}function p(){}function _(){}var x={};x[r]=function(){return this};var q=Object.getPrototypeOf,v=q&&q(q(I([])));v&&v!==i&&n.call(v,r)&&(x=v);var b=_.prototype=f.prototype=Object.create(x);p.prototype=b.constructor=_;_.constructor=p;_[a]=p.displayName="GeneratorFunction";function y(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))};e.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,_);else{e.__proto__=_;a in e||(e[a]="GeneratorFunction")}e.prototype=Object.create(b);return e};e.awrap=function(e){return{__await:e}};function C(e){var t;this._invoke=function(i,s){function r(){return new Promise(function(t,r){!function t(i,s,r,o){var a=u(e[i],e,s);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(c).then(function(e){l.value=e;r(l)},function(e){return t("throw",e,r,o)})}o(a.arg)}(i,s,t,r)})}return t=t?t.then(r,r):r()}}y(C.prototype);C.prototype[o]=function(){return this};e.AsyncIterator=C;e.async=function(t,i,n,s){var r=new C(l(t,i,n,s));return e.isGeneratorFunction(i)?r:r.next().then(function(e){return e.done?e.value:r.next()})};function w(e,i){var n=e.iterator[i.method];if(n===t){i.delegate=null;if("throw"===i.method){if(e.iterator.return){i.method="return";i.arg=t;w(e,i);if("throw"===i.method)return m}i.method="throw";i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var s=u(n,e.iterator,i.arg);if("throw"===s.type){i.method="throw";i.arg=s.arg;i.delegate=null;return m}var r=s.arg;if(!r){i.method="throw";i.arg=new TypeError("iterator result is not an object");i.delegate=null;return m}if(!r.done)return r;i[e.resultName]=r.value;i.next=e.nextLoc;if("return"!==i.method){i.method="next";i.arg=t}i.delegate=null;return m}y(b);b[a]="Generator";b[r]=function(){return this};b.toString=function(){return"[object Generator]"};function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]);if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(E,this);this.reset(!0)}e.keys=function(e){var t=[];for(var i in e)t.push(i);t.reverse();return function i(){for(;t.length;){var n=t.pop();if(n in e){i.value=n;i.done=!1;return i}}i.done=!0;return i}};function I(e){if(e){var i=e[r];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,o=function i(){for(;++s<e.length;)if(n.call(e,s)){i.value=e[s];i.done=!1;return i}i.value=t;i.done=!0;return i};return o.next=o}}return{next:A}}e.values=I;function A(){return{value:t,done:!0}}T.prototype={constructor:T,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=t;this.done=!1;this.delegate=null;this.method="next";this.arg=t;this.tryEntries.forEach(S);if(!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function s(n,s){a.type="throw";a.arg=e;i.next=n;if(s){i.method="next";i.arg=t}return!!s}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};o.type=e;o.arg=t;if(r){this.method="next";this.next=r.finallyLoc;return m}return this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else"normal"===e.type&&t&&(this.next=t);return m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e){this.complete(i.completion,i.afterLoc);S(i);return m}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var s=n.arg;S(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){this.delegate={iterator:I(e),resultName:i,nextLoc:n};"next"===this.method&&(this.arg=t);return m}};return e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},{}]},{},[1]);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){window.qx||(window.qx={});qx.Bootstrap={genericToString:function(){return"[Class "+this.classname+"]"},createNamespace:function(e,t){for(var i=e.split("."),n=i[0],s=qx.$$namespaceRoot&&qx.$$namespaceRoot[n]?qx.$$namespaceRoot:window,r=0,o=i.length-1;r<o;n=i[++r])s=s[n]?s[n]:s[n]={};s[n]=t;return n},setDisplayName:function(e,t,i){e.displayName=t+"."+i+"()"},setDisplayNames:function(e,t){for(var i in e){var n=e[i];n instanceof Function&&(n.displayName=t+"."+i+"()")}},base:function(e,t){if(qx.Bootstrap.DEBUG&&!qx.Bootstrap.isFunction(e.callee.base))throw new Error("Cannot call super class. Method is not derived: "+e.callee.displayName);return 1===arguments.length?e.callee.base.call(this):e.callee.base.apply(this,Array.prototype.slice.call(arguments,1))},define:function(e,t){var i;t||(t={statics:{}});var n=null;qx.Bootstrap.setDisplayNames(t.statics,e);if(t.members||t.extend){qx.Bootstrap.setDisplayNames(t.members,e+".prototype");i=t.construct||new Function;t.extend&&this.extendClass(i,i,t.extend,e,g);for(var s=t.statics||{},r=0,o=(u=qx.Bootstrap.keys(s)).length;r<o;r++){var a=u[r];i[a]=s[a]}(n=i.prototype).base=qx.Bootstrap.base;n.name=n.classname=e;var l,u,c=t.members||{};for(r=0,o=(u=qx.Bootstrap.keys(c)).length;r<o;r++){(l=c[a=u[r]])instanceof Function&&n[a]&&(l.base=n[a]);n[a]=l}}else{i=t.statics||{};if(qx.Bootstrap.$$registry&&qx.Bootstrap.$$registry[e]){var d=qx.Bootstrap.$$registry[e];if(0!==this.keys(i).length){t.defer&&t.defer(i,n);for(var h in i)d[h]=i[h];return d}}}i.$$type="Class";i.hasOwnProperty("toString")||(i.toString=this.genericToString);var g=e?this.createNamespace(e,i):"";i.classname=e;if(!function(){return void 0===this}())try{i.name=e}catch(e){}i.basename=g;i.$$events=t.events;t.defer&&this.addPendingDefer(i,function(){t.defer(i,n)});null!=e&&(qx.Bootstrap.$$registry[e]=i);return i},isQxCoreObject:function(e){if(e===e.constructor)return!1;for(var t=e.constructor;t;){if("qx.core.Object"===t.classname)return!0;t=t.superclass}return!1}};qx.Bootstrap.define("qx.Bootstrap",{statics:{LOADSTART:qx.$$start||new Date,DEBUG:function(){var e=!0;qx.$$environment&&!1===qx.$$environment["qx.debug"]&&(e=!1);return e}(),getEnvironmentSetting:function(e){if(qx.$$environment)return qx.$$environment[e]},setEnvironmentSetting:function(e,t){qx.$$environment||(qx.$$environment={});void 0===qx.$$environment[e]&&(qx.$$environment[e]=t)},createNamespace:qx.Bootstrap.createNamespace,setRoot:function(e){qx.$$namespaceRoot=e},base:qx.Bootstrap.base,define:qx.Bootstrap.define,isQxCoreObject:qx.Bootstrap.isQxCoreObject,setDisplayName:qx.Bootstrap.setDisplayName,setDisplayNames:qx.Bootstrap.setDisplayNames,genericToString:qx.Bootstrap.genericToString,extendClass:function(e,t,i,n,s){var r=i.prototype,o=new Function;o.prototype=r;var a=new o;e.prototype=a;a.name=a.classname=n;a.basename=s;t.base=i;e.superclass=i;t.self=e.constructor=a.constructor=e},__pendingDefers:[],addPendingDefer:function(e,t){if(qx.$$loader&&qx.$$loader.delayDefer){this.__pendingDefers.push(e);e.$$pendingDefer=t}else t.call(e)},executePendingDefers:function(e){var t=function(e){if(e.environment){var t=e.environment.required;if(t)for(var n in t){var s=t[n];s.load&&s.className&&i(s.className)}}for(var n in e.dependsOn){var r=e.dependsOn[n];(r.require||"dynamic"===r.usage)&&i(n)}},i=function(e){var i=s(e);if(i&&!i.$$deferComplete){var r=i.$$dbClassInfo;r&&t(r);n(i)}},n=function(e){var t=e.$$pendingDefer;if(t){delete e.$$pendingDefer;e.$$deferComplete=!0;t.call(e)}},s=function(e){var t=qx.Bootstrap.getByName(e);if(!t){for(var i=e.split("."),n=i[0],s=qx.$$namespaceRoot&&qx.$$namespaceRoot[n]?qx.$$namespaceRoot:window,r=s,o=0,a=i.length-1;r&&o<a;n=i[++o])r=r[n];r!=s&&(t=r)}return t};if(e)t(e);else{var r=this.__pendingDefers;this.__pendingDefers=[];r.forEach(n)}},getByName:function(e){return qx.Bootstrap.$$registry[e]},$$registry:{},objectGetLength:function(e){return qx.Bootstrap.keys(e).length},objectMergeWith:function(e,t,i){void 0===i&&(i=!0);for(var n in t)(i||void 0===e[n])&&(e[n]=t[n]);return e},__shadowedKeys:["isPrototypeOf","hasOwnProperty","toLocaleString","toString","valueOf","propertyIsEnumerable","constructor"],keys:{ES5:Object.keys,BROKEN_IE:function(e){if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)throw new TypeError("Object.keys requires an object as argument.");var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);for(var s=0,r=qx.Bootstrap.__shadowedKeys,o=r.length;s<o;s++)i.call(e,r[s])&&t.push(r[s]);return t},default:function(e){if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)throw new TypeError("Object.keys requires an object as argument.");var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);return t}}["function"==typeof Object.keys?"ES5":"toString"!==function(){for(var e in{toString:1})return e}()?"BROKEN_IE":"default"],__classToTypeMap:{"[object String]":"String","[object Array]":"Array","[object Object]":"Object","[object RegExp]":"RegExp","[object Number]":"Number","[object Boolean]":"Boolean","[object Date]":"Date","[object Function]":"Function","[object AsyncFunction]":"Function","[object Error]":"Error","[object Blob]":"Blob","[object ArrayBuffer]":"ArrayBuffer","[object FormData]":"FormData"},bind:function(e,t,i){var n=Array.prototype.slice.call(arguments,2,arguments.length);return function(){var i=Array.prototype.slice.call(arguments,0,arguments.length);return e.apply(t,n.concat(i))}},firstUp:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},firstLow:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},getClass:function(e){if(void 0===e)return"Undefined";if(null===e)return"Null";var t=Object.prototype.toString.call(e);return qx.Bootstrap.__classToTypeMap[t]||t.slice(8,-1)},isString:function(e){return null!==e&&("string"==typeof e||"String"===qx.Bootstrap.getClass(e)||e instanceof String||!!e&&!!e.$$isString)},isArray:function(e){return null!==e&&(e instanceof Array||e&&qx.data&&qx.data.IListData&&qx.util.OOUtil.hasInterface(e.constructor,qx.data.IListData)||"Array"===qx.Bootstrap.getClass(e)||!!e&&!!e.$$isArray)},isObject:function(e){return void 0!==e&&null!==e&&"Object"===qx.Bootstrap.getClass(e)},isFunction:function(e){return"Function"===qx.Bootstrap.getClass(e)},isFunctionOrAsyncFunction:function(e){var t=qx.Bootstrap.getClass(e);return"Function"===t||"AsyncFunction"===t},$$logs:[],debug:function(e,t){qx.Bootstrap.$$logs.push(["debug",arguments])},info:function(e,t){qx.Bootstrap.$$logs.push(["info",arguments])},warn:function(e,t){qx.Bootstrap.$$logs.push(["warn",arguments])},error:function(e,t){qx.Bootstrap.$$logs.push(["error",arguments])},trace:function(e){}}});qx.Bootstrap.$$dbClassInfo={dependsOn:{"qx.data.IListData":{},"qx.util.OOUtil":{}}}}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.log.Logger":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.ObjectRegistry",{statics:{inShutDown:!1,__registry:{},__nextHash:0,__postId:"",__stackTraces:{},register:function(e){var t=this.__registry;if(t){var i=qx.core.ObjectRegistry.toHashCode(e);if(!e.dispose)throw new Error("Invalid object: "+e);t[i]=e}},unregister:function(e){var t=e.$$hash;if(null!=t){var i=this.__registry;i&&i[t]&&delete i[t];this.clearHashCode(e)}},toHashCode:function(e){if(null==e)throw new Error("Invalid object: "+e);var t=e.$$hash;if(null!=t)return t;t=this.createHashCode();e.$$hash=t;return e.$$hash},createHashCode:function(){return String(this.__nextHash+++this.__postId)},clearHashCode:function(e){if(null==e)throw new Error("Invalid object: "+e);var t=e.$$hash;if(null!=t)try{e.$$discardedHashCode=t;delete e.$$hash}catch(t){e.removeAttribute&&e.removeAttribute("$$hash")}},fromHashCode:function(e,t){var i=this.__registry[e]||null;i||t||qx.log.Logger.warn(this,"Object with hash code "+e+" does not exist (since Qooxdoo 6.0 fromHashCode requires that you explicitly register objects with qx.core.ObjectRegistry.register)");return i},hasHashCode:function(e){return!!this.__registry[e]},shutdown:function(){this.inShutDown=!0;var e=this.__registry,t=[];for(var i in e)t.push(i);t.sort(function(e,t){return parseInt(t,10)-parseInt(e,10)});for(var n,s=0,r=t.length;;){try{for(;s<r;s++)(n=e[i=t[s]])&&n.dispose&&n.dispose()}catch(e){qx.Bootstrap.error(this,"Could not dispose object "+n.toString()+": "+e,e);if(s!==r){s++;continue}}break}qx.Bootstrap.debug(this,"Disposed "+r+" objects");delete this.__registry},getRegistry:function(){return this.__registry},getNextHash:function(){return this.__nextHash},getPostId:function(){return this.__postId},getStackTraces:function(){return this.__stackTraces}},defer:function(e){if(window&&window.top)for(var t=window.top.frames,i=0;i<t.length;i++)if(t[i]===window){e.__postId="-"+(i+1);return}e.__postId="-0"}});qx.core.ObjectRegistry.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.Environment",{statics:{_checks:{},_asyncChecks:{},__cache:{},_checksMap:{},_defaults:{true:!0,"qx.allowUrlSettings":!1,"qx.allowUrlVariants":!1,"qx.debug.property.level":0,"qx.debug":!0,"qx.debug.ui.queue":!0,"qx.debug.touchpad.detection":!1,"qx.aspects":!1,"qx.dynlocale":!0,"qx.dyntheme":!0,"qx.blankpage":"qx/static/blank.html","qx.debug.databinding":!1,"qx.debug.dispose":!1,"qx.optimization.basecalls":!1,"qx.optimization.comments":!1,"qx.optimization.privates":!1,"qx.optimization.strings":!1,"qx.optimization.variables":!1,"qx.optimization.variants":!1,"module.databinding":!0,"module.logger":!0,"module.property":!0,"module.events":!0,"module.objectid":!0,"qx.nativeScrollBars":!1,"qx.automaticMemoryManagement":!0,"qx.promise":!0,"qx.promise.warnings":!0,"qx.promise.longStackTraces":!0,"qx.command.bindEnabled":!1},get:function(e){if(void 0!=this.__cache[e])return this.__cache[e];var t=this._checks[e];if(t){var i=t();this.__cache[e]=i;return i}var n=this._getClassNameFromEnvKey(e);if(void 0!=n[0]){i=n[0][n[1]]();this.__cache[e]=i;return i}if(qx.Bootstrap.DEBUG){qx.Bootstrap.warn(e+" is not a valid key. Please see the API-doc of qx.core.Environment for a list of predefined keys.");qx.Bootstrap.trace(this)}},_getClassNameFromEnvKey:function(e){var t=this._checksMap;if(void 0!=t[e]){var i=t[e],n=i.lastIndexOf(".");if(n>-1){var s=i.slice(0,n),r=i.slice(n+1),o=qx.Bootstrap.getByName(s);if(void 0!=o)return[o,r]}}return[void 0,void 0]},getAsync:function(e,t,i){var n=this;if(void 0==this.__cache[e]){var s=this._asyncChecks[e];if(s)s(function(s){n.__cache[e]=s;t.call(i,s)});else{var r=this._getClassNameFromEnvKey(e);if(void 0==r[0]){if(qx.Bootstrap.DEBUG){qx.Bootstrap.warn(e+" is not a valid key. Please see the API-doc of qx.core.Environment for a list of predefined keys.");qx.Bootstrap.trace(this)}}else{r[0][r[1]](function(s){n.__cache[e]=s;t.call(i,s)})}}}else window.setTimeout(function(){t.call(i,n.__cache[e])},0)},select:function(e,t){return this.__pickFromValues(this.get(e),t)},selectAsync:function(e,t,i){this.getAsync(e,function(n){this.__pickFromValues(e,t).call(i,n)},this)},__pickFromValues:function(e,t){var i=t[e];if(t.hasOwnProperty(e))return i;for(var n in t)if(-1!=n.indexOf("|"))for(var s=n.split("|"),r=0;r<s.length;r++)if(s[r]==e)return t[n];if(void 0!==t.default)return t.default;if(qx.Bootstrap.DEBUG)throw new Error('No match for variant "'+e+'" ('+_typeof(e)+" type) in variants ["+qx.Bootstrap.keys(t)+'] found, and no default ("default") given')},filter:function(e){var t=[];for(var i in e)this.get(i)&&t.push(e[i]);return t},invalidateCacheKey:function(e){delete this.__cache[e]},add:function(e,t){if(void 0==this._checks[e])if(t instanceof Function){!this._checksMap[e]&&t.displayName&&(this._checksMap[e]=t.displayName.substr(0,t.displayName.length-2));this._checks[e]=t}else this._checks[e]=this.__createCheck(t)},addAsync:function(e,t){void 0==this._checks[e]&&(this._asyncChecks[e]=t)},getChecks:function(){return this._checks},getAsyncChecks:function(){return this._asyncChecks},_initDefaultQxValues:function(){var e=function(e){return function(){return e}};for(var t in this._defaults)this.add(t,e(this._defaults[t]))},__importFromGenerator:function(){if(qx&&qx.$$environment)for(var e in qx.$$environment){var t=qx.$$environment[e];this._checks[e]=this.__createCheck(t)}},__importFromUrl:function(){if(window.document&&window.document.location)for(var e=window.document.location.search.slice(1).split("&"),t=0;t<e.length;t++){var i=e[t].split(":");if(3==i.length&&"qxenv"==i[0]){var n=i[1],s=decodeURIComponent(i[2]);"true"==s?s=!0:"false"==s?s=!1:/^(\d|\.)+$/.test(s)&&(s=parseFloat(s));this._checks[n]=this.__createCheck(s)}}},__createCheck:function(e){return qx.Bootstrap.bind(function(e){return e},null,e)}},defer:function(e){e._initDefaultQxValues();e.__importFromGenerator();!0===e.get("qx.allowUrlSettings")&&e.__importFromUrl()}});qx.core.Environment.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.client.EcmaScript":{defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.core.Environment":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Array",{statics:{indexOf:function(e,t){null==t?t=0:t<0&&(t=Math.max(0,this.length+t));for(var i=t;i<this.length;i++)if(this[i]===e)return i;return-1},lastIndexOf:function(e,t){null==t?t=this.length-1:t<0&&(t=Math.max(0,this.length+t));for(var i=t;i>=0;i--)if(this[i]===e)return i;return-1},forEach:function(e,t){for(var i=this.length,n=0;n<i;n++){var s=this[n];void 0!==s&&e.call(t||window,s,n,this)}},filter:function(e,t){for(var i=[],n=this.length,s=0;s<n;s++){var r=this[s];void 0!==r&&e.call(t||window,r,s,this)&&i.push(this[s])}return i},map:function(e,t){for(var i=[],n=this.length,s=0;s<n;s++){var r=this[s];void 0!==r&&(i[s]=e.call(t||window,r,s,this))}return i},some:function(e,t){for(var i=this.length,n=0;n<i;n++){var s=this[n];if(void 0!==s&&e.call(t||window,s,n,this))return!0}return!1},every:function(e,t){for(var i=this.length,n=0;n<i;n++){var s=this[n];if(void 0!==s&&!e.call(t||window,s,n,this))return!1}return!0},find:function(e,t){qx.core.Assert.assertFunction(e);for(var i=this.length,n=0;n<i;n++){var s=this[n];if(e.call(t||window,s,n,this))return s}},findIndex:function(e,t){qx.core.Assert.assertFunction(e);for(var i=this.length,n=0;n<i;n++){var s=this[n];if(e.call(t||window,s,n,this))return n}return-1},reduce:function(e,t){if("function"!=typeof e)throw new TypeError("First argument is not callable");if(void 0===t&&0===this.length)throw new TypeError("Length is 0 and no second argument given");for(var i=void 0===t?this[0]:t,n=void 0===t?1:0;n<this.length;n++)n in this&&(i=e.call(void 0,i,this[n],n,this));return i},reduceRight:function(e,t){if("function"!=typeof e)throw new TypeError("First argument is not callable");if(void 0===t&&0===this.length)throw new TypeError("Length is 0 and no second argument given");for(var i=void 0===t?this[this.length-1]:t,n=void 0===t?this.length-2:this.length-1;n>=0;n--)n in this&&(i=e.call(void 0,i,this[n],n,this));return i},includes:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;var s,r,o=0|t,a=Math.max(o>=0?o:n-Math.abs(o),0);for(;a<n;){if((s=i[a])===(r=e)||"number"==typeof s&&"number"==typeof r&&isNaN(s)&&isNaN(r))return!0;a++}return!1}},defer:function(e){var t=function(t,i){qx.core.Environment.get(t)||Object.defineProperty(Array.prototype,i,{enumerable:!1,value:e[i]})};t("ecmascript.array.indexof","indexOf");t("ecmascript.array.lastindexof","lastIndexOf");t("ecmascript.array.foreach","forEach");t("ecmascript.array.filter","filter");t("ecmascript.array.map","map");t("ecmascript.array.some","some");t("ecmascript.array.find","find");t("ecmascript.array.findIndex","findIndex");t("ecmascript.array.every","every");t("ecmascript.array.reduce","reduce");t("ecmascript.array.reduceright","reduceRight");t("ecmascript.array.includes","includes")}});qx.lang.normalize.Array.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["ecmascript.array.indexof","ecmascript.array.lastindexof","ecmascript.array.foreach","ecmascript.array.filter","ecmascript.array.map","ecmascript.array.some","ecmascript.array.find","ecmascript.array.findIndex","ecmascript.array.every","ecmascript.array.reduce","ecmascript.array.reduceright","ecmascript.array.includes","ecmascript.date.now","ecmascript.date.parse","ecmascript.error.toString","ecmascript.error.stacktrace","ecmascript.function.bind","ecmascript.object.keys","ecmascript.object.values","ecmascript.object.is","ecmascript.number.EPSILON","ecmascript.string.startsWith","ecmascript.string.endsWith","ecmascript.string.trim","ecmascript.function.async","ecmascript.mutationobserver","ecmascript.bigint","ecmascript.bigint.tolocalestring","ecmascript.promise.native"],required:{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Bootstrap.define("qx.bom.client.EcmaScript",{statics:{getStackTrace:function(){var e=new Error("e");if(!(e.stack?"stack":e.stacktrace?"stacktrace":null))try{throw e}catch(t){e=t}return e.stacktrace?"stacktrace":e.stack?"stack":null},getMutationObserver:function(){return"undefined"!=typeof MutationObserver},getArrayIndexOf:function(){return!!Array.prototype.indexOf},getArrayLastIndexOf:function(){return!!Array.prototype.lastIndexOf},getArrayForEach:function(){return!!Array.prototype.forEach},getArrayFilter:function(){return!!Array.prototype.filter},getArrayMap:function(){return!!Array.prototype.map},getArraySome:function(){return!!Array.prototype.some},getArrayFind:function(){return!!Array.prototype.find},getArrayFindIndex:function(){return!!Array.prototype.findIndex},getArrayEvery:function(){return!!Array.prototype.every},getArrayReduce:function(){return!!Array.prototype.reduce},getArrayReduceRight:function(){return!!Array.prototype.reduceRight},getArrayIncludes:function(){return!!Array.prototype.includes},getErrorToString:function(){return"function"==typeof Error.prototype.toString&&"[object Error]"!==Error.prototype.toString()},getFunctionBind:function(){return"function"==typeof Function.prototype.bind},getAsyncFunction:function getAsyncFunction(){var f;try{eval("f = async function(){};")}catch(e){return!1}return"AsyncFunction"===qx.Bootstrap.getClass(f)},getObjectKeys:function(){return!!Object.keys},getObjectValues:function(){return!!Object.values},getObjectIs:function(){return!!Object.is},getDateNow:function(){return!!Date.now},getDateParse:function(){return"function"==typeof Date.parse&&Date.parse("2001-02-03T04:05:06.007")!=Date.parse("2001-02-03T04:05:06.007Z")},getStringStartsWith:function(){return"function"==typeof String.prototype.startsWith},getStringEndsWith:function(){return"function"==typeof String.prototype.endsWith},getStringTrim:function(){return"function"==typeof String.prototype.trim},getBigInt:function(){return"undefined"!=typeof BigInt},getBigIntToLocaleString:function(){return"undefined"!=typeof BigInt&&"function"==typeof BigInt.prototype.toLocaleString&&"1,234"===BigInt(1234).toLocaleString("de-DE")},getPromiseNative:function(){return void 0!==window.Promise&&-1!==window.Promise.toString().indexOf("[native code]")},getEpsilon:function(){return void 0!==Number.prototype.EPSILON}},defer:function(e){qx.core.Environment.add("ecmascript.array.indexof",e.getArrayIndexOf);qx.core.Environment.add("ecmascript.array.lastindexof",e.getArrayLastIndexOf);qx.core.Environment.add("ecmascript.array.foreach",e.getArrayForEach);qx.core.Environment.add("ecmascript.array.filter",e.getArrayFilter);qx.core.Environment.add("ecmascript.array.map",e.getArrayMap);qx.core.Environment.add("ecmascript.array.some",e.getArraySome);qx.core.Environment.add("ecmascript.array.find",e.getArrayFind);qx.core.Environment.add("ecmascript.array.findIndex",e.getArrayFindIndex);qx.core.Environment.add("ecmascript.array.every",e.getArrayEvery);qx.core.Environment.add("ecmascript.array.reduce",e.getArrayReduce);qx.core.Environment.add("ecmascript.array.reduceright",e.getArrayReduceRight);qx.core.Environment.add("ecmascript.array.includes",e.getArrayIncludes);qx.core.Environment.add("ecmascript.date.now",e.getDateNow);qx.core.Environment.add("ecmascript.date.parse",e.getDateParse);qx.core.Environment.add("ecmascript.error.toString",e.getErrorToString);qx.core.Environment.add("ecmascript.error.stacktrace",e.getStackTrace);qx.core.Environment.add("ecmascript.function.bind",e.getFunctionBind);qx.core.Environment.add("ecmascript.object.keys",e.getObjectKeys);qx.core.Environment.add("ecmascript.object.values",e.getObjectValues);qx.core.Environment.add("ecmascript.object.is",e.getObjectIs);qx.core.Environment.add("ecmascript.number.EPSILON",e.getEpsilon);qx.core.Environment.add("ecmascript.string.startsWith",e.getStringStartsWith);qx.core.Environment.add("ecmascript.string.endsWith",e.getStringEndsWith);qx.core.Environment.add("ecmascript.string.trim",e.getStringTrim);qx.core.Environment.add("ecmascript.function.async",e.getAsyncFunction);qx.core.Environment.add("ecmascript.mutationobserver",e.getMutationObserver);qx.core.Environment.add("ecmascript.bigint",e.getBigInt);qx.core.Environment.add("ecmascript.bigint.tolocalestring",e.getBigIntToLocaleString);qx.core.Environment.add("ecmascript.promise.native",e.getPromiseNative)}});qx.bom.client.EcmaScript.$$dbClassInfo=$$dbClassInfo}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.lang.normalize.Array":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.OOUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Interface",{statics:{define:function(e,t){if(t){t.extend&&"Array"!==qx.Bootstrap.getClass(t.extend)&&(t.extend=[t.extend]);this.__validateConfig(e,t);var i=t.statics?t.statics:{};t.extend&&(i.$$extends=t.extend);t.properties&&(i.$$properties=t.properties);t.members&&(i.$$members=t.members);t.events&&(i.$$events=t.events)}else i={};i.$$type="Interface";i.name=e;i.toString=this.genericToString;i.basename=qx.Bootstrap.createNamespace(e,i);qx.Interface.$$registry[e]=i;return i},getByName:function(e){return this.$$registry[e]},isDefined:function(e){return void 0!==this.getByName(e)},getTotalNumber:function(){return qx.Bootstrap.objectGetLength(this.$$registry)},flatten:function(e){if(!e)return[];for(var t=e.concat(),i=0,n=e.length;i<n;i++)e[i].$$extends&&t.push.apply(t,this.flatten(e[i].$$extends));return t},__checkMembers:function(e,t,i,n,s){var r=i.$$members;if(r)for(var o in r)if(qx.Bootstrap.isFunction(r[o])){var a=this.__isPropertyMethod(t,o);if(!(a||qx.Bootstrap.isFunction(e[o]))){if(s)throw new Error('Implementation of method "'+o+'" is missing in class "'+t.classname+'" required by interface "'+i.name+'"');return!1}!0===n&&!a&&!qx.util.OOUtil.hasInterface(t,i)&&(e[o]=this.__wrapInterfaceMember(i,e[o],o,r[o]))}else if(void 0===_typeof(e[o])&&"function"!=typeof e[o]){if(s)throw new Error('Implementation of member "'+o+'" is missing in class "'+t.classname+'" required by interface "'+i.name+'"');return!1}if(!s)return!0},__isPropertyMethod:function(e,t){var i=t.match(/^(is|toggle|get|set|reset)(.*)$/);if(!i)return!1;var n=qx.Bootstrap.firstLow(i[2]);return!!qx.util.OOUtil.getPropertyDefinition(e,n)&&(!("is"===i[0]||"toggle"===i[0])||"Boolean"===qx.util.OOUtil.getPropertyDefinition(e,n).check)},__checkProperties:function(e,t,i){if(t.$$properties)for(var n in t.$$properties)if(!qx.util.OOUtil.getPropertyDefinition(e,n)){if(i)throw new Error('The property "'+n+'" is not supported by Class "'+e.classname+'"!');return!1}if(!i)return!0},__checkEvents:function(e,t,i){if(t.$$events)for(var n in t.$$events)if(!qx.util.OOUtil.supportsEvent(e,n)){if(i)throw new Error('The event "'+n+'" is not supported by Class "'+e.classname+'"!');return!1}if(!i)return!0},assertObject:function(e,t){var i=e.constructor;this.__checkMembers(e,i,t,!1,!0);this.__checkProperties(i,t,!0);this.__checkEvents(i,t,!0);var n=t.$$extends;if(n)for(var s=0,r=n.length;s<r;s++)this.assertObject(e,n[s])},assert:function(e,t,i){this.__checkMembers(e.prototype,e,t,i,!0);this.__checkProperties(e,t,!0);this.__checkEvents(e,t,!0);var n=t.$$extends;if(n)for(var s=0,r=n.length;s<r;s++)this.assert(e,n[s],i)},objectImplements:function(e,t){var i=e.constructor;if(!this.__checkMembers(e,i,t)||!this.__checkProperties(i,t)||!this.__checkEvents(i,t))return!1;var n=t.$$extends;if(n)for(var s=0,r=n.length;s<r;s++)if(!this.objectImplements(e,n[s]))return!1;return!0},classImplements:function(e,t){if(!this.__checkMembers(e.prototype,e,t)||!this.__checkProperties(e,t)||!this.__checkEvents(e,t))return!1;var i=t.$$extends;if(i)for(var n=0,s=i.length;n<s;n++)if(!this.has(e,i[n]))return!1;return!0},genericToString:function(){return"[Interface "+this.name+"]"},$$registry:{},__wrapInterfaceMember:function(e,t,i,n){function s(){n.apply(this,arguments);return t.apply(this,arguments)}t.wrapper=s;return s},__allowedKeys:{extend:"object",statics:"object",members:"object",properties:"object",events:"object"},__validateConfig:function(e,t){var i=this.__allowedKeys;for(var n in t){if(void 0===i[n])throw new Error('The configuration key "'+n+'" in class "'+e+'" is not allowed!');if(null==t[n])throw new Error("Invalid key '"+n+"' in interface '"+e+"'! The value is undefined/null!");if(null!==i[n]&&_typeof(t[n])!==i[n])throw new Error('Invalid type of key "'+n+'" in interface "'+e+'"! The type of the key must be "'+i[n]+'"!')}for(var s=["statics","members","properties","events"],r=0,o=s.length;r<o;r++){if(void 0!==t[n=s[r]]&&(-1!=["Array","RegExp","Date"].indexOf(qx.Bootstrap.getClass(t[n]))||void 0!==t[n].classname))throw new Error('Invalid key "'+n+'" in interface "'+e+'"! The value needs to be a map!')}if(t.extend){r=0;var a=t.extend;for(o=a.length;r<o;r++){if(null==a[r])throw new Error("Extends of interfaces must be interfaces. The extend number '"+r+"1' in interface '"+e+"' is undefined/null!");if("Interface"!==a[r].$$type)throw new Error("Extends of interfaces must be interfaces. The extend number '"+r+"1' in interface '"+e+"' is not an interface!")}}if(t.statics)for(var n in t.statics){if(n.toUpperCase()!==n)throw new Error('Invalid key "'+n+'" in interface "'+e+'"! Static constants must be all uppercase.');switch(_typeof(t.statics[n])){case"boolean":case"string":case"number":break;default:throw new Error('Invalid key "'+n+'" in interface "'+e+'"! Static constants must be all of a primitive type.')}}}}});qx.Interface.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.lang.normalize.Array":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.OOUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Mixin",{statics:{define:function(e,t){if(t){t.include&&"Array"!==qx.Bootstrap.getClass(t.include)&&(t.include=[t.include]);this.__validateConfig(e,t);var i=t.statics?t.statics:{};qx.Bootstrap.setDisplayNames(i,e);for(var n in i)i[n]instanceof Function&&(i[n].$$mixin=i);if(t.construct){i.$$constructor=t.construct;qx.Bootstrap.setDisplayName(t.construct,e,"constructor")}t.include&&(i.$$includes=t.include);t.properties&&(i.$$properties=t.properties);if(t.members){i.$$members=t.members;qx.Bootstrap.setDisplayNames(t.members,e+".prototype")}for(var n in i.$$members)i.$$members[n]instanceof Function&&(i.$$members[n].$$mixin=i);t.events&&(i.$$events=t.events);if(t.destruct){i.$$destructor=t.destruct;qx.Bootstrap.setDisplayName(t.destruct,e,"destruct")}}else i={};i.$$type="Mixin";i.name=e;i.toString=this.genericToString;i.basename=qx.Bootstrap.createNamespace(e,i);this.$$registry[e]=i;return i},checkCompatibility:function(e){var t=this.flatten(e),i=t.length;if(i<2)return!0;for(var n,s={},r={},o={},a=0;a<i;a++){n=t[a];for(var l in n.events){if(o[l])throw new Error('Conflict between mixin "'+n.name+'" and "'+o[l]+'" in member "'+l+'"!');o[l]=n.name}for(var l in n.properties){if(s[l])throw new Error('Conflict between mixin "'+n.name+'" and "'+s[l]+'" in property "'+l+'"!');s[l]=n.name}for(var l in n.members){if(r[l])throw new Error('Conflict between mixin "'+n.name+'" and "'+r[l]+'" in member "'+l+'"!');r[l]=n.name}}return!0},isCompatible:function(e,t){var i=qx.util.OOUtil.getMixins(t);i.push(e);return qx.Mixin.checkCompatibility(i)},getByName:function(e){return this.$$registry[e]},isDefined:function(e){return void 0!==this.getByName(e)},getTotalNumber:function(){return qx.Bootstrap.objectGetLength(this.$$registry)},flatten:function(e){if(!e)return[];for(var t=e.concat(),i=0,n=e.length;i<n;i++)e[i].$$includes&&t.push.apply(t,this.flatten(e[i].$$includes));return t},genericToString:function(){return"[Mixin "+this.name+"]"},$$registry:{},__allowedKeys:{include:"object",statics:"object",members:"object",properties:"object",events:"object",destruct:"function",construct:"function"},__validateConfig:function(e,t){var i=this.__allowedKeys;for(var n in t){if(!i[n])throw new Error('The configuration key "'+n+'" in mixin "'+e+'" is not allowed!');if(null==t[n])throw new Error('Invalid key "'+n+'" in mixin "'+e+'"! The value is undefined/null!');if(null!==i[n]&&_typeof(t[n])!==i[n])throw new Error('Invalid type of key "'+n+'" in mixin "'+e+'"! The type of the key must be "'+i[n]+'"!')}for(var s=["statics","members","properties","events"],r=0,o=s.length;r<o;r++){if(void 0!==t[n=s[r]]&&(-1!=["Array","RegExp","Date"].indexOf(qx.Bootstrap.getClass(t[n]))||void 0!==t[n].classname))throw new Error('Invalid key "'+n+'" in mixin "'+e+'"! The value needs to be a map!')}if(t.include){r=0;var a=t.include;for(o=a.length;r<o;r++){if(null==a[r])throw new Error("Includes of mixins must be mixins. The include number '"+(r+1)+"' in mixin '"+e+"'is undefined/null!");if("Mixin"!==a[r].$$type)throw new Error("Includes of mixins must be mixins. The include number '"+(r+1)+"' in mixin '"+e+"'is not a mixin!")}this.checkCompatibility(t.include)}}}});qx.Mixin.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.EcmaScript":{defer:"runtime"}},environment:{provided:[],required:{"ecmascript.date.now":{defer:!0,className:"qx.bom.client.EcmaScript"},"ecmascript.date.parse":{defer:!0,className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Date",{statics:{now:function(){return+new Date},parse:function(e){var t=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e);if(!t){var i=Date.originalParse(e);return isNaN(i)||isNaN((new Date).setTime(i))?NaN:i}var n=[4,5,6,7].every(function(e){return void 0===t[e]});[1,4,5,6,7,10,11].forEach(function(e){t[e]=+t[e]||0});t[2]=(+t[2]||1)-1;t[3]=+t[3]||1;if("Z"!==t[8]&&void 0===t[9]&&!n)return new Date(t[1],t[2],t[3],t[4],t[5],t[6],t[7]).getTime();var s=0;if("Z"!==t[8]){s=60*t[10]+t[11];"+"===t[9]&&(s=-s)}return Date.UTC(t[1],t[2],t[3],t[4],t[5]+s,t[6],t[7])}},defer:function(e){qx.core.Environment.get("ecmascript.date.now")||(Date.now=e.now);if(!qx.core.Environment.get("ecmascript.date.parse")){Date.originalParse=Date.parse||function(e){return NaN};Date.parse=e.parse}}});qx.lang.normalize.Date.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.EcmaScript":{defer:"runtime"}},environment:{provided:[],required:{"ecmascript.error.toString":{defer:!0,className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Error",{statics:{toString:function(){var e=this.name||"Error",t=this.message||"";return""===e&&""===t?"Error":""===e?t:""===t?e:e+": "+t}},defer:function(e){qx.core.Environment.get("ecmascript.error.toString")||(Error.prototype.toString=e.toString)}});qx.lang.normalize.Error.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.EcmaScript":{defer:"runtime"}},environment:{provided:[],required:{"ecmascript.function.bind":{defer:!0,className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Function",{statics:{bind:function(e){var t=Array.prototype.slice,i=this;if("function"!=typeof i)throw new TypeError("Function.prototype.bind called on incompatible "+i);var n=t.call(arguments,1);return function s(){if(this instanceof s){var r=function(){};r.prototype=i.prototype;var o=new r,a=i.apply(o,n.concat(t.call(arguments)));return Object(a)===a?a:o}return i.apply(e,n.concat(t.call(arguments)))}}},defer:function(e){qx.core.Environment.get("ecmascript.function.bind")||(Function.prototype.bind=e.bind)}});qx.lang.normalize.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.EcmaScript":{defer:"runtime"}},environment:{provided:[],required:{"ecmascript.string.trim":{defer:!0,className:"qx.bom.client.EcmaScript"},"ecmascript.string.startsWith":{defer:!0,className:"qx.bom.client.EcmaScript"},"ecmascript.string.endsWith":{defer:!0,className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.String",{statics:{trim:function(){return this.replace(/^\s+|\s+$/g,"")},startsWith:function(e,t){t=t||0;return this.substr(t,e.length)===e},endsWith:function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length);t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}},defer:function(e){qx.core.Environment.get("ecmascript.string.trim")||(String.prototype.trim=e.trim);qx.core.Environment.get("ecmascript.string.startsWith")||(String.prototype.startsWith=e.startsWith);qx.core.Environment.get("ecmascript.string.endsWith")||(String.prototype.endsWith=e.endsWith)}});qx.lang.normalize.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.bom.client.EcmaScript":{defer:"runtime"}},environment:{provided:[],required:{"ecmascript.object.keys":{defer:!0,className:"qx.bom.client.EcmaScript"},"ecmascript.object.values":{defer:!0},"ecmascript.object.is":{defer:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Object",{statics:{keys:qx.Bootstrap.keys,values:function(e){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");for(var t=[],i=Object.keys(e),n=0,s=i.length;n<s;n++)t.push(e[i[n]]);return t},is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},defer:function(e){qx.core.Environment.get("ecmascript.object.keys")||(Object.keys=e.keys);qx.core.Environment.get("ecmascript.object.values")||(Object.values=e.values);qx.core.Environment.get("ecmascript.object.is")||(Object.is=e.is)}});qx.lang.normalize.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"ecmascript.number.EPSILON":{defer:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.normalize.Number",{statics:{EPSILON:2e-52},defer:function(e){qx.core.Environment.get("ecmascript.number.EPSILON")||(Number.prototype.EPSILON=e.EPSILON)}});qx.lang.normalize.Number.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.type.Data":{},"qx.event.dispatch.Direct":{},"qx.Promise":{},"qx.core.Object":{},"qx.log.Logger":{},"qx.lang.String":{},"qx.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.Property",{statics:{__gatherDependency:function(){qx.event.type.Data;qx.event.dispatch.Direct;qx.Promise},__checks:{Boolean:"qx.core.Assert.assertBoolean(value, msg) || true",String:"qx.core.Assert.assertString(value, msg) || true",Number:"qx.core.Assert.assertNumber(value, msg) || true",Integer:"qx.core.Assert.assertInteger(value, msg) || true",PositiveNumber:"qx.core.Assert.assertPositiveNumber(value, msg) || true",PositiveInteger:"qx.core.Assert.assertPositiveInteger(value, msg) || true",Error:"qx.core.Assert.assertInstance(value, Error, msg) || true",RegExp:"qx.core.Assert.assertInstance(value, RegExp, msg) || true",Object:"qx.core.Assert.assertObject(value, msg) || true",Array:"qx.core.Assert.assertArray(value, msg) || true",Map:"qx.core.Assert.assertMap(value, msg) || true",Function:"qx.core.Assert.assertFunction(value, msg) || true",Date:"qx.core.Assert.assertInstance(value, Date, msg) || true",Node:"value !== null && value.nodeType !== undefined",Element:"value !== null && value.nodeType === 1 && value.attributes",Document:"value !== null && value.nodeType === 9 && value.documentElement",Window:"value !== null && value.document",Event:"value !== null && value.type !== undefined",Class:'value !== null && value.$$type === "Class"',Mixin:'value !== null && value.$$type === "Mixin"',Interface:'value !== null && value.$$type === "Interface"',Theme:'value !== null && value.$$type === "Theme"',Color:"qx.lang.Type.isString(value) && qx.util.ColorUtil.isValidPropertyValue(value)",Decorator:"value !== null && qx.theme.manager.Decoration.getInstance().isValidPropertyValue(value)",Font:"value !== null && qx.theme.manager.Font.getInstance().isDynamic(value)"},__dereference:{Node:!0,Element:!0,Document:!0,Window:!0,Event:!0},$$inherit:"inherit",$$store:{runtime:{},user:{},theme:{},inherit:{},init:{},useinit:{}},$$method:{get:{},getAsync:{},set:{},setImpl:{},setAsync:{},reset:{},init:{},refresh:{},setRuntime:{},resetRuntime:{},setThemed:{},resetThemed:{}},$$allowedKeys:{"@":"object",name:"string",dereference:"boolean",inheritable:"boolean",nullable:"boolean",themeable:"boolean",refine:"boolean",init:null,apply:"string",event:"string",check:null,transform:"string",async:"boolean",deferredInit:"boolean",validate:null,isEqual:null},$$allowedGroupKeys:{"@":"object",name:"string",group:"object",mode:"string",themeable:"boolean"},$$inheritable:{},__executeOptimizedRefresh:function(e){var t=this.__getInheritablesOfClass(e);if(t.length)i=this.__createRefresher(t);else var i=function(){};e.prototype.$$refreshInheritables=i},__getInheritablesOfClass:function(e){for(var t=[];e;){var i=e.$$properties;if(i)for(var n in this.$$inheritable)i[n]&&i[n].inheritable&&t.push(n);e=e.superclass}return t},__createRefresher:function(e){for(var t=this.$$store.inherit,i=this.$$store.init,n=this.$$method.refresh,s=["var parent = this.getLayoutParent();","if (!parent) return;"],r=0,o=e.length;r<o;r++){var a=e[r];s.push("var value = parent.",t[a],";","if (value===undefined) value = parent.",i[a],";","this.",n[a],"(value);")}return new Function(s.join(""))},attachRefreshInheritables:function(e){e.prototype.$$refreshInheritables=function(){qx.core.Property.__executeOptimizedRefresh(e);return this.$$refreshInheritables()}},attachMethods:function(e,t,i){i.group?this.__attachGroupMethods(e,i,t):this.__attachPropertyMethods(e,i,t)},__attachGroupMethods:function(e,t,i){var n=qx.Bootstrap.firstUp(i),s=e.prototype,r=!0===t.themeable;0;var o=[],a=[];if(r)var l=[],u=[];var c="var a=arguments[0] instanceof Array?arguments[0]:arguments;";o.push(c);r&&l.push(c);if("shorthand"==t.mode){var d="a=qx.lang.Array.fromShortHand(qx.lang.Array.fromArguments(a));";o.push(d);r&&l.push(d)}for(var h=0,g=t.group,m=g.length;h<m;h++){if(!this.$$method.set[g[h]]||!this.$$method.reset[g[h]])throw new Error("Cannot create property group '"+i+"' including non-existing property '"+g[h]+"'!");o.push("this.",this.$$method.set[g[h]],"(a[",h,"]);");a.push("this.",this.$$method.reset[g[h]],"();");if(r){if(!this.$$method.setThemed[g[h]])throw new Error("Cannot add the non themable property '"+g[h]+"' to the themable property group '"+i+"'");l.push("this.",this.$$method.setThemed[g[h]],"(a[",h,"]);");u.push("this.",this.$$method.resetThemed[g[h]],"();")}}this.$$method.set[i]="set"+n;s[this.$$method.set[i]]=new Function(o.join(""));this.$$method.reset[i]="reset"+n;s[this.$$method.reset[i]]=new Function(a.join(""));if(r){this.$$method.setThemed[i]="setThemed"+n;s[this.$$method.setThemed[i]]=new Function(l.join(""));this.$$method.resetThemed[i]="resetThemed"+n;s[this.$$method.resetThemed[i]]=new Function(u.join(""))}},__attachPropertyMethods:function(e,t,i){var n=qx.Bootstrap.firstUp(i),s=e.prototype;0;void 0===t.dereference&&"string"==typeof t.check&&(t.dereference=this.__shouldBeDereferenced(t.check));if(e.classname&&!e.classname.match(/^qx.data.model/)){var r=["get"+n,"set"+n,"reset"+n,"setRuntime"+n,"resetRuntime"+n];if(t.async){r.push("get"+n+"Async");r.push("set"+n+"Async")}(t.inheritable||t.apply||t.event||t.deferredInit)&&r.push("init"+n);t.inheritable&&r.push("refresh"+n);if(t.themeable){r.push("getThemed"+n);r.push("setThemed"+n);r.push("resetThemed"+n)}if("Boolean"===t.check){r.push("is"+n);r.push("toggle"+n)}r.forEach(function(t){if(void 0!==e.superclass.prototype[t]){for(var i=null,n=e.superclass;n&&n!=qx.core.Object;n=n.superclass)if(void 0===n.superclass.prototype[t]){i=n;break}i&&qx.log.Logger.warn("Conflicting property method "+e.classname+"."+t+" with "+i.classname)}})}var o=this.$$method,a=this.$$store;a.runtime[i]="$$runtime_"+i;a.user[i]="$$user_"+i;a.theme[i]="$$theme_"+i;a.init[i]="$$init_"+i;a.inherit[i]="$$inherit_"+i;a.useinit[i]="$$useinit_"+i;var l=o.get[i]="get"+n;s[o.get[i]]=new Function("this."+l+".$$install && this."+l+".$$install();return this."+l+".apply(this, arguments);");if(t.async){s.hasOwnProperty(l+"Async")?this.error("Asynchronous property "+e.classname+"."+i+" is replacing "+l+"Async() method in same class"):void 0!==s[l+"Async"]&&this.warn("Asynchronous property "+e.classname+"."+i+" is overriding "+l+"Async() method");o.getAsync[i]=l+"Async";s[o.getAsync[i]]=new Function("this."+l+".$$install && this."+l+".$$install.call(this);return this."+l+"Async.apply(this, arguments);")}s[o.get[i]].$$install=function(){qx.core.Property.__installOptimizedGetter(e,i,"get",arguments);t.async&&qx.core.Property.__installOptimizedGetter(e,i,"getAsync",arguments)};var u=o.set[i]="set"+n;s[u]=new Function("this."+u+".$$install && this."+u+".$$install.call(this);return this."+u+".apply(this, arguments);");o.setAsync[i]="set"+n+"Async";if(t.async){s.hasOwnProperty(u+"Async")?this.error("Asynchronous property "+e.classname+"."+i+" is replacing "+u+"Async() method in same class"):void 0!==s[u+"Async"]&&this.warn("Asynchronous property "+e.classname+"."+i+" is overriding "+u+"Async() method");s[u+"Async"]=new Function("this."+u+".$$install && this."+u+".$$install.call(this);return this."+u+"Async.apply(this, arguments);")}o.setImpl[i]="$$set"+n+"Impl";s[u].$$install=function(){qx.core.Property.__installOptimizedSetter(e,i,"set");qx.core.Property.__installOptimizedSetter(e,i,"setImpl");t.async&&qx.core.Property.__installOptimizedSetter(e,i,"setAsync")};o.reset[i]="reset"+n;s[o.reset[i]]=function(){return qx.core.Property.executeOptimizedSetter(this,e,i,"reset")};s[o.reset[i]].$$install=function(){qx.core.Property.__installOptimizedSetter(e,i,"reset")};if(t.inheritable||t.apply||t.event||t.deferredInit){o.init[i]="init"+n;s[o.init[i]]=function(t){return qx.core.Property.executeOptimizedSetter(this,e,i,"init",arguments)};s[o.init[i]].$$propertyMethod=!0}if(t.inheritable){o.refresh[i]="refresh"+n;s[o.refresh[i]]=function(t){return qx.core.Property.executeOptimizedSetter(this,e,i,"refresh",arguments)};s[o.refresh[i]].$$propertyMethod=!0}o.setRuntime[i]="setRuntime"+n;s[o.setRuntime[i]]=function(t){return qx.core.Property.executeOptimizedSetter(this,e,i,"setRuntime",arguments)};o.resetRuntime[i]="resetRuntime"+n;s[o.resetRuntime[i]]=function(){return qx.core.Property.executeOptimizedSetter(this,e,i,"resetRuntime")};if(t.themeable){o.setThemed[i]="setThemed"+n;s[o.setThemed[i]]=function(t){return qx.core.Property.executeOptimizedSetter(this,e,i,"setThemed",arguments)};o.resetThemed[i]="resetThemed"+n;s[o.resetThemed[i]]=function(){return qx.core.Property.executeOptimizedSetter(this,e,i,"resetThemed")};s[o.setThemed[i]].$$propertyMethod=!0;s[o.resetThemed[i]].$$propertyMethod=!0}if("Boolean"===t.check){s["toggle"+n]=new Function("return this."+o.set[i]+"(!this."+o.get[i]+"())");s["is"+n]=new Function("return this."+o.get[i]+"()");s["toggle"+n].$$propertyMethod=!0;s["is"+n].$$propertyMethod=!0}s[o.get[i]].$$propertyMethod=!0;s[o.set[i]].$$propertyMethod=!0;s[o.reset[i]].$$propertyMethod=!0;s[o.setRuntime[i]].$$propertyMethod=!0;s[o.resetRuntime[i]].$$propertyMethod=!0},__shouldBeDereferenced:function(e){return!!this.__dereference[e]},__errors:{0:"Could not change or apply init value after constructing phase!",1:"Requires exactly one argument!",2:"Undefined value is not allowed!",3:"Does not allow any arguments!",4:"Null value is not allowed!",5:"Is invalid!"},error:function(e,t,i,n,s){var r="Error in property "+i+" of class "+e.constructor.classname+" in method "+this.$$method[n][i]+" with incoming value '"+s+"': ";throw new Error(r+(this.__errors[t]||"Unknown reason: "+t))},__unwrapFunctionFromCode:function(e,t,i,n,s,r){var o=this.__installFunctionFromCode(e.constructor,i,n,s,r);return void 0===r?o.call(e):o.apply(e,r)},__installFunctionFromCode:function(e,t,i,n,s){var r=this.$$method[i][t];0;try{e.prototype[r]=new Function("value",n.join(""))}catch(e){throw new Error("Malformed generated code to unwrap method: "+this.$$method[i][t]+"\n"+n.join(""))}qx.Bootstrap.setDisplayName(e.prototype[r],e.classname+".prototype",r);return e.prototype[r]},executeOptimizedGetter:function(e,t,i,n){var s=this.__compileGetter(t,i,n),r=t.prototype;return this.__unwrapFunctionFromCode(e,r,i,n,s)},__installOptimizedGetter:function(e,t,i){var n=this.__compileGetter(e,t,i);this.__installFunctionFromCode(e,t,i,n)},__compileGetter:function(e,t,i){var n=e.$$properties[t],s=[],r=this.$$store;if("getAsync"==i){s.push("return qx.Promise.resolve(this."+this.$$method.get[t]+"());");return s}s.push("if(this.",r.runtime[t],"!==undefined)");s.push("return this.",r.runtime[t],";");if(n.inheritable){s.push("else if(this.",r.inherit[t],"!==undefined)");s.push("return this.",r.inherit[t],";");s.push("else ")}s.push("if(this.",r.user[t],"!==undefined)");s.push("return this.",r.user[t],";");if(n.themeable){s.push("else if(this.",r.theme[t],"!==undefined)");s.push("return this.",r.theme[t],";")}if(n.deferredInit&&void 0===n.init){s.push("else if(this.",r.init[t],"!==undefined)");s.push("return this.",r.init[t],";")}s.push("else ");if(void 0!==n.init)if(n.inheritable){s.push("var init=this.",r.init[t],";");n.nullable&&s.push("if(init==qx.core.Property.$$inherit)init=null;");s.push("return init;")}else s.push("return this.",r.init[t],";");else n.inheritable||n.nullable?s.push("return null;"):s.push('throw new Error("Property ',t," of an instance of ",e.classname,' is not (yet) ready!");');return s},executeOptimizedSetter:function(e,t,i,n,s){var r=this.__compileSetter(t,i,n),o=t.prototype;return this.__unwrapFunctionFromCode(e,o,i,n,r,s)},__installOptimizedSetter:function(e,t,i){var n=this.__compileSetter(e,t,i);return this.__installFunctionFromCode(e,t,i,n)},__compileSetter:function(e,t,i){var n=e.$$properties[t],s=e.prototype,r=[],o=qx.lang.String.firstUp(t);if("setAsync"==i){r.push("return qx.Promise.resolve(this.$$set"+o+"Impl.apply(this, arguments));");return r}if("set"==i){r.push("this.$$set"+o+"Impl.apply(this, arguments);","return value;");return r}var a="setImpl"===i||"setThemed"===i||"setRuntime"===i||"init"===i&&void 0===n.init,l=n.apply||n.event||n.inheritable,u=this.__getStore(i,t);this.__emitIsEqualFunction(r,e,n,t);this.__emitSetterPreConditions(r,n,t,i,a);(a||l)&&this.__emitOldValue(r,n,t);a&&this.__emitIncomingValueTransformation(r,e,n,t);l&&this.__emitOldNewComparison(r,a,u,i);n.inheritable&&r.push("var inherit=prop.$$inherit;");a&&this.__emitIncomingValueValidation(r,n,e,t,i);l?this.__emitStoreComputedValue(r,n,t,i,a):this.__emitStoreValue(r,t,i,a);n.inheritable?this.__emitStoreInheritedPropertyValue(r,n,t,i):l&&this.__emitNormalizeUndefinedValues(r,n,t,i);l&&this.__emitCallCallback(r,n,t,i,!(!n.inheritable||!s._getChildren));if(a){r.unshift("function set(value){");r.push("}");if(n.check&&"qx.Promise"==n.check)r.push("set.apply(this, arguments);","return value;");else{r.push("var promise;","if (value instanceof qx.Promise) ","promise = value.then(set.bind(this));","else ","promise = set.apply(this, arguments);");"setImpl"==i?r.push("return promise;"):r.push("return value;")}}return r},__getStore:function(e,t){if("setRuntime"===e||"resetRuntime"===e)var i=this.$$store.runtime[t];else i="setThemed"===e||"resetThemed"===e?this.$$store.theme[t]:"init"===e?this.$$store.init[t]:this.$$store.user[t];return i},__emitIsEqualFunction:function(e,t,i,n){e.push("var equ=");if("function"==typeof i.isEqual)e.push("function(a,b){return !!",t.classname,".$$properties.",n,".isEqual.call(this,a,b);};");else if("string"==typeof i.isEqual){void 0!==t.prototype[i.isEqual]?e.push("this.",i.isEqual,";"):e.push("function(a,b){return !!(",i.isEqual,");};")}else{if(void 0!==i.isEqual)throw new Error("Invalid type for 'isEqual' attribute of property '"+n+"' in class '"+t.classname+"'");e.push("function(a,b){return a===b;};")}},__emitSetterPreConditions:function(e,t,i,n,s){e.push("var prop=qx.core.Property;");"init"===n&&e.push('if(this.$$initialized)prop.error(this,0,"',i,'","',n,'",value);');if("refresh"===n);else if(s){e.push('if(arguments.length!==1)prop.error(this,1,"',i,'","',n,'",value);');e.push('if(value===undefined)prop.error(this,2,"',i,'","',n,'",value);')}else e.push('if(arguments.length!==0)prop.error(this,3,"',i,'","',n,'",value);')},__emitIncomingValueTransformation:function(e,t,i,n){i.transform&&e.push("value=this.",i.transform,"(value, old);");if(i.validate)if("string"==typeof i.validate)e.push("this.",i.validate,"(value);");else if(i.validate instanceof Function){e.push(t.classname,".$$properties.",n);e.push(".validate.call(this, value);")}},__emitOldNewComparison:function(e,t,i,n){var s="reset"===n||"resetThemed"===n||"resetRuntime"===n;t?e.push("if(equ.call(this,this.",i,",value))return value;"):s&&e.push("if(this.",i,"===undefined)return;")},__emitIncomingValueValidation:function(e,t,i,n,s){t.nullable||e.push('if(value===null)prop.error(this,4,"',n,'","',s,'",value);');if(void 0!==t.check){e.push("var msg = \"Invalid incoming value for property '"+n+"' of class '"+i.classname+"'\";");t.nullable&&e.push("if(value!==null)");t.inheritable&&e.push("if(value!==inherit)");e.push("if(");if(void 0!==this.__checks[t.check])e.push("!(",this.__checks[t.check],")");else if(qx.Class.isDefined(t.check))e.push('qx.core.Assert.assertInstance(value, qx.Class.getByName("',t.check,'"), msg)');else if(qx.Interface&&qx.Interface.isDefined(t.check))e.push('qx.core.Assert.assertInterface(value, qx.Interface.getByName("',t.check,'"), msg)');else if("function"==typeof t.check){e.push("!",i.classname,".$$properties.",n);e.push(".check.call(this, value)")}else if("string"==typeof t.check)e.push("!(",t.check,")");else{if(!(t.check instanceof Array))throw new Error("Could not add check to property "+n+" of class "+i.classname);e.push("qx.core.Assert.assertInArray(value, ",i.classname,".$$properties.",n,".check, msg)")}e.push(')prop.error(this,5,"',n,'","',s,'",value);')}},__emitStoreValue:function(e,t,i,n){if("setRuntime"===i)e.push("this.",this.$$store.runtime[t],"=value;");else if("resetRuntime"===i){e.push("if(this.",this.$$store.runtime[t],"!==undefined)");e.push("delete this.",this.$$store.runtime[t],";")}else if("setImpl"===i)e.push("this.",this.$$store.user[t],"=value;");else if("reset"===i){e.push("if(this.",this.$$store.user[t],"!==undefined)");e.push("delete this.",this.$$store.user[t],";")}else if("setThemed"===i)e.push("this.",this.$$store.theme[t],"=value;");else if("resetThemed"===i){e.push("if(this.",this.$$store.theme[t],"!==undefined)");e.push("delete this.",this.$$store.theme[t],";")}else"init"===i&&n&&e.push("this.",this.$$store.init[t],"=value;")},__emitStoreComputedValue:function(e,t,i,n,s){e.push("var computed;");e.push("if(this.",this.$$store.runtime[i],"!==undefined){");if("setRuntime"===n)e.push("computed=this.",this.$$store.runtime[i],"=value;");else if("resetRuntime"===n){e.push("delete this.",this.$$store.runtime[i],";");e.push("if(this.",this.$$store.user[i],"!==undefined)");e.push("computed=this.",this.$$store.user[i],";");e.push("else if(this.",this.$$store.theme[i],"!==undefined)");e.push("computed=this.",this.$$store.theme[i],";");e.push("else if(this.",this.$$store.init[i],"!==undefined){");e.push("computed=this.",this.$$store.init[i],";");e.push("this.",this.$$store.useinit[i],"=true;");e.push("}")}else{e.push("computed=this.",this.$$store.runtime[i],";");"setImpl"===n?e.push("this.",this.$$store.user[i],"=value;"):"reset"===n?e.push("delete this.",this.$$store.user[i],";"):"setThemed"===n?e.push("this.",this.$$store.theme[i],"=value;"):"resetThemed"===n?e.push("delete this.",this.$$store.theme[i],";"):"init"===n&&s&&e.push("this.",this.$$store.init[i],"=value;")}e.push("}");e.push("else if(this.",this.$$store.user[i],"!==undefined){");if("setImpl"===n)e.push("computed=this.",this.$$store.user[i],"=value;");else if("reset"===n){e.push("delete this.",this.$$store.user[i],";");e.push("if(this.",this.$$store.runtime[i],"!==undefined)");e.push("computed=this.",this.$$store.runtime[i],";");e.push("if(this.",this.$$store.theme[i],"!==undefined)");e.push("computed=this.",this.$$store.theme[i],";");e.push("else if(this.",this.$$store.init[i],"!==undefined){");e.push("computed=this.",this.$$store.init[i],";");e.push("this.",this.$$store.useinit[i],"=true;");e.push("}")}else{"setRuntime"===n?e.push("computed=this.",this.$$store.runtime[i],"=value;"):(t.inheritable,e.push("computed=this.",this.$$store.user[i],";"));"setThemed"===n?e.push("this.",this.$$store.theme[i],"=value;"):"resetThemed"===n?e.push("delete this.",this.$$store.theme[i],";"):"init"===n&&s&&e.push("this.",this.$$store.init[i],"=value;")}e.push("}");if(t.themeable){e.push("else if(this.",this.$$store.theme[i],"!==undefined){");if("setRuntime"===n)e.push("computed=this.",this.$$store.runtime[i],"=value;");else if("setImpl"===n)e.push("computed=this.",this.$$store.user[i],"=value;");else if("setThemed"===n)e.push("computed=this.",this.$$store.theme[i],"=value;");else if("resetThemed"===n){e.push("delete this.",this.$$store.theme[i],";");e.push("if(this.",this.$$store.init[i],"!==undefined){");e.push("computed=this.",this.$$store.init[i],";");e.push("this.",this.$$store.useinit[i],"=true;");e.push("}")}else if("init"===n){s&&e.push("this.",this.$$store.init[i],"=value;");e.push("computed=this.",this.$$store.theme[i],";")}else"refresh"===n&&e.push("computed=this.",this.$$store.theme[i],";");e.push("}")}e.push("else if(this.",this.$$store.useinit[i],"){");if("init"===n)s?e.push("computed=this.",this.$$store.init[i],"=value;"):e.push("computed=this.",this.$$store.init[i],";");else if("setImpl"===n||"setRuntime"===n||"setThemed"===n||"refresh"===n){e.push("delete this.",this.$$store.useinit[i],";");"setRuntime"===n?e.push("computed=this.",this.$$store.runtime[i],"=value;"):"setImpl"===n?e.push("computed=this.",this.$$store.user[i],"=value;"):"setThemed"===n?e.push("computed=this.",this.$$store.theme[i],"=value;"):"refresh"===n&&e.push("computed=this.",this.$$store.init[i],";")}e.push("}");if("setImpl"===n||"setRuntime"===n||"setThemed"===n||"init"===n){e.push("else{");if("setRuntime"===n)e.push("computed=this.",this.$$store.runtime[i],"=value;");else if("setImpl"===n)e.push("computed=this.",this.$$store.user[i],"=value;");else if("setThemed"===n)e.push("computed=this.",this.$$store.theme[i],"=value;");else if("init"===n){s?e.push("computed=this.",this.$$store.init[i],"=value;"):e.push("computed=this.",this.$$store.init[i],";");e.push("this.",this.$$store.useinit[i],"=true;")}e.push("}")}},__emitOldValue:function(e,t,i){t.inheritable?e.push("var old=this.",this.$$store.inherit[i],";"):e.push("var old;");e.push("if(this.",this.$$store.runtime[i],"!==undefined){");e.push("old=this.",this.$$store.runtime[i],";");e.push("}");if(!t.inheritable){e.push("else if(this.",this.$$store.user[i],"!==undefined){");e.push("old=this.",this.$$store.user[i],";");e.push("}");if(t.themeable){e.push("else if(this.",this.$$store.theme[i],"!==undefined){");e.push("old=this.",this.$$store.theme[i],";");e.push("}")}e.push("else if(this.",this.$$store.useinit[i],"){");e.push("old=this.",this.$$store.init[i],";");e.push("}")}},__emitStoreInheritedPropertyValue:function(e,t,i,n){e.push("if(computed===undefined||computed===inherit){");"refresh"===n?e.push("computed=value;"):e.push("var pa=this.getLayoutParent();if(pa)computed=pa.",this.$$store.inherit[i],";");e.push("if((computed===undefined||computed===inherit)&&");e.push("this.",this.$$store.init[i],"!==undefined&&");e.push("this.",this.$$store.init[i],"!==inherit){");e.push("computed=this.",this.$$store.init[i],";");e.push("this.",this.$$store.useinit[i],"=true;");e.push("}else{");e.push("delete this.",this.$$store.useinit[i],";}");e.push("}");e.push("if(equ.call(this,old,computed))return value;");e.push("if(computed===inherit){");e.push("computed=undefined;delete this.",this.$$store.inherit[i],";");e.push("}");e.push("else if(computed===undefined)");e.push("delete this.",this.$$store.inherit[i],";");e.push("else this.",this.$$store.inherit[i],"=computed;");e.push("var backup=computed;");void 0!==t.init&&"init"!==n?e.push("if(old===undefined)old=this.",this.$$store.init[i],";"):e.push("if(old===undefined)old=null;");e.push("if(computed===undefined||computed==inherit)computed=null;")},__emitNormalizeUndefinedValues:function(e,t,i,n){"setImpl"!==n&&"setRuntime"!==n&&"setThemed"!==n&&e.push("if(computed===undefined)computed=null;");e.push("if(equ.call(this,old,computed))return value;");void 0!==t.init&&"init"!==n?e.push("if(old===undefined)old=this.",this.$$store.init[i],";"):e.push("if(old===undefined)old=null;")},__emitCallCallback:function(e,t,i,n,s){e.push("var promise;");t.apply&&e.push("promise = this.",t.apply,'(computed, old, "',i,'", "',n,'");');if(t.async){e.push("function fire() {","var promiseData = qx.Promise.resolve(computed);","var promise = promiseData;");t.event&&e.push("var reg=qx.event.Registration;","if(reg.hasListener(this, '",t.event,"')) {","promise = reg.fireEventAsync(this, '",t.event,"', qx.event.type.Data, [computed, old]",");","promise = promise.then(function() { return computed; });","}","if(reg.hasListener(this, '",t.event,"Async'))","promise = promise.then(function() {","return reg.fireEventAsync(this, '",t.event,"Async', qx.event.type.Data, [promiseData, old]",");","}, this);");s&&e.push("var a=this._getChildren();","if(a)","for(var i=0,l=a.length;i<l;i++){","if(a[i].",this.$$method.refresh[i],")","a[i].",this.$$method.refresh[i],"(backup);","}");e.push("return promise;","}")}else{e.push("function fire() {","  var tracker={};");if(t.event){e.push("var reg=qx.event.Registration;","if(reg.hasListener(this, '",t.event,"'))","qx.event.Utils.track(tracker, reg.fireEvent(this, '",t.event,"', qx.event.type.Data, [computed, old]","));");e.push("if(reg.hasListener(this, '",t.event,"Async'))","qx.event.Utils.then(tracker, function() {\n  return reg.fireEventAsync(this, '",t.event,"Async', qx.event.type.Data, [qx.Promise.resolve(computed), old]",");\n});")}s&&e.push("var a=this._getChildren();","if(a)","for(var i=0,l=a.length;i<l;i++){","if(a[i].",this.$$method.refresh[i],")","a[i].",this.$$method.refresh[i],"(backup);","}");e.push("if (tracker.promise)\n","  return tracker.promise.then(function() { return computed; });","return computed;","}")}e.push("if(promise instanceof qx.Promise) return promise.then(fire, this); ");e.push("return fire.call(this);")}}});qx.core.Property.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.OOUtil",{statics:{classIsDefined:function(e){return void 0!==qx.Bootstrap.getByName(e)},getPropertyDefinition:function(e,t){for(;e;){if(e.$$properties&&e.$$properties[t])return e.$$properties[t];e=e.superclass}return null},hasProperty:function(e,t){return!!qx.util.OOUtil.getPropertyDefinition(e,t)},getEventType:function(e,t){for(e=e.constructor;e.superclass;){if(e.$$events&&void 0!==e.$$events[t])return e.$$events[t];e=e.superclass}return null},supportsEvent:function(e,t){return!!qx.util.OOUtil.getEventType(e,t)},getByInterface:function(e,t){for(var i,n,s;e;){if(e.$$implements)for(n=0,s=(i=e.$$flatImplements).length;n<s;n++)if(i[n]===t)return e;e=e.superclass}return null},hasInterface:function(e,t){return!!qx.util.OOUtil.getByInterface(e,t)},getMixins:function(e){for(var t=[];e;){e.$$includes&&t.push.apply(t,e.$$flatIncludes);e=e.superclass}return t}}});qx.util.OOUtil.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Interface":{require:!0,defer:"runtime"},"qx.Mixin":{require:!0,defer:"runtime"},"qx.lang.normalize.Array":{require:!0,defer:"runtime"},"qx.lang.normalize.Date":{require:!0,defer:"runtime"},"qx.lang.normalize.Error":{require:!0,defer:"runtime"},"qx.lang.normalize.Function":{require:!0,defer:"runtime"},"qx.lang.normalize.String":{require:!0,defer:"runtime"},"qx.lang.normalize.Object":{require:!0,defer:"runtime"},"qx.lang.normalize.Number":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Property":{require:!0},"qx.core.Environment":{},"qx.util.OOUtil":{require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Class",{statics:{__Property:qx.core.Property,define:function(e,t){t||(t={});t.include&&"Array"!==qx.Bootstrap.getClass(t.include)&&(t.include=[t.include]);t.implement&&"Array"!==qx.Bootstrap.getClass(t.implement)&&(t.implement=[t.implement]);var i=!1;if(!t.hasOwnProperty("extend")&&!t.type){t.type="static";i=!0}try{this.__validateConfig(e,t)}catch(e){i&&(e.message='Assumed static class because no "extend" key was found. '+e.message);throw e}var n=this.__createClass(e,t.type,t.extend,t.statics,t.construct,t.destruct,t.include);["@","@construct","@destruct"].forEach(function(e){this.__attachAnno(n,e,null,t[e])},this);if(t.extend){t.properties&&this.__addProperties(n,t.properties,!0);t.members&&this.__addMembers(n,t.members,!0,!0,!1);t.events&&this.__addEvents(n,t.events,!0);if(t.include)for(var s=0,r=t.include.length;s<r;s++)this.__addMixin(n,t.include[s],!1)}else if(t.hasOwnProperty("extend"))throw new Error('"extend" parameter is null or undefined');if(t.environment)for(var o in t.environment)qx.core.Environment.add(o,t.environment[o]);if(t.implement)for(s=0,r=t.implement.length;s<r;s++)this.__addInterface(n,t.implement[s]);this.__validateAbstractInterfaces(n);if(t.defer){t.defer.self=n;qx.Bootstrap.addPendingDefer(n,function(){n=qx.Class.getByName(n.classname);t.defer(n,n.prototype,{add:function(e,t){var i={};i[e]=t;qx.Class.__addProperties(n,i,!0)}})})}return n},undefine:function(e){delete this.$$registry[e];for(var t=e.split("."),i=[window],n=0;n<t.length;n++)i.push(i[n][t[n]]);for(n=i.length-1;n>=1;n--){var s=i[n],r=i[n-1];if(!qx.Bootstrap.isFunction(s)&&0!==qx.Bootstrap.objectGetLength(s))break;delete r[t[n-1]]}},isDefined:qx.util.OOUtil.classIsDefined,getTotalNumber:function(){return qx.Bootstrap.objectGetLength(this.$$registry)},getByName:qx.Bootstrap.getByName,include:function(e,t){if(!t)throw new Error("The mixin to include into class '"+e.classname+"' is undefined/null!");qx.Mixin.isCompatible(t,e);qx.Class.__addMixin(e,t,!1)},patch:function(e,t){if(!t)throw new Error("The mixin to patch class '"+e.classname+"' is undefined/null!");qx.Mixin.isCompatible(t,e);qx.Class.__addMixin(e,t,!0);return qx.Class.getByName(e.classname)},isClass:function(e){return e&&"Class"===e.$$type&&e.constructor===e},isSubClassOf:function(e,t){return!!e&&(e==t||e.prototype instanceof t)},getPropertyDefinition:qx.util.OOUtil.getPropertyDefinition,getProperties:function(e){for(var t=[];e;){e.$$properties&&t.push.apply(t,Object.keys(e.$$properties));e=e.superclass}return t},getByProperty:function(e,t){for(;e;){if(e.$$properties&&e.$$properties[t])return e;e=e.superclass}return null},hasProperty:qx.util.OOUtil.hasProperty,getEventType:qx.util.OOUtil.getEventType,supportsEvent:qx.util.OOUtil.supportsEvent,hasOwnMixin:function(e,t){return e.$$includes&&-1!==e.$$includes.indexOf(t)},getByMixin:function(e,t){for(var i,n,s;e;){if(e.$$includes)for(n=0,s=(i=e.$$flatIncludes).length;n<s;n++)if(i[n]===t)return e;e=e.superclass}return null},getMixins:qx.util.OOUtil.getMixins,hasMixin:function(e,t){return!!this.getByMixin(e,t)},hasOwnInterface:function(e,t){return e.$$implements&&-1!==e.$$implements.indexOf(t)},getByInterface:qx.util.OOUtil.getByInterface,getInterfaces:function(e){for(var t=[];e;){e.$$implements&&t.push.apply(t,e.$$flatImplements);e=e.superclass}return t},hasInterface:qx.util.OOUtil.hasInterface,implementsInterface:function(e,t){var i=e.constructor;return!!this.hasInterface(i,t)||(!!qx.Interface.objectImplements(e,t)||!!qx.Interface.classImplements(i,t))},getInstance:function(){if(null===this.$$instance)throw new Error("Singleton instance of "+this+" is requested, but not ready yet. This is most likely due to a recursive call in the constructor path.");if(!this.$$instance){this.$$allowconstruct=!0;this.$$instance=null;this.$$instance=new this;delete this.$$allowconstruct}return this.$$instance},getSubclasses:function(e){if(!e)return null;var t={},i=qx.Class.$$registry;for(var n in i)i[n].superclass&&i[n].superclass==e&&(t[n]=i[n]);return t},genericToString:function(){return"[Class "+this.classname+"]"},$$registry:qx.Bootstrap.$$registry,__allowedKeys:{"@":"object","@construct":"object","@destruct":"object",type:"string",extend:"function",implement:"object",include:"object",construct:"function",statics:"object",properties:"object",members:"object",environment:"object",events:"object",defer:"function",destruct:"function"},__staticAllowedKeys:{"@":"object",type:"string",statics:"object",environment:"object",defer:"function"},__validateConfig:function(e,t){if(t.type&&"static"!==t.type&&"abstract"!==t.type&&"singleton"!==t.type)throw new Error('Invalid type "'+t.type+'" definition for class "'+e+'"!');if(t.type&&"static"!==t.type&&!t.extend)throw new Error('Invalid config in class "'+e+'"! Every non-static class has to extend at least the "qx.core.Object" class.');var i="static"===t.type?this.__staticAllowedKeys:this.__allowedKeys;for(var n in t){if(!i[n])throw new Error('The configuration key "'+n+'" in class "'+e+'" is not allowed!');if(null==t[n])throw new Error('Invalid key "'+n+'" in class "'+e+'"! The value is undefined/null!');if(_typeof(t[n])!==i[n])throw new Error('Invalid type of key "'+n+'" in class "'+e+'"! The type of the key must be "'+i[n]+'"!')}for(var s=["statics","properties","members","environment","settings","variants","events"],r=0,o=s.length;r<o;r++){if(void 0!==t[n=s[r]]&&(void 0!==t[n].$$hash||!qx.Bootstrap.isObject(t[n])))throw new Error('Invalid key "'+n+'" in class "'+e+'"! The value needs to be a map!')}if(t.include){if("Array"!==qx.Bootstrap.getClass(t.include))throw new Error('Invalid include definition in class "'+e+'"! Only mixins and arrays of mixins are allowed!');for(r=0,o=(a=t.include).length;r<o;r++)if(null==a[r]||"Mixin"!==a[r].$$type)throw new Error('The include definition in class "'+e+'" contains an invalid mixin at position '+r+": "+a[r])}if(t.implement){if("Array"!==qx.Bootstrap.getClass(t.implement))throw new Error('Invalid implement definition in class "'+e+'"! Only interfaces and arrays of interfaces are allowed!');var a;for(r=0,o=(a=t.implement).length;r<o;r++)if(null==a[r]||"Interface"!==a[r].$$type)throw new Error('The implement definition in class "'+e+'" contains an invalid interface at position '+r+": "+a[r])}if(t.include)try{qx.Mixin.checkCompatibility(t.include)}catch(t){throw new Error('Error in include definition of class "'+e+'"! '+t.message)}if(t.environment)for(var n in t.environment)if(n.substr(0,n.indexOf("."))!=e.substr(0,e.indexOf(".")))throw new Error('Forbidden environment setting "'+n+'" found in "'+e+'". It is forbidden to define a environment setting for an external namespace!');if(t.settings)for(var n in t.settings)if(n.substr(0,n.indexOf("."))!=e.substr(0,e.indexOf(".")))throw new Error('Forbidden setting "'+n+'" found in "'+e+'". It is forbidden to define a default setting for an external namespace!');if(t.variants)for(var n in t.variants)if(n.substr(0,n.indexOf("."))!=e.substr(0,e.indexOf(".")))throw new Error('Forbidden variant "'+n+'" found in "'+e+'". It is forbidden to define a variant for an external namespace!')},__validateAbstractInterfaces:function(e){for(var t=e.superclass;t&&"abstract"===t.$$classtype;){var i=t.$$implements;if(i)for(var n=0;n<i.length;n++)qx.Interface.assert(e,i[n],!0);t=t.superclass}},__attachAnno:function(e,t,i,n){if(void 0!==n){if(void 0===e.$$annotations){e.$$annotations={};e.$$annotations[t]={}}else void 0===e.$$annotations[t]&&(e.$$annotations[t]={});qx.lang.Type.isArray(n)||(n=[n]);i?e.$$annotations[t][i]=n:e.$$annotations[t]=n}},__createClass:function(e,t,i,n,s,r,o){var a;if(i){a={};if(i){s||(s=this.__createDefaultConstructor());a=this.__wrapConstructor(s,e,t);"singleton"===t&&(a.getInstance=this.getInstance);qx.Bootstrap.setDisplayName(s,e,"constructor")}if(n){qx.Bootstrap.setDisplayNames(n,e);for(var l,u=0,c=Object.keys(n),d=c.length;u<d;u++){var h=n[l=c[u]];if("@"===l.charAt(0)){if(void 0===n[l.substring(1)])throw new Error('Annonation for static "'+l.substring(1)+'" of Class "'+a.classname+'" does not exist!');if("_"===l.charAt(1)&&"_"===l.charAt(2))throw new Error('Cannot annotate private static "'+l.substring(1)+'" of Class "'+a.classname)}if("@"!==l.charAt(0)){a[l]=h;this.__attachAnno(a,"statics",l,n["@"+l])}}}}else{a=n||{};qx.Bootstrap.setDisplayNames(a,e)}var g=e?qx.Bootstrap.createNamespace(e,a):"";a.classname=e;if(!function(){return void 0===this}())try{a.name=e}catch(e){}a.basename=g;a.$$type="Class";t&&(a.$$classtype=t);a.hasOwnProperty("toString")||(a.toString=this.genericToString);if(i){qx.Bootstrap.extendClass(a,s,i,e,g);if(r){a.$$destructor=r;qx.Bootstrap.setDisplayName(r,e,"destruct")}}this.$$registry[e]=a;return a},__addEvents:function(e,t,i){if("object"!==_typeof(t)||"Array"===qx.Bootstrap.getClass(t))throw new Error(e.classname+": the events must be defined as map!");for(var n in t)if("string"!=typeof t[n])throw new Error(e.classname+"/"+n+": the event value needs to be a string with the class name of the event object which will be fired.");if(e.$$events&&!0!==i)for(var n in t)if(void 0!==e.$$events[n]&&e.$$events[n]!==t[n])throw new Error(e.classname+"/"+n+": the event value/type cannot be changed from "+e.$$events[n]+" to "+t[n]);if(e.$$events)for(var n in t)e.$$events[n]=t[n];else e.$$events=t},__addProperties:function(e,t,i){if(qx.Bootstrap.isQxCoreObject(t))throw new Error("Invalid 'properties' for "+e.classname);var n;void 0===i&&(i=!1);var s=e.prototype;for(var r in t){n=t[r];this.__validateProperty(e,r,n,i);n.name=r;if(!n.refine){void 0===e.$$properties&&(e.$$properties={});e.$$properties[r]=n}void 0!==n.init&&(e.prototype["$$init_"+r]=n.init);if(void 0!==n.event){var o={};o[n.event]="qx.event.type.Data";n.async&&(o[n.event+"Async"]="qx.event.type.Data");this.__addEvents(e,o,i)}if(n.inheritable){this.__Property.$$inheritable[r]=!0;s.$$refreshInheritables||this.__Property.attachRefreshInheritables(e)}n.refine||this.__Property.attachMethods(e,r,n);this.__attachAnno(e,"properties",r,n["@"])}},__validateProperty:function(e,t,i,n){var s=this.hasProperty(e,t);if(s){var r=this.getPropertyDefinition(e,t);if(i.refine&&void 0===r.init)throw new Error("Could not refine an init value if there was previously no init value defined. Property '"+t+"' of class '"+e.classname+"'.")}if(!s&&i.refine)throw new Error("Could not refine non-existent property: '"+t+"' of class: '"+e.classname+"'!");if(s&&!n)throw new Error("Class "+e.classname+" already has a property: "+t+"!");if(s&&n){if(!i.refine)throw new Error('Could not refine property "'+t+'" without a "refine" flag in the property definition! This class: '+e.classname+", original class: "+this.getByProperty(e,t).classname+".");for(var o in i)if("init"!==o&&"refine"!==o&&"@"!==o)throw new Error("Class "+e.classname+" could not refine property: "+t+"! Key: "+o+" could not be refined!")}var a=i.group?this.__Property.$$allowedGroupKeys:this.__Property.$$allowedKeys;for(var o in i){if(void 0===a[o])throw new Error('The configuration key "'+o+'" of property "'+t+'" in class "'+e.classname+'" is not allowed!');if(void 0===i[o])throw new Error('Invalid key "'+o+'" of property "'+t+'" in class "'+e.classname+'"! The value is undefined: '+i[o]);if(null!==a[o]&&_typeof(i[o])!==a[o])throw new Error('Invalid type of key "'+o+'" of property "'+t+'" in class "'+e.classname+'"! The type of the key must be "'+a[o]+'"!')}if(null!=i.transform&&"string"!=typeof i.transform)throw new Error('Invalid transform definition of property "'+t+'" in class "'+e.classname+'"! Needs to be a String.');if(null!=i.check&&!qx.Bootstrap.isString(i.check)&&!qx.Bootstrap.isArray(i.check)&&!qx.Bootstrap.isFunction(i.check))throw new Error('Invalid check definition of property "'+t+'" in class "'+e.classname+'"! Needs to be a String, Array or Function.')},__addMembers:function(e,t,i,n,s){var r,o,a=e.prototype;qx.Bootstrap.setDisplayNames(t,e.classname+".prototype");for(var l=0,u=Object.keys(t),c=u.length;l<c;l++){o=t[r=u[l]];if("@"===r.charAt(0)){if(void 0===t[d=r.substring(1)]&&void 0===a[d])throw new Error('Annonation for "'+d+'" of Class "'+e.classname+'" does not exist!');if("_"===r.charAt(1)&&"_"===r.charAt(2))throw new Error('Cannot annotate private member "'+r.substring(1)+'" of Class "'+e.classname)}else{if(void 0!==a[r]&&"_"===r.charAt(0)&&"_"===r.charAt(1))throw new Error('Overwriting private member "'+r+'" of Class "'+e.classname+'" is not allowed!');if(!0!==i&&a.hasOwnProperty(r))throw new Error('Overwriting member "'+r+'" of Class "'+e.classname+'" is not allowed!')}if("@"!==r.charAt(0)){void 0!=a[r]&&a[r].$$install&&a[r].$$install();if(!1!==n&&o instanceof Function&&null==o.$$type)if(1==s)o=this.__mixinMemberWrapper(o,a[r]);else{a[r]&&(o.base=a[r]);o.self=e}a[r]=o;this.__attachAnno(e,"members",r,t["@"+r])}else{var d;void 0===t[d=r.substring(1)]&&this.__attachAnno(e,"members",d,t[r])}}},__mixinMemberWrapper:function(e,t){return t?function(){var i=e.base;e.base=t;var n=e.apply(this,arguments);e.base=i;return n}:e},__addInterface:function(e,t){if(!e||!t)throw new Error("Incomplete parameters!");if(this.hasOwnInterface(e,t))throw new Error('Interface "'+t.name+'" is already used by Class "'+e.classname+"!");"abstract"!==e.$$classtype&&qx.Interface.assert(e,t,!0);var i=qx.Interface.flatten([t]);if(e.$$implements){e.$$implements.push(t);e.$$flatImplements.push.apply(e.$$flatImplements,i)}else{e.$$implements=[t];e.$$flatImplements=i}},__addMixin:function(e,t,i){if(!e||!t)throw new Error("Incomplete parameters!");if(!this.hasMixin(e,t)){for(var n,s=qx.Mixin.flatten([t]),r=0,o=s.length;r<o;r++){(n=s[r]).$$events&&this.__addEvents(e,n.$$events,i);n.$$properties&&this.__addProperties(e,n.$$properties,i);n.$$members&&this.__addMembers(e,n.$$members,i,i,i)}if(e.$$includes){e.$$includes.push(t);e.$$flatIncludes.push.apply(e.$$flatIncludes,s)}else{e.$$includes=[t];e.$$flatIncludes=s}}},__createDefaultConstructor:function(){return function e(){e.base.apply(this,arguments)}},__wrapConstructor:function(e,t,i){var n=function(){var e=n;if(!(this instanceof e))throw new Error("Please initialize '"+t+"' objects using the new keyword!");if("abstract"===i){if(this.classname===t)throw new Error("The class ',"+t+"' is abstract! It is not possible to instantiate it.")}else if("singleton"===i&&!e.$$allowconstruct)throw new Error("The class '"+t+"' is a singleton! It is not possible to instantiate it directly. Use the static getInstance() method instead.");var s=e.$$original.apply(this,arguments);if(e.$$includes)for(var r=e.$$flatIncludes,o=0,a=r.length;o<a;o++)r[o].$$constructor&&r[o].$$constructor.apply(this,arguments);this.classname===t&&(this.$$initialized=!0);return s};n.$$original=e;e.wrapper=n;return n}},defer:function(){}});qx.Class.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.data.SingleValueBinding":{},"qx.Promise":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.data.MBinding",{members:{bind:function(e,t,i,n){return qx.data.SingleValueBinding.bind(this,e,t,i,n)},bindAsync:function(e,t,i,n){var s=qx.data.SingleValueBinding.bind(this,e,t,i,n);return s.initialPromise?s.initialPromise.then(function(){s.initialPromise=null;return s}):qx.Promise.resolve(s)},removeBinding:function(e){qx.data.SingleValueBinding.removeBindingFromObject(this,e)},removeRelatedBindings:function(e){qx.data.SingleValueBinding.removeRelatedBindings(this,e)},removeAllBindings:function(){qx.data.SingleValueBinding.removeAllBindingsForObject(this)},getBindings:function(){return qx.data.SingleValueBinding.getAllBindingsForObject(this)}},destruct:function(){this.$$hash=this.$$discardedHashCode;this.removeAllBindings();delete this.$$hash}});qx.data.MBinding.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.String":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.lang.Function":{},"qx.core.ObjectRegistry":{},"qx.lang.Type":{}},environment:{provided:[],required:{"ecmascript.error.stacktrace":{className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.dev.StackTrace",{statics:{FILENAME_TO_CLASSNAME:null,FORMAT_STACKTRACE:null,getStackTrace:function(){var e=[];try{throw new Error}catch(m){if(qx.dev.StackTrace.hasEnvironmentCheck&&qx.core.Environment.get("ecmascript.error.stacktrace")){var t=qx.dev.StackTrace.getStackTraceFromError(m),i=qx.dev.StackTrace.getStackTraceFromCaller(arguments);qx.lang.Array.removeAt(t,0);e=i.length>t.length?i:t;for(var n=0;n<Math.min(i.length,t.length);n++){var s=i[n];if(!(s.indexOf("anonymous")>=0)){var r=null,o=s.split("."),a=/(.*?)\(/.exec(o[o.length-1]);if(a&&2==a.length){r=a[1];o.pop()}"prototype"==o[o.length-1]&&o.pop();var l,u=o.join("."),c=t[n].split(":"),d=c[0],h=c[1];c[2]&&(l=c[2]);var g=qx.Class&&qx.Class.getByName(d)?d:u;r&&(g+="."+r);g+=":"+h;l&&(g+=":"+l);e[n]=g}}}else e=this.getStackTraceFromCaller(arguments)}return e},getStackTraceFromCaller:function(e){var t=[],i=null;if(!function(){return void 0===this}())try{i=qx.lang.Function.getCaller(e)}catch(e){}for(var n={};i;){var s=qx.lang.Function.getName(i);t.push(s);try{i=i.caller}catch(e){break}if(!i)break;var r=qx.core.ObjectRegistry.toHashCode(i);if(n[r]){t.push("...");break}n[r]=i}return t},getStackTraceFromError:function(e){var t,i,n,s,r,o,a,l=[],u=qx.dev.StackTrace.hasEnvironmentCheck?qx.core.Environment.get("ecmascript.error.stacktrace"):null;if("stack"===u){if(!e.stack)return l;t=/@(.+):(\d+)$/gm;for(;null!=(i=t.exec(e.stack));){a=i[1];s=i[2];n=this.__fileNameToClassName(a);l.push(n+":"+s)}if(l.length>0)return this.__formatStackTrace(l);t=/at (.*)/gm;for(var c=/\((.*?)(:[\d:]+)\)/,d=/(.*?)(:[\d:]+$)/;null!=(i=t.exec(e.stack));){var h=c.exec(i[1]);h||(h=d.exec(i[1]));if(h){n=this.__fileNameToClassName(h[1]);l.push(n+h[2])}else l.push(i[1])}}else if("stacktrace"===u){var g=e.stacktrace;if(!g)return l;g.indexOf("Error created at")>=0&&(g=g.split("Error created at")[0]);t=/line\ (\d+?),\ column\ (\d+?)\ in\ (?:.*?)\ in\ (.*?):[^\/]/gm;for(;null!=(i=t.exec(g));){s=i[1];r=i[2];a=i[3];n=this.__fileNameToClassName(a);l.push(n+":"+s+":"+r)}if(l.length>0)return this.__formatStackTrace(l);t=/Line\ (\d+?)\ of\ linked\ script\ (.*?)$/gm;for(;null!=(i=t.exec(g));){s=i[1];a=i[2];n=this.__fileNameToClassName(a);l.push(n+":"+s)}}else if(e.message&&e.message.indexOf("Backtrace:")>=0)for(var m=e.message.split("Backtrace:")[1].trim().split("\n"),f=0;f<m.length;f++){var p=m[f].match(/\s*Line ([0-9]+) of.* (\S.*)/);if(p&&p.length>=2){s=p[1];o=this.__fileNameToClassName(p[2]);l.push(o+":"+s)}}else e.sourceURL&&e.line&&l.push(this.__fileNameToClassName(e.sourceURL)+":"+e.line);return this.__formatStackTrace(l)},__fileNameToClassName:function(e){if("function"==typeof qx.dev.StackTrace.FILENAME_TO_CLASSNAME){var t=qx.dev.StackTrace.FILENAME_TO_CLASSNAME(e);if(!qx.lang.Type.isString(t))throw new Error("FILENAME_TO_CLASSNAME must return a string!");return t}return qx.dev.StackTrace.__fileNameToClassNameDefault(e)},__fileNameToClassNameDefault:function(e){var t=e.indexOf("/source/class/"),i=e.indexOf("?");i>=0&&(e=e.substring(0,i));return-1==t?e:e.substring(t+"/source/class/".length).replace(/\//g,".").replace(/\.js$/,"")},__formatStackTrace:function(e){if("function"==typeof qx.dev.StackTrace.FORMAT_STACKTRACE){e=qx.dev.StackTrace.FORMAT_STACKTRACE(e);if(!qx.lang.Type.isArray(e))throw new Error("FORMAT_STACKTRACE must return an array of strings!")}return e}},defer:function(e){e.hasEnvironmentCheck=qx.bom&&qx.bom.client&&qx.bom.client.EcmaScript&&qx.bom.client.EcmaScript.getStackTrace}});qx.dev.StackTrace.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.RingBuffer",{extend:Object,construct:function(e){this.setMaxEntries(e||50)},members:{__nextIndexToStoreTo:0,__entriesStored:0,__isMarkActive:!1,__entriesStoredSinceMark:0,__entries:null,__maxEntries:null,setMaxEntries:function(e){this.__maxEntries=e;this.clear()},getMaxEntries:function(){return this.__maxEntries},addEntry:function(e){this.__entries[this.__nextIndexToStoreTo]=e;this.__nextIndexToStoreTo=this.__addToIndex(this.__nextIndexToStoreTo,1);var t=this.getMaxEntries();this.__entriesStored<t&&this.__entriesStored++;this.__isMarkActive&&this.__entriesStoredSinceMark<t&&this.__entriesStoredSinceMark++},getNumEntriesStored:function(){return this.__entriesStored},mark:function(){this.__isMarkActive=!0;this.__entriesStoredSinceMark=0},clearMark:function(){this.__isMarkActive=!1},getAllEntries:function(){return this.getEntries(this.getMaxEntries(),!1)},getEntries:function(e,t){e>this.__entriesStored&&(e=this.__entriesStored);t&&this.__isMarkActive&&e>this.__entriesStoredSinceMark&&(e=this.__entriesStoredSinceMark);if(e>0){var i,n=this.__addToIndex(this.__nextIndexToStoreTo,-1),s=this.__addToIndex(n,1-e);i=s<=n?this.__entries.slice(s,n+1):this.__entries.slice(s,this.__entriesStored).concat(this.__entries.slice(0,n+1))}else i=[];return i},clear:function(){this.__entries=new Array(this.getMaxEntries());this.__entriesStored=0;this.__entriesStoredSinceMark=0;this.__nextIndexToStoreTo=0},__addToIndex:function(e,t){var i=this.getMaxEntries(),n=(e+t)%i;n<0&&(n+=i);return n}}});qx.util.RingBuffer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.RingBuffer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.log.appender.RingBuffer",{extend:qx.util.RingBuffer,construct:function(e){this.setMaxMessages(e||50)},members:{setMaxMessages:function(e){this.setMaxEntries(e)},getMaxMessages:function(){return this.getMaxEntries()},process:function(e){this.addEntry(e)},getAllLogEvents:function(){return this.getAllEntries()},retrieveLogEvents:function(e,t){return this.getEntries(e,t)},clearHistory:function(){this.clear()}}});qx.log.appender.RingBuffer.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.dev.StackTrace":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",defer:"runtime",require:!0},"qx.lang.Array":{},"qx.lang.Function":{},"qx.log.appender.RingBuffer":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.log.Logger",{statics:{__level:"debug",setLevel:function(e){this.__level=e},getLevel:function(){return this.__level},setTreshold:function(e){this.__buffer.setMaxMessages(e)},getTreshold:function(){return this.__buffer.getMaxMessages()},__appenders:[],__appendersByName:{},__filters:[],__id:0,register:function(e){if(!e.$$id){var t=this.__id++,i=e.appenderName||e.classname;this.__appenders[t]=e;this.__appendersByName[i]=e;e.$$id=t;for(var n=this.__buffer.getAllLogEvents(),s=0,r=n.length;s<r;s++){var o=n[s];this.__getAppenders(o.loggerName,o.level)[i]&&e.process(o)}}},unregister:function(e){var t=e.$$id;if(null!=t){var i=e.appenderName||e.classname;delete this.__appendersByName[i];delete this.__appenders[t];delete e.$$id}},addFilter:function(e,t,i){"string"==typeof e&&(e=new RegExp(e));this.__filters.push({loggerMatch:e,level:i||this.__level,appenderName:t})},resetFilters:function(){this.__filters=[]},debug:function(e,t){qx.log.Logger.__log("debug",arguments)},info:function(e,t){qx.log.Logger.__log("info",arguments)},warn:function(e,t){qx.log.Logger.__log("warn",arguments)},error:function(e,t){qx.log.Logger.__log("error",arguments)},trace:function(e,t){if(qx.log.Logger.isLoggerEnabled("trace",e)){var i=qx.dev.StackTrace.getStackTrace(),n=qx.lang.Array.fromArguments(arguments);n.push(i.join("\n"));qx.log.Logger.__log("trace",n)}},deprecatedMethodWarning:function(e,t){var i=qx.lang.Function.getName(e);this.warn("The method '"+i+"' is deprecated: "+(t||"Please consult the API documentation of this method for alternatives."));this.trace()},deprecatedClassWarning:function(e,t){var i=e.classname||"unknown";this.warn("The class '"+i+"' is deprecated: "+(t||"Please consult the API documentation of this class for alternatives."));this.trace()},deprecatedEventWarning:function(e,t,i){var n=e.self?e.self.classname:"unknown";this.warn("The event '"+(t||"unknown")+"' from class '"+n+"' is deprecated: "+(i||"Please consult the API documentation of this class for alternatives."));this.trace()},deprecatedMixinWarning:function(e,t){var i=e?e.name:"unknown";this.warn("The mixin '"+i+"' is deprecated: "+(t||"Please consult the API documentation of this class for alternatives."));this.trace()},deprecatedConstantWarning:function(e,t,i){if(e.__defineGetter__){var n=this,s=e[t];e.__defineGetter__(t,function(){n.warn("The constant '"+t+"' is deprecated: "+(i||"Please consult the API documentation for alternatives."));n.trace();return s})}},deprecateMethodOverriding:function(e,t,i,n){for(var s=e.constructor;s.classname!==t.classname;){if(s.prototype.hasOwnProperty(i)){this.warn("The method '"+qx.lang.Function.getName(e[i])+"' overrides a deprecated method: "+(n||"Please consult the API documentation for alternatives."));this.trace();break}s=s.superclass}},clear:function(){this.__buffer.clearHistory()},__buffer:new qx.log.appender.RingBuffer(50),__levels:{trace:0,debug:1,info:2,warn:3,error:4},__appendersCache:{},__getLoggerName:function(e){if(e){if(e.classname)return e.classname;if("string"==typeof e)return e}return"[default]"},isLoggerEnabled:function(e,t){var i=this.__getLoggerName(t),n=this.__getAppenders(i,e);return!!Object.keys(n).length},__log:function(e,t){var i=t.length<2?null:t[0],n=this.__getLoggerName(i),s=this.__getAppenders(n,e);if(Object.keys(s).length){for(var r=[],o=i?1:0,a=t.length;o<a;o++)r.push(this.__serialize(t[o],!0));var l=new Date,u={time:l,offset:l-qx.Bootstrap.LOADSTART,level:e,loggerName:n,items:r,win:window};if(i){qx.Bootstrap.isQxCoreObject(i)&&(u.object=i.toHashCode());i.$$type?u.clazz=i:i.constructor&&(u.clazz=i.constructor)}this.__buffer.process(u);for(var c in s)s[c].process(u)}},__getAppenders:function(e,t){var i=this.__levels;if(!this.__filters.length)return i[t]<i[this.__level]?[]:this.__appendersByName;var n=e+"|"+t;if(void 0!==(s=this.__appendersCache[n]))return s;for(var s={},r=0;r<this.__filters.length;r++){var o=this.__filters[r];if(!(i[t]<i[o.level])&&((!o.appenderName||!s[o.appenderName])&&(!o.loggerMatch||o.loggerMatch.test(e)))){if(!o.appenderName)return this.__appendersCache[n]=this.__appendersByName;s[o.appenderName]=this.__appendersByName[o.appenderName]}}return this.__appendersCache[n]=s},__detect:function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(e.$$type)return"class";var t=_typeof(e);return"function"===t||"string"==t||"number"===t||"boolean"===t?t:"object"===t?e.nodeType?"node":e instanceof Error||e.name&&e.message?"error":e.classname?"instance":e instanceof Array?"array":e instanceof Date?"date":"map":e.toString?"stringify":"unknown"},__serialize:function(e,t){var i=this.__detect(e),n="unknown",s=[];switch(i){case"null":case"undefined":n=i;break;case"string":case"number":case"boolean":case"date":n=e;break;case"node":if(9===e.nodeType)n="document";else if(3===e.nodeType)n="text["+e.nodeValue+"]";else if(1===e.nodeType){n=e.nodeName.toLowerCase();e.id&&(n+="#"+e.id)}else n="node";break;case"function":n=qx.lang.Function.getName(e)||i;break;case"instance":case"class":case"stringify":n=e.toString();break;case"error":s=qx.dev.StackTrace.getStackTraceFromError(e);n=(e.basename?e.basename+": ":"")+e.toString();break;case"array":if(t){n=[];for(var r=0,o=e.length;r<o;r++){if(n.length>20){n.push("...(+"+(o-r)+")");break}n.push(this.__serialize(e[r],!1))}}else n="[...("+e.length+")]";break;case"map":if(t){var a,l=[];for(var u in e)l.push(u);l.sort();n=[];for(r=0,o=l.length;r<o;r++){if(n.length>20){n.push("...(+"+(o-r)+")");break}u=l[r];(a=this.__serialize(e[u],!1)).key=u;n.push(a)}}else{var c=0;for(var u in e)c++;n="{...("+c+")}"}}return{type:i,text:n,trace:s}}},defer:function(e){for(var t=qx.Bootstrap.$$logs,i=0;i<t.length;i++)e.__log(t[i][0],t[i][1]);qx.Bootstrap.debug=e.debug;qx.Bootstrap.info=e.info;qx.Bootstrap.warn=e.warn;qx.Bootstrap.error=e.error;qx.Bootstrap.trace=e.trace}});qx.log.Logger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.log.Logger":{require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.core.MLogging",{members:{__Logger:qx.log.Logger,debug:function(e){this.__logMessage("debug",arguments)},info:function(e){this.__logMessage("info",arguments)},warn:function(e){this.__logMessage("warn",arguments)},error:function(e){this.__logMessage("error",arguments)},trace:function(e){this.__logMessage("trace",arguments)},__logMessage:function(e,t){var i=qx.lang.Array.fromArguments(t);i.unshift(this);this.__Logger[e].apply(this.__Logger,i)}}});qx.core.MLogging.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.log.Logger":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.client.CssTransition":{},"qx.bom.Style":{},"qx.lang.String":{}},environment:{provided:[],required:{"event.passive":{},"engine.name":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"},"css.transition":{className:"qx.bom.client.CssTransition"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Event",{statics:{addNativeListener:function(e,t,i,n,s){e.addEventListener?void 0!==s&&qx.core.Environment.get("event.passive")?e.addEventListener(t,i,{capture:!!n,passive:!!s}):e.addEventListener(t,i,!!n):e.attachEvent?e.attachEvent("on"+t,i):void 0!==e["on"+t]?e["on"+t]=i:qx.log.Logger.warn("No method available to add native listener to "+e)},removeNativeListener:function(e,t,i,n){if(e.removeEventListener)e.removeEventListener(t,i,!!n);else if(e.detachEvent)try{e.detachEvent("on"+t,i)}catch(e){if(-2146828218!==e.number)throw e}else void 0!==e["on"+t]?e["on"+t]=null:qx.log.Logger.warn("No method available to remove native listener from "+e)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){if(void 0!==e.relatedTarget){if("gecko"==qx.core.Environment.get("engine.name"))try{e.relatedTarget&&e.relatedTarget.nodeType}catch(e){return null}return e.relatedTarget}return void 0===e.fromElement||"mouseover"!==e.type&&"pointerover"!==e.type?void 0!==e.toElement?e.toElement:null:e.fromElement},preventDefault:function(e){if(e.preventDefault)e.preventDefault();else{try{e.keyCode=0}catch(e){}e.returnValue=!1}},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},fire:function(e,t){if(document.createEvent){(i=document.createEvent("HTMLEvents")).initEvent(t,!0,!0);return!e.dispatchEvent(i)}var i=document.createEventObject();return e.fireEvent("on"+t,i)},supportsEvent:function(e,t){var i=qx.core.Environment.get("browser.name"),n=qx.core.Environment.get("engine.name");if(-1!=t.toLowerCase().indexOf("transitionend")&&"mshtml"===n&&qx.core.Environment.get("browser.documentmode")>9)return!0;if("webkit"===n&&["mobile safari","safari"].indexOf(i)>-1){if(["loadeddata","progress","timeupdate","seeked","canplay","play","playing","pause","loadedmetadata","ended","volumechange"].indexOf(t.toLowerCase())>-1)return!0}if(e!=window&&-1!=t.toLowerCase().indexOf("transitionend")){var s=qx.core.Environment.get("css.transition");return s&&s["end-event"]==t}var r="on"+t.toLowerCase(),o=r in e;if(!o){o="function"==typeof e[r];if(!o&&e.setAttribute){e.setAttribute(r,"return;");o="function"==typeof e[r];e.removeAttribute(r)}}return o},getEventName:function(e,t){for(var i=[""].concat(qx.bom.Style.VENDOR_PREFIXES),n=0,s=i.length;n<s;n++){var r=i[n].toLowerCase();if(qx.bom.Event.supportsEvent(e,r+t))return r?r+qx.lang.String.firstUp(t):t}return null}}});qx.bom.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.core.IDisposable",{members:{dispose:function(){}}});qx.core.IDisposable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Event":{require:!0,construct:!0},"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.IDisposable":{require:!0},"qx.core.ObjectRegistry":{construct:!0},"qx.event.GlobalError":{construct:!0},"qx.util.DeferredCall":{construct:!0},"qx.log.Logger":{},"qx.core.Assert":{},"qx.event.IEventHandler":{},"qx.lang.Array":{},"qx.event.type.Event":{},"qx.event.Pool":{},"qx.event.Utils":{},"qx.util.DisposeUtil":{}},environment:{provided:[],required:{"qx.globalErrorHandling":{construct:!0,className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Manager",{extend:Object,implement:[qx.core.IDisposable],construct:function(e,t){this.__window=e;this.__windowId=qx.core.ObjectRegistry.toHashCode(e);this.__registration=t;if(e.qx!==qx){var i=this,n=function t(){qx.bom.Event.removeNativeListener(e,"unload",t);i.dispose()};qx.core.Environment.get("qx.globalErrorHandling")?qx.bom.Event.addNativeListener(e,"unload",qx.event.GlobalError.observeMethod(n)):qx.bom.Event.addNativeListener(e,"unload",n)}this.__listeners={};this.__handlers={};this.__dispatchers={};this.__handlerCache={};this.__clearBlackList=new qx.util.DeferredCall(function(){this.__blacklist=null},this);this.__clearBlackList.$$blackListCleaner=!0},statics:{__lastUnique:0,getNextUniqueId:function(){return this.__lastUnique+++""},__globalEventMonitor:null,getGlobalEventMonitor:function(){return this.__globalEventMonitor},setGlobalEventMonitor:function(e){this.__globalEventMonitor=e}},members:{__registration:null,__listeners:null,__dispatchers:null,__disposeWrapper:null,__handlers:null,__handlerCache:null,__window:null,__windowId:null,__blacklist:null,__clearBlackList:null,getWindow:function(){return this.__window},getWindowId:function(){return this.__windowId},getHandler:function(e){var t=this.__handlers[e.classname];return t||(this.__handlers[e.classname]=new e(this))},getDispatcher:function(e){var t=this.__dispatchers[e.classname];return t||(this.__dispatchers[e.classname]=new e(this,this.__registration))},getListeners:function(e,t,i){var n=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),s=this.__listeners[n];if(!s)return null;var r=s[t+(i?"|capture":"|bubble")];return r?r.concat():null},getAllListeners:function(){return this.__listeners},serializeListeners:function(e){var t=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),i=this.__listeners[t],n=[];if(i){var s,r,o,a,l;for(var u in i){s=u.indexOf("|");r=u.substring(0,s);o="c"==u.charAt(s+1);for(var c=0,d=(a=i[u]).length;c<d;c++){l=a[c];n.push({self:l.context,handler:l.handler,type:r,capture:o})}}}return n},toggleAttachedEvents:function(e,t){var i=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),n=this.__listeners[i];if(n){var s,r,o;for(var a in n){s=a.indexOf("|");r=a.substring(0,s);o=99===a.charCodeAt(s+1);n[a];t?this.__registerAtHandler(e,r,o):this.__unregisterAtHandler(e,r,o)}}},hasListener:function(e,t,i){if(null==e){qx.log.Logger.trace(this);throw new Error("Invalid object: "+e)}var n=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),s=this.__listeners[n];if(!s)return!1;var r=s[t+(i?"|capture":"|bubble")];return!!(r&&r.length>0)},importListeners:function(e,t){if(null==e){qx.log.Logger.trace(this);throw new Error("Invalid object: "+e)}var i=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),n=this.__listeners[i]={},s=qx.event.Manager;for(var r in t){var o=t[r],a=o.type+(o.capture?"|capture":"|bubble"),l=n[a];if(!l){l=n[a]=[];this.__registerAtHandler(e,o.type,o.capture)}l.push({handler:o.listener,context:o.self,unique:o.unique||s.__lastUnique+++""})}},addListener:function(e,t,i,n,s){var r="Failed to add event listener for type '"+t+"' to the target '"+e.classname+"': ";qx.core.Assert.assertObject(e,r+"Invalid Target.");qx.core.Assert.assertString(t,r+"Invalid event type.");qx.core.Assert.assertFunctionOrAsyncFunction(i,r+"Invalid callback function");void 0!==s&&qx.core.Assert.assertBoolean(s,"Invalid capture flag.");var o=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),a=this.__listeners[o];a||(a=this.__listeners[o]={});var l=t+(s?"|capture":"|bubble"),u=a[l];u||(u=a[l]=[]);0===u.length&&this.__registerAtHandler(e,t,s);var c=qx.event.Manager.__lastUnique+++"",d={handler:i,context:n,unique:c};u.push(d);return l+"|"+c},findHandler:function(e,t){var i,n=!1,s=!1,r=!1,o=!1;if(1===e.nodeType){n=!0;i="DOM_"+e.tagName.toLowerCase()+"_"+t}else if(9===e.nodeType){o=!0;i="DOCUMENT_"+t}else if(e==this.__window){s=!0;i="WIN_"+t}else if(e.classname){r=!0;i="QX_"+e.classname+"_"+t}else i="UNKNOWN_"+e+"_"+t;var a=this.__handlerCache;if(a[i])return a[i];for(var l,u,c,d,h=this.__registration.getHandlers(),g=qx.event.IEventHandler,m=0,f=h.length;m<f;m++)if(!(c=(l=h[m]).SUPPORTED_TYPES)||c[t]){if(d=l.TARGET_CHECK){var p=!1;n&&0!=(d&g.TARGET_DOMNODE)?p=!0:s&&0!=(d&g.TARGET_WINDOW)?p=!0:r&&0!=(d&g.TARGET_OBJECT)?p=!0:o&&0!=(d&g.TARGET_DOCUMENT)&&(p=!0);if(!p)continue}u=this.getHandler(h[m]);if(l.IGNORE_CAN_HANDLE||u.canHandleEvent(e,t)){a[i]=u;return u}}return null},__registerAtHandler:function(e,t,i){var n=this.findHandler(e,t);n?n.registerEvent(e,t,i):qx.log.Logger.warn(this,"There is no event handler for the event '"+t+"' on target '"+e+"'!")},removeListener:function(e,t,i,n,s){var r="Failed to remove event listener for type '"+t+"' from the target '"+e.classname+"': ";qx.core.Assert.assertObject(e,r+"Invalid Target.");qx.core.Assert.assertString(t,r+"Invalid event type.");qx.core.Assert.assertFunction(i,r+"Invalid callback function");void 0!==n&&qx.core.Assert.assertObject(n,"Invalid context for callback.");void 0!==s&&qx.core.Assert.assertBoolean(s,"Invalid capture flag.");var o=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),a=this.__listeners[o];if(!a)return!1;var l,u=a[t+(s?"|capture":"|bubble")];if(!u)return!1;for(var c=0,d=u.length;c<d;c++)if((l=u[c]).handler===i&&l.context===n){qx.lang.Array.removeAt(u,c);this.__addToBlacklist(l.unique);0==u.length&&this.__unregisterAtHandler(e,t,s);return!0}return!1},removeListenerById:function(e,t){var i="Failed to remove event listener for id '"+t+"' from the target '"+e.classname+"': ";qx.core.Assert.assertObject(e,i+"Invalid Target.");qx.core.Assert.assertString(t,i+"Invalid id type.");var n=t.split("|"),s=n[0],r=99==n[1].charCodeAt(0),o=n[2],a=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),l=this.__listeners[a];if(!l)return!1;var u,c=l[s+(r?"|capture":"|bubble")];if(!c)return!1;for(var d=0,h=c.length;d<h;d++)if((u=c[d]).unique===o){qx.lang.Array.removeAt(c,d);this.__addToBlacklist(u.unique);0==c.length&&this.__unregisterAtHandler(e,s,r);return!0}return!1},removeAllListeners:function(e){var t,i,n,s=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),r=this.__listeners[s];if(!r)return!1;for(var o in r)if(r[o].length>0){t=o.split("|");r[o].forEach(function(e){this.__addToBlacklist(e.unique)},this);i=t[0];n="capture"===t[1];this.__unregisterAtHandler(e,i,n)}delete this.__listeners[s];return!0},deleteAllListeners:function(e){delete this.__listeners[e]},__unregisterAtHandler:function(e,t,i){var n=this.findHandler(e,t);n?n.unregisterEvent(e,t,i):qx.log.Logger.warn(this,"There is no event handler for the event '"+t+"' on target '"+e+"'!")},dispatchEvent:function(e,t){var i="Could not dispatch event '"+t+"' on target '"+e.classname+"': ";qx.core.Assert.assertNotUndefined(e,i+"Invalid event target.");qx.core.Assert.assertNotNull(e,i+"Invalid event target.");qx.core.Assert.assertInstance(t,qx.event.type.Event,i+"Invalid event object.");if(qx.event.Manager.__globalEventMonitor)try{var n=t.getDefaultPrevented();qx.event.Manager.__globalEventMonitor(e,t);n!=t.getDefaultPrevented()&&qx.log.Logger.error("Unexpected change by GlobalEventMonitor, modifications to events: ")}catch(e){qx.log.Logger.error("Error in GlobalEventMonitor: "+e)}var s=t.getType();if(!t.getBubbles()&&!this.hasListener(e,s)){qx.event.Pool.getInstance().poolObject(t);return!0}t.getTarget()||t.setTarget(e);for(var r,o=this.__registration.getDispatchers(),a=!1,l={},u=0,c=o.length;u<c;u++)if((r=this.getDispatcher(o[u])).canDispatchEvent(e,t,s)){qx.event.Utils.track(l,r.dispatchEvent(e,t,s));a=!0;break}if(!a){qx.log.Logger.error(this,"No dispatcher can handle event of type "+s+" on "+e);return!0}return qx.event.Utils.then(l,function(){var e=t.getDefaultPrevented();qx.event.Pool.getInstance().poolObject(t);return!e})},dispose:function(){this.__registration.removeManager(this);qx.util.DisposeUtil.disposeMap(this,"__handlers");qx.util.DisposeUtil.disposeMap(this,"__dispatchers");this.__listeners=this.__window=this.__disposeWrapper=null;this.__registration=this.__handlerCache=null},__addToBlacklist:function(e){if(null===this.__blacklist){this.__blacklist={};this.__clearBlackList.schedule()}this.__blacklist[e]=!0},isBlacklisted:function(e){return null!==this.__blacklist&&!0===this.__blacklist[e]}}});qx.event.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.dom.Node",{statics:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12,getDocument:function(e){return e.nodeType===this.DOCUMENT?e:e.ownerDocument||e.document},getWindow:function(e){if(null==e.nodeType)return e;e.nodeType!==this.DOCUMENT&&(e=e.ownerDocument);return e.defaultView||e.parentWindow},getDocumentElement:function(e){return this.getDocument(e).documentElement},getBodyElement:function(e){return this.getDocument(e).body},isNode:function(e){return!(!e||null==e.nodeType)},isElement:function(e){return!(!e||e.nodeType!==this.ELEMENT)},isDocument:function(e){return!(!e||e.nodeType!==this.DOCUMENT)},isDocumentFragment:function(e){return!(!e||e.nodeType!==this.DOCUMENT_FRAGMENT)},isText:function(e){return!(!e||e.nodeType!==this.TEXT)},isWindow:function(e){return!!(e&&e.history&&e.location&&e.document)},isNodeName:function(e,t){return!!(t&&e&&e.nodeName)&&t.toLowerCase()==qx.dom.Node.getName(e)},getName:function(e){return e&&e.nodeName?e.nodeName.toLowerCase():null},getText:function(e){if(!e||!e.nodeType)return null;switch(e.nodeType){case 1:var t,i=[],n=e.childNodes,s=n.length;for(t=0;t<s;t++)i[t]=this.getText(n[t]);return i.join("");case 2:case 3:case 4:return e.nodeValue}return null},isBlockNode:function(e){if(!qx.dom.Node.isElement(e))return!1;e=qx.dom.Node.getName(e);return/^(body|form|textarea|fieldset|ul|ol|dl|dt|dd|li|div|hr|p|h[1-6]|quote|pre|table|thead|tbody|tfoot|tr|td|th|iframe|address|blockquote)$/.test(e)}}});qx.dom.Node.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Date":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.data.Array":{},"qx.core.Assert":{},"qx.lang.Type":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.Array",{statics:{cast:function(e,t,i){if(e.constructor===t)return e;if(qx.data&&qx.data.IListData&&qx.Class&&qx.Class.hasInterface(e,qx.data.IListData))e=e.toArray();var n=new t;if("mshtml"==qx.core.Environment.get("engine.name")&&e.item){for(var s=i||0,r=e.length;s<r;s++)n.push(e[s]);return n}"[object Array]"===Object.prototype.toString.call(e)&&null==i?n.push.apply(n,e):n.push.apply(n,Array.prototype.slice.call(e,i||0));return n},fromArguments:function(e,t){return Array.prototype.slice.call(e,t||0)},fromCollection:function(e){if("mshtml"==qx.core.Environment.get("engine.name")&&e.item){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=e[i];return t}return Array.prototype.slice.call(e,0)},fromShortHand:function(e){var t=e.length,i=qx.lang.Array.clone(e);switch(t){case 1:i[1]=i[2]=i[3]=i[0];break;case 2:i[2]=i[0];case 3:i[3]=i[1]}return i},clone:function(e){return e.concat()},insertAt:function(e,t,i){e.splice(i,0,t);return e},insertBefore:function(e,t,i){var n=e.indexOf(i);-1==n?e.push(t):e.splice(n,0,t);return e},insertAfter:function(e,t,i){var n=e.indexOf(i);-1==n||n==e.length-1?e.push(t):e.splice(n+1,0,t);return e},removeAt:function(e,t){return e.splice(t,1)[0]},removeAll:function(e){e.length=0;return this},append:function(e,t){if(e instanceof qx.data.Array)return e.append(t);t instanceof qx.data.Array&&(t=t.toArray());qx.core.Assert&&qx.core.Assert.assertArray(e,"The first parameter must be an array.");qx.core.Assert&&qx.core.Assert.assertArray(t,"The second parameter must be an array.");Array.prototype.push.apply(e,t);return e},exclude:function(e,t){if(e instanceof qx.data.Array)return e.exclude(t);qx.core.Assert&&qx.core.Assert.assertArray(e,"The first parameter must be an array.");qx.core.Assert&&qx.core.Assert.assertArray(t,"The second parameter must be an array.");t.forEach(function(t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)});return e},remove:function(e,t){if(e instanceof qx.data.Array)return e.remove(t);var i=e.indexOf(t);if(-1!=i){e.splice(i,1);return t}},contains:function(e,t){return e.includes(t)},equals:function(e,t){if(e instanceof qx.data.Array)return e.equals(t);t=qx.lang.Array.toNativeArray(t);var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0},sum:function(e){for(var t=0,i=0,n=e.length;i<n;i++)void 0!=e[i]&&(t+=e[i]);return t},max:function(e){qx.core.Assert&&qx.core.Assert.assertArray(e,"Parameter must be an array.");var t,i=e.length,n=e[0];for(t=1;t<i;t++)e[t]>n&&(n=e[t]);return void 0===n?null:n},min:function(e){qx.core.Assert&&qx.core.Assert.assertArray(e,"Parameter must be an array.");var t,i=e.length,n=e[0];for(t=1;t<i;t++)e[t]<n&&(n=e[t]);return void 0===n?null:n},unique:function(e){for(var t,i=[],n={},s={},r={},o=0,a="qx"+Date.now(),l=!1,u=!1,c=!1,d=0,h=e.length;d<h;d++)if(null===(t=e[d])){if(!l){l=!0;i.push(t)}}else if(void 0===t);else if(!1===t){if(!u){u=!0;i.push(t)}}else if(!0===t){if(!c){c=!0;i.push(t)}}else if("string"==typeof t){if(!n[t]){n[t]=1;i.push(t)}}else if("number"==typeof t){if(!s[t]){s[t]=1;i.push(t)}}else{null==(g=t[a])&&(g=t[a]=o++);if(!r[g]){r[g]=t;i.push(t)}}for(var g in r)try{delete r[g][a]}catch(e){try{r[g][a]=null}catch(e){throw new Error("Cannot clean-up map entry doneObjects["+g+"]["+a+"]")}}return i},range:function(e,t,i){if(arguments.length<=1){t=e||0;e=0}i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=0,r=Array(n);s<n;){r[s++]=e;e+=i}return r},replace:function(e,t){if(e instanceof qx.data.Array)return e.replace(t);if(null===t)return null===e?null:[];t=qx.lang.Array.toNativeArray(t);if(null===e)e=t.slice(0);else{var i=[0,e.length];t.forEach(function(e){i.push(e)});e.splice.apply(e,i)}return e},toNativeArray:function(e,t){return void 0===e||null===e?e:e instanceof qx.data.Array?t?e.toArray().slice(0):e.toArray():qx.lang.Type.isArray(e)?t?e.slice(0):e:[e]}}});qx.lang.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.Array":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.event.GlobalError":{}},environment:{provided:[],required:{"qx.globalErrorHandling":{className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.Function",{statics:{getCaller:function(e){return e.caller?e.caller.callee:e.callee.caller},getName:function(e){if(e.displayName)return e.displayName;if(e.$$original||e.wrapper||e.classname)return e.classname+".constructor()";if(e.$$mixin){for(var t in e.$$mixin.$$members)if(e.$$mixin.$$members[t]==e)return e.$$mixin.name+".prototype."+t+"()";for(var t in e.$$mixin)if(e.$$mixin[t]==e)return e.$$mixin.name+"."+t+"()"}if(e.self){var i=e.self.constructor;if(i){for(var t in i.prototype)if(i.prototype[t]==e)return i.classname+".prototype."+t+"()";for(var t in i)if(i[t]==e)return i.classname+"."+t+"()"}}var n=e.toString().match(/function\s*(\w*)\s*\(.*/);return n&&n.length>=1&&n[1]?n[1]+"()":"anonymous()"},globalEval:function(e){return window.execScript?window.execScript(e):eval.call(window,e)},create:function(e,t){qx.core.Assert&&qx.core.Assert.assertFunction(e,"Invalid parameter 'func'.");return t&&(t.self||t.args||null!=t.delay||null!=t.periodical||t.attempt)?function(i){qx.core.Object&&t.self&&qx.Bootstrap.isObject(t.self)&&t.self.isDisposed&&qx.Bootstrap.isFunction(t.self.isDisposed)&&t.self.isDisposed()&&qx.core.Assert&&qx.core.Assert.fail("Trying to call a bound function with a disposed object as context: "+t.self.toString()+" :: "+qx.lang.Function.getName(e));var n=qx.lang.Array.fromArguments(arguments);t.args&&(n=t.args.concat(n));if(!t.delay&&!t.periodical){if(t.attempt){var s=!1;try{s=e.apply(t.self||this,n)}catch(e){}return s}return e.apply(t.self||this,n)}var r=function(){return e.apply(t.self||this,n)};qx.core.Environment.get("qx.globalErrorHandling")&&(r=qx.event.GlobalError.observeMethod(r));return t.delay?window.setTimeout(r,t.delay):t.periodical?window.setInterval(r,t.periodical):void 0}:e},bind:function(e,t,i){return this.create(e,{self:t,args:arguments.length>2?qx.lang.Array.fromArguments(arguments,2):null})},curry:function(e,t){return this.create(e,{args:arguments.length>1?qx.lang.Array.fromArguments(arguments,1):null})},listener:function(e,t,i){if(arguments.length<3)return function(i){return e.call(t||this,i||window.event)};var n=qx.lang.Array.fromArguments(arguments,2);return function(i){var s=[i||window.event];s.push.apply(s,n);e.apply(t||this,s)}},attempt:function(e,t,i){return this.create(e,{self:t,attempt:!0,args:arguments.length>2?qx.lang.Array.fromArguments(arguments,2):null})()},delay:function(e,t,i,n){return this.create(e,{delay:t,self:i,args:arguments.length>3?qx.lang.Array.fromArguments(arguments,3):null})()},periodical:function(e,t,i,n){return this.create(e,{periodical:t,self:i,args:arguments.length>3?qx.lang.Array.fromArguments(arguments,3):null})()}}});qx.lang.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.Manager":{require:!0},"qx.dom.Node":{require:!0},"qx.lang.Function":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.log.Logger":{},"qx.core.ObjectRegistry":{},"qx.event.type.Event":{},"qx.event.Pool":{},"qx.core.Assert":{},"qx.event.Utils":{},"qx.Promise":{},"qx.event.IEventHandler":{},"qx.event.IEventDispatcher":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Registration",{statics:{__managers:{},getManager:function(e){if(null==e){qx.log.Logger.error("qx.event.Registration.getManager(null) was called!");qx.log.Logger.trace(this);e=window}else e.nodeType?e=qx.dom.Node.getWindow(e):qx.dom.Node.isWindow(e)||(e=window);var t=e.$$hash||qx.core.ObjectRegistry.toHashCode(e),i=this.__managers[t];if(!i){i=new qx.event.Manager(e,this);this.__managers[t]=i}return i},removeManager:function(e){var t=e.getWindowId();delete this.__managers[t]},addListener:function(e,t,i,n,s){return this.getManager(e).addListener(e,t,i,n,s)},removeListener:function(e,t,i,n,s){return this.getManager(e).removeListener(e,t,i,n,s)},removeListenerById:function(e,t){return this.getManager(e).removeListenerById(e,t)},removeAllListeners:function(e){return this.getManager(e).removeAllListeners(e)},deleteAllListeners:function(e){var t=e.$$hash;t&&this.getManager(e).deleteAllListeners(t)},hasListener:function(e,t,i){return this.getManager(e).hasListener(e,t,i)},serializeListeners:function(e){return this.getManager(e).serializeListeners(e)},createEvent:function(e,t,i){if(arguments.length>1&&void 0===t)throw new Error("Create event of type "+e+" with undefined class. Please use null to explicit fallback to default event type!");null==t&&(t=qx.event.type.Event);var n=qx.event.Pool.getInstance().getObject(t);i?n.init.apply(n,i):n.init();e&&n.setType(e);return n},dispatchEvent:function(e,t){return this.getManager(e).dispatchEvent(e,t)},__fireEvent:function(e,t,i,n){if(arguments.length>2&&void 0===i&&void 0!==n)throw new Error("Create event of type "+t+" with undefined class. Please use null to explicit fallback to default event type!");var s="Could not fire event '"+t+"' on target '"+(e?e.classname:"undefined")+"': ";qx.core.Assert.assertNotUndefined(e,s+"Invalid event target.");qx.core.Assert.assertNotNull(e,s+"Invalid event target.");var r=this.createEvent(t,i||null,n);this.getManager(e).dispatchEvent(e,r);return r},fireEvent:function(e,t,i,n){if(arguments.length>2&&void 0===i&&void 0!==n)throw new Error("Create event of type "+t+" with undefined class. Please use null to explicit fallback to default event type!");var s="Could not fire event '"+t+"' on target '"+(e?e.classname:"undefined")+"': ";qx.core.Assert.assertNotUndefined(e,s+"Invalid event target.");qx.core.Assert.assertNotNull(e,s+"Invalid event target.");var r=this.createEvent(t,i||null,n),o={},a=this;qx.event.Utils.then(o,function(){return a.getManager(e).dispatchEvent(e,r)});return qx.event.Utils.then(o,function(){return!r.getDefaultPrevented()})},fireEventAsync:function(e,t,i,n){return qx.Promise.resolve(this.fireEvent(e,t,i,n))},__fireNonBubblingEvent:function(e,t,i,n){if(arguments.length>2&&void 0===i&&void 0!==n)throw new Error("Create event of type "+t+" with undefined class. Please use null to explicit fallback to default event type!");var s=this.getManager(e);if(!s.hasListener(e,t,!1))return null;var r=this.createEvent(t,i||null,n);s.dispatchEvent(e,r);return r},fireNonBubblingEvent:function(e,t,i,n){var s=this.__fireNonBubblingEvent.apply(this,arguments);return null===s||!s.getDefaultPrevented()},fireNonBubblingEventAsync:function(e,t,i,n){var s=this.__fireNonBubblingEvent.apply(this,arguments);return null===s?qx.Promise.resolve(!0):s.promise()},PRIORITY_FIRST:-32e3,PRIORITY_NORMAL:0,PRIORITY_LAST:32e3,__handlers:[],addHandler:function(e){qx.core.Assert.assertInterface(e,qx.event.IEventHandler,"Invalid event handler.");this.__handlers.push(e);this.__handlers.sort(function(e,t){return e.PRIORITY-t.PRIORITY})},getHandlers:function(){return this.__handlers},__dispatchers:[],addDispatcher:function(e,t){qx.core.Assert.assertInterface(e,qx.event.IEventDispatcher,"Invalid event dispatcher!");this.__dispatchers.push(e);this.__dispatchers.sort(function(e,t){return e.PRIORITY-t.PRIORITY})},getDispatchers:function(){return this.__dispatchers}}});qx.event.Registration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.dispatch.Direct":{},"qx.event.handler.Object":{},"qx.Mixin":{usage:"dynamic",require:!0},"qx.event.Registration":{require:!0},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.core.MEvent",{members:{__Registration:qx.event.Registration,addListener:function(e,t,i,n){return this.$$disposed?null:this.__Registration.addListener(this,e,t,i,n)},addListenerOnce:function(e,t,i,n){var s,r=this;i||(i=this);var o=function(e){r.removeListenerById(s);t.call(i,e)};t.$$wrapped_callback||(t.$$wrapped_callback={});t.$$wrapped_callback[e+this.toHashCode()]=o;return s=this.addListener(e,o,i,n)},removeListener:function(e,t,i,n){if(!this.$$disposed){if(t.$$wrapped_callback&&t.$$wrapped_callback[e+this.$$hash]){var s=t.$$wrapped_callback[e+this.$$hash];delete t.$$wrapped_callback[e+this.$$hash];t=s}return this.__Registration.removeListener(this,e,t,i,n)}return!1},removeListenerById:function(e){return!this.$$disposed&&this.__Registration.removeListenerById(this,e)},hasListener:function(e,t){return this.__Registration.hasListener(this,e,t)},dispatchEvent:function(e){return!!this.$$disposed||this.__Registration.dispatchEvent(this,e)},fireEvent:function(e,t,i){return!!this.$$disposed||this.__Registration.fireEvent(this,e,t,i)},fireNonBubblingEvent:function(e,t,i){return!!this.$$disposed||this.__Registration.fireNonBubblingEvent(this,e,t,i)},fireDataEvent:function(e,t,i,n){if(!this.$$disposed){void 0===i&&(i=null);return this.__Registration.fireEvent(this,e,qx.event.type.Data,[t,i,!!n])}return!0}}});qx.core.MEvent.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Property":{},"qx.Bootstrap":{},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.core.MProperty",{members:{set:function(e,t){var i=qx.core.Property.$$method.set;if(qx.Bootstrap.isString(e)){if(!this[i[e]]){if(void 0!=this["set"+qx.Bootstrap.firstUp(e)]){this["set"+qx.Bootstrap.firstUp(e)](t);return this}throw new Error("No such property: "+e)}return this[i[e]](t)}for(var n in e){if(!this[i[n]]){if(void 0!=this["set"+qx.Bootstrap.firstUp(n)]){this["set"+qx.Bootstrap.firstUp(n)](e[n]);continue}throw new Error("No such property: "+n)}this[i[n]](e[n])}return this},get:function(e){var t=qx.core.Property.$$method.get;if(!this[t[e]]){if(void 0!=this["get"+qx.Bootstrap.firstUp(e)])return this["get"+qx.Bootstrap.firstUp(e)]();throw new Error("No such property: "+e)}return this[t[e]]()},reset:function(e){var t=qx.core.Property.$$method.reset;if(!this[t[e]]){if(void 0!=this["reset"+qx.Bootstrap.firstUp(e)]){this["reset"+qx.Bootstrap.firstUp(e)]();return}throw new Error("No such property: "+e)}this[t[e]]()},isPropertyInitialized:function(e){qx.core.Assert.assertString(e);if(!this["get"+qx.Bootstrap.firstUp(e)])throw new Error("No such property: "+e);return void 0!==this["$$user_"+e]||void 0!==this["$$init_"+e]}}});qx.core.MProperty.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.core.MObjectId",{properties:{qxOwner:{init:null,check:"qx.core.Object",nullable:!0,apply:"_applyQxOwner"},qxObjectId:{init:null,check:function(e){return null===e||"string"==typeof e&&e.indexOf("/")<0},nullable:!0,apply:"_applyQxObjectId"}},members:{__ownedQxObjects:null,__changingQxOwner:!1,_applyQxOwner:function(e,t){if(!this.__changingQxOwner)throw new Error("Please use API methods to change owner, not the property")},_applyQxObjectId:function(e,t){if(!this.__changingQxOwner){var i=this.getQxOwner();i&&i.__onOwnedObjectIdChange(this,e,t);this._cascadeQxObjectIdChanges()}},__onOwnedObjectIdChange:function(e,t,i){delete this.__ownedQxObjects[i];this.__ownedQxObjects[t]=e},_cascadeQxObjectIdChanges:function(){if("function"==typeof this.getContentElement){var e=this.getContentElement();e&&e.updateObjectId()}if(this.__ownedQxObjects)for(var t in this.__ownedQxObjects){var i=this.__ownedQxObjects[t];i instanceof qx.core.Object&&i._cascadeQxObjectIdChanges()}},getQxObject:function(e){if(this.__ownedQxObjects){var t=this.__ownedQxObjects[e];if(void 0!==t)return t}var i=null,n=e.indexOf("#");if(n>-1){i=e.substring(n+1);e=e.substring(0,n)}var s=void 0;if(e.indexOf("/")>-1){var r=this;e.split("/").every(function(e){if(!e.length)return!0;if(!r)return!1;var t=r.getQxObject(e);if(void 0!==t){r=t;return!0}})&&(s=r)}else s=this._createQxObject(e);if(s&&i){return s.getChildControl(i)}return s},_createQxObject:function(e){var t=this._createQxObjectImpl(e);void 0!==t&&this.addOwnedQxObject(t,e);return t},_createQxObjectImpl:function(e){},addOwnedQxObject:function(e,t){this.__ownedQxObjects||(this.__ownedQxObjects={});if(e instanceof qx.core.Object){var i=e.getQxOwner();if(i!==this){e.__changingQxOwner=!0;try{i&&i.__removeOwnedQxObjectImpl(e);void 0===t&&(t=e.getQxObjectId());if(!t)throw new Error("Cannot register an object that has no ID, obj="+e);if(this.__ownedQxObjects[t])throw new Error("Cannot register an object with ID '"+t+"' because that ID is already in use, this="+this+", obj="+e);if(null!=e.getQxOwner())throw new Error("Cannot register an object with ID '"+t+"' because it is already owned by another object this="+this+", obj="+e);e.setQxOwner(this);e.setQxObjectId(t);e._cascadeQxObjectIdChanges()}finally{e.__changingQxOwner=!1}this.__ownedQxObjects[t]=e}}else{if(!t)throw new Error("Cannot register an object that has no ID, obj="+e);if(this.__ownedQxObjects[t])throw new Error("Cannot register an object with ID '"+t+"' because that ID is already in use, this="+this+", obj="+e);this.__ownedQxObjects[t]=e}},removeOwnedQxObject:function(e){if(!this.__ownedQxObjects)throw new Error("Cannot discard object because it is not owned by this, this="+this+", object="+i);var t,i;if("string"==typeof e){if(e.indexOf("/")>-1)throw new Error("Cannot discard owned objects based on a path");t=e;if(void 0===(i=this.__ownedQxObjects[t]))return}else{if(!((i=e)instanceof qx.core.Object))throw new Error("Cannot discard object by reference because it is not a Qooxdoo object, please remove it using the original ID; object="+i);t=i.getQxObjectId();if(this.__ownedQxObjects[t]!==i)throw new Error("Cannot discard object because it is not owned by this, this="+this+", object="+i)}if(null!==i)if(i instanceof qx.core.Object){i.__changingQxOwner=!0;try{this.__removeOwnedQxObjectImpl(i);i._cascadeQxObjectIdChanges()}finally{i.__changingQxOwner=!1}}else{this.__removeOwnedQxObjectImpl(i);delete this.__ownedQxObjects[t]}},__removeOwnedQxObjectImpl:function(e){if(null!==e){var t=e.getQxObjectId();e.setQxOwner(null);delete this.__ownedQxObjects[t]}},getOwnedQxObjects:function(){return this.__ownedQxObjects?Object.values(this.__ownedQxObjects):[]}}});qx.core.MObjectId.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.Type",{statics:{getClass:qx.Bootstrap.getClass,isString:qx.Bootstrap.isString,isArray:qx.Bootstrap.isArray,isObject:qx.Bootstrap.isObject,isFunction:qx.Bootstrap.isFunction,isFunctionOrAsyncFunction:qx.Bootstrap.isFunctionOrAsyncFunction,isRegExp:function(e){return"RegExp"===this.getClass(e)},isNumber:function(e){return null!==e&&("Number"===this.getClass(e)||e instanceof Number)},isBoolean:function(e){return null!==e&&("Boolean"===this.getClass(e)||e instanceof Boolean)},isDate:function(e){return null!==e&&("Date"===this.getClass(e)||e instanceof Date)},isError:function(e){return null!==e&&("Error"===this.getClass(e)||e instanceof Error)},isPromise:function(e){return null!=e&&this.isFunction(e.then)}}});qx.lang.Type.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.lang.Type":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.AssertionError":{},"qx.lang.Json":{},"qx.lang.Number":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.Assert",{statics:{__logError:!0,__fail:function(e,t){for(var i="",n=1,s=arguments.length;n<s;n++)i+=this.__toString(void 0===arguments[n]?"'undefined'":arguments[n]);var r="Assertion error! "+(i?e+": "+i:e);if(qx.Class&&qx.Class.isDefined("qx.core.AssertionError")){var o=new qx.core.AssertionError(e,i);this.__logError&&qx.Bootstrap.error(r+"\n Stack trace: \n"+o.getStackTrace());throw o}this.__logError&&qx.Bootstrap.error(r);throw new Error(r)},__toString:function(e){var t;if(null===e)t="null";else if(qx.lang.Type.isArray(e)&&e.length>10)t="Array["+e.length+"]";else if(e instanceof Object&&null==e.toString)t=qx.lang.Json.stringify(e,null,2);else try{t=e.toString()}catch(e){t=""}return t},assert:function(e,t){1==e||this.__fail(t||"","Called assert with 'false'")},fail:function(e,t){var i=t?"":"Called fail().";this.__fail(e||"",i)},assertTrue:function(e,t){!0===e||this.__fail(t||"","Called assertTrue with '",e,"'")},assertFalse:function(e,t){!1===e||this.__fail(t||"","Called assertFalse with '",e,"'")},assertEquals:function(e,t,i){e==t||this.__fail(i||"","Expected '",e,"' but found '",t,"'!")},assertNotEquals:function(e,t,i){e!=t||this.__fail(i||"","Expected '",e,"' to be not equal with '",t,"'!")},assertEqualsFloat:function(e,t,i){this.assertNumber(e);this.assertNumber(t);qx.lang.Number.equals(e,t)||this.__fail(i||"","Expected '",e,"' to be equal with '",t,"'!")},assertNotEqualsFloat:function(e,t,i){this.assertNumber(e);this.assertNumber(t);!qx.lang.Number.equals(e,t)||this.__fail(i||"","Expected '",e,"' to be not equal with '",t,"'!")},assertIdentical:function(e,t,i){e===t||this.__fail(i||"","Expected '",e,"' (identical) but found '",t,"'!")},assertNotIdentical:function(e,t,i){e!==t||this.__fail(i||"","Expected '",e,"' to be not identical with '",t,"'!")},assertNotUndefined:function(e,t){void 0!==e||this.__fail(t||"","Expected value not to be undefined but found undefined!")},assertUndefined:function(e,t){void 0===e||this.__fail(t||"","Expected value to be undefined but found ",e,"!")},assertNotNull:function(e,t){null!==e||this.__fail(t||"","Expected value not to be null but found null!")},assertNull:function(e,t){null===e||this.__fail(t||"","Expected value to be null but found ",e,"!")},assertJsonEquals:function(e,t,i){this.assertEquals(qx.lang.Json.stringify(e),qx.lang.Json.stringify(t),i)},assertMatch:function(e,t,i){this.assertString(e);this.assert(qx.lang.Type.isRegExp(t)||qx.lang.Type.isString(t),"The parameter 're' must be a string or a regular expression.");e.search(t)>=0||this.__fail(i||"","The String '",e,"' does not match the regular expression '",t.toString(),"'!")},assertArgumentsCount:function(e,t,i,n){var s=e.length;s>=t&&s<=i||this.__fail(n||"","Wrong number of arguments given. Expected '",t,"' to '",i,"' arguments but found '",s,"' arguments.")},assertEventFired:function(e,t,i,n,s){var r,o=!1;try{r=e.addListener(t,function(t){n&&n.call(e,t);o=!0},e);i.call(e)}catch(e){throw e}finally{try{e.removeListenerById(r)}catch(e){}}!0===o||this.__fail(s||"","Event (",t,") not fired.")},assertEventNotFired:function(e,t,i,n){var s=!1,r=e.addListener(t,function(e){s=!0},e);i.call();!1===s||this.__fail(n||"","Event (",t,") was fired.");e.removeListenerById(r)},assertException:function(e,t,i,n){var s;t=t||Error;try{this.__logError=!1;e()}catch(e){s=e}finally{this.__logError=!0}null==s&&this.__fail(n||"","The function did not raise an exception!");s instanceof t||this.__fail(n||"","The raised exception does not have the expected type! ",t," != ",s);i&&this.assertMatch(s.toString(),i,n)},assertInArray:function(e,t,i){-1!==t.indexOf(e)||this.__fail(i||"","The value '",e,"' must have any of the values defined in the array '",t,"'")},assertNotInArray:function(e,t,i){-1===t.indexOf(e)||this.__fail(i||"",qx.lang.String.format("The value '%1' must not have any of the values defined in the array '%2'",[e,t]))},assertArrayEquals:function(e,t,i){this.assertArray(e,i);this.assertArray(t,i);i=i||"Expected ["+e.join(", ")+"], but found ["+t.join(", ")+"]";e.length!==t.length&&this.fail(i,!0);for(var n=0;n<e.length;n++)e[n]!==t[n]&&this.fail(i,!0)},assertKeyInMap:function(e,t,i){void 0!==t[e]||this.__fail(i||"","The value '",e,"' must must be a key of the map '",t,"'")},assertFunction:function(e,t){qx.lang.Type.isFunction(e)||this.__fail(t||"","Expected value to be typeof function but found ",e,"!")},assertFunctionOrAsyncFunction:function(e,t){qx.lang.Type.isFunctionOrAsyncFunction(e)||this.__fail(t||"","Expected value to be typeof function or typeof async function but found ",e,"!")},assertString:function(e,t){qx.lang.Type.isString(e)||this.__fail(t||"","Expected value to be a string but found ",e,"!")},assertBoolean:function(e,t){qx.lang.Type.isBoolean(e)||this.__fail(t||"","Expected value to be a boolean but found ",e,"!")},assertNumber:function(e,t){qx.lang.Type.isNumber(e)&&isFinite(e)||this.__fail(t||"","Expected value to be a number but found ",e,"!")},assertPositiveNumber:function(e,t){qx.lang.Type.isNumber(e)&&isFinite(e)&&e>=0||this.__fail(t||"","Expected value to be a number >= 0 but found ",e,"!")},assertInteger:function(e,t){qx.lang.Type.isNumber(e)&&isFinite(e)&&e%1==0||this.__fail(t||"","Expected value to be an integer but found ",e,"!")},assertPositiveInteger:function(e,t){qx.lang.Type.isNumber(e)&&isFinite(e)&&e%1==0&&e>=0||this.__fail(t||"","Expected value to be an integer >= 0 but found ",e,"!")},assertInRange:function(e,t,i,n){e>=t&&e<=i||this.__fail(n||"",qx.lang.String.format("Expected value '%1' to be in the range '%2'..'%3'!",[e,t,i]))},assertObject:function(e,t){null!==e&&(qx.lang.Type.isObject(e)||"object"===_typeof(e))||this.__fail(t||"","Expected value to be typeof object but found ",e,"!")},assertArray:function(e,t){qx.lang.Type.isArray(e)||this.__fail(t||"","Expected value to be an array but found ",e,"!")},assertMap:function(e,t){qx.lang.Type.isObject(e)||this.__fail(t||"","Expected value to be a map but found ",e,"!")},assertRegExp:function(e,t){qx.lang.Type.isRegExp(e)||this.__fail(t||"","Expected value to be a regular expression but found ",e,"!")},assertType:function(e,t,i){this.assertString(t,"Invalid argument 'type'");_typeof(e)===t||this.__fail(i||"","Expected value to be typeof '",t,"' but found ",e,"!")},assertInstance:function(e,t,i){var n=t.classname||t+"";e instanceof t||this.__fail(i||"","Expected value to be instanceof '",n,"' but found ",e,"!")},assertInterface:function(e,t,i){qx.Class&&qx.Class.implementsInterface(e,t)||this.__fail(i||"","Expected object '",e,"' to implement the interface '",t,"'!")},assertCssColor:function(e,t,i){var n=qx.Class?qx.Class.getByName("qx.util.ColorUtil"):null;if(!n)throw new Error("qx.util.ColorUtil not available! Your code must have a dependency on 'qx.util.ColorUtil'");var s=n.stringToRgb(e);try{var r=n.stringToRgb(t)}catch(n){this.__fail(i||"","Expected value to be the CSS color '",e,"' (rgb(",s.join(","),")), but found value '",t,"', which cannot be converted to a CSS color!")}s[0]==r[0]&&s[1]==r[1]&&s[2]==r[2]||this.__fail(i||"","Expected value to be the CSS color '",s,"' (rgb(",s.join(","),")), but found value '",t,"' (rgb(",r.join(","),"))!")},assertElement:function(e,t){e&&1===e.nodeType||this.__fail(t||"","Expected value to be a DOM element but found  '",e,"'!")},assertQxObject:function(e,t){this.__isQxInstance(e,"qx.core.Object")||this.__fail(t||"","Expected value to be a qooxdoo object but found ",e,"!")},assertQxWidget:function(e,t){this.__isQxInstance(e,"qx.ui.core.Widget")||this.__fail(t||"","Expected value to be a qooxdoo widget but found ",e,"!")},__isQxInstance:function(e,t){if(!e)return!1;for(var i=e.constructor;i;){if(i.classname===t)return!0;i=i.superclass}return!1}}});qx.core.Assert.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Assert":{require:!0},"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.core.MAssert",{members:{assert:function(e,t){qx.core.Assert.assert(e,t)},fail:function(e,t){qx.core.Assert.fail(e,t)},assertTrue:function(e,t){qx.core.Assert.assertTrue(e,t)},assertFalse:function(e,t){qx.core.Assert.assertFalse(e,t)},assertEquals:function(e,t,i){qx.core.Assert.assertEquals(e,t,i)},assertNotEquals:function(e,t,i){qx.core.Assert.assertNotEquals(e,t,i)},assertEqualsFloat:function(e,t,i){qx.core.Assert.assertEqualsFloat(e,t,i)},assertNotEqualsFloat:function(e,t,i){qx.core.Assert.assertNotEqualsFloat(e,t,i)},assertIdentical:function(e,t,i){qx.core.Assert.assertIdentical(e,t,i)},assertNotIdentical:function(e,t,i){qx.core.Assert.assertNotIdentical(e,t,i)},assertNotUndefined:function(e,t){qx.core.Assert.assertNotUndefined(e,t)},assertUndefined:function(e,t){qx.core.Assert.assertUndefined(e,t)},assertNotNull:function(e,t){qx.core.Assert.assertNotNull(e,t)},assertNull:function(e,t){qx.core.Assert.assertNull(e,t)},assertJsonEquals:function(e,t,i){qx.core.Assert.assertJsonEquals(e,t,i)},assertMatch:function(e,t,i){qx.core.Assert.assertMatch(e,t,i)},assertArgumentsCount:function(e,t,i,n){qx.core.Assert.assertArgumentsCount(e,t,i,n)},assertEventFired:function(e,t,i,n,s){qx.core.Assert.assertEventFired(e,t,i,n,s)},assertEventNotFired:function(e,t,i,n){qx.core.Assert.assertEventNotFired(e,t,i,n)},assertException:function(e,t,i,n){qx.core.Assert.assertException(e,t,i,n)},assertInArray:function(e,t,i){qx.core.Assert.assertInArray(e,t,i)},assertNotInArray:function(e,t,i){qx.core.Assert.assertNotInArray(e,t,i)},assertArrayEquals:function(e,t,i){qx.core.Assert.assertArrayEquals(e,t,i)},assertKeyInMap:function(e,t,i){qx.core.Assert.assertKeyInMap(e,t,i)},assertFunction:function(e,t){qx.core.Assert.assertFunction(e,t)},assertString:function(e,t){qx.core.Assert.assertString(e,t)},assertBoolean:function(e,t){qx.core.Assert.assertBoolean(e,t)},assertNumber:function(e,t){qx.core.Assert.assertNumber(e,t)},assertPositiveNumber:function(e,t){qx.core.Assert.assertPositiveNumber(e,t)},assertInteger:function(e,t){qx.core.Assert.assertInteger(e,t)},assertPositiveInteger:function(e,t){qx.core.Assert.assertPositiveInteger(e,t)},assertInRange:function(e,t,i,n){qx.core.Assert.assertInRange(e,t,i,n)},assertObject:function(e,t){qx.core.Assert.assertObject(e,t)},assertArray:function(e,t){qx.core.Assert.assertArray(e,t)},assertMap:function(e,t){qx.core.Assert.assertMap(e,t)},assertRegExp:function(e,t){qx.core.Assert.assertRegExp(e,t)},assertType:function(e,t,i){qx.core.Assert.assertType(e,t,i)},assertInstance:function(e,t,i){qx.core.Assert.assertInstance(e,t,i)},assertInterface:function(e,t,i){qx.core.Assert.assertInterface(e,t,i)},assertCssColor:function(e,t,i){qx.core.Assert.assertCssColor(e,t,i)},assertElement:function(e,t){qx.core.Assert.assertElement(e,t)},assertQxObject:function(e,t){qx.core.Assert.assertQxObject(e,t)},assertQxWidget:function(e,t){qx.core.Assert.assertQxWidget(e,t)}}});qx.core.MAssert.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.ObjectRegistry":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.data.MBinding":{require:!0},"qx.core.MLogging":{require:!0},"qx.core.MEvent":{require:!0},"qx.core.MProperty":{require:!0},"qx.core.MObjectId":{require:!0},"qx.core.MAssert":{require:!0},"qx.core.Property":{require:!0},"qx.core.IDisposable":{},"qx.util.Uuid":{},"qx.Bootstrap":{},"qx.util.DisposeUtil":{},"qx.event.Registration":{}},environment:{provided:[],required:{"qx.debug.dispose.level":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.core.Object",{extend:Object,include:qx.core.Environment.filter({"module.databinding":qx.data.MBinding,"module.logger":qx.core.MLogging,"module.events":qx.core.MEvent,"module.property":qx.core.MProperty,"module.objectid":qx.core.MObjectId,"qx.debug":qx.core.MAssert}),construct:function(){},statics:{$$type:"Object"},members:{__Property:qx.core.Property,toHashCode:function(){this.$$hash||this.$$disposed||(qx.Class.hasInterface(this.constructor,qx.core.IDisposable)?qx.core.ObjectRegistry.register(this):qx.core.ObjectRegistry.toHashCode(this));return this.$$hash},toUuid:function(){this.$$uuid||(this.$$uuid=qx.util.Uuid.createUuidV4());return this.$$uuid},setExplicitUuid:function(e){if(Boolean(this.$$uuid))throw new Error("Cannot change the UUID of an object once set");this.$$uuid=e},toString:function(){return this.classname+"["+this.toHashCode()+"]"},base:function(e,t){if(!qx.Bootstrap.isFunctionOrAsyncFunction(e.callee.base))throw new Error("Cannot call super class. Method is not derived: "+e.callee.displayName);return 1===arguments.length?e.callee.base.call(this):e.callee.base.apply(this,Array.prototype.slice.call(arguments,1))},self:function(e){return e.callee.self},clone:function(){for(var e,t=this.constructor,i=new t,n=qx.Class.getProperties(t),s=this.__Property.$$store.user,r=this.__Property.$$method.set,o=0,a=n.length;o<a;o++){e=n[o];this.hasOwnProperty(s[e])&&i[r[e]](this[s[e]])}return i},__userData:null,setUserData:function(e,t){this.__userData||(this.__userData={});this.__userData[e]=t},getUserData:function(e){if(!this.__userData)return null;var t=this.__userData[e];return void 0===t?null:t},resetUserData:function(){this.__userData=null},isDisposed:function(){return this.$$disposed||!1},isDisposing:function(){return this.$$disposing||!1},dispose:function(){if(!this.$$disposed){this.$$disposed=!0;this.$$disposing=!0;this.$$instance=null;this.$$allowconstruct=null;qx.core.Environment.get("qx.debug.dispose.level")>2&&qx.Bootstrap.debug(this,"Disposing "+this.classname+"["+this.toHashCode()+"]");for(var e,t=this.constructor;t.superclass;){t.$$destructor&&t.$$destructor.call(this);if(t.$$includes)for(var i=0,n=(e=t.$$flatIncludes).length;i<n;i++)e[i].$$destructor&&e[i].$$destructor.call(this);t=t.superclass}this.$$disposing=!1;if(qx.core.Environment.get("qx.debug.dispose.level")>0){var s,r;for(s in this)if(null!==(r=this[s])&&"object"===_typeof(r)&&!qx.Bootstrap.isString(r)){if(null!=this.constructor.prototype[s])continue;if(qx.core.Environment.get("qx.debug.dispose.level")>1){qx.Bootstrap.warn(this,"Missing destruct definition for '"+s+"' in "+this.classname+"["+this.toHashCode()+"]: "+r);delete this[s]}}}}},_disposeObjects:function(e){qx.util.DisposeUtil.disposeObjects(this,arguments)},_disposeSingletonObjects:function(e){qx.util.DisposeUtil.disposeObjects(this,arguments,!0)},_disposeArray:function(e){qx.util.DisposeUtil.disposeArray(this,e)},_disposeMap:function(e){qx.util.DisposeUtil.disposeMap(this,e)}},environment:{"qx.debug.dispose.level":0},destruct:function(){qx.core.ObjectRegistry.inShutDown?qx.event.Registration.deleteAllListeners(this):qx.event.Registration.removeAllListeners(this);qx.core.ObjectRegistry.unregister(this);this.__userData=null;for(var e,t=this.constructor,i=this.__Property.$$store,n=i.user,s=i.theme,r=i.inherit,o=i.useinit,a=i.init;t;){if(e=t.$$properties)for(var l in e)e[l].dereference&&(this[n[l]]=this[s[l]]=this[r[l]]=this[o[l]]=this[a[l]]=void 0);t=t.superclass}}});qx.core.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.data.IListData",{events:{change:"qx.event.type.Data",changeLength:"qx.event.type.Event"},members:{getItem:function(e){},setItem:function(e,t){},splice:function(e,t,i){},contains:function(e){},getLength:function(){},toArray:function(){}}});qx.data.IListData.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.Registration":{},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.core.Assert":{},"qx.event.Pool":{},"qx.Promise":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Event",{extend:qx.core.Object,statics:{CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3},members:{_promises:null,init:function(e,t){void 0!==e&&qx.core.Assert.assertBoolean(e,"Invalid argument value 'canBubble'.");void 0!==t&&qx.core.Assert.assertBoolean(t,"Invalid argument value 'cancelable'.");this._type=null;this._target=null;this._currentTarget=null;this._relatedTarget=null;this._originalTarget=null;this._stopPropagation=!1;this._preventDefault=!1;this._bubbles=!!e;this._cancelable=!!t;this._timeStamp=(new Date).getTime();this._eventPhase=null;this._promises=null;return this},clone:function(e){if(e)t=e;else var t=qx.event.Pool.getInstance().getObject(this.constructor);t._type=this._type;t._target=this._target;t._currentTarget=this._currentTarget;t._relatedTarget=this._relatedTarget;t._originalTarget=this._originalTarget;t._stopPropagation=this._stopPropagation;t._bubbles=this._bubbles;t._preventDefault=this._preventDefault;t._cancelable=this._cancelable;t._promises=this._promises;return t},stop:function(){this._bubbles&&this.stopPropagation();this._cancelable&&this.preventDefault()},stopPropagation:function(){this.assertTrue(this._bubbles,"Cannot stop propagation on a non bubbling event: "+this.getType());this._stopPropagation=!0},getPropagationStopped:function(){return!!this._stopPropagation},preventDefault:function(){this.assertTrue(this._cancelable,"Cannot prevent default action on a non cancelable event: "+this.getType());this._preventDefault=!0},addPromise:function(e){null===this._promises?this._promises=[e]:this._promises.push(e)},getPromises:function(){return this._promises},promise:function(){return this.getDefaultPrevented()?qx.Promise.reject():null===this._promises?qx.Promise.resolve(!0):qx.Promise.all(this._promises)},getDefaultPrevented:function(){return!!this._preventDefault},getType:function(){return this._type},setType:function(e){this._type=e},getEventPhase:function(){return this._eventPhase},setEventPhase:function(e){this._eventPhase=e},getTimeStamp:function(){return this._timeStamp},getTarget:function(){return this._target},setTarget:function(e){this._target=e},getCurrentTarget:function(){return this._currentTarget||this._target},setCurrentTarget:function(e){this._currentTarget=e},getRelatedTarget:function(){return this._relatedTarget},setRelatedTarget:function(e){this._relatedTarget=e},getOriginalTarget:function(){return this._originalTarget},setOriginalTarget:function(e){this._originalTarget=e},getBubbles:function(){return this._bubbles},setBubbles:function(e){this._bubbles=e},isCancelable:function(){return this._cancelable},setCancelable:function(e){this._cancelable=e}}});qx.event.type.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Data",{extend:qx.event.type.Event,members:{__data:null,__old:null,init:function(e,t,i){qx.event.type.Data.prototype.init.base.call(this,!1,i);this.__data=e;this.__old=t;return this},clone:function(e){var t=qx.event.type.Data.prototype.clone.base.call(this,e);t.__data=this.__data;t.__old=this.__old;return t},getData:function(){return this.__data},getOldData:function(){return this.__old}}});qx.event.type.Data.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.event.IEventDispatcher",{members:{canDispatchEvent:function(e,t,i){this.assertInstance(t,qx.event.type.Event);this.assertString(i)},dispatchEvent:function(e,t,i){this.assertInstance(t,qx.event.type.Event);this.assertString(i)}}});qx.event.IEventDispatcher.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventDispatcher":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.event.type.Event":{},"qx.event.Utils":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.dispatch.Direct",{extend:qx.core.Object,implement:qx.event.IEventDispatcher,construct:function(e){this._manager=e},statics:{PRIORITY:qx.event.Registration.PRIORITY_LAST},members:{canDispatchEvent:function(e,t,i){return!t.getBubbles()},dispatchEvent:function(e,t,i){if(e instanceof qx.core.Object){var n=qx.Class.getEventType(e.constructor,i),s=qx.Class.getByName(n);s?t instanceof s||this.error("Expected event type to be instanceof '"+n+"' but found '"+t.classname+"'"):this.error("The event type '"+i+"' declared in the class '"+e.constructor+" is not an available class': "+n)}t.setEventPhase(qx.event.type.Event.AT_TARGET);var r={},o=this,a=this._manager.getListeners(e,i,!1);a&&a.forEach(function(n){if(!o._manager.isBlacklisted(n.unique)){var s=n.context||e;s&&s.isDisposed&&s.isDisposed()&&!s.isDisposing()&&o.warn("The context object '"+s+"' for the event '"+i+"' of '"+e+"'is already disposed.");qx.event.Utils.then(r,function(){return n.handler.call(s,t)})}});return r.promise}},defer:function(e){qx.event.Registration.addDispatcher(e)}});qx.event.dispatch.Direct.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Array":{construct:!0},"qx.core.Assert":{construct:!0},"qx.data.Array":{},"qx.log.Logger":{},"qx.bom.Event":{},"qx.event.GlobalError":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["qx.promise.warnings","qx.promise.longStackTraces"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.Promise",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);qx.Promise.__initialize();if(e instanceof qx.Promise.Bluebird)this.__p=e;else if(e){void 0!==t&&null!==t&&(e=e.bind(t));var i=e,n=this;e=function(e,t){return i(e,function(e){var i=qx.lang.Array.fromArguments(arguments);if(void 0===e){i.shift();i.unshift(qx.Promise.__DEFAULT_ERROR)}else!e||e instanceof Error||n.error("Calling reject with non-error object, createdAt="+JSON.stringify(n.$$createdAt||null));t.apply(this,i)})};this.__p=new qx.Promise.Bluebird(e)}else this.__p=new qx.Promise.Bluebird(this.__externalPromise.bind(this));qx.core.Assert.assertTrue(!this.__p.$$qxPromise);this.__p.$$qxPromise=this;void 0!==t&&null!==t&&(this.__p=this.__p.bind(t))},destruct:function(){delete this.__p.$$qxPromise;delete this.__p},members:{__p:null,__external:null,then:function(e,t){return this._callMethod("then",arguments)},catch:function(e){return this._callMethod("catch",arguments)},bind:function(e){return qx.Promise.__wrap(this.__p.bind(e))},spread:function(e){return this._callMethod("spread",arguments)},finally:function(e){return this._callMethod("finally",arguments)},cancel:function(){return this._callMethod("cancel",arguments)},all:function(){return this._callIterableMethod("all",arguments)},race:function(e){return this._callIterableMethod("race",arguments)},any:function(e){return this._callIterableMethod("any",arguments)},some:function(e,t){return this._callIterableMethod("some",arguments)},forEach:function(e,t){return this._callIterableMethod("each",arguments)},filter:function(e,t,i){return this._callIterableMethod("filter",arguments)},map:function(e,t,i){return this._callIterableMethod("map",arguments)},mapSeries:function(e,t){return this._callIterableMethod("mapSeries",arguments)},reduce:function(e,t,i){return this._callIterableMethod("reduce",arguments)},__externalPromise:function(e,t){this.__external={resolve:e,reject:t,complete:!1}},__getPendingExternal:function(){if(!this.__external)throw new Error("Promise cannot be resolved externally");if(this.__external.complete)throw new Error("Promise has already been resolved or rejected");this.__external.complete=!0;return this.__external},resolve:function(e){this.__getPendingExternal().resolve(e)},reject:function(e){this.__getPendingExternal().reject(e)},_callIterableMethod:function(e,t){t=qx.Promise.__bindArgs(t);return qx.Promise.__wrap(this.__p.then(function(i){var n=qx.Promise.Bluebird.resolve(i instanceof qx.data.Array?i.toArray():i);return qx.Promise.__wrap(n[e].apply(n,t))}))},_callMethod:function(e,t){t=qx.Promise.__bindArgs(t);return qx.Promise.__wrap(this.__p[e].apply(this.__p,t))},toPromise:function(){return this.__p}},statics:{Bluebird:null,Native:null,Promise:null,__DEFAULT_ERROR:new Error("Default Error"),resolve:function(e,t){var i;i=e instanceof qx.Promise?e:qx.Promise.__wrap(qx.Promise.Bluebird.resolve(e));void 0!==t&&(i=i.bind(t));return i},reject:function(e,t){var i=qx.lang.Array.fromArguments(arguments);if(void 0===e){i.shift();i.unshift(qx.Promise.__DEFAULT_ERROR)}else e instanceof Error||qx.log.Logger.warn("Rejecting a promise with a non-Error value");var n=qx.Promise.__callStaticMethod("reject",i,0);void 0!==t&&(n=n.bind(t));return n},allOf:function(e){function t(e){var t=[],i=[];for(var n in e)if(e.hasOwnProperty(n)&&e[n]instanceof qx.Promise){t.push(e[n]);i.push(n)}return qx.Promise.all(t).then(function(t){t.forEach(function(t,n){e[i[n]]=t});return e})}return e instanceof qx.Promise?e.then(t):t(e)},all:function(e){return qx.Promise.__callStaticMethod("all",arguments)},race:function(e){return qx.Promise.__callStaticMethod("race",arguments)},any:function(e){return qx.Promise.__callStaticMethod("any",arguments)},some:function(e,t){return qx.Promise.__callStaticMethod("some",arguments)},forEach:function(e,t){return qx.Promise.__callStaticMethod("each",arguments)},filter:function(e,t,i){return qx.Promise.__callStaticMethod("filter",arguments)},map:function(e,t,i){return qx.Promise.__callStaticMethod("map",arguments)},mapSeries:function(e,t){return qx.Promise.__callStaticMethod("mapSeries",arguments)},reduce:function(e,t,i){return qx.Promise.__callStaticMethod("reduce",arguments)},method:function(e){var t=qx.Promise.Bluebird.method(e);return function(){return qx.Promise.__wrap(t.apply(this,arguments))}},props:function(e){return qx.Promise.__callStaticMethod("props",arguments)},promisify:function(e,t){return qx.Promise.__callStaticMethod("promisify",arguments)},__attachBluebird:function(e){qx.Promise.Bluebird=e;e.config({warnings:!0,longStackTraces:!0,cancellation:!0})},__initialized:!1,__initialize:function(){if(!qx.Promise.__initialized){qx.Promise.__initialized=!0;qx.bom.Event.addNativeListener(window,"unhandledrejection",qx.Promise.__onUnhandledRejection.bind(this))}},__onUnhandledRejection:function(e){e.preventDefault();var t=null;e instanceof Error?t=e:e.reason instanceof Error?t=e.reason:e.detail&&e.detail.reason instanceof Error&&(t=e.detail.reason);qx.log.Logger.error(this,"Unhandled promise rejection: "+(t?t.stack:"(not from exception)"));qx.event.GlobalError.handleError(t)},__wrap:function(e){e instanceof qx.Promise.Bluebird&&(e=e.$$qxPromise?e.$$qxPromise:new qx.Promise(e));return e},__bindArgs:function(e,t){e=qx.lang.Array.fromArguments(e);void 0===t&&(t=1);if(e.length>t){var i=e[e.length-1];if(i instanceof qx.core.Object||qx.Class.isClass(i)){e.pop();for(var n=0;n<e.length;n++)"function"==typeof e[n]&&(e[n]=e[n].bind(i))}}return e},__callStaticMethod:function(e,t,i){t=qx.Promise.__bindArgs(t,i);return qx.Promise.__wrap(qx.Promise.Bluebird[e].apply(qx.Promise.Bluebird,qx.Promise.__mapArgs(t)))},__mapArgs:function(e){var t=[];e.forEach(function(e){e instanceof qx.data.Array?t.push(e.toArray()):e instanceof qx.Promise?t.push(e.toPromise()):t.push(e)});return t}},defer:function(e,t){e.Promise=e.Native=window.Promise;qx.core.Environment.add("qx.promise.warnings",!0);qx.core.Environment.add("qx.promise.longStackTraces",!1)}});!function(){qx.Promise.__attachBluebird(function(){var e,t,i;return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function i(e){var i=new t(e),n=i.promise();i.setHowMany(1);i.setUnwrap();i.init();return n}e.any=function(e){return i(e)};e.prototype.any=function(){return i(this)}}},{}],2:[function(e,t,i){"use strict";var n;try{throw new Error}catch(e){n=e}var s=e("./schedule"),r=e("./queue"),o=e("./util");function a(){this._customScheduler=!1;this._isTickUsed=!1;this._lateQueue=new r(16);this._normalQueue=new r(16);this._haveDrainedQueues=!1;this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=s}a.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=!0;return t};a.prototype.hasCustomScheduler=function(){return this._customScheduler};a.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};a.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this._trampolineEnabled=!1)};a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};a.prototype.fatalError=function(e,t){if(t){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else this.throwLater(e)};a.prototype.throwLater=function(e,t){if(1===arguments.length){t=e;e=function(){throw t}}if("undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function l(e,t,i){this._lateQueue.push(e,t,i);this._queueTick()}function u(e,t,i){this._normalQueue.push(e,t,i);this._queueTick()}function c(e){this._normalQueue._pushOne(e);this._queueTick()}if(o.hasDevTools){a.prototype.invokeLater=function(e,t,i){this._trampolineEnabled?l.call(this,e,t,i):this._schedule(function(){setTimeout(function(){e.call(t,i)},100)})};a.prototype.invoke=function(e,t,i){this._trampolineEnabled?u.call(this,e,t,i):this._schedule(function(){e.call(t,i)})};a.prototype.settlePromises=function(e){this._trampolineEnabled?c.call(this,e):this._schedule(function(){e._settlePromises()})}}else{a.prototype.invokeLater=l;a.prototype.invoke=u;a.prototype.settlePromises=c}a.prototype.invokeFirst=function(e,t,i){this._normalQueue.unshift(e,t,i);this._queueTick()};a.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var i=e.shift(),n=e.shift();t.call(i,n)}else t._settlePromises()}};a.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=!0;this._drainQueue(this._lateQueue)};a.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=!0;this._schedule(this.drainQueues)}};a.prototype._reset=function(){this._isTickUsed=!1};t.exports=a;t.exports.firstLineError=n},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){var s=!1,r=function(e,t){this._reject(t)},o=function(e,t){t.promiseRejectionQueued=!0;t.bindingPromise._then(r,r,null,this,e)},a=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(r){if(!s){s=!0;e.prototype._propagateFrom=n.propagateFromFunction();e.prototype._boundValue=n.boundValueFunction()}var u=i(r),c=new e(t);c._propagateFrom(this,1);var d=this._target();c._setBoundTo(u);if(u instanceof e){var h={promiseRejectionQueued:!1,promise:c,target:d,bindingPromise:u};d._then(t,o,void 0,c,h);u._then(a,l,void 0,c,h);c._setOnCancel(u)}else c._resolveCallback(d);return c};e.prototype._setBoundTo=function(e){if(void 0!==e){this._bitField=2097152|this._bitField;this._boundTo=e}else this._bitField=-2097153&this._bitField};e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)};e.bind=function(t,i){return e.resolve(i).bind(t)}}},{}],4:[function(e,t,i){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var s=e("./promise")();s.noConflict=function(){try{Promise===s&&(Promise=n)}catch(e){}return s};t.exports=s},{"./promise":22}],5:[function(e,t,i){"use strict";var n=Object.create;if(n){var s=n(null),r=n(null);s[" size"]=r[" size"]=0}t.exports=function(t){var i=e("./util"),n=i.canEvaluate;i.isIdentifier;function s(e){var n=this.pop(),s=function(e,n){var s;null!=e&&(s=e[n]);if("function"!=typeof s){var r="Object "+i.classString(e)+" has no method '"+i.toString(n)+"'";throw new t.TypeError(r)}return s}(e,n);return s.apply(e,this)}t.prototype.call=function(e){var t=[].slice.call(arguments,1);t.push(e);return this._then(s,void 0,void 0,t,void 0)};function r(e){return e[this]}function o(e){var t=+this;t<0&&(t=Math.max(0,t+e.length));return e[t]}t.prototype.get=function(e){var t,i="number"==typeof e;if(i)t=o;else if(n){var s=(void 0)(e);t=null!==s?s:r}else t=r;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,i){"use strict";t.exports=function(t,i,n,s){var r=e("./util"),o=r.tryCatch,a=r.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!s.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var i=e._cancellationParent;if(null==i||!i._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel();e._setWillBeCancelled();t=e;e=i}};t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0};t.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return!0}this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return!0}return!1};t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()};t.prototype._cancel=function(){if(this._isCancellable()){this._setCancelled();l.invoke(this._cancelPromises,this,void 0)}};t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()};t.prototype._unsetOnCancel=function(){this._onCancelField=void 0};t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};t.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var i=0;i<e.length;++i)this._doInvokeOnCancel(e[i],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=o(e).call(this._boundValue());if(n===a){this._attachExtraTrace(n.e);l.throwLater(n.e)}}}else e._resultCancelled(this)};t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();l.invoke(this._doInvokeOnCancel,this,e)};t.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),!0);this._unsetOnCancel()}};t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){"use strict";t.exports=function(t){var i=e("./util"),n=e("./es5").keys,s=i.tryCatch,r=i.errorObj;return function(e,o,a){return function(l){var u=a._boundValue();e:for(var c=0;c<e.length;++c){var d=e[c];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return s(o).call(u,l)}else if("function"==typeof d){var h=s(d).call(u,l);if(h===r)return h;if(h)return s(o).call(u,l)}else if(i.isObject(l)){for(var g=n(d),m=0;m<g.length;++m){var f=g[m];if(d[f]!=l[f])continue e}return s(o).call(u,l)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,i){"use strict";t.exports=function(e){var t=!1,i=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){if(void 0!==this._trace){this._trace._promiseCreated=null;i.push(this._trace)}};n.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;e._promiseCreated=null;return t}return null};function s(){var e=i.length-1;if(e>=0)return i[e]}n.CapturedTrace=null;n.create=function(){if(t)return new n};n.deactivateLongStackTraces=function(){};n.activateLongStackTraces=function(){var i=e.prototype._pushContext,r=e.prototype._popContext,o=e._peekContext,a=e.prototype._peekContext,l=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=i;e.prototype._popContext=r;e._peekContext=o;e.prototype._peekContext=a;e.prototype._promiseCreated=l;t=!1};t=!0;e.prototype._pushContext=n.prototype._pushContext;e.prototype._popContext=n.prototype._popContext;e._peekContext=e.prototype._peekContext=s;e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}};return n}},{}],9:[function(e,t,i){"use strict";t.exports=function(t,i){var n,s,r,o=t._getDomain,a=t._async,l=e("./errors").Warning,u=e("./util"),c=u.canAttachTrace,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,h=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,f=null,p=!1,_=!(0==u.env("BLUEBIRD_DEBUG")),x=!(0==u.env("BLUEBIRD_WARNINGS")||!_&&!u.env("BLUEBIRD_WARNINGS")),q=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),v=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(x||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288};t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();a.invokeLater(this._notifyUnhandledRejection,this,void 0)}};t.prototype._notifyUnhandledRejectionIsHandled=function(){V("rejectionHandled",n,void 0,this)};t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField};t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)};t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();V("unhandledRejection",s,e,this)}};t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField};t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField};t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0};t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField};t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0};t.prototype._warn=function(e,t,i){return F(e,t,i||this)};t.onPossiblyUnhandledRejection=function(e){var t=o();s="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};t.onUnhandledRejectionHandled=function(e){var t=o();n="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};var b=function(){};t.longStackTraces=function(){if(a.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!K.longStackTraces&&j()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace;K.longStackTraces=!0;b=function(){if(a.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e;t.prototype._attachExtraTrace=n;i.deactivateLongStackTraces();a.enableTrampoline();K.longStackTraces=!1};t.prototype._captureStackTrace=R;t.prototype._attachExtraTrace=O;i.activateLongStackTraces();a.disableTrampolineIfNecessary()}};t.hasLongStackTraces=function(){return K.longStackTraces&&j()};var y=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");u.global.dispatchEvent(e);return function(e,t){var i=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(i)}}if("function"==typeof Event){var e=new Event("CustomEvent");u.global.dispatchEvent(e);return function(e,t){var i=new Event(e.toLowerCase(),{cancelable:!0});i.detail=t;return!u.global.dispatchEvent(i)}}var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",!1,!0,{});u.global.dispatchEvent(e);return function(e,t){var i=document.createEvent("CustomEvent");i.initCustomEvent(e.toLowerCase(),!1,!0,t);return!u.global.dispatchEvent(i)}}catch(e){}return function(){return!1}}(),C=u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),i=u.global[t];if(!i)return!1;i.apply(u.global,[].slice.call(arguments,1));return!0}:function(){return!1};function w(e,t){return{promise:t}}var E={promiseCreated:w,promiseFulfilled:w,promiseRejected:w,promiseResolved:w,promiseCancelled:w,promiseChained:function(e,t,i){return{promise:t,child:i}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,i){return{reason:t,promise:i}},rejectionHandled:w},S=function(e){var t=!1;try{t=C.apply(null,arguments)}catch(e){a.throwLater(e);t=!0}var i=!1;try{i=y(e,E[e].apply(null,arguments))}catch(e){a.throwLater(e);i=!0}return i||t};t.config=function(e){"longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&b());if("warnings"in e){var i=e.warnings;K.warnings=!!i;v=K.warnings;u.isObject(i)&&"wForgottenReturn"in i&&(v=!!i.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!K.cancellation){if(a.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=L;t.prototype._propagateFrom=M;t.prototype._onCancel=D;t.prototype._setOnCancel=B;t.prototype._attachCancellationCallback=A;t.prototype._execute=I;P=M;K.cancellation=!0}if("monitoring"in e)if(e.monitoring&&!K.monitoring){K.monitoring=!0;t.prototype._fireEvent=S}else if(!e.monitoring&&K.monitoring){K.monitoring=!1;t.prototype._fireEvent=T}};function T(){return!1}t.prototype._fireEvent=T;t.prototype._execute=function(e,t,i){try{e(t,i)}catch(e){return e}};t.prototype._onCancel=function(){};t.prototype._setOnCancel=function(e){};t.prototype._attachCancellationCallback=function(e){};t.prototype._captureStackTrace=function(){};t.prototype._attachExtraTrace=function(){};t.prototype._clearCancellationData=function(){};t.prototype._propagateFrom=function(e,t){};function I(e,t,i){var n=this;try{e(t,i,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function A(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function D(){return this._onCancelField}function B(e){this._onCancelField=e}function L(){this._cancellationParent=void 0;this._onCancelField=void 0}function M(e,t){if(0!=(1&t)){this._cancellationParent=e;var i=e._branchesRemainingToCancel;void 0===i&&(i=0);e._branchesRemainingToCancel=i+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}var P=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function k(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function R(){this._trace=new X(this._peekContext())}function O(e,t){if(c(e)){var i=this._trace;void 0!==i&&t&&(i=i._parent);if(void 0!==i)i.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=W(e);u.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n"));u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function F(e,i,n){if(K.warnings){var s,r=new l(e);if(i)n._attachExtraTrace(r);else if(K.longStackTraces&&(s=t._peekContext()))s.attachExtraTrace(r);else{var o=W(r);r.stack=o.message+"\n"+o.stack.join("\n")}S("warning",r)||$(r,"",!0)}}function N(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],s="    (No stack trace)"===n||m.test(n),r=s&&U(n);if(s&&!r){p&&" "!==n.charAt(0)&&(n="    "+n);t.push(n)}}return t}function W(e){var t=e.stack,i=e.toString();t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),i=0;i<t.length;++i){var n=t[i];if("    (No stack trace)"===n||m.test(n))break}i>0&&(t=t.slice(i));return t}(e):["    (No stack trace)"];return{message:i,stack:N(t)}}function $(e,t,i){if("undefined"!=typeof console){var n;if(u.isObject(e)){var s=e.stack;n=t+f(s,e)}else n=t+String(e);"function"==typeof r?r(n,i):"function"!=typeof console.log&&"object"!==_typeof(console.log)||console.log(n)}}function V(e,t,i,n){var s=!1;try{if("function"==typeof t){s=!0;"rejectionHandled"===e?t(n):t(i,n)}}catch(e){a.throwLater(e)}"unhandledRejection"===e?S(e,i,n)||s||$(i,"Unhandled rejection "):S(e,n)}function H(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():u.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var i=JSON.stringify(e);t=i}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function j(){return"function"==typeof Y}var U=function(){return!1},z=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function G(e){var t=e.match(z);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function X(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Y(this,X);t>32&&this.uncycle()}u.inherits(X,Error);i.CapturedTrace=X;X.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],i={},n=0,s=this;void 0!==s;++n){t.push(s);s=s._parent}for(var n=(e=this._length=n)-1;n>=0;--n){var r=t[n].stack;void 0===i[r]&&(i[r]=n)}for(var n=0;n<e;++n){var o=t[n].stack,a=i[o];if(void 0!==a&&a!==n){if(a>0){t[a-1]._parent=void 0;t[a-1]._length=1}t[n]._parent=void 0;t[n]._length=1;var l=n>0?t[n-1]:this;if(a<e-1){l._parent=t[a+1];l._parent.uncycle();l._length=l._parent._length+1}else{l._parent=void 0;l._length=1}for(var u=l._length+1,c=n-2;c>=0;--c){t[c]._length=u;u++}return}}}};X.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=W(e),i=t.message,n=[t.stack],s=this;void 0!==s;){n.push(N(s.stack.split("\n")));s=s._parent}!function(e){for(var t=e[0],i=1;i<e.length;++i){for(var n=e[i],s=t.length-1,r=t[s],o=-1,a=n.length-1;a>=0;--a)if(n[a]===r){o=a;break}for(var a=o;a>=0;--a){var l=n[a];if(t[s]!==l)break;t.pop();s--}t=n}}(n);!function(e){for(var t=0;t<e.length;++t)if(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}(n);u.notEnumerableProp(e,"stack",function(e,t){for(var i=0;i<t.length-1;++i){t[i].push("From previous event:");t[i]=t[i].join("\n")}i<t.length&&(t[i]=t[i].join("\n"));return e+"\n"+t.join("\n")}(i,n));u.notEnumerableProp(e,"__stackCleaned__",!0)}};var Y=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():H(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6;m=e;f=t;var i=Error.captureStackTrace;U=function(e){return d.test(e)};return function(e,t){Error.stackTraceLimit+=6;i(e,t);Error.stackTraceLimit-=6}}var n,s=new Error;if("string"==typeof s.stack&&s.stack.split("\n")[0].indexOf("stackDetection@")>=0){m=/@/;f=t;p=!0;return function(e){e.stack=(new Error).stack}}try{throw new Error}catch(e){n="stack"in e}if(!("stack"in s)&&n&&"number"==typeof Error.stackTraceLimit){m=e;f=t;return function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}}f=function(e,t){return"string"==typeof e?e:"object"!==_typeof(t)&&"function"!=typeof t||void 0===t.name||void 0===t.message?H(t):t.toString()};return null}();if("undefined"!=typeof console&&void 0!==console.warn){r=function(e){console.warn(e)};u.isNode&&process.stderr.isTTY?r=function(e,t){var i=t?"[33m":"[31m";console.warn(i+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(r=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")})}var K={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};q&&t.longStackTraces();return{longStackTraces:function(){return K.longStackTraces},warnings:function(){return K.warnings},cancellation:function(){return K.cancellation},monitoring:function(){return K.monitoring},propagateFromFunction:function(){return P},boundValueFunction:function(){return k},checkForgottenReturns:function(e,t,i,n,s){if(void 0===e&&null!==t&&v){if(void 0!==s&&s._returnedNonUndefined())return;if(0==(65535&n._bitField))return;i&&(i+=" ");var r="",o="";if(t._trace){for(var a=t._trace.stack.split("\n"),l=N(a),u=l.length-1;u>=0;--u){var c=l[u];if(!h.test(c)){var d=c.match(g);d&&(r="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0)for(var m=l[0],u=0;u<a.length;++u)if(a[u]===m){u>0&&(o="\n"+a[u-1]);break}}var f="a promise was created in a "+i+"handler "+r+"but was not returned from it, see http://goo.gl/rRqMUw"+o;n._warn(f,!0,t)}},setBounds:function(e,t){if(j()){for(var i,n,s=e.stack.split("\n"),r=t.stack.split("\n"),o=-1,a=-1,l=0;l<s.length;++l){var u=G(s[l]);if(u){i=u.fileName;o=u.line;break}}for(var l=0;l<r.length;++l){var u=G(r[l]);if(u){n=u.fileName;a=u.line;break}}o<0||a<0||!i||!n||i!==n||o>=a||(U=function(e){if(d.test(e))return!0;var t=G(e);return!!(t&&t.fileName===i&&o<=t.line&&t.line<=a)})}},warn:F,deprecated:function(e,t){var i=e+" is deprecated and will be removed in a future version.";t&&(i+=" Use "+t+" instead.");return F(i)},CapturedTrace:X,fireDomEvent:y,fireGlobalEvent:C}}},{"./errors":12,"./util":36}],10:[function(e,t,i){"use strict";t.exports=function(e){function t(){return this.value}function i(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(i){i instanceof e&&i.suppressUnhandledRejections();return this._then(t,void 0,void 0,{value:i},void 0)};e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(i,void 0,void 0,{reason:e},void 0)};e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})};e.prototype.catchReturn=function(i){if(arguments.length<=1){i instanceof e&&i.suppressUnhandledRejections();return this._then(void 0,t,void 0,{value:i},void 0)}var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();return this.caught(i,function(){return n})}}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.reduce,n=e.all;function s(){return n(this)}e.prototype.each=function(e){return i(this,e,t,0)._then(s,void 0,void 0,this,void 0)};e.prototype.mapSeries=function(e){return i(this,e,t,t)};e.each=function(e,n){return i(e,n,t,0)._then(s,void 0,void 0,e,void 0)};e.mapSeries=function(e,n){return i(e,n,t,t)}}},{}],12:[function(e,t,i){"use strict";var n,s,r=e("./es5"),o=r.freeze,a=e("./util"),l=a.inherits,u=a.notEnumerableProp;function c(e,t){function i(n){if(!(this instanceof i))return new i(n);u(this,"message","string"==typeof n?n:t);u(this,"name",e);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}l(i,Error);return i}var d=c("Warning","warning"),h=c("CancellationError","cancellation error"),g=c("TimeoutError","timeout error"),m=c("AggregateError","aggregate error");try{n=TypeError;s=RangeError}catch(e){n=c("TypeError","type error");s=c("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<f.length;++p)"function"==typeof Array.prototype[f[p]]&&(m.prototype[f[p]]=Array.prototype[f[p]]);r.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});m.prototype.isOperational=!0;var _=0;m.prototype.toString=function(){var e=Array(4*_+1).join(" "),t="\n"+e+"AggregateError of:\n";_++;e=Array(4*_+1).join(" ");for(var i=0;i<this.length;++i){for(var n=this[i]===this?"[Circular AggregateError]":this[i]+"",s=n.split("\n"),r=0;r<s.length;++r)s[r]=e+s[r];n=s.join("\n");t+=n+"\n"}_--;return t};function x(e){if(!(this instanceof x))return new x(e);u(this,"name","OperationalError");u(this,"message",e);this.cause=e;this.isOperational=!0;if(e instanceof Error){u(this,"message",e.message);u(this,"stack",e.stack)}else Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}l(x,Error);var q=Error.__BluebirdErrorTypes__;if(!q){q=o({CancellationError:h,TimeoutError:g,OperationalError:x,RejectionError:x,AggregateError:m});r.defineProperty(Error,"__BluebirdErrorTypes__",{value:q,writable:!1,enumerable:!1,configurable:!1})}t.exports={Error:Error,TypeError:n,RangeError:s,CancellationError:q.CancellationError,OperationalError:q.OperationalError,TimeoutError:q.TimeoutError,AggregateError:q.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,i){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!(i&&!i.writable&&!i.set)}};else{var s={}.hasOwnProperty,r={}.toString,o={}.constructor.prototype,a=function(e){var t=[];for(var i in e)s.call(e,i)&&t.push(i);return t};t.exports={isArray:function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}},keys:a,names:a,defineProperty:function(e,t,i){e[t]=i.value;return e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.map;e.prototype.filter=function(e,n){return i(this,e,n,t)};e.filter=function(e,n,s){return i(e,n,s,t)}}},{}],15:[function(e,t,i){"use strict";t.exports=function(t,i){var n=e("./util"),s=t.CancellationError,r=n.errorObj;function o(e,t,i){this.promise=e;this.type=t;this.handler=i;this.called=!1;this.cancelPromise=null}o.prototype.isFinallyHandler=function(){return 0===this.type};function a(e){this.finallyHandler=e}a.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(e,t){if(null!=e.cancelPromise){arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel();e.cancelPromise=null;return!0}return!1}function u(){return d.call(this,this.promise._target()._settledValue())}function c(e){if(!l(this,e)){r.e=e;return r}}function d(e){var n=this.promise,o=this.handler;if(!this.called){this.called=!0;var d=this.isFinallyHandler()?o.call(n._boundValue()):o.call(n._boundValue(),e);if(void 0!==d){n._setReturnedNonUndefined();var h=i(d,n);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var g=new s("late cancellation observer");n._attachExtraTrace(g);r.e=g;return r}h.isPending()&&h._attachCancellationCallback(new a(this))}return h._then(u,c,void 0,this,void 0)}}}if(n.isRejected()){l(this);r.e=e;return r}l(this);return e}t.prototype._passThrough=function(e,t,i,n){return"function"!=typeof e?this.then():this._then(i,n,void 0,new o(this,t,e),void 0)};t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,d,d)};t.prototype.tap=function(e){return this._passThrough(e,1,d)};return o}},{"./util":36}],16:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r,o){var a=e("./errors"),l=a.TypeError,u=e("./util"),c=u.errorObj,d=u.tryCatch,h=[];function g(e,i,s,r){if(o.cancellation()){var a=new t(n),l=this._finallyPromise=new t(n);this._promise=a.lastly(function(){return l});a._captureStackTrace();a._setOnCancel(this)}else{var u=this._promise=new t(n);u._captureStackTrace()}this._stack=r;this._generatorFunction=e;this._receiver=i;this._generator=void 0;this._yieldHandlers="function"==typeof s?[s].concat(h):h;this._yieldedPromise=null;this._cancellationPhase=!1}u.inherits(g,r);g.prototype._isResolved=function(){return null===this._promise};g.prototype._cleanup=function(){this._promise=this._generator=null;if(o.cancellation()&&null!==this._finallyPromise){this._finallyPromise._fulfill();this._finallyPromise=null}};g.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,i=void 0!==this._generator.return;if(i){this._promise._pushContext();e=d(this._generator.return).call(this._generator,void 0);this._promise._popContext()}else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n;this._promise._attachExtraTrace(n);this._promise._pushContext();e=d(this._generator.throw).call(this._generator,n);this._promise._popContext()}this._cancellationPhase=!0;this._yieldedPromise=null;this._continue(e)}};g.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};g.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext();this._continue(t)};g.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};g.prototype.promise=function(){return this._promise};g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;this._promiseFulfilled(void 0)};g.prototype._continue=function(e){var i=this._promise;if(e===c){this._cleanup();return this._cancellationPhase?i.cancel():i._rejectCallback(e.e,!1)}var n=e.value;if(!0===e.done){this._cleanup();return this._cancellationPhase?i.cancel():i._resolveCallback(n)}var r=s(n,this._promise);if(r instanceof t||null!==(r=function(e,i,n){for(var r=0;r<i.length;++r){n._pushContext();var o=d(i[r])(e);n._popContext();if(o===c){n._pushContext();var a=t.reject(c.e);n._popContext();return a}var l=s(o,n);if(l instanceof t)return l}return null}(r,this._yieldHandlers,this._promise))){var o=(r=r._target())._bitField;if(0==(50397184&o)){this._yieldedPromise=r;r._proxy(this,null)}else 0!=(33554432&o)?t._async.invoke(this._promiseFulfilled,this,r._value()):0!=(16777216&o)?t._async.invoke(this._promiseRejected,this,r._reason()):this._promiseCancelled()}else this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))};t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=Object(t).yieldHandler,n=g,s=(new Error).stack;return function(){var t=e.apply(this,arguments),r=new n(void 0,void 0,i,s),o=r.promise();r._generator=t;r._promiseFulfilled(void 0);return o}};t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+u.classString(e));h.push(e)};t.spawn=function(e){o.deprecated("Promise.spawn()","Promise.coroutine()");if("function"!=typeof e)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new g(e,this),s=n.promise();n._run(t.spawn);return s}}},{"./errors":12,"./util":36}],17:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r,o){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj;t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var s=new i(n).promise();return void 0!==e?s.spread(e):s}}},{"./util":36}],18:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r,o){var a=t._getDomain,l=e("./util"),u=l.tryCatch,c=l.errorObj;function d(e,t,i,n){this.constructor$(e);this._promise._captureStackTrace();var s=a();this._callback=null===s?t:l.domainBind(s,t);this._preservedValues=n===r?new Array(this.length()):null;this._limit=i;this._inFlight=0;this._queue=[];this._init$(void 0,-2)}l.inherits(d,i);d.prototype._init=function(){};d.prototype._promiseFulfilled=function(e,i){var n=this._values,r=this.length(),a=this._preservedValues,l=this._limit;if(i<0){n[i=-1*i-1]=e;if(l>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return!0}}else{if(l>=1&&this._inFlight>=l){n[i]=e;this._queue.push(i);return!1}null!==a&&(a[i]=e);var d=this._promise,h=this._callback,g=d._boundValue();d._pushContext();var m=u(h).call(g,e,i,r),f=d._popContext();o.checkForgottenReturns(m,f,null!==a?"Promise.filter":"Promise.map",d);if(m===c){this._reject(m.e);return!0}var p=s(m,this._promise);if(p instanceof t){var _=(p=p._target())._bitField;if(0==(50397184&_)){l>=1&&this._inFlight++;n[i]=p;p._proxy(this,-1*(i+1));return!1}if(0==(33554432&_)){if(0!=(16777216&_)){this._reject(p._reason());return!0}this._cancel();return!0}m=p._value()}n[i]=m}var x=++this._totalResolved;if(x>=r){null!==a?this._filter(n,a):this._resolve(n);return!0}return!1};d.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,i=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(i[n],n)}};d.prototype._filter=function(e,t){for(var i=t.length,n=new Array(i),s=0,r=0;r<i;++r)e[r]&&(n[s++]=t[r]);n.length=s;this._resolve(n)};d.prototype.preservedValues=function(){return this._preservedValues};function h(e,i,s,r){if("function"!=typeof i)return n("expecting a function but got "+l.classString(i));var o=0;if(void 0!==s){if("object"!==_typeof(s)||null===s)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(s)));if("number"!=typeof s.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(s.concurrency)));o=s.concurrency}o="number"==typeof o&&isFinite(o)&&o>=1?o:0;return new d(e,i,o,r).promise()}t.prototype.map=function(e,t){return h(this,e,t,null)};t.map=function(e,t,i,n){return h(e,t,i,n)}}},{"./util":36}],19:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r){var o=e("./util"),a=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+o.classString(e));return function(){var n=new t(i);n._captureStackTrace();n._pushContext();var s=a(e).apply(this,arguments),o=n._popContext();r.checkForgottenReturns(s,o,"Promise.method",n);n._resolveFromSyncValue(s);return n}};t.attempt=t.try=function(e){if("function"!=typeof e)return s("expecting a function but got "+o.classString(e));var n,l=new t(i);l._captureStackTrace();l._pushContext();if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],c=arguments[2];n=o.isArray(u)?a(e).apply(c,u):a(e).call(c,u)}else n=a(e)();var d=l._popContext();r.checkForgottenReturns(n,d,"Promise.try",l);l._resolveFromSyncValue(n);return l};t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,i){"use strict";var n=e("./util"),s=n.maybeWrapAsError,r=e("./errors"),o=r.OperationalError,a=e("./es5"),l=/^(?:name|message|stack|cause)$/;function u(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name;t.message=e.message;t.stack=e.stack;for(var i=a.keys(e),s=0;s<i.length;++s){var r=i[s];l.test(r)||(t[r]=e[r])}return t}n.markAsOriginatingFromRejection(e);return e}t.exports=function(e,t){return function(i,n){if(null!==e){if(i){var r=u(s(i));e._attachExtraTrace(r);e._reject(r)}else if(t){var o=[].slice.call(arguments,1);e._fulfill(o)}else e._fulfill(n);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){"use strict";t.exports=function(t){var i=e("./util"),n=t._async,s=i.tryCatch,r=i.errorObj;function o(e,t){if(!i.isArray(e))return a.call(this,e,t);var o=s(t).apply(this._boundValue(),[null].concat(e));o===r&&n.throwLater(o.e)}function a(e,t){var i=this._boundValue(),o=void 0===e?s(t).call(i,null):s(t).call(i,null,e);o===r&&n.throwLater(o.e)}function l(e,t){if(!e){var i=new Error(e+"");i.cause=e;e=i}var o=s(t).call(this._boundValue(),e);o===r&&n.throwLater(o.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var i=a;void 0!==t&&Object(t).spread&&(i=o);this._then(i,l,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,i){"use strict";t.exports=function(){var i=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},n=function(){return new I.PromiseInspection(this._target())},s=function(e){return I.reject(new g(e))};function r(){}var o,a={},l=e("./util");o=l.isNode?function(){var e=process.domain;void 0===e&&(e=null);return e}:function(){return null};l.notEnumerableProp(I,"_getDomain",o);var u=e("./es5"),c=e("./async"),d=new c;u.defineProperty(I,"_async",{value:d});var h=e("./errors"),g=I.TypeError=h.TypeError;I.RangeError=h.RangeError;var m=I.CancellationError=h.CancellationError;I.TimeoutError=h.TimeoutError;I.OperationalError=h.OperationalError;I.RejectionError=h.OperationalError;I.AggregateError=h.AggregateError;var f=function(){},p={},_={},x=e("./thenables")(I,f),q=e("./promise_array")(I,f,x,s,r),v=e("./context")(I),b=v.create,y=e("./debuggability")(I,v),C=(y.CapturedTrace,e("./finally")(I,x)),w=e("./catch_filter")(_),E=e("./nodeback"),S=l.errorObj,T=l.tryCatch;function I(e){this._bitField=0;this._fulfillmentHandler0=void 0;this._rejectionHandler0=void 0;this._promise0=void 0;this._receiver0=void 0;if(e!==f){!function(e,t){if("function"!=typeof t)throw new g("expecting a function but got "+l.classString(t));if(e.constructor!==I)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,e);this._resolveFromExecutor(e)}this._promiseCreated();this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"};I.prototype.caught=I.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,n=new Array(t-1),r=0;for(i=0;i<t-1;++i){var o=arguments[i];if(!l.isObject(o))return s("expecting an object but got A catch statement predicate "+l.classString(o));n[r++]=o}n.length=r;e=arguments[i];return this.then(void 0,w(n,e,this))}return this.then(void 0,e)};I.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)};I.prototype.then=function(e,t){if(y.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(i+=", "+l.classString(t));this._warn(i)}return this._then(e,t,void 0,void 0,void 0)};I.prototype.done=function(e,t){var i=this._then(e,t,void 0,void 0,void 0);i._setIsFinal()};I.prototype.spread=function(e){return"function"!=typeof e?s("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,p,void 0)};I.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=!0}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=!0}return e};I.prototype.all=function(){arguments.length>0&&this._warn(".all() was passed arguments but it does not take any");return new q(this).promise()};I.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)};I.getNewLibraryCopy=t.exports;I.is=function(e){return e instanceof I};I.fromNode=I.fromCallback=function(e){var t=new I(f);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=T(e)(E(t,i));n===S&&t._rejectCallback(n.e,!0);t._isFateSealed()||t._setAsyncGuaranteed();return t};I.all=function(e){return new q(e).promise()};I.cast=function(e){var t=x(e);if(!(t instanceof I)){(t=new I(f))._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};I.resolve=I.fulfilled=I.cast;I.reject=I.rejected=function(e){var t=new I(f);t._captureStackTrace();t._rejectCallback(e,!0);return t};I.setScheduler=function(e){if("function"!=typeof e)throw new g("expecting a function but got "+l.classString(e));return d.setScheduler(e)};I.prototype._then=function(e,t,i,n,s){var r=void 0!==s,a=r?s:new I(f),u=this._target(),c=u._bitField;if(!r){a._propagateFrom(this,3);a._captureStackTrace();void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo);this._fireEvent("promiseChained",this,a)}var h=o();if(0!=(50397184&c)){var g,p,_=u._settlePromiseCtx;if(0!=(33554432&c)){p=u._rejectionHandler0;g=e}else if(0!=(16777216&c)){p=u._fulfillmentHandler0;g=t;u._unsetRejectionIsUnhandled()}else{_=u._settlePromiseLateCancellationObserver;p=new m("late cancellation observer");u._attachExtraTrace(p);g=t}d.invoke(_,u,{handler:null===h?g:"function"==typeof g&&l.domainBind(h,g),promise:a,receiver:n,value:p})}else u._addCallbacks(e,t,a,n,h);return a};I.prototype._length=function(){return 65535&this._bitField};I.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)};I.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)};I.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e};I.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField;this._fireEvent("promiseFulfilled",this)};I.prototype._setRejected=function(){this._bitField=16777216|this._bitField;this._fireEvent("promiseRejected",this)};I.prototype._setFollowing=function(){this._bitField=67108864|this._bitField;this._fireEvent("promiseResolved",this)};I.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField};I.prototype._isFinal=function(){return(4194304&this._bitField)>0};I.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField};I.prototype._setCancelled=function(){this._bitField=65536|this._bitField;this._fireEvent("promiseCancelled",this)};I.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField};I.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=134217728|this._bitField)};I.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==a)return void 0===t&&this._isBound()?this._boundValue():t};I.prototype._promiseAt=function(e){return this[4*e-4+2]};I.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]};I.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]};I.prototype._boundValue=function(){};I.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,i=e._rejectionHandler0,n=e._promise0,s=e._receiverAt(0);void 0===s&&(s=a);this._addCallbacks(t,i,n,s,null)};I.prototype._migrateCallbackAt=function(e,t){var i=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),s=e._promiseAt(t),r=e._receiverAt(t);void 0===r&&(r=a);this._addCallbacks(i,n,s,r,null)};I.prototype._addCallbacks=function(e,t,i,n,s){var r=this._length();if(r>=65531){r=0;this._setLength(0)}if(0===r){this._promise0=i;this._receiver0=n;"function"==typeof e&&(this._fulfillmentHandler0=null===s?e:l.domainBind(s,e));"function"==typeof t&&(this._rejectionHandler0=null===s?t:l.domainBind(s,t))}else{var o=4*r-4;this[o+2]=i;this[o+3]=n;"function"==typeof e&&(this[o+0]=null===s?e:l.domainBind(s,e));"function"==typeof t&&(this[o+1]=null===s?t:l.domainBind(s,t))}this._setLength(r+1);return r};I.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)};I.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(i(),!1);var n=x(e,this);if(!(n instanceof I))return this._fulfill(e);t&&this._propagateFrom(n,2);var s=n._target();if(s!==this){var r=s._bitField;if(0==(50397184&r)){var o=this._length();o>0&&s._migrateCallback0(this);for(var a=1;a<o;++a)s._migrateCallbackAt(this,a);this._setFollowing();this._setLength(0);this._setFollowee(s)}else if(0!=(33554432&r))this._fulfill(s._value());else if(0!=(16777216&r))this._reject(s._reason());else{var l=new m("late cancellation observer");s._attachExtraTrace(l);this._reject(l)}}else this._reject(i())}};I.prototype._rejectCallback=function(e,t,i){var n=l.ensureErrorObject(e),s=n===e;if(!s&&!i&&y.warnings()){var r="a promise was rejected with a non-error: "+l.classString(e);this._warn(r,!0)}this._attachExtraTrace(n,!!t&&s);this._reject(e)};I.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace();this._pushContext();var i=!0,n=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,i)});i=!1;this._popContext();void 0!==n&&t._rejectCallback(n,!0)};I.prototype._settlePromiseFromHandler=function(e,t,i,n){var s=n._bitField;if(0==(65536&s)){n._pushContext();var r;t===p?i&&"number"==typeof i.length?r=T(e).apply(this._boundValue(),i):(r=S).e=new g("cannot .spread() a non-array: "+l.classString(i)):r=T(e).call(t,i);var o=n._popContext();if(0==(65536&(s=n._bitField)))if(r===_)n._reject(i);else if(r===S)n._rejectCallback(r.e,!1);else{y.checkForgottenReturns(r,o,"",n,this);n._resolveCallback(r)}}};I.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e};I.prototype._followee=function(){return this._rejectionHandler0};I.prototype._setFollowee=function(e){this._rejectionHandler0=e};I.prototype._settlePromise=function(e,t,i,s){var o=e instanceof I,a=this._bitField,l=0!=(134217728&a);if(0!=(65536&a)){o&&e._invokeInternalOnCancel();if(i instanceof C&&i.isFinallyHandler()){i.cancelPromise=e;T(t).call(i,s)===S&&e._reject(S.e)}else t===n?e._fulfill(n.call(i)):i instanceof r?i._promiseCancelled(e):o||e instanceof q?e._cancel():i.cancel()}else if("function"==typeof t)if(o){l&&e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,i,s,e)}else t.call(i,s,e);else if(i instanceof r)i._isResolved()||(0!=(33554432&a)?i._promiseFulfilled(s,e):i._promiseRejected(s,e));else if(o){l&&e._setAsyncGuaranteed();0!=(33554432&a)?e._fulfill(s):e._reject(s)}};I.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,n=e.receiver,s=e.value;"function"==typeof t?i instanceof I?this._settlePromiseFromHandler(t,n,s,i):t.call(n,s,i):i instanceof I&&i._reject(s)};I.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};I.prototype._settlePromise0=function(e,t,i){var n=this._promise0,s=this._receiverAt(0);this._promise0=void 0;this._receiver0=void 0;this._settlePromise(n,e,s,t)};I.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0};I.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=i();this._attachExtraTrace(n);return this._reject(n)}this._setFulfilled();this._rejectionHandler0=e;(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():d.settlePromises(this))}};I.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal())return d.fatalError(e,l.isNode);(65535&t)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}};I.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var n=this._fulfillmentHandlerAt(i),s=this._promiseAt(i),r=this._receiverAt(i);this._clearCallbackDataAtIndex(i);this._settlePromise(s,n,r,t)}};I.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var n=this._rejectionHandlerAt(i),s=this._promiseAt(i),r=this._receiverAt(i);this._clearCallbackDataAtIndex(i);this._settlePromise(s,n,r,t)}};I.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var i=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,i,e);this._rejectPromises(t,i)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e);this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()};I.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0};function A(e){this.promise._resolveCallback(e)}function D(e){this.promise._rejectCallback(e,!1)}I.defer=I.pending=function(){y.deprecated("Promise.defer","new Promise");var e=new I(f);return{promise:e,resolve:A,reject:D}};l.notEnumerableProp(I,"_makeSelfResolutionError",i);e("./method")(I,f,x,s,y);e("./bind")(I,f,x,y);e("./cancel")(I,q,s,y);e("./direct_resolve")(I);e("./synchronous_inspection")(I);e("./join")(I,q,x,f,d,o);I.Promise=I;I.version="3.4.5";e("./map.js")(I,q,s,x,f,y);e("./call_get.js")(I);e("./using.js")(I,s,x,b,f,y);e("./timers.js")(I,f,y);e("./generators.js")(I,s,f,x,r,y);e("./nodeify.js")(I);e("./promisify.js")(I,f);e("./props.js")(I,q,x,s);e("./race.js")(I,f,x,s);e("./reduce.js")(I,q,s,x,f,y);e("./settle.js")(I,q,y);e("./some.js")(I,q,s);e("./filter.js")(I,f);e("./each.js")(I,f);e("./any.js")(I);l.toFastProperties(I);l.toFastProperties(I.prototype);function B(e){var t=new I(f);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}B({a:1});B({b:2});B({c:3});B(1);B(function(){});B(void 0);B(!1);B(new I(f));y.setBounds(c.firstLineError,l.lastLineError);return I}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r){var o=e("./util");o.isArray;function a(e){var n=this._promise=new t(i);e instanceof t&&n._propagateFrom(e,3);n._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(void 0,-2)}o.inherits(a,r);a.prototype.length=function(){return this._length};a.prototype.promise=function(){return this._promise};a.prototype._init=function e(i,r){var a=n(this._values,this._promise);if(a instanceof t){var l=(a=a._target())._bitField;this._values=a;if(0==(50397184&l)){this._promise._setAsyncGuaranteed();return a._then(e,this._reject,void 0,this,r)}if(0==(33554432&l))return 0!=(16777216&l)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=o.asArray(a)))0!==a.length?this._iterate(a):-5===r?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{}}}(r));else{var u=s("expecting an array or an iterable object but got "+o.classString(a)).reason();this._promise._rejectCallback(u,!1)}};a.prototype._iterate=function(e){var i=this.getActualLength(e.length);this._length=i;this._values=this.shouldCopyValues()?new Array(i):this._values;for(var s=this._promise,r=!1,o=null,a=0;a<i;++a){var l=n(e[a],s);if(l instanceof t){l=l._target();o=l._bitField}else o=null;if(r)null!==o&&l.suppressUnhandledRejections();else if(null!==o)if(0==(50397184&o)){l._proxy(this,a);this._values[a]=l}else r=0!=(33554432&o)?this._promiseFulfilled(l._value(),a):0!=(16777216&o)?this._promiseRejected(l._reason(),a):this._promiseCancelled(a);else r=this._promiseFulfilled(l,a)}r||s._setAsyncGuaranteed()};a.prototype._isResolved=function(){return null===this._values};a.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};a.prototype._cancel=function(){if(!this._isResolved()&&this._promise._isCancellable()){this._values=null;this._promise._cancel()}};a.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,!1)};a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var i=++this._totalResolved;if(i>=this._length){this._resolve(this._values);return!0}return!1};a.prototype._promiseCancelled=function(){this._cancel();return!0};a.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return!0};a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;this._cancel();if(e instanceof t)e.cancel();else for(var i=0;i<e.length;++i)e[i]instanceof t&&e[i].cancel()}};a.prototype.shouldCopyValues=function(){return!0};a.prototype.getActualLength=function(e){return e};return a}},{"./util":36}],24:[function(e,t,i){"use strict";t.exports=function(t,i){var n={},s=e("./util"),r=e("./nodeback"),o=s.withAppended,a=s.maybeWrapAsError,l=s.canEvaluate,u=e("./errors").TypeError,c={__isPromisified__:!0},d=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return s.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function g(e){return!d.test(e)}function m(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function f(e,t,i){var n=s.getDataPropertyOrDefault(e,t+i,c);return!!n&&m(n)}function p(e,t,i,n){for(var r=s.inheritedDataKeys(e),o=[],a=0;a<r.length;++a){var l=r[a],c=e[l],d=n===h||h(l,c,e);"function"!=typeof c||m(c)||f(e,l,t)||!n(l,c,e,d)||o.push(l,c)}!function(e,t,i){for(var n=0;n<e.length;n+=2){var s=e[n];if(i.test(s))for(var r=s.replace(i,""),o=0;o<e.length;o+=2)if(e[o]===r)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(o,t,i);return o}var _=function(e){return e.replace(/([$])/,"\\$")},x=l?void 0:function(e,l,u,c,d,h){var g=function(){return this}(),m=e;"string"==typeof m&&(e=c);function f(){var s=l;l===n&&(s=this);var u=new t(i);u._captureStackTrace();var c="string"==typeof m&&this!==g?this[m]:e,d=r(u,h);try{c.apply(s,o(arguments,d))}catch(e){u._rejectCallback(a(e),!0,!0)}u._isFateSealed()||u._setAsyncGuaranteed();return u}s.notEnumerableProp(f,"__isPromisified__",!0);return f};function q(e,t,i,r,o){for(var a=new RegExp(_(t)+"$"),l=p(e,t,a,i),u=0,c=l.length;u<c;u+=2){var d=l[u],h=l[u+1],g=d+t;if(r===x)e[g]=x(d,n,d,h,t,o);else{var m=r(h,function(){return x(d,n,d,h,t,o)});s.notEnumerableProp(m,"__isPromisified__",!0);e[g]=m}}s.toFastProperties(e);return e}t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+s.classString(e));if(m(e))return e;var i=void 0===(t=Object(t)).context?n:t.context,r=!!t.multiArgs,o=function(e,t,i){return x(e,t,void 0,e,null,i)}(e,i,r);s.copyDescriptors(e,o,g);return o};t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!==_typeof(e))throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(t=Object(t)).multiArgs,n=t.suffix;"string"!=typeof n&&(n="Async");var r=t.filter;"function"!=typeof r&&(r=h);var o=t.promisifier;"function"!=typeof o&&(o=x);if(!s.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=s.inheritedDataKeys(e),l=0;l<a.length;++l){var c=e[a[l]];if("constructor"!==a[l]&&s.isClass(c)){q(c.prototype,n,r,o,i);q(c,n,r,o,i)}}return q(e,n,r,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){"use strict";t.exports=function(t,i,n,s){var r,o=e("./util"),a=o.isObject,l=e("./es5");"function"==typeof Map&&(r=Map);var u=function(){var e=0,t=0;function i(i,n){this[e]=i;this[e+t]=n;e++}return function(n){t=n.size;e=0;var s=new Array(2*n.size);n.forEach(i,s);return s}}();function c(e){var t,i=!1;if(void 0!==r&&e instanceof r){t=u(e);i=!0}else{var n=l.keys(e),s=n.length;t=new Array(2*s);for(var o=0;o<s;++o){var a=n[o];t[o]=e[a];t[o+s]=a}}this.constructor$(t);this._isMap=i;this._init$(void 0,-3)}o.inherits(c,i);c.prototype._init=function(){};c.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var i=++this._totalResolved;if(i>=this._length){var n;if(this._isMap)n=function(e){for(var t=new r,i=e.length/2|0,n=0;n<i;++n){var s=e[i+n],o=e[n];t.set(s,o)}return t}(this._values);else{n={};for(var s=this.length(),o=0,a=this.length();o<a;++o)n[this._values[o+s]]=this._values[o]}this._resolve(n);return!0}return!1};c.prototype.shouldCopyValues=function(){return!1};c.prototype.getActualLength=function(e){return e>>1};function d(e){var i,r=n(e);if(!a(r))return s("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");i=r instanceof t?r._then(t.props,void 0,void 0,void 0,void 0):new c(r).promise();r instanceof t&&i._propagateFrom(r,2);return i}t.prototype.props=function(){return d(this)};t.props=function(e){return d(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){"use strict";function n(e){this._capacity=e;this._length=0;this._front=0}n.prototype._willBeOverCapacity=function(e){return this._capacity<e};n.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var i=this._front+t&this._capacity-1;this[i]=e;this._length=t+1};n.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var i=this._front,n=(i-1&t-1^t)-t;this[n]=e;this._front=n;this._length=this.length()+1};n.prototype.unshift=function(e,t,i){this._unshiftOne(i);this._unshiftOne(t);this._unshiftOne(e)};n.prototype.push=function(e,t,i){var n=this.length()+3;if(this._willBeOverCapacity(n)){this._pushOne(e);this._pushOne(t);this._pushOne(i)}else{var s=this._front+n-3;this._checkCapacity(n);var r=this._capacity-1;this[s+0&r]=e;this[s+1&r]=t;this[s+2&r]=i;this._length=n}};n.prototype.shift=function(){var e=this._front,t=this[e];this[e]=void 0;this._front=e+1&this._capacity-1;this._length--;return t};n.prototype.length=function(){return this._length};n.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)};n.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var i=this._front,n=this._length,s=i+n&t-1;!function(e,t,i,n,s){for(var r=0;r<s;++r){i[r+n]=e[r+t];e[r+t]=void 0}}(this,0,this,t,s)};t.exports=n},{}],27:[function(e,t,i){"use strict";t.exports=function(t,i,n,s){var r=e("./util"),o=function(e){return e.then(function(t){return a(t,e)})};function a(e,a){var l=n(e);if(l instanceof t)return o(l);if(null===(e=r.asArray(e)))return s("expecting an array or an iterable object but got "+r.classString(e));var u=new t(i);void 0!==a&&u._propagateFrom(a,3);for(var c=u._fulfill,d=u._reject,h=0,g=e.length;h<g;++h){var m=e[h];(void 0!==m||h in e)&&t.cast(m)._then(c,d,void 0,u,null)}return u}t.race=function(e){return a(e,void 0)};t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r,o){var a=t._getDomain,l=e("./util"),u=l.tryCatch;function c(e,i,n,s){this.constructor$(e);var o=a();this._fn=null===o?i:l.domainBind(o,i);void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this);this._initialValue=n;this._currentCancellable=null;this._eachValues=s===r?Array(this._length):0===s?null:void 0;this._promise._captureStackTrace();this._init$(void 0,-5)}l.inherits(c,i);c.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==r&&this._eachValues.push(e)};c.prototype._eachComplete=function(e){null!==this._eachValues&&this._eachValues.push(e);return this._eachValues};c.prototype._init=function(){};c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)};c.prototype.shouldCopyValues=function(){return!1};c.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};c.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(!this._isResolved()){this._resultCancelled$();this._currentCancellable instanceof t&&this._currentCancellable.cancel();this._initialValue instanceof t&&this._initialValue.cancel()}};c.prototype._iterate=function(e){this._values=e;var i,n,s=e.length;if(void 0!==this._initialValue){i=this._initialValue;n=0}else{i=t.resolve(e[0]);n=1}this._currentCancellable=i;if(!i.isRejected())for(;n<s;++n){var r={accum:null,value:e[n],index:n,length:s,array:this};i=i._then(g,void 0,void 0,r,void 0)}void 0!==this._eachValues&&(i=i._then(this._eachComplete,void 0,void 0,this,void 0));i._then(d,d,void 0,i,this)};t.prototype.reduce=function(e,t){return h(this,e,t,null)};t.reduce=function(e,t,i,n){return h(e,t,i,n)};function d(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function h(e,t,i,s){if("function"!=typeof t)return n("expecting a function but got "+l.classString(t));var r=new c(e,t,i,s);return r.promise()}function g(e){this.accum=e;this.array._gotAccum(e);var i=s(this.value,this.array._promise);if(i instanceof t){this.array._currentCancellable=i;return i._then(m,void 0,void 0,this,void 0)}return m.call(this,i)}function m(e){var i,n=this.array,s=n._promise,r=u(n._fn);s._pushContext();(i=void 0!==n._eachValues?r.call(s._boundValue(),e,this.index,this.length):r.call(s._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=i);var a=s._popContext();o.checkForgottenReturns(i,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",s);return i}}},{"./util":36}],29:[function(e,t,i){"use strict";var n,s=e("./util"),r=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var o=global.setImmediate,a=process.nextTick;n=s.isRecentNode?function(e){o.call(global,e)}:function(e){a.call(process,e)}}else if("function"==typeof r&&"function"==typeof r.resolve){var l=r.resolve();n=function(e){l.then(e)}}else n="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},i=!1,n=document.createElement("div"),s=new MutationObserver(function(){e.classList.toggle("foo");i=!1});s.observe(n,t);return function(s){var r=new MutationObserver(function(){r.disconnect();s()});r.observe(e,t);!function(){if(!i){i=!0;n.classList.toggle("foo")}}()}}();t.exports=n},{"./util":36}],30:[function(e,t,i){"use strict";t.exports=function(t,i,n){var s=t.PromiseInspection,r=e("./util");function o(e){this.constructor$(e)}r.inherits(o,i);o.prototype._promiseResolved=function(e,t){this._values[e]=t;var i=++this._totalResolved;if(i>=this._length){this._resolve(this._values);return!0}return!1};o.prototype._promiseFulfilled=function(e,t){var i=new s;i._bitField=33554432;i._settledValueField=e;return this._promiseResolved(t,i)};o.prototype._promiseRejected=function(e,t){var i=new s;i._bitField=16777216;i._settledValueField=e;return this._promiseResolved(t,i)};t.settle=function(e){n.deprecated(".settle()",".reflect()");return new o(e).promise()};t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,i){"use strict";t.exports=function(t,i,n){var s=e("./util"),r=e("./errors").RangeError,o=e("./errors").AggregateError,a=s.isArray,l={};function u(e){this.constructor$(e);this._howMany=0;this._unwrap=!1;this._initialized=!1}s.inherits(u,i);u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=a(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])};u.prototype.init=function(){this._initialized=!0;this._init()};u.prototype.setUnwrap=function(){this._unwrap=!0};u.prototype.howMany=function(){return this._howMany};u.prototype.setHowMany=function(e){this._howMany=e};u.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values);return!0}return!1};u.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};u.prototype._promiseCancelled=function(){if(this._values instanceof t||null==this._values)return this._cancel();this._addRejected(l);return this._checkOutcome()};u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new o,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);e.length>0?this._reject(e):this._cancel();return!0}return!1};u.prototype._fulfilled=function(){return this._totalResolved};u.prototype._rejected=function(){return this._values.length-this.length()};u.prototype._addRejected=function(e){this._values.push(e)};u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)};u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new u(e),s=i.promise();i.setHowMany(t);i.init();return s}t.some=function(e,t){return c(e,t)};t.prototype.some=function(e){return c(this,e)};t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,i){"use strict";t.exports=function(e){function t(e){if(void 0!==e){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():void 0}else{this._bitField=0;this._settledValueField=void 0}}t.prototype._settledValue=function(){return this._settledValueField};var i=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},s=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},r=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)};e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)};e.prototype.isPending=function(){return o.call(this._target())};e.prototype.isRejected=function(){return r.call(this._target())};e.prototype.isFulfilled=function(){return s.call(this._target())};e.prototype.isResolved=function(){return a.call(this._target())};e.prototype.value=function(){return i.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return n.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(e,t,i){"use strict";t.exports=function(t,i){var n=e("./util"),s=n.errorObj,r=n.isObject,o={}.hasOwnProperty;return function(e,a){if(r(e)){if(e instanceof t)return e;var l=function(e){try{return function(e){return e.then}(e)}catch(e){s.e=e;return s}}(e);if(l===s){a&&a._pushContext();var u=t.reject(l.e);a&&a._popContext();return u}if("function"==typeof l){if(function(e){try{return o.call(e,"_promise0")}catch(e){return!1}}(e)){var u=new t(i);e._then(u._fulfill,u._reject,void 0,u,null);return u}return function(e,r,o){var a=new t(i),l=a;o&&o._pushContext();a._captureStackTrace();o&&o._popContext();var u=!0,c=n.tryCatch(r).call(e,function(e){if(a){a._resolveCallback(e);a=null}},function(e){if(a){a._rejectCallback(e,u,!0);a=null}});u=!1;if(a&&c===s){a._rejectCallback(c.e,!0,!0);a=null}return l}(e,l,a)}}return e}}},{"./util":36}],34:[function(e,t,i){"use strict";t.exports=function(t,i,n){var s=e("./util"),r=t.TimeoutError;function o(e){this.handle=e}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,s){var r,l;if(void 0!==s){r=t.resolve(s)._then(a,null,null,e,void 0);n.cancellation()&&s instanceof t&&r._setOnCancel(s)}else{r=new t(i);l=setTimeout(function(){r._fulfill()},+e);n.cancellation()&&r._setOnCancel(new o(l));r._captureStackTrace()}r._setAsyncGuaranteed();return r};t.prototype.delay=function(e){return l(e,this)};function u(e){clearTimeout(this.handle);return e}function c(e){clearTimeout(this.handle);throw e}t.prototype.timeout=function(e,t){e=+e;var i,a,l=new o(setTimeout(function(){i.isPending()&&function(e,t,i){var n;n="string"!=typeof t?t instanceof Error?t:new r("operation timed out"):new r(t);s.markAsOriginatingFromRejection(n);e._attachExtraTrace(n);e._reject(n);null!=i&&i.cancel()}(i,t,a)},e));if(n.cancellation()){a=this.then();(i=a._then(u,c,void 0,l,void 0))._setOnCancel(l)}else i=this._then(u,c,void 0,l,void 0);return i}}},{"./util":36}],35:[function(e,t,i){"use strict";t.exports=function(t,i,n,s,r,o){var a=e("./util"),l=e("./errors").TypeError,u=e("./util").inherits,c=a.errorObj,d=a.tryCatch,h={};function g(e){setTimeout(function(){throw e},0)}function m(e,i){var s=0,o=e.length,a=new t(r);!function r(){if(s>=o)return a._fulfill();var l=function(e){var t=n(e);t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer());return t}(e[s++]);if(l instanceof t&&l._isDisposable()){try{l=n(l._getDisposer().tryDispose(i),e.promise)}catch(e){return g(e)}if(l instanceof t)return l._then(r,g,null,null,null)}r()}();return a}function f(e,t,i){this._data=e;this._promise=t;this._context=i}f.prototype.data=function(){return this._data};f.prototype.promise=function(){return this._promise};f.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h};f.prototype.tryDispose=function(e){var t=this.resource(),i=this._context;void 0!==i&&i._pushContext();var n=t!==h?this.doDispose(t,e):null;void 0!==i&&i._popContext();this._promise._unsetDisposable();this._data=null;return n};f.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose};function p(e,t,i){this.constructor$(e,t,i)}u(p,f);p.prototype.doDispose=function(e,t){var i=this.data();return i.call(e,e,t)};function _(e){if(f.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function x(e){this.length=e;this.promise=null;this[e-1]=null}x.prototype._resultCancelled=function(){for(var e=this.length,i=0;i<e;++i){var n=this[i];n instanceof t&&n.cancel()}};t.using=function(){var e=arguments.length;if(e<2)return i("you must pass at least 2 arguments to Promise.using");var s,r=arguments[e-1];if("function"!=typeof r)return i("expecting a function but got "+a.classString(r));var l=!0;if(2===e&&Array.isArray(arguments[0])){s=arguments[0];e=s.length;l=!1}else{s=arguments;e--}for(var u=new x(e),h=0;h<e;++h){var g=s[h];if(f.isDisposer(g)){var p=g;(g=g.promise())._setDisposable(p)}else{var q=n(g);q instanceof t&&(g=q._then(_,null,null,{resources:u,index:h},void 0))}u[h]=g}for(var v=new Array(u.length),h=0;h<v.length;++h)v[h]=t.resolve(u[h]).reflect();var b=t.all(v).then(function(e){for(var t=0;t<e.length;++t){var i=e[t];if(i.isRejected()){c.e=i.error();return c}if(!i.isFulfilled()){b.cancel();return}e[t]=i.value()}y._pushContext();r=d(r);var n=l?r.apply(void 0,e):r(e),s=y._popContext();o.checkForgottenReturns(n,s,"Promise.using",y);return n}),y=b.lastly(function(){var e=new t.PromiseInspection(b);return m(u,e)});u.promise=y;y._setOnCancel(u);return y};t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField;this._disposer=e};t.prototype._isDisposable=function(){return(131072&this._bitField)>0};t.prototype._getDisposer=function(){return this._disposer};t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField;this._disposer=void 0};t.prototype.disposer=function(e){if("function"==typeof e)return new p(e,this,s());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,t,i){"use strict";var n=e("./es5"),s="undefined"==typeof navigator,r={e:{}},o,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function l(){try{var e=o;o=null;return e.apply(this,arguments)}catch(e){r.e=e;return r}}function u(e){o=e;return l}var c=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e;this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}n.prototype=t.prototype;e.prototype=new n;return e.prototype};function d(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function h(e){return"function"==typeof e||"object"===_typeof(e)&&null!==e}function g(e){return d(e)?new Error(E(e)):e}function m(e,t){var i,n=e.length,s=new Array(n+1);for(i=0;i<n;++i)s[i]=e[i];s[i]=t;return s}function f(e,t,i){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var s=Object.getOwnPropertyDescriptor(e,t);return null!=s?null==s.get&&null==s.set?s.value:i:void 0}function p(e,t,i){if(d(e))return e;var s={value:i,configurable:!0,enumerable:!1,writable:!0};n.defineProperty(e,t,s);return e}function _(e){throw e}var x=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1};if(n.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var s=[],r=Object.create(null);null!=e&&!t(e);){var o;try{o=i(e)}catch(e){return s}for(var a=0;a<o.length;++a){var l=o[a];if(!r[l]){r[l]=!0;var u=Object.getOwnPropertyDescriptor(e,l);null!=u&&null==u.get&&null==u.set&&s.push(l)}}e=n.getPrototypeOf(e)}return s}}var s={}.hasOwnProperty;return function(i){if(t(i))return[];var n=[];e:for(var r in i)if(s.call(i,r))n.push(r);else{for(var o=0;o<e.length;++o)if(s.call(e[o],r))continue e;n.push(r)}return n}}(),q=/this\s*\.\s*\S+\s*=/;function v(e){try{if("function"==typeof e){var t=n.names(e.prototype),i=n.isES5&&t.length>1,s=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=q.test(e+"")&&n.names(e).length>0;if(i||s||r)return!0}return!1}catch(e){return!1}}function b(e){function t(){}t.prototype=e;for(var i=8;i--;)new t;return e}var y=/^[a-z$_][a-z$_0-9]*$/i;function C(e){return y.test(e)}function w(e,t,i){for(var n=new Array(e),s=0;s<e;++s)n[s]=t+s+i;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){return null!==e&&"object"===_typeof(e)&&"string"==typeof e.message&&"string"==typeof e.name}function T(e){try{p(e,"isOperational",!0)}catch(e){}}function I(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function A(e){return S(e)&&n.propertyIsWritable(e,"stack")}var D="stack"in new Error?function(e){return A(e)?e:new Error(E(e))}:function(e){if(A(e))return e;try{throw new Error(E(e))}catch(e){return e}};function B(e){return{}.toString.call(e)}function L(e,t,i){for(var s=n.names(e),r=0;r<s.length;++r){var o=s[r];if(i(o))try{n.defineProperty(t,o,n.getDescriptor(e,o))}catch(e){}}}var M=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var P="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,i=[],n=e[Symbol.iterator]();!(t=n.next()).done;)i.push(t.value);return i};M=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?P(e):null}}var k="undefined"!=typeof process&&"[object process]"===B(process).toLowerCase();function R(e,t){return k?process.env[e]:t}function O(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function F(e,t){return e.bind(t)}var N={isClass:v,isIdentifier:C,inheritedDataKeys:x,getDataPropertyOrDefault:f,thrower:_,isArray:n.isArray,asArray:M,notEnumerableProp:p,isPrimitive:d,isObject:h,isError:S,canEvaluate:s,errorObj:r,tryCatch:u,inherits:c,withAppended:m,maybeWrapAsError:g,toFastProperties:b,filledRange:w,toString:E,canAttachTrace:A,ensureErrorObject:D,originatesFromRejection:I,markAsOriginatingFromRejection:T,classString:B,copyDescriptors:L,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:k,env:R,global:a,getNativePromise:O,domainBind:F},W;N.isRecentNode=N.isNode&&(W=process.versions.node.split(".").map(Number),0===W[0]&&W[1]>10||W[0]>0);N.isNode&&N.toFastProperties(process);try{throw new Error}catch(e){N.lastLineError=e}t.exports=N},{"./es5":13}]},{},[4])(4)}())}();qx.Promise.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.lang.normalize.String":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Function":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.String",{statics:{__unicodeLetters:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",__unicodeFirstLetterInWordRegexp:null,__stringsMap:{},camelCase:function(e){var t=this.__stringsMap[e];if(!t){t=e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()});e.indexOf("-")>=0&&(this.__stringsMap[e]=t)}return t},hyphenate:function(e){var t=this.__stringsMap[e];if(!t){t=e.replace(/[A-Z]/g,function(e){return"-"+e.charAt(0).toLowerCase()});-1==e.indexOf("-")&&(this.__stringsMap[e]=t)}return t},capitalize:function(e){if(null===this.__unicodeFirstLetterInWordRegexp){this.__unicodeFirstLetterInWordRegexp=new RegExp("(^|[^"+this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(e){return"\\u"+e})+"])["+this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(e){return"\\u"+e})+"]","g")}return e.replace(this.__unicodeFirstLetterInWordRegexp,function(e){return e.toUpperCase()})},clean:function(e){return e.replace(/\s+/g," ").trim()},trimLeft:function(e){return e.replace(/^\s+/,"")},trimRight:function(e){return e.replace(/\s+$/,"")},startsWith:function(e,t){return e.startsWith(t)},endsWith:function(e,t){return e.endsWith(t)},repeat:function(e,t){return e.length>0?new Array(t+1).join(e):""},pad:function(e,t,i){var n=t-e.length;if(n>0){void 0===i&&(i="0");return this.repeat(i,n)+e}return e},firstUp:qx.Bootstrap.firstUp,firstLow:qx.Bootstrap.firstLow,contains:function(e,t){return-1!=e.indexOf(t)},format:function(e,t){var i=e;Array.isArray(t)||(t=[t]);var n=1===t.length&&"object"===_typeof(t[0]);return i=i.replace(/%(\d+)|%{(\S*)}/g,function(e,i,s){if(s)return n?t[0][s]:s;if(i&&i>0&&t.length>=i){return t[i-1]}return e})},escapeRegexpChars:function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},toArray:function(e){return e.split(/\B|\b/g)},stripTags:function(e){return e.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(e,t){var i="",n=e.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){i+=arguments[1]+"\n";return""});!0===t&&qx.lang.Function.globalEval(i);return n},quote:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'}}});qx.lang.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.core.AssertionError":{},"qx.core.Object":{},"qx.log.Logger":{},"qx.lang.String":{},"qx.lang.Function":{},"qx.data.IListData":{},"qx.core.ValidationError":{},"qx.lang.Type":{},"qx.lang.Array":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.SingleValueBinding",{statics:{__bindings:{},__bindingsByTarget:{},bind:function(e,t,i,n,s){qx.core.Assert.assertObject(e,"sourceObject");qx.core.Assert.assertString(t,"sourcePropertyChain");qx.core.Assert.assertObject(i,"targetObject");qx.core.Assert.assertString(n,"targetPropertyChain");var r=this.__setUpTargetBinding(e,t,i,n,s),o=t.split("."),a=this.__checkForArrayInPropertyChain(o),l=[],u=[],c=[],d=[],h=e,g=null;try{for(var m=0;m<o.length;m++){var f=o[m];if(""!==a[m])d.push("change");else{var p=this.__getEventNameForProperty(h,f);if(!p){if(0==m)throw new qx.core.AssertionError("Binding property "+f+" of object "+h+" not possible: No event available. Full property chain: "+t);h instanceof qx.core.Object&&qx.Class.hasProperty(h.constructor,f)&&qx.log.Logger.warn("Binding property "+f+" of object "+h+" not possible: No event available. Full property chain: "+t);g=this.__setInitialValue(void 0,i,n,s,e);break}d.push(p)}l[m]=h;if(m==o.length-1)if(""!==a[m]){var _="last"===a[m]?h.length-1:a[m],x=h.getItem(_);g=this.__setInitialValue(x,i,n,s,e);c[m]=this.__bindEventToProperty(h,d[m],i,n,s,a[m])}else{if(null!=o[m]&&null!=h["get"+qx.lang.String.firstUp(o[m])]){x=h["get"+qx.lang.String.firstUp(o[m])]();g=this.__setInitialValue(x,i,n,s,e)}c[m]=this.__bindEventToProperty(h,d[m],i,n,s)}else{var q={index:m,propertyNames:o,sources:l,listenerIds:c,arrayIndexValues:a,targetObject:i,targetPropertyChain:n,options:s,listeners:u},v=qx.lang.Function.bind(this.__chainListener,this,q);u.push(v);c[m]=h.addListener(d[m],v)}if(null==h["get"+qx.lang.String.firstUp(o[m])])h=void 0;else if(""!==a[m]){_="last"===a[m]?h.length-1:a[m];h=h["get"+qx.lang.String.firstUp(o[m])](_)}else null===(h=h["get"+qx.lang.String.firstUp(o[m])]())&&o.length-1!=m&&(h=void 0);if(!h){this.__setInitialValue(h,i,n,s,e);break}}}catch(e){for(m=0;m<l.length;m++)l[m]&&c[m]&&l[m].removeListenerById(c[m]);var b=r.targets,y=r.listenerIds;for(m=0;m<b.length;m++)b[m]&&y[m]&&b[m].removeListenerById(y[m]);throw e}var C={type:"deepBinding",listenerIds:c,sources:l,targetListenerIds:r.listenerIds,targets:r.targets,initialPromise:g};this.__storeBinding(C,e,t,i,n);return C},__chainListener:function(e){e.options&&e.options.onUpdate&&e.options.onUpdate(e.sources[e.index],e.targetObject);for(var t=e.index+1;t<e.propertyNames.length;t++){var i=e.sources[t];e.sources[t]=null;i&&i.removeListenerById(e.listenerIds[t])}for(i=e.sources[e.index],t=e.index+1;t<e.propertyNames.length;t++){i=""!==e.arrayIndexValues[t-1]?i["get"+qx.lang.String.firstUp(e.propertyNames[t-1])](e.arrayIndexValues[t-1]):i["get"+qx.lang.String.firstUp(e.propertyNames[t-1])]();e.sources[t]=i;if(!i){if(e.options&&e.options.converter){var n=!1;if(e.options.ignoreConverter){var s=e.propertyNames.slice(0,t).join(".").match(new RegExp("^"+e.options.ignoreConverter));n=!!s&&s.length>0}n?this.__resetTargetValue(e.targetObject,e.targetPropertyChain):this.__setTargetValue(e.targetObject,e.targetPropertyChain,e.options.converter())}else this.__resetTargetValue(e.targetObject,e.targetPropertyChain);break}if(t==e.propertyNames.length-1)if(qx.Class.implementsInterface(i,qx.data.IListData)&&""!==e.arrayIndexValues[t]){var r="last"===e.arrayIndexValues[t]?i.length-1:e.arrayIndexValues[t],o=i.getItem(r);this.__setInitialValue(o,e.targetObject,e.targetPropertyChain,e.options,e.sources[e.index]);e.listenerIds[t]=this.__bindEventToProperty(i,"change",e.targetObject,e.targetPropertyChain,e.options,e.arrayIndexValues[t])}else{if(null!=e.propertyNames[t]&&null!=i["get"+qx.lang.String.firstUp(e.propertyNames[t])]){o=i["get"+qx.lang.String.firstUp(e.propertyNames[t])]();this.__setInitialValue(o,e.targetObject,e.targetPropertyChain,e.options,e.sources[e.index])}if(!(l=this.__getEventNameForProperty(i,e.propertyNames[t]))){e.sources[t]=null;this.__resetTargetValue(e.targetObject,e.targetPropertyChain);return}e.listenerIds[t]=this.__bindEventToProperty(i,l,e.targetObject,e.targetPropertyChain,e.options)}else{if(null==e.listeners[t]){var a=qx.lang.Function.bind(this.__chainListener,this,e);e.listeners.push(a)}if(qx.Class.implementsInterface(i,qx.data.IListData))var l="change";else l=this.__getEventNameForProperty(i,e.propertyNames[t]);if(!l){e.sources[t]=null;this.__resetTargetValue(e.targetObject,e.targetPropertyChain);return}e.listenerIds[t]=i.addListener(l,e.listeners[t])}}},__setUpTargetBinding:function(e,t,i,n,s){for(var r=n.split("."),o=this.__checkForArrayInPropertyChain(r),a=[],l=[],u=[],c=[],d=i,h=0;h<r.length-1;h++){if(""!==o[h])c.push("change");else{var g=this.__getEventNameForProperty(d,r[h]);if(!g)break;c.push(g)}a[h]=d;var m=function c(){for(var d=h+1;d<r.length-1;d++){var g=a[d];a[d]=null;g&&g.removeListenerById(u[d])}for(g=a[h],d=h+1;d<r.length-1;d++){var m=qx.lang.String.firstUp(r[d-1]);if(""!==o[d-1]){var f="last"===o[d-1]?g.getLength()-1:o[d-1];g=g["get"+m](f)}else g=g["get"+m]();a[d]=g;if(!g)break;null==l[d]&&l.push(c);if(qx.Class.implementsInterface(g,qx.data.IListData))var p="change";else{if(!(p=qx.data.SingleValueBinding.__getEventNameForProperty(g,r[d])))break}u[d]=g.addListener(p,l[d])}qx.data.SingleValueBinding.updateTarget(e,t,i,n,s)};l.push(m);u[h]=d.addListener(c[h],m);var f=qx.lang.String.firstUp(r[h]);if(!(d=null==d["get"+f]?null:""!==o[h]?d["get"+f](o[h]):d["get"+f]()))break}return{listenerIds:u,targets:a}},updateTarget:function(e,t,i,n,s){var r=this.resolvePropertyChain(e,t);r=qx.data.SingleValueBinding.__convertValue(r,i,n,s,e);this.__setTargetValue(i,n,r)},resolvePropertyChain:function(e,t){var i=this.__getPropertyChainArray(t);return this.__getTargetFromChain(e,i,i.length)},__getEventNameForProperty:function(e,t){var i=this.__getEventForProperty(e,t);if(null==i)if(qx.Class.supportsEvent(e.constructor,t))i=t;else{if(!qx.Class.supportsEvent(e.constructor,"change"+qx.lang.String.firstUp(t)))return null;i="change"+qx.lang.String.firstUp(t)}return i},__resetTargetValue:function(e,t){var i=this.__getPropertyChainArray(t),n=this.__getTargetFromChain(e,i);if(null!=n){var s=i[i.length-1];if(this.__getArrayIndex(s)){this.__setTargetValue(e,t,null);return}if(void 0!=n["reset"+qx.lang.String.firstUp(s)])n["reset"+qx.lang.String.firstUp(s)]();else{if("function"!=typeof n["set"+qx.lang.String.firstUp(s)])throw new qx.core.AssertionError("No setter for '"+s+"' on target "+n+".");n["set"+qx.lang.String.firstUp(s)](null)}}},__setTargetValue:function(e,t,i){var n=this.__getPropertyChainArray(t),s=this.__getTargetFromChain(e,n);if(s){var r=n[n.length-1],o=this.__getArrayIndex(r);if(!o){if("function"!=typeof s["set"+qx.lang.String.firstUp(r)])throw new qx.core.AssertionError("No setter for '"+r+"' on target "+s+".");return s["set"+qx.lang.String.firstUp(r)](i)}"last"===o&&(o=s.length-1);s.setItem(o,i)}},__getArrayIndex:function(e){var t=e.match(/^\[(\d+|last)\]$/);return t?t[1]:null},__getPropertyChainArray:function(e){return e.replace(/\[/g,".[").split(".").filter(function(e){return""!==e})},__getTargetFromChain:function(e,t,i){i=i||t.length-1;for(var n=e,s=0;null!==n&&s<i;s++)try{var r=t[s],o=this.__getArrayIndex(r);if(o){"last"===o&&(o=n.length-1);n=n.getItem(o)}else n=n["get"+qx.lang.String.firstUp(r)]()}catch(e){return null}return n},__setInitialValue:function(e,t,i,n,s){void 0===(e=this.__convertValue(e,t,i,n,s))&&this.__resetTargetValue(t,i);if(void 0!==e)try{var r=this.__setTargetValue(t,i,e);n&&n.onUpdate&&n.onUpdate(s,t,e);return r}catch(i){if(!(i instanceof qx.core.ValidationError))throw i;n&&n.onSetFail?n.onSetFail(i):qx.log.Logger.warn("Failed so set value "+e+" on "+t+". Error message: "+i)}},__checkForArrayInPropertyChain:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n.endsWith("]")){var s=n.substring(n.indexOf("[")+1,n.indexOf("]"));if(n.indexOf("]")!=n.length-1)throw new Error("Please use only one array at a time: "+n+" does not work.");if("last"!==s&&(""==s||isNaN(parseInt(s,10))))throw new Error("No number or 'last' value has been given in an array binding: "+n+" does not work.");if(0!=n.indexOf("[")){e[i]=n.substring(0,n.indexOf("["));t[i]="";t[i+1]=s;e.splice(i+1,0,"item");i++}else{t[i]=s;e.splice(i,1,"item")}}else t[i]=""}return t},__bindEventToProperty:function(e,t,i,n,s,r){var o=qx.Class.getEventType(e.constructor,t);qx.core.Assert.assertEquals("qx.event.type.Data",o,t+" is not an data (qx.event.type.Data) event on "+e+".");var a=function(t,r){if(""!==t){"last"===t&&(t=e.length-1);void 0===(l=e.getItem(t))&&qx.data.SingleValueBinding.__resetTargetValue(i,n);var o=r.getData().start,a=r.getData().end;if(t<o||t>a)return}else var l=r.getData();l=qx.data.SingleValueBinding.__convertValue(l,i,n,s,e);var u;try{u=void 0!==l?qx.data.SingleValueBinding.__setTargetValue(i,n,l):qx.data.SingleValueBinding.__resetTargetValue(i,n);s&&s.onUpdate&&s.onUpdate(e,i,l)}catch(e){if(!(e instanceof qx.core.ValidationError))throw e;s&&s.onSetFail?s.onSetFail(e):qx.log.Logger.warn("Failed so set value "+l+" on "+i+". Error message: "+e)}return u};r||(r="");a=qx.lang.Function.bind(a,e,r);return e.addListener(t,a)},__storeBinding:function(e,t,i,n,s){var r;r=t.toHashCode();void 0===this.__bindings[r]&&(this.__bindings[r]=[]);var o=[e,t,i,n,s];this.__bindings[r].push(o);r=n.toHashCode();void 0===this.__bindingsByTarget[r]&&(this.__bindingsByTarget[r]=[]);this.__bindingsByTarget[r].push(o)},__convertValue:function(e,t,i,n,s){if(n&&n.converter){var r;t.getModel&&(r=t.getModel());return n.converter(e,r,s,t)}var o=this.__getPropertyChainArray(i),a=this.__getTargetFromChain(t,o),l=i.substring(i.lastIndexOf(".")+1,i.length);if(null==a)return e;var u=qx.Class.getPropertyDefinition(a.constructor,l),c=null==u?"":u.check;return this.__defaultConversion(e,c)},__getEventForProperty:function(e,t){var i=qx.Class.getPropertyDefinition(e.constructor,t);return null==i?null:i.event},__defaultConversion:function(e,t){var i=qx.lang.Type.getClass(e);"Number"!=i&&"String"!=i||"Integer"!=t&&"PositiveInteger"!=t||(e=parseInt(e,10));"Boolean"!=i&&"Number"!=i&&"Date"!=i||"String"!=t||(e+="");"Number"!=i&&"String"!=i||"Number"!=t&&"PositiveNumber"!=t||(e=parseFloat(e));return e},removeBindingFromObject:function(e,t){if("deepBinding"==t.type){for(var i=0;i<t.sources.length;i++)t.sources[i]&&(t.listenerIds[i]?t.sources[i].removeListenerById(t.listenerIds[i]):e.error("Could not remove deep bindings. Binding id for "+t.sources[i].classname+" could not be found!"));for(i=0;i<t.targets.length;i++)t.targets[i]&&(t.targetListenerIds[i]?t.targets[i].removeListenerById(t.targetListenerIds[i]):e.error("Could not remove target listener. Listener id for target "+t.targets[i].classname+" could not be found!"))}else e.removeListenerById(t);var n=this.getAllBindingsForObject(e);if(void 0!=n)for(i=0;i<n.length;i++)if(n[i][0]==t){var s=n[i][3];this.__bindingsByTarget[s.toHashCode()]&&qx.lang.Array.remove(this.__bindingsByTarget[s.toHashCode()],n[i]);var r=n[i][1];this.__bindings[r.toHashCode()]&&qx.lang.Array.remove(this.__bindings[r.toHashCode()],n[i]);return}throw new Error("Binding could not be found!")},removeAllBindingsForObject:function(e){qx.core.Assert.assertNotNull(e,"Can not remove the bindings for null object!");var t=this.getAllBindingsForObject(e);if(void 0!=t)for(var i=t.length-1;i>=0;i--)this.removeBindingFromObject(e,t[i][0])},removeRelatedBindings:function(e,t){qx.core.Assert.assertNotNull(e,"Can not remove the bindings for null object!");qx.core.Assert.assertNotNull(t,"Can not remove the bindings for null object!");var i=this.getAllBindingsForObject(e);if(void 0!=i)for(var n=i.length-1;n>=0;n--){var s=i[n][1],r=i[n][3];s!==t&&r!==t||this.removeBindingFromObject(e,i[n][0])}},getAllBindingsForObject:function(e){var t=e.toHashCode();void 0===this.__bindings[t]&&(this.__bindings[t]=[]);var i=this.__bindings[t],n=this.__bindingsByTarget[t]?this.__bindingsByTarget[t]:[];return qx.lang.Array.unique(i.concat(n))},removeAllBindings:function(){for(var e in this.__bindings){var t=qx.core.ObjectRegistry.fromHashCode(e);null!=t?this.removeAllBindingsForObject(t):delete this.__bindings[e]}this.__bindings={}},getAllBindings:function(){return this.__bindings},showBindingInLog:function(e,t){for(var i,n=0;n<this.__bindings[e.toHashCode()].length;n++)if(this.__bindings[e.toHashCode()][n][0]==t){i=this.__bindings[e.toHashCode()][n];break}if(void 0===i)var s="Binding does not exist!";else s="Binding from '"+i[1]+"' ("+i[2]+") to the object '"+i[3]+"' ("+i[4]+").";qx.log.Logger.debug(s)},showAllBindingsInLog:function(){for(var e in this.__bindings){var t=qx.core.ObjectRegistry.fromHashCode(e);if(t)for(var i=0;i<this.__bindings[e].length;i++)this.showBindingInLog(t,this.__bindings[e][i][0])}}}});qx.data.SingleValueBinding.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.event.IEventHandler",{statics:{TARGET_DOMNODE:1,TARGET_WINDOW:2,TARGET_OBJECT:4,TARGET_DOCUMENT:8},members:{canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}}});qx.event.IEventHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Object",{extend:qx.core.Object,implement:qx.event.IEventHandler,statics:{PRIORITY:qx.event.Registration.PRIORITY_LAST,SUPPORTED_TYPES:null,TARGET_CHECK:qx.event.IEventHandler.TARGET_OBJECT,IGNORE_CAN_HANDLE:!1},members:{canHandleEvent:function(e,t){return qx.Class.supportsEvent(e.constructor,t)},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["engine.version","engine.name"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Engine",{statics:{getVersion:function(){var e=window.navigator.userAgent,t="";if(qx.bom.client.Engine.__isMshtml()){var i=/Trident\/([^\);]+)(\)|;)/.test(e);if(/MSIE\s+([^\);]+)(\)|;)/.test(e))(t=RegExp.$1)<8&&i&&("4.0"==RegExp.$1?t="8.0":"5.0"==RegExp.$1&&(t="9.0"));else if(i){(n=/\brv\:(\d+?\.\d+?)\b/.exec(e))&&(t=n[1])}}else if(qx.bom.client.Engine.__isOpera()){if(/Opera[\s\/]([0-9]+)\.([0-9])([0-9]*)/.test(e))if(-1!=e.indexOf("Version/")){var n;t=(n=e.match(/Version\/(\d+)\.(\d+)/))[1]+"."+n[2].charAt(0)+"."+n[2].substring(1,n[2].length)}else{t=RegExp.$1+"."+RegExp.$2;""!=RegExp.$3&&(t+="."+RegExp.$3)}}else if(qx.bom.client.Engine.__isWebkit()){if(/AppleWebKit\/([^ ]+)/.test(e)){t=RegExp.$1;var s=RegExp("[^\\.0-9]").exec(t);s&&(t=t.slice(0,s.index))}}else if(qx.bom.client.Engine.__isGecko())/rv\:([^\);]+)(\)|;)/.test(e)&&(t=RegExp.$1);else{var r=window.qxFail;if(r&&"function"==typeof r)t=r().FULLVERSION;else{t="1.9.0.0";qx.Bootstrap.warn("Unsupported client: "+e+"! Assumed gecko version 1.9.0.0 (Firefox 3.0).")}}return t},getName:function(){var e;if(qx.bom.client.Engine.__isMshtml())e="mshtml";else if(qx.bom.client.Engine.__isOpera())e="opera";else if(qx.bom.client.Engine.__isWebkit())e="webkit";else if(qx.bom.client.Engine.__isGecko())e="gecko";else{var t=window.qxFail;if(t&&"function"==typeof t)e=t().NAME;else{e="gecko";qx.Bootstrap.warn("Unsupported client: "+window.navigator.userAgent+"! Assumed gecko version 1.9.0.0 (Firefox 3.0).")}}return e},__isOpera:function(){return window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera)},__isWebkit:function(){return-1!=window.navigator.userAgent.indexOf("AppleWebKit/")},__isGecko:function(){return(window.navigator.mozApps||window.navigator.buildID)&&"Gecko"===window.navigator.product&&-1==window.navigator.userAgent.indexOf("Trident")},__isMshtml:function(){return!(!window.navigator.cpuClass||!/MSIE\s+([^\);]+)(\)|;)/.test(window.navigator.userAgent)&&!/Trident\/\d+?\.\d+?/.test(window.navigator.userAgent))||!!qx.bom.client.Engine.__isWindowsPhone()},__isWindowsPhone:function(){return window.navigator.userAgent.indexOf("Windows Phone")>-1}},defer:function(e){qx.core.Environment.add("engine.version",e.getVersion);qx.core.Environment.add("engine.name",e.getName)}});qx.bom.client.Engine.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["browser.name","browser.version","browser.documentmode","browser.quirksmode"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Browser",{statics:{getName:function(){var e=navigator.userAgent,t=new RegExp("("+qx.bom.client.Browser.__agents+")(/|)?([0-9]+.[0-9])?"),i=e.match(t);if(!i)return"";var n=i[1].toLowerCase(),s=qx.bom.client.Engine.getName();if("webkit"===s)e.match(/Edge\/\d+\.\d+/)?n="edge":"android"===n?n="mobile chrome":-1!==e.indexOf("Mobile Safari")||-1!==e.indexOf("Mobile/")?n="mobile safari":-1!=e.indexOf(" OPR/")&&(n="opera");else if("mshtml"===s){if("msie"===n||"trident"===n){n="ie";"ce"===qx.bom.client.OperatingSystem.getVersion()&&(n="iemobile");t=new RegExp("IEMobile");e.match(t)&&(n="iemobile")}}else"opera"===s&&("opera mobi"===n?n="operamobile":"opera mini"===n&&(n="operamini"));return n},getVersion:function(){var e=navigator.userAgent,t=new RegExp("("+qx.bom.client.Browser.__agents+")(/| )([0-9]+.[0-9])"),i=e.match(t);if(!i)return"";var n=i[1].toLowerCase(),s=i[3];e.match(/Version(\/| )([0-9]+\.[0-9])/)&&(s=RegExp.$2);if("mshtml"==qx.bom.client.Engine.getName()){s=qx.bom.client.Engine.getVersion();"msie"===n&&"ce"==qx.bom.client.OperatingSystem.getVersion()&&(s="5.0")}if("webkit"==qx.bom.client.Engine.getName()||"opera"==qx.bom.client.Browser.getName()){e.match(/OPR(\/| )([0-9]+\.[0-9])/)&&(s=RegExp.$2);e.match(/Edge\/([\d+\.*]+)/)&&(s=RegExp.$1)}return s},getDocumentMode:function(){return document.documentMode?document.documentMode:0},getQuirksMode:function(){return"mshtml"==qx.bom.client.Engine.getName()&&parseFloat(qx.bom.client.Engine.getVersion())>=8?5===qx.bom.client.Engine.DOCUMENT_MODE:"CSS1Compat"!==document.compatMode},__agents:{webkit:"AdobeAIR|Titanium|Fluid|Chrome|Android|Epiphany|Konqueror|iCab|iPad|iPhone|OmniWeb|Maxthon|Pre|PhantomJS|Mobile Safari|Safari",gecko:"prism|Fennec|Camino|Kmeleon|Galeon|Netscape|SeaMonkey|Namoroka|Firefox",mshtml:"IEMobile|Maxthon|MSIE|Trident",opera:"Opera Mini|Opera Mobi|Opera"}[qx.bom.client.Engine.getName()]},defer:function(e){qx.core.Environment.add("browser.name",e.getName);qx.core.Environment.add("browser.version",e.getVersion);qx.core.Environment.add("browser.documentmode",e.getDocumentMode);qx.core.Environment.add("browser.quirksmode",e.getQuirksMode)}});qx.bom.client.Browser.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.Style":{},"qx.bom.Event":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["css.transition"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.CssTransition",{statics:{getTransitionName:function(){return qx.bom.Style.getPropertyName("transition")},getSupport:function(){var e=qx.bom.client.CssTransition.getTransitionName();if(!e)return null;var t=qx.bom.Event.getEventName(window,"transitionEnd");(t="transitionEnd"==t?t.toLowerCase():t)||(t=e+(e.indexOf("Trans")>0?"E":"e")+"nd");return{name:e,"end-event":t}}},defer:function(e){qx.core.Environment.add("css.transition",e.getSupport)}});qx.bom.client.CssTransition.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.String":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Node":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Style",{statics:{VENDOR_PREFIXES:["Webkit","Moz","O","ms","Khtml"],__cssName:{},__supports:null,getPropertyName:function(e){var t=document.documentElement.style;if(void 0!==t[e])return e;for(var i=0,n=this.VENDOR_PREFIXES.length;i<n;i++){var s=this.VENDOR_PREFIXES[i]+qx.lang.String.firstUp(e);if(void 0!==t[s])return s}return null},getCssName:function(e){var t=this.__cssName[e];if(!t){t=e.replace(/[A-Z]/g,function(e){return"-"+e.charAt(0).toLowerCase()});/^ms/.test(t)&&(t="-"+t);this.__cssName[e]=t}return t},getAppliedStyle:function(e,t,i,n){for(var s=qx.bom.Style.getCssName(t),r=qx.dom.Node.getWindow(e),o=!1!==n?[null].concat(this.VENDOR_PREFIXES):[null],a=0,l=o.length;a<l;a++){var u=!1,c=o[a]?"-"+o[a].toLowerCase()+"-"+i:i;if(qx.bom.Style.__supports)u=qx.bom.Style.__supports.call(r,s,c);else{e.style.cssText+=s+":"+c+";";u="string"==typeof e.style[t]&&""!==e.style[t]}if(u)return c}return null}},defer:function(e){window.CSS&&window.CSS.supports?qx.bom.Style.__supports=window.CSS.supports.bind(window.CSS):window.supportsCSS&&(qx.bom.Style.__supports=window.supportsCSS.bind(window))}});qx.bom.Style.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",defer:"runtime",require:!0},"qx.core.WindowError":{},"qx.core.GlobalError":{}},environment:{provided:["qx.globalErrorHandling"],required:{"qx.globalErrorHandling":{className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.GlobalError",{statics:{__callback:null,__originalOnError:null,__context:null,__isGlobaErrorHandlingEnabled:function(){return qx.core&&qx.core.Environment?qx.core.Environment.get("qx.globalErrorHandling"):!!qx.Bootstrap.getEnvironmentSetting("qx.globalErrorHandling")},setErrorHandler:function(e,t){this.__callback=e||null;this.__context=t||window;if(this.__isGlobaErrorHandlingEnabled()){if(e&&window.onerror){var i=qx.Bootstrap.bind(this.__onErrorWindow,this);null==this.__originalOnError&&(this.__originalOnError=window.onerror);var n=this;window.onerror=function(e,t,s){n.__originalOnError(e,t,s);i(e,t,s)}}e&&!window.onerror&&(window.onerror=qx.Bootstrap.bind(this.__onErrorWindow,this));if(null==this.__callback)if(null!=this.__originalOnError){window.onerror=this.__originalOnError;this.__originalOnError=null}else window.onerror=null}},__onErrorWindow:function(e,t,i,n,s){this.__callback&&this.handleError(new qx.core.WindowError(e,t,i,n,s))},observeMethod:function(e){if(this.__isGlobaErrorHandlingEnabled()){var t=this;return function(){if(!t.__callback)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(e){t.handleError(new qx.core.GlobalError(e,arguments))}}}return e},handleError:function(e){this.__callback&&this.__callback.call(this.__context,e)}},defer:function(e){qx.core&&qx.core.Environment?qx.core.Environment.add("qx.globalErrorHandling",!0):qx.Bootstrap.setEnvironmentSetting("qx.globalErrorHandling",!0);e.setErrorHandler(null,null)}});qx.event.GlobalError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Function":{construct:!0},"qx.lang.Object":{},"qx.event.GlobalError":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.DeferredCallManager",{extend:qx.core.Object,type:"singleton",implement:[qx.core.IDisposable],construct:function(){this.__calls={};this.__timeoutWrapper=qx.lang.Function.bind(this.__timeout,this);this.__hasCalls=!1},members:{__timeoutId:null,__currentQueue:null,__calls:null,__hasCalls:null,__timeoutWrapper:null,schedule:function(e){null==this.__timeoutId&&(this.__timeoutId=window.setTimeout(this.__timeoutWrapper,0));var t=e.toHashCode();if(!this.__currentQueue||!this.__currentQueue[t]){this.__calls[t]=e;this.__hasCalls=!0}},refreshTimeout:function(){null!==this.__timeoutId&&(this.__timeoutId=window.setTimeout(this.__timeoutWrapper,0))},cancel:function(e){var t=e.toHashCode();if(this.__currentQueue&&this.__currentQueue[t])this.__currentQueue[t]=null;else{delete this.__calls[t];if(qx.lang.Object.isEmpty(this.__calls)&&null!=this.__timeoutId){window.clearTimeout(this.__timeoutId);this.__timeoutId=null}}},__timeout:qx.event.GlobalError.observeMethod(function(){this.__timeoutId=null;for(;this.__hasCalls;){this.__currentQueue=qx.lang.Object.clone(this.__calls);this.__calls={};this.__hasCalls=!1;for(var e in this.__currentQueue){var t=this.__currentQueue[e];if(t){this.__currentQueue[e]=null;t.call()}}}this.__currentQueue=null})},destruct:function(){null!=this.__timeoutId&&window.clearTimeout(this.__timeoutId);this.__timeoutWrapper=this.__calls=null}});qx.util.DeferredCallManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.util.DeferredCallManager":{require:!0,construct:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.DeferredCall",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);this.__callback=e;this.__context=t||null;this.__manager=qx.util.DeferredCallManager.getInstance()},members:{__callback:null,__context:null,__manager:null,cancel:function(){this.__manager.cancel(this)},schedule:function(){this.__manager.schedule(this)},call:function(){var e=this.__context;e&&e.isDisposed&&e.isDisposed()&&this.warn("The context object '"+e+"' of the defered call '"+this+"'is already disposed.");this.__context?this.__callback.apply(this.__context):this.__callback()}},destruct:function(){this.cancel();this.__context=this.__callback=this.__manager=null}});qx.util.DeferredCall.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.ObjectPool",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__pool={};null!=e&&this.setSize(e)},properties:{size:{check:"Integer",init:1/0}},members:{__pool:null,getObject:function(e){if(this.$$disposed)return new e;if(!e)throw new Error("Class needs to be defined!");var t=null,i=this.__pool[e.classname];i&&(t=i.pop());t?t.$$pooled=!1:t=new e;return t},poolObject:function(e){if(this.__pool){var t=e.classname,i=this.__pool[t];if(e.$$pooled)throw new Error("Object is already pooled: "+e);i||(this.__pool[t]=i=[]);if(i.length>this.getSize())e.destroy?e.destroy():e.dispose();else{e.$$pooled=!0;i.push(e)}}}},destruct:function(){var e,t,i,n,s=this.__pool;for(e in s)for(i=0,n=(t=s[e]).length;i<n;i++)t[i].dispose();delete this.__pool}});qx.util.ObjectPool.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.ObjectPool":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Pool",{extend:qx.util.ObjectPool,type:"singleton",construct:function(){qx.util.ObjectPool.constructor.call(this,30)}});qx.event.Pool.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Utils",{extend:qx.core.Object,statics:{ABORT:"[[ qx.event.Utils.ABORT ]]",track:function(e,t){"function"==typeof t||qx.lang.Type.isPromise(t)||(t=(i=t,function(){return i}));var i;return this.then(e,t)},__push:function(e,t){void 0===e.promises&&(e.promises=[]);var i=null;try{throw new Error("")}catch(e){i=e}e.promises.push({promise:t,ex:i});e.promise=t;return e.promise},then:function(e,t){if(e.rejected)return null;if(e.promise){if(qx.lang.Type.isPromise(t))this.__push(e,e.promise.then(t));else{var i=this;this.__push(e,e.promise.then(function(n){return e.rejected?null:(n=t(n))===qx.event.Utils.ABORT?i.reject(e):n}))}this.__addCatcher(e);return e.promise}if(qx.lang.Type.isPromise(t))return this.__thenPromise(e,t);var n=t(e.result);if(qx.lang.Type.isPromise(n))return this.__thenPromise(e,n);e.result=n;return n===qx.event.Utils.ABORT?this.reject(e):n},__thenPromise:function(e,t){e.promise?this.__push(e,e.promise.then(function(){return t})):this.__push(e,t);this.__addCatcher(e);return e.promise},reject:function(e){if(e.rejected)return qx.event.Utils.ABORT;e.rejected=!0;if(e.promise)throw new Error("Rejecting Event");var t=this.__catcher(e);return void 0===t?this.ABORT:t},__addCatcher:function(e){if(e.promise&&e.catch&&!e.promise["qx.event.Utils.hasCatcher"]){this.__push(e,e.promise.catch(this.__catcher.bind(this,e)));e.promise["qx.event.Utils.hasCatcher"]=!0}},__catcher:function(e,t){var i=e.catch;if(i){e.catch=null;e.rejected=!0;return i(t)}return qx.event.Utils.ABORT},catch:function(e,t){if(e.rejected)t();else{void 0===e.catchers?e.catchers=[t]:e.catchers.push(t);e.catch?e.catch=(i=e.catch,n=t,function(){i();n()}):e.catch=t;var i,n;this.__addCatcher(e)}},callListener:function(e,t,i,n){if(e.rejected)return qx.event.Utils.ABORT;var s=t.handler.call(i,n);return n.getPropagationStopped()?qx.event.Utils.ABORT:s},series:function(e,t,i){for(var n={},s=0;s<e.length;s++){var r=t(e[s],s);if(r instanceof qx.Promise){for(++s;s<e.length;s++)!function(e,n){r=r.then(function(){var s=t(e,n);if(!i&&s===qx.event.Utils.ABORT)throw new Error("Rejecting in series()");return s})}(e[s],s);return r}if(!i&&r===qx.event.Utils.ABORT)return this.reject(n)}return null}}});qx.event.Utils.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.ObjectRegistry":{},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.DisposeUtil",{statics:{disposeObjects:function(e,t,i){for(var n,s=0,r=t.length;s<r;s++)if(null!=e[n=t[s]]&&e.hasOwnProperty(n)){if(!qx.core.ObjectRegistry.inShutDown){if(!e[n].dispose)throw new Error("Has no disposable object under key: "+n+"!");if(!i&&e[n].constructor.$$instance)throw new Error("The object stored in key "+n+" is a singleton! Please use disposeSingleton instead.");e[n].dispose()}e[n]=null}},disposeArray:function(e,t){var i=e[t];if(i)if(qx.core.ObjectRegistry.inShutDown)e[t]=null;else{try{for(var n,s=i.length-1;s>=0;s--)(n=i[s])&&n.dispose()}catch(i){throw new Error("The array field: "+t+" of object: "+e+" has non disposable entries: "+i)}i.length=0;e[t]=null}},disposeMap:function(e,t){var i=e[t];if(i)if(qx.core.ObjectRegistry.inShutDown)e[t]=null;else{try{var n;for(var s in i){n=i[s];i.hasOwnProperty(s)&&n&&n.dispose()}}catch(i){throw new Error("The map field: "+t+" of object: "+e+" has non disposable entries: "+i)}e[t]=null}},disposeTriggeredBy:function(e,t){var i=t.dispose;t.dispose=function(){i.call(t);e.dispose()}},destroyContainer:function(e){if(qx.ui.mobile&&e instanceof qx.ui.mobile.core.Widget)qx.core.Assert.assertTrue(this.__isChildrenContainer(e),"Container must be an instance of qx.ui.mobile.container.Composite.");else{qx.core.Assert.assertQxWidget(e,"First argument must be a container widget!");qx.core.Assert.assertTrue(this.__isChildrenContainer(e),"Container must be an instance of qx.ui.container.Composite or qx.ui.container.Scroll or qx.ui.container.Resizer or qx.ui.container.SlideBar or qx.ui.container.Stack!")}var t=[];this._collectContainerChildren(e,t);for(var i=t.length-1;i>=0;i--)t[i].destroy();e.destroy()},_collectContainerChildren:function(e,t){for(var i=e.getChildren(),n=0;n<i.length;n++){var s=i[n];t.push(s);this.__isChildrenContainer(s)&&this._collectContainerChildren(s,t)}},__isChildrenContainer:function(e){for(var t=[],i=0,n=(t=qx.ui.mobile&&e instanceof qx.ui.mobile.core.Widget?[qx.ui.mobile.container.Composite]:[qx.ui.container.Composite,qx.ui.container.Scroll,qx.ui.container.SlideBar,qx.ui.container.Stack]).length;i<n;i++)if(void 0!==t[i]&&qx.Class.isSubClassOf(e.constructor,t[i]))return!0;return!1}}});qx.util.DisposeUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Object":{},"qx.Class":{},"qx.lang.Function":{},"qx.data.IListData":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.data.marshal.MEventBubbling",{events:{changeBubble:"qx.event.type.Data"},members:{_applyEventPropagation:function(e,t,i){this.fireDataEvent("changeBubble",{value:e,name:i,old:t,item:this});this._registerEventChaining(e,t,i)},_registerEventChaining:function(e,t,i){if(null!=t&&t.getUserData&&null!=t.getUserData("idBubble-"+this.toHashCode())){for(var n=t.getUserData("idBubble-"+this.toHashCode()),s=0;s<n.length;s++)t.removeListenerById(n[s]);t.setUserData("idBubble-"+this.toHashCode(),null)}if(e instanceof qx.core.Object&&qx.Class.hasMixin(e.constructor,qx.data.marshal.MEventBubbling)){var r=qx.lang.Function.bind(this.__changePropertyListener,this,i),o=e.addListener("changeBubble",r,this);if(null==(n=e.getUserData("idBubble-"+this.toHashCode()))){n=[];e.setUserData("idBubble-"+this.toHashCode(),n)}n.push(o)}},__changePropertyListener:function(e,t){var i=t.getData(),n=i.value,s=i.old;if(qx.Class.hasInterface(t.getTarget().constructor,qx.data.IListData))if(i.name.indexOf){var r=-1!=i.name.indexOf(".")?i.name.indexOf("."):i.name.length,o=-1!=i.name.indexOf("[")?i.name.indexOf("["):i.name.length;if(0==o)var a=e+i.name;else if(r<o){var l=i.name.substring(0,r);"["!=(u=i.name.substring(r+1,i.name.length))[0]&&(u="."+u);a=e+"["+l+"]"+u}else if(o<r){var u;a=e+"["+(l=i.name.substring(0,o))+"]"+(u=i.name.substring(o,i.name.length))}else a=e+"["+i.name+"]"}else a=e+"["+i.name+"]";else{parseInt(e)==e&&""!==e&&(e="["+e+"]");a=e+"."+i.name}this.fireDataEvent("changeBubble",{value:n,name:a,old:s,item:i.item||t.getTarget()})}}});qx.data.marshal.MEventBubbling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.marshal.MEventBubbling":{require:!0},"qx.data.IListData":{require:!0},"qx.lang.Array":{construct:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.Array",{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,implement:[qx.data.IListData],construct:function(e){qx.core.Object.constructor.call(this);if(void 0==e)this.__array=[];else if(arguments.length>1){this.__array=[];for(var t=0;t<arguments.length;t++)this.__array.push(arguments[t])}else if("number"==typeof e)this.__array=new Array(e);else{if(!(e instanceof Array)){this.__array=[];this.dispose();throw new Error("Type of the parameter not supported!")}this.__array=qx.lang.Array.clone(e)}for(t=0;t<this.__array.length;t++)this._applyEventPropagation(this.__array[t],null,t);this.__updateLength();this[0]="Please use 'toArray()' to see the content."},properties:{autoDisposeItems:{check:"Boolean",init:!1}},events:{change:"qx.event.type.Data",changeLength:"qx.event.type.Data"},members:{__array:null,concat:function(e){if(e=qx.lang.Array.toNativeArray(e))var t=this.__array.concat(e);else t=this.__array.concat();return new qx.data.Array(t)},join:function(e){return this.__array.join(e)},pop:function(){var e=this.__array.pop();this.__updateLength();this._registerEventChaining(null,e,this.length-1);this.fireDataEvent("changeBubble",{value:[],name:this.length+"",old:[e],item:this});this.fireDataEvent("change",{start:this.length-1,end:this.length-1,type:"remove",removed:[e],added:[]},null);return e},push:function(e){for(var t=0;t<arguments.length;t++){this.__array.push(arguments[t]);this.__updateLength();this._registerEventChaining(arguments[t],null,this.length-1);this.fireDataEvent("changeBubble",{value:[arguments[t]],name:this.length-1+"",old:[],item:this});this.fireDataEvent("change",{start:this.length-1,end:this.length-1,type:"add",added:[arguments[t]],removed:[]},null)}return this.length},reverse:function(){if(0!=this.length){var e=this.__array.concat();this.__array.reverse();this.__updateEventPropagation(0,this.length);this.fireDataEvent("change",{start:0,end:this.length-1,type:"order",added:[],removed:[]},null);this.fireDataEvent("changeBubble",{value:this.__array,name:"0-"+(this.__array.length-1),old:e,item:this})}},shift:function(){if(0!=this.length){var e=this.__array.shift();this.__updateLength();this._registerEventChaining(null,e,this.length-1);this.__updateEventPropagation(0,this.length);this.fireDataEvent("changeBubble",{value:[],name:"0",old:[e],item:this});this.fireDataEvent("change",{start:0,end:this.length-1,type:"remove",removed:[e],added:[]},null);return e}},slice:function(e,t){return new qx.data.Array(this.__array.slice(e,t))},splice:function(e,t,i){var n=this.__array.length,s=this.__array.splice.apply(this.__array,arguments);if(this.__array.length!=n)this.__updateLength();else if(t==arguments.length-2)for(var r=qx.lang.Array.fromArguments(arguments,2),o=0;o<r.length&&r[o]===s[o];o++)if(o==r.length-1)return new qx.data.Array;var a=t>0,l=arguments.length>2;if(a||l){r=qx.lang.Array.fromArguments(arguments,2);if(0==s.length)var u="add",c=e+r.length;else if(0==r.length)u="remove",c=this.length-1;else u="add/remove",c=e+Math.max(r.length,s.length)-1;this.fireDataEvent("change",{start:e,end:c,type:u,added:r,removed:s},null)}for(o=0;o<s.length;o++)this._registerEventChaining(null,s[o],o);for(o=2;o<arguments.length;o++)this._registerEventChaining(arguments[o],null,e+(o-2));this.__updateEventPropagation(e+(arguments.length-2)-t,this.length);if(a||l){var d=[];for(o=2;o<arguments.length;o++)d[o-2]=arguments[o];var h=e+Math.max(arguments.length-3,t-1),g={value:d,name:(e==h?h:e+"-"+h)+"",old:s,item:this};this.fireDataEvent("changeBubble",g)}return new qx.data.Array(s)},replace:function(e){e=qx.lang.Array.toNativeArray(e);if(!this.equals(e)){var t=[0,this.getLength()];e.forEach(function(e){t.push(e)});this.splice.apply(this,t)}},sort:function(e){if(0!=this.length){var t=this.__array.concat();this.__array.sort.apply(this.__array,arguments);if(!0!==qx.lang.Array.equals(this.__array,t)){this.__updateEventPropagation(0,this.length);this.fireDataEvent("change",{start:0,end:this.length-1,type:"order",added:[],removed:[]},null);this.fireDataEvent("changeBubble",{value:this.__array,name:"0-"+(this.length-1),old:t,item:this})}}},unshift:function(e){for(var t=arguments.length-1;t>=0;t--){this.__array.unshift(arguments[t]);this.__updateLength();this.__updateEventPropagation(0,this.length);this.fireDataEvent("changeBubble",{value:[this.__array[0]],name:"0",old:[this.__array[1]],item:this});this.fireDataEvent("change",{start:0,end:this.length-1,type:"add",added:[arguments[t]],removed:[]},null)}return this.length},toArray:function(){return this.__array},getItem:function(e){return this.__array[e]},setItem:function(e,t){var i=this.__array[e];if(i!==t){this.__array[e]=t;this._registerEventChaining(t,i,e);this.length!=this.__array.length&&this.__updateLength();this.fireDataEvent("changeBubble",{value:[t],name:e+"",old:[i],item:this});this.fireDataEvent("change",{start:e,end:e,type:"add/remove",added:[t],removed:[i]},null)}},getLength:function(){return this.length},indexOf:function(e){return this.__array.indexOf(e)},lastIndexOf:function(e){return this.__array.lastIndexOf(e)},toString:function(){return null!=this.__array?this.__array.toString():""},contains:function(e){return this.includes(e)},includes:function(e){return-1!==this.__array.indexOf(e)},copy:function(){return this.concat()},insertAt:function(e,t){this.splice(e,0,t).dispose()},insertBefore:function(e,t){var i=this.indexOf(e);-1==i?this.push(t):this.splice(i,0,t).dispose()},insertAfter:function(e,t){var i=this.indexOf(e);-1==i||i==this.length-1?this.push(t):this.splice(i+1,0,t).dispose()},removeAt:function(e){var t=this.splice(e,1),i=t.getItem(0);t.dispose();return i},removeAll:function(){for(var e=0;e<this.__array.length;e++)this._registerEventChaining(null,this.__array[e],e);if(0==this.getLength())return[];var t=this.getLength(),i=this.__array.concat();this.__array.length=0;this.__updateLength();this.fireDataEvent("changeBubble",{value:[],name:"0-"+(t-1),old:i,item:this});this.fireDataEvent("change",{start:0,end:t-1,type:"remove",removed:i,added:[]},null);return i},append:function(e){e=qx.lang.Array.toNativeArray(e);qx.core.Assert.assertArray(e,"The parameter must be an array.");var t=this.__array.length;Array.prototype.push.apply(this.__array,e);for(var i=0;i<e.length;i++)this._registerEventChaining(e[i],null,t+i);t=this.length;this.__updateLength();var n=t==this.length-1?t:t+"-"+(this.length-1);this.fireDataEvent("changeBubble",{value:e,name:n+"",old:[],item:this});this.fireDataEvent("change",{start:t,end:this.length-1,type:"add",added:e,removed:[]},null)},exclude:function(e){(e=qx.lang.Array.toNativeArray(e)).forEach(function(e){this.remove(e)},this)},remove:function(e){var t=this.indexOf(e);if(-1!=t){this.splice(t,1).dispose();return e}},equals:function(e){if(this.length!==e.length)return!1;e=qx.lang.Array.toNativeArray(e);for(var t=0;t<this.length;t++)if(this.getItem(t)!==e[t])return!1;return!0},sum:function(){for(var e=0,t=0;t<this.length;t++)e+=this.getItem(t);return e},max:function(){for(var e=this.getItem(0),t=1;t<this.length;t++)this.getItem(t)>e&&(e=this.getItem(t));return void 0===e?null:e},min:function(){for(var e=this.getItem(0),t=1;t<this.length;t++)this.getItem(t)<e&&(e=this.getItem(t));return void 0===e?null:e},forEach:function(e,t){for(var i=0;i<this.__array.length;i++)e.call(t,this.__array[i],i,this)},filter:function(e,t){return new qx.data.Array(this.__array.filter(e,t))},map:function(e,t){return new qx.data.Array(this.__array.map(e,t))},some:function(e,t){return this.__array.some(e,t)},every:function(e,t){return this.__array.every(e,t)},reduce:function(e,t){return this.__array.reduce(e,t)},reduceRight:function(e,t){return this.__array.reduceRight(e,t)},__updateLength:function(){var e=this.length;this.length=this.__array.length;this.fireDataEvent("changeLength",this.length,e)},__updateEventPropagation:function(e,t){for(var i=e;i<t;i++)this._registerEventChaining(this.__array[i],this.__array[i],i)}},destruct:function(){for(var e=0;e<this.__array.length;e++){var t=this.__array[e];this._applyEventPropagation(null,t,e);this.isAutoDisposeItems()&&t&&t instanceof qx.core.Object&&t.dispose()}this.__array=null}});qx.data.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.type.BaseError",{extend:Error,construct:function(e,t){var i=Error.call(this,t);i.stack&&(this.stack=i.stack);i.stacktrace&&(this.stacktrace=i.stacktrace);this.__comment=e||"";this.message=t||qx.type.BaseError.DEFAULTMESSAGE},statics:{DEFAULTMESSAGE:"error"},members:{__sTrace:null,__comment:null,message:null,getComment:function(){return this.__comment},toString:function(){return this.__comment+(this.message?": "+this.message:"")}}});qx.type.BaseError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.type.BaseError":{construct:!0,require:!0},"qx.dev.StackTrace":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.AssertionError",{extend:qx.type.BaseError,construct:function(e,t){qx.type.BaseError.call(this,e,t);this.__trace=qx.dev.StackTrace.getStackTrace()},members:{__trace:null,getStackTrace:function(){return this.__trace}}});qx.core.AssertionError.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Runtime":{}},environment:{provided:[],required:{"runtime.name":{className:"qx.bom.client.Runtime"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.Json",{statics:{stringify:null,parse:null}});!function(){!function(e){if("rhino"!==qx.core.Environment.get("runtime.name")&&void 0!==qx.core.Environment.get("runtime.name")){var t,i,n,s={}.toString,r="object"===_typeof(void 0)&&void 0;if(r)if("object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&JSON)if(r){r.stringify=JSON.stringify;r.parse=JSON.parse}else r=JSON;else 0;else r=e.JSON||(e.JSON={});var o=new Date(-0xc782b5b800cec);try{o=-109252==o.getUTCFullYear()&&0===o.getUTCMonth()&&1===o.getUTCDate()&&10==o.getUTCHours()&&37==o.getUTCMinutes()&&6==o.getUTCSeconds()&&708==o.getUTCMilliseconds()}catch(e){}if(!C("json")){var a=C("bug-string-char-index");if(!o)var l=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],c=function(e,t){return u[t]+365*(e-1970)+l((e-1969+(t=+(t>1)))/4)-l((e-1901+t)/100)+l((e-1601+t)/400)};(t={}.hasOwnProperty)||(t=function(e){var i,n={};if((n.__proto__=null,n.__proto__={toString:1},n).toString!=s)t=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);this.__proto__=t;return i};else{i=n.constructor;t=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}}n=null;return t.call(this,e)});var d={boolean:1,number:1,string:1,undefined:1};i=function(e,i){var n,r,o,a,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0;r=new n;for(o in r)t.call(r,o)&&l++;n=r=null;if(l)a=2==l?function(e,i){var n,r={},o="[object Function]"==s.call(e);for(n in e)o&&"prototype"===n||t.call(r,n)||!(r[n]=1)||!t.call(e,n)||i(n)}:function(e,i){var n,r,o="[object Function]"==s.call(e);for(n in e)o&&"prototype"===n||!t.call(e,n)||(r="constructor"===n)||i(n);(r||t.call(e,n="constructor"))&&i(n)};else{r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];a=function(e,i){var n,o,a="[object Function]"==s.call(e),l=!a&&"function"!=typeof e.constructor&&function(e,t){var i=_typeof(e[t]);return"object"==i?!!e[t]:!d[i]}(e,"hasOwnProperty")?e.hasOwnProperty:t;for(n in e)a&&"prototype"===n||!l.call(e,n)||i(n);for(o=r.length;n=r[--o];l.call(e,n)&&i(n));}}return a(e,i)};if(!C("json-stringify")){var h={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},g=function(e,t){return("000000"+(t||0)).slice(-e)},m=function(e){var t,i='"',n=0,s=e.length,r=s>10&&a;r&&(t=e.split(""));for(;n<s;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:i+=h[o];break;default:if(o<32){i+="\\u00"+g(2,o.toString(16));break}i+=r?t[n]:a?e.charAt(n):e[n]}}return i+'"'};r.stringify=function(e,r,o){var a,u,d;if("function"==typeof r||"object"===_typeof(r)&&r)if("[object Function]"==s.call(r))u=r;else if("[object Array]"==s.call(r)){d={};for(var h,f=0,p=r.length;f<p;h=r[f++],("[object String]"==s.call(h)||"[object Number]"==s.call(h))&&(d[h]=1));}if(o)if("[object Number]"==s.call(o)){if((o-=o%1)>0)for(a="",o>10&&(o=10);a.length<o;a+=" ");}else"[object String]"==s.call(o)&&(a=o.length<=10?o:o.slice(0,10));return function e(r,o,a,u,d,h,f){var p,_,x,q,v,b,y,C,w,E,S,T,I,A,D,B,L=o[r];try{L=o[r]}catch(e){}if("object"===_typeof(L)&&L)if("[object Date]"!=(p=s.call(L))||t.call(L,"toJSON"))"function"==typeof L.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||t.call(L,"toJSON"))&&(L=L.toJSON(r));else if(L>-1/0&&L<1/0){if(c){q=l(L/864e5);for(_=l(q/365.2425)+1970-1;c(_+1,0)<=q;_++);for(x=l((q-c(_,0))/30.42);c(_,x+1)<=q;x++);q=1+q-c(_,x);b=l((v=(L%864e5+864e5)%864e5)/36e5)%24;y=l(v/6e4)%60;C=l(v/1e3)%60;w=v%1e3}else{_=L.getUTCFullYear();x=L.getUTCMonth();q=L.getUTCDate();b=L.getUTCHours();y=L.getUTCMinutes();C=L.getUTCSeconds();w=L.getUTCMilliseconds()}L=(_<=0||_>=1e4?(_<0?"-":"+")+g(6,_<0?-_:_):g(4,_))+"-"+g(2,x+1)+"-"+g(2,q)+"T"+g(2,b)+":"+g(2,y)+":"+g(2,C)+"."+g(3,w)+"Z"}else L=null;a&&(L=a.call(o,r,L));if(null===L)return"null";if("[object Boolean]"==(p=s.call(L)))return""+L;if("[object Number]"==p)return L>-1/0&&L<1/0?""+L:"null";if("[object String]"==p)return m(""+L);if("object"===_typeof(L)){for(I=f.length;I--;)if(f[I]===L)throw TypeError();f.push(L);E=[];A=h;h+=d;if("[object Array]"==p){for(T=0,I=L.length;T<I;D||(D=!0),T++){S=e(T,L,a,u,d,h,f);E.push(S===n?"null":S)}B=D?d?"[\n"+h+E.join(",\n"+h)+"\n"+A+"]":"["+E.join(",")+"]":"[]"}else{i(u||L,function(t){var i=e(t,L,a,u,d,h,f);i!==n&&E.push(m(t)+":"+(d?" ":"")+i);D||(D=!0)});B=D?d?"{\n"+h+E.join(",\n"+h)+"\n"+A+"}":"{"+E.join(",")+"}":"{}"}f.pop();return B}}("",((h={})[""]=e,h),u,d,a,"",[])}}if(!C("json-parse")){var f,p,_=String.fromCharCode,x={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},q=function(){f=p=null;throw SyntaxError()},v=function(){for(var e,t,i,n,s,r=p,o=r.length;f<o;)switch(s=r.charCodeAt(f)){case 9:case 10:case 13:case 32:f++;break;case 123:case 125:case 91:case 93:case 58:case 44:e=a?r.charAt(f):r[f];f++;return e;case 34:for(e="@",f++;f<o;)if((s=r.charCodeAt(f))<32)q();else if(92==s)switch(s=r.charCodeAt(++f)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=x[s];f++;break;case 117:t=++f;for(i=f+4;f<i;f++)(s=r.charCodeAt(f))>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||q();e+=_("0x"+r.slice(t,f));break;default:q()}else{if(34==s)break;s=r.charCodeAt(f);t=f;for(;s>=32&&92!=s&&34!=s;)s=r.charCodeAt(++f);e+=r.slice(t,f)}if(34==r.charCodeAt(f)){f++;return e}q();default:t=f;if(45==s){n=!0;s=r.charCodeAt(++f)}if(s>=48&&s<=57){48==s&&((s=r.charCodeAt(f+1))>=48&&s<=57)&&q();n=!1;for(;f<o&&((s=r.charCodeAt(f))>=48&&s<=57);f++);if(46==r.charCodeAt(f)){i=++f;for(;i<o&&((s=r.charCodeAt(i))>=48&&s<=57);i++);i==f&&q();f=i}if(101==(s=r.charCodeAt(f))||69==s){43!=(s=r.charCodeAt(++f))&&45!=s||f++;for(i=f;i<o&&((s=r.charCodeAt(i))>=48&&s<=57);i++);i==f&&q();f=i}return+r.slice(t,f)}n&&q();if("true"===r.slice(f,f+4)){f+=4;return!0}if("false"===r.slice(f,f+5)){f+=5;return!1}if("null"===r.slice(f,f+4)){f+=4;return null}q()}return"$"},b=function(e,t,i){var s=y(e,t,i);s===n?delete e[t]:e[t]=s},y=function(e,t,n){var r,o=e[t];if("object"===_typeof(o)&&o)if("[object Array]"==s.call(o))for(r=o.length;r--;)b(o,r,n);else i(o,function(e){b(o,e,n)});return n.call(e,t,o)};r.parse=function(e,t){var i,n;f=0;p=""+e;i=function e(t){var i,n;"$"===t&&q();if("string"==typeof t){if("@"===(a?t.charAt(0):t[0]))return t.slice(1);if("["===t){i=[];for(;"]"!==(t=v());n||(n=!0)){n&&(","===t?"]"===(t=v())&&q():q());","===t&&q();i.push(e(t))}return i}if("{"===t){i={};for(;"}"!=(t=v());n||(n=!0)){n&&(","===t?"}"===(t=v())&&q():q());","!==t&&"string"==typeof t&&"@"===(a?t.charAt(0):t[0])&&":"===v()||q();i[t.slice(1)]=e(v())}return i}q()}return t}(v());"$"!=v()&&q();f=p=null;return t&&"[object Function]"==s.call(t)?y(((n={})[""]=i,n),"",t):i}}}0}function C(e){if("bug-string-char-index"===e)return"a"!="a"[0];var t,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',a="json"===e;if(a||"json-stringify"===e||"json-parse"===e){if("json-stringify"==e||a){var l=r.stringify,u="function"==typeof l&&o;if(u){(t=function(){return 1}).toJSON=t;try{u="0"===l(0)&&"0"===l(new Number)&&'""'===l(new String)&&l(s)===n&&l(n)===n&&l()===n&&"1"===l(t)&&"[1]"===l([t])&&"[null]"===l([n])&&"null"===l(null)&&"[null,null,null]"===l([n,s,null])&&l({a:[t,!0,!1,null,"\0\b\n\f\r\t"]})==i&&"1"===l(null,t)&&"[\n 1,\n 2\n]"===l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'===l(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'===l(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'===l(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'===l(new Date(-1))}catch(e){u=!1}}if(!a)return u}if("json-parse"===e||a){var c=r.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){var d=5==(t=c(i)).a.length&&1===t.a[0];if(d){try{d=!c('"\t"')}catch(e){}if(d)try{d=1!==c("01")}catch(e){}}}}catch(e){d=!1}if(!a)return d}return u&&d}}}(this||window)}();qx.lang.Json.stringify=window.JSON.stringify;qx.lang.Json.parse=window.JSON.parse;qx.lang.Json.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.lang.Number",{statics:{isInRange:function(e,t,i){return e>=t&&e<=i},isBetweenRange:function(e,t,i){return e>t&&e<i},limit:function(e,t,i){return null!=i&&e>i?i:null!=t&&e<t?t:e},equals:function(e,t){qx.core.Assert.assertNumber(e);qx.core.Assert.assertNumber(t);return e===t||Math.abs(e-t)<Number.EPSILON||Math.abs(e-t)<=1e-14*Math.max(Math.abs(e),Math.abs(t))}}});qx.lang.Number.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.Uuid",{extend:qx.core.Object,statics:{createUuidV4:null}});!function(){var e,t,i,n=0,s=[];for(t=0;t<256;t++)s[t]=(t+256).toString(16).substr(1);o.BUFFER_SIZE=4096;o.bin=r;o.clearBuffer=function(){e=null;n=0};o.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e)};"undefined"!=typeof crypto?i=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(i=window.msCrypto);"undefined"!=typeof module&&"function"==typeof require&&(i=i||require("crypto"));qx.util.Uuid.createUuidV4=o;o.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return function(e){var t=new Uint8Array(e);i.getRandomValues(t);return t}}return function(e){var t,i=[];for(t=0;t<e;t++)i.push(Math.floor(256*Math.random()));return i}}();function r(){var t=function(t){if(!e||n+t>o.BUFFER_SIZE){n=0;e=o.randomBytes(o.BUFFER_SIZE)}return e.slice(n,n+=t)}(16);t[6]=15&t[6]|64;t[8]=63&t[8]|128;return t}function o(){var e=r();return s[e[0]]+s[e[1]]+s[e[2]]+s[e[3]]+"-"+s[e[4]]+s[e[5]]+"-"+s[e[6]]+s[e[7]]+"-"+s[e[8]]+s[e[9]]+"-"+s[e[10]]+s[e[11]]+s[e[12]]+s[e[13]]+s[e[14]]+s[e[15]]}}();qx.util.Uuid.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.type.BaseError":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.core.ValidationError",{extend:qx.type.BaseError});qx.core.ValidationError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["os.name","os.version"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.OperatingSystem",{statics:{getName:function(){if(!navigator)return"";var e=navigator.platform||"",t=navigator.userAgent||"";return-1!=e.indexOf("Windows")||-1!=e.indexOf("Win32")||-1!=e.indexOf("Win64")||-1!=t.indexOf("Windows Phone")?"win":-1!=e.indexOf("Macintosh")||-1!=e.indexOf("MacPPC")||-1!=e.indexOf("MacIntel")||-1!=e.indexOf("Mac OS X")?"osx":-1!=t.indexOf("RIM Tablet OS")?"rim_tabletos":-1!=t.indexOf("webOS")?"webos":-1!=e.indexOf("iPod")||-1!=e.indexOf("iPhone")||-1!=e.indexOf("iPad")?"ios":-1!=t.indexOf("Android")?"android":-1!=e.indexOf("Linux")?"linux":-1!=e.indexOf("X11")||-1!=e.indexOf("BSD")||-1!=e.indexOf("Darwin")?"unix":-1!=e.indexOf("SymbianOS")?"symbian":-1!=e.indexOf("BlackBerry")?"blackberry":""},__ids:{"Windows NT 10.0":"10","Windows NT 6.3":"8.1","Windows NT 6.2":"8","Windows NT 6.1":"7","Windows NT 6.0":"vista","Windows NT 5.2":"2003","Windows NT 5.1":"xp","Windows NT 5.0":"2000","Windows 2000":"2000","Windows NT 4.0":"nt4","Win 9x 4.90":"me","Windows CE":"ce","Windows 98":"98",Win98:"98","Windows 95":"95",Win95:"95","Mac OS X 10_13":"10.13","Mac OS X 10.13":"10.13","Mac OS X 10_12":"10.12","Mac OS X 10.12":"10.12","Mac OS X 10_11":"10.11","Mac OS X 10.11":"10.11","Mac OS X 10_10":"10.10","Mac OS X 10.10":"10.10","Mac OS X 10_9":"10.9","Mac OS X 10.9":"10.9","Mac OS X 10_8":"10.8","Mac OS X 10.8":"10.8","Mac OS X 10_7":"10.7","Mac OS X 10.7":"10.7","Mac OS X 10_6":"10.6","Mac OS X 10.6":"10.6","Mac OS X 10_5":"10.5","Mac OS X 10.5":"10.5","Mac OS X 10_4":"10.4","Mac OS X 10.4":"10.4","Mac OS X 10_3":"10.3","Mac OS X 10.3":"10.3","Mac OS X 10_2":"10.2","Mac OS X 10.2":"10.2","Mac OS X 10_1":"10.1","Mac OS X 10.1":"10.1","Mac OS X 10_0":"10.0","Mac OS X 10.0":"10.0"},getVersion:function(){var e=qx.bom.client.OperatingSystem.__getVersionForDesktopOs(navigator.userAgent);null==e&&(e=qx.bom.client.OperatingSystem.__getVersionForMobileOs(navigator.userAgent));return null!=e?e:""},__getVersionForDesktopOs:function(e){var t=[];for(var i in qx.bom.client.OperatingSystem.__ids)t.push(i);var n=new RegExp("("+t.join("|").replace(/\./g,".")+")","g").exec(e);return n&&n[1]?qx.bom.client.OperatingSystem.__ids[n[1]]:null},__getVersionForMobileOs:function(e){var t=-1!=e.indexOf("Windows Phone"),i=-1!=e.indexOf("Android"),n=!!e.match(/(iPad|iPhone|iPod)/i);if(t){var s=new RegExp(/Windows Phone (\d+(?:\.\d+)+)/i).exec(e);if(s&&s[1])return s[1]}else if(i){var r=new RegExp(/ Android (\d+(?:\.\d+)+)/i).exec(e);if(r&&r[1])return r[1]}else if(n){var o=new RegExp(/(CPU|iPhone|iPod) OS (\d+)_(\d+)(?:_(\d+))*\s+/).exec(e);if(o&&o[2]&&o[3])return o[4]?o[2]+"."+o[3]+"."+o[4]:o[2]+"."+o[3]}return null}},defer:function(e){qx.core.Environment.add("os.name",e.getName);qx.core.Environment.add("os.version",e.getVersion)}});qx.bom.client.OperatingSystem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.WindowError",{extend:Error,construct:function(e,t,i,n,s){var r=s||Error.call(this,e);r.stack&&(this.stack=r.stack);r.stacktrace&&(this.stacktrace=r.stacktrace);this.__failMessage=e;this.__uri=t||"";this.__lineNumber=void 0===i?-1:i;this.__columnNumber=void 0===n?-1:n;this.__sourceException=s},members:{__failMessage:null,__uri:null,__lineNumber:null,__columnNumber:null,__sourceException:null,toString:function(){return this.__failMessage},getUri:function(){return this.__uri},getLineNumber:function(){return this.__lineNumber},getColumnNumber:function(){return this.__columnNumber},getSourceException:function(){return this.__sourceException}}});qx.core.WindowError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",construct:!0,require:!0},"qx.core.Assert":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.core.GlobalError",{extend:Error,construct:function(e,t){qx.Bootstrap.DEBUG&&qx.core.Assert.assertNotUndefined(e);this.__failMessage="GlobalError: "+(e&&e.message?e.message:e);var i=Error.call(this,this.__failMessage);i.stack&&(this.stack=i.stack);i.stacktrace&&(this.stacktrace=i.stacktrace);this.__arguments=t;this.__exc=e},members:{__exc:null,__arguments:null,__failMessage:null,toString:function(){return this.__failMessage},getArguments:function(){return this.__arguments},getSourceException:function(){return this.__exc}}});qx.core.GlobalError.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.lang.normalize.Object":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.lang.Object",{statics:{empty:function(e){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");for(var t in e)e.hasOwnProperty(t)&&delete e[t]},isEmpty:function(e){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");for(var t in e)return!1;return!0},getLength:qx.Bootstrap.objectGetLength,getValues:function(e){return Object.values(e)},mergeWith:qx.Bootstrap.objectMergeWith,clone:function(e,t){if(qx.lang.Type.isObject(e)){n={};for(var i in e)n[i]=t?qx.lang.Object.clone(e[i],t):e[i];return n}if(qx.lang.Type.isArray(e)){for(var n=[],s=0;s<e.length;s++)n[s]=t?qx.lang.Object.clone(e[s],t):e[s];return n}return e},equals:function(e,t){return qx.lang.Object.__equals(e,t,[],[])},__equals:function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var s=Object.prototype.toString.call(e);if(s!=Object.prototype.toString.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=_typeof(e)||"object"!=_typeof(t))return!1;for(var r=i.length;r--;)if(i[r]==e)return n[r]==t;var o=e.constructor,a=t.constructor;if(o!==a&&!(qx.Bootstrap.isFunction(o)&&o instanceof o&&qx.Bootstrap.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;i.push(e);n.push(t);var l=0,u=!0;if("[object Array]"==s){if(u=(l=e.length)==t.length)for(;l--&&(u=qx.lang.Object.__equals(e[l],t[l],i,n)););}else{for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){l++;if(!(u=Object.prototype.hasOwnProperty.call(t,c)&&qx.lang.Object.__equals(e[c],t[c],i,n)))break}if(u){for(c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&!l--)break;u=!l}}i.pop();n.pop();return u},invert:function(e){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");var t={};for(var i in e)t[e[i].toString()]=i;return t},getKeyFromValue:function(e,t){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return i;return null},contains:function(e,t){qx.core.Assert&&qx.core.Assert.assertMap(e,"Invalid argument 'map'");return null!==this.getKeyFromValue(e,t)},fromArray:function(e){qx.core.Assert&&qx.core.Assert.assertArray(e,"Invalid argument 'array'");for(var t={},i=0,n=e.length;i<n;i++){switch(_typeof(e[i])){case"object":case"function":case"undefined":throw new Error("Could not convert complex objects like "+e[i]+" at array index "+i+" to map syntax")}t[e[i].toString()]=!0}return t}}});qx.lang.Object.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Browser":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["runtime.name"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Runtime",{statics:{getName:function(){return"object"===("undefined"==typeof Packages?"undefined":_typeof(Packages))&&"[object JavaPackage]"===Object.prototype.toString.call(Packages)?"rhino":"undefined"!=typeof process?"node.js":"undefined"!=typeof Titanium&&void 0!==Titanium.userAgent?"titanium":qx.bom.client.Browser.getName()}},defer:function(e){qx.core.Environment.add("runtime.name",e.getName)}});qx.bom.client.Runtime.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.core.MAssert":{require:!0},"qx.dev.unit.AsyncWrapper":{},"qx.lang.Array":{},"qx.dev.unit.RequirementError":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestCase",{extend:qx.core.Object,include:[qx.core.MAssert],events:{assertionFailed:"qx.event.type.Data"},properties:{testResult:{init:null},testFunc:{init:null}},members:{__autoDispose:null,isDebugOn:function(){return!0},wait:function(e,t,i){throw new qx.dev.unit.AsyncWrapper(e,t,i)},resume:function(e,t){return this.getTestResult().run(this.getTestFunc(),e||function(){},t||this,!0)},resumeSetUp:function(){var e=this.getTestFunc(),t=this,i=e.getName();return this.getTestResult().run(e,function(){try{t[i]()}catch(e){throw e}},this,!0)},resumeHandler:function(e,t){this.assertFunction(e,"First parameter of resumeHandler() must be a function!");var i=e,n=this;return function(){var e=qx.lang.Array.fromArguments(arguments);return n.resume(i.bind.apply(i,[t||this].concat(e)),t)}},skip:function(e){throw new qx.dev.unit.RequirementError(null,e||"Called skip()")},addAutoDispose:function(e){this.__autoDispose||(this.__autoDispose=[]);this.__autoDispose.push(e)},doAutoDispose:function(){if(this.__autoDispose){this.__autoDispose.forEach(function(e){e.isDisposed()||(e instanceof qx.ui.core.Widget?e.destroy():e instanceof qx.core.Object&&e.dispose())});this.__autoDispose=null}}}});qx.dev.unit.TestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Object":{construct:!0},"qx.Annotation":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Annotation",{extend:qx.dev.unit.TestCase,members:{testBasic:function(){var e=qx.Class.define(null,{"@":["class-a-anno"],extend:qx.core.Object,"@construct":["construct-a-anno"],"@destruct":["destruct-a-anno"],properties:{alpha:{init:null,nullable:!0,"@":["property-alpha-anno"]}},members:{"@methodA":["method-a-anno"],methodA:function(){}},statics:{"@staticA":["static-a-anno"],staticA:function(){return!0}}}),t=qx.Class.define(null,{extend:e,properties:{bravo:{init:null,nullable:!0,"@":["property-bravo-anno"]}},members:{"@methodB":["method-b-anno"],methodB:function(){}}}),i=qx.Class.define(null,{extend:t,"@":["class-c-anno"],"@construct":["construct-c-anno"],"@destruct":["destruct-c-anno"],properties:{bravo:{refine:!0,"@":["refined-bravo-anno"]}},members:{"@methodB":["refined-method-b-anno"]}});this.assertArrayEquals(["class-a-anno"],qx.Annotation.getOwnClass(e));this.assertArrayEquals(["class-a-anno"],qx.Annotation.getClass(e));this.assertArrayEquals(["construct-a-anno"],qx.Annotation.getConstructor(e));this.assertArrayEquals(["destruct-a-anno"],qx.Annotation.getDestructor(e));this.assertArrayEquals(["method-a-anno"],qx.Annotation.getOwnMember(e,"methodA"));this.assertArrayEquals(["static-a-anno"],qx.Annotation.getStatic(e,"staticA"));this.assertArrayEquals(["property-alpha-anno"],qx.Annotation.getProperty(e,"alpha"));this.assertArrayEquals([],qx.Annotation.getOwnClass(t));this.assertArrayEquals(["class-a-anno"],qx.Annotation.getClass(t));this.assertArrayEquals([],qx.Annotation.getOwnConstructor(t));this.assertArrayEquals(["construct-a-anno"],qx.Annotation.getConstructor(t));this.assertArrayEquals([],qx.Annotation.getOwnDestructor(t));this.assertArrayEquals(["destruct-a-anno"],qx.Annotation.getDestructor(t));this.assertArrayEquals([],qx.Annotation.getOwnMember(t,"methodA"));this.assertArrayEquals(["method-a-anno"],qx.Annotation.getMember(t,"methodA"));this.assertArrayEquals(["method-b-anno"],qx.Annotation.getMember(t,"methodB"));this.assertArrayEquals([],qx.Annotation.getStatic(t,"staticA"));this.assertArrayEquals(["property-alpha-anno"],qx.Annotation.getProperty(t,"alpha"));this.assertArrayEquals(["property-bravo-anno"],qx.Annotation.getProperty(t,"bravo"));this.assertArrayEquals(["bravo"],qx.Annotation.getPropertiesByAnnotation(i,"property-bravo-anno"));this.assertArrayEquals(["class-c-anno"],qx.Annotation.getOwnClass(i));this.assertArrayEquals(["class-c-anno","class-a-anno"],qx.Annotation.getClass(i));this.assertArrayEquals(["construct-c-anno"],qx.Annotation.getOwnConstructor(i));this.assertArrayEquals(["construct-c-anno","construct-a-anno"],qx.Annotation.getConstructor(i));this.assertArrayEquals(["destruct-c-anno"],qx.Annotation.getOwnDestructor(i));this.assertArrayEquals(["destruct-c-anno","destruct-a-anno"],qx.Annotation.getDestructor(i));this.assertArrayEquals([],qx.Annotation.getOwnMember(i,"methodA"));this.assertArrayEquals(["method-a-anno"],qx.Annotation.getMember(i,"methodA"));this.assertArrayEquals(["refined-method-b-anno","method-b-anno"],qx.Annotation.getMember(i,"methodB"));this.assertArrayEquals(["property-alpha-anno"],qx.Annotation.getProperty(i,"alpha"));this.assertArrayEquals(["refined-bravo-anno","property-bravo-anno"],qx.Annotation.getProperty(i,"bravo"));this.assertArrayEquals(["refined-bravo-anno"],qx.Annotation.getOwnProperty(i,"bravo"))},testByType:function(){var e=qx.Class.define(null,{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);e&&this.setValue(e)},properties:{value:{init:0}}}),t=qx.Class.define(null,{extend:qx.core.Object,"@construct":["construct-a-anno"],"@destruct":["destruct-a-anno"],properties:{alpha:{init:null,nullable:!0,"@":["property-alpha-anno",new e(2)]}},members:{"@methodA":["method-a-anno",new e(3)],methodA:function(){}},statics:{"@staticA":["static-a-anno",new e(4)],staticA:function(){return!0}}}),i=qx.Annotation.getProperty(t,"alpha",e);this.assertEquals(1,i.length);this.assertTrue(i[0]instanceof e);i=qx.Annotation.getOwnProperty(t,"alpha",e);this.assertEquals(1,i.length);this.assertTrue(i[0]instanceof e);i=qx.Annotation.getMember(t,"methodA",e);this.assertEquals(1,i.length);this.assertTrue(i[0]instanceof e)}}});qx.test.Annotation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.lang.Type":{construct:!0}},environment:{provided:[],required:{"qx.test.delay.scale":{construct:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.AsyncWrapper",{extend:qx.core.Object,construct:function(e,t,i){for(var n=0;n<2;n++)qx.lang.Type.isFunction(arguments[n])?this.setDeferredFunction(arguments[n]):qx.lang.Type.isNumber(arguments[n])&&(qx.core.Environment.get("qx.test.delay.scale")?this.setDelay(arguments[n]*parseInt(qx.core.Environment.get("qx.test.delay.scale"),10)):this.setDelay(arguments[n]));i&&this.setContext(i)},properties:{deferredFunction:{check:"Function",init:!1},context:{check:"Object",init:null},delay:{check:"Integer",nullable:!1,init:1e4}}});qx.dev.unit.AsyncWrapper.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.RequirementError",{extend:Error,construct:function(e,t){this.__message=t||"Requirement not met";this.__requirement=e;var i=Error.call(this,this.__message);i.stack&&(this.stack=i.stack);i.stacktrace&&(this.stacktrace=i.stacktrace)},members:{__message:null,__requirement:null,getRequirement:function(){return this.__requirement},toString:function(){var e=this.__message;this.__requirement&&(e+=": "+this.__requirement);return e}}});qx.dev.unit.RequirementError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.theme.manager.Meta":{construct:!0},"qx.util.PropertyUtil":{},"qx.ui.core.queue.Layout":{},"qx.core.Init":{},"qx.ui.core.queue.Visibility":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.LayoutItem",{type:"abstract",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);qx.theme.manager.Meta.getInstance().addListener("changeTheme",this._onChangeTheme,this)},properties:{minWidth:{check:"Integer",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},width:{check:"Integer",event:"changeWidth",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},maxWidth:{check:"Integer",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},minHeight:{check:"Integer",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},height:{check:"Integer",event:"changeHeight",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},maxHeight:{check:"Integer",nullable:!0,apply:"_applyDimension",init:null,themeable:!0},allowGrowX:{check:"Boolean",apply:"_applyStretching",init:!0,themeable:!0},allowShrinkX:{check:"Boolean",apply:"_applyStretching",init:!0,themeable:!0},allowGrowY:{check:"Boolean",apply:"_applyStretching",init:!0,themeable:!0},allowShrinkY:{check:"Boolean",apply:"_applyStretching",init:!0,themeable:!0},allowStretchX:{group:["allowGrowX","allowShrinkX"],mode:"shorthand",themeable:!0},allowStretchY:{group:["allowGrowY","allowShrinkY"],mode:"shorthand",themeable:!0},marginTop:{check:"Integer",init:0,apply:"_applyMargin",themeable:!0},marginRight:{check:"Integer",init:0,apply:"_applyMargin",themeable:!0},marginBottom:{check:"Integer",init:0,apply:"_applyMargin",themeable:!0},marginLeft:{check:"Integer",init:0,apply:"_applyMargin",themeable:!0},margin:{group:["marginTop","marginRight","marginBottom","marginLeft"],mode:"shorthand",themeable:!0},alignX:{check:["left","center","right"],nullable:!0,apply:"_applyAlign",themeable:!0},alignY:{check:["top","middle","bottom","baseline"],nullable:!0,apply:"_applyAlign",themeable:!0}},members:{_onChangeTheme:function(){var e=qx.util.PropertyUtil.getAllProperties(this.constructor);for(var t in e){if(e[t].themeable){null==qx.util.PropertyUtil.getUserValue(this,t)&&qx.util.PropertyUtil.resetThemed(this,t)}}},__computedHeightForWidth:null,__computedLayout:null,__hasInvalidLayout:null,__sizeHint:null,__updateMargin:null,__userBounds:null,__layoutProperties:null,getBounds:function(){return this.__userBounds||this.__computedLayout||null},clearSeparators:function(){},renderSeparator:function(e,t){},renderLayout:function(e,t,i,n){if(this.isDisposed())return null;var s="Something went wrong with the layout of "+this.toString()+"!";this.assertInteger(e,"Wrong 'left' argument. "+s);this.assertInteger(t,"Wrong 'top' argument. "+s);this.assertInteger(i,"Wrong 'width' argument. "+s);this.assertInteger(n,"Wrong 'height' argument. "+s);var r=null;if(null==this.getHeight()&&this._hasHeightForWidth())r=this._getHeightForWidth(i);if(null!=r&&r!==this.__computedHeightForWidth){this.__computedHeightForWidth=r;qx.ui.core.queue.Layout.add(this);return null}var o=this.__computedLayout;o||(o=this.__computedLayout={});var a={};if(e!==o.left||t!==o.top){a.position=!0;o.left=e;o.top=t}if(i!==o.width||n!==o.height){a.size=!0;o.width=i;o.height=n}if(this.__hasInvalidLayout){a.local=!0;delete this.__hasInvalidLayout}if(this.__updateMargin){a.margin=!0;delete this.__updateMargin}return a},isExcluded:function(){return!1},hasValidLayout:function(){return!this.__hasInvalidLayout},scheduleLayoutUpdate:function(){qx.ui.core.queue.Layout.add(this)},invalidateLayoutCache:function(){this.__hasInvalidLayout=!0;this.__sizeHint=null},getSizeHint:function(e){var t=this.__sizeHint;if(t)return t;if(!1===e)return null;t=this.__sizeHint=this._computeSizeHint();this._hasHeightForWidth()&&this.__computedHeightForWidth&&null==this.getHeight()&&(t.height=this.__computedHeightForWidth);t.minWidth>t.width&&(t.width=t.minWidth);t.maxWidth<t.width&&(t.width=t.maxWidth);this.getAllowGrowX()||(t.maxWidth=t.width);this.getAllowShrinkX()||(t.minWidth=t.width);t.minHeight>t.height&&(t.height=t.minHeight);t.maxHeight<t.height&&(t.height=t.maxHeight);this.getAllowGrowY()||(t.maxHeight=t.height);this.getAllowShrinkY()||(t.minHeight=t.height);return t},_computeSizeHint:function(){var e=this.getMinWidth()||0,t=this.getMinHeight()||0,i=this.getWidth()||e,n=this.getHeight()||t;return{minWidth:e,width:i,maxWidth:this.getMaxWidth()||1/0,minHeight:t,height:n,maxHeight:this.getMaxHeight()||1/0}},_hasHeightForWidth:function(){var e=this._getLayout();return!!e&&e.hasHeightForWidth()},_getHeightForWidth:function(e){var t=this._getLayout();return t&&t.hasHeightForWidth()?t.getHeightForWidth(e):null},_getLayout:function(){return null},_applyMargin:function(){this.__updateMargin=!0;var e=this.$$parent;e&&e.updateLayoutProperties()},_applyAlign:function(){var e=this.$$parent;e&&e.updateLayoutProperties()},_applyDimension:function(){qx.ui.core.queue.Layout.add(this)},_applyStretching:function(){qx.ui.core.queue.Layout.add(this)},hasUserBounds:function(){return!!this.__userBounds},setUserBounds:function(e,t,i,n){this.__userBounds={left:e,top:t,width:i,height:n};qx.ui.core.queue.Layout.add(this)},resetUserBounds:function(){delete this.__userBounds;qx.ui.core.queue.Layout.add(this)},__emptyProperties:{},setLayoutProperties:function(e){if(null!=e){var t=this.__layoutProperties;t||(t=this.__layoutProperties={});var i=this.getLayoutParent();i&&i.updateLayoutProperties(e);for(var n in e)null==e[n]?delete t[n]:t[n]=e[n]}},getLayoutProperties:function(){return this.__layoutProperties||this.__emptyProperties},clearLayoutProperties:function(){delete this.__layoutProperties},updateLayoutProperties:function(e){var t=this._getLayout();if(t){if(e)for(var i in e)null!==e[i]&&t.verifyLayoutProperty(this,i,e[i]);t.invalidateChildrenCache()}qx.ui.core.queue.Layout.add(this)},getApplicationRoot:function(){return qx.core.Init.getApplication().getRoot()},getLayoutParent:function(){return this.$$parent||null},setLayoutParent:function(e){if(this.$$parent!==e){this.$$parent=e||null;qx.ui.core.queue.Visibility.add(this)}},isRootWidget:function(){return!1},_getRoot:function(){for(var e=this;e;){if(e.isRootWidget())return e;e=e.$$parent}return null},clone:function(){var e=qx.ui.core.LayoutItem.prototype.clone.base.call(this),t=this.__layoutProperties;t&&(e.__layoutProperties=qx.lang.Object.clone(t));return e}},destruct:function(){qx.theme.manager.Meta.getInstance().removeListener("changeTheme",this._onChangeTheme,this);this.$$parent=this.$$subparent=this.__layoutProperties=this.__computedLayout=this.__userBounds=this.__sizeHint=null}});qx.ui.core.LayoutItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.locale.MTranslation",{members:{tr:function(e,t){var i=qx.locale.Manager;if(i)return i.tr.apply(i,arguments);throw new Error("To enable localization please include qx.locale.Manager into your build!")},trn:function(e,t,i,n){var s=qx.locale.Manager;if(s)return s.trn.apply(s,arguments);throw new Error("To enable localization please include qx.locale.Manager into your build!")},trc:function(e,t,i){var n=qx.locale.Manager;if(n)return n.trc.apply(n,arguments);throw new Error("To enable localization please include qx.locale.Manager into your build!")},trnc:function(e,t,i,n,s){var r=qx.locale.Manager;if(r)return r.trnc.apply(r,arguments);throw new Error("To enable localization please include qx.locale.Manager into your build!")},marktr:function(e){var t=qx.locale.Manager;if(t)return t.marktr.apply(t,arguments);throw new Error("To enable localization please include qx.locale.Manager into your build!")}}});qx.locale.MTranslation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.theme.manager.Color":{},"qx.theme.manager.Decoration":{},"qx.theme.manager.Font":{},"qx.theme.manager.Icon":{},"qx.theme.manager.Appearance":{},"qx.core.Environment":{},"qx.Theme":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Meta",{type:"singleton",extend:qx.core.Object,events:{changeTheme:"qx.event.type.Event"},properties:{theme:{check:"Theme",nullable:!1,apply:"_applyTheme"}},members:{_applyTheme:function(e,t){var i=!0,n=!0,s=!0,r=!0,o=!0;if(t){i=e.meta.color!==t.meta.color;n=e.meta.decoration!==t.meta.decoration;s=e.meta.font!==t.meta.font;r=e.meta.icon!==t.meta.icon;o=e.meta.appearance!==t.meta.appearance}var a=qx.theme.manager.Color.getInstance(),l=qx.theme.manager.Decoration.getInstance(),u=qx.theme.manager.Font.getInstance(),c=qx.theme.manager.Icon.getInstance(),d=qx.theme.manager.Appearance.getInstance();this._suspendEvents();if(i){if(!n){var h=l.getTheme();l._applyTheme(h)}a.setTheme(e.meta.color)}l.setTheme(e.meta.decoration);u.setTheme(e.meta.font);c.setTheme(e.meta.icon);d.setTheme(e.meta.appearance);(i||n||s||r||o)&&this.fireEvent("changeTheme");this._activateEvents()},__timer:null,_fireEvent:function(e){e.getTarget()===qx.theme.manager.Color.getInstance()&&qx.theme.manager.Decoration.getInstance().refresh();this.fireEvent("changeTheme")},_suspendEvents:function(){var e=qx.theme.manager.Color.getInstance(),t=qx.theme.manager.Decoration.getInstance(),i=qx.theme.manager.Font.getInstance(),n=qx.theme.manager.Icon.getInstance(),s=qx.theme.manager.Appearance.getInstance();e.hasListener("changeTheme")&&e.removeListener("changeTheme",this._fireEvent,this);t.hasListener("changeTheme")&&t.removeListener("changeTheme",this._fireEvent,this);i.hasListener("changeTheme")&&i.removeListener("changeTheme",this._fireEvent,this);n.hasListener("changeTheme")&&n.removeListener("changeTheme",this._fireEvent,this);s.hasListener("changeTheme")&&s.removeListener("changeTheme",this._fireEvent,this)},_activateEvents:function(){var e=qx.theme.manager.Color.getInstance(),t=qx.theme.manager.Decoration.getInstance(),i=qx.theme.manager.Font.getInstance(),n=qx.theme.manager.Icon.getInstance(),s=qx.theme.manager.Appearance.getInstance();e.hasListener("changeTheme")||e.addListener("changeTheme",this._fireEvent,this);t.hasListener("changeTheme")||t.addListener("changeTheme",this._fireEvent,this);i.hasListener("changeTheme")||i.addListener("changeTheme",this._fireEvent,this);n.hasListener("changeTheme")||n.addListener("changeTheme",this._fireEvent,this);s.hasListener("changeTheme")||s.addListener("changeTheme",this._fireEvent,this)},initialize:function(){var e,t;if(e=qx.core.Environment.get("qx.theme")){if(!(t=qx.Theme.getByName(e)))throw new Error("The theme to use is not available: "+e);this.setTheme(t)}}},environment:{"qx.theme":"qx.theme.Modern"}});qx.theme.manager.Meta.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.ui.core.EventHandler":{},"qx.event.handler.DragDrop":{},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.LayoutItem":{construct:!0,require:!0},"qx.locale.MTranslation":{require:!0},"qx.core.IDisposable":{require:!0},"qx.core.Assert":{},"qx.util.ObjectPool":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{},"qx.ui.core.queue.Layout":{},"qx.ui.core.queue.Visibility":{},"qx.lang.Object":{},"qx.theme.manager.Decoration":{},"qx.ui.core.queue.Manager":{},"qx.html.Element":{},"qx.lang.Array":{},"qx.event.Registration":{},"qx.event.dispatch.MouseCapture":{},"qx.Bootstrap":{},"qx.locale.Manager":{},"qx.bom.client.Engine":{},"qx.theme.manager.Color":{},"qx.lang.Type":{},"qx.ui.core.queue.Appearance":{},"qx.theme.manager.Appearance":{},"qx.core.Property":{},"qx.ui.core.DragDropCursor":{},"qx.bom.element.Location":{},"qx.ui.core.queue.Dispose":{},"qx.core.ObjectRegistry":{},"qx.ui.core.queue.Widget":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.Widget",{extend:qx.ui.core.LayoutItem,include:[qx.locale.MTranslation],implement:[qx.core.IDisposable],construct:function(){qx.ui.core.LayoutItem.constructor.call(this);this.__contentElement=this.__createContentElement();this.initFocusable();this.initSelectable();this.initNativeContextMenu()},events:{appear:"qx.event.type.Event",disappear:"qx.event.type.Event",createChildControl:"qx.event.type.Data",resize:"qx.event.type.Data",move:"qx.event.type.Data",syncAppearance:"qx.event.type.Data",mousemove:"qx.event.type.Mouse",mouseover:"qx.event.type.Mouse",mouseout:"qx.event.type.Mouse",mousedown:"qx.event.type.Mouse",mouseup:"qx.event.type.Mouse",click:"qx.event.type.Mouse",auxclick:"qx.event.type.Mouse",dblclick:"qx.event.type.Mouse",contextmenu:"qx.event.type.Mouse",beforeContextmenuOpen:"qx.event.type.Data",mousewheel:"qx.event.type.MouseWheel",touchstart:"qx.event.type.Touch",touchend:"qx.event.type.Touch",touchmove:"qx.event.type.Touch",touchcancel:"qx.event.type.Touch",tap:"qx.event.type.Tap",longtap:"qx.event.type.Tap",dbltap:"qx.event.type.Tap",swipe:"qx.event.type.Touch",rotate:"qx.event.type.Rotate",pinch:"qx.event.type.Pinch",track:"qx.event.type.Track",roll:"qx.event.type.Roll",pointermove:"qx.event.type.Pointer",pointerover:"qx.event.type.Pointer",pointerout:"qx.event.type.Pointer",pointerdown:"qx.event.type.Pointer",pointerup:"qx.event.type.Pointer",pointercancel:"qx.event.type.Pointer",keyup:"qx.event.type.KeySequence",keydown:"qx.event.type.KeySequence",keypress:"qx.event.type.KeySequence",keyinput:"qx.event.type.KeyInput",focus:"qx.event.type.Focus",blur:"qx.event.type.Focus",focusin:"qx.event.type.Focus",focusout:"qx.event.type.Focus",activate:"qx.event.type.Focus",deactivate:"qx.event.type.Focus",capture:"qx.event.type.Event",losecapture:"qx.event.type.Event",drop:"qx.event.type.Drag",dragleave:"qx.event.type.Drag",dragover:"qx.event.type.Drag",drag:"qx.event.type.Drag",dragstart:"qx.event.type.Drag",dragend:"qx.event.type.Drag",dragchange:"qx.event.type.Drag",droprequest:"qx.event.type.Drag"},properties:{paddingTop:{check:"Integer",init:0,apply:"_applyPadding",themeable:!0},paddingRight:{check:"Integer",init:0,apply:"_applyPadding",themeable:!0},paddingBottom:{check:"Integer",init:0,apply:"_applyPadding",themeable:!0},paddingLeft:{check:"Integer",init:0,apply:"_applyPadding",themeable:!0},padding:{group:["paddingTop","paddingRight","paddingBottom","paddingLeft"],mode:"shorthand",themeable:!0},zIndex:{nullable:!0,init:10,apply:"_applyZIndex",event:"changeZIndex",check:"Integer",themeable:!0},decorator:{nullable:!0,init:null,apply:"_applyDecorator",event:"changeDecorator",check:"Decorator",themeable:!0},backgroundColor:{nullable:!0,check:"Color",apply:"_applyBackgroundColor",event:"changeBackgroundColor",themeable:!0},textColor:{nullable:!0,check:"Color",apply:"_applyTextColor",event:"changeTextColor",themeable:!0,inheritable:!0},font:{nullable:!0,apply:"_applyFont",check:"Font",event:"changeFont",themeable:!0,inheritable:!0,dereference:!0},opacity:{check:"Number",apply:"_applyOpacity",themeable:!0,nullable:!0,init:null},cursor:{check:"String",apply:"_applyCursor",themeable:!0,inheritable:!0,nullable:!0,init:null},toolTip:{check:"qx.ui.tooltip.ToolTip",nullable:!0},toolTipText:{check:"String",nullable:!0,event:"changeToolTipText",apply:"_applyToolTipText"},toolTipIcon:{check:"String",nullable:!0,event:"changeToolTipText"},blockToolTip:{check:"Boolean",init:!1},showToolTipWhenDisabled:{check:"Boolean",init:!1},visibility:{check:["visible","hidden","excluded"],init:"visible",apply:"_applyVisibility",event:"changeVisibility"},enabled:{init:!0,check:"Boolean",inheritable:!0,apply:"_applyEnabled",event:"changeEnabled"},anonymous:{init:!1,check:"Boolean",apply:"_applyAnonymous"},tabIndex:{check:"Integer",nullable:!0,apply:"_applyTabIndex"},focusable:{check:"Boolean",init:!1,apply:"_applyFocusable"},keepFocus:{check:"Boolean",init:!1,apply:"_applyKeepFocus"},keepActive:{check:"Boolean",init:!1,apply:"_applyKeepActive"},draggable:{check:"Boolean",init:!1,apply:"_applyDraggable"},droppable:{check:"Boolean",init:!1,apply:"_applyDroppable"},selectable:{check:"Boolean",init:!1,event:"changeSelectable",apply:"_applySelectable"},contextMenu:{check:"qx.ui.menu.Menu",apply:"_applyContextMenu",nullable:!0,event:"changeContextMenu"},nativeContextMenu:{check:"Boolean",init:!1,themeable:!0,event:"changeNativeContextMenu",apply:"_applyNativeContextMenu"},appearance:{check:"String",init:"widget",apply:"_applyAppearance",event:"changeAppearance"}},statics:{DEBUG:!1,UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR:!0,getWidgetByElement:function(e,t){for(;e;){qx.core.Assert.assertTrue(!e.$$widget&&!e.$$widgetObject||e.$$widgetObject&&e.$$widget&&e.$$widgetObject.toHashCode()===e.$$widget);var i=e.$$widgetObject;if(i&&(!t||!i.getAnonymous()))return i;try{e=e.parentNode}catch(e){return null}}return null},contains:function(e,t){for(;t;)if(e==(t=t.getLayoutParent()))return!0;return!1},__separatorPool:new qx.util.ObjectPool},members:{__contentElement:null,__initialAppearanceApplied:null,__toolTipTextListenerId:null,__layoutManager:null,_getLayout:function(){return this.__layoutManager},_setLayout:function(e){e&&this.assertInstance(e,qx.ui.layout.Abstract);this.__layoutManager&&this.__layoutManager.connectToWidget(null);e&&e.connectToWidget(this);this.__layoutManager=e;qx.ui.core.queue.Layout.add(this)},setLayoutParent:function(e){if(this.$$parent!==e){var t=this.getContentElement();this.$$parent&&!this.$$parent.$$disposed&&this.$$parent.getContentElement().remove(t);this.$$parent=e||null;e&&!e.$$disposed&&this.$$parent.getContentElement().add(t);this.$$refreshInheritables();qx.ui.core.queue.Visibility.add(this)}},_updateInsets:null,renderLayout:function(e,t,i,n){var s=qx.ui.core.Widget.prototype.renderLayout.base.call(this,e,t,i,n);if(!s)return null;if(qx.lang.Object.isEmpty(s)&&!this._updateInsets)return null;var r=this.getContentElement(),o=s.size||this._updateInsets,a={};if(s.position){a.left=e+"px";a.top=t+"px"}if(o||s.margin){a.width=i+"px";a.height=n+"px"}Object.keys(a).length>0&&r.setStyles(a);if(o||s.local||s.margin)if(this.__layoutManager&&this.hasLayoutChildren()){var l=this.getInsets(),u=i-l.left-l.right,c=n-l.top-l.bottom,d=this.getDecorator(),h={left:0,right:0,top:0,bottom:0};d&&(h=(d=qx.theme.manager.Decoration.getInstance().resolve(d)).getPadding());var g={top:this.getPaddingTop()+h.top,right:this.getPaddingRight()+h.right,bottom:this.getPaddingBottom()+h.bottom,left:this.getPaddingLeft()+h.left};this.__layoutManager.renderLayout(u,c,g)}else if(this.hasLayoutChildren())throw new Error("At least one child in control "+this._findTopControl()+" requires a layout, but no one was defined!");s.position&&this.hasListener("move")&&this.fireDataEvent("move",this.getBounds());s.size&&this.hasListener("resize")&&this.fireDataEvent("resize",this.getBounds());delete this._updateInsets;return s},__separators:null,clearSeparators:function(){var e=this.__separators;if(e){for(var t,i=qx.ui.core.Widget.__separatorPool,n=this.getContentElement(),s=0,r=e.length;s<r;s++){t=e[s];i.poolObject(t);n.remove(t.getContentElement())}e.length=0}},renderSeparator:function(e,t){var i=qx.ui.core.Widget.__separatorPool.getObject(qx.ui.core.Widget);i.set({decorator:e});var n=i.getContentElement();this.getContentElement().add(n);var s=n.getDomElement();if(s){s.style.top=t.top+"px";s.style.left=t.left+"px";s.style.width=t.width+"px";s.style.height=t.height+"px"}else n.setStyles({left:t.left+"px",top:t.top+"px",width:t.width+"px",height:t.height+"px"});this.__separators||(this.__separators=[]);this.__separators.push(i)},_computeSizeHint:function(){var e=this.getWidth(),t=this.getMinWidth(),i=this.getMaxWidth(),n=this.getHeight(),s=this.getMinHeight(),r=this.getMaxHeight();null!==t&&null!==i&&this.assert(t<=i,"minWidth is larger than maxWidth!");null!==s&&null!==r&&this.assert(s<=r,"minHeight is larger than maxHeight!");var o=this._getContentHint(),a=this.getInsets(),l=a.left+a.right,u=a.top+a.bottom;null==e&&(e=o.width+l);null==n&&(n=o.height+u);if(null==t){t=l;null!=o.minWidth&&(t+=o.minWidth)>i&&null!=i&&(t=i)}if(null==s){s=u;null!=o.minHeight&&(s+=o.minHeight)>r&&null!=r&&(s=r)}null==i&&(null==o.maxWidth?i=1/0:(i=o.maxWidth+l)<t&&null!=t&&(i=t));null==r&&(null==o.maxHeight?r=1/0:(r=o.maxHeight+u)<s&&null!=s&&(r=s));return{width:e,minWidth:t,maxWidth:i,height:n,minHeight:s,maxHeight:r}},invalidateLayoutCache:function(){qx.ui.core.Widget.prototype.invalidateLayoutCache.base.call(this);this.__layoutManager&&this.__layoutManager.invalidateLayoutCache()},_getContentHint:function(){var e=this.__layoutManager;if(e){if(this.hasLayoutChildren()){var t=e.getSizeHint(),i="The layout of the widget"+this.toString()+" returned an invalid size hint!";this.assertInteger(t.width,"Wrong 'left' argument. "+i);this.assertInteger(t.height,"Wrong 'top' argument. "+i);return t}return{width:0,height:0}}return{width:100,height:50}},_getHeightForWidth:function(e){var t=this.getInsets(),i=t.left+t.right,n=t.top+t.bottom,s=e-i,r=this._getLayout();if(r&&r.hasHeightForWidth())var o=r.getHeightForWidth(s);else o=this._getContentHeightForWidth(s);return o+n},_getContentHeightForWidth:function(e){throw new Error("Abstract method call: _getContentHeightForWidth()!")},getInsets:function(){var e=this.getPaddingTop(),t=this.getPaddingRight(),i=this.getPaddingBottom(),n=this.getPaddingLeft();if(this.getDecorator()){var s=qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator()).getInsets();this.assertNumber(s.top,"Invalid top decorator inset detected: "+s.top);this.assertNumber(s.right,"Invalid right decorator inset detected: "+s.right);this.assertNumber(s.bottom,"Invalid bottom decorator inset detected: "+s.bottom);this.assertNumber(s.left,"Invalid left decorator inset detected: "+s.left);e+=s.top;t+=s.right;i+=s.bottom;n+=s.left}return{top:e,right:t,bottom:i,left:n}},getInnerSize:function(){var e=this.getBounds();if(!e)return null;var t=this.getInsets();return{width:e.width-t.left-t.right,height:e.height-t.top-t.bottom}},fadeOut:function(e){return this.getContentElement().fadeOut(e)},fadeIn:function(e){return this.getContentElement().fadeIn(e)},_applyAnonymous:function(e){e?this.getContentElement().setAttribute("qxanonymous","true"):this.getContentElement().removeAttribute("qxanonymous")},show:function(){this.setVisibility("visible")},hide:function(){this.setVisibility("hidden")},exclude:function(){this.setVisibility("excluded")},isVisible:function(){return"visible"===this.getVisibility()},isHidden:function(){return"visible"!==this.getVisibility()},isExcluded:function(){return"excluded"===this.getVisibility()},isSeeable:function(){qx.ui.core.queue.Manager.flush();var e=this.getContentElement().getDomElement();return!!e&&e.offsetWidth>0},__createContentElement:function(){var e=this._createContentElement();e.connectWidget(this);e.setStyles({"touch-action":"none","-ms-touch-action":"none"});e.setAttribute("qxClass",this.classname);var t={zIndex:10,boxSizing:"border-box"};qx.ui.root.Inline&&this instanceof qx.ui.root.Inline||(t.position="absolute");e.setStyles(t);return e},_createContentElement:function(){return new qx.html.Element("div",{overflowX:"hidden",overflowY:"hidden"})},getContentElement:function(){return this.__contentElement},__widgetChildren:null,getLayoutChildren:function(){var e,t=this.__widgetChildren;if(!t)return this.__emptyChildren;for(var i=0,n=t.length;i<n;i++){var s=t[i];if(s.hasUserBounds()||s.isExcluded()){null==e&&(e=t.concat());qx.lang.Array.remove(e,s)}}return e||t},scheduleLayoutUpdate:function(){qx.ui.core.queue.Layout.add(this)},invalidateLayoutChildren:function(){var e=this.__layoutManager;e&&e.invalidateChildrenCache();qx.ui.core.queue.Layout.add(this)},hasLayoutChildren:function(){var e,t=this.__widgetChildren;if(!t)return!1;for(var i=0,n=t.length;i<n;i++)if(!(e=t[i]).hasUserBounds()&&!e.isExcluded())return!0;return!1},getChildrenContainer:function(){return this},__emptyChildren:[],_getChildren:function(){return this.__widgetChildren||this.__emptyChildren},_indexOf:function(e){var t=this.__widgetChildren;return t?t.indexOf(e):-1},_hasChildren:function(){var e=this.__widgetChildren;return null!=e&&!!e[0]},addChildrenToQueue:function(e){var t=this.__widgetChildren;if(t)for(var i,n=0,s=t.length;n<s;n++){i=t[n];e.push(i);i.addChildrenToQueue(e)}},_add:function(e,t){this.assertInstance(e,qx.ui.core.LayoutItem.constructor,"'Child' must be an instance of qx.ui.core.LayoutItem!");e.getLayoutParent()==this&&qx.lang.Array.remove(this.__widgetChildren,e);this.__widgetChildren?this.__widgetChildren.push(e):this.__widgetChildren=[e];this.__addHelper(e,t)},_addAt:function(e,t,i){this.__widgetChildren||(this.__widgetChildren=[]);e.getLayoutParent()==this&&qx.lang.Array.remove(this.__widgetChildren,e);var n=this.__widgetChildren[t];n===e&&e.setLayoutProperties(i);n?qx.lang.Array.insertBefore(this.__widgetChildren,e,n):this.__widgetChildren.push(e);this.__addHelper(e,i)},_addBefore:function(e,t,i){this.assertInArray(t,this._getChildren(),"The 'before' widget is not a child of this widget!");if(e!=t){this.__widgetChildren||(this.__widgetChildren=[]);e.getLayoutParent()==this&&qx.lang.Array.remove(this.__widgetChildren,e);qx.lang.Array.insertBefore(this.__widgetChildren,e,t);this.__addHelper(e,i)}},_addAfter:function(e,t,i){this.assertInArray(t,this._getChildren(),"The 'after' widget is not a child of this widget!");if(e!=t){this.__widgetChildren||(this.__widgetChildren=[]);e.getLayoutParent()==this&&qx.lang.Array.remove(this.__widgetChildren,e);qx.lang.Array.insertAfter(this.__widgetChildren,e,t);this.__addHelper(e,i)}},_remove:function(e){if(!this.__widgetChildren)throw new Error("This widget has no children!");qx.lang.Array.remove(this.__widgetChildren,e);this.__removeHelper(e)},_removeAt:function(e){if(!this.__widgetChildren)throw new Error("This widget has no children!");var t=this.__widgetChildren[e];qx.lang.Array.removeAt(this.__widgetChildren,e);this.__removeHelper(t);return t},_removeAll:function(){if(!this.__widgetChildren)return[];var e=this.__widgetChildren.concat();this.__widgetChildren.length=0;for(var t=e.length-1;t>=0;t--)this.__removeHelper(e[t]);qx.ui.core.queue.Layout.add(this);return e},_afterAddChild:null,_afterRemoveChild:null,__addHelper:function(e,t){this.assertInstance(e,qx.ui.core.LayoutItem,"Invalid widget to add: "+e);this.assertNotIdentical(e,this,"Could not add widget to itself: "+e);null!=t&&this.assertType(t,"object","Invalid layout data: "+t);var i=e.getLayoutParent();i&&i!=this&&i._remove(e);e.setLayoutParent(this);t?e.setLayoutProperties(t):this.updateLayoutProperties();this._afterAddChild&&this._afterAddChild(e)},__removeHelper:function(e){this.assertNotUndefined(e);if(e.getLayoutParent()!==this)throw new Error("Remove Error: "+e+" is not a child of this widget!");e.setLayoutParent(null);this.__layoutManager&&this.__layoutManager.invalidateChildrenCache();qx.ui.core.queue.Layout.add(this);this._afterRemoveChild&&this._afterRemoveChild(e)},capture:function(e){this.getContentElement().capture(e)},releaseCapture:function(){this.getContentElement().releaseCapture()},isCapturing:function(){var e=this.getContentElement().getDomElement();return!!e&&e==qx.event.Registration.getManager(e).getDispatcher(qx.event.dispatch.MouseCapture).getCaptureElement()},_applyPadding:function(e,t,i){this._updateInsets=!0;qx.ui.core.queue.Layout.add(this);this.__updateContentPadding(i,e)},__updateContentPadding:function(e,t){var i=this.getContentElement(),n=this.getDecorator();if(n=qx.theme.manager.Decoration.getInstance().resolve(n)){var s=qx.Bootstrap.firstLow(e.replace("padding",""));t+=n.getPadding()[s]||0}i.setStyle(e,t+"px")},_applyDecorator:function(e,t){var i=this.getContentElement();if(t){t=qx.theme.manager.Decoration.getInstance().getCssClassName(t);i.removeClass(t)}if(e){e=qx.theme.manager.Decoration.getInstance().addCssClass(e);i.addClass(e)}(e||t)&&qx.ui.core.queue.Layout.add(this)},_applyToolTipText:function(e,t){if(!this.__toolTipTextListenerId){var i=qx.locale.Manager.getInstance();this.__toolTipTextListenerId=i.addListener("changeLocale",function(){var e=this.getToolTipText();e&&e.translate&&this.setToolTipText(e.translate())},this)}},_applyTextColor:function(e,t){},_applyZIndex:function(e,t){this.getContentElement().setStyle("zIndex",null==e?0:e)},_applyVisibility:function(e,t){var i=this.getContentElement();"visible"===e?i.show():i.hide();var n=this.$$parent;!n||null!=t&&null!=e&&"excluded"!==t&&"excluded"!==e||n.invalidateLayoutChildren();qx.ui.core.queue.Visibility.add(this)},_applyOpacity:function(e,t){this.getContentElement().setStyle("opacity",1==e?null:e)},_applyCursor:function(e,t){null!=e||this.isSelectable()||(e="default");this.getContentElement().setStyle("cursor",e,"opera"==qx.core.Environment.get("engine.name"))},_applyBackgroundColor:function(e,t){var i=this.getBackgroundColor(),n=this.getContentElement(),s=qx.theme.manager.Color.getInstance().resolve(i);n.setStyle("backgroundColor",s)},_applyFont:function(e,t){},_onChangeTheme:function(){if(!this.isDisposed()){qx.ui.core.Widget.prototype._onChangeTheme.base.call(this);this.updateAppearance();var e=this.getDecorator();this._applyDecorator(null,e);this._applyDecorator(e);e=this.getFont();qx.lang.Type.isString(e)&&this._applyFont(e,e);e=this.getTextColor();qx.lang.Type.isString(e)&&this._applyTextColor(e,e);e=this.getBackgroundColor();qx.lang.Type.isString(e)&&this._applyBackgroundColor(e,e)}},__states:null,$$stateChanges:null,_forwardStates:null,hasState:function(e){var t=this.__states;return!!t&&!!t[e]},addState:function(e){var t=this.__states;t||(t=this.__states={});if(!t[e]){this.__states[e]=!0;"hovered"===e?this.syncAppearance():qx.ui.core.queue.Visibility.isVisible(this)?qx.ui.core.queue.Appearance.add(this):this.$$stateChanges=!0;var i=this._forwardStates,n=this.__childControls;if(i&&i[e]&&n){for(var s in n)n[s]instanceof qx.ui.core.Widget&&n[s].addState(e)}}},removeState:function(e){var t=this.__states;if(t&&t[e]){delete this.__states[e];"hovered"===e?this.syncAppearance():qx.ui.core.queue.Visibility.isVisible(this)?qx.ui.core.queue.Appearance.add(this):this.$$stateChanges=!0;var i=this._forwardStates,n=this.__childControls;if(i&&i[e]&&n)for(var s in n){var r=n[s];r instanceof qx.ui.core.Widget&&r.removeState(e)}}},replaceState:function(e,t){var i=this.__states;i||(i=this.__states={});i[t]||(i[t]=!0);i[e]&&delete i[e];qx.ui.core.queue.Visibility.isVisible(this)?qx.ui.core.queue.Appearance.add(this):this.$$stateChanges=!0;var n=this._forwardStates,s=this.__childControls;if(n&&n[t]&&s)for(var r in s){var o=s[r];o instanceof qx.ui.core.Widget&&o.replaceState(e,t)}},__appearanceSelector:null,__updateSelector:null,syncAppearance:function(){var e=this.__states,t=this.__appearanceSelector,i=qx.theme.manager.Appearance.getInstance(),n=qx.core.Property.$$method.setThemed,s=qx.core.Property.$$method.resetThemed;if(this.__updateSelector){delete this.__updateSelector;if(t){var r=i.styleFrom(t,e,null,this.getAppearance());t=null}}if(!t){var o=this,a=[];do{a.push(o.$$subcontrol||o.getAppearance())}while(o=o.$$subparent);t=a.reverse().join("/").replace(/#[0-9]+/g,"");this.__appearanceSelector=t}var l=i.styleFrom(t,e,null,this.getAppearance());if(l){if(r)for(var u in r)void 0===l[u]&&this[s[u]]();for(var u in l)if(!this[n[u]])throw new Error(this.classname+' has no themeable property "'+u+'" while styling '+t);for(var u in l)void 0===l[u]?this[s[u]]():this[n[u]](l[u])}else if(r)for(var u in r)this[s[u]]();this.fireDataEvent("syncAppearance",this.__states)},_applyAppearance:function(e,t){this.updateAppearance()},checkAppearanceNeeds:function(){if(this.__initialAppearanceApplied){if(this.$$stateChanges){qx.ui.core.queue.Appearance.add(this);delete this.$$stateChanges}}else{qx.ui.core.queue.Appearance.add(this);this.__initialAppearanceApplied=!0}},updateAppearance:function(){this.__updateSelector=!0;qx.ui.core.queue.Appearance.add(this);var e=this.__childControls;if(e){var t;for(var i in e)(t=e[i])instanceof qx.ui.core.Widget&&t.updateAppearance()}},syncWidget:function(e){},getEventTarget:function(){for(var e=this;e.getAnonymous();)if(!(e=e.getLayoutParent()))return null;return e},getFocusTarget:function(){var e=this;if(!e.getEnabled())return null;for(;e.getAnonymous()||!e.getFocusable();)if(!(e=e.getLayoutParent())||!e.getEnabled())return null;return e},getFocusElement:function(){return this.getContentElement()},isTabable:function(){return!!this.getContentElement().getDomElement()&&this.isFocusable()},_applyFocusable:function(e,t){var i=this.getFocusElement();if(e){var n=this.getTabIndex();null==n&&(n=1);i.setAttribute("tabIndex",n);i.setStyle("outline","none")}else i.isNativelyFocusable()?i.setAttribute("tabIndex",-1):t&&i.setAttribute("tabIndex",null)},_applyKeepFocus:function(e){this.getFocusElement().setAttribute("qxKeepFocus",e?"on":null)},_applyKeepActive:function(e){this.getContentElement().setAttribute("qxKeepActive",e?"on":null)},_applyTabIndex:function(e){if(null==e)e=1;else if(e<1||e>32e3)throw new Error("TabIndex property must be between 1 and 32000");this.getFocusable()&&null!=e&&this.getFocusElement().setAttribute("tabIndex",e)},_applySelectable:function(e,t){null!==t&&this._applyCursor(this.getCursor());this.getContentElement().setSelectable(e)},_applyEnabled:function(e,t){if(!1===e){this.addState("disabled");this.removeState("hovered");if(this.isFocusable()){this.removeState("focused");this._applyFocusable(!1,!0)}this.isDraggable()&&this._applyDraggable(!1,!0);this.isDroppable()&&this._applyDroppable(!1,!0)}else{this.removeState("disabled");this.isFocusable()&&this._applyFocusable(!0,!1);this.isDraggable()&&this._applyDraggable(!0,!1);this.isDroppable()&&this._applyDroppable(!0,!1)}},_applyNativeContextMenu:function(e,t,i){},_applyContextMenu:function(e,t){if(t){t.removeState("contextmenu");t.getOpener()==this&&t.resetOpener();if(!e){this.removeListener("contextmenu",this._onContextMenuOpen);this.removeListener("longtap",this._onContextMenuOpen);t.removeListener("changeVisibility",this._onBeforeContextMenuOpen,this)}}if(e){e.setOpener(this);e.addState("contextmenu");if(!t){this.addListener("contextmenu",this._onContextMenuOpen);this.addListener("longtap",this._onContextMenuOpen);e.addListener("changeVisibility",this._onBeforeContextMenuOpen,this)}}},_onContextMenuOpen:function(e){if("longtap"!=e.getType()||"touch"===e.getPointerType()){this.getContextMenu().openAtPointer(e);e.stop()}},_onBeforeContextMenuOpen:function(e){"visible"==e.getData()&&this.hasListener("beforeContextmenuOpen")&&this.fireDataEvent("beforeContextmenuOpen",e)},_onStopEvent:function(e){e.stopPropagation()},_getDragDropCursor:function(){return qx.ui.core.DragDropCursor.getInstance()},_applyDraggable:function(e,t){this.isEnabled()||!0!==e||(e=!1);this._getDragDropCursor();if(e){this.addListener("dragstart",this._onDragStart);this.addListener("drag",this._onDrag);this.addListener("dragend",this._onDragEnd);this.addListener("dragchange",this._onDragChange)}else{this.removeListener("dragstart",this._onDragStart);this.removeListener("drag",this._onDrag);this.removeListener("dragend",this._onDragEnd);this.removeListener("dragchange",this._onDragChange)}this.getContentElement().setAttribute("qxDraggable",e?"on":null)},_applyDroppable:function(e,t){this.isEnabled()||!0!==e||(e=!1);this.getContentElement().setAttribute("qxDroppable",e?"on":null)},_onDragStart:function(e){this._getDragDropCursor().placeToPointer(e);this.getApplicationRoot().setGlobalCursor("default")},_onDrag:function(e){this._getDragDropCursor().placeToPointer(e)},_onDragEnd:function(e){this._getDragDropCursor().moveTo(-1e3,-1e3);this.getApplicationRoot().resetGlobalCursor()},_onDragChange:function(e){var t=this._getDragDropCursor(),i=e.getCurrentAction();i?t.setAction(i):t.resetAction()},visualizeFocus:function(){this.addState("focused")},visualizeBlur:function(){this.removeState("focused")},scrollChildIntoView:function(e,t,i,n){n=void 0===n||n;var s,r=qx.ui.core.queue.Layout;if(n){n=!r.isScheduled(e);s=e.getLayoutParent();n&&s&&(n=!r.isScheduled(s))&&s.getChildren().forEach(function(e){n=n&&!r.isScheduled(e)})}this.scrollChildIntoViewX(e,t,n);this.scrollChildIntoViewY(e,i,n)},scrollChildIntoViewX:function(e,t,i){this.getContentElement().scrollChildIntoViewX(e.getContentElement(),t,i)},scrollChildIntoViewY:function(e,t,i){this.getContentElement().scrollChildIntoViewY(e.getContentElement(),t,i)},focus:function(){if(this.isFocusable())this.getFocusElement().focus();else if(qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR)throw new Error("Widget is not focusable!")},blur:function(){if(this.isFocusable())this.getFocusElement().blur();else if(qx.ui.core.Widget.UNFOCUSABLE_WIDGET_FOCUS_BLUR_ERROR)throw new Error("Widget is not focusable!")},activate:function(){this.getContentElement().activate()},deactivate:function(){this.getContentElement().deactivate()},tabFocus:function(){this.getFocusElement().focus()},hasChildControl:function(e){return!!this.__childControls&&!!this.__childControls[e]},__childControls:null,_getCreatedChildControls:function(){return this.__childControls},getChildControl:function(e,t){if(!this.__childControls){if(t)return null;this.__childControls={}}var i=this.__childControls[e];return i||(!0===t?null:this._createChildControl(e))},_showChildControl:function(e){var t=this.getChildControl(e);t.show();return t},_excludeChildControl:function(e){var t=this.getChildControl(e,!0);t&&t.exclude()},_isChildControlVisible:function(e){var t=this.getChildControl(e,!0);return!!t&&t.isVisible()},_releaseChildControl:function(e){var t=this.getChildControl(e,!1);if(!t)throw new Error("Unsupported control: "+e);delete t.$$subcontrol;delete t.$$subparent;var i=this.__states,n=this._forwardStates;if(i&&n&&t instanceof qx.ui.core.Widget)for(var s in i)n[s]&&t.removeState(s);delete this.__childControls[e];return t},_createChildControl:function(e){if(this.__childControls){if(this.__childControls[e])throw new Error("Child control '"+e+"' already created!")}else this.__childControls={};var t=e.indexOf("#");try{if(-1==t)var i=this._createChildControlImpl(e);else i=this._createChildControlImpl(e.substring(0,t),e.substring(t+1,e.length))}catch(t){t.message="Exception while creating child control '"+e+"' of widget "+this.toString()+": "+t.message;throw t}if(!i)throw new Error("Unsupported control: "+e);i.$$subcontrol=e;i.$$subparent=this;var n=this.__states,s=this._forwardStates;if(n&&s&&i instanceof qx.ui.core.Widget)for(var r in n)s[r]&&i.addState(r);if(i.$$resyncNeeded){delete i.$$resyncNeeded;i.updateAppearance()}this.fireDataEvent("createChildControl",i);return this.__childControls[e]=i},_createChildControlImpl:function(e,t){return null},_disposeChildControls:function(){var e=this.__childControls;if(e){var t=qx.ui.core.Widget;for(var i in e){var n=e[i];t.contains(this,n)?n.dispose():n.destroy()}delete this.__childControls}},_findTopControl:function(){for(var e=this;e;){if(!e.$$subparent)return e;e=e.$$subparent}return null},getSubcontrolId:function(){return this.$$subcontrol||null},getContentLocation:function(e){var t=this.getContentElement().getDomElement();return t?qx.bom.element.Location.get(t,e):null},setDomLeft:function(e){var t=this.getContentElement().getDomElement();if(!t)throw new Error("DOM element is not yet created!");t.style.left=e+"px"},setDomTop:function(e){var t=this.getContentElement().getDomElement();if(!t)throw new Error("DOM element is not yet created!");t.style.top=e+"px"},setDomPosition:function(e,t){var i=this.getContentElement().getDomElement();if(!i)throw new Error("DOM element is not yet created!");i.style.left=e+"px";i.style.top=t+"px"},destroy:function(){if(!this.$$disposed){var e=this.$$parent;e&&e._remove(this);qx.ui.core.queue.Dispose.add(this)}},clone:function(){var e=qx.ui.core.Widget.prototype.clone.base.call(this);if(this.getChildren)for(var t=this.getChildren(),i=0,n=t.length;i<n;i++)e.add(t[i].clone());return e}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){this.__toolTipTextListenerId&&qx.locale.Manager.getInstance().removeListenerById(this.__toolTipTextListenerId);var e=this.getContentElement();e&&e.disconnectWidget(this);this._disposeChildControls();qx.ui.core.queue.Appearance.remove(this);qx.ui.core.queue.Layout.remove(this);qx.ui.core.queue.Visibility.remove(this);qx.ui.core.queue.Widget.remove(this)}this.getContextMenu()&&this.setContextMenu(null);if(qx.core.ObjectRegistry.inShutDown)this._disposeArray("__separators");else{this.clearSeparators();this.__separators=null}this._disposeArray("__widgetChildren");this.__states=this.__childControls=null;this._disposeObjects("__layoutManager","__contentElement")}});qx.ui.core.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Annotation",{statics:{__getOwnAnnos:function(e,t,i,n){if(void 0===e.$$annotations)return[];var s=i?e.$$annotations[i]:e.$$annotations,r=s&&s[t];if(!r)return[];n&&(r=r.filter(function(e){return e instanceof n}));return r},__getAnnos:function(e,t,i,n){for(var s=[],r=e;r;r=r.superclass)if(void 0!==r.$$annotations){var o=i?r.$$annotations[i]:r.$$annotations,a=o&&o[t];if(a){n&&(a=a.filter(function(e){return e instanceof n}));qx.lang.Array.append(s,a)}}return s},getOwnClass:function(e,t){return this.__getOwnAnnos(e,"@",null,t)},getClass:function(e,t){return this.__getAnnos(e,"@",null,t)},getOwnConstructor:function(e,t){return this.__getOwnAnnos(e,"@construct",null,t)},getConstructor:function(e,t){return this.__getAnnos(e,"@construct",null,t)},getOwnDestructor:function(e,t){return this.__getOwnAnnos(e,"@destruct",null,t)},getDestructor:function(e,t){return this.__getAnnos(e,"@destruct",null,t)},getOwnMember:function(e,t,i){return this.__getOwnAnnos(e,t,"members",i)},getMember:function(e,t,i){return this.__getAnnos(e,t,"members",i)},getOwnProperty:function(e,t,i){return this.__getOwnAnnos(e,t,"properties",i)},getProperty:function(e,t,i){return this.__getAnnos(e,t,"properties",i)},getPropertiesByAnnotation:function(e,t){var i=[];qx.Class.getProperties(e).forEach(function(n){qx.Annotation.getProperty(e,n).includes(t)&&i.push(n)});return i},getStatic:function(e,t,i){return this.__getOwnAnnos(e,t,"statics",i)}}});qx.Annotation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{construct:!0,defer:"runtime",require:!0},"qx.ui.core.Widget":{},"qx.event.type.Event":{},"qx.event.Pool":{},"qx.event.Utils":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.EventHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,construct:function(){qx.core.Object.constructor.call(this);this.__manager=qx.event.Registration.getManager(window)},statics:{PRIORITY:qx.event.Registration.PRIORITY_FIRST,SUPPORTED_TYPES:{mousemove:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,click:1,auxclick:1,dblclick:1,contextmenu:1,mousewheel:1,keyup:1,keydown:1,keypress:1,keyinput:1,capture:1,losecapture:1,focusin:1,focusout:1,focus:1,blur:1,activate:1,deactivate:1,appear:1,disappear:1,dragstart:1,dragend:1,dragover:1,dragleave:1,drop:1,drag:1,dragchange:1,droprequest:1,touchstart:1,touchend:1,touchmove:1,touchcancel:1,tap:1,longtap:1,swipe:1,dbltap:1,track:1,trackend:1,trackstart:1,pinch:1,rotate:1,roll:1,pointermove:1,pointerover:1,pointerout:1,pointerdown:1,pointerup:1,pointercancel:1},IGNORE_CAN_HANDLE:!1},members:{__manager:null,__focusEvents:{focusin:1,focusout:1,focus:1,blur:1},__ignoreDisabled:{mouseover:1,mouseout:1,appear:1,disappear:1},canHandleEvent:function(e,t){return e instanceof qx.ui.core.Widget},_dispatchEvent:function(e){for(var t=e.getTarget(),i=qx.ui.core.Widget.getWidgetByElement(t),n=!1;i&&i.isAnonymous();){n=!0;i=i.getLayoutParent()}i&&n&&"activate"==e.getType()&&i.getContentElement().activate();if(!this.__focusEvents[e.getType()]||(i=i&&i.getFocusTarget())){if(e.getRelatedTarget){for(var s=e.getRelatedTarget(),r=qx.ui.core.Widget.getWidgetByElement(s);r&&r.isAnonymous();)r=r.getLayoutParent();if(r){this.__focusEvents[e.getType()]&&(r=r.getFocusTarget());if(r===i)return}}var o=e.getCurrentTarget(),a=qx.ui.core.Widget.getWidgetByElement(o);if(a&&!a.isAnonymous()){this.__focusEvents[e.getType()]&&(a=a.getFocusTarget());var l=e.getType();if(a&&(a.isEnabled()||this.__ignoreDisabled[l])){var u=e.getEventPhase()==qx.event.type.Event.CAPTURING_PHASE,c=this.__manager.getListeners(a,l,u);if(e.getEventPhase()==qx.event.type.Event.AT_TARGET){c||(c=[]);var d=this.__manager.getListeners(a,l,!u);d&&(c=c.concat(d))}if(c&&0!==c.length){var h=qx.event.Pool.getInstance().getObject(e.constructor);e.clone(h);h.setTarget(i);h.setRelatedTarget(r||null);h.setCurrentTarget(a);var g=e.getOriginalTarget();if(g){for(var m=qx.ui.core.Widget.getWidgetByElement(g);m&&m.isAnonymous();)m=m.getLayoutParent();h.setOriginalTarget(m)}else h.setOriginalTarget(t);var f={};qx.event.Utils.then(f,function(){return qx.event.Utils.series(c,function(e){var t=e.context||a;return e.handler.call(t,h)})});qx.event.Utils.then(f,function(){h.getPropagationStopped()&&e.stopPropagation();h.getDefaultPrevented()&&e.preventDefault()});return qx.event.Utils.then(f,function(){qx.event.Pool.getInstance().poolObject(h)})}}}}},registerEvent:function(e,t,i){var n;(n="focus"===t||"blur"===t?e.getFocusElement():e.getContentElement())&&n.addListener(t,this._dispatchEvent,this,i)},unregisterEvent:function(e,t,i){var n;(n="focus"===t||"blur"===t?e.getFocusElement():e.getContentElement())&&n.removeListener(t,this._dispatchEvent,this,i)}},destruct:function(){this.__manager=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.ui.core.EventHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventDispatcher":{require:!0},"qx.event.Utils":{},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.dispatch.AbstractBubbling",{extend:qx.core.Object,implement:qx.event.IEventDispatcher,type:"abstract",construct:function(e){this._manager=e},members:{_getParent:function(e){throw new Error("Missing implementation")},canDispatchEvent:function(e,t,i){return t.getBubbles()},dispatchEvent:function(e,t,i){var n,s,r,o=e,a=this._manager,l=[];n=a.getListeners(e,i,!0);s=a.getListeners(e,i,!1);n&&l.push(n);s&&l.push(s);o=this._getParent(e);for(var u=[],c=[],d=[],h=[];null!=o;){if(n=a.getListeners(o,i,!0)){d.push(n);h.push(o)}if(s=a.getListeners(o,i,!1)){u.push(s);c.push(o)}o=this._getParent(o)}var g,m=this,f={},p=function(){};qx.event.Utils.catch(f,function(){p("Aborted serial="+g+", type="+t.getType())});qx.event.Utils.then(f,function(){t.setEventPhase(qx.event.type.Event.CAPTURING_PHASE);p("captureList="+d.length);return qx.event.Utils.series(d,function(e,n){p("captureList["+n+"]: localList.length="+e.length);var s=h[n];t.setCurrentTarget(s);var o=qx.event.Utils.series(e,function(e,o){(r=e.context||s)&&r.isDisposed&&r.isDisposed()&&m.warn("The context object '"+r+"' for the event '"+i+"' of '"+s+"'is already disposed.");if(!m._manager.isBlacklisted(e.unique)){p("captureList["+n+"] => localList["+o+"] callListener");return e.handler.call(r,t)}p("captureList["+n+"] => localList["+o+"] is blacklisted")},!0);return o===qx.event.Utils.ABORT?qx.event.Utils.reject(f):t.getPropagationStopped()?qx.event.Utils.reject(f):o})});qx.event.Utils.then(f,function(){t.setEventPhase(qx.event.type.Event.AT_TARGET);t.setCurrentTarget(e);p("targetList="+l.length);return qx.event.Utils.series(l,function(n,s){p("targetList["+s+"] localList.length="+n.length);var o=qx.event.Utils.series(n,function(n,o){p("targetList["+s+"] -> localList["+o+"] callListener");(r=n.context||e)&&r.isDisposed&&r.isDisposed()&&m.warn("The context object '"+r+"' for the event '"+i+"' of '"+e+"'is already disposed.");p("Calling target serial="+g+", type="+t.getType());return n.handler.call(r,t)},!0);return o===qx.event.Utils.ABORT?qx.event.Utils.reject(f):t.getPropagationStopped()?qx.event.Utils.reject(f):o})});qx.event.Utils.then(f,function(){t.setEventPhase(qx.event.type.Event.BUBBLING_PHASE);p("bubbleList="+u.length);return qx.event.Utils.series(u,function(e,n){p("bubbleList["+n+"] localList.length="+e.length);var s=c[n];t.setCurrentTarget(s);var o=qx.event.Utils.series(e,function(e,o){p("bubbleList["+n+"] -> localList["+o+"] callListener");(r=e.context||s)&&r.isDisposed&&r.isDisposed()&&m.warn("The context object '"+r+"' for the event '"+i+"' of '"+s+"'is already disposed.");return e.handler.call(r,t)},!0);return o===qx.event.Utils.ABORT?qx.event.Utils.reject(f):t.getPropagationStopped()?qx.event.Utils.reject(f):o})});0;return f.promise}}});qx.event.dispatch.AbstractBubbling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.dispatch.AbstractBubbling":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.dispatch.DomBubbling",{extend:qx.event.dispatch.AbstractBubbling,statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL},members:{_getParent:function(e){return e.parentNode},canDispatchEvent:function(e,t,i){return void 0!==e.nodeType&&t.getBubbles()}},defer:function(e){qx.event.Registration.addDispatcher(e)}});qx.event.dispatch.DomBubbling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0},"qx.bom.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Native",{extend:qx.event.type.Event,members:{init:function(e,t,i,n,s){qx.event.type.Native.prototype.init.base.call(this,n,s);this._target=t||qx.bom.Event.getTarget(e);this._relatedTarget=i||qx.bom.Event.getRelatedTarget(e);e.timeStamp&&(this._timeStamp=e.timeStamp);this._native=e;this._returnValue=null;return this},clone:function(e){var t=qx.event.type.Native.prototype.clone.base.call(this,e);t._native=this._cloneNativeEvent(this._native,{});t._returnValue=this._returnValue;return t},_cloneNativeEvent:function(e,t){t.preventDefault=function(){};return t},preventDefault:function(){qx.event.type.Native.prototype.preventDefault.base.call(this);qx.bom.Event.preventDefault(this._native)},getNativeEvent:function(){return this._native},setReturnValue:function(e){this._returnValue=e},getReturnValue:function(){return this._returnValue}}});qx.event.type.Native.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Native":{require:!0},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Dom",{extend:qx.event.type.Native,statics:{SHIFT_MASK:1,CTRL_MASK:2,ALT_MASK:4,META_MASK:8,CAPSLOCK_MASK:16,NUMLOCK_MASK:32,SCROLLLOCK_MASK:64},members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Dom.prototype._cloneNativeEvent.base.call(this,e,t)).shiftKey=e.shiftKey;t.ctrlKey=e.ctrlKey;t.altKey=e.altKey;t.metaKey=e.metaKey;if("function"==typeof e.getModifierState){t.numLock=e.getModifierState("NumLock");t.capsLock=e.getModifierState("CapsLock");t.scrollLock=e.getModifierState("ScrollLock")}else{t.numLock=!1;t.capsLock=!1;t.scrollLock=!1}return t},getModifiers:function(){var e=0,t=this._native;t.shiftKey&&(e|=qx.event.type.Dom.SHIFT_MASK);t.ctrlKey&&(e|=qx.event.type.Dom.CTRL_MASK);t.altKey&&(e|=qx.event.type.Dom.ALT_MASK);t.metaKey&&(e|=qx.event.type.Dom.META_MASK);return e},getKeyLockState:function(){var e=0,t=this._native;t.capsLock&&(e|=qx.event.type.Dom.CAPSLOCK_MASK);t.numLock&&(e|=qx.event.type.Dom.NUMLOCK_MASK);t.scrollLock&&(e|=qx.event.type.Dom.SCROLLLOCK_MASK);return e},isCtrlPressed:function(){return this._native.ctrlKey},isShiftPressed:function(){return this._native.shiftKey},isAltPressed:function(){return this._native.altKey},isMetaPressed:function(){return this._native.metaKey},isCapsLocked:function(){return this._native.capsLock},isNumLocked:function(){return this._native.numLock},isScrollLocked:function(){return this._native.scrollLock},isCtrlOrCommandPressed:function(){return"osx"==qx.core.Environment.get("os.name")&&"opera"!=qx.core.Environment.get("engine.name")?this._native.metaKey:this._native.ctrlKey}}});qx.event.type.Dom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Dom":{require:!0},"qx.bom.client.Browser":{},"qx.bom.client.Engine":{},"qx.dom.Node":{},"qx.bom.Viewport":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Mouse",{extend:qx.event.type.Dom,members:{_cloneNativeEvent:function(e,t){t=qx.event.type.Mouse.prototype._cloneNativeEvent.base.call(this,e,t);switch(e.type){case"mousemove":case"mouseenter":case"mouseleave":case"mouseover":case"mouseout":t.button=-1;break;default:t.button=e.button}t.buttons=e.buttons;t.clientX=Math.round(e.clientX);t.clientY=Math.round(e.clientY);t.pageX=e.pageX?Math.round(e.pageX):void 0;t.pageY=e.pageY?Math.round(e.pageY):void 0;t.screenX=Math.round(e.screenX);t.screenY=Math.round(e.screenY);t.wheelDelta=e.wheelDelta;t.wheelDeltaX=e.wheelDeltaX;t.wheelDeltaY=e.wheelDeltaY;t.delta=e.delta;t.deltaX=e.deltaX;t.deltaY=e.deltaY;t.deltaZ=e.deltaZ;t.detail=e.detail;t.axis=e.axis;t.wheelX=e.wheelX;t.wheelY=e.wheelY;t.HORIZONTAL_AXIS=e.HORIZONTAL_AXIS;t.srcElement=e.srcElement;t.target=e.target;return t},__buttonsDom2EventModel:{0:"left",2:"right",1:"middle"},__buttonsDom3EventModel:{0:"none",1:"left",2:"right",4:"middle"},__buttonsMshtmlEventModel:{1:"left",2:"right",4:"middle"},stop:function(){this.stopPropagation()},getButton:function(){switch(this._type){case"contextmenu":return"right";case"click":if("ie"===qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.documentmode")<9)return"left";default:return"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<=8?this.__buttonsMshtmlEventModel[this._native.button]||"none":-1===this._native.button?this.__buttonsDom3EventModel[this._native.buttons]||"none":this.__buttonsDom2EventModel[this._native.button]||"none"}},isLeftPressed:function(){return"left"===this.getButton()},isMiddlePressed:function(){return"middle"===this.getButton()},isRightPressed:function(){return"right"===this.getButton()},getRelatedTarget:function(){return this._relatedTarget},getViewportLeft:function(){return Math.round(this._native.clientX)},getViewportTop:function(){return Math.round(this._native.clientY)},getDocumentLeft:function(){if(void 0!==this._native.pageX)return Math.round(this._native.pageX);if(this._native.srcElement){var e=qx.dom.Node.getWindow(this._native.srcElement);return Math.round(this._native.clientX)+qx.bom.Viewport.getScrollLeft(e)}return Math.round(this._native.clientX)+qx.bom.Viewport.getScrollLeft(window)},getDocumentTop:function(){if(void 0!==this._native.pageY)return Math.round(this._native.pageY);if(this._native.srcElement){var e=qx.dom.Node.getWindow(this._native.srcElement);return Math.round(this._native.clientY)+qx.bom.Viewport.getScrollTop(e)}return Math.round(this._native.clientY)+qx.bom.Viewport.getScrollTop(window)},getScreenLeft:function(){return Math.round(this._native.screenX)},getScreenTop:function(){return Math.round(this._native.screenY)}}});qx.event.type.Mouse.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Mouse":{require:!0},"qx.bom.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Pointer",{extend:qx.event.type.Mouse,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Pointer.prototype._cloneNativeEvent.base.call(this,e,t)).pointerId=e.pointerId;t.width=e.width;t.height=e.height;t.pressure=e.pressure;t.tiltX=e.tiltX;t.tiltY=e.tiltY;t.pointerType=e.pointerType;t.isPrimary=e.isPrimary;t._original=e._original;t.MSPOINTER_TYPE_MOUSE=e.MSPOINTER_TYPE_MOUSE;t.MSPOINTER_TYPE_PEN=e.MSPOINTER_TYPE_PEN;t.MSPOINTER_TYPE_TOUCH=e.MSPOINTER_TYPE_TOUCH;return t},getDocumentLeft:function(){var e=qx.event.type.Pointer.prototype.getDocumentLeft.base.call(this);0==e&&"touch"==this.getPointerType()&&void 0!==this._native._original&&(e=Math.round(this._native._original.changedTouches[0].pageX)||0);return e},getDocumentTop:function(){var e=qx.event.type.Pointer.prototype.getDocumentTop.base.call(this);0==e&&"touch"==this.getPointerType()&&void 0!==this._native._original&&(e=Math.round(this._native._original.changedTouches[0].pageY)||0);return e},getPointerId:function(){return this._native.pointerId||0},getWidth:function(){return this._native.width||0},getHeight:function(){return this._native.height||0},getPressure:function(){return this._native.pressure||0},getTiltX:function(){return this._native.tiltX||0},getTiltY:function(){return this._native.tiltY||0},getOriginalTarget:function(){if(this._native&&this._native._original){var e=this._native._original;try{if(0==e.type.indexOf("touch")&&e.changedTouches[0])return document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}catch(e){return qx.bom.Event.getTarget(this._native)}return qx.bom.Event.getTarget(e)}return this._native?qx.bom.Event.getTarget(this._native):qx.event.type.Pointer.prototype.getOriginalTarget.base.call(this)},getPointerType:function(){if("string"==typeof this._native.pointerType)return this._native.pointerType;if("number"==typeof this._native.pointerType){if(this._native.pointerType==this._native.MSPOINTER_TYPE_MOUSE)return"mouse";if(this._native.pointerType==this._native.MSPOINTER_TYPE_PEN)return"pen";if(this._native.pointerType==this._native.MSPOINTER_TYPE_TOUCH)return"touch"}return""},isPrimary:function(){return!!this._native.isPrimary}}});qx.event.type.Pointer.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Event":{},"qx.lang.Object":{}},environment:{provided:[],required:{"event.customevent":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.type.dom.Custom",{extend:Object,statics:{PROPERTIES:{bubbles:!1,cancelable:!0}},construct:function(e,t,i){this._type=e;this._event=this._createEvent();this._initEvent(t,i);this._event._original=t;this._event.preventDefault=function(){if(this._original.preventDefault)this._original.preventDefault();else try{this._original.returnValue=!1}catch(e){}};this._event.stopPropagation&&(this._event._nativeStopPropagation=this._event.stopPropagation);this._event.stopPropagation=function(){this._stopped=!0;if(this._nativeStopPropagation){this._original.stopPropagation();this._nativeStopPropagation()}else this._original.cancelBubble=!0};return this._event},members:{_type:null,_event:null,_createEvent:function(){var e;qx.core.Environment.get("event.customevent")?e=new window.CustomEvent(this._type):"function"==typeof document.createEvent?e=document.createEvent("UIEvents"):"object"==_typeof(document.createEventObject)&&((e={}).type=this._type);return e},_initEvent:function(e,t){t=t||{};var i=qx.lang.Object.clone(qx.event.type.dom.Custom.PROPERTIES);for(var n in t)i[n]=t[n];this._event.initEvent&&this._event.initEvent(this._type,i.bubbles,i.cancelable);for(var n in i)try{this._event[n]=i[n]}catch(e){}}}});qx.event.type.dom.Custom.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.type.dom.Custom":{construct:!0,require:!0},"qx.dom.Node":{},"qx.bom.Viewport":{},"qx.bom.client.Event":{},"qx.bom.client.Engine":{defer:"runtime"},"qx.bom.client.OperatingSystem":{defer:"runtime"}},environment:{provided:[],required:{"event.mouseevent":{className:"qx.bom.client.Event"},"event.mousecreateevent":{className:"qx.bom.client.Event"},"engine.name":{defer:!0,className:"qx.bom.client.Engine"},"os.name":{defer:!0,className:"qx.bom.client.OperatingSystem"},"os.version":{defer:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.type.dom.Pointer",{extend:qx.event.type.dom.Custom,statics:{MOUSE_PROPERTIES:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","altKey","shiftKey","metaKey","button","which","relatedTarget","fromElement","toElement"],POINTER_PROPERTIES:{pointerId:1,width:0,height:0,pressure:.5,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1},READONLY_PROPERTIES:[],BIND_METHODS:["getPointerType","getViewportLeft","getViewportTop","getDocumentLeft","getDocumentTop","getScreenLeft","getScreenTop"],getPointerType:function(){if("string"==typeof this.pointerType)return this.pointerType;if("number"==typeof this.pointerType){if(this.pointerType==this.MSPOINTER_TYPE_MOUSE)return"mouse";if(this.pointerType==this.MSPOINTER_TYPE_PEN)return"pen";if(this.pointerType==this.MSPOINTER_TYPE_TOUCH)return"touch"}return""},getViewportLeft:function(){return this.clientX},getViewportTop:function(){return this.clientY},getDocumentLeft:function(){if(void 0!==this.pageX)return this.pageX;var e=qx.dom.Node.getWindow(this.srcElement);return this.clientX+qx.bom.Viewport.getScrollLeft(e)},getDocumentTop:function(){if(void 0!==this.pageY)return this.pageY;var e=qx.dom.Node.getWindow(this.srcElement);return this.clientY+qx.bom.Viewport.getScrollTop(e)},getScreenLeft:function(){return this.screenX},getScreenTop:function(){return this.screenY},normalize:function(e){for(var t=qx.event.type.dom.Pointer.BIND_METHODS,i=0,n=t.length;i<n;i++)"function"!=typeof e[t[i]]&&(e[t[i]]=qx.event.type.dom.Pointer[t[i]].bind(e))}},construct:function(e,t,i){return qx.event.type.dom.Custom.constructor.call(this,e,t,i)},members:{_createEvent:function(){var e;qx.core.Environment.get("event.mouseevent")?e=new window.MouseEvent(this._type):"function"==typeof document.createEvent?e=document.createEvent(qx.core.Environment.get("event.mousecreateevent")):"object"==_typeof(document.createEventObject)&&((e={}).type=this._type);return e},_initEvent:function(e,t){t=t||{};var i,n=this._event,s={};qx.event.type.dom.Pointer.normalize(e);Object.keys(qx.event.type.dom.Pointer.POINTER_PROPERTIES).concat(qx.event.type.dom.Pointer.MOUSE_PROPERTIES).forEach(function(i){void 0!==t[i]?s[i]=t[i]:void 0!==e[i]?s[i]=e[i]:void 0!==qx.event.type.dom.Pointer.POINTER_PROPERTIES[i]&&(s[i]=qx.event.type.dom.Pointer.POINTER_PROPERTIES[i])});switch(e.which){case 1:i=1;break;case 2:i=4;break;case 3:i=2;break;default:i=0}if(void 0!==i){s.buttons=i;s.pressure=i?.5:0}n.initMouseEvent?n.initMouseEvent(this._type,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget):n.initUIEvent&&n.initUIEvent(this._type,s.bubbles,s.cancelable,s.view,s.detail);for(var r in s)if(n[r]!==s[r]&&-1===qx.event.type.dom.Pointer.READONLY_PROPERTIES.indexOf(r))try{n[r]=s[r]}catch(e){}switch(n.pointerType){case e.MSPOINTER_TYPE_MOUSE:n.pointerType="mouse";break;case e.MSPOINTER_TYPE_PEN:n.pointerType="pen";break;case e.MSPOINTER_TYPE_TOUCH:n.pointerType="touch"}"mouse"==n.pointerType&&(n.isPrimary=!0)}},defer:function(e){"gecko"==qx.core.Environment.get("engine.name")?e.READONLY_PROPERTIES.push("buttons"):"ios"==qx.core.Environment.get("os.name")&&parseFloat(qx.core.Environment.get("os.version"))>=8&&(e.READONLY_PROPERTIES=e.READONLY_PROPERTIES.concat(e.MOUSE_PROPERTIES))}});qx.event.type.dom.Pointer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.bom.Event":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["event.touch","event.mouseevent","event.mousecreateevent","event.dispatchevent","event.customevent","event.mspointer","event.help","event.hashchange","event.mousewheel","event.auxclick","event.passive"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Event",{statics:{getTouch:function(){return"ontouchstart"in window},getMsPointer:function(){return"PointerEvent"in window||("pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"msPointerEnabled"in window.navigator&&window.navigator.msPointerEnabled)},getHelp:function(){return"onhelp"in document},getHashChange:function(){var e=qx.bom.client.Engine.getName(),t="onhashchange"in window;return"mshtml"!==e&&t||"mshtml"===e&&"documentMode"in document&&document.documentMode>=8&&t},getDispatchEvent:function(){return"function"==typeof document.dispatchEvent},getCustomEvent:function(){if(!window.CustomEvent)return!1;try{new window.CustomEvent("foo");return!0}catch(e){return!1}},getMouseEvent:function(){if(!window.MouseEvent)return!1;try{new window.MouseEvent("foo");return!0}catch(e){return!1}},getMouseCreateEvent:function(){try{var e=document.createEvent("MouseEvents"),t=e.pageX;e.initMouseEvent("click",!1,!1,window,0,0,0,t+1,0,!1,!1,!1,!1,0,null);return e.pageX!==t?"MouseEvents":"UIEvents"}catch(e){return"UIEvents"}},getMouseWheel:function(e){e||(e=window);for(var t=[e,e.document,e.document.body],i=e,n="DOMMouseScroll",s=0;s<t.length;s++){if(qx.bom.Event.supportsEvent(t[s],"wheel")){n="wheel";i=t[s];break}if(qx.bom.Event.supportsEvent(t[s],"mousewheel")){n="mousewheel";i=t[s];break}}return{type:n,target:i}},getAuxclickEvent:function(){var e=!1;try{e="onauxclick"in document.documentElement}catch(e){}return!!e},getPassive:function(){var e=!1;try{var t=Object.defineProperties({},{passive:{get:function(){e=!0}}});window.addEventListener("test",t,t);window.removeEventListener("test",t,t)}catch(t){e=!1}return e}},defer:function(e){qx.core.Environment.add("event.touch",e.getTouch);qx.core.Environment.add("event.mouseevent",e.getMouseEvent);qx.core.Environment.add("event.mousecreateevent",e.getMouseCreateEvent);qx.core.Environment.add("event.dispatchevent",e.getDispatchEvent);qx.core.Environment.add("event.customevent",e.getCustomEvent);qx.core.Environment.add("event.mspointer",e.getMsPointer);qx.core.Environment.add("event.help",e.getHelp);qx.core.Environment.add("event.hashchange",e.getHashChange);qx.core.Environment.add("event.mousewheel",e.getMouseWheel);qx.core.Environment.add("event.auxclick",e.getAuxclickEvent);qx.core.Environment.add("event.passive",e.getPassive)}});qx.bom.client.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["device.name","device.touch","device.type","device.pixelRatio"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Device",{statics:{__ids:{"Windows Phone":"iemobile",iPod:"ipod",iPad:"ipad",iPhone:"iphone",PSP:"psp","PLAYSTATION 3":"ps3","Nintendo Wii":"wii","Nintendo DS":"ds",XBOX:"xbox",Xbox:"xbox"},getName:function(){var e=[];for(var t in qx.bom.client.Device.__ids)e.push(t);var i=new RegExp("("+e.join("|").replace(/\./g,".")+")","g").exec(navigator.userAgent);return i&&i[1]?qx.bom.client.Device.__ids[i[1]]:"pc"},getType:function(){return qx.bom.client.Device.detectDeviceType(navigator.userAgent)},detectDeviceType:function(e){return qx.bom.client.Device.detectTabletDevice(e)?"tablet":qx.bom.client.Device.detectMobileDevice(e)?"mobile":"desktop"},detectMobileDevice:function(e){return/android.+mobile|ip(hone|od)|bada\/|blackberry|BB10|maemo|opera m(ob|in)i|fennec|NetFront|phone|psp|symbian|IEMobile|windows (ce|phone)|xda/i.test(e)},detectTabletDevice:function(e){var t=/MSIE 10/i.test(e)&&/ARM/i.test(e)&&!/windows phone/i.test(e),i=!/android.+mobile|Tablet PC/i.test(e)&&/Android|ipad|tablet|playbook|silk|kindle|psp/i.test(e);return t||i},getDevicePixelRatio:function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},getTouch:function(){return"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}},defer:function(e){qx.core.Environment.add("device.name",e.getName);qx.core.Environment.add("device.touch",e.getTouch);qx.core.Environment.add("device.type",e.getType);qx.core.Environment.add("device.pixelRatio",e.getDevicePixelRatio)}});qx.bom.client.Device.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.client.Event":{require:!0,construct:!0},"qx.bom.client.Device":{require:!0,construct:!0},"qx.core.Environment":{defer:"load",usage:"dynamic",construct:!0,require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{construct:!0,require:!0},"qx.bom.client.Browser":{construct:!0,require:!0},"qx.lang.Function":{},"qx.dom.Node":{},"qx.event.Emitter":{},"qx.bom.Event":{},"qx.event.type.dom.Pointer":{},"qx.bom.client.OperatingSystem":{},"qx.lang.Array":{},"qx.event.Utils":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine",construct:!0},"browser.documentmode":{load:!0,className:"qx.bom.client.Browser",construct:!0},"event.mspointer":{construct:!0,className:"qx.bom.client.Event"},"device.touch":{construct:!0,className:"qx.bom.client.Device"},"os.name":{className:"qx.bom.client.OperatingSystem"},"event.dispatchevent":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.handler.PointerCore",{extend:Object,implement:[qx.core.IDisposable],statics:{MOUSE_TO_POINTER_MAPPING:{mousedown:"pointerdown",mouseup:"pointerup",mousemove:"pointermove",mouseout:"pointerout",mouseover:"pointerover"},TOUCH_TO_POINTER_MAPPING:{touchstart:"pointerdown",touchend:"pointerup",touchmove:"pointermove",touchcancel:"pointercancel"},MSPOINTER_TO_POINTER_MAPPING:{MSPointerDown:"pointerdown",MSPointerMove:"pointermove",MSPointerUp:"pointerup",MSPointerCancel:"pointercancel",MSPointerLeave:"pointerleave",MSPointerEnter:"pointerenter",MSPointerOver:"pointerover",MSPointerOut:"pointerout"},POINTER_TO_GESTURE_MAPPING:{pointerdown:"gesturebegin",pointerup:"gesturefinish",pointercancel:"gesturecancel",pointermove:"gesturemove"},LEFT_BUTTON:"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<=8?1:0,SIM_MOUSE_DISTANCE:25,SIM_MOUSE_DELAY:2500,__lastTouch:null},construct:function(e,t){this.__defaultTarget=e;this.__emitter=t;this.__eventNames=[];this.__buttonStates=[];this.__activeTouches=[];this._processedFlag="$$qx"+this.classname.substr(this.classname.lastIndexOf(".")+1)+"Processed";var i=qx.core.Environment.get("engine.name"),n=parseInt(qx.core.Environment.get("browser.documentmode"),10);if("mshtml"==i&&10==n){this.__eventNames=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","MSPointerOver","MSPointerOut","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout"];this._initPointerObserver()}else{qx.core.Environment.get("event.mspointer")&&(this.__nativePointerEvents=!0);this.__eventNames=["pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout"];this._initPointerObserver()}if(!qx.core.Environment.get("event.mspointer")){if(qx.core.Environment.get("device.touch")){this.__eventNames=["touchstart","touchend","touchmove","touchcancel"];this._initObserver(this._onTouchEvent)}this.__eventNames=["mousedown","mouseup","mousemove","mouseover","mouseout","contextmenu"];this._initObserver(this._onMouseEvent)}},members:{__defaultTarget:null,__emitter:null,__eventNames:null,__nativePointerEvents:!1,__wrappedListener:null,__lastButtonState:0,__buttonStates:null,__primaryIdentifier:null,__activeTouches:null,_processedFlag:null,_initPointerObserver:function(){this._initObserver(this._onPointerEvent)},_initObserver:function(e,t){this.__wrappedListener=qx.lang.Function.listener(e,this);this.__eventNames.forEach(function(e){if(t&&qx.dom.Node.isDocument(this.__defaultTarget)){this.__defaultTarget.$$emitter||(this.__defaultTarget.$$emitter=new qx.event.Emitter);this.__defaultTarget.$$emitter.on(e,this.__wrappedListener)}else qx.bom.Event.addNativeListener(this.__defaultTarget,e,this.__wrappedListener)}.bind(this))},_onPointerEvent:function(e){if(qx.core.Environment.get("event.mspointer")&&(10!==qx.core.Environment.get("browser.documentmode")||-1!=e.type.toLowerCase().indexOf("ms"))){this.__nativePointerEvents||e.stopPropagation();var t=qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[e.type]||e.type,i=qx.bom.Event.getTarget(e),n=new qx.event.type.dom.Pointer(t,e);this._fireEvent(n,t,i)}},_onTouchEvent:function(e){if(!e[this._processedFlag]){e[this._processedFlag]=!0;var t=qx.event.handler.PointerCore.TOUCH_TO_POINTER_MAPPING[e.type],i=e.changedTouches;this._determineActiveTouches(e.type,i);if(e.touches.length<this.__activeTouches.length){for(var n=this.__activeTouches.length-1;n>=0;n--){var s=new qx.event.type.dom.Pointer("pointercancel",e,{identifier:this.__activeTouches[n].identifier,target:e.target,pointerType:"touch",pointerId:this.__activeTouches[n].identifier+2});this._fireEvent(s,"pointercancel",e.target)}this.__primaryIdentifier=null;this.__activeTouches=[]}else{"touchstart"==e.type&&null===this.__primaryIdentifier&&(this.__primaryIdentifier=i[0].identifier);n=0;for(var r=i.length;n<r;n++){var o=i[n],a=e.view.document.elementFromPoint(o.clientX,o.clientY)||e.target,l={clientX:o.clientX,clientY:o.clientY,pageX:o.pageX,pageY:o.pageY,identifier:o.identifier,screenX:o.screenX,screenY:o.screenY,target:a,pointerType:"touch",pointerId:o.identifier+2};if("touchstart"==e.type){var u=new qx.event.type.dom.Pointer("pointerover",e,l);this._fireEvent(u,"pointerover",l.target)}if(o.identifier==this.__primaryIdentifier){l.isPrimary=!0;l.button=0;l.buttons=1;qx.event.handler.PointerCore.__lastTouch={x:o.clientX,y:o.clientY,time:(new Date).getTime()}}var c=new qx.event.type.dom.Pointer(t,e,l);this._fireEvent(c,t,l.target);if("touchend"==e.type||"touchcancel"==e.type){var d=new qx.event.type.dom.Pointer("pointerout",e,l);this._fireEvent(d,"pointerout",e.target);this.__primaryIdentifier==o.identifier&&(this.__primaryIdentifier=null)}}}}},_onMouseEvent:function(e){if(!e[this._processedFlag]){e[this._processedFlag]=!0;if(!this._isSimulatedMouseEvent(e.clientX,e.clientY)){if("mousedown"==e.type)this.__buttonStates[e.which]=1;else if("mouseup"==e.type){"osx"==qx.core.Environment.get("os.name")&&"gecko"==qx.core.Environment.get("engine.name")&&1!=this.__buttonStates[e.which]&&e.ctrlKey&&(this.__buttonStates[1]=0);this.__buttonStates[e.which]=0}var t=qx.event.handler.PointerCore.MOUSE_TO_POINTER_MAPPING[e.type],i=qx.bom.Event.getTarget(e),n=qx.lang.Array.sum(this.__buttonStates),s={pointerType:"mouse",pointerId:1};if(this.__lastButtonState!=n&&0!==n&&0!==this.__lastButtonState){var r=new qx.event.type.dom.Pointer("pointermove",e,s);this._fireEvent(r,"pointermove",i)}this.__lastButtonState=n;if(!("mousedown"==e.type&&n>1||"mouseup"==e.type&&n>0))if("contextmenu"!=e.type){var o=new qx.event.type.dom.Pointer(t,e,s);this._fireEvent(o,t,i)}else this.__buttonStates[e.which]=0}}},_determineActiveTouches:function(e,t){if("touchstart"==e)for(var i=0;i<t.length;i++)this.__activeTouches.push(t[i]);else if("touchend"==e||"touchcancel"==e){var n=[];for(i=0;i<this.__activeTouches.length;i++){for(var s=!0,r=0;r<t.length;r++)if(this.__activeTouches[i].identifier==t[r].identifier){s=!1;break}s&&n.push(this.__activeTouches[i])}this.__activeTouches=n}},_isSimulatedMouseEvent:function(e,t){var i=qx.event.handler.PointerCore.__lastTouch;if(i){var n=(new Date).getTime()-i.time,s=qx.event.handler.PointerCore.SIM_MOUSE_DISTANCE,r=Math.abs(e-qx.event.handler.PointerCore.__lastTouch.x),o=Math.abs(t-qx.event.handler.PointerCore.__lastTouch.y);if(n<qx.event.handler.PointerCore.SIM_MOUSE_DELAY&&(r<s||o<s))return!0}return!1},_stopObserver:function(){for(var e=0;e<this.__eventNames.length;e++)qx.bom.Event.removeNativeListener(this.__defaultTarget,this.__eventNames[e],this.__wrappedListener)},_fireEvent:function(e,t,i){i=i||e.target;t=t||e.type;var n;if(("mouse"!==e.pointerType||e.button<=qx.event.handler.PointerCore.LEFT_BUTTON)&&("pointerdown"==t||"pointerup"==t||"pointermove"==t)){n=new qx.event.type.dom.Pointer(qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[t],e);qx.event.type.dom.Pointer.normalize(n);try{n.srcElement=i}catch(e){}}if(qx.core.Environment.get("event.dispatchevent")){var s={};this.__nativePointerEvents||qx.event.Utils.then(s,function(){return i.dispatchEvent(e)});n&&qx.event.Utils.then(s,function(){return i.dispatchEvent(n)});return s.promise}try{e.srcElement=i}catch(e){}for(;i;){if(i.$$emitter){e.currentTarget=i;e._stopped||i.$$emitter.emit(t,e);if(n&&!n._stopped){n.currentTarget=i;i.$$emitter.emit(n.type,n)}}i=i.parentNode}},dispose:function(){this._stopObserver();this.__defaultTarget=this.__emitter=null}}});qx.event.handler.PointerCore.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.dispatch.DomBubbling":{require:!0,defer:"runtime"},"qx.event.type.Pointer":{require:!0,defer:"runtime"},"qx.event.type.dom.Pointer":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.handler.PointerCore":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.Event":{},"qx.event.Utils":{},"qx.event.type.Data":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Pointer",{extend:qx.event.handler.PointerCore,implement:[qx.event.IEventHandler,qx.core.IDisposable],statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{pointermove:1,pointerover:1,pointerout:1,pointerdown:1,pointerup:1,pointercancel:1,gesturebegin:1,gesturemove:1,gesturefinish:1,gesturecancel:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE+qx.event.IEventHandler.TARGET_DOCUMENT,IGNORE_CAN_HANDLE:!0},construct:function(e){this.__manager=e;this.__window=e.getWindow();this.__root=this.__window.document;qx.event.handler.PointerCore.apply(this,[this.__root])},members:{__manager:null,__window:null,__root:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_initPointerObserver:function(){var e=!1;"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&(e=!0);this._initObserver(this._onPointerEvent,e)},_fireEvent:function(e,t,i){i||(i=qx.bom.Event.getTarget(e));for(;i&&i.getAttribute&&i.getAttribute("qxanonymous");)i=i.parentNode;t||(t=e.type);t=qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[t]||t;if(i&&i.nodeType){qx.event.type.dom.Pointer.normalize(e);try{e.srcElement=i}catch(e){}var n={},s=this;qx.event.Utils.track(n,function(){return qx.event.Registration.fireEvent(i,t,qx.event.type.Pointer,[e,i,null,!0,!0])});qx.event.Utils.then(n,function(){if(("mouse"!==e.getPointerType()||e.button<=qx.event.handler.PointerCore.LEFT_BUTTON)&&("pointerdown"==t||"pointerup"==t||"pointermove"==t||"pointercancel"==t))return qx.event.Registration.fireEvent(s.__root,qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[t],qx.event.type.Pointer,[e,i,null,!1,!1])});qx.event.Utils.then(n,function(){return qx.event.Registration.fireEvent(s.__window,"useraction",qx.event.type.Data,[t])});return n.promise}},_onPointerEvent:function(e){if(!e._original||!e._original[this._processedFlag]){var t=qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[e.type]||e.type;return this._fireEvent(e,t,qx.bom.Event.getTarget(e))}},dispose:function(){this.__callBase("dispose");this.__manager=this.__window=this.__root=null},__callBase:function(e,t){qx.event.handler.PointerCore.prototype[e].apply(this,t||[])}},defer:function(e){qx.event.Registration.addHandler(e);qx.event.Registration.getManager(document).getHandler(e)}});qx.event.handler.Pointer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.client.Event":{},"qx.bom.Event":{},"qx.bom.AnimationFrame":{},"qx.lang.Function":{},"qx.event.type.dom.Custom":{},"qx.util.Wheel":{},"qx.bom.client.OperatingSystem":{},"qx.event.Timer":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"event.mousewheel":{className:"qx.bom.client.Event"},"event.dispatchevent":{className:"qx.bom.client.Event"},"os.name":{className:"qx.bom.client.OperatingSystem"},"os.version":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.handler.GestureCore",{extend:Object,implement:[qx.core.IDisposable],statics:{TYPES:["tap","swipe","longtap","dbltap","track","trackstart","trackend","rotate","pinch","roll"],GESTURE_EVENTS:["gesturebegin","gesturefinish","gesturemove","gesturecancel"],TAP_MAX_DISTANCE:{touch:40,mouse:5,pen:20},DOUBLETAP_MAX_DISTANCE:{touch:10,mouse:4,pen:10},SWIPE_DIRECTION:{x:["left","right"],y:["up","down"]},LONGTAP_TIME:500,DOUBLETAP_TIME:500,ROLL_FACTOR:18,TOUCHPAD_ROLL_FACTOR:1,TOUCHPAD_WHEEL_EVENTS_THRESHOLD:10,TOUCHPAD_WHEEL_EVENTS_PERIOD:100,TOUCHPAD_WHEEL_EVENTS_TIMEOUT:5e3},construct:function(e,t){this.__defaultTarget=e;this.__emitter=t;this.__gesture={};this.__lastTap={};this.__stopMomentum={};this.__momentum={};this.__rollEvents=[];this._initObserver()},members:{__defaultTarget:null,__emitter:null,__gesture:null,__eventName:null,__primaryTarget:null,__isMultiPointerGesture:null,__initialAngle:null,__lastTap:null,__rollImpulseId:null,__stopMomentum:null,__initialDistance:null,__momentum:null,__rollEvents:null,__rollEventsCountStart:0,__rollEventsCount:0,__touchPadDetectionPerformed:!1,__lastRollEventTime:0,_initObserver:function(){qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(e){qxWeb(this.__defaultTarget).on(e,this.checkAndFireGesture,this)}.bind(this));"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&qxWeb(this.__defaultTarget).on("dblclick",this._onDblClick,this);var e=qx.core.Environment.get("event.mousewheel");qxWeb(e.target).on(e.type,this._fireRoll,this)},_stopObserver:function(){qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(e){qxWeb(this.__defaultTarget).off(e,this.checkAndFireGesture,this)}.bind(this));"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&qxWeb(this.__defaultTarget).off("dblclick",this._onDblClick,this);var e=qx.core.Environment.get("event.mousewheel");qxWeb(e.target).off(e.type,this._fireRoll,this)},checkAndFireGesture:function(e,t,i){t||(t=e.type);i||(i=qx.bom.Event.getTarget(e));"gesturebegin"==t?this.gestureBegin(e,i):"gesturemove"==t?this.gestureMove(e,i):"gesturefinish"==t?this.gestureFinish(e,i):"gesturecancel"==t&&this.gestureCancel(e.pointerId)},gestureBegin:function(e,t){if(this.__gesture[e.pointerId]){this.__stopLongTapTimer(this.__gesture[e.pointerId]);delete this.__gesture[e.pointerId]}if(!this._hasIntermediaryHandler(t)){this.__gesture[e.pointerId]={startTime:(new Date).getTime(),lastEventTime:(new Date).getTime(),startX:e.clientX,startY:e.clientY,clientX:e.clientX,clientY:e.clientY,velocityX:0,velocityY:0,target:t,isTap:!0,isPrimary:e.isPrimary,longTapTimer:window.setTimeout(this.__fireLongTap.bind(this,e,t),qx.event.handler.GestureCore.LONGTAP_TIME)};if(e.isPrimary){this.__isMultiPointerGesture=!1;this.__primaryTarget=t;this.__fireTrack("trackstart",e,t)}else{this.__isMultiPointerGesture=!0;if(2===Object.keys(this.__gesture).length){this.__initialAngle=this._calcAngle();this.__initialDistance=this._calcDistance()}}}},gestureMove:function(e,t){var i=this.__gesture[e.pointerId];if(i){var n=i.clientX,s=i.clientY;i.clientX=e.clientX;i.clientY=e.clientY;i.lastEventTime=(new Date).getTime();n&&(i.velocityX=i.clientX-n);s&&(i.velocityY=i.clientY-s);if(2===Object.keys(this.__gesture).length){this.__fireRotate(e,i.target);this.__firePinch(e,i.target)}if(!this.__isMultiPointerGesture){this.__fireTrack("track",e,i.target);this._fireRoll(e,"touch",i.target)}if(i.isTap){i.isTap=this._isBelowTapMaxDistance(e);i.isTap||this.__stopLongTapTimer(i)}}},_hasIntermediaryHandler:function(e){for(;e&&e!==this.__defaultTarget;){if(e.$$gestureHandler)return!0;e=e.parentNode}return!1},gestureFinish:function(e,t){if(this.__gesture[e.pointerId]){var i=this.__gesture[e.pointerId];this.__stopLongTapTimer(i);if(!this._hasIntermediaryHandler(t)){this.__handleRollImpulse(i.velocityX,i.velocityY,e,i.target);this.__fireTrack("trackend",e,i.target);if(i.isTap){if(t!==i.target){delete this.__gesture[e.pointerId];return}this._fireEvent(e,"tap",e.target||t);var n=!1;if(Object.keys(this.__lastTap).length>0){var s=Date.now()-qx.event.handler.GestureCore.DOUBLETAP_TIME;for(var r in this.__lastTap)if(r<s)delete this.__lastTap[r];else{var o=this.__lastTap[r],a=this.__isBelowDoubleTapDistance(o.x,o.y,e.clientX,e.clientY,e.getPointerType()),l=o.target===(e.target||t),u=o.button===e.button;if(a&&u&&l){n=!0;delete this.__lastTap[r];this._fireEvent(e,"dbltap",e.target||t)}}}n||(this.__lastTap[Date.now()]={x:e.clientX,y:e.clientY,target:e.target||t,button:e.button})}else if(!this._isBelowTapMaxDistance(e)){var c=this.__getSwipeGesture(e,t);if(c){e.swipe=c;this._fireEvent(e,"swipe",i.target||t)}}delete this.__gesture[e.pointerId]}}},stopMomentum:function(e){this.__stopMomentum[e]=!0},gestureCancel:function(e){if(this.__gesture[e]){this.__stopLongTapTimer(this.__gesture[e]);delete this.__gesture[e]}if(this.__momentum[e]){this.stopMomentum(this.__momentum[e]);delete this.__momentum[e]}},updateGestureTarget:function(e,t){this.__gesture[e].target=t},__handleRollImpulse:function(e,t,i,n,s){var r=i.timeoutId;!s&&this.__momentum[i.pointerId]&&this.stopMomentum(this.__momentum[i.pointerId]);if(Math.abs(t)<1&&Math.abs(e)<1||this.__stopMomentum[r]||!this.getWindow()){delete this.__stopMomentum[r];delete this.__momentum[i.pointerId]}else{if(!s){s=1;t/=2.8;e/=2.8}t/=s+=6e-4;e/=s;var o=qx.bom.AnimationFrame.request(qx.lang.Function.bind(function(e,t,i,n,s){this.__handleRollImpulse(e,t,i,n,s)},this,e,t,i,n,s));e=Math.round(100*e)/100;t=Math.round(100*t)/100;i.delta={x:-e,y:-t};i.momentum=!0;i.timeoutId=o;this.__momentum[i.pointerId]=o;this._fireEvent(i,"roll",i.target||n)}},_calcAngle:function(){var e=null,t=null;for(var i in this.__gesture){var n=this.__gesture[i];null===e?e=n:t=n}var s=e.clientX-t.clientX,r=e.clientY-t.clientY;return(360+Math.atan2(r,s)*(180/Math.PI))%360},_calcDistance:function(){var e=null,t=null;for(var i in this.__gesture){var n=this.__gesture[i];null===e?e=n:t=n}return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))},_isBelowTapMaxDistance:function(e){var t=this._getDeltaCoordinates(e),i=qx.event.handler.GestureCore.TAP_MAX_DISTANCE[e.getPointerType()];return t?Math.abs(t.x)<=i&&Math.abs(t.y)<=i:null},__isBelowDoubleTapDistance:function(e,t,i,n,s){var r=qx.event.handler.GestureCore,o=Math.abs(e-i)<r.DOUBLETAP_MAX_DISTANCE[s],a=Math.abs(t-n)<r.DOUBLETAP_MAX_DISTANCE[s];return o&&a},_getDeltaCoordinates:function(e){var t=this.__gesture[e.pointerId];if(!t)return null;var i=e.clientX-t.startX,n=e.clientY-t.startY,s="x";Math.abs(i/n)<1&&(s="y");return{x:i,y:n,axis:s}},_fireEvent:function(e,t,i){if(this.__defaultTarget){var n;if(qx.core.Environment.get("event.dispatchevent")){n=new qx.event.type.dom.Custom(t,e,{bubbles:!0,swipe:e.swipe,scale:e.scale,angle:e.angle,delta:e.delta,pointerType:e.pointerType,momentum:e.momentum});return i.dispatchEvent(n)}if(this.__emitter){n=new qx.event.type.dom.Custom(t,e,{target:this.__defaultTarget,currentTarget:this.__defaultTarget,srcElement:this.__defaultTarget,swipe:e.swipe,scale:e.scale,angle:e.angle,delta:e.delta,pointerType:e.pointerType,momentum:e.momentum});this.__emitter.emit(t,e)}}},_onDblClick:function(e){var t=qx.bom.Event.getTarget(e);this._fireEvent(e,"tap",t);this._fireEvent(e,"dbltap",t)},__getSwipeGesture:function(e,t){var i=this.__gesture[e.pointerId];if(!i)return null;var n=qx.event.handler.GestureCore,s=this._getDeltaCoordinates(e),r=(new Date).getTime()-i.startTime,o=Math.abs(s.x)>=Math.abs(s.y)?"x":"y",a=s[o],l=n.SWIPE_DIRECTION[o][a<0?0:1],u=0!==r?a/r:0;return{startTime:i.startTime,duration:r,axis:o,direction:l,distance:a,velocity:u}},__fireTrack:function(e,t,i){t.delta=this._getDeltaCoordinates(t);this._fireEvent(t,e,t.target||i)},__fireRollEvent:function(e,t,i){e.delta={x:qx.util.Wheel.getDelta(e,"x")*i,y:qx.util.Wheel.getDelta(e,"y")*i};e.delta.axis=Math.abs(e.delta.x/e.delta.y)<1?"y":"x";e.pointerType="wheel";this._fireEvent(e,"roll",e.target||t)},__performAdaptativeRollScrolling:function(e){var t=qx.event.handler.GestureCore.ROLL_FACTOR;qx.util.Wheel.IS_TOUCHPAD&&(t=qx.event.handler.GestureCore.TOUCHPAD_ROLL_FACTOR);this.__lastRollEventTime=(new Date).getTime();for(var i=this.__rollEvents.length,n=0;n<i;n++){var s=this.__rollEvents[n];this.__fireRollEvent(s,e,t)}this.__rollEvents=[]},__endTouchPadDetection:function(){this.__rollEvents.length>qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_THRESHOLD?qx.util.Wheel.IS_TOUCHPAD=!0:qx.util.Wheel.IS_TOUCHPAD=!1;this.__touchPadDetectionPerformed=!0},_isTouchPadDetectionEnabled:function(){return"osx"==qx.core.Environment.get("os.name")&&qx.core.Environment.get("os.version")>=10.12},_fireRoll:function(e,t,i){var n,s;if(e.type===qx.core.Environment.get("event.mousewheel").type)if(this._isTouchPadDetectionEnabled()){n=(new Date).getTime();s=qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_TIMEOUT;if(this.__lastRollEventTime>0&&n-this.__lastRollEventTime>s){this.__touchPadDetectionPerformed=!1;this.__rollEvents=[];this.__lastRollEventTime=0}if(!this.__touchPadDetectionPerformed){if(0===this.__rollEvents.length){this.__rollEventsCountStart=n;qx.event.Timer.once(function(){if(!this.__touchPadDetectionPerformed){this.__endTouchPadDetection();this.__performAdaptativeRollScrolling(i)}},this,qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD+50)}this.__rollEvents.push(e);this.__rollEventsCount++;n-this.__rollEventsCountStart>qx.event.handler.GestureCore.TOUCHPAD_WHEEL_EVENTS_PERIOD&&this.__endTouchPadDetection()}if(this.__touchPadDetectionPerformed){0===this.__rollEvents.length&&this.__rollEvents.push(e);this.__performAdaptativeRollScrolling(i)}}else this.__fireRollEvent(e,i,qx.event.handler.GestureCore.ROLL_FACTOR);else{var r=this.__gesture[e.pointerId];e.delta={x:-r.velocityX,y:-r.velocityY,axis:Math.abs(r.velocityX/r.velocityY)<1?"y":"x"};this._fireEvent(e,"roll",e.target||i)}},__fireRotate:function(e,t){if(!e.isPrimary){var i=this._calcAngle();e.angle=Math.round((i-this.__initialAngle)%360);this._fireEvent(e,"rotate",this.__primaryTarget)}},__firePinch:function(e,t){if(!e.isPrimary){var i=this._calcDistance()/this.__initialDistance;e.scale=Math.round(100*i)/100;this._fireEvent(e,"pinch",this.__primaryTarget)}},__fireLongTap:function(e,t){var i=this.__gesture[e.pointerId];if(i){this._fireEvent(e,"longtap",e.target||t);i.longTapTimer=null;i.isTap=!1}},__stopLongTapTimer:function(e){if(e.longTapTimer){window.clearTimeout(e.longTapTimer);e.longTapTimer=null}},dispose:function(){for(var e in this.__gesture)this.__stopLongTapTimer(e);this._stopObserver();this.__defaultTarget=this.__emitter=null}}});qx.event.handler.GestureCore.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Tap",{extend:qx.event.type.Pointer});qx.event.type.Tap.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Swipe",{extend:qx.event.type.Pointer,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Swipe.prototype._cloneNativeEvent.base.call(this,e,t)).swipe=e.swipe;return t},getStartTime:function(){return this._native.swipe.startTime},getDuration:function(){return this._native.swipe.duration},getAxis:function(){return this._native.swipe.axis},getDirection:function(){return this._native.swipe.direction},getVelocity:function(){return this._native.swipe.velocity},getDistance:function(){return this._native.swipe.distance}}});qx.event.type.Swipe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Rotate",{extend:qx.event.type.Pointer,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Rotate.prototype._cloneNativeEvent.base.call(this,e,t)).angle=e.angle;return t},getAngle:function(){return this._native.angle}}});qx.event.type.Rotate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Pinch",{extend:qx.event.type.Pointer,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Pinch.prototype._cloneNativeEvent.base.call(this,e,t)).scale=e.scale;return t},getScale:function(){return this._native.scale}}});qx.event.type.Pinch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Track",{extend:qx.event.type.Pointer,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Track.prototype._cloneNativeEvent.base.call(this,e,t)).delta=e.delta;return t},getDelta:function(){return this._native.delta}}});qx.event.type.Track.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0},"qx.event.Registration":{},"qx.event.handler.Gesture":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Roll",{extend:qx.event.type.Pointer,members:{stop:function(){this.stopPropagation();this.preventDefault()},_cloneNativeEvent:function(e,t){(t=qx.event.type.Roll.prototype._cloneNativeEvent.base.call(this,e,t)).delta=e.delta;t.momentum=e.momentum;t.timeoutId=e.timeoutId;return t},getMomentum:function(){return this._native.momentum},stopMomentum:function(){this._native.timeoutId&&qx.event.Registration.getManager(this._originalTarget).getHandler(qx.event.handler.Gesture).stopMomentum(this._native.timeoutId)},getDelta:function(){return this._native.delta}}});qx.event.type.Roll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Pointer":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.handler.GestureCore":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.event.type.Tap":{require:!0},"qx.event.type.Swipe":{require:!0},"qx.event.type.Rotate":{require:!0},"qx.event.type.Pinch":{require:!0},"qx.event.type.Track":{require:!0},"qx.event.type.Roll":{require:!0},"qx.lang.Function":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.Event":{},"qx.bom.client.Event":{},"qx.event.type.Pointer":{},"qx.event.type.Data":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Gesture",{extend:qx.event.handler.GestureCore,implement:[qx.event.IEventHandler,qx.core.IDisposable],statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{tap:1,swipe:1,longtap:1,dbltap:1,rotate:1,pinch:1,track:1,trackstart:1,trackend:1,roll:1},GESTURE_EVENTS:["gesturebegin","gesturefinish","gesturemove","gesturecancel"],TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE+qx.event.IEventHandler.TARGET_DOCUMENT,IGNORE_CAN_HANDLE:!0,EVENT_CLASSES:{tap:qx.event.type.Tap,longtap:qx.event.type.Tap,dbltap:qx.event.type.Tap,swipe:qx.event.type.Swipe,rotate:qx.event.type.Rotate,pinch:qx.event.type.Pinch,track:qx.event.type.Track,trackstart:qx.event.type.Track,trackend:qx.event.type.Track,roll:qx.event.type.Roll}},construct:function(e){this.__manager=e;this.__window=e.getWindow();this.__root=this.__window.document;qx.event.handler.GestureCore.apply(this,[this.__root])},members:{__manager:null,__window:null,__root:null,__listener:null,__onDblClickWrapped:null,__fireRollWrapped:null,getWindow:function(){return this.__window},canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_initObserver:function(){this.__listener=qx.lang.Function.listener(this.checkAndFireGesture,this);qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(e){qx.event.Registration.addListener(this.__root,e,this.__listener,this)}.bind(this));if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9){this.__onDblClickWrapped=qx.lang.Function.listener(this._onDblClick,this);qx.bom.Event.addNativeListener(this.__root,"dblclick",this.__onDblClickWrapped)}var e=qx.bom.client.Event.getMouseWheel(this.__window);this.__fireRollWrapped=qx.lang.Function.listener(this._fireRoll,this);qx.bom.Event.addNativeListener(e.target,e.type,this.__fireRollWrapped,!0,!1)},checkAndFireGesture:function(e,t,i){this.__callBase("checkAndFireGesture",[e.getNativeEvent(),e.getType(),e.getTarget()])},_stopObserver:function(){qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(e){qx.event.Registration.removeListener(this.__root,e,this.__listener)}.bind(this));"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&qx.bom.Event.removeNativeListener(this.__root,"dblclick",this.__onDblClickWrapped);var e=qx.bom.client.Event.getMouseWheel(this.__window);qx.bom.Event.removeNativeListener(e.target,e.type,this.__fireRollWrapped)},_hasIntermediaryHandler:function(e){return!1},_fireEvent:function(e,t,i){i||(i=qx.bom.Event.getTarget(e));t||(t=e.type);var n=qx.event.handler.Gesture.EVENT_CLASSES[t]||qx.event.type.Pointer;i&&i.nodeType&&qx.event.Registration.fireEvent(i,t,n,[e,i,null,!0,!0]);qx.event.Registration.fireEvent(this.__window,"useraction",qx.event.type.Data,[t])},dispose:function(){this._stopObserver();this.__callBase("dispose");this.__manager=this.__window=this.__root=this.__onDblClickWrapped=null},__callBase:function(e,t){qx.event.handler.GestureCore.prototype[e].apply(this,t||[])}},defer:function(e){qx.event.Registration.addHandler(e);qx.event.Registration.getManager(document).getHandler(e)}});qx.event.handler.Gesture.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.UserAction",{extend:qx.core.Object,implement:qx.event.IEventHandler,construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__window=e.getWindow()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{useraction:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0},members:{__manager:null,__window:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}},destruct:function(){this.__manager=this.__window=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.UserAction.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.UserAction":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",construct:!0,usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{construct:!0,defer:"runtime",require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.event.type.KeyInput":{},"qx.event.Utils":{},"qx.event.type.Data":{},"qx.event.type.KeySequence":{},"qx.bom.client.Browser":{require:!0},"qx.event.util.Keyboard":{},"qx.event.handler.Focus":{},"qx.lang.Function":{},"qx.bom.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.core.ObjectRegistry":{}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine",load:!0,defer:!0},"browser.version":{className:"qx.bom.client.Browser",load:!0},"engine.version":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Keyboard",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__window=e.getWindow();"gecko"==qx.core.Environment.get("engine.name")?this.__root=this.__window:this.__root=this.__window.document.documentElement;this.__lastUpDownType={};this._initKeyObserver()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{keyup:1,keydown:1,keypress:1,keyinput:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!0},members:{__onKeyUpDownWrapper:null,__manager:null,__window:null,__root:null,__lastUpDownType:null,__lastKeyCode:null,__inputListeners:null,__onKeyPressWrapper:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_fireInputEvent:function(e,t){var i=this.__getEventTarget(),n={},s=this;if(i&&0!=i.offsetWidth){var r=qx.event.Registration.createEvent("keyinput",qx.event.type.KeyInput,[e,i,t]);qx.event.Utils.then(n,function(){s.__manager.dispatchEvent(i,r)})}if(this.__window){s=this;qx.event.Utils.then(n,function(){return qx.event.Registration.fireEvent(s.__window,"useraction",qx.event.type.Data,["keyinput"])})}return n.promise},_fireSequenceEvent:function(e,t,i){var n=this.__getEventTarget(),s=e.keyCode,r={},o=this,a=qx.event.Registration.createEvent(t,qx.event.type.KeySequence,[e,n,i]);qx.event.Utils.then(r,function(){return o.__manager.dispatchEvent(n,a)});a.getDefaultPrevented()&&"keydown"==t&&("mshtml"==qx.core.Environment.get("engine.name")||"webkit"==qx.core.Environment.get("engine.name")||"gecko"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.version")>=29)&&(qx.event.util.Keyboard.isNonPrintableKeyCode(s)||this._emulateKeyPress[s]||qx.event.Utils.then(r,function(){return o._fireSequenceEvent(e,"keypress",i)}));this.__window&&qx.event.Utils.then(r,function(){return qx.event.Registration.fireEvent(o.__window,"useraction",qx.event.type.Data,[t])});return r.promise},__getEventTarget:function(){var e=this.__manager.getHandler(qx.event.handler.Focus),t=e.getActive();t&&0!=t.offsetWidth||(t=e.getFocus());t&&0!=t.offsetWidth||(t=this.__manager.getWindow().document.body);return t},_initKeyObserver:function(){this.__onKeyUpDownWrapper=qx.lang.Function.listener(this.__onKeyUpDown,this);this.__onKeyPressWrapper=qx.lang.Function.listener(this.__onKeyPress,this);var e=qx.bom.Event;e.addNativeListener(this.__root,"keyup",this.__onKeyUpDownWrapper);e.addNativeListener(this.__root,"keydown",this.__onKeyUpDownWrapper);e.addNativeListener(this.__root,"keypress",this.__onKeyPressWrapper)},_stopKeyObserver:function(){var e=qx.bom.Event;e.removeNativeListener(this.__root,"keyup",this.__onKeyUpDownWrapper);e.removeNativeListener(this.__root,"keydown",this.__onKeyUpDownWrapper);e.removeNativeListener(this.__root,"keypress",this.__onKeyPressWrapper);for(var t in this.__inputListeners||{}){var i=this.__inputListeners[t];e.removeNativeListener(i.target,"keypress",i.callback)}delete this.__inputListeners},__onKeyUpDown:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{"gecko|webkit|mshtml":function(e){var t,i=e.type;t=e.keyCode;var n={},s=this;qx.event.Utils.track(n,this._idealKeyHandler(t,0,i,e));if("keydown"==i){var r=e.ctrlKey||e.altKey||e.metaKey;(qx.event.util.Keyboard.isNonPrintableKeyCode(t)||this._emulateKeyPress[t]||r)&&qx.event.Utils.then(n,function(){return s._idealKeyHandler(t,0,"keypress",e)})}this.__lastUpDownType[t]=i;return n.promise},opera:function(e){this.__lastKeyCode=e.keyCode;return this._idealKeyHandler(e.keyCode,0,e.type,e)}})),__firefoxInputFix:qx.core.Environment.select("engine.name",{gecko:function(e,t,i){if("keydown"===t&&(33==i||34==i||38==i||40==i)&&"text"==e.type&&"input"===e.tagName.toLowerCase()&&"off"!==e.getAttribute("autoComplete")){this.__inputListeners||(this.__inputListeners={});var n=qx.core.ObjectRegistry.toHashCode(e);if(this.__inputListeners[n])return;var s=this;this.__inputListeners[n]={target:e,callback:function(e){qx.bom.Event.stopPropagation(e);s.__onKeyPress(e)}};var r=qx.event.GlobalError.observeMethod(this.__inputListeners[n].callback);qx.bom.Event.addNativeListener(e,"keypress",r)}},default:null}),__onKeyPress:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){e=window.event||e;return this._charCode2KeyCode[e.keyCode]?this._idealKeyHandler(this._charCode2KeyCode[e.keyCode],0,e.type,e):this._idealKeyHandler(0,e.keyCode,e.type,e)},gecko:function(e){if(qx.core.Environment.get("engine.version")<66){var t=e.charCode,i=e.type;return this._idealKeyHandler(e.keyCode,t,i,e)}return this._charCode2KeyCode[e.keyCode]?this._idealKeyHandler(this._charCode2KeyCode[e.keyCode],0,e.type,e):this._idealKeyHandler(0,e.keyCode,e.type,e)},webkit:function(e){return this._charCode2KeyCode[e.keyCode]?this._idealKeyHandler(this._charCode2KeyCode[e.keyCode],0,e.type,e):this._idealKeyHandler(0,e.keyCode,e.type,e)},opera:function(e){var t=e.keyCode,i=e.type;return t!=this.__lastKeyCode?this._idealKeyHandler(0,this.__lastKeyCode,i,e):qx.event.util.Keyboard.keyCodeToIdentifierMap[e.keyCode]?this._idealKeyHandler(e.keyCode,0,e.type,e):this._idealKeyHandler(0,e.keyCode,e.type,e)}})),_idealKeyHandler:function(e,t,i,n){var s;if(e||!e&&!t){s=qx.event.util.Keyboard.keyCodeToIdentifier(e);return this._fireSequenceEvent(n,i,s)}s=qx.event.util.Keyboard.charCodeToIdentifier(t);var r={},o=this;qx.event.Utils.track(r,this._fireSequenceEvent(n,"keypress",s));return qx.event.Utils.then(r,function(){return o._fireInputEvent(n,t)})},_emulateKeyPress:qx.core.Environment.select("engine.name",{mshtml:{8:!0,9:!0},webkit:{8:!0,9:!0,27:!0},gecko:qx.core.Environment.get("browser.version")>=65?{8:!0,9:!0,27:!0}:{},default:{}}),_identifierToKeyCode:function(e){return qx.event.util.Keyboard.identifierToKeyCodeMap[e]||e.charCodeAt(0)}},destruct:function(){this._stopKeyObserver();this.__lastKeyCode=this.__manager=this.__window=this.__root=this.__lastUpDownType=null},defer:function(e,t){qx.event.Registration.addHandler(e);"opera"!==qx.core.Environment.get("engine.name")&&(t._charCode2KeyCode={13:13,27:27})}});qx.event.handler.Keyboard.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Capture",{extend:qx.core.Object,implement:qx.event.IEventHandler,statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{capture:!0,losecapture:!0},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!0},members:{canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Capture.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Gesture":{require:!0,defer:"runtime"},"qx.event.handler.Keyboard":{require:!0,defer:"runtime"},"qx.event.handler.Capture":{require:!0,defer:"runtime"},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{construct:!0,defer:"runtime",require:!0},"qx.event.Utils":{},"qx.Promise":{},"qx.event.type.Drag":{},"qx.ui.core.Widget":{},"qx.ui.core.DragDropCursor":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.DragDrop",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__root=e.getWindow().document.documentElement;this.__manager.addListener(this.__root,"longtap",this._onLongtap,this);this.__manager.addListener(this.__root,"pointerdown",this._onPointerdown,this,!0);qx.event.Registration.addListener(window,"blur",this._onWindowBlur,this);this.__rebuildStructures()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{dragstart:1,dragend:1,dragover:1,dragleave:1,drop:1,drag:1,dragchange:1,droprequest:1},IGNORE_CAN_HANDLE:!0,ALLOWED_BUTTONS:["left"],MIN_DRAG_DISTANCE:5},properties:{cursor:{check:"qx.ui.core.Widget",nullable:!0,init:null}},members:{__manager:null,__root:null,__dropTarget:null,__dragTarget:null,__types:null,__actions:null,__keys:null,__cache:null,__currentType:null,__currentAction:null,__sessionActive:!1,__validDrop:!1,__validAction:!1,__dragTargetWidget:null,__startConfig:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},addType:function(e){this.__types[e]=!0},addAction:function(e){this.__actions[e]=!0},supportsType:function(e){return!!this.__types[e]},supportsAction:function(e){return!!this.__actions[e]},setDropAllowed:function(e){this.__validDrop=e;this.__detectAction()},getData:function(e){if(!this.__validDrop||!this.__dropTarget)throw new Error("This method must not be used outside the drop event listener!");if(!this.__types[e])throw new Error("Unsupported data type: "+e+"!");if(!this.__cache[e]){this.__currentType=e;this.__fireEvent("droprequest",this.__dragTarget,this.__dropTarget,!1,!1)}if(!this.__cache[e])throw new Error("Please use a droprequest listener to the drag source to fill the manager with data!");return this.__cache[e]||null},getDataAsync:function(e){if(!this.__validDrop||!this.__dropTarget)throw new Error("This method must not be used outside the drop event listener!");if(!this.__types[e])throw new Error("Unsupported data type: "+e+"!");var t={},i=this;this.__cache[e]||qx.event.Utils.then(t,function(){i.__currentType=e;return i.__fireEvent("droprequest",i.__dragTarget,i.__dropTarget,!1)});return qx.event.Utils.then(t,function(){if(!this.__cache[e])throw new Error("Please use a droprequest listener to the drag source to fill the manager with data!");return this.__cache[e]||null})},getCurrentAction:function(){this.__detectAction();return this.__currentAction},getCurrentActionAsync:function(){var e=this;return qx.Promise.resolve(e.__detectAction()).then(function(){return e.__currentAction})},getDragTarget:function(){return this.__dragTargetWidget},addData:function(e,t){this.__cache[e]=t},getCurrentType:function(){return this.__currentType},isSessionActive:function(){return this.__sessionActive},__rebuildStructures:function(){this.__types={};this.__actions={};this.__keys={};this.__cache={}},__detectAction:function(){if(null==this.__dragTarget)return qx.Promise.reject();var e=this.__actions,t=this.__keys,i=null;this.__validDrop&&(t.Shift&&t.Control&&e.alias?i="alias":t.Shift&&t.Alt&&e.copy?i="copy":t.Shift&&e.move?i="move":t.Alt&&e.alias?i="alias":t.Control&&e.copy?i="copy":e.move?i="move":e.copy?i="copy":e.alias&&(i="alias"));var n=this,s={},r=this.__currentAction;if(i!=r&&this.__dropTarget){qx.event.Utils.catch(function(){n.__validAction=!1;i=null});qx.event.Utils.then(s,function(){n.__currentAction=i;return n.__fireEvent("dragchange",n.__dropTarget,n.__dragTarget,!0)});qx.event.Utils.then(s,function(e){n.__validAction=e;e||(i=null)})}return qx.event.Utils.then(s,function(){if(i!=r){n.__currentAction=i;return n.__fireEvent("dragchange",n.__dragTarget,n.__dropTarget,!1)}})},__fireEvent:function(e,t,i,n,s,r){var o=qx.event.Registration,a=o.createEvent(e,qx.event.type.Drag,[n,s]);t!==i&&a.setRelatedTarget(i);var l=o.dispatchEvent(t,a);if(void 0===r||r)return qx.Promise.resolve(l).then(function(){return!a.getDefaultPrevented()});l instanceof qx.Promise&&this.error('DragDrop event "'+e+'" returned a promise but a synchronous event was required, drag and drop may not work as expected (consider using getDataAsync)');return l},__findDraggable:function(e){for(;e&&1==e.nodeType;){if("on"==e.getAttribute("qxDraggable"))return e;e=e.parentNode}return null},__findDroppable:function(e){for(;e&&1==e.nodeType;){if("on"==e.getAttribute("qxDroppable"))return e;e=e.parentNode}return null},clearSession:function(){this.__manager.removeListener(this.__root,"pointermove",this._onPointermove,this);this.__manager.removeListener(this.__root,"pointerup",this._onPointerup,this,!0);this.__manager.removeListener(this.__root,"keydown",this._onKeyDown,this,!0);this.__manager.removeListener(this.__root,"keyup",this._onKeyUp,this,!0);this.__manager.removeListener(this.__root,"keypress",this._onKeyPress,this,!0);this.__manager.removeListener(this.__root,"roll",this._onRoll,this,!0);var e={},t=this;this.__dragTarget&&qx.event.Utils.then(e,function(){return t.__fireEvent("dragend",t.__dragTarget,t.__dropTarget,!1)});return qx.event.Utils.then(e,function(){t.__validDrop=!1;t.__dropTarget=null;if(t.__dragTargetWidget){t.__dragTargetWidget.removeState("drag");t.__dragTargetWidget=null}t.__dragTarget=null;t.__sessionActive=!1;t.__startConfig=null;t.__rebuildStructures()})},_onLongtap:function(e){if("touch"==e.getPointerType()){this.__manager.addListener(this.__root,"roll",this._onRoll,this,!0);return this._start(e)}},_start:function(e){var t=-1!==qx.event.handler.DragDrop.ALLOWED_BUTTONS.indexOf(e.getButton());if(!e.isPrimary()||!t)return!1;var i=this.__startConfig?this.__startConfig.target:e.getTarget(),n=this.__findDraggable(i);if(n){this.__dragTarget=n;for(var s=qx.ui.core.Widget.getWidgetByElement(this.__startConfig.original);s&&s.isAnonymous();)s=s.getLayoutParent();if(s){this.__dragTargetWidget=s;s.addState("drag")}var r=this,o={};qx.event.Utils.catch(function(){r.__sessionActive=!1});qx.event.Utils.then(o,function(){return r.__fireEvent("dragstart",r.__dragTarget,r.__dropTarget,!0,e)});return qx.event.Utils.then(o,function(e){if(e){r.__manager.addListener(r.__root,"keydown",r._onKeyDown,r,!0);r.__manager.addListener(r.__root,"keyup",r._onKeyUp,r,!0);r.__manager.addListener(r.__root,"keypress",r._onKeyPress,r,!0);r.__sessionActive=!0}})}},_onPointerdown:function(e){if(e.isPrimary()){this.__startConfig={target:e.getTarget(),original:e.getOriginalTarget(),left:e.getDocumentLeft(),top:e.getDocumentTop()};this.__manager.addListener(this.__root,"pointermove",this._onPointermove,this);this.__manager.addListener(this.__root,"pointerup",this._onPointerup,this,!0)}},_onPointermove:function(e){if(e.isPrimary()){var t=this,i={};qx.event.Utils.catch(function(){return t.clearSession()});if(!t.__sessionActive&&"mouse"==e.getPointerType()){var n=t._getDelta(e),s=qx.event.handler.DragDrop.MIN_DRAG_DISTANCE;n&&(Math.abs(n.x)>s||Math.abs(n.y)>s)&&qx.event.Utils.then(i,function(){return t._start(e)})}return qx.event.Utils.then(i,function(){if(t.__sessionActive){var i={};qx.event.Utils.then(i,function(){return t.__fireEvent("drag",t.__dragTarget,t.__dropTarget,!0,e)});qx.event.Utils.then(i,function(i){i||this.clearSession();var n=e.getTarget();t.__startConfig.target===n&&(n=e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(),e.getDocumentTop()));var s=t.getCursor();s||(s=qx.ui.core.DragDropCursor.getInstance());var r=s.getContentElement().getDomElement();if(r&&(n===r||r.contains(n))){var o=qx.bom.element.Style.get(r,"display");qx.bom.element.Style.set(r,"display","none");n=e.getNativeEvent().view.document.elementFromPoint(e.getDocumentLeft(),e.getDocumentTop());qx.bom.element.Style.set(r,"display",o)}if(n!==r){var a=t.__findDroppable(n);if(a&&a!=t.__dropTarget){var l=t.__dropTarget;t.__validDrop=!0;t.__dropTarget=a;var u={};qx.event.Utils.catch(u,function(){t.__dropTarget=null;t.__validDrop=!1});l&&qx.event.Utils.then(u,function(){return t.__fireEvent("dragleave",l,t.__dragTarget,!1,e)});qx.event.Utils.then(u,function(){return t.__fireEvent("dragover",a,t.__dragTarget,!0,e)});return qx.event.Utils.then(u,function(e){t.__validDrop=e})}if(!a&&t.__dropTarget){u={};qx.event.Utils.then(u,function(){return t.__fireEvent("dragleave",t.__dropTarget,t.__dragTarget,!1,e)});return qx.event.Utils.then(u,function(){t.__dropTarget=null;t.__validDrop=!1;return t.__detectAction()})}}});return qx.event.Utils.then(i,function(){var i=t.__keys;i.Control=e.isCtrlPressed();i.Shift=e.isShiftPressed();i.Alt=e.isAltPressed();return t.__detectAction()})}})}},_getDelta:function(e){return this.__startConfig?{x:e.getDocumentLeft()-this.__startConfig.left,y:e.getDocumentTop()-this.__startConfig.top}:null},_onPointerup:function(e){if(e.isPrimary()){var t={},i=this;this.__validDrop&&this.__validAction&&qx.event.Utils.then(t,function(){return i.__fireEvent("drop",i.__dropTarget,i.__dragTarget,!1,e)});return qx.event.Utils.then(t,function(){e.getTarget()==i.__dragTarget&&e.stopPropagation();return i.clearSession()})}},_onRoll:function(e){e.stop()},_onWindowBlur:function(e){return this.clearSession()},_onKeyDown:function(e){var t=e.getKeyIdentifier();switch(t){case"Alt":case"Control":case"Shift":if(!this.__keys[t]){this.__keys[t]=!0;return this.__detectAction()}}},_onKeyUp:function(e){var t=e.getKeyIdentifier();switch(t){case"Alt":case"Control":case"Shift":if(this.__keys[t]){this.__keys[t]=!1;return this.__detectAction()}}},_onKeyPress:function(e){switch(e.getKeyIdentifier()){case"Escape":return this.clearSession()}}},destruct:function(){qx.event.Registration.removeListener(window,"blur",this._onWindowBlur,this);this.__dragTarget=this.__dropTarget=this.__manager=this.__root=this.__types=this.__actions=this.__keys=this.__cache=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.DragDrop.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{},"qx.core.Property":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.PropertyUtil",{statics:{getProperties:function(e){return e.$$properties},getAllProperties:function(e){for(var t={},i=e;i!=qx.core.Object;){var n=this.getProperties(i);for(var s in n)t[s]=n[s];i=i.superclass}return t},getUserValue:function(e,t){return e["$$user_"+t]},setUserValue:function(e,t,i){e["$$user_"+t]=i},deleteUserValue:function(e,t){delete e["$$user_"+t]},getInitValue:function(e,t){return e["$$init_"+t]},setInitValue:function(e,t,i){e["$$init_"+t]=i},deleteInitValue:function(e,t){delete e["$$init_"+t]},getThemeValue:function(e,t){return e["$$theme_"+t]},setThemeValue:function(e,t,i){e["$$theme_"+t]=i},deleteThemeValue:function(e,t){delete e["$$theme_"+t]},setThemed:function(e,t,i){e[qx.core.Property.$$method.setThemed[t]](i)},resetThemed:function(e,t){e[qx.core.Property.$$method.resetThemed[t]]()}}});qx.util.PropertyUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.queue.Manager":{},"qx.ui.core.queue.Visibility":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Layout",{statics:{__queue:{},__nesting:{},remove:function(e){delete this.__queue[e.toHashCode()]},add:function(e){this.__queue[e.toHashCode()]=e;qx.ui.core.queue.Manager.scheduleFlush("layout")},isScheduled:function(e){return!!this.__queue[e.toHashCode()]},flush:function(){for(var e=this.__getSortedQueue(),t=e.length-1;t>=0;t--){var i=e[t];if(!i.hasValidLayout())if(i.isRootWidget()&&!i.hasUserBounds()){var n=i.getSizeHint();i.renderLayout(0,0,n.width,n.height)}else{var s=i.getBounds();i.renderLayout(s.left,s.top,s.width,s.height)}}},getNestingLevel:function(e){for(var t=this.__nesting,i=0,n=e;;){if(null!=t[n.toHashCode()]){i+=t[n.toHashCode()];break}if(!n.$$parent)break;n=n.$$parent;i+=1}for(var s=i;e&&e!==n;){t[e.toHashCode()]=s--;e=e.$$parent}return i},__getLevelGroupedWidgets:function(){var e=qx.ui.core.queue.Visibility;this.__nesting={};var t,i,n=[],s=this.__queue;for(var r in s){t=s[r];if(e.isVisible(t)){n[i=this.getNestingLevel(t)]||(n[i]={});n[i][r]=t;delete s[r]}}return n},__getSortedQueue:function(){for(var e=[],t=this.__getLevelGroupedWidgets(),i=t.length-1;i>=0;i--)if(t[i])for(var n in t[i]){var s=t[i][n];if(0==i||s.isRootWidget()||s.hasUserBounds()){e.push(s);s.invalidateLayoutCache()}else{var r=s.getSizeHint(!1);if(r){s.invalidateLayoutCache();var o=s.getSizeHint(),a=!s.getBounds()||r.minWidth!==o.minWidth||r.width!==o.width||r.maxWidth!==o.maxWidth||r.minHeight!==o.minHeight||r.height!==o.height||r.maxHeight!==o.maxHeight}else a=!0;if(a){var l=s.getLayoutParent();t[i-1]||(t[i-1]={});t[i-1][l.toHashCode()]=l}else e.push(s)}}return e}}});qx.ui.core.queue.Layout.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.client.Engine":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.lang.Function":{},"qx.bom.client.Browser":{},"qx.bom.Event":{},"qx.event.GlobalError":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"qx.globalErrorHandling":{className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Application",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this._window=e.getWindow();this.__domReady=!1;this.__loaded=!1;this.__isReady=!1;this.__isInitialized=!1;this.__isUnloaded=!1;this._initObserver();qx.event.handler.Application.$$instance=this},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{ready:1,shutdown:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0,onScriptLoaded:function(){var e=qx.event.handler.Application.$$instance;e&&e.__fireReady()},onAppInstanceInitialized:function(){var e=qx.event.handler.Application.$$instance;e&&e.__fireAppInstanceInitialized()}},members:{canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},__isReady:null,__isInitialized:null,__domReady:null,__loaded:null,__isUnloaded:null,__fireReady:function(){if(!this.__isReady&&this.__domReady&&qx.$$loader.scriptLoaded)if("mshtml"==qx.core.Environment.get("engine.name")){if(qx.event.Registration.hasListener(this._window,"ready")){this.__isReady=!0;qx.event.Registration.fireEvent(this._window,"ready")}}else{this.__isReady=!0;qx.event.Registration.fireEvent(this._window,"ready")}},__fireAppInstanceInitialized:function(){this.__isInitialized=!0;qx.event.Registration.fireEvent(this._window,"appinitialized")},isApplicationReady:function(){return this.__isReady},isApplicationInitialized:function(){return this.__isInitialized},_initObserver:function(){if(qx.$$domReady||"complete"==document.readyState||"ready"==document.readyState){this.__domReady=!0;this.__fireReady()}else{this._onNativeLoadWrapped=qx.lang.Function.bind(this._onNativeLoad,this);if("gecko"==qx.core.Environment.get("engine.name")||"opera"==qx.core.Environment.get("engine.name")||"webkit"==qx.core.Environment.get("engine.name")||"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")>8)qx.bom.Event.addNativeListener(this._window,"DOMContentLoaded",this._onNativeLoadWrapped);else{var e=this;!function t(){try{document.documentElement.doScroll("left");document.body&&e._onNativeLoadWrapped()}catch(e){window.setTimeout(t,100)}}()}qx.bom.Event.addNativeListener(this._window,"load",this._onNativeLoadWrapped)}this._onNativeUnloadWrapped=qx.lang.Function.bind(this._onNativeUnload,this);qx.bom.Event.addNativeListener(this._window,"unload",this._onNativeUnloadWrapped)},_stopObserver:function(){this._onNativeLoadWrapped&&qx.bom.Event.removeNativeListener(this._window,"load",this._onNativeLoadWrapped);qx.bom.Event.removeNativeListener(this._window,"unload",this._onNativeUnloadWrapped);this._onNativeLoadWrapped=null;this._onNativeUnloadWrapped=null},_onNativeLoad:function(){qx.core.Environment.select("qx.globalErrorHandling",{true:qx.event.GlobalError.observeMethod(this.__onNativeLoadHandler),false:this.__onNativeLoadHandler}).apply(this,arguments)},__onNativeLoadHandler:function(){this.__domReady=!0;this.__fireReady()},_onNativeUnload:function(){qx.core.Environment.select("qx.globalErrorHandling",{true:qx.event.GlobalError.observeMethod(this.__onNativeUnloadHandler),false:this.__onNativeUnloadHandler}).apply(this,arguments)},__onNativeUnloadHandler:function(){if(!this.__isUnloaded){this.__isUnloaded=!0;try{qx.event.Registration.fireEvent(this._window,"shutdown")}catch(e){throw e}}}},destruct:function(){this._stopObserver();this._window=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Application.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.type.Native":{require:!0,defer:"runtime"},"qx.event.Pool":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.lang.Function":{},"qx.bom.Event":{},"qx.event.GlobalError":{}},environment:{provided:[],required:{"qx.globalErrorHandling":{className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Window",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this._manager=e;this._window=e.getWindow();this._initWindowObserver()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{error:1,load:1,beforeunload:1,unload:1,resize:1,scroll:1,beforeshutdown:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0},members:{canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_initWindowObserver:function(){this._onNativeWrapper=qx.lang.Function.listener(this._onNative,this);var e=qx.event.handler.Window.SUPPORTED_TYPES;for(var t in e)qx.bom.Event.addNativeListener(this._window,t,this._onNativeWrapper)},_stopWindowObserver:function(){var e=qx.event.handler.Window.SUPPORTED_TYPES;for(var t in e)qx.bom.Event.removeNativeListener(this._window,t,this._onNativeWrapper)},_onNative:function(){qx.core.Environment.select("qx.globalErrorHandling",{true:qx.event.GlobalError.observeMethod(this.__onNativeHandler),false:this.__onNativeHandler}).apply(this,arguments)},__onNativeHandler:function(e){if(!this.isDisposed()){var t,i=this._window;try{t=i.document}catch(e){return}var n=t.documentElement,s=qx.bom.Event.getTarget(e);if(null==s||s===i||s===t||s===n){var r=qx.event.Registration.createEvent(e.type,qx.event.type.Native,[e,i]);qx.event.Registration.dispatchEvent(i,r);var o=r.getReturnValue();if(null!=o){e.returnValue=o;return o}}}}},destruct:function(){this._stopWindowObserver();this._manager=this._window=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Window.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.log.Logger":{},"qx.bom.client.OperatingSystem":{},"qx.Bootstrap":{},"qx.event.handler.Application":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"os.name":{className:"qx.bom.client.OperatingSystem"},"qx.application":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.core.BaseInit",{statics:{__application:null,getApplication:function(){return this.__application||null},ready:function(){if(!this.__application){""==qx.core.Environment.get("engine.name")&&qx.log.Logger.warn("Could not detect engine!");""==qx.core.Environment.get("engine.version")&&qx.log.Logger.warn("Could not detect the version of the engine!");""==qx.core.Environment.get("os.name")&&qx.log.Logger.warn("Could not detect operating system!");qx.log.Logger.debug(this,"Load runtime: "+(new Date-qx.Bootstrap.LOADSTART)+"ms");var e=qx.core.Environment.get("qx.application"),t=qx.Class.getByName(e);if(t){this.__application=new t;var i=new Date;this.__application.main();qx.log.Logger.debug(this,"Main runtime: "+(new Date-i)+"ms");i=new Date;this.__application.finalize();qx.log.Logger.debug(this,"Finalize runtime: "+(new Date-i)+"ms");qx.event.handler.Application.onAppInstanceInitialized()}else qx.log.Logger.warn("Missing application class: "+e)}},__close:function(e){var t=this.__application;t&&t.close()},__shutdown:function(){var e=this.__application;e&&e.terminate()}}});qx.core.BaseInit.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Application":{require:!0,defer:"runtime"},"qx.event.handler.Window":{require:!0,defer:"runtime"},"qx.event.dispatch.Direct":{require:!0,defer:"runtime"},"qx.Class":{usage:"dynamic",require:!0},"qx.core.BaseInit":{require:!0},"qx.event.Registration":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.core.Init",{statics:{getApplication:qx.core.BaseInit.getApplication,ready:qx.core.BaseInit.ready,__close:function(e){var t=this.getApplication();t&&e.setReturnValue(t.close())},__shutdown:function(){var e=this.getApplication();e&&e.terminate()}},defer:function(e){qx.event.Registration.addListener(window,"ready",e.ready,e);qx.event.Registration.addListener(window,"shutdown",e.__shutdown,e);qx.event.Registration.addListener(window,"beforeunload",e.__close,e)}});qx.core.Init.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Visibility",{statics:{__queue:[],__lookup:{},__data:{},remove:function(e){if(this.__lookup[e.toHashCode()]){delete this.__lookup[e.toHashCode()];qx.lang.Array.remove(this.__queue,e)}delete this.__data[e.toHashCode()]},isVisible:function(e){return this.__data[e.toHashCode()]||!1},__computeVisible:function(e){var t,i=this.__data,n=e.toHashCode();if(e.isExcluded())t=!1;else{var s=e.$$parent;t=s?this.__computeVisible(s):e.isRootWidget()}return i[n]=t},add:function(e){if(!this.__lookup[e.toHashCode()]){this.__queue.unshift(e);this.__lookup[e.toHashCode()]=e;qx.ui.core.queue.Manager.scheduleFlush("visibility")}},flush:function(){for(var e=this.__queue,t=this.__data,i=e.length-1;i>=0;i--){null!=t[r=e[i].toHashCode()]&&e[i].addChildrenToQueue(e)}var n={};for(i=e.length-1;i>=0;i--){n[r=e[i].toHashCode()]=t[r];t[r]=null}for(i=e.length-1;i>=0;i--){var s=e[i],r=s.toHashCode();e.splice(i,1);null==t[r]&&this.__computeVisible(s);t[r]&&t[r]!=n[r]&&s.checkAppearanceNeeds()}this.__queue=[];this.__lookup={}}}});qx.ui.core.queue.Visibility.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.core.LayoutItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Abstract",{type:"abstract",extend:qx.core.Object,members:{__sizeHint:null,_invalidChildrenCache:null,__widget:null,invalidateLayoutCache:function(){this.__sizeHint=null},renderLayout:function(e,t,i){this.warn("Missing renderLayout() implementation!")},getSizeHint:function(){return this.__sizeHint?this.__sizeHint:this.__sizeHint=this._computeSizeHint()},hasHeightForWidth:function(){return!1},getHeightForWidth:function(e){this.warn("Missing getHeightForWidth() implementation!");return null},_computeSizeHint:function(){return null},invalidateChildrenCache:function(){this._invalidChildrenCache=!0},verifyLayoutProperty:function(e,t,i){},_clearSeparators:function(){var e=this.__widget;e instanceof qx.ui.core.LayoutItem&&e.clearSeparators()},_renderSeparator:function(e,t){this.__widget.renderSeparator(e,t)},connectToWidget:function(e){if(e&&this.__widget)throw new Error("It is not possible to manually set the connected widget.");this.__widget=e;this.invalidateChildrenCache()},_getWidget:function(){return this.__widget},_applyLayoutChange:function(){this.__widget&&this.__widget.scheduleLayoutUpdate()},_getLayoutChildren:function(){return this.__widget.getLayoutChildren()}},destruct:function(){this.__widget=this.__sizeHint=null}});qx.ui.layout.Abstract.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{construct:!0},"qx.bom.client.Browser":{construct:!0},"qx.lang.Type":{},"qx.ui.style.Stylesheet":{},"qx.Bootstrap":{},"qx.ui.decoration.Decorator":{},"qx.ui.decoration.IDecorator":{},"qx.lang.Object":{},"qx.util.AliasManager":{}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine"},"browser.documentmode":{construct:!0,className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Decoration",{type:"singleton",extend:qx.core.Object,implement:[qx.core.IDisposable],statics:{CSS_CLASSNAME_PREFIX:"qx-"},construct:function(){qx.core.Object.constructor.call(this);this.__rules=[];this.__legacyIe="mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9},properties:{theme:{check:"Theme",nullable:!0,apply:"_applyTheme",event:"changeTheme"}},members:{__dynamic:null,__rules:null,__legacyIe:!1,getCssClassName:function(e){var t=qx.theme.manager.Decoration.CSS_CLASSNAME_PREFIX;return qx.lang.Type.isString(e)?t+e:t+e.toHashCode()},addCssClass:function(e){var t=qx.ui.style.Stylesheet.getInstance(),i=e,n="."+(e=this.getCssClassName(e));if(t.hasRule(n))return e;qx.lang.Type.isString(i)&&(i=this.resolve(i));if(!i)throw new Error("Unable to resolve decorator '"+e+"'.");var s="",r=i.getStyles(!0);Object.keys(r).sort().forEach(function(e){if(qx.Bootstrap.isObject(r[e])){var i="",o=r[e],a=!1;for(var l in o){a=!0;i+=l+":"+o[l]+";"}var u=this.__legacyIe?n:n+(a?":":"");this.__rules.push(u+e);t.addRule(u+e,i)}else s+=e+":"+r[e]+";"},this);if(s){t.addRule(n,s);this.__rules.push(n)}return e},removeAllCssClasses:function(){for(var e=0;e<this.__rules.length;e++){var t=this.__rules[e];qx.ui.style.Stylesheet.getInstance().removeRule(t)}this.__rules=[]},resolve:function(e){if(!e)return null;if("object"===_typeof(e))return e;var t=this.__dynamic;t||(t=this.__dynamic={});var i=t[e];if(i)return i;var n=this.getTheme();if(!n)return null;if(!n.decorations[e])return null;var s=new qx.ui.decoration.Decorator;!function e(t,i){t.include&&n.decorations[t.include]&&e(n.decorations[t.include],t.include);t.style&&s.set(t.style)}(n.decorations[e]);t[e]=s;return t[e]},isValidPropertyValue:function(e){if("string"==typeof e)return this.isDynamic(e);if("object"===_typeof(e)){var t=e.constructor;return qx.Class.hasInterface(t,qx.ui.decoration.IDecorator)}return!1},isDynamic:function(e){if(!e)return!1;var t=this.getTheme();return!!t&&!!t.decorations[e]},isCached:function(e){return!!this.__dynamic&&qx.lang.Object.contains(this.__dynamic,e)},_applyTheme:function(e,t){var i=qx.util.AliasManager.getInstance();this.removeAllCssClasses();if(t)for(var n in t.aliases)i.remove(n);if(e)for(var n in e.aliases)i.add(n,e.aliases[n]);this._disposeMap("__dynamic");this.__dynamic={}},clear:function(){var e=qx.util.AliasManager.getInstance(),t=this.getTheme();if(!e.isDisposed()&&t&&t.alias)for(var i in t.aliases)e.remove(i,t.aliases[i]);this.removeAllCssClasses();this._disposeMap("__dynamic");this.__dynamic={}},refresh:function(){this.clear();var e=qx.util.AliasManager.getInstance(),t=this.getTheme();if(t&&t.alias)for(var i in t.aliases)e.add(i,t.aliases[i])}},destruct:function(){this.clear()}});qx.theme.manager.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.UserAction":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.AnimationFrame":{},"qx.ui.core.queue.Widget":{},"qx.log.Logger":{},"qx.ui.core.queue.Visibility":{},"qx.ui.core.queue.Appearance":{},"qx.ui.core.queue.Layout":{},"qx.html.Element":{defer:"runtime"},"qx.ui.core.queue.Dispose":{},"qx.event.Registration":{defer:"runtime"},"qx.bom.client.Event":{defer:"runtime"}},environment:{provided:[],required:{"event.touch":{defer:!0,className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Manager",{statics:{__scheduled:!1,__canceled:!1,__jobs:{},__retries:0,MAX_RETRIES:10,scheduleFlush:function(e){var t=qx.ui.core.queue.Manager;t.__jobs[e]=!0;if(!t.__scheduled){t.__canceled=!1;qx.bom.AnimationFrame.request(function(){t.__canceled?t.__canceled=!1:t.flush()},t);t.__scheduled=!0}},flush:function(){var e=qx.ui.core.queue.Manager;if(!e.__inFlush){e.__inFlush=!0;e.__canceled=!0;var t=e.__jobs;e.__executeAndRescheduleOnError(function(){for(;t.visibility||t.widget||t.appearance||t.layout||t.element;){if(t.widget){delete t.widget;try{qx.ui.core.queue.Widget.flush()}catch(e){qx.log.Logger.error(qx.ui.core.queue.Widget,"Error in the 'Widget' queue:"+e,e)}}if(t.visibility){delete t.visibility;try{qx.ui.core.queue.Visibility.flush()}catch(e){qx.log.Logger.error(qx.ui.core.queue.Visibility,"Error in the 'Visibility' queue:"+e,e)}}if(t.appearance){delete t.appearance;try{qx.ui.core.queue.Appearance.flush()}catch(e){qx.log.Logger.error(qx.ui.core.queue.Appearance,"Error in the 'Appearance' queue:"+e,e)}}if(!(t.widget||t.visibility||t.appearance)){if(t.layout){delete t.layout;try{qx.ui.core.queue.Layout.flush()}catch(e){qx.log.Logger.error(qx.ui.core.queue.Layout,"Error in the 'Layout' queue:"+e,e)}}if(!(t.widget||t.visibility||t.appearance||t.layout)&&t.element){delete t.element;qx.html.Element.flush()}}}},function(){e.__scheduled=!1});e.__executeAndRescheduleOnError(function(){if(t.dispose){delete t.dispose;try{qx.ui.core.queue.Dispose.flush()}catch(e){qx.log.Logger.error("Error in the 'Dispose' queue:"+e)}}},function(){e.__inFlush=!1});e.__retries=0}},__executeAndRescheduleOnError:function(e,t){e();t()},__onUserAction:function(e){qx.ui.core.queue.Manager.flush()}},defer:function(e){qx.html.Element._scheduleFlush=e.scheduleFlush;qx.event.Registration.addListener(window,"useraction",qx.core.Environment.get("event.touch")?e.__onUserAction:e.flush)}});qx.ui.core.queue.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Node":{},"qx.bom.element.Dimension":{},"qx.bom.Document":{},"qx.bom.Viewport":{},"qx.bom.Stylesheet":{},qxWeb:{defer:"runtime"},"qx.bom.element.Location":{},"qx.lang.String":{},"qx.bom.element.Style":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Css",{statics:{_getHeight:function(e){var t=this[0];if(t){if(qx.dom.Node.isElement(t)){var i;if(e){i=qx.module.Css.__swap(t,{display:"block",position:"absolute",visibility:"hidden"},"_getHeight",this)}else i=qx.bom.element.Dimension.getHeight(t);return i}if(qx.dom.Node.isDocument(t))return qx.bom.Document.getHeight(qx.dom.Node.getWindow(t));if(qx.dom.Node.isWindow(t))return qx.bom.Viewport.getHeight(t)}return null},_getWidth:function(e){var t=this[0];if(t){if(qx.dom.Node.isElement(t)){var i;if(e){i=qx.module.Css.__swap(t,{display:"block",position:"absolute",visibility:"hidden"},"_getWidth",this)}else i=qx.bom.element.Dimension.getWidth(t);return i}if(qx.dom.Node.isDocument(t))return qx.bom.Document.getWidth(qx.dom.Node.getWindow(t));if(qx.dom.Node.isWindow(t))return qx.bom.Viewport.getWidth(t)}return null},_getContentHeight:function(e){var t=this[0];if(qx.dom.Node.isElement(t)){var i;if(e){i=qx.module.Css.__swap(t,{position:"absolute",visibility:"hidden",display:"block"},"_getContentHeight",this)}else i=qx.bom.element.Dimension.getContentHeight(t);return i}return null},_getContentWidth:function(e){var t=this[0];if(qx.dom.Node.isElement(t)){var i;if(e){i=qx.module.Css.__swap(t,{position:"absolute",visibility:"hidden",display:"block"},"_getContentWidth",this)}else i=qx.bom.element.Dimension.getContentWidth(t);return i}return null},__displayDefaults:{},__getDisplayDefault:function(e,t){var i=qx.module.Css.__displayDefaults;if(!i[e]){var n=t||document,s=qxWeb(n.createElement(e)).appendTo(t.body);i[e]=s.getStyle("display");s.remove()}return i[e]||""},__swap:function(e,t,i,n){var s={};for(var r in t){s[r]=e.style[r];e.style[r]=t[r]}var o=n[i]();for(var r in s)e.style[r]=s[r];return o},includeStylesheet:function(e,t){qx.bom.Stylesheet.includeFile(e,t)}},members:{getHeight:function(e){return this._getHeight(e)},getWidth:function(e){return this._getWidth(e)},getContentHeight:function(e){return this._getContentHeight(e)},getContentWidth:function(e){return this._getContentWidth(e)},show:function(){this._forEachElementWrapped(function(e){var t,i=e.getStyle("display"),n=e[0].$$qPrevDisp;if("none"==i){if(n&&"none"!=n)t=n;else{var s=qxWeb.getDocument(e[0]);t=qx.module.Css.__getDisplayDefault(e[0].tagName,s)}e.setStyle("display",t);e[0].$$qPrevDisp="none"}});return this},hide:function(){this._forEachElementWrapped(function(e){var t=e.getStyle("display");if("none"!==t){e[0].$$qPrevDisp=t;e.setStyle("display","none")}});return this},getPosition:function(){var e=this[0];return qx.dom.Node.isElement(e)?qx.bom.element.Location.getPosition(e):null},getOffset:function(e){var t=this[0];return t&&qx.dom.Node.isElement(t)?qx.bom.element.Location.get(t,e):null},setStyle:function(e,t){/\w-\w/.test(e)&&(e=qx.lang.String.camelCase(e));this._forEachElement(function(i){qx.bom.element.Style.set(i,e,t)});return this},getStyle:function(e){if(this[0]&&qx.dom.Node.isElement(this[0])){/\w-\w/.test(e)&&(e=qx.lang.String.camelCase(e));return qx.bom.element.Style.get(this[0],e)}return null},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},getStyles:function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=this.getStyle(e[i]);return t},addClass:function(e){this._forEachElement(function(t){qx.bom.element.Class.add(t,e)});return this},addClasses:function(e){this._forEachElement(function(t){qx.bom.element.Class.addClasses(t,e)});return this},removeClass:function(e){this._forEachElement(function(t){qx.bom.element.Class.remove(t,e)});return this},removeClasses:function(e){this._forEachElement(function(t){qx.bom.element.Class.removeClasses(t,e)});return this},hasClass:function(e){return!(!this[0]||!qx.dom.Node.isElement(this[0]))&&qx.bom.element.Class.has(this[0],e)},getClass:function(){return this[0]&&qx.dom.Node.isElement(this[0])?qx.bom.element.Class.get(this[0]):""},toggleClass:function(e){var t=qx.bom.element.Class;this._forEachElement(function(i){t.has(i,e)?t.remove(i,e):t.add(i,e)});return this},toggleClasses:function(e){for(var t=0,i=e.length;t<i;t++)this.toggleClass(e[t]);return this},replaceClass:function(e,t){this._forEachElement(function(i){qx.bom.element.Class.replace(i,e,t)});return this}},defer:function(e){qxWeb.$attachAll(this);qxWeb.$attach({_getWidth:e._getWidth,_getHeight:e._getHeight,_getContentHeight:e._getContentHeight,_getContentWidth:e._getContentWidth})}});qx.module.Css.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.client.Engine":{require:!0},"qx.lang.normalize.Array":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.type.BaseArray",{extend:Array,construct:function(e){},members:{toArray:null,valueOf:null,pop:null,push:null,reverse:null,shift:null,sort:null,splice:null,unshift:null,concat:null,join:null,slice:null,toString:null,indexOf:null,lastIndexOf:null,forEach:null,filter:null,map:null,some:null,every:null}});!function(){function e(e){1===arguments.length&&"number"==typeof e?this.length=-1<e&&e===e>>.5?e:this.push(e):arguments.length&&this.push.apply(this,arguments)}function t(){}t.prototype=[];e.prototype=new t;e.prototype.length=0;qx.type.BaseArray=function(t){if("mshtml"==qx.core.Environment.get("engine.name")){e.prototype={length:0,$$isArray:!0};for(var i="pop.push.reverse.shift.sort.splice.unshift.join.slice".split("."),n=i.length;n;)e.prototype[i[--n]]=Array.prototype[i[n]]}var s=Array.prototype.slice;e.prototype.concat=function(){for(var t=this.slice(0),i=0,n=arguments.length;i<n;i++){var r;r=arguments[i]instanceof e?s.call(arguments[i],0):arguments[i]instanceof Array?arguments[i]:[arguments[i]];t.push.apply(t,r)}return t};e.prototype.toString=function(){return s.call(this,0).toString()};e.prototype.toLocaleString=function(){return s.call(this,0).toLocaleString()};e.prototype.constructor=e;e.prototype.indexOf=Array.prototype.indexOf;e.prototype.lastIndexOf=Array.prototype.lastIndexOf;e.prototype.forEach=Array.prototype.forEach;e.prototype.some=Array.prototype.some;e.prototype.every=Array.prototype.every;var r=Array.prototype.filter,o=Array.prototype.map;e.prototype.filter=function(){var e=new this.constructor;e.push.apply(e,r.apply(this,arguments));return e};e.prototype.map=function(){var e=new this.constructor;e.push.apply(e,o.apply(this,arguments));return e};e.prototype.slice=function(){var e=new this.constructor;e.push.apply(e,Array.prototype.slice.apply(this,arguments));return e};e.prototype.splice=function(){var e=new this.constructor;e.push.apply(e,Array.prototype.splice.apply(this,arguments));return e};e.prototype.toArray=function(){return Array.prototype.slice.call(this,0)};e.prototype.valueOf=function(){return this.length};return e}()}();qx.type.BaseArray.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",construct:!0,require:!0},"qx.type.BaseArray":{require:!0},"qx.lang.Array":{},"qx.bom.Selector":{construct:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qxWeb",{extend:qx.type.BaseArray,statics:{__init:[],$$qx:qx,$init:function(e,t){if(e.length&&1==e.length&&e[0]&&e[0].$widget instanceof qxWeb)return e[0].$widget;for(var i=[],n=0;n<e.length;n++){if(!(!e[n]||1!==e[n].nodeType&&9!==e[n].nodeType&&11!==e[n].nodeType))i.push(e[n]);else{!!(e[n]&&e[n].history&&e[n].location&&e[n].document)&&i.push(e[n])}}e[0]&&e[0].getAttribute&&e[0].getAttribute("data-qx-class")&&i.length<2&&(t=qx.Bootstrap.getByName(e[0].getAttribute("data-qx-class"))||t);var s=qx.lang.Array.cast(i,t);for(n=0;n<qxWeb.__init.length;n++)qxWeb.__init[n].call(s);return s},$attach:function(e,t){for(var i in e){if(void 0!=qxWeb.prototype[i]&&void 0==Array.prototype[i]&&!0!==t)throw new Error("Method '"+i+"' already available.");qxWeb.prototype[i]=e[i]}},$attachStatic:function(e,t){for(var i in e){if(void 0!=qxWeb[i]&&!0!==t)throw new Error("Method '"+i+"' already available as static method.");qxWeb[i]=e[i]}},$attachAll:function(e,t){for(var i in e.members)0!==i.indexOf("$")&&0!==i.indexOf("_")&&(qxWeb.prototype[i]=e.members[i]);var n;if(null!=t){qxWeb[t]=qxWeb[t]||{};n=qxWeb[t]}else n=qxWeb;for(var i in e.statics)0!==i.indexOf("$")&&0!==i.indexOf("_")&&"name"!==i&&"basename"!==i&&"classname"!==i&&"toString"!==i&&i!==i.toUpperCase()&&(n[i]=e.statics[i])},$attachInit:function(e){this.__init.push(e)},define:function(e,t){if(void 0==t){t=e;e=null}return qx.Bootstrap.define.call(qx.Bootstrap,e,t)}},construct:function(e,t){if(!e&&this instanceof qxWeb)return this;if(e)if(qx.Bootstrap.isString(e)){t instanceof qxWeb&&0!=t.length&&(t=t[0]);e=t instanceof qxWeb?[]:qx.bom.Selector.query(e,t)}else(1===e.nodeType||9===e.nodeType||11===e.nodeType||e.history&&e.location&&e.document)&&(e=[e]);else e=[];return qxWeb.$init(e,qxWeb)},members:{filter:function(e){return qx.lang.Type.isFunction(e)?qxWeb.$init(Array.prototype.filter.call(this,e),this.constructor):qxWeb.$init(qx.bom.Selector.matches(e,this),this.constructor)},unique:function(){var e=qx.lang.Array.unique(this);return qxWeb.$init(e,this.constructor)},slice:function(e,t){return void 0!==t?qxWeb.$init(Array.prototype.slice.call(this,e,t),this.constructor):qxWeb.$init(Array.prototype.slice.call(this,e),this.constructor)},splice:function(e,t,i){return qxWeb.$init(Array.prototype.splice.apply(this,arguments),this.constructor)},map:function(e,t){return qxWeb.$init(Array.prototype.map.apply(this,arguments),qxWeb)},concat:function(e){for(var t=Array.prototype.slice.call(this,0),i=0;i<arguments.length;i++)arguments[i]instanceof qxWeb?t=t.concat(Array.prototype.slice.call(arguments[i],0)):t.push(arguments[i]);return qxWeb.$init(t,this.constructor)},indexOf:function(e,t){if(!e)return-1;t||(t=0);if("number"!=typeof t)return-1;t<0&&(t=this.length+t)<0&&(t=0);qx.lang.Type.isArray(e)&&(e=e[0]);for(var i=t,n=this.length;i<n;i++)if(this[i]===e)return i;return-1},debug:function(){return this},logThis:function(){var e=[];this.forEach(function(t){e.push(t)});var t=this.length;console.group("*** Collection infos ***");console.info("Length:",t);console.info("Elements:",e);console.info("Instance:",this);console.groupEnd();return this},_forEachElement:function(e,t){for(var i=0,n=this.length;i<n;i++)!this[i]||1!==this[i].nodeType&&11!==this[i].nodeType||e.apply(t||this,[this[i],i,this]);return this},_forEachElementWrapped:function(e,t){this._forEachElement(function(t,i,n){e.apply(this,[qxWeb(t),i,n])},t);return this}},defer:function(e){void 0==window.q&&(window.q=e)}});qxWeb.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Selector",{statics:{query:null,matches:null}});!function(e){var t,i,n,s,r,o,a,l,u,c,d,h,g,m,f,p,_,x,q,v="sizzle"+1*new Date,b=e.document,y=0,C=0,w=oe(),E=oe(),S=oe(),T=function(e,t){e===t&&(d=!0);return 0},I={}.hasOwnProperty,A=[],D=A.pop,B=A.push,L=A.push,M=A.slice,P=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+O+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+R+"*\\]",N=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",W=new RegExp(R+"+","g"),$=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),V=new RegExp("^"+R+"*,"+R+"*"),H=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),j=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),U=new RegExp(N),z=new RegExp("^"+O+"$"),G={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},se=xe(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{L.apply(A=M.call(b.childNodes),b.childNodes);A[b.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){B.apply(e,M.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,s){var r,a,u,c,d,m,_,x=t&&t.ownerDocument,y=t?t.nodeType:9;n=n||[];if("string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!s){(t?t.ownerDocument||t:b)!==g&&h(t);t=t||g;if(f){if(11!==y&&(d=J.exec(e)))if(r=d[1]){if(9===y){if(!(u=t.getElementById(r)))return n;if(u.id===r){n.push(u);return n}}else if(x&&(u=x.getElementById(r))&&q(t,u)&&u.id===r){n.push(u);return n}}else{if(d[2]){L.apply(n,t.getElementsByTagName(e));return n}if((r=d[3])&&i.getElementsByClassName&&t.getElementsByClassName){L.apply(n,t.getElementsByClassName(r));return n}}if(i.qsa&&!S[e+" "]&&(!p||!p.test(e))){if(1!==y){x=t;_=e}else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ie):t.setAttribute("id",c=v);a=(m=o(e)).length;for(;a--;)m[a]="#"+c+" "+_e(m[a]);_=m.join(",");x=Q.test(e)&&fe(t.parentNode)||t}if(_)try{L.apply(n,x.querySelectorAll(_));return n}catch(e){}finally{c===v&&t.removeAttribute("id")}}}}return l(e.replace($,"$1"),t,n,s)}function oe(){var e=[];return function t(i,s){e.push(i+" ")>n.cacheLength&&delete t[e.shift()];return t[i+" "]=s}}function ae(e){e[v]=!0;return e}function le(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ue(e,t){for(var i=e.split("|"),s=i.length;s--;)n.attrHandle[i[s]]=t}function ce(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ge(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!se(t))!==e)}}function me(e){return ae(function(t){t=+t;return ae(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}i=re.support={};r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName};h=re.setDocument=function(e){var t,s,o=e?e.ownerDocument||e:b;if(o===g||9!==o.nodeType||!o.documentElement)return g;m=(g=o).documentElement;f=!r(g);b!==g&&(s=g.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",ne,!1):s.attachEvent&&s.attachEvent("onunload",ne));i.attributes=le(function(e){e.className="i";return!e.getAttribute("className")});i.getElementsByTagName=le(function(e){e.appendChild(g.createComment(""));return!e.getElementsByTagName("*").length});i.getElementsByClassName=K.test(g.getElementsByClassName);i.getById=le(function(e){m.appendChild(e).id=v;return!g.getElementsByName||!g.getElementsByName(v).length});if(i.getById){n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var i=t.getElementById(e);return i?[i]:[]}};n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}}}else{delete n.find.ID;n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}}n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r};n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)};_=[];p=[];if(i.qsa=K.test(g.querySelectorAll)){le(function(e){m.appendChild(e).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>";e.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+R+"*(?:''|\"\")");e.querySelectorAll("[selected]").length||p.push("\\["+R+"*(?:value|"+k+")");e.querySelectorAll("[id~="+v+"-]").length||p.push("~=");e.querySelectorAll(":checked").length||p.push(":checked");e.querySelectorAll("a#"+v+"+*").length||p.push(".#.+[+~]")});le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");e.querySelectorAll("[name=d]").length&&p.push("name"+R+"*[*^$|!~]?=");2!==e.querySelectorAll(":enabled").length&&p.push(":enabled",":disabled");m.appendChild(e).disabled=!0;2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled");e.querySelectorAll("*,:x");p.push(",.*:")})}(i.matchesSelector=K.test(x=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&le(function(e){i.disconnectedMatch=x.call(e,"*");x.call(e,"[s!='']:x");_.push("!=",N)});p=p.length&&new RegExp(p.join("|"));_=_.length&&new RegExp(_.join("|"));t=K.test(m.compareDocumentPosition);q=t||K.test(m.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};T=t?function(e,t){if(e===t){d=!0;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===g||e.ownerDocument===b&&q(b,e)?-1:t===g||t.ownerDocument===b&&q(b,t)?1:c?P(c,e)-P(c,t):0:4&n?-1:1)}:function(e,t){if(e===t){d=!0;return 0}var i,n=0,s=e.parentNode,r=t.parentNode,o=[e],a=[t];if(!s||!r)return e===g?-1:t===g?1:s?-1:r?1:c?P(c,e)-P(c,t):0;if(s===r)return ce(e,t);i=e;for(;i=i.parentNode;)o.unshift(i);i=t;for(;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ce(o[n],a[n]):o[n]===b?-1:a[n]===b?1:0};return g};re.matches=function(e,t){return re(e,null,null,t)};re.matchesSelector=function(e,t){(e.ownerDocument||e)!==g&&h(e);t=t.replace(j,"='$1']");if(i.matchesSelector&&f&&!S[t+" "]&&(!_||!_.test(t))&&(!p||!p.test(t)))try{var n=x.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,g,null,[e]).length>0};re.contains=function(e,t){(e.ownerDocument||e)!==g&&h(e);return q(e,t)};re.attr=function(e,t){(e.ownerDocument||e)!==g&&h(e);var s=n.attrHandle[t.toLowerCase()],r=s&&I.call(n.attrHandle,t.toLowerCase())?s(e,t,!f):void 0;return void 0!==r?r:i.attributes||!f?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null};re.escape=function(e){return(e+"").replace(te,ie)};re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};re.uniqueSort=function(e){var t,n=[],s=0,r=0;d=!i.detectDuplicates;c=!i.sortStable&&e.slice(0);e.sort(T);if(d){for(;t=e[r++];)t===e[r]&&(s=n.push(r));for(;s--;)e.splice(n[s],1)}c=null;return e};s=re.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=s(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=s(t);return i};(n=re.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(Z,ee);e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee);"~="===e[2]&&(e[3]=" "+e[3]+" ");return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if("nth"===e[1].slice(0,3)){e[3]||re.error(e[0]);e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]));e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&re.error(e[0]);return e},PSEUDO:function(e){var t,i=!e[6]&&e[2];if(G.CHILD.test(e[0]))return null;if(e[3])e[2]=e[4]||e[5]||"";else if(i&&U.test(i)&&(t=o(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)){e[0]=e[0].slice(0,t);e[2]=i.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var s=re.attr(n,e);if(null==s)return"!="===t;if(!t)return!0;s+="";return"="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.slice(-i.length)===i:"~="===t?(" "+s.replace(W," ")+" ").indexOf(i)>-1:"|="===t&&(s===i||s.slice(0,i.length+1)===i+"-")}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var u,c,d,h,g,m,f=r!==o?"nextSibling":"previousSibling",p=t.parentNode,_=a&&t.nodeName.toLowerCase(),x=!l&&!a,q=!1;if(p){if(r){for(;f;){h=t;for(;h=h[f];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}m=[o?p.firstChild:p.lastChild];if(o&&x){q=(g=(u=(c=(d=(h=p)[v]||(h[v]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===y&&u[1])&&u[2];h=g&&p.childNodes[g];for(;h=++g&&h&&h[f]||(q=g=0)||m.pop();)if(1===h.nodeType&&++q&&h===t){c[e]=[y,g,q];break}}else{x&&(q=g=(u=(c=(d=(h=t)[v]||(h[v]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===y&&u[1]);if(!1===q)for(;h=++g&&h&&h[f]||(q=g=0)||m.pop();)if((a?h.nodeName.toLowerCase()===_:1===h.nodeType)&&++q){x&&((c=(d=h[v]||(h[v]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[y,q]);if(h===t)break}}return(q-=s)===n||q%n==0&&q/n>=0}}},PSEUDO:function(e,t){var i,s=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);if(s[v])return s(t);if(s.length>1){i=[e,e,"",t];return n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,r=s(e,t),o=r.length;o--;)e[n=P(e,r[o])]=!(i[n]=r[o])}):function(e){return s(e,0,i)}}return s}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace($,"$1"));return n[v]?ae(function(e,t,i,s){for(var r,o=n(e,null,s,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,s,r){t[0]=e;n(t,null,r,i);t[0]=null;return!i.pop()}}),has:ae(function(e){return function(t){return re(e,t).length>0}}),contains:ae(function(e){e=e.replace(Z,ee);return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:ae(function(e){z.test(e||"")||re.error("unsupported lang: "+e);e=e.replace(Z,ee).toLowerCase();return function(t){var i;do{if(i=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,i){return[i<0?i+t:i]}),even:me(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:me(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:me(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:me(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function pe(){}pe.prototype=n.filters=n.pseudos;n.setFilters=new pe;o=re.tokenize=function(e,t){var i,s,r,o,a,l,u,c=E[e+" "];if(c)return t?0:c.slice(0);a=e;l=[];u=n.preFilter;for(;a;){if(!i||(s=V.exec(a))){s&&(a=a.slice(s[0].length)||a);l.push(r=[])}i=!1;if(s=H.exec(a)){i=s.shift();r.push({value:i,type:s[0].replace($," ")});a=a.slice(i.length)}for(o in n.filter)if((s=G[o].exec(a))&&(!u[o]||(s=u[o](s)))){i=s.shift();r.push({value:i,type:o,matches:s});a=a.slice(i.length)}if(!i)break}return t?a.length:a?re.error(e):E(e,l).slice(0)};function _e(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function xe(e,t,i){var n=t.dir,s=t.next,r=s||n,o=i&&"parentNode"===r,a=C++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,l){var u,c,d,h=[y,a];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o){c=(d=t[v]||(t[v]={}))[t.uniqueID]||(d[t.uniqueID]={});if(s&&s===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[r])&&u[0]===y&&u[1]===a)return h[2]=u[2];c[r]=h;if(h[2]=e(t,i,l))return!0}}}}function qe(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function ve(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,u=null!=t;a<l;a++)if((r=e[a])&&(!i||i(r,n,s))){o.push(r);u&&t.push(a)}return o}function be(e,t,i,n,s,r){n&&!n[v]&&(n=be(n));s&&!s[v]&&(s=be(s,r));return ae(function(r,o,a,l){var u,c,d,h=[],g=[],m=o.length,f=r||function(e,t,i){for(var n=0,s=t.length;n<s;n++)re(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),p=!e||!r&&t?f:ve(f,h,e,a,l),_=i?s||(r?e:m||n)?[]:o:p;i&&i(p,_,a,l);if(n){u=ve(_,g);n(u,[],a,l);c=u.length;for(;c--;)(d=u[c])&&(_[g[c]]=!(p[g[c]]=d))}if(r){if(s||e){if(s){u=[];c=_.length;for(;c--;)(d=_[c])&&u.push(p[c]=d);s(null,_=[],u,l)}c=_.length;for(;c--;)(d=_[c])&&(u=s?P(r,d):h[c])>-1&&(r[u]=!(o[u]=d))}}else{_=ve(_===o?_.splice(m,_.length):_);s?s(null,o,_,l):L.apply(o,_)}})}function ye(e){for(var t,i,s,r=e.length,o=n.relative[e[0].type],a=o||n.relative[" "],l=o?1:0,c=xe(function(e){return e===t},a,!0),d=xe(function(e){return P(t,e)>-1},a,!0),h=[function(e,i,n){var s=!o&&(n||i!==u)||((t=i).nodeType?c(e,i,n):d(e,i,n));t=null;return s}];l<r;l++)if(i=n.relative[e[l].type])h=[xe(qe(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[v]){s=++l;for(;s<r&&!n.relative[e[s].type];s++);return be(l>1&&qe(h),l>1&&_e(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace($,"$1"),i,l<s&&ye(e.slice(l,s)),s<r&&ye(e=e.slice(s)),s<r&&_e(e))}h.push(i)}return qe(h)}a=re.compile=function(e,t){var i,s=[],r=[],a=S[e+" "];if(!a){t||(t=o(e));i=t.length;for(;i--;)(a=ye(t[i]))[v]?s.push(a):r.push(a);(a=S(e,function(e,t){var i=t.length>0,s=e.length>0,r=function(r,o,a,l,c){var d,m,p,_=0,x="0",q=r&&[],v=[],b=u,C=r||s&&n.find.TAG("*",c),w=y+=null==b?1:Math.random()||.1,E=C.length;c&&(u=o===g||o||c);for(;x!==E&&null!=(d=C[x]);x++){if(s&&d){m=0;if(!o&&d.ownerDocument!==g){h(d);a=!f}for(;p=e[m++];)if(p(d,o||g,a)){l.push(d);break}c&&(y=w)}if(i){(d=!p&&d)&&_--;r&&q.push(d)}}_+=x;if(i&&x!==_){m=0;for(;p=t[m++];)p(q,v,o,a);if(r){if(_>0)for(;x--;)q[x]||v[x]||(v[x]=D.call(l));v=ve(v)}L.apply(l,v);c&&!r&&v.length>0&&_+t.length>1&&re.uniqueSort(l)}if(c){y=w;u=b}return q};return i?ae(r):r}(r,s))).selector=e}return a};l=re.select=function(e,t,s,r){var l,u,c,d,h,g="function"==typeof e&&e,m=!r&&o(e=g.selector||e);s=s||[];if(1===m.length){if((u=m[0]=m[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&i.getById&&9===t.nodeType&&f&&n.relative[u[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return s;g&&(t=t.parentNode);e=e.slice(u.shift().value.length)}l=G.needsContext.test(e)?0:u.length;for(;l--;){c=u[l];if(n.relative[d=c.type])break;if((h=n.find[d])&&(r=h(c.matches[0].replace(Z,ee),Q.test(u[0].type)&&fe(t.parentNode)||t))){u.splice(l,1);if(!(e=r.length&&_e(u))){L.apply(s,r);return s}break}}}(g||a(e,m))(r,t,!f,s,!t||Q.test(e)&&fe(t.parentNode)||t);return s};i.sortStable=v.split("").sort(T).join("")===v;i.detectDuplicates=!!d;h();i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))});le(function(e){e.innerHTML="<a href='#'></a>";return"#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)});i.attributes&&le(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue});le(function(e){return null==e.getAttribute("disabled")})||ue(k,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null});qx.bom.Selector.query=function(e,t){return re(e,t)};qx.bom.Selector.matches=function(e,t){return re(e,null,null,t)}}(window);qx.bom.Selector.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Function":{require:!0},"qx.lang.normalize.String":{require:!0},"qx.lang.normalize.Date":{require:!0},"qx.lang.normalize.Array":{require:!0},"qx.lang.normalize.Error":{require:!0},"qx.lang.normalize.Object":{require:!0},"qx.lang.normalize.Number":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Polyfill",{});qx.module.Polyfill.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Browser":{defer:"runtime"},"qx.bom.client.Engine":{defer:"runtime"},"qx.bom.client.Device":{defer:"runtime"},"qx.bom.client.Event":{defer:"runtime"},qxWeb:{defer:"runtime"}},environment:{provided:[],required:{"browser.name":{defer:!0,className:"qx.bom.client.Browser"},"browser.version":{defer:!0,className:"qx.bom.client.Browser"},"browser.quirksmode":{defer:!0,className:"qx.bom.client.Browser"},"browser.documentmode":{defer:!0,className:"qx.bom.client.Browser"},"engine.name":{defer:!0,className:"qx.bom.client.Engine"},"engine.version":{defer:!0,className:"qx.bom.client.Engine"},"device.name":{defer:!0,className:"qx.bom.client.Device"},"device.type":{defer:!0,className:"qx.bom.client.Device"},"event.touch":{defer:!0,className:"qx.bom.client.Event"},"event.mspointer":{defer:!0,className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Environment",{statics:{get:function(e){return qx.core.Environment.get(e)},add:function(e,t){qx.core.Environment.add(e,t);return this}},defer:function(e){qx.core.Environment.get("browser.name");qx.core.Environment.get("browser.version");qx.core.Environment.get("browser.quirksmode");qx.core.Environment.get("browser.documentmode");qx.core.Environment.get("engine.name");qx.core.Environment.get("engine.version");qx.core.Environment.get("device.name");qx.core.Environment.get("device.type");qx.core.Environment.get("event.touch");qx.core.Environment.get("event.mspointer");qxWeb.$attachAll(this,"env")}});qx.module.Environment.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.event.PointerHandler":{defer:"runtime"},"qx.module.Polyfill":{require:!0,defer:"runtime"},"qx.module.Environment":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},qxWeb:{defer:"runtime"},"qx.bom.Event":{},"qx.lang.Type":{},"qx.lang.Array":{},"qx.event.Emitter":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Event",{statics:{__normalizations:{},__hooks:{on:{},off:{}},__isReady:!1,ready:function(e){if("complete"!==document.readyState){var t=function(){qx.module.Event.__isReady=!0;e()};qxWeb(window).on("load",t);var i=function(){qxWeb(window).off("load",t);e()};if("mshtml"!==qxWeb.env.get("engine.name")||qxWeb.env.get("browser.documentmode")>8)qx.bom.Event.addNativeListener(document,"DOMContentLoaded",i);else{!function e(){if(!qx.module.Event.__isReady)try{document.documentElement.doScroll("left");document.body&&i()}catch(t){window.setTimeout(e,100)}}()}}else window.setTimeout(e,1)},$registerEventNormalization:function(e,t){qx.lang.Type.isArray(e)||(e=[e]);for(var i=qx.module.Event.__normalizations,n=0,s=e.length;n<s;n++){var r=e[n];if(qx.lang.Type.isFunction(t)){i[r]||(i[r]=[]);i[r].push(t)}}},$unregisterEventNormalization:function(e,t){qx.lang.Type.isArray(e)||(e=[e]);for(var i=qx.module.Event.__normalizations,n=0,s=e.length;n<s;n++){var r=e[n];i[r]&&qx.lang.Array.remove(i[r],t)}},$getEventNormalizationRegistry:function(){return qx.module.Event.__normalizations},$registerEventHook:function(e,t,i){qx.lang.Type.isArray(e)||(e=[e]);for(var n=qx.module.Event.__hooks.on,s=0,r=e.length;s<r;s++){var o=e[s];if(qx.lang.Type.isFunction(t)){n[o]||(n[o]=[]);n[o].push(t)}}if(i){var a=qx.module.Event.__hooks.off;for(s=0,r=e.length;s<r;s++){o=e[s];if(qx.lang.Type.isFunction(i)){a[o]||(a[o]=[]);a[o].push(i)}}}},$unregisterEventHook:function(e,t,i){qx.lang.Type.isArray(e)||(e=[e]);for(var n=qx.module.Event.__hooks.on,s=0,r=e.length;s<r;s++){n[a=e[s]]&&qx.lang.Array.remove(n[a],t)}if(i){var o=qx.module.Event.__hooks.off;for(s=0,r=e.length;s<r;s++){var a;o[a=e[s]]&&qx.lang.Array.remove(o[a],i)}}},$getEventHookRegistry:function(){return qx.module.Event.__hooks}},members:{on:function(e,t,i,n){for(var s=0;s<this.length;s++){var r=this[s],o=i||qxWeb(r),a=qx.module.Event.__hooks.on,l=a["*"]||[];a[e]&&(l=l.concat(a[e]));for(var u=0,c=l.length;u<c;u++)l[u](r,e,t,i);var d=function(i,n){var s=qx.module.Event.__normalizations,r=s["*"]||[];s[e]&&(r=r.concat(s[e]));for(var o=0,a=r.length;o<a;o++)n=r[o](n,i,e);t.apply(this,[n])}.bind(o,r);d.original=t;qx.bom.Event.addNativeListener(r,e,d,n);r.$$emitter||(r.$$emitter=new qx.event.Emitter);r.$$lastlistenerId=r.$$emitter.on(e,d,o);r.$$emitter.getEntryById(r.$$lastlistenerId).useCapture=!!n;r.__listener||(r.__listener={});r.__listener[e]||(r.__listener[e]={});r.__listener[e][r.$$lastlistenerId]=d;if(!i){r.__ctx||(r.__ctx={});r.__ctx[r.$$lastlistenerId]=o}}return this},off:function(e,t,i,n){for(var s=null===t&&null===i,r=0;r<this.length;r++){var o=this[r];if(o.__listener){var a=[];if(null!==e)a.push(e);else for(var l in o.__listener)a.push(l);for(var u=0,c=a.length;u<c;u++){for(var d in o.__listener[a[u]]){var h=o.__listener[a[u]][d];if(s||h==t||h.original==t){var g,m=void 0!==o.__ctx&&o.__ctx[d];!i&&m&&(g=o.__ctx[d]);var f=o.$$emitter.off(a[u],h,g||i);(s||h.original==t)&&qx.bom.Event.removeNativeListener(o,a[u],h,n);null!==f&&delete o.__listener[a[u]][d];m&&delete o.__ctx[d]}}var p=qx.module.Event.__hooks.off,_=p["*"]||[];p[e]&&(_=_.concat(p[e]));for(var x=0,q=_.length;x<q;x++)_[x](o,e,t,i)}}}return this},allOff:function(e){return this.off(e||null,null,null)},offById:function(e){var t=this[0].$$emitter.getEntryById(e);return this.off(t.name,t.listener.original,t.ctx,t.useCapture)},emit:function(e,t){for(var i=0;i<this.length;i++){var n=this[i];n.$$emitter&&n.$$emitter.emit(e,t)}return this},once:function(e,t,i){var n=this;this.on(e,function s(r){n.off(e,s,i);t.call(this,r)},i);return this},hasListener:function(e,t,i){if(!this[0]||!this[0].$$emitter||!this[0].$$emitter.getListeners()[e])return!1;if(t){for(var n=this[0].$$emitter.getListeners()[e],s=0;s<n.length;s++){var r=!1;n[s].listener==t&&(r=!0);n[s].listener.original&&n[s].listener.original==t&&(r=!0);if(r){if(void 0===i)return!0;if(n[s].ctx===i)return!0}}return!1}return this[0].$$emitter.getListeners()[e].length>0},copyEventsTo:function(e){for(var t=this.concat(),i=e.concat(),n=t.length-1;n>=0;n--)for(var s=t[n].getElementsByTagName("*"),r=0;r<s.length;r++)t.push(s[r]);for(n=i.length-1;n>=0;n--)for(s=i[n].getElementsByTagName("*"),r=0;r<s.length;r++)i.push(s[r]);i.forEach(function(e){e.$$emitter=null});for(n=0;n<t.length;n++){var o=t[n];if(o.$$emitter){var a=o.$$emitter.getListeners();for(var l in a)for(r=a[l].length-1;r>=0;r--){var u=a[l][r].listener;u.original&&(u=u.original);qxWeb(i[n]).on(l,u,a[l][r].ctx)}}}},hover:function(e,t){this.on("pointerover",e,this);qx.lang.Type.isFunction(t)&&this.on("pointerout",t,this);return this},onMatchTarget:function(e,t,i,n){n=void 0!==n?n:this;var s=function(e){var s=qxWeb(e.getTarget());if(s.is(t))i.call(n,s,qxWeb.object.clone(e));else for(var r="string"==typeof t?this.find(t):qxWeb(t),o=0,a=r.length;o<a;o++)if(s.isChildOf(qxWeb(r[o]))){i.call(n,s,qxWeb.object.clone(e));break}};this.forEach(function(t){var r={type:e,listener:s,callback:i,context:n};t.$$matchTargetInfo||(t.$$matchTargetInfo=[]);t.$$matchTargetInfo.push(r)});this.on(e,s);return this},offMatchTarget:function(e,t,i,n){n=void 0!==n?n:this;this.forEach(function(t){if(t.$$matchTargetInfo&&"Array"==qxWeb.type.get(t.$$matchTargetInfo)){for(var s=t.$$matchTargetInfo,r=s.length-1;r>=0;r--){var o=s[r];if(o.type==e&&o.callback==i&&o.context==n){this.off(e,o.listener);s.splice(r,1)}}0===s.length&&(t.$$matchTargetInfo=null)}},this);return this}},defer:function(e){qxWeb.$attachAll(this);qxWeb.$attachStatic({$registerEventNormalization:e.$registerEventNormalization,$unregisterEventNormalization:e.$unregisterEventNormalization,$getEventNormalizationRegistry:e.$getEventNormalizationRegistry,$registerEventHook:e.$registerEventHook,$unregisterEventHook:e.$unregisterEventHook,$getEventHookRegistry:e.$getEventHookRegistry})}});qx.module.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.Event":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Event":{},"qx.event.Emitter":{},"qx.event.handler.PointerCore":{},qxWeb:{defer:"runtime"}},environment:{provided:[],required:{"event.dispatchevent":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.event.PointerHandler",{statics:{TYPES:["pointermove","pointerover","pointerout","pointerdown","pointerup","pointercancel","gesturebegin","gesturemove","gesturefinish","gesturecancel"],register:function(e,t){if(!e.$$pointerHandler){qx.core.Environment.get("event.dispatchevent")||e.$$emitter||(e.$$emitter=new qx.event.Emitter);e.$$pointerHandler=new qx.event.handler.PointerCore(e,e.$$emitter)}},unregister:function(e){if(e.$$pointerHandler){if("qx.event.handler.Pointer"===e.$$pointerHandler.classname)return;var t=e.$$emitter.getListeners();for(var i in t)if(-1!==qx.module.event.PointerHandler.TYPES.indexOf(i)&&t[i].length>0)return;e.$$pointerHandler.dispose();e.$$pointerHandler=void 0}}},defer:function(e){qxWeb.$registerEventHook(e.TYPES,e.register,e.unregister)}});qx.module.event.PointerHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.Css":{require:!0,defer:"runtime"},"qx.module.Event":{require:!0,defer:"runtime"},"qx.module.Environment":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Animation":{},qxWeb:{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Animation",{events:{animationStart:void 0,animationIteration:void 0,animationEnd:void 0},statics:{_fadeOut:{duration:700,timing:"ease-out",keep:100,keyFrames:{0:{opacity:1},100:{opacity:0,display:"none"}}},_fadeIn:{duration:700,timing:"ease-in",keep:100,keyFrames:{0:{opacity:0},100:{opacity:1}}},_animate:function(e,t,i){this._forEachElement(function(n,s){n.$$animation&&n.$$animation.stop();var r;r=i?qx.bom.element.Animation.animateReverse(n,e,t):qx.bom.element.Animation.animate(n,e,t);var o=this;if(0==s){r.on("start",function(){o.emit("animationStart")},r);r.on("iteration",function(){o.emit("animationIteration")},r)}r.on("end",function(){for(var e=0;e<o.length;e++)if(o[e].$$animation)return;o.emit("animationEnd")},n)})}},members:{getAnimationHandles:function(){for(var e=[],t=0;t<this.length;t++)e[t]=this[t].$$animation;return e},animate:function(e,t){qx.module.Animation._animate.bind(this)(e,t,!1);return this},animateReverse:function(e,t){qx.module.Animation._animate.bind(this)(e,t,!0);return this},play:function(){for(var e=0;e<this.length;e++){var t=this[e].$$animation;t&&t.play()}return this},pause:function(){for(var e=0;e<this.length;e++){var t=this[e].$$animation;t&&t.pause()}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e].$$animation;t&&t.stop()}return this},isPlaying:function(){for(var e=0;e<this.length;e++){var t=this[e].$$animation;if(t&&t.isPlaying())return!0}return!1},isEnded:function(){for(var e=0;e<this.length;e++){var t=this[e].$$animation;if(t&&!t.isEnded())return!1}return!0},fadeIn:function(e){this.setStyle("display","");return this.animate(qx.module.Animation._fadeIn,e)},fadeOut:function(e){return this.animate(qx.module.Animation._fadeOut,e)}},defer:function(e){qxWeb.$attachAll(this);"ie"===qxWeb.env.get("browser.name")&&qxWeb.env.get("browser.version")<=9&&(e._fadeIn.keyFrames[100].opacity=.99)}});qx.module.Animation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.Animation":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.log.Logger":{},"qx.bom.Element":{},"qx.dom.Hierarchy":{},"qx.bom.client.Engine":{},"qx.bom.element.Scroll":{},"qx.bom.Selection":{},"qx.event.handler.Appear":{},"qx.event.Registration":{defer:"runtime"},"qx.event.handler.Focus":{},"qx.event.dispatch.MouseCapture":{},"qx.core.Assert":{},"qx.dom.Element":{},"qx.core.Id":{},"qx.bom.element.Attribute":{},"qx.bom.element.Style":{},"qx.lang.Array":{},"qx.bom.client.Css":{},"qx.event.Manager":{},"qx.util.DeferredCall":{defer:"runtime"},"qx.core.ObjectRegistry":{defer:"runtime"}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"module.objectid":{},"css.userselect":{className:"qx.bom.client.Css"},"css.userselect.none":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Element",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e,t,i){qx.core.Object.constructor.call(this);this.__nodeName=e||"div";this.__styleValues=t||null;this.__attribValues=i||null},statics:{DEBUG:!1,_modified:{},_visibility:{},_scroll:{},_actions:[],__selection:{},__focusHandler:null,__mouseCapture:null,_scheduleFlush:function(e){qx.html.Element.__deferredCall.schedule()},flush:function(){var e;this.DEBUG&&qx.log.Logger.debug(this,"Flushing elements...");var t=this.__getFocusHandler(),i=t.getFocus();i&&this.__willBecomeInvisible(i)&&t.blur(i);var n=t.getActive();n&&this.__willBecomeInvisible(n)&&qx.bom.Element.deactivate(n);var s=this.__getCaptureElement();s&&this.__willBecomeInvisible(s)&&qx.bom.Element.releaseCapture(s);var r=[],o=this._modified;for(var a in o)if((e=o[a]).__willBeSeeable()||"qx.html.Iframe"==e.classname){if(e.__element&&qx.dom.Hierarchy.isRendered(e.__element))r.push(e);else{this.DEBUG&&e.debug("Flush invisible element");e.__flush()}delete o[a]}for(var l=0,u=r.length;l<u;l++){e=r[l];this.DEBUG&&e.debug("Flush rendered element");e.__flush()}var c=this._visibility;for(var a in c){if(_=(e=c[a]).__element){this.DEBUG&&qx.log.Logger.debug(this,"Switching visibility to: "+e.__visible);if(!e.$$disposed){_.style.display=e.__visible?"":"none";"mshtml"==qx.core.Environment.get("engine.name")&&(document.documentMode>=8||(_.style.visibility=e.__visible?"visible":"hidden"))}delete c[a]}else delete c[a]}var d=this._scroll;for(var a in d){if((v=(e=d[a]).__element)&&v.offsetWidth){var h=!0;if(null!=e.__lazyScrollX){e.__element.scrollLeft=e.__lazyScrollX;delete e.__lazyScrollX}if(null!=e.__lazyScrollY){e.__element.scrollTop=e.__lazyScrollY;delete e.__lazyScrollY}var g=e.__lazyScrollIntoViewX;if(null!=g){if((f=g.element.getDomElement())&&f.offsetWidth){qx.bom.element.Scroll.intoViewX(f,v,g.align);delete e.__lazyScrollIntoViewX}else h=!1}var m=e.__lazyScrollIntoViewY;if(null!=m){var f;if((f=m.element.getDomElement())&&f.offsetWidth){qx.bom.element.Scroll.intoViewY(f,v,m.align);delete e.__lazyScrollIntoViewY}else h=!1}h&&delete d[a]}}var p={releaseCapture:1,blur:1,deactivate:1};for(l=0;l<this._actions.length;l++){var _,x=this._actions[l];if((_=x.element.__element)&&(p[x.type]||x.element.__willBeSeeable())){var q=x.args;q.unshift(_);qx.bom.Element[x.type].apply(qx.bom.Element,q)}}this._actions=[];for(var a in this.__selection){var v,b=this.__selection[a];if(v=b.element.__element){qx.bom.Selection.set(v,b.start,b.end);delete this.__selection[a]}}qx.event.handler.Appear.refresh()},__getFocusHandler:function(){if(!this.__focusHandler){var e=qx.event.Registration.getManager(window);this.__focusHandler=e.getHandler(qx.event.handler.Focus)}return this.__focusHandler},__getCaptureElement:function(){if(!this.__mouseCapture){var e=qx.event.Registration.getManager(window);this.__mouseCapture=e.getDispatcher(qx.event.dispatch.MouseCapture)}return this.__mouseCapture.getCaptureElement()},__willBecomeInvisible:function(e){var t=this.fromDomElement(e);return t&&!t.__willBeSeeable()},fromDomElement:function(e){qx.core.Assert.assertTrue(!e.$$element&&!e.$$elementObject||e.$$element===e.$$elementObject.toHashCode());return e.$$elementObject}},members:{__nodeName:null,__element:null,__widget:null,__root:!1,__included:!0,__visible:!0,__lazyScrollIntoViewX:null,__lazyScrollIntoViewY:null,__lazyScrollX:null,__lazyScrollY:null,__styleJobs:null,__attribJobs:null,__propertyJobs:null,__styleValues:null,__attribValues:null,__propertyValues:null,__eventValues:null,__children:null,__modifiedChildren:null,__parent:null,_scheduleChildrenUpdate:function(){if(!this.__modifiedChildren){this.__modifiedChildren=!0;qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}},_createDomElement:function(){return qx.dom.Element.create(this.__nodeName)},connectWidget:function(e){qx.core.Assert.assertTrue(!this.__widget||this.__widget===e);this.__widget=e;if(this.__element){qx.core.Assert.assertTrue(!this.__element.$$widget&&!this.__element.$$widgetObject||this.__element.$$widgetObject===e&&this.__element.$$widget===e.toHashCode());this.__element.$$widget=e.toHashCode();this.__element.$$widgetObject=e}qx.core.Environment.get("module.objectid")&&this.updateObjectId()},disconnectWidget:function(e){qx.core.Assert.assertTrue(this.__widget===e);delete this.__widget;if(this.__element){qx.core.Assert.assertTrue(!this.__element.$$widget&&!this.__element.$$widgetObject||this.__element.$$widgetObject===e&&this.__element.$$widget===e.toHashCode());this.__element.$$widget="";delete this.__element.$$widgetObject}qx.core.Environment.get("module.objectid")&&this.updateObjectId()},__connectDomElement:function(e){qx.core.Assert.assertTrue(!this.__element||this.__element===e);qx.core.Assert.assertTrue(e.$$elementObject===this&&e.$$element===this.toHashCode()||!e.$$elementObject&&!e.$$element);this.__element=e;e.$$elementObject=this;e.$$element=this.toHashCode();if(this.__widget){e.$$widget=this.__widget.toHashCode();e.$$widgetObject=this.__widget}},__flush:function(){this.DEBUG&&this.debug("Flush: "+this.getAttribute("id"));var e,t=this.__children;if(t){e=t.length;for(var i,n=0;n<e;n++)(i=t[n]).__visible&&i.__included&&!i.__element&&i.__flush()}if(this.__element){this._syncData();this.__modifiedChildren&&this._syncChildren()}else{this.__connectDomElement(this._createDomElement());this._copyData(!1);t&&e>0&&this._insertChildren()}delete this.__modifiedChildren},_insertChildren:function(){var e,t=this.__children,i=t.length;if(i>2){for(var n=document.createDocumentFragment(),s=0;s<i;s++)(e=t[s]).__element&&e.__included&&n.appendChild(e.__element);this.__element.appendChild(n)}else for(n=this.__element,s=0;s<i;s++)(e=t[s]).__element&&e.__included&&n.appendChild(e.__element)},_syncChildren:function(){for(var e,t,i,n=this.__children,s=n.length,r=this.__element,o=r.childNodes,a=0,l=0,u=o.length-1;u>=0;u--){i=o[u];if(!(t=qx.html.Element.fromDomElement(i))||!t.__included||t.__parent!==this){r.removeChild(i);l++}}for(u=0;u<s;u++)if((e=n[u]).__included){t=e.__element;i=o[a];if(!t)continue;if(t!=i){i?r.insertBefore(t,i):r.appendChild(t);l++}a++}qx.html.Element.DEBUG&&this.debug("Synced DOM with "+l+" operations")},updateObjectId:function(){if(qx.core.Environment.get("module.objectid")){var e=null;this.__widget&&this.__widget.getQxObjectId()&&(e=qx.core.Id.getAbsoluteIdOf(this.__widget,!0)||null);this.setAttribute("data-qx-object-id",e,!0)}},_copyData:function(e){var t,i=this.__element;if(t=this.__attribValues){var n=qx.bom.element.Attribute;for(var s in t)n.set(i,s,t[s])}if(t=this.__styleValues){var r=qx.bom.element.Style;e?r.setStyles(i,t):r.setCss(i,r.compile(t))}if(t=this.__propertyValues)for(var s in t)this._applyProperty(s,t[s]);if(t=this.__eventValues){qx.event.Registration.getManager(i).importListeners(i,t);delete this.__eventValues}},_syncData:function(){var e,t=this.__element,i=qx.bom.element.Attribute,n=qx.bom.element.Style;if(e=this.__attribJobs){if(o=this.__attribValues){for(var s in e)void 0!==(a=o[s])?i.set(t,s,a):i.reset(t,s)}this.__attribJobs=null}if(e=this.__styleJobs){if(o=this.__styleValues){var r={};for(var s in e)r[s]=o[s];n.setStyles(t,r)}this.__styleJobs=null}if(e=this.__propertyJobs){var o;if(o=this.__propertyValues){var a;for(var s in e)this._applyProperty(s,o[s])}this.__propertyJobs=null}},__willBeSeeable:function(){for(var e=this;e;){if(e.__root)return!0;if(!e.__included||!e.__visible)return!1;e=e.__parent}return!1},__addChildHelper:function(e){if(e.__parent===this)throw new Error("Child is already in: "+e);if(e.__root)throw new Error("Root elements could not be inserted into other ones.");e.__parent&&e.__parent.remove(e);e.__parent=this;this.__children||(this.__children=[]);this.__element&&this._scheduleChildrenUpdate()},__removeChildHelper:function(e){if(e.__parent!==this)throw new Error("Has no child: "+e);this.__element&&this._scheduleChildrenUpdate();delete e.__parent},__moveChildHelper:function(e){if(e.__parent!==this)throw new Error("Has no child: "+e);this.__element&&this._scheduleChildrenUpdate()},getChildren:function(){return this.__children||null},getChild:function(e){var t=this.__children;return t&&t[e]||null},hasChildren:function(){var e=this.__children;return e&&void 0!==e[0]},indexOf:function(e){var t=this.__children;return t?t.indexOf(e):-1},hasChild:function(e){var t=this.__children;return t&&-1!==t.indexOf(e)},add:function(e){if(arguments[1]){for(var t=0,i=arguments.length;t<i;t++)this.__addChildHelper(arguments[t]);this.__children.push.apply(this.__children,arguments)}else{this.__addChildHelper(e);this.__children.push(e)}return this},addAt:function(e,t){this.__addChildHelper(e);qx.lang.Array.insertAt(this.__children,e,t);return this},remove:function(e){var t=this.__children;if(!t)return this;if(arguments[1])for(var i,n=0,s=arguments.length;n<s;n++){i=arguments[n];this.__removeChildHelper(i);qx.lang.Array.remove(t,i)}else{this.__removeChildHelper(e);qx.lang.Array.remove(t,e)}return this},removeAt:function(e){var t=this.__children;if(!t)throw new Error("Has no children!");var i=t[e];if(!i)throw new Error("Has no child at this position!");this.__removeChildHelper(i);qx.lang.Array.removeAt(this.__children,e);return this},removeAll:function(){var e=this.__children;if(e){for(var t=0,i=e.length;t<i;t++)this.__removeChildHelper(e[t]);e.length=0}return this},getParent:function(){return this.__parent||null},insertInto:function(e,t){e.__addChildHelper(this);null==t?e.__children.push(this):qx.lang.Array.insertAt(this.__children,this,t);return this},insertBefore:function(e){var t=e.__parent;t.__addChildHelper(this);qx.lang.Array.insertBefore(t.__children,this,e);return this},insertAfter:function(e){var t=e.__parent;t.__addChildHelper(this);qx.lang.Array.insertAfter(t.__children,this,e);return this},moveTo:function(e){var t=this.__parent;t.__moveChildHelper(this);var i=t.__children.indexOf(this);if(i===e)throw new Error("Could not move to same index!");i<e&&e--;qx.lang.Array.removeAt(t.__children,i);qx.lang.Array.insertAt(t.__children,this,e);return this},moveBefore:function(e){var t=this.__parent;return this.moveTo(t.__children.indexOf(e))},moveAfter:function(e){var t=this.__parent;return this.moveTo(t.__children.indexOf(e)+1)},free:function(){var e=this.__parent;if(!e)throw new Error("Has no parent to remove from.");if(!e.__children)return this;e.__removeChildHelper(this);qx.lang.Array.remove(e.__children,this);return this},getDomElement:function(){return this.__element||null},getNodeName:function(){return this.__nodeName},setNodeName:function(e){this.__nodeName=e},setRoot:function(e){this.__root=e},useMarkup:function(e){if(this.__element)throw new Error("Could not overwrite existing element!");if("mshtml"==qx.core.Environment.get("engine.name"))var t=document.createElement("div");else t=qx.dom.Element.getHelperElement();t.innerHTML=e;this.useElement(t.firstChild);return this.__element},useElement:function(e){if(this.__element)throw new Error("Could not overwrite existing element!");this.__connectDomElement(e);this._copyData(!0)},isFocusable:function(){var e=this.getAttribute("tabIndex");if(e>=1)return!0;var t=qx.event.handler.Focus.FOCUSABLE_ELEMENTS;return!!(e>=0&&t[this.__nodeName])},setSelectable:function(e){this.setAttribute("qxSelectable",e?"on":"off");var t=qx.core.Environment.get("css.userselect");t&&this.setStyle(t,e?"text":qx.core.Environment.get("css.userselect.none"))},isNativelyFocusable:function(){return!!qx.event.handler.Focus.FOCUSABLE_ELEMENTS[this.__nodeName]},include:function(){if(this.__included)return this;delete this.__included;this.__parent&&this.__parent._scheduleChildrenUpdate();return this},exclude:function(){if(!this.__included)return this;this.__included=!1;this.__parent&&this.__parent._scheduleChildrenUpdate();return this},isIncluded:function(){return!0===this.__included},fadeIn:function(e){var t=qxWeb(this.__element);t.isPlaying()&&t.stop();if(!this.__element){this.__flush();t.push(this.__element)}if(this.__element){t.fadeIn(e).once("animationEnd",function(){this.show();qx.html.Element.flush()},this);return t.getAnimationHandles()[0]}},fadeOut:function(e){var t=qxWeb(this.__element);t.isPlaying()&&t.stop();if(this.__element){t.fadeOut(e).once("animationEnd",function(){this.hide();qx.html.Element.flush()},this);return t.getAnimationHandles()[0]}},show:function(){if(this.__visible)return this;if(this.__element){qx.html.Element._visibility[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}this.__parent&&this.__parent._scheduleChildrenUpdate();delete this.__visible;return this},hide:function(){if(!this.__visible)return this;if(this.__element){qx.html.Element._visibility[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}this.__visible=!1;return this},isVisible:function(){return!0===this.__visible},scrollChildIntoViewX:function(e,t,i){var n=this.__element,s=e.getDomElement();if(!1!==i&&n&&n.offsetWidth&&s&&s.offsetWidth)qx.bom.element.Scroll.intoViewX(s,n,t);else{this.__lazyScrollIntoViewX={element:e,align:t};qx.html.Element._scroll[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}delete this.__lazyScrollX},scrollChildIntoViewY:function(e,t,i){var n=this.__element,s=e.getDomElement();if(!1!==i&&n&&n.offsetWidth&&s&&s.offsetWidth)qx.bom.element.Scroll.intoViewY(s,n,t);else{this.__lazyScrollIntoViewY={element:e,align:t};qx.html.Element._scroll[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}delete this.__lazyScrollY},scrollToX:function(e,t){var i=this.__element;if(!0!==t&&i&&i.offsetWidth){i.scrollLeft=e;delete this.__lazyScrollX}else{this.__lazyScrollX=e;qx.html.Element._scroll[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}delete this.__lazyScrollIntoViewX},getScrollX:function(){var e=this.__element;return e?e.scrollLeft:this.__lazyScrollX||0},scrollToY:function(e,t){var i=this.__element;if(!0!==t&&i&&i.offsetWidth){i.scrollTop=e;delete this.__lazyScrollY}else{this.__lazyScrollY=e;qx.html.Element._scroll[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}delete this.__lazyScrollIntoViewY},getScrollY:function(){var e=this.__element;return e?e.scrollTop:this.__lazyScrollY||0},disableScrolling:function(){this.enableScrolling();this.scrollToX(0);this.scrollToY(0);this.addListener("scroll",this.__onScroll,this)},enableScrolling:function(){this.removeListener("scroll",this.__onScroll,this)},__inScroll:null,__onScroll:function(e){if(!this.__inScroll){this.__inScroll=!0;this.__element.scrollTop=0;this.__element.scrollLeft=0;delete this.__inScroll}},getTextSelection:function(){var e=this.__element;return e?qx.bom.Selection.get(e):null},getTextSelectionLength:function(){var e=this.__element;return e?qx.bom.Selection.getLength(e):null},getTextSelectionStart:function(){var e=this.__element;return e?qx.bom.Selection.getStart(e):null},getTextSelectionEnd:function(){var e=this.__element;return e?qx.bom.Selection.getEnd(e):null},setTextSelection:function(e,t){var i=this.__element;if(i)qx.bom.Selection.set(i,e,t);else{qx.html.Element.__selection[this.toHashCode()]={element:this,start:e,end:t};qx.html.Element._scheduleFlush("element")}},clearTextSelection:function(){var e=this.__element;e&&qx.bom.Selection.clear(e);delete qx.html.Element.__selection[this.toHashCode()]},__performAction:function(e,t){qx.html.Element._actions.push({type:e,element:this,args:t||[]});qx.html.Element._scheduleFlush("element")},focus:function(){this.__performAction("focus")},blur:function(){this.__performAction("blur")},activate:function(){this.__performAction("activate")},deactivate:function(){this.__performAction("deactivate")},capture:function(e){this.__performAction("capture",[!1!==e])},releaseCapture:function(){this.__performAction("releaseCapture")},setStyle:function(e,t,i){this.__styleValues||(this.__styleValues={});if(this.__styleValues[e]==t)return this;null==t?delete this.__styleValues[e]:this.__styleValues[e]=t;if(this.__element){if(i){qx.bom.element.Style.set(this.__element,e,t);return this}this.__styleJobs||(this.__styleJobs={});this.__styleJobs[e]=!0;qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}return this},setStyles:function(e,t){var i=qx.bom.element.Style;this.__styleValues||(this.__styleValues={});if(this.__element){this.__styleJobs||(this.__styleJobs={});for(var n in e){var s=e[n];if(this.__styleValues[n]!=s){null==s?delete this.__styleValues[n]:this.__styleValues[n]=s;t?i.set(this.__element,n,s):this.__styleJobs[n]=!0}}qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}else for(var n in e){s=e[n];this.__styleValues[n]!=s&&(null==s?delete this.__styleValues[n]:this.__styleValues[n]=s)}return this},removeStyle:function(e,t){this.setStyle(e,null,t);return this},getStyle:function(e){return this.__styleValues?this.__styleValues[e]:null},getAllStyles:function(){return this.__styleValues||null},setAttribute:function(e,t,i){this.__attribValues||(this.__attribValues={});if(this.__attribValues[e]==t)return this;null==t?delete this.__attribValues[e]:this.__attribValues[e]=t;if(this.__element){if(i){qx.bom.element.Attribute.set(this.__element,e,t);return this}this.__attribJobs||(this.__attribJobs={});this.__attribJobs[e]=!0;qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}return this},setAttributes:function(e,t){for(var i in e)this.setAttribute(i,e[i],t);return this},removeAttribute:function(e,t){return this.setAttribute(e,null,t)},getAttribute:function(e){return this.__attribValues?this.__attribValues[e]:null},addClass:function(e){var t=((this.getAttribute("class")||"")+" "+e).trim();this.setAttribute("class",t)},removeClass:function(e){var t=this.getAttribute("class");t&&this.setAttribute("class",t.replace(e,"").trim())},_applyProperty:function(e,t){},_setProperty:function(e,t,i){this.__propertyValues||(this.__propertyValues={});if(this.__propertyValues[e]==t)return this;null==t?delete this.__propertyValues[e]:this.__propertyValues[e]=t;if(this.__element){if(i){this._applyProperty(e,t);return this}this.__propertyJobs||(this.__propertyJobs={});this.__propertyJobs[e]=!0;qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")}return this},_removeProperty:function(e,t){return this._setProperty(e,null,t)},_getProperty:function(e){var t=this.__propertyValues;if(!t)return null;var i=t[e];return null==i?null:i},addListener:function(e,t,i,n){if(this.$$disposed)return null;var s="Failed to add event listener for type '"+e+"' to the target '"+this+"': ";this.assertString(e,s+"Invalid event type.");this.assertFunction(t,s+"Invalid callback function");void 0!==i&&this.assertObject(i,"Invalid context for callback.");void 0!==n&&this.assertBoolean(n,"Invalid capture flag.");if(this.__element)return qx.event.Registration.addListener(this.__element,e,t,i,n);this.__eventValues||(this.__eventValues={});null==n&&(n=!1);var r=qx.event.Manager.getNextUniqueId(),o=e+(n?"|capture|":"|bubble|")+r;this.__eventValues[o]={type:e,listener:t,self:i,capture:n,unique:r};return o},removeListener:function(e,t,i,n){if(this.$$disposed)return null;var s="Failed to remove event listener for type '"+e+"' from the target '"+this+"': ";this.assertString(e,s+"Invalid event type.");this.assertFunction(t,s+"Invalid callback function");void 0!==i&&this.assertObject(i,"Invalid context for callback.");void 0!==n&&this.assertBoolean(n,"Invalid capture flag.");if(this.__element){if(t.$$wrapped_callback&&t.$$wrapped_callback[e+this.toHashCode()]){var r=t.$$wrapped_callback[e+this.toHashCode()];delete t.$$wrapped_callback[e+this.toHashCode()];t=r}qx.event.Registration.removeListener(this.__element,e,t,i,n)}else{var o,a=this.__eventValues;null==n&&(n=!1);for(var l in a)if((o=a[l]).listener===t&&o.self===i&&o.capture===n&&o.type===e){delete a[l];break}}return this},removeListenerById:function(e){if(this.$$disposed)return null;this.__element?qx.event.Registration.removeListenerById(this.__element,e):delete this.__eventValues[e];return this},hasListener:function(e,t){if(this.$$disposed)return!1;if(this.__element)return qx.event.Registration.hasListener(this.__element,e,t);var i,n=this.__eventValues;null==t&&(t=!1);for(var s in n)if((i=n[s]).capture===t&&i.type===e)return!0;return!1},getListeners:function(){if(this.$$disposed)return null;if(this.__element)return qx.event.Registration.getManager(this.__element).serializeListeners(this.__element);var e=[];for(var t in this.__eventValues){var i=this.__eventValues[t];e.push({type:i.type,handler:i.listener,self:i.self,capture:i.capture})}return e}},defer:function(e){e.__deferredCall=new qx.util.DeferredCall(e.flush,e)},destruct:function(){if(this.toHashCode()){delete qx.html.Element._modified[this.toHashCode()];delete qx.html.Element._scroll[this.toHashCode()]}var e=this.__element;if(e){qx.event.Registration.getManager(e).removeAllListeners(e);e.$$element="";delete e.$$elementObject;e.$$widget="";delete e.$$widgetObject}if(!qx.core.ObjectRegistry.inShutDown){var t=this.__parent;t&&!t.$$disposed&&t.remove(this)}this._disposeArray("__children");this.__attribValues=this.__styleValues=this.__eventValues=this.__propertyValues=this.__attribJobs=this.__styleJobs=this.__propertyJobs=this.__element=this.__parent=this.__lazyScrollIntoViewX=this.__lazyScrollIntoViewY=null}});qx.html.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Focus":{defer:"runtime"},"qx.event.handler.Window":{defer:"runtime"},"qx.event.handler.Capture":{defer:"runtime"},"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.dispatch.AbstractBubbling":{construct:!0,require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.dom.Hierarchy":{},"qx.bom.Event":{},"qx.event.type.Event":{},"qx.bom.client.Engine":{require:!0},"qx.bom.client.Browser":{require:!0},"qx.bom.client.OperatingSystem":{require:!0}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"browser.documentmode":{load:!0,className:"qx.bom.client.Browser"},"os.version":{load:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.dispatch.MouseCapture",{extend:qx.event.dispatch.AbstractBubbling,construct:function(e,t){qx.event.dispatch.AbstractBubbling.constructor.call(this,e);this.__window=e.getWindow();this.__registration=t;e.addListener(this.__window,"blur",this.releaseCapture,this);e.addListener(this.__window,"focus",this.releaseCapture,this);e.addListener(this.__window,"scroll",this.releaseCapture,this)},statics:{PRIORITY:qx.event.Registration.PRIORITY_FIRST},members:{__registration:null,__captureElement:null,__containerCapture:!0,__window:null,_getParent:function(e){return e.parentNode},canDispatchEvent:function(e,t,i){return!(!this.__captureElement||!this.__captureEvents[i])},dispatchEvent:function(e,t,i){if("click"!=i){!this.__containerCapture&&qx.dom.Hierarchy.contains(this.__captureElement,e)||(e=this.__captureElement);return qx.event.dispatch.MouseCapture.prototype.dispatchEvent.base.call(this,e,t,i)}t.stopPropagation();this.releaseCapture()},__captureEvents:{mouseup:1,mousedown:1,click:1,dblclick:1,mousemove:1,mouseout:1,mouseover:1,pointerdown:1,pointerup:1,pointermove:1,pointerover:1,pointerout:1,tap:1,dbltap:1},activateCapture:function(e,t){t=!1!==t;if(this.__captureElement!==e||this.__containerCapture!=t){this.__captureElement&&this.releaseCapture();if(this.hasNativeCapture){this.nativeSetCapture(e,t);var i=this;qx.bom.Event.addNativeListener(e,"losecapture",function t(){qx.bom.Event.removeNativeListener(e,"losecapture",t);i.releaseCapture()})}this.__containerCapture=t;this.__captureElement=e;this.__registration.fireEvent(e,"capture",qx.event.type.Event,[!0,!1])}},getCaptureElement:function(){return this.__captureElement},releaseCapture:function(){var e=this.__captureElement;if(e){this.__captureElement=null;this.__registration.fireEvent(e,"losecapture",qx.event.type.Event,[!0,!1]);this.nativeReleaseCapture(e)}},hasNativeCapture:"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9||parseInt(qx.core.Environment.get("os.version"),10)>7&&qx.core.Environment.get("browser.documentmode")>9,nativeSetCapture:qx.core.Environment.select("engine.name",{mshtml:function(e,t){e.setCapture(!1!==t)},default:function(){}}),nativeReleaseCapture:qx.core.Environment.select("engine.name",{mshtml:function(e){e.releaseCapture()},default:function(){}})},defer:function(e){qx.event.Registration.addDispatcher(e)}});qx.event.dispatch.MouseCapture.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.dispatch.DomBubbling":{defer:"runtime"},"qx.core.Environment":{defer:"load",construct:!0,usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.OperatingSystem":{construct:!0},"qx.core.Init":{construct:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.bom.client.Engine":{require:!0},"qx.bom.Selection":{},"qx.event.type.Focus":{},"qx.lang.Function":{},"qx.bom.Event":{},"qx.bom.client.Browser":{require:!0},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{},"qx.bom.element.Attribute":{}},environment:{provided:[],required:{"os.name":{construct:!0,className:"qx.bom.client.OperatingSystem"},"os.version":{construct:!0,className:"qx.bom.client.OperatingSystem"},"engine.name":{load:!0,className:"qx.bom.client.Engine"},"browser.name":{load:!0,className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Focus",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this._manager=e;this._window=e.getWindow();this._document=this._window.document;this._root=this._document.documentElement;this._body=this._document.body;"ios"==qx.core.Environment.get("os.name")&&parseFloat(qx.core.Environment.get("os.version"))>6&&(!qx.application.Inline||!qx.core.Init.getApplication()instanceof qx.application.Inline)&&(this.__needsScrollFix=!0);this._initObserver()},properties:{active:{apply:"_applyActive",nullable:!0},focus:{apply:"_applyFocus",nullable:!0}},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{focus:1,blur:1,focusin:1,focusout:1,activate:1,deactivate:1},IGNORE_CAN_HANDLE:!0,FOCUSABLE_ELEMENTS:qx.core.Environment.select("engine.name",{mshtml:{a:1,body:1,button:1,frame:1,iframe:1,img:1,input:1,object:1,select:1,textarea:1},gecko:{a:1,body:1,button:1,frame:1,iframe:1,img:1,input:1,object:1,select:1,textarea:1},opera:{button:1,input:1,select:1,textarea:1},webkit:{button:1,input:1,select:1,textarea:1}})},members:{__onNativeMouseDownWrapper:null,__onNativeMouseUpWrapper:null,__onNativeFocusWrapper:null,__onNativeBlurWrapper:null,__onNativeDragGestureWrapper:null,__onNativeSelectStartWrapper:null,__onNativeFocusInWrapper:null,__onNativeFocusOutWrapper:null,__previousFocus:null,__previousActive:null,__down:"",__up:"",__needsScrollFix:!1,__relatedTarget:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},focus:function(e){"mshtml"==qx.core.Environment.get("engine.name")?window.setTimeout(function(){try{e.focus();if(0==qx.bom.Selection.get(e).length&&"function"==typeof e.createTextRange){var t=e.createTextRange();t.moveStart("character",e.value.length);t.collapse();t.select()}}catch(e){}},0):window.setTimeout(function(){try{e.focus()}catch(e){}},0);this.setFocus(e);this.setActive(e)},activate:function(e){this.setActive(e)},blur:function(e){try{e.blur()}catch(e){}this.getActive()===e&&this.resetActive();this.getFocus()===e&&this.resetFocus()},deactivate:function(e){this.getActive()===e&&this.resetActive()},tryActivate:function(e){var t=this.__findActivatableElement(e);t&&this.setActive(t)},__fireEvent:function(e,t,i,n){var s=qx.event.Registration,r=s.createEvent(i,qx.event.type.Focus,[e,t,n]);return s.dispatchEvent(e,r)},_windowFocused:!0,__doWindowBlur:function(){if(this._windowFocused){this._windowFocused=!1;this.__fireEvent(this._window,null,"blur",!1)}},__doWindowFocus:function(){if(!this._windowFocused){this._windowFocused=!0;this.__fireEvent(this._window,null,"focus",!1)}},_initObserver:qx.core.Environment.select("engine.name",{gecko:function(){this.__onNativeMouseDownWrapper=qx.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=qx.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusWrapper=qx.lang.Function.listener(this.__onNativeFocus,this);this.__onNativeBlurWrapper=qx.lang.Function.listener(this.__onNativeBlur,this);this.__onNativeDragGestureWrapper=qx.lang.Function.listener(this.__onNativeDragGesture,this);qx.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.addNativeListener(this._window,"focus",this.__onNativeFocusWrapper,!0);qx.bom.Event.addNativeListener(this._window,"blur",this.__onNativeBlurWrapper,!0);qx.bom.Event.addNativeListener(this._window,"draggesture",this.__onNativeDragGestureWrapper,!0)},mshtml:function(){this.__onNativeMouseDownWrapper=qx.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=qx.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusInWrapper=qx.lang.Function.listener(this.__onNativeFocusIn,this);this.__onNativeFocusOutWrapper=qx.lang.Function.listener(this.__onNativeFocusOut,this);this.__onNativeSelectStartWrapper=qx.lang.Function.listener(this.__onNativeSelectStart,this);qx.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper);qx.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper);qx.bom.Event.addNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);qx.bom.Event.addNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper);qx.bom.Event.addNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper)},webkit:qx.core.Environment.select("browser.name",{edge:function(e){this.__onNativeMouseDownWrapper=qx.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=qx.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusOutWrapper=qx.lang.Function.listener(this.__onNativeFocusOut,this);this.__onNativeFocusInWrapper=qx.lang.Function.listener(this.__onNativeFocusIn,this);this.__onNativeSelectStartWrapper=qx.lang.Function.listener(this.__onNativeSelectStart,this);qx.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.addNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper,!1);qx.bom.Event.addNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);qx.bom.Event.addNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper)},default:function(e){this.__onNativeMouseDownWrapper=qx.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=qx.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusOutWrapper=qx.lang.Function.listener(this.__onNativeFocusOut,this);this.__onNativeFocusWrapper=qx.lang.Function.listener(this.__onNativeFocus,this);this.__onNativeBlurWrapper=qx.lang.Function.listener(this.__onNativeBlur,this);this.__onNativeSelectStartWrapper=qx.lang.Function.listener(this.__onNativeSelectStart,this);qx.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.addNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper,!1);qx.bom.Event.addNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,!0);qx.bom.Event.addNativeListener(this._window,"focus",this.__onNativeFocusWrapper,!0);qx.bom.Event.addNativeListener(this._window,"blur",this.__onNativeBlurWrapper,!0)}}),opera:function(){this.__onNativeMouseDownWrapper=qx.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=qx.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusInWrapper=qx.lang.Function.listener(this.__onNativeFocusIn,this);this.__onNativeFocusOutWrapper=qx.lang.Function.listener(this.__onNativeFocusOut,this);qx.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.addNativeListener(this._window,"DOMFocusIn",this.__onNativeFocusInWrapper,!0);qx.bom.Event.addNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,!0)}}),_stopObserver:qx.core.Environment.select("engine.name",{gecko:function(){qx.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"focus",this.__onNativeFocusWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"blur",this.__onNativeBlurWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"draggesture",this.__onNativeDragGestureWrapper,!0)},mshtml:function(){qx.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper);qx.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper);qx.bom.Event.removeNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);qx.bom.Event.removeNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper);qx.bom.Event.removeNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper)},webkit:qx.core.Environment.select("browser.name",{edge:function(){qx.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper);qx.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper);qx.bom.Event.removeNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);qx.bom.Event.removeNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper);qx.bom.Event.removeNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper)},default:function(){qx.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.removeNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper,!1);qx.bom.Event.removeNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"focus",this.__onNativeFocusWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"blur",this.__onNativeBlurWrapper,!0)}}),opera:function(){qx.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,!0);qx.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"DOMFocusIn",this.__onNativeFocusInWrapper,!0);qx.bom.Event.removeNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,!0)}}),__onNativeDragGesture:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{gecko:function(e){var t=qx.bom.Event.getTarget(e);this.__isSelectable(t)||qx.bom.Event.preventDefault(e)},default:null})),__onNativeFocusIn:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){this.__doWindowFocus();var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);i&&this.setFocus(i);this.tryActivate(t)},webkit:qx.core.Environment.select("browser.name",{edge:function(e){this.__doWindowFocus();var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);i&&this.setFocus(i);this.tryActivate(t)},default:null}),opera:function(e){var t=qx.bom.Event.getTarget(e);if(t==this._document||t==this._window){this.__doWindowFocus();if(this.__previousFocus){this.setFocus(this.__previousFocus);delete this.__previousFocus}if(this.__previousActive){this.setActive(this.__previousActive);delete this.__previousActive}}else{this.setFocus(t);this.tryActivate(t);if(!this.__isSelectable(t)){t.selectionStart=0;t.selectionEnd=0}}},default:null})),__onNativeFocusOut:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){if(null==qx.bom.Event.getRelatedTarget(e)){this.__doWindowBlur();this.resetFocus();this.resetActive()}},webkit:qx.core.Environment.select("browser.name",{edge:function(e){if(null==qx.bom.Event.getRelatedTarget(e)){this.__doWindowBlur();this.resetFocus();this.resetActive()}},default:function(e){var t=qx.bom.Event.getTarget(e);t===this.getFocus()&&this.resetFocus();t===this.getActive()&&this.resetActive()}}),opera:function(e){var t=qx.bom.Event.getTarget(e);if(t==this._document){this.__doWindowBlur();this.__previousFocus=this.getFocus();this.__previousActive=this.getActive();this.resetFocus();this.resetActive()}else{t===this.getFocus()&&this.resetFocus();t===this.getActive()&&this.resetActive()}},default:null})),__onNativeBlur:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{gecko:function(e){var t=qx.bom.Event.getTarget(e);if(t===this._window||t===this._document){this.__doWindowBlur();this.resetActive();this.resetFocus()}},webkit:function(e){var t=qx.bom.Event.getTarget(e);if(t===this._window||t===this._document){this.__doWindowBlur();this.__previousFocus=this.getFocus();this.__previousActive=this.getActive();this.resetActive();this.resetFocus()}},default:null})),__onNativeFocus:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{gecko:function(e){var t=qx.bom.Event.getTarget(e);if(t===this._window||t===this._document){this.__doWindowFocus();t=this._body}this.setFocus(t);this.tryActivate(t)},webkit:function(e){var t=qx.bom.Event.getTarget(e);if(t===this._window||t===this._document){this.__doWindowFocus();if(this.__previousFocus){this.setFocus(this.__previousFocus);delete this.__previousFocus}if(this.__previousActive){this.setActive(this.__previousActive);delete this.__previousActive}}else{this.__relatedTarget=e.relatedTarget;this.setFocus(t);this.__relatedTarget=null;this.tryActivate(t)}},default:null})),__onNativeMouseDown:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);if(i){if(!this.__isSelectable(t)){t.unselectable="on";try{document.selection&&document.selection.empty()}catch(e){}try{i.focus()}catch(e){}}}else{qx.bom.Event.preventDefault(e);this.__isSelectable(t)||(t.unselectable="on")}},webkit:function(e){var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);i?this.setFocus(i):qx.bom.Event.preventDefault(e)},gecko:function(e){var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);i?this.setFocus(i):qx.bom.Event.preventDefault(e)},opera:function(e){var t=qx.bom.Event.getTarget(e),i=this.__findFocusableElement(t);if(this.__isSelectable(t))i&&this.setFocus(i);else{qx.bom.Event.preventDefault(e);if(i){var n=this.getFocus();if(n&&n.selectionEnd){n.selectionStart=0;n.selectionEnd=0;n.blur()}i&&this.setFocus(i)}}},default:null})),__onNativeMouseUp:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){var t=qx.bom.Event.getTarget(e);t.unselectable&&(t.unselectable="off");this.tryActivate(this.__fixFocus(t))},gecko:function(e){for(var t=qx.bom.Event.getTarget(e);t&&void 0===t.offsetWidth;)t=t.parentNode;t&&this.tryActivate(t)},webkit:function(e){var t=qx.bom.Event.getTarget(e);this.tryActivate(this.__fixFocus(t))},opera:function(e){var t=qx.bom.Event.getTarget(e);this.tryActivate(this.__fixFocus(t))},default:null})),__getCorrectFocusTarget:function(e){var t=this.getFocus();if(t&&e!=t){if("input"===t.nodeName.toLowerCase()||"textarea"===t.nodeName.toLowerCase())return t;var i=qx.ui.core.Widget.getWidgetByElement(t),n=i&&i.getChildControl&&i.getChildControl("textfield",!0);if(n)return n.getContentElement().getDomElement()}return e},__fixFocus:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){return this.__getCorrectFocusTarget(e)},webkit:function(e){return this.__getCorrectFocusTarget(e)},default:function(e){return e}})),__onNativeSelectStart:qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name",{mshtml:function(e){var t=qx.bom.Event.getTarget(e);this.__isSelectable(t)||qx.bom.Event.preventDefault(e)},webkit:function(e){var t=qx.bom.Event.getTarget(e);this.__isSelectable(t)||qx.bom.Event.preventDefault(e)},default:null})),__isFocusable:function(e){var t=qx.bom.element.Attribute.get(e,"tabIndex");if(t>=1)return!0;var i=qx.event.handler.Focus.FOCUSABLE_ELEMENTS;return!!(t>=0&&i[e.tagName])},__findFocusableElement:function(e){for(;e&&1===e.nodeType;){if("on"==e.getAttribute("qxKeepFocus"))return null;if(this.__isFocusable(e))return e;e=e.parentNode}return this._body},__findActivatableElement:function(e){for(var t=e;e&&1===e.nodeType;){if("on"==e.getAttribute("qxKeepActive"))return null;e=e.parentNode}return t},__isSelectable:function(e){for(;e&&1===e.nodeType;){var t=e.getAttribute("qxSelectable");if(null!=t)return"on"===t;e=e.parentNode}return!0},_applyActive:function(e,t){t&&this.__fireEvent(t,e,"deactivate",!0);e&&this.__fireEvent(e,t,"activate",!0);this.__needsScrollFix&&window.scrollTo(0,0)},_applyFocus:function(e,t){t&&this.__fireEvent(t,e,"focusout",!0);e&&this.__fireEvent(e,t,"focusin",!0);t&&this.__fireEvent(t,e,"blur",!1);e&&this.__fireEvent(e,t||this.__relatedTarget,"focus",!1)}},destruct:function(){this._stopObserver();this._manager=this._window=this._document=this._root=this._body=this.__mouseActive=this.__relatedTarget=null},defer:function(e){qx.event.Registration.addHandler(e);var t=e.FOCUSABLE_ELEMENTS;for(var i in t)t[i.toUpperCase()]=1}});qx.event.handler.Focus.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.core.ObjectRegistry":{},"qx.core.Object":{},"qx.core.MAssert":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.type.BaseString",{extend:Object,construct:function(e){e=e||"";this.__txt=e;this.length=e.length},members:{$$isString:!0,length:0,__txt:null,toString:function(){return this.__txt},charAt:null,valueOf:null,charCodeAt:null,concat:null,indexOf:null,lastIndexOf:null,match:null,replace:null,search:null,slice:null,split:null,substr:null,substring:null,toLowerCase:null,toUpperCase:null,toHashCode:function(){return qx.core.ObjectRegistry.toHashCode(this)},toLocaleLowerCase:null,toLocaleUpperCase:null,base:function(e,t){return qx.core.Object.prototype.base.apply(this,arguments)}},defer:function(e,t){qx.Class.include(e,qx.core.MAssert);var i=["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase","trim"];t.valueOf=t.toString;null==new e("").valueOf()&&delete t.valueOf;for(var n=0,s=i.length;n<s;n++)t[i[n]]=String.prototype[i[n]]}});qx.type.BaseString.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.type.BaseString":{construct:!0,require:!0},"qx.locale.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.locale.LocalizedString",{extend:qx.type.BaseString,construct:function(e,t,i,n){qx.type.BaseString.constructor.call(this,e);this.__messageId=t;this.__localized=!!n;this.__args=i},members:{__localized:null,__messageId:null,__args:null,translate:function(){return this.__localized?qx.locale.Manager.getInstance().localize(this.__messageId,this.__args):qx.locale.Manager.getInstance().translate(this.__messageId,this.__args)},getMessageId:function(){return this.__messageId}}});qx.locale.LocalizedString.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{},"qx.lang.Type":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["locale","locale.variant","locale.default"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Locale",{statics:{getLocale:function(){var e=qx.bom.client.Locale.__getNavigatorLocale(),t=e.indexOf("-");-1!=t&&(e=e.substr(0,t));return e},getVariant:function(){var e=qx.bom.client.Locale.__getNavigatorLocale(),t="",i=e.indexOf("-");-1!=i&&(t=e.substr(i+1));return t},__getNavigatorLocale:function(){var e=navigator.userLanguage||navigator.language||"";if("android"==qx.bom.client.OperatingSystem.getName()){var t=/^(\d+)\.(\d+)(\..+)?/i.exec(qx.bom.client.OperatingSystem.getVersion());if(qx.lang.Type.isArray(t)&&t.length>=3&&(parseInt(t[1])<4||4===parseInt(t[1])&&parseInt(t[2])<4)){var i=/(\w{2})-(\w{2})/i.exec(navigator.userAgent);i&&(e=i[0])}}return e.toLowerCase()}},defer:function(e){qx.core.Environment.add("locale",e.getLocale);qx.core.Environment.add("locale.variant",e.getVariant);qx.core.Environment.add("locale.default","C")}});qx.bom.client.Locale.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.dispatch.Direct":{require:!0},"qx.locale.LocalizedString":{require:!0},"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Array":{},"qx.bom.client.Locale":{require:!0},"qx.log.Logger":{},"qx.lang.String":{}},environment:{provided:[],required:{locale:{className:"qx.bom.client.Locale"},"locale.default":{className:"qx.bom.client.Locale",load:!0},"locale.variant":{className:"qx.bom.client.Locale"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.locale.Manager",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__translations=qx.$$translations||{};this.__locales=qx.$$locales||{};this.initLocale();this.__clientLocale=this.getLocale()},statics:{tr:function(e,t){var i=qx.lang.Array.fromArguments(arguments,1);return qx.locale.Manager.getInstance().translate(e,i)},trn:function(e,t,i,n){var s=qx.lang.Array.fromArguments(arguments);s.splice(0,3);return 1!=i?qx.locale.Manager.getInstance().translate(t,s):qx.locale.Manager.getInstance().translate(e,s)},trc:function(e,t,i){var n=qx.lang.Array.fromArguments(arguments);n.splice(0,2);return qx.locale.Manager.getInstance().translate(t,n)},trnc:function(e,t,i,n,s){var r=qx.lang.Array.fromArguments(arguments);r.splice(0,4);return 1!=n?qx.locale.Manager.getInstance().translate(i,r):qx.locale.Manager.getInstance().translate(t,r)},marktr:function(e){return e}},properties:{locale:{check:"String",apply:"_applyLocale",event:"changeLocale",init:function(){var e=qx.core.Environment.get("locale");if(!e||""===e)return qx.core.Environment.get("locale.default");var t=qx.core.Environment.get("locale.variant");""!==t&&(e+="_"+t);return e}()}},members:{__defaultLocale:qx.core.Environment.get("locale.default"),__locale:null,__language:null,__translations:null,__locales:null,__clientLocale:null,getLanguage:function(){return this.__language},getTerritory:function(){return this.getLocale().split("_")[1]||""},getAvailableLocales:function(e){var t=[];for(var i in this.__locales)if(i!=this.__defaultLocale){if(null===this.__locales[i]&&!e)continue;t.push(i)}return t},__extractLanguage:function(e){if(null==e)return null;var t=e.indexOf("_");return-1==t?e:e.substring(0,t)},_applyLocale:function(e,t){e in this.__locales||e==this.__clientLocale||qx.log.Logger.warn("Locale: "+e+" not available.");this.__locale=e;this.__language=this.__extractLanguage(e)},addTranslation:function(e,t){var i=this.__translations;if(i[e])for(var n in t)i[e][n]=t[n];else i[e]=t},addLocale:function(e,t){var i=this.__locales;if(i[e])for(var n in t)i[e][n]=t[n];else i[e]=t},translate:function(e,t,i){var n=this.__translations;return this.__lookupAndExpand(n,e,t,i)},localize:function(e,t,i){var n=this.__locales;return this.__lookupAndExpand(n,e,t,i)},__lookupAndExpand:function(e,t,i,n){this.assertObject(e);this.assertString(t);this.assertArray(i);var s;if(!e)return t;if(n)var r=this.__extractLanguage(n);else{n=this.__locale;r=this.__language}!s&&e[n]&&(s=e[n][t]);!s&&e[r]&&(s=e[r][t]);!s&&e[this.__defaultLocale]&&(s=e[this.__defaultLocale][t]);s||(s=t);if(i.length>0){for(var o=[],a=0;a<i.length;a++){var l=i[a];l&&l.translate?o[a]=l.translate():o[a]=l}s=qx.lang.String.format(s,o)}return s=new qx.locale.LocalizedString(s,t,i,e===this.__locales)}}});qx.locale.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.ValueManager",{type:"abstract",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this._dynamic={}},members:{_dynamic:null,resolveDynamic:function(e){return this._dynamic[e]},isDynamic:function(e){return!!this._dynamic[e]},resolve:function(e){return e&&this._dynamic[e]?this._dynamic[e]:e},_setDynamic:function(e){this._dynamic=e},_getDynamic:function(){return this._dynamic}}});qx.util.ValueManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.ValueManager":{require:!0},"qx.util.ColorUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Color",{type:"singleton",extend:qx.util.ValueManager,properties:{theme:{check:"Theme",nullable:!0,apply:"_applyTheme",event:"changeTheme"}},members:{_applyTheme:function(e){var t={};if(e){var i=e.colors;for(var n in i)t[n]=this.__parseColor(i,n)}this._setDynamic(t)},__parseColor:function(e,t){var i=e[t];if("string"==typeof i){if(!qx.util.ColorUtil.isCssString(i)){if(void 0!=e[i])return this.__parseColor(e,i);throw new Error("Could not parse color: "+i)}return i}if(i instanceof Array)return qx.util.ColorUtil.rgbToRgbString(i);throw new Error("Could not parse color: "+i)},resolve:function(e){var t=this._dynamic,i=t[e];if(i)return i;var n=this.getTheme();return null!==n&&n.colors[e]?t[e]=n.colors[e]:e},isDynamic:function(e){var t=this._dynamic;if(e&&void 0!==t[e])return!0;var i=this.getTheme();if(null!==i&&e&&void 0!==i.colors[e]){t[e]=i.colors[e];return!0}return!1}}});qx.theme.manager.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.ui.core.queue.Manager":{},"qx.ui.core.queue.Visibility":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Appearance",{statics:{__queue:[],__lookup:{},remove:function(e){if(this.__lookup[e.toHashCode()]){qx.lang.Array.remove(this.__queue,e);delete this.__lookup[e.toHashCode()]}},add:function(e){if(!this.__lookup[e.toHashCode()]){this.__queue.unshift(e);this.__lookup[e.toHashCode()]=e;qx.ui.core.queue.Manager.scheduleFlush("appearance")}},has:function(e){return!!this.__lookup[e.toHashCode()]},flush:function(){for(var e,t=qx.ui.core.queue.Visibility,i=this.__queue,n=i.length-1;n>=0;n--){e=i[n];i.splice(n,1);delete this.__lookup[e.toHashCode()];t.isVisible(e)?e.syncAppearance():e.$$stateChanges=!0}}}});qx.ui.core.queue.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Appearance",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__styleCache={};this.__aliasMap={}},properties:{theme:{check:"Theme",nullable:!0,event:"changeTheme",apply:"_applyTheme"}},members:{__defaultStates:{},__styleCache:null,__aliasMap:null,_applyTheme:function(){this.__aliasMap={};this.__styleCache={}},__resolveId:function(e,t,i,n){var s=t.appearances,r=s[e];if(!r){for(var o,a=[],l=e.split("/"),u=qx.lang.Array.clone(l);!r&&l.length>0;){a.unshift(l.pop());if((r=s[l.join("/")])&&"string"==typeof(o=r.alias||r)){var c=o+"/"+a.join("/");return this.__resolveId(c,t,i,u)}}for(var d=0;d<a.length-1;d++){a.shift();var h=a.join("/"),g=this.__resolveId(h,t,null,u);if(g)return g}if(null!=i)return this.__resolveId(i,t,null,u);if(void 0!==n){this.debug("Cannot find a matching appearance for '"+n.join("/")+"'.");n.length>1&&this.info("Hint: This may be an issue with nested child controls and a missing alias definition in the appearance theme.")}return null}return"string"==typeof r?this.__resolveId(r,t,i,u):r.include&&!r.style?this.__resolveId(r.include,t,i,u):e},styleFrom:function(e,t,i,n){i||(i=this.getTheme());var s=this.__aliasMap;s[i.name]||(s[i.name]={});var r=s[i.name][e];r||(r=s[i.name][e]=this.__resolveId(e,i,n));var o=i.appearances[r];if(!o){this.warn("Missing appearance: "+e);return null}if(!o.style)return null;var a=r;if(t){var l=o.$$bits;if(!l){l=o.$$bits={};o.$$length=0}var u=0;for(var c in t)if(t[c]){null==l[c]&&(l[c]=1<<o.$$length++);u+=l[c]}u>0&&(a+=":"+u)}var d,h=this.__styleCache;if(h[i.name]&&void 0!==h[i.name][a])return h[i.name][a];t||(t=this.__defaultStates);if(o.include||o.base){var g;o.include&&(g=this.styleFrom(o.include,t,i,n));var m=o.style(t,g);d={};if(o.base){var f=this.styleFrom(r,t,o.base,n);if(o.include)for(var p in f)g.hasOwnProperty(p)||m.hasOwnProperty(p)||(d[p]=f[p]);else for(var _ in f)m.hasOwnProperty(_)||(d[_]=f[_])}if(o.include)for(var x in g)m.hasOwnProperty(x)||(d[x]=g[x]);for(var q in m)d[q]=m[q]}else d=o.style(t);h[i.name]||(h[i.name]={});return h[i.name][a]=d||null}}});qx.theme.manager.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.util.AliasManager":{},"qx.theme.manager.Color":{},"qx.io.ImageLoader":{},"qx.lang.String":{},"qx.bom.client.Css":{},"qx.html.Image":{},"qx.html.Label":{},"qx.html.Element":{},"qx.util.ResourceManager":{},"qx.bom.client.Engine":{require:!0},"qx.bom.client.Browser":{},"qx.bom.element.Decoration":{},"qx.lang.Type":{},"qx.bom.AnimationFrame":{},"qx.theme.manager.Font":{},"qx.lang.Object":{},"qx.theme.manager.Decoration":{},"qx.ui.core.queue.Layout":{}},environment:{provided:[],required:{"css.alphaimageloaderneeded":{className:"qx.bom.client.Css"},"engine.name":{className:"qx.bom.client.Engine",load:!0},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.basic.Image",{extend:qx.ui.core.Widget,construct:function(e){this.__contentElements={};qx.ui.core.Widget.constructor.call(this);e&&this.setSource(e)},properties:{source:{check:"String",init:null,nullable:!0,event:"changeSource",apply:"_applySource",themeable:!0},scale:{check:"Boolean",init:!1,event:"changeScale",themeable:!0,apply:"_applyScale"},appearance:{refine:!0,init:"image"},allowShrinkX:{refine:!0,init:!1},allowShrinkY:{refine:!0,init:!1},allowGrowX:{refine:!0,init:!1},allowGrowY:{refine:!0,init:!1}},events:{loadingFailed:"qx.event.type.Event",loaded:"qx.event.type.Event",aborted:"qx.event.type.Event"},statics:{PLACEHOLDER_IMAGE:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},members:{__width:null,__height:null,__mode:null,__contentElements:null,__currentContentElement:null,__wrapper:null,__requestId:0,_onChangeTheme:function(){qx.ui.basic.Image.prototype._onChangeTheme.base.call(this);this._styleSource()},getContentElement:function(){return this.__getSuitableContentElement()},_createContentElement:function(){return this.__getSuitableContentElement()},_getContentHint:function(){return{width:this.__width||0,height:this.__height||0}},_applyDecorator:function(e,t){qx.ui.basic.Image.prototype._applyDecorator.base.call(this,e,t);var i=this.getSource();i=qx.util.AliasManager.getInstance().resolve(i);var n=this.getContentElement();this.__wrapper&&(n=n.getChild(0));this.__setSource(n,i)},_applyTextColor:function(e){if("font"===this.__getMode()){var t=this.getContentElement();this.__wrapper&&(t=t.getChild(0));e?t.setStyle("color",qx.theme.manager.Color.getInstance().resolve(e)):t.removeStyle("color")}},_applyPadding:function(e,t,i){qx.ui.basic.Image.prototype._applyPadding.base.call(this,e,t,i);var n=this.getContentElement();this.__wrapper?n.getChild(0).setStyles({top:this.getPaddingTop()||0,left:this.getPaddingLeft()||0}):"font"===this.__getMode()?n.setStyles({top:this.getPaddingTop()||0,left:this.getPaddingLeft()||0}):n.setPadding(this.getPaddingLeft()||0,this.getPaddingTop()||0)},renderLayout:function(e,t,i,n){qx.ui.basic.Image.prototype.renderLayout.base.call(this,e,t,i,n);var s=this.getContentElement();this.__wrapper&&s.getChild(0).setStyles({width:i-(this.getPaddingLeft()||0)-(this.getPaddingRight()||0),height:n-(this.getPaddingTop()||0)-(this.getPaddingBottom()||0),top:this.getPaddingTop()||0,left:this.getPaddingLeft()||0})},_applyEnabled:function(e,t){qx.ui.basic.Image.prototype._applyEnabled.base.call(this,e,t);this.getSource()&&this._styleSource()},_applySource:function(e,t){t&&qx.io.ImageLoader.isLoading(t)&&qx.io.ImageLoader.abort(t);this._styleSource()},_applyScale:function(e){this._styleSource()},__setMode:function(e){this.__mode=e},__getMode:function(){if(null==this.__mode){var e=this.getSource();e&&qx.lang.String.startsWith(e,"@")&&(this.__mode="font");var t=!1;null!=e&&(t=e.endsWith(".png"));this.getScale()&&t&&qx.core.Environment.get("css.alphaimageloaderneeded")?this.__mode="alphaScaled":this.getScale()?this.__mode="scaled":this.__mode="nonScaled"}return this.__mode},__createSuitableContentElement:function(e){var t,i,n=qx.html.Image;switch(e){case"font":n=qx.html.Label;t=!0;i="div";break;case"alphaScaled":t=!0;i="div";break;case"nonScaled":t=!1;i="div";break;default:t=!0;i="img"}var s=new n(i);s.connectWidget(this);s.setStyles({overflowX:"hidden",overflowY:"hidden",boxSizing:"border-box"});if("font"==e)s.setRich(!0);else{s.setScale(t);if(qx.core.Environment.get("css.alphaimageloaderneeded")){var r=this.__wrapper=new qx.html.Element("div");s.connectWidget(this);r.setStyle("position","absolute");r.add(s);return r}}return s},__getSuitableContentElement:function(){if(this.$$disposed)return null;var e=this.__getMode();null==this.__contentElements[e]&&(this.__contentElements[e]=this.__createSuitableContentElement(e));var t=this.__contentElements[e];this.__currentContentElement||(this.__currentContentElement=t);return t},_styleSource:function(){var e=qx.util.AliasManager.getInstance(),t=qx.util.ResourceManager.getInstance(),i=e.resolve(this.getSource()),n=this.getContentElement();this.__wrapper&&(n=n.getChild(0));if(i){this.__checkForContentElementSwitch(i);if("mshtml"==qx.core.Environment.get("engine.name")&&(parseInt(qx.core.Environment.get("engine.version"),10)<9||qx.core.Environment.get("browser.documentmode")<9)){var s=this.getScale()?"scale":"no-repeat";n.tagNameHint=qx.bom.element.Decoration.getTagName(s,i)}var r=this.__getContentElement();if(t.isFontUri(i)){this.__setManagedImage(r,i);var o=this.getTextColor();qx.lang.Type.isString(o)&&this._applyTextColor(o,null)}else if(t.has(i)){var a=t.findHighResolutionSource(i);if(a){var l=t.getImageWidth(i),u=t.getImageHeight(i);this.setWidth(l);this.setHeight(u);var c=l+"px, "+u+"px";this.__currentContentElement.setStyle("background-size",c);this.setSource(a);i=a}this.__setManagedImage(r,i);this.__fireLoadEvent()}else if(qx.io.ImageLoader.isLoaded(i)){this.__setUnmanagedImage(r,i);this.__fireLoadEvent()}else this.__loadUnmanagedImage(r,i)}else this.__resetSource(n)},__fireLoadEvent:function(){this.__requestId++;qx.bom.AnimationFrame.request(function(e){e===this.__requestId?this.fireEvent("loaded"):this.fireEvent("aborted")}.bind(this,this.__requestId))},__getContentElement:function(){var e=this.__currentContentElement;this.__wrapper&&(e=e.getChild(0));return e},__checkForContentElementSwitch:qx.core.Environment.select("engine.name",{mshtml:function(e){var t=qx.core.Environment.get("css.alphaimageloaderneeded"),i=e.endsWith(".png");e.startsWith("@")?this.__setMode("font"):t&&i?this.getScale()&&"alphaScaled"!=this.__getMode()?this.__setMode("alphaScaled"):this.getScale()||"nonScaled"==this.__getMode()||this.__setMode("nonScaled"):this.getScale()&&"scaled"!=this.__getMode()?this.__setMode("scaled"):this.getScale()||"nonScaled"==this.__getMode()||this.__setMode("nonScaled");this.__checkForContentElementReplacement(this.__getSuitableContentElement())},default:function(e){e&&qx.lang.String.startsWith(e,"@")?this.__setMode("font"):this.getScale()&&"scaled"!=this.__getMode()?this.__setMode("scaled"):this.getScale()||"nonScaled"==this.__getMode()||this.__setMode("nonScaled");this.__checkForContentElementReplacement(this.__getSuitableContentElement())}}),__checkForContentElementReplacement:function(e){var t=this.__currentContentElement;if(t!=e&&null!=t){var i={},n=t.getAllStyles();if(n)for(var s in n)i[s]=n[s];"font"===this.__getMode()&&delete i.backgroundImage;var r=this.getBounds();if(null!=r){i.width=r.width+"px";i.height=r.height+"px"}var o=this.getInsets();i.left=parseInt(t.getStyle("left")||o.left)+"px";i.top=parseInt(t.getStyle("top")||o.top)+"px";i.zIndex=10;var a=this.__wrapper?e.getChild(0):e;a.setStyles(i,!0);a.setSelectable(this.getSelectable());t.isVisible()?e.isVisible()||e.show():e.hide();t.isIncluded()?e.isIncluded()||e.include():e.exclude();var l=t.getParent();if(l){var u=l.getChildren().indexOf(t);l.removeAt(u);l.addAt(e,u)}var c=a.getNodeName();a.setSource?a.setSource(null):a.setValue("");var d=this.__getContentElement();a.tagNameHint=c;a.setAttribute("class",d.getAttribute("class"));qx.html.Element.flush();var h=d.getDomElement(),g=e.getDomElement();(t.getListeners()||[]).forEach(function(t){e.addListener(t.type,t.handler,t.self,t.capture)});if(h&&g){var m=h.$$hash;h.$$hash=g.$$hash;g.$$hash=m}this.__currentContentElement=e}},__setManagedImage:function(e,t){var i=qx.util.ResourceManager.getInstance(),n=i.isFontUri(t);if(!this.getEnabled()){var s=t.replace(/\.([a-z]+)$/,"-disabled.$1");if(!n&&i.has(s)){t=s;this.addState("replacement")}else this.removeState("replacement")}if(n||e.getSource()!==t)if(n){this.getScale()&&parseInt(t.split("/")[2],10)&&this.setScale(!1);var r,o;if(this.getScale()){var a=this.getSizeHint();r=this.getWidth()||a.width;o=this.getHeight()||a.height}else{var l=qx.theme.manager.Font.getInstance().resolve(t.match(/@([^/]+)/)[1]);this.assertObject(l,"Virtual image source contains unkown font descriptor");var u=parseInt(t.split("/")[2]||l.getSize(),10);r=i.getImageWidth(t)||u;o=i.getImageHeight(t)||u}this.__updateContentHint(r,o);this.__setSource(e,t)}else{this.__setSource(e,t);this.__updateContentHint(i.getImageWidth(t),i.getImageHeight(t))}},_applyDimension:function(){qx.ui.basic.Image.prototype._applyDimension.base.call(this);if(this.getSource()&&qx.lang.String.startsWith(this.getSource(),"@")){var e=this.getContentElement();if(e)if(this.getScale()){var t=this.getSizeHint(),i=this.getWidth()||t.width||40,n=this.getHeight()||t.height||40;e.setStyle("fontSize",(i>n?n:i)+"px")}else{var s=qx.theme.manager.Font.getInstance().resolve(this.getSource().match(/@([^/]+)/)[1]);e.setStyle("fontSize",s.getSize()+"px")}}},__setUnmanagedImage:function(e,t){var i=qx.io.ImageLoader;this.__setSource(e,t);var n=i.getWidth(t),s=i.getHeight(t);this.__updateContentHint(n,s)},__loadUnmanagedImage:function(e,t){var i=qx.io.ImageLoader,n=t.toLowerCase();if(!n.startsWith("http")&&!n.startsWith("data:image/")){var s=qx.ui.basic.Image;s.__warned||(s.__warned={});if(!s.__warned[t]){this.debug("try to load an unmanaged relative image: "+t);s.__warned[t]=!0}}i.isFailed(t)?this.__resetSource(e):i.load(t,this.__loaderCallback,this)},__resetSource:function(e){null!=e&&(e instanceof qx.html.Image?e.resetSource():e.resetValue())},__setSource:function(e,t){if(t&&qx.lang.String.startsWith(t,"@")){var i=t.split("/"),n=t;i.length>2&&(n=i[0]+"/"+i[1]);var s=qx.util.ResourceManager.getInstance(),r=qx.theme.manager.Font.getInstance().resolve(t.match(/@([^/]+)/)[1]),o=qx.lang.Object.clone(r.getStyles());delete o.color;e.setStyles(o);e.setStyle("font");e.setStyle("display","table-cell");e.setStyle("verticalAlign","middle");e.setStyle("textAlign","center");if(this.getScale())e.setStyle("fontSize",(this.__width>this.__height?this.__height:this.__width)+"px");else{var a=parseInt(i[2]||qx.theme.manager.Font.getInstance().resolve(t.match(/@([^/]+)/)[1]).getSize());e.setStyle("fontSize",a+"px")}var l=s.getData(n);if(l)e.setValue(String.fromCharCode(l[2]));else{var u=parseInt(qx.theme.manager.Font.getInstance().resolve(t.match(/@([^/]+)\/(.*)$/)[2]),16);this.assertNumber(u,"Font source needs either a glyph name or the unicode number in hex");e.setValue(String.fromCharCode(u))}}else{if("div"==e.getNodeName()){var c=qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());if(c){var d=c.getStartColor()&&c.getEndColor(),h=c.getBackgroundImage();if(d||h){var g=this.getScale()?"scale":"no-repeat",m=qx.bom.element.Decoration.getAttributes(t,g),f=c.getStyles(!0),p={backgroundImage:m.style.backgroundImage,backgroundPosition:m.style.backgroundPosition||"0 0",backgroundRepeat:m.style.backgroundRepeat||"no-repeat"};if(h){p.backgroundPosition+=","+f["background-position"]||"0 0";p.backgroundRepeat+=", "+c.getBackgroundRepeat()}if(d){p.backgroundPosition+=", 0 0";p.backgroundRepeat+=", no-repeat"}p.backgroundImage+=","+(f["background-image"]||f.background);e.setStyles(p);return}}else e.setSource&&e.setSource(null)}e.setSource&&e.setSource(t)}},__loaderCallback:function(e,t){if(!0!==this.$$disposed)if(e===qx.util.AliasManager.getInstance().resolve(this.getSource())){if(t.failed){this.warn("Image could not be loaded: "+e);this.fireEvent("loadingFailed")}else{if(t.aborted){this.fireEvent("aborted");return}this.fireEvent("loaded")}this.__setUnmanagedImage(this.__getContentElement(),e)}else this.fireEvent("aborted")},__updateContentHint:function(e,t){if(e!==this.__width||t!==this.__height){this.__width=e;this.__height=t;qx.ui.core.queue.Layout.add(this)}}},destruct:function(){for(var e in this.__contentElements)this.__contentElements.hasOwnProperty(e)&&this.__contentElements[e].disconnectWidget(this);delete this.__currentContentElement;this.__wrapper&&delete this.__wrapper;this._disposeMap("__contentElements")}});qx.ui.basic.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.lang.Function":{},"qx.event.Idle":{},"qx.bom.element.Location":{},"qx.util.placement.Placement":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MPlacement",{statics:{__visible:null,__direction:"left",setVisibleElement:function(e){this.__visible=e},getVisibleElement:function(){return this.__visible},setMoveDirection:function(e){if("top"!==e&&"left"!==e)throw new Error("Invalid value for the parameter 'direction' [qx.ui.core.MPlacement.setMoveDirection()], the value was '"+e+"' but 'top' or 'left' are allowed.");this.__direction=e},getMoveDirection:function(){return this.__direction}},properties:{position:{check:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left-top","left-middle","left-bottom","right-top","right-middle","right-bottom"],init:"bottom-left",themeable:!0},placeMethod:{check:["widget","pointer"],init:"pointer",themeable:!0},domMove:{check:"Boolean",init:!1},placementModeX:{check:["direct","keep-align","best-fit"],init:"keep-align",themeable:!0},placementModeY:{check:["direct","keep-align","best-fit"],init:"keep-align",themeable:!0},offsetLeft:{check:"Integer",init:0,themeable:!0},offsetTop:{check:"Integer",init:0,themeable:!0},offsetRight:{check:"Integer",init:0,themeable:!0},offsetBottom:{check:"Integer",init:0,themeable:!0},offset:{group:["offsetTop","offsetRight","offsetBottom","offsetLeft"],mode:"shorthand",themeable:!0}},members:{__ptwLiveUpdater:null,__ptwLiveDisappearListener:null,__ptwLiveUpdateDisappearListener:null,getLayoutLocation:function(e){var t,i,n,s;if(!(i=e.getBounds()))return null;n=i.left;s=i.top;var r=i;e=e.getLayoutParent();for(;e&&!e.isRootWidget();){n+=(i=e.getBounds()).left;s+=i.top;n+=(t=e.getInsets()).left;s+=t.top;e=e.getLayoutParent()}if(e&&e.isRootWidget()){var o=e.getContentLocation();if(o){n+=o.left;s+=o.top}}return{left:n,top:s,right:n+r.width,bottom:s+r.height}},moveTo:function(e,t){var i=qx.ui.core.MPlacement.getVisibleElement();if(i){var n=this.getBounds(),s=i.getContentLocation();if(n&&s){var r=t+n.height;if(e+n.width>s.left&&e<s.right&&r>s.top&&t<s.bottom){"left"===qx.ui.core.MPlacement.getMoveDirection()?e=Math.max(s.left-n.width,0):t=Math.max(s.top-n.height,0)}}}this.getDomMove()?this.setDomPosition(e,t):this.setLayoutProperties({left:e,top:t})},placeToWidget:function(e,t){if(t){this.__cleanupFromLastPlaceToWidgetLiveUpdate();this.__ptwLiveUpdater=qx.lang.Function.bind(this.placeToWidget,this,e,!1);qx.event.Idle.getInstance().addListener("interval",this.__ptwLiveUpdater);this.__ptwLiveUpdateDisappearListener=function(){this.__cleanupFromLastPlaceToWidgetLiveUpdate()};this.addListener("disappear",this.__ptwLiveUpdateDisappearListener,this)}var i=e.getContentLocation()||this.getLayoutLocation(e);if(null!=i){this._place(i);return!0}return!1},__cleanupFromLastPlaceToWidgetLiveUpdate:function(){if(this.__ptwLiveUpdater){qx.event.Idle.getInstance().removeListener("interval",this.__ptwLiveUpdater);this.__ptwLiveUpdater=null}if(this.__ptwLiveUpdateDisappearListener){this.removeListener("disappear",this.__ptwLiveUpdateDisappearListener,this);this.__ptwLiveUpdateDisappearListener=null}},placeToPointer:function(e){var t=Math.round(e.getDocumentLeft()),i=Math.round(e.getDocumentTop()),n={left:t,top:i,right:t,bottom:i};this._place(n)},placeToElement:function(e,t){var i=qx.bom.element.Location.get(e),n={left:i.left,top:i.top,right:i.left+e.offsetWidth,bottom:i.top+e.offsetHeight};if(t){this.__ptwLiveUpdater=qx.lang.Function.bind(this.placeToElement,this,e,!1);qx.event.Idle.getInstance().addListener("interval",this.__ptwLiveUpdater);this.addListener("disappear",function(){if(this.__ptwLiveUpdater){qx.event.Idle.getInstance().removeListener("interval",this.__ptwLiveUpdater);this.__ptwLiveUpdater=null}},this)}this._place(n)},placeToPoint:function(e){var t={left:e.left,top:e.top,right:e.left,bottom:e.top};this._place(t)},_getPlacementOffsets:function(){return{left:this.getOffsetLeft(),top:this.getOffsetTop(),right:this.getOffsetRight(),bottom:this.getOffsetBottom()}},__getPlacementSize:function(e){var t=null;if(this._computePlacementSize)t=this._computePlacementSize();else if(this.isVisible())t=this.getBounds();null==t?this.addListenerOnce("appear",function(){this.__getPlacementSize(e)},this):e.call(this,t)},_place:function(e){this.__getPlacementSize(function(t){var i=qx.util.placement.Placement.compute(t,this.getLayoutParent().getBounds(),e,this._getPlacementOffsets(),this.getPosition(),this.getPlacementModeX(),this.getPlacementModeY());this.removeState("placementLeft");this.removeState("placementRight");this.addState(e.left<i.left?"placementRight":"placementLeft");this.moveTo(i.left,i.top)})}},destruct:function(){this.__cleanupFromLastPlaceToWidgetLiveUpdate()}});qx.ui.core.MPlacement.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Image":{construct:!0,require:!0},"qx.ui.core.MPlacement":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.DragDropCursor",{extend:qx.ui.basic.Image,include:qx.ui.core.MPlacement,type:"singleton",construct:function(){qx.ui.basic.Image.constructor.call(this);this.setZIndex(1e8);this.setDomMove(!0);this.getApplicationRoot().add(this,{left:-1e3,top:-1e3})},properties:{appearance:{refine:!0,init:"dragdrop-cursor"},action:{check:["alias","copy","move"],apply:"_applyAction",nullable:!0}},members:{_applyAction:function(e,t){t&&this.removeState(t);e&&this.addState(e)}}});qx.ui.core.DragDropCursor.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Style":{},"qx.dom.Node":{},"qx.bom.Viewport":{},"qx.bom.client.Engine":{require:!0},"qx.bom.client.Browser":{},"qx.bom.element.BoxSizing":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"browser.quirksmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Location",{statics:{__style:function(e,t){return qx.bom.element.Style.get(e,t,qx.bom.element.Style.COMPUTED_MODE,!1)},__num:function(e,t){return parseInt(qx.bom.element.Style.get(e,t,qx.bom.element.Style.COMPUTED_MODE,!1),10)||0},__computeScroll:function(e){var t=0,i=0,n=qx.dom.Node.getWindow(e);return{left:t-=qx.bom.Viewport.getScrollLeft(n),top:i-=qx.bom.Viewport.getScrollTop(n)}},__computeBody:qx.core.Environment.select("engine.name",{mshtml:function(e){var t=qx.dom.Node.getDocument(e),i=t.body,n=0,s=0;n-=i.clientLeft+t.documentElement.clientLeft;s-=i.clientTop+t.documentElement.clientTop;if(!qx.core.Environment.get("browser.quirksmode")){n+=this.__num(i,"borderLeftWidth");s+=this.__num(i,"borderTopWidth")}return{left:n,top:s}},webkit:function(e){var t=qx.dom.Node.getDocument(e).body;return{left:t.offsetLeft,top:t.offsetTop}},gecko:function(e){var t=qx.dom.Node.getDocument(e).body,i=t.offsetLeft,n=t.offsetTop;if("border-box"!==qx.bom.element.BoxSizing.get(t)){i+=this.__num(t,"borderLeftWidth");n+=this.__num(t,"borderTopWidth")}return{left:i,top:n}},default:function(e){var t=qx.dom.Node.getDocument(e).body;return{left:t.offsetLeft,top:t.offsetTop}}}),__computeOffset:function(e){var t=e.getBoundingClientRect();return{left:Math.round(t.left),top:Math.round(t.top)}},get:function(e,t){if("BODY"==e.tagName)var i=this.__getBodyLocation(e),n=i.left,s=i.top;else{var r=this.__computeBody(e),o=this.__computeOffset(e),a=this.__computeScroll(e);n=o.left+r.left-a.left,s=o.top+r.top-a.top}var l,u;if(e instanceof SVGElement){var c=e.getBoundingClientRect();l=c.width;u=c.height}else{l=e.offsetWidth;u=e.offsetHeight}var d=n+l,h=s+u;if(t){if("padding"==t||"scroll"==t){var g=qx.bom.element.Style.get(e,"overflowX");"scroll"!=g&&"auto"!=g||(d+=e.scrollWidth-l+this.__num(e,"borderLeftWidth")+this.__num(e,"borderRightWidth"));var m=qx.bom.element.Style.get(e,"overflowY");"scroll"!=m&&"auto"!=m||(h+=e.scrollHeight-u+this.__num(e,"borderTopWidth")+this.__num(e,"borderBottomWidth"))}switch(t){case"padding":n+=this.__num(e,"paddingLeft");s+=this.__num(e,"paddingTop");d-=this.__num(e,"paddingRight");h-=this.__num(e,"paddingBottom");case"scroll":n-=e.scrollLeft;s-=e.scrollTop;d-=e.scrollLeft;h-=e.scrollTop;case"border":n+=this.__num(e,"borderLeftWidth");s+=this.__num(e,"borderTopWidth");d-=this.__num(e,"borderRightWidth");h-=this.__num(e,"borderBottomWidth");break;case"margin":n-=this.__num(e,"marginLeft");s-=this.__num(e,"marginTop");d+=this.__num(e,"marginRight");h+=this.__num(e,"marginBottom")}}return{left:n,top:s,right:d,bottom:h}},__getBodyLocation:function(e){var t=e.offsetTop,i=e.offsetLeft;t+=this.__num(e,"marginTop");i+=this.__num(e,"marginLeft");if("gecko"===qx.core.Environment.get("engine.name")){t+=this.__num(e,"borderLeftWidth");i+=this.__num(e,"borderTopWidth")}return{left:i,top:t}},getLeft:function(e,t){return this.get(e,t).left},getTop:function(e,t){return this.get(e,t).top},getRight:function(e,t){return this.get(e,t).right},getBottom:function(e,t){return this.get(e,t).bottom},getRelative:function(e,t,i,n){var s=this.get(e,i),r=this.get(t,n);return{left:s.left-r.left,top:s.top-r.top,right:s.right-r.right,bottom:s.bottom-r.bottom}},getPosition:function(e){return this.getRelative(e,this.getOffsetParent(e))},getOffsetParent:function(e){if(e instanceof SVGElement)return document.body;for(var t=e.offsetParent||document.body,i=qx.bom.element.Style;t&&!/^body|html$/i.test(t.tagName)&&"static"===i.get(t,"position");)t=t.offsetParent;return t}}});qx.bom.element.Location.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Dispose",{statics:{__queue:[],add:function(e){var t=this.__queue;if(!t.includes(e)){t.unshift(e);qx.ui.core.queue.Manager.scheduleFlush("dispose")}},isEmpty:function(){return 0==this.__queue.length},flush:function(){for(var e=this.__queue,t=e.length-1;t>=0;t--){var i=e[t];e.splice(t,1);i.dispose()}0==e.length&&(this.__queue=[])}}});qx.ui.core.queue.Dispose.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.lang.Object":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.queue.Widget",{statics:{__queue:[],__jobs:{},remove:function(e,t){var i=this.__queue;if(i.includes(e)){var n=e.toHashCode();if(null!=t){if(this.__jobs[n]){delete this.__jobs[n][t];0==qx.lang.Object.getLength(this.__jobs[n])&&qx.lang.Array.remove(i,e)}}else{qx.lang.Array.remove(i,e);delete this.__jobs[n]}}},add:function(e,t){var i=this.__queue;i.includes(e)||i.unshift(e);null==t&&(t="$$default");var n=e.toHashCode();this.__jobs[n]||(this.__jobs[n]={});this.__jobs[n][t]=!0;qx.ui.core.queue.Manager.scheduleFlush("widget")},flush:function(){for(var e,t,i=this.__queue,n=i.length-1;n>=0;n--){e=i[n];t=this.__jobs[e.toHashCode()];i.splice(n,1);e.syncWidget(t)}if(0==i.length){this.__queue=[];this.__jobs={}}}}});qx.ui.core.queue.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.ValueManager":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.Font":{},"qx.lang.Object":{},"qx.bom.webfonts.WebFont":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Font",{type:"singleton",extend:qx.util.ValueManager,implement:[qx.core.IDisposable],construct:function(){qx.util.ValueManager.constructor.call(this);if(qx.$$fontBootstrap){this._manifestFonts=qx.$$fontBootstrap;delete qx.$$fontBootstrap}},properties:{theme:{check:"Theme",nullable:!0,apply:"_applyTheme",event:"changeTheme"}},members:{_manifestFonts:null,resolveDynamic:function(e){var t=this._dynamic;return e instanceof qx.bom.Font?e:t[e]},resolve:function(e){var t=this._dynamic,i=t[e];if(i)return i;var n=this.getTheme();if(null!==n&&n.fonts[e]){var s=new(this.__getFontClass(n.fonts[e]));n.fonts[e].comparisonString&&s.setComparisonString(n.fonts[e].comparisonString);return t[e]=s.set(n.fonts[e])}return e},isDynamic:function(e){var t=this._dynamic;if(e&&(e instanceof qx.bom.Font||void 0!==t[e]))return!0;var i=this.getTheme();if(null!==i&&e&&i.fonts[e]){var n=new(this.__getFontClass(i.fonts[e]));i.fonts[e].comparisonString&&n.setComparisonString(i.fonts[e].comparisonString);t[e]=n.set(i.fonts[e]);return!0}return!1},__resolveInclude:function(e,t){if(e[t].include){var i=e[e[t].include];e[t].include=null;delete e[t].include;e[t]=qx.lang.Object.mergeWith(e[t],i,!1);this.__resolveInclude(e,t)}},_applyTheme:function(e){var t=this._dynamic;for(var i in t)if(t[i].themed){t[i].dispose();delete t[i]}if(e){var n=this._manifestFonts?Object.assign(e.fonts,this._manifestFonts):e.fonts;for(var i in n){n[i].include&&n[n[i].include]&&this.__resolveInclude(n,i);var s=new(this.__getFontClass(n[i]));n[i].comparisonString&&s.setComparisonString(n[i].comparisonString);t[i]=s.set(n[i]);t[i].themed=!0}}this._setDynamic(t)},__getFontClass:function(e){return e.sources?qx.bom.webfonts.WebFont:qx.bom.Font}},destruct:function(){this._disposeMap("_dynamic")}});qx.theme.manager.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.util.AliasManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.manager.Icon",{type:"singleton",extend:qx.core.Object,properties:{theme:{check:"Theme",nullable:!0,apply:"_applyTheme",event:"changeTheme"}},members:{_applyTheme:function(e,t){var i=qx.util.AliasManager.getInstance();if(t)for(var n in t.aliases)i.remove(n);if(e)for(var n in e.aliases)i.add(n,e.aliases[n])}}});qx.theme.manager.Icon.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dev.StackTrace":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Theme",{statics:{define:function(e,t){if(!t)t={};t.include=this.__normalizeArray(t.include);t.patch=this.__normalizeArray(t.patch);this.__validateConfig(e,t);var i={$$type:"Theme",name:e,title:t.title,toString:this.genericToString};t.extend&&(i.supertheme=t.extend);i.basename=qx.Bootstrap.createNamespace(e,i);this.__convert(i,t);this.__initializeAliases(i,t);this.$$registry[e]=i;for(var n=0,s=(r=t.include).length;n<s;n++)this.include(i,r[n]);var r;for(n=0,s=(r=t.patch).length;n<s;n++)this.patch(i,r[n]);t.boot&&t.boot()},__normalizeArray:function(e){return e?qx.Bootstrap.isArray(e)?e:[e]:[]},__initializeAliases:function(e,t){var i=t.aliases||{};t.extend&&t.extend.aliases&&qx.Bootstrap.objectMergeWith(i,t.extend.aliases,!1);e.aliases=i},getAll:function(){return this.$$registry},getByName:function(e){return this.$$registry[e]},isDefined:function(e){return void 0!==this.getByName(e)},getTotalNumber:function(){return qx.Bootstrap.objectGetLength(this.$$registry)},genericToString:function(){return"[Theme "+this.name+"]"},__extractType:function(e){for(var t=0,i=this.__inheritableKeys,n=i.length;t<n;t++)if(e[i[t]])return i[t]},__convert:function(e,t){var i=this.__extractType(t);t.extend&&!i&&(i=t.extend.type);e.type=i||"other";var n=function(){};t.extend&&(n.prototype=new t.extend.$$clazz);var s=n.prototype,r=t[i];for(var o in r){s[o]=r[o];if(s[o].base){if(!t.extend)throw new Error("Found base flag in entry '"+o+"' of theme '"+t.name+"'. Base flags are not allowed for themes without a valid super theme!");s[o].base=t.extend}}e.$$clazz=n;e[i]=new n},$$registry:{},__inheritableKeys:["colors","borders","decorations","fonts","icons","widgets","appearances","meta"],__allowedKeys:{title:"string",aliases:"object",type:"string",extend:"object",colors:"object",borders:"object",decorations:"object",fonts:"object",icons:"object",widgets:"object",appearances:"object",meta:"object",include:"object",patch:"object",boot:"function"},__metaKeys:{color:"object",border:"object",decoration:"object",font:"object",icon:"object",appearance:"object",widget:"object"},__validateConfig:function(e,t){var i=this.__allowedKeys;for(var n in t){if(void 0===i[n])throw new Error('The configuration key "'+n+'" in theme "'+e+'" is not allowed!');if(null==t[n])throw new Error('Invalid key "'+n+'" in theme "'+e+'"! The value is undefined/null!');if(null!==i[n]&&_typeof(t[n])!==i[n])throw new Error('Invalid type of key "'+n+'" in theme "'+e+'"! The type of the key must be "'+i[n]+'"!')}for(var s=["colors","borders","decorations","fonts","icons","widgets","appearances","meta"],r=0,o=s.length;r<o;r++){if(void 0!==t[n=s[r]]&&(t[n]instanceof Array||t[n]instanceof RegExp||t[n]instanceof Date||void 0!==t[n].classname))throw new Error('Invalid key "'+n+'" in theme "'+e+'"! The value needs to be a map!')}var a=0;for(r=0,o=s.length;r<o;r++){t[n=s[r]]&&a++;if(a>1)throw new Error("You can only define one theme category per file! Invalid theme: "+e)}if(t.meta){var l;for(var n in t.meta){l=t.meta[n];if(void 0===this.__metaKeys[n])throw new Error('The key "'+n+'" is not allowed inside a meta theme block.');if(_typeof(l)!==this.__metaKeys[n])throw new Error('The type of the key "'+n+'" inside the meta block is wrong.');if("object"!==_typeof(l)||null===l||"Theme"!==l.$$type)throw new Error('The content of a meta theme must reference to other themes. The value for "'+n+'" in theme "'+e+'" is invalid: '+l)}}if(t.extend&&"Theme"!==t.extend.$$type)throw new Error('Invalid extend in theme "'+e+'": '+t.extend);if(t.include)for(r=0,o=t.include.length;r<o;r++)if(void 0===t.include[r]||"Theme"!==t.include[r].$$type)throw new Error('Invalid include in theme "'+e+'": '+t.include[r]);if(t.patch)for(r=0,o=t.patch.length;r<o;r++)if(void 0===t.patch[r]||"Theme"!==t.patch[r].$$type)throw new Error('Invalid patch in theme "'+e+'": '+t.patch[r])},patch:function(e,t){this.__checkForInvalidTheme(t);var i=this.__extractType(t);if(i!==this.__extractType(e))throw new Error("The mixins '"+e.name+"' are not compatible '"+t.name+"'!");var n=t[i],s=e.$$clazz.prototype;for(var r in n)s[r]=n[r]},include:function(e,t){this.__checkForInvalidTheme(t);var i=t.type;if(i!==e.type)throw new Error("The mixins '"+e.name+"' are not compatible '"+t.name+"'!");var n=t[i],s=e.$$clazz.prototype;for(var r in n)void 0===s[r]&&(s[r]=n[r])},__checkForInvalidTheme:function(e){if(void 0===e||null==e){var t=new Error("Mixin theme is not a valid theme!"),i=qx.dev.StackTrace.getStackTraceFromError(t);qx.Bootstrap.error(this,i);throw t}}}});qx.Theme.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.Document":{},"qx.bom.client.OperatingSystem":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Viewport",{statics:{getWidth:function(e){var t=(e=e||window).document;return qx.bom.Document.isStandardMode(e)?t.documentElement.clientWidth:t.body.clientWidth},getHeight:function(e){var t=(e=e||window).document;return"ios"==qx.core.Environment.get("os.name")&&window.innerHeight!=t.documentElement.clientHeight?window.innerHeight:qx.bom.Document.isStandardMode(e)?t.documentElement.clientHeight:t.body.clientHeight},getScrollLeft:function(e){if(void 0!==(e=e||window).pageXOffset)return e.pageXOffset;var t=e.document;return t.documentElement.scrollLeft||t.body.scrollLeft},getScrollTop:function(e){if(void 0!==(e=e||window).pageYOffset)return e.pageYOffset;var t=e.document;return t.documentElement.scrollTop||t.body.scrollTop},__getOrientationNormalizer:function(e){var t=this.getWidth(e)>this.getHeight(e)?90:0,i=e.orientation;return null==i||Math.abs(i%180)==t?{"-270":90,"-180":180,"-90":-90,0:0,90:90,180:180,270:-90}:{"-270":180,"-180":-90,"-90":0,0:90,90:180,180:-90,270:0}},__orientationNormalizer:null,getOrientation:function(e){var t=(e=e||window.top).orientation;if(null==t)t=this.getWidth(e)>this.getHeight(e)?90:0;else{null==this.__orientationNormalizer&&(this.__orientationNormalizer=this.__getOrientationNormalizer(e));t=this.__orientationNormalizer[t]}return t},isLandscape:function(e){var t=this.getOrientation(e);return-90===t||90===t},isPortrait:function(e){var t=this.getOrientation(e);return 0===t||180===t}}});qx.bom.Viewport.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.Emitter",{extend:Object,statics:{__storage:[]},members:{__listener:null,__any:null,on:function(e,t,i){var n=qx.event.Emitter.__storage.length;this.__getStorage(e).push({listener:t,ctx:i,id:n,name:e});qx.event.Emitter.__storage.push({name:e,listener:t,ctx:i});return n},once:function(e,t,i){var n=qx.event.Emitter.__storage.length;this.__getStorage(e).push({listener:t,ctx:i,once:!0,id:n});qx.event.Emitter.__storage.push({name:e,listener:t,ctx:i});return n},off:function(e,t,i){for(var n=this.__getStorage(e),s=n.length-1;s>=0;s--){var r=n[s];if(r.listener==t&&r.ctx==i){n.splice(s,1);qx.event.Emitter.__storage[r.id]=null;return r.id}}return null},offById:function(e){var t=qx.event.Emitter.__storage[e];t&&this.off(t.name,t.listener,t.ctx);return null},addListener:function(e,t,i){return this.on(e,t,i)},addListenerOnce:function(e,t,i){return this.once(e,t,i)},removeListener:function(e,t,i){this.off(e,t,i)},removeListenerById:function(e){this.offById(e)},emit:function(e,t){for(var i=this.__getStorage(e).concat(),n=[],s=0;s<i.length;s++){(r=i[s]).listener.call(r.ctx,t);r.once&&n.push(r)}n.forEach(function(t){var i=this.__getStorage(e),n=i.indexOf(t);i.splice(n,1)}.bind(this));for(s=(i=this.__getStorage("*")).length-1;s>=0;s--){var r;(r=i[s]).listener.call(r.ctx,t)}},getListeners:function(){return this.__listener},getEntryById:function(e){for(var t in this.__listener)for(var i=this.__listener[t],n=0,s=i.length;n<s;n++)if(i[n].id===e)return i[n]},__getStorage:function(e){null==this.__listener&&(this.__listener={});null==this.__listener[e]&&(this.__listener[e]=[]);return this.__listener[e]}}});qx.event.Emitter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Date":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.Emitter":{require:!0},"qx.bom.client.CssAnimation":{}},environment:{provided:[],required:{"css.animation.requestframe":{className:"qx.bom.client.CssAnimation"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.AnimationFrame",{extend:qx.event.Emitter,events:{end:void 0,frame:"Number"},members:{__canceled:!1,startSequence:function(e){this.__canceled=!1;var t=window.performance&&performance.now?performance.now()+qx.bom.AnimationFrame.__start:Date.now();this.id=qx.bom.AnimationFrame.request(function i(n){if(this.__canceled)this.id=null;else if(n>=t+e){this.emit("end");this.id=null}else{var s=Math.max(n-t,0);this.emit("frame",s);this.id=qx.bom.AnimationFrame.request(i,this)}},this)},cancelSequence:function(){this.__canceled=!0}},statics:{TIMEOUT:30,calculateTiming:function(e,t){if("ease-in"==e)var i=[3.1223e-7,.0757,1.2646,-.167,-.4387,.2654];else if("ease-out"==e)i=[-7.0198e-8,1.652,-.551,-.0458,.1255,-.1807];else{if("linear"==e)return t;if("ease-in-out"==e)i=[2.482e-7,-.2289,3.3466,-1.0857,-1.7354,.7034];else i=[-.0021,.2472,9.8054,-21.6869,17.7611,-5.1226]}for(var n=0,s=0;s<i.length;s++)n+=i[s]*Math.pow(t,s);return n},request:function(e,t){var i=qx.core.Environment.get("css.animation.requestframe"),n=function(i){i<1e10&&(i=qx.bom.AnimationFrame.__start+i);i=i||Date.now();e.call(t,i)};return i?window[i](n):window.setTimeout(function(){n()},qx.bom.AnimationFrame.TIMEOUT)}},defer:function(e){e.__start=window.performance&&performance.timing&&performance.timing.navigationStart;e.__start||(e.__start=Date.now())}});qx.bom.AnimationFrame.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.Wheel",{statics:{MAXSCROLL:null,MINSCROLL:null,FACTOR:1,IS_TOUCHPAD:!1,getDelta:function(e,t){if(void 0===t){var i=0;void 0!==e.wheelDelta?i=-e.wheelDelta:0!==e.detail?i=e.detail:void 0!==e.deltaY&&(i=e.deltaY);return this.__normalize(i)}if("x"===t){var n=0;void 0!==e.wheelDelta?void 0!==e.wheelDeltaX&&(n=e.wheelDeltaX?this.__normalize(-e.wheelDeltaX):0):e.axis&&e.axis==e.HORIZONTAL_AXIS&&void 0!==e.detail&&e.detail>0?n=this.__normalize(e.detail):void 0!==e.deltaX&&(n=this.__normalize(e.deltaX));return n}if("y"===t){var s=0;void 0!==e.wheelDelta?s=void 0!==e.wheelDeltaY?e.wheelDeltaY?this.__normalize(-e.wheelDeltaY):0:this.__normalize(-e.wheelDelta):(!e.axis||e.axis!=e.HORIZONTAL_AXIS)&&void 0!==e.detail&&e.detail>0?s=this.__normalize(e.detail):void 0!==e.deltaY&&(s=this.__normalize(e.deltaY));return s}return 0},__normalize:function(e){if(qx.util.Wheel.IS_TOUCHPAD){qx.util.Wheel.MINSCROLL=null;qx.util.Wheel.MAXSCROLL=null;qx.util.Wheel.FACTOR=1;return e}var t=Math.abs(e);if(0===t)return 0;if(null==qx.util.Wheel.MINSCROLL||qx.util.Wheel.MINSCROLL>t){qx.util.Wheel.MINSCROLL=t;this.__recalculateMultiplicator()}if(null==qx.util.Wheel.MAXSCROLL||qx.util.Wheel.MAXSCROLL<t){qx.util.Wheel.MAXSCROLL=t;this.__recalculateMultiplicator()}if(qx.util.Wheel.MAXSCROLL===t&&qx.util.Wheel.MINSCROLL===t)return e/t*2;var i=qx.util.Wheel.MAXSCROLL-qx.util.Wheel.MINSCROLL,n=e/i*Math.log(i)*qx.util.Wheel.FACTOR;return n<0?Math.min(n,-1):Math.max(n,1)},__recalculateMultiplicator:function(){var e=qx.util.Wheel.MAXSCROLL||0,t=qx.util.Wheel.MINSCROLL||e;if(!(e<=t)){var i=e-t,n=e/i*Math.log(i);0==n&&(n=1);qx.util.Wheel.FACTOR=6/n}}}});qx.util.Wheel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.core.Assert":{},"qx.event.GlobalError":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Timer",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);null!=e&&this.setInterval(e);var t=this;this.__oninterval=function(){t._oninterval.call(t)}},events:{interval:"qx.event.type.Event"},statics:{once:function(e,t,i){qx.core.Assert.assertFunction(e,"func is not a function");qx.core.Assert.assertNotUndefined(i,"No timeout given");var n=new qx.event.Timer(i);n.__onceFunc=e;n.addListener("interval",function(i){n.stop();e.call(t,i);delete n.__onceFunc;n.dispose();t=null},t);n.start();return n}},properties:{enabled:{init:!1,check:"Boolean",apply:"_applyEnabled"},interval:{check:"Integer",init:1e3,apply:"_applyInterval"}},members:{__intervalHandler:null,__oninterval:null,_applyInterval:function(e,t){this.getEnabled()&&this.restart()},_applyEnabled:function(e,t){if(t){window.clearInterval(this.__intervalHandler);this.__intervalHandler=null}else e&&(this.__intervalHandler=window.setInterval(this.__oninterval,this.getInterval()))},start:function(){this.setEnabled(!0)},startWith:function(e){this.setInterval(e);this.start()},stop:function(){this.setEnabled(!1)},restart:function(){this.stop();this.start()},restartWith:function(e){this.stop();this.startWith(e)},_oninterval:qx.event.GlobalError.observeMethod(function(){this.$$disposed||this.getEnabled()&&this.fireEvent("interval")})},destruct:function(){this.__intervalHandler&&window.clearInterval(this.__intervalHandler);this.__intervalHandler=this.__oninterval=null}});qx.event.Timer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Dom":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.KeyInput",{extend:qx.event.type.Dom,members:{init:function(e,t,i){qx.event.type.KeyInput.prototype.init.base.call(this,e,t,null,!0,!0);this._charCode=i;return this},clone:function(e){var t=qx.event.type.KeyInput.prototype.clone.base.call(this,e);t._charCode=this._charCode;return t},getCharCode:function(){return this._charCode},getChar:function(){return String.fromCharCode(this._charCode)}}});qx.event.type.KeyInput.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Dom":{require:!0},"qx.event.util.Keyboard":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.KeySequence",{extend:qx.event.type.Dom,members:{init:function(e,t,i){qx.event.type.KeySequence.prototype.init.base.call(this,e,t,null,!0,!0);this._keyCode=e.keyCode;this._identifier=i;return this},clone:function(e){var t=qx.event.type.KeySequence.prototype.clone.base.call(this,e);t._keyCode=this._keyCode;t._identifier=this._identifier;return t},getKeyIdentifier:function(){return this._identifier},getKeyCode:function(){return this._keyCode},isPrintable:function(){return qx.event.util.Keyboard.isPrintableKeyIdentifier(this._identifier)}}});qx.event.type.KeySequence.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{require:!0}},environment:{provided:[],required:{"os.name":{load:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.util.Keyboard",{statics:{specialCharCodeMap:{8:"Backspace",9:"Tab",13:"Enter",27:"Escape",32:"Space"},numpadToCharCode:{96:"0".charCodeAt(0),97:"1".charCodeAt(0),98:"2".charCodeAt(0),99:"3".charCodeAt(0),100:"4".charCodeAt(0),101:"5".charCodeAt(0),102:"6".charCodeAt(0),103:"7".charCodeAt(0),104:"8".charCodeAt(0),105:"9".charCodeAt(0),106:"*".charCodeAt(0),107:"+".charCodeAt(0),109:"-".charCodeAt(0),110:",".charCodeAt(0),111:"/".charCodeAt(0)},keyCodeToIdentifierMap:{16:"Shift",17:"Control",18:"Alt",20:"CapsLock",224:"Meta",37:"Left",38:"Up",39:"Right",40:"Down",33:"PageUp",34:"PageDown",35:"End",36:"Home",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",44:"PrintScreen",145:"Scroll",19:"Pause",91:"osx"==qx.core.Environment.get("os.name")?"cmd":"Win",92:"Win",93:"osx"==qx.core.Environment.get("os.name")?"cmd":"Apps"},charCodeA:"A".charCodeAt(0),charCodeZ:"Z".charCodeAt(0),charCode0:"0".charCodeAt(0),charCode9:"9".charCodeAt(0),keyCodeToIdentifier:function(e){if(this.isIdentifiableKeyCode(e)){var t=this.numpadToCharCode[e];return t?String.fromCharCode(t):this.keyCodeToIdentifierMap[e]||this.specialCharCodeMap[e]||String.fromCharCode(e)}return"Unidentified"},charCodeToIdentifier:function(e){return this.specialCharCodeMap[e]||String.fromCharCode(e).toUpperCase()},isIdentifiableKeyCode:function(e){return e>=this.charCodeA&&e<=this.charCodeZ||(e>=this.charCode0&&e<=this.charCode9||(!!this.specialCharCodeMap[e]||(!!this.numpadToCharCode[e]||!!this.isNonPrintableKeyCode(e))))},isNonPrintableKeyCode:function(e){return!!this.keyCodeToIdentifierMap[e]},isValidKeyIdentifier:function(e){if(this.identifierToKeyCodeMap[e])return!0;if(1!=e.length)return!1;if(e>="0"&&e<="9")return!0;if(e>="A"&&e<="Z")return!0;switch(e){case"+":case"-":case"*":case"/":case",":return!0;default:return!1}},isPrintableKeyIdentifier:function(e){return"Space"===e||!this.identifierToKeyCodeMap[e]}},defer:function(e){if(!e.identifierToKeyCodeMap){e.identifierToKeyCodeMap={};for(var t in e.keyCodeToIdentifierMap)e.identifierToKeyCodeMap[e.keyCodeToIdentifierMap[t]]=parseInt(t,10);for(var t in e.specialCharCodeMap)e.identifierToKeyCodeMap[e.specialCharCodeMap[t]]=parseInt(t,10)}}});qx.event.util.Keyboard.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0},"qx.dom.Node":{},"qx.bom.Viewport":{},"qx.event.Registration":{},"qx.event.handler.DragDrop":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Drag",{extend:qx.event.type.Event,members:{init:function(e,t){qx.event.type.Drag.prototype.init.base.call(this,!0,e);if(t){this._native=t.getNativeEvent()||null;this._originalTarget=t.getOriginalTarget()||null}else{this._native=null;this._originalTarget=null}return this},clone:function(e){var t=qx.event.type.Drag.prototype.clone.base.call(this,e);t._native=this._native;return t},getDocumentLeft:function(){if(null==this._native)return 0;var e=this._native.pageX;if(void 0!==e){0==e&&"touch"==this._native.pointerType&&(e=this._native._original.changedTouches[0].pageX||0);return Math.round(e)}var t=qx.dom.Node.getWindow(this._native.srcElement);return Math.round(this._native.clientX)+qx.bom.Viewport.getScrollLeft(t)},getDocumentTop:function(){if(null==this._native)return 0;var e=this._native.pageY;if(void 0!==e){0==e&&"touch"==this._native.pointerType&&(e=this._native._original.changedTouches[0].pageY||0);return Math.round(e)}var t=qx.dom.Node.getWindow(this._native.srcElement);return Math.round(this._native.clientY)+qx.bom.Viewport.getScrollTop(t)},getManager:function(){return qx.event.Registration.getManager(this.getTarget()).getHandler(qx.event.handler.DragDrop)},addType:function(e){this.getManager().addType(e)},addAction:function(e){this.getManager().addAction(e)},supportsType:function(e){return this.getManager().supportsType(e)},supportsAction:function(e){return this.getManager().supportsAction(e)},addData:function(e,t){this.getManager().addData(e,t)},getData:function(e){return this.getManager().getData(e)},getDataAsync:function(e){return this.getManager().getDataAsync(e)},getCurrentType:function(){return this.getManager().getCurrentType()},getCurrentAction:function(){return this.getDefaultPrevented()?null:this.getManager().getCurrentAction()},getCurrentActionAsync:function(){return this.getDefaultPrevented()?null:this.getManager().getCurrentActionAsync()},setDropAllowed:function(e){this.getManager().setDropAllowed(e)},getDragTarget:function(){return this.getManager().getDragTarget()},stopSession:function(){this.getManager().clearSession()}}});qx.event.type.Drag.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Style":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["css.textoverflow","css.placeholder","css.borderradius","css.boxshadow","css.gradient.linear","css.gradient.filter","css.gradient.radial","css.gradient.legacywebkit","css.boxmodel","css.rgba","css.borderimage","css.borderimage.standardsyntax","css.usermodify","css.userselect","css.userselect.none","css.appearance","css.float","css.boxsizing","css.inlineblock","css.opacity","css.textShadow","css.textShadow.filter","css.alphaimageloaderneeded","css.pointerevents","css.flexboxSyntax"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Css",{statics:{__WEBKIT_LEGACY_GRADIENT:null,getBoxModel:function(){return"mshtml"!==qx.bom.client.Engine.getName()||!qx.bom.client.Browser.getQuirksMode()?"content":"border"},getTextOverflow:function(){return qx.bom.Style.getPropertyName("textOverflow")},getPlaceholder:function(){return"placeholder"in document.createElement("input")},getAppearance:function(){return qx.bom.Style.getPropertyName("appearance")},getBorderRadius:function(){return qx.bom.Style.getPropertyName("borderRadius")},getBoxShadow:function(){return qx.bom.Style.getPropertyName("boxShadow")},getBorderImage:function(){return qx.bom.Style.getPropertyName("borderImage")},getBorderImageSyntax:function(){var e=qx.bom.client.Css.getBorderImage();if(!e)return null;var t=document.createElement("div");if("borderImage"===e){t.style[e]='url("foo.png") 4 4 4 4 fill stretch';if(t.style.borderImageSource.indexOf("foo.png")>=0&&t.style.borderImageSlice.indexOf("4 fill")>=0&&t.style.borderImageRepeat.indexOf("stretch")>=0)return!0}else{t.style[e]='url("foo.png") 4 4 4 4 stretch';if(t.style[e].indexOf("foo.png")>=0)return!1}return null},getUserSelect:function(){return qx.bom.Style.getPropertyName("userSelect")},getUserSelectNone:function(){var e=qx.bom.client.Css.getUserSelect();if(e){var t=document.createElement("span");t.style[e]="-moz-none";return"-moz-none"===t.style[e]?"-moz-none":"none"}return null},getUserModify:function(){return qx.bom.Style.getPropertyName("userModify")},getFloat:function(){var e=document.documentElement.style;return void 0!==e.cssFloat?"cssFloat":void 0!==e.styleFloat?"styleFloat":null},getLinearGradient:function(){qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT=!1;var e="linear-gradient(0deg, #fff, #000)",t=document.createElement("div");if(!(i=qx.bom.Style.getAppliedStyle(t,"backgroundImage",e))){e="-webkit-gradient(linear,0% 0%,100% 100%,from(white), to(red))";var i;(i=qx.bom.Style.getAppliedStyle(t,"backgroundImage",e,!1))&&(qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT=!0)}if(!i)return null;var n=/(.*?)\(/.exec(i);return n?n[1]:null},getFilterGradient:function(){return qx.bom.client.Css.__isFilterSupported("DXImageTransform.Microsoft.Gradient","startColorStr=#550000FF, endColorStr=#55FFFF00")},getRadialGradient:function(){var e=document.createElement("div"),t=qx.bom.Style.getAppliedStyle(e,"backgroundImage","radial-gradient(0px 0px, cover, red 50%, blue 100%)");if(!t)return null;var i=/(.*?)\(/.exec(t);return i?i[1]:null},getLegacyWebkitGradient:function(){null===qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT&&qx.bom.client.Css.getLinearGradient();return qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT},getRgba:function(){var e;try{e=document.createElement("div")}catch(t){e=document.createElement()}try{e.style.color="rgba(1, 2, 3, 0.5)";if(-1!=e.style.color.indexOf("rgba"))return!0}catch(e){}return!1},getBoxSizing:function(){return qx.bom.Style.getPropertyName("boxSizing")},getInlineBlock:function(){var e=document.createElement("span");e.style.display="inline-block";if("inline-block"==e.style.display)return"inline-block";e.style.display="-moz-inline-box";return"-moz-inline-box"!==e.style.display?"-moz-inline-box":null},getOpacity:function(){return"string"==typeof document.documentElement.style.opacity},getTextShadow:function(){return!!qx.bom.Style.getPropertyName("textShadow")},getFilterTextShadow:function(){return qx.bom.client.Css.__isFilterSupported("DXImageTransform.Microsoft.Shadow","color=#666666,direction=45")},__isFilterSupported:function(e,t){var i=!1,n="progid:"+e+"("+t+");",s=document.createElement("div");document.body.appendChild(s);s.style.filter=n;s.filters&&s.filters.length>0&&1==s.filters.item(e).enabled&&(i=!0);document.body.removeChild(s);return i},getAlphaImageLoaderNeeded:function(){return"mshtml"==qx.bom.client.Engine.getName()&&qx.bom.client.Browser.getDocumentMode()<9},getPointerEvents:function(){var e=document.documentElement;if("pointerEvents"in e.style){var t=e.style.pointerEvents;e.style.pointerEvents="auto";e.style.pointerEvents="foo";var i="auto"==e.style.pointerEvents;e.style.pointerEvents=t;return i}return!1},getFlexboxSyntax:function(){for(var e=null,t=document.createElement("detect"),i=[{value:"flex",syntax:"flex"},{value:"-ms-flexbox",syntax:"flexbox"},{value:"-webkit-flex",syntax:"flex"}],n=0;n<i.length;n++){try{t.style.display=i[n].value}catch(e){return null}if(t.style.display===i[n].value){e=i[n].syntax;break}}t=null;return e}},defer:function(e){qx.core.Environment.add("css.textoverflow",e.getTextOverflow);qx.core.Environment.add("css.placeholder",e.getPlaceholder);qx.core.Environment.add("css.borderradius",e.getBorderRadius);qx.core.Environment.add("css.boxshadow",e.getBoxShadow);qx.core.Environment.add("css.gradient.linear",e.getLinearGradient);qx.core.Environment.add("css.gradient.filter",e.getFilterGradient);qx.core.Environment.add("css.gradient.radial",e.getRadialGradient);qx.core.Environment.add("css.gradient.legacywebkit",e.getLegacyWebkitGradient);qx.core.Environment.add("css.boxmodel",e.getBoxModel);qx.core.Environment.add("css.rgba",e.getRgba);qx.core.Environment.add("css.borderimage",e.getBorderImage);qx.core.Environment.add("css.borderimage.standardsyntax",e.getBorderImageSyntax);qx.core.Environment.add("css.usermodify",e.getUserModify);qx.core.Environment.add("css.userselect",e.getUserSelect);qx.core.Environment.add("css.userselect.none",e.getUserSelectNone);qx.core.Environment.add("css.appearance",e.getAppearance);qx.core.Environment.add("css.float",e.getFloat);qx.core.Environment.add("css.boxsizing",e.getBoxSizing);qx.core.Environment.add("css.inlineblock",e.getInlineBlock);qx.core.Environment.add("css.opacity",e.getOpacity);qx.core.Environment.add("css.textShadow",e.getTextShadow);qx.core.Environment.add("css.textShadow.filter",e.getFilterTextShadow);qx.core.Environment.add("css.alphaimageloaderneeded",e.getAlphaImageLoaderNeeded);qx.core.Environment.add("css.pointerevents",e.getPointerEvents);qx.core.Environment.add("css.flexboxSyntax",e.getFlexboxSyntax)}});qx.bom.client.Css.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.String":{require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Clip",{statics:{compile:function(e){if(!e)return"clip:auto;";var t,i,n=e.left,s=e.top,r=e.width,o=e.height;if(null==n){t=null==r?"auto":r+"px";n="auto"}else{t=null==r?"auto":n+r+"px";n+="px"}if(null==s){i=null==o?"auto":o+"px";s="auto"}else{i=null==o?"auto":s+o+"px";s+="px"}return"clip:rect("+s+","+t+","+i+","+n+");"},get:function(e,t){var i,n,s,r,o,a,l=qx.bom.element.Style.get(e,"clip",t,!1);if("string"==typeof l&&"auto"!==l&&""!==l){l=l.trim();if(!/\((.*)\)/.test(l))throw new Error("Could not parse clip string: "+l);var u=RegExp.$1;if(/,/.test(u))var c=u.split(",");else c=u.split(" ");n=c[0].trim();o=c[1].trim();a=c[2].trim();"auto"===(i=c[3].trim())&&(i=null);"auto"===n&&(n=null);"auto"===o&&(o=null);"auto"===a&&(a=null);null!=n&&(n=parseInt(n,10));null!=o&&(o=parseInt(o,10));null!=a&&(a=parseInt(a,10));null!=i&&(i=parseInt(i,10));null!=o&&null!=i?s=o-i:null!=o&&(s=o);null!=a&&null!=n?r=a-n:null!=a&&(r=a)}return{left:i||null,top:n||null,width:s||null,height:r||null}},set:function(e,t){if(t){var i,n,s=t.left,r=t.top,o=t.width,a=t.height;if(null==s){i=null==o?"auto":o+"px";s="auto"}else{i=null==o?"auto":s+o+"px";s+="px"}if(null==r){n=null==a?"auto":a+"px";r="auto"}else{n=null==a?"auto":r+a+"px";r+="px"}e.style.clip="rect("+r+","+i+","+n+","+s+")"}else e.style.clip="rect(auto,auto,auto,auto)"},reset:function(e){e.style.clip="rect(auto, auto, auto, auto)"}}});qx.bom.element.Clip.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Style":{},"qx.bom.client.Engine":{defer:"runtime"},"qx.bom.client.Browser":{defer:"runtime"}},environment:{provided:[],required:{"engine.name":{defer:!0,className:"qx.bom.client.Engine"},"engine.version":{defer:!0,className:"qx.bom.client.Engine"},"browser.documentmode":{defer:!0,className:"qx.bom.client.Browser"},"browser.quirksmode":{defer:!0,className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Cursor",{statics:{__map:{},compile:function(e){return"cursor:"+(this.__map[e]||e)+";"},get:function(e,t){return qx.bom.element.Style.get(e,"cursor",t,!1)},set:function(e,t){e.style.cursor=this.__map[t]||t},reset:function(e){e.style.cursor=""}},defer:function(e){if("mshtml"==qx.core.Environment.get("engine.name")&&(parseFloat(qx.core.Environment.get("engine.version"))<9||qx.core.Environment.get("browser.documentmode")<9)&&!qx.core.Environment.get("browser.quirksmode")){e.__map["nesw-resize"]="ne-resize";e.__map["nwse-resize"]="nw-resize"}}});qx.bom.element.Cursor.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.bom.client.Css":{},"qx.bom.element.Style":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"css.opacity":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Opacity",{statics:{compile:qx.core.Environment.select("engine.name",{mshtml:function(e){e>=1&&(e=1);e<1e-5&&(e=0);return qx.core.Environment.get("css.opacity")?"opacity:"+e+";":"zoom:1;filter:alpha(opacity="+100*e+");"},default:function(e){return"opacity:"+e+";"}}),set:qx.core.Environment.select("engine.name",{mshtml:function(e,t){if(qx.core.Environment.get("css.opacity"))e.style.opacity=t;else{var i=qx.bom.element.Style.get(e,"filter",qx.bom.element.Style.COMPUTED_MODE,!1);t>=1&&(t=1);t<1e-5&&(t=0);e.currentStyle&&e.currentStyle.hasLayout||(e.style.zoom=1);e.style.filter=i.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*t+")"}},default:function(e,t){e.style.opacity=t}}),reset:qx.core.Environment.select("engine.name",{mshtml:function(e){if(qx.core.Environment.get("css.opacity"))e.style.opacity="";else{var t=qx.bom.element.Style.get(e,"filter",qx.bom.element.Style.COMPUTED_MODE,!1);e.style.filter=t.replace(/alpha\([^\)]*\)/gi,"")}},default:function(e){e.style.opacity=""}}),get:qx.core.Environment.select("engine.name",{mshtml:function(e,t){if(qx.core.Environment.get("css.opacity")){return null!=(n=qx.bom.element.Style.get(e,"opacity",t,!1))?parseFloat(n):1}var i=qx.bom.element.Style.get(e,"filter",t,!1);if(i){var n;if((n=i.match(/alpha\(opacity=(.*)\)/))&&n[1])return parseFloat(n[1])/100}return 1},default:function(e,t){var i=qx.bom.element.Style.get(e,"opacity",t,!1);return null!=i?parseFloat(i):1}})}});qx.bom.element.Opacity.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Css":{},"qx.bom.Style":{},"qx.log.Logger":{},"qx.bom.element.Style":{},"qx.bom.Document":{},"qx.dom.Node":{}},environment:{provided:[],required:{"css.boxsizing":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.BoxSizing",{statics:{__nativeBorderBox:{tags:{button:!0,select:!0},types:{search:!0,button:!0,submit:!0,reset:!0,checkbox:!0,radio:!0}},__usesNativeBorderBox:function(e){var t=this.__nativeBorderBox;return t.tags[e.tagName.toLowerCase()]||t.types[e.type]},compile:function(e){if(qx.core.Environment.get("css.boxsizing")){return qx.bom.Style.getCssName(qx.core.Environment.get("css.boxsizing"))+":"+e+";"}qx.log.Logger.warn(this,"This client does not support dynamic modification of the boxSizing property.");qx.log.Logger.trace()},get:function(e){return qx.core.Environment.get("css.boxsizing")?qx.bom.element.Style.get(e,"boxSizing",null,!1)||"":qx.bom.Document.isStandardMode(qx.dom.Node.getWindow(e))&&!this.__usesNativeBorderBox(e)?"content-box":"border-box"},set:function(e,t){if(qx.core.Environment.get("css.boxsizing"))try{e.style[qx.core.Environment.get("css.boxsizing")]=t}catch(e){qx.log.Logger.warn(this,"This client does not support the boxSizing value",t)}else qx.log.Logger.warn(this,"This client does not support dynamic modification of the boxSizing property.")},reset:function(e){this.set(e,"")}}});qx.bom.element.BoxSizing.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.String":{require:!0,defer:"runtime"},"qx.bom.client.Css":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Object":{},"qx.bom.Style":{},"qx.bom.element.Clip":{require:!0},"qx.bom.element.Cursor":{require:!0},"qx.bom.element.Opacity":{require:!0},"qx.bom.element.BoxSizing":{require:!0},"qx.core.Assert":{},"qx.dom.Node":{}},environment:{provided:[],required:{"css.appearance":{className:"qx.bom.client.Css"},"css.userselect":{className:"qx.bom.client.Css"},"css.textoverflow":{className:"qx.bom.client.Css"},"css.borderimage":{className:"qx.bom.client.Css"},"css.float":{className:"qx.bom.client.Css"},"css.usermodify":{className:"qx.bom.client.Css"},"css.boxsizing":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Style",{statics:{__styleNames:null,__cssNames:null,__detectVendorProperties:function(){var e={appearance:qx.core.Environment.get("css.appearance"),userSelect:qx.core.Environment.get("css.userselect"),textOverflow:qx.core.Environment.get("css.textoverflow"),borderImage:qx.core.Environment.get("css.borderimage"),float:qx.core.Environment.get("css.float"),userModify:qx.core.Environment.get("css.usermodify"),boxSizing:qx.core.Environment.get("css.boxsizing")};this.__cssNames={};for(var t in qx.lang.Object.clone(e))e[t]?"float"===t?this.__cssNames.cssFloat=t:this.__cssNames[t]=qx.bom.Style.getCssName(e[t]):delete e[t];this.__styleNames=e},__getStyleName:function(e){var t=qx.bom.Style.getPropertyName(e);t&&(this.__styleNames[e]=t);return t},__mshtmlPixel:{width:"pixelWidth",height:"pixelHeight",left:"pixelLeft",right:"pixelRight",top:"pixelTop",bottom:"pixelBottom"},__special:{clip:qx.bom.element.Clip,cursor:qx.bom.element.Cursor,opacity:qx.bom.element.Opacity,boxSizing:qx.bom.element.BoxSizing},compile:function(e){var t,i,n=[],s=this.__special,r=this.__cssNames;for(t in e)if(null!=(i=e[t]))if(s[t=this.__cssNames[t]||t])n.push(s[t].compile(i));else{r[t]||(r[t]=qx.bom.Style.getCssName(t));n.push(r[t],":",""===i?'""':i,";")}return n.join("")},setCss:function(e,t){e.setAttribute("style",t)},getCss:function(e){return e.getAttribute("style")},isPropertySupported:function(e){return this.__special[e]||this.__styleNames[e]||e in document.documentElement.style},COMPUTED_MODE:1,CASCADED_MODE:2,LOCAL_MODE:3,set:function(e,t,i,n){qx.core.Assert.assertElement(e,"Invalid argument 'element'");qx.core.Assert.assertString(t,"Invalid argument 'name'");void 0!==n&&qx.core.Assert.assertBoolean(n,"Invalid argument 'smart'");t=this.__styleNames[t]||this.__getStyleName(t)||t;!1!==n&&this.__special[t]?this.__special[t].set(e,i):e.style[t]=null!==i?i:""},setStyles:function(e,t,i){qx.core.Assert.assertElement(e,"Invalid argument 'element'");qx.core.Assert.assertMap(t,"Invalid argument 'styles'");void 0!==i&&qx.core.Assert.assertBoolean(i,"Invalid argument 'smart'");var n=this.__styleNames,s=this.__special,r=e.style;for(var o in t){var a=t[o],l=n[o]||this.__getStyleName(o)||o;void 0===a?!1!==i&&s[l]?s[l].reset(e):r[l]="":!1!==i&&s[l]?s[l].set(e,a):r[l]=null!==a?a:""}},reset:function(e,t,i){t=this.__styleNames[t]||this.__getStyleName(t)||t;!1!==i&&this.__special[t]?this.__special[t].reset(e):e.style[t]=""},get:function(e,t,i,n){t=this.__styleNames[t]||this.__getStyleName(t)||t;if(!1!==n&&this.__special[t])return this.__special[t].get(e,i);switch(i){case this.LOCAL_MODE:return e.style[t]||"";case this.CASCADED_MODE:if(e.currentStyle)return e.currentStyle[t]||"";throw new Error("Cascaded styles are not supported in this browser!");default:var s=qx.dom.Node.getDocument(e),r=s.defaultView?s.defaultView.getComputedStyle:void 0;if(void 0===r){if(!e.currentStyle)return e.style[t]||"";var o=e.currentStyle[t]||e.style[t]||"";if(/^-?[\.\d]+(px)?$/i.test(o))return o;var a=this.__mshtmlPixel[t];if(a&&a in e.style){var l=e.style[t];e.style[t]=o||0;var u=e.style[a]+"px";e.style[t]=l;return u}return o}var c=r(e,null);return c&&c[t]?c[t]:e.style[t]||""}}},defer:function(e){e.__detectVendorProperties()}});qx.bom.element.Style.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.Stylesheet":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.style.Stylesheet",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__sheet=qx.bom.Stylesheet.createElement();this.__rules=[]},members:{__rules:null,__sheet:null,addRule:function(e,t){if(!this.hasRule(e)){qx.bom.Stylesheet.addRule(this.__sheet,e,t);this.__rules.push(e)}},hasRule:function(e){return-1!=this.__rules.indexOf(e)},removeRule:function(e){delete this.__rules[this.__rules.indexOf(e)];qx.bom.Stylesheet.removeRule(this.__sheet,e)}}});qx.ui.style.Stylesheet.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.decoration.IDecorator",{members:{getStyles:function(){},getPadding:function(){},getInsets:function(){}}});qx.ui.decoration.IDecorator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.decoration.IDecorator":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.decoration.Abstract",{extend:qx.core.Object,implement:[qx.ui.decoration.IDecorator],type:"abstract",members:{__insets:null,_getDefaultInsets:function(){throw new Error("Abstract method called.")},_isInitialized:function(){throw new Error("Abstract method called.")},_resetInsets:function(){this.__insets=null},getInsets:function(){this.__insets||(this.__insets=this._getDefaultInsets());return this.__insets}},destruct:function(){this.__insets=null}});qx.ui.decoration.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.theme.manager.Color":{}},environment:{provided:[],required:{"qx.theme":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MBackgroundColor",{properties:{backgroundColor:{check:"Color",nullable:!0,apply:"_applyBackgroundColor"}},members:{_styleBackgroundColor:function(e){var t=this.getBackgroundColor();t&&qx.core.Environment.get("qx.theme")&&(t=qx.theme.manager.Color.getInstance().resolve(t));t&&(e["background-color"]=t)},_applyBackgroundColor:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MBackgroundColor.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MBorderRadius",{properties:{radiusTopLeft:{nullable:!0,check:"Integer",apply:"_applyBorderRadius"},radiusTopRight:{nullable:!0,check:"Integer",apply:"_applyBorderRadius"},radiusBottomLeft:{nullable:!0,check:"Integer",apply:"_applyBorderRadius"},radiusBottomRight:{nullable:!0,check:"Integer",apply:"_applyBorderRadius"},radius:{group:["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"],mode:"shorthand"}},members:{_styleBorderRadius:function(e){e["-webkit-background-clip"]="padding-box";e["background-clip"]="padding-box";var t=!1,i=this.getRadiusTopLeft();if(i>0){t=!0;e["-moz-border-radius-topleft"]=i+"px";e["-webkit-border-top-left-radius"]=i+"px";e["border-top-left-radius"]=i+"px"}if((i=this.getRadiusTopRight())>0){t=!0;e["-moz-border-radius-topright"]=i+"px";e["-webkit-border-top-right-radius"]=i+"px";e["border-top-right-radius"]=i+"px"}if((i=this.getRadiusBottomLeft())>0){t=!0;e["-moz-border-radius-bottomleft"]=i+"px";e["-webkit-border-bottom-left-radius"]=i+"px";e["border-bottom-left-radius"]=i+"px"}if((i=this.getRadiusBottomRight())>0){t=!0;e["-moz-border-radius-bottomright"]=i+"px";e["-webkit-border-bottom-right-radius"]=i+"px";e["border-bottom-right-radius"]=i+"px"}t&&"webkit"==qx.core.Environment.get("engine.name")?e["-webkit-background-clip"]="padding-box":e["background-clip"]="padding-box"},_applyBorderRadius:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MBorderRadius.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.client.Css":{},"qx.bom.Style":{},"qx.theme.manager.Color":{}},environment:{provided:[],required:{"css.boxshadow":{className:"qx.bom.client.Css"},"qx.theme":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MBoxShadow",{properties:{shadowHorizontalLength:{nullable:!0,apply:"_applyBoxShadow"},shadowVerticalLength:{nullable:!0,apply:"_applyBoxShadow"},shadowBlurRadius:{nullable:!0,apply:"_applyBoxShadow"},shadowSpreadRadius:{nullable:!0,apply:"_applyBoxShadow"},shadowColor:{nullable:!0,apply:"_applyBoxShadow"},inset:{init:!1,apply:"_applyBoxShadow"},shadowLength:{group:["shadowHorizontalLength","shadowVerticalLength"],mode:"shorthand"}},members:{_styleBoxShadow:function(e){var t=qx.core.Environment.get("css.boxshadow");if(t&&(null!=this.getShadowVerticalLength()||null!=this.getShadowHorizontalLength())){t=qx.bom.Style.getCssName(t);var i=null;qx.core.Environment.get("qx.theme")&&(i=qx.theme.manager.Color.getInstance());(function(n,s,r,o,a,l){for(var u=0;u<n.length;u++){var c=n[u]||0,d=s[u]||0,h=r[u]||0,g=o[u]||0,m=a[u]||"black",f=l[u];i&&(m=i.resolve(m));if(null!=m){var p=(f?"inset ":"")+d+"px "+c+"px "+h+"px "+g+"px "+m;e[t]?e[t]+=","+p:e[t]=p}}}).apply(this,this._getExtendedPropertyValueArrays(["shadowVerticalLength","shadowHorizontalLength","shadowBlurRadius","shadowSpreadRadius","shadowColor","inset"]))}},_applyBoxShadow:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MBoxShadow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.theme.manager.Color":{}},environment:{provided:[],required:{"qx.theme":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MSingleBorder",{properties:{widthTop:{check:"Number",init:0,apply:"_applyWidth"},widthRight:{check:"Number",init:0,apply:"_applyWidth"},widthBottom:{check:"Number",init:0,apply:"_applyWidth"},widthLeft:{check:"Number",init:0,apply:"_applyWidth"},styleTop:{nullable:!0,check:["solid","dotted","dashed","double","inset","outset","ridge","groove"],init:"solid",apply:"_applyStyle"},styleRight:{nullable:!0,check:["solid","dotted","dashed","double","inset","outset","ridge","groove"],init:"solid",apply:"_applyStyle"},styleBottom:{nullable:!0,check:["solid","dotted","dashed","double","inset","outset","ridge","groove"],init:"solid",apply:"_applyStyle"},styleLeft:{nullable:!0,check:["solid","dotted","dashed","double","inset","outset","ridge","groove"],init:"solid",apply:"_applyStyle"},colorTop:{nullable:!0,check:"Color",apply:"_applyStyle"},colorRight:{nullable:!0,check:"Color",apply:"_applyStyle"},colorBottom:{nullable:!0,check:"Color",apply:"_applyStyle"},colorLeft:{nullable:!0,check:"Color",apply:"_applyStyle"},left:{group:["widthLeft","styleLeft","colorLeft"]},right:{group:["widthRight","styleRight","colorRight"]},top:{group:["widthTop","styleTop","colorTop"]},bottom:{group:["widthBottom","styleBottom","colorBottom"]},width:{group:["widthTop","widthRight","widthBottom","widthLeft"],mode:"shorthand"},style:{group:["styleTop","styleRight","styleBottom","styleLeft"],mode:"shorthand"},color:{group:["colorTop","colorRight","colorBottom","colorLeft"],mode:"shorthand"}},members:{_styleBorder:function(e){if(qx.core.Environment.get("qx.theme"))var t=qx.theme.manager.Color.getInstance(),i=t.resolve(this.getColorTop()),n=t.resolve(this.getColorRight()),s=t.resolve(this.getColorBottom()),r=t.resolve(this.getColorLeft());else i=this.getColorTop(),n=this.getColorRight(),s=this.getColorBottom(),r=this.getColorLeft();var o;(o=this.getWidthTop())>0&&(e["border-top"]=o+"px "+this.getStyleTop()+" "+(i||""));(o=this.getWidthRight())>0&&(e["border-right"]=o+"px "+this.getStyleRight()+" "+(n||""));(o=this.getWidthBottom())>0&&(e["border-bottom"]=o+"px "+this.getStyleBottom()+" "+(s||""));(o=this.getWidthLeft())>0&&(e["border-left"]=o+"px "+this.getStyleLeft()+" "+(r||""));if(0===e.length)throw new Error("Invalid Single decorator (zero border width). Use qx.ui.decorator.Background instead!");e.position="absolute"},_getDefaultInsetsForBorder:function(){return{top:this.getWidthTop(),right:this.getWidthRight(),bottom:this.getWidthBottom(),left:this.getWidthLeft()}},_applyWidth:function(){this._applyStyle();this._resetInsets()},_applyStyle:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MSingleBorder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.lang.Type":{},"qx.util.AliasManager":{},"qx.util.ResourceManager":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MBackgroundImage",{properties:{backgroundImage:{nullable:!0,apply:"_applyBackgroundImage"},backgroundRepeat:{init:"repeat",apply:"_applyBackgroundImage"},backgroundPositionX:{nullable:!0,apply:"_applyBackgroundPosition"},backgroundPositionY:{nullable:!0,apply:"_applyBackgroundPosition"},backgroundOrigin:{nullable:!0,apply:"_applyBackgroundImage"},backgroundPosition:{group:["backgroundPositionY","backgroundPositionX"]},orderGradientsFront:{check:"Boolean",init:!1}},members:{_styleBackgroundImage:function(e){if(this.getBackgroundImage()){"background"in e?qx.lang.Type.isArray(e.background)||(e.background=[e.background]):e.background=[];(function(t,i,n,s,r){for(var o=0;o<t.length;o++){var a=t[o],l=i[o],u=n[o]||0,c=s[o]||0,d=r[o]||"";null==u&&(u=0);null==c&&(c=0);isNaN(u)||(u+="px");isNaN(c)||(c+="px");var h=qx.util.AliasManager.getInstance().resolve(a),g=qx.util.ResourceManager.getInstance().toUri(h),m={image:"url("+g+")",position:c+" "+u,repeat:"repeat",origin:d};"scale"===l?m.size="100% 100%":m.repeat=l;var f=[m.image,m.position+("size"in m?" / "+m.size:""),m.repeat,m.origin];e.background[this.getOrderGradientsFront()?"push":"unshift"](f.join(" "));g&&g.endsWith(".png")&&("scale"==l||"no-repeat"==l)&&"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&this.warn("Background PNGs with repeat == 'scale' or repeat == 'no-repeat' are not supported in this client! The image's resource id is '"+h+"'")}}).apply(this,this._getExtendedPropertyValueArrays(["backgroundImage","backgroundRepeat","backgroundPositionY","backgroundPositionX","backgroundOrigin"]))}},_applyBackgroundImage:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")},_applyBackgroundPosition:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!");"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&this.warn("The backgroundPosition property is not supported by this client!")}}});qx.ui.decoration.MBackgroundImage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.decoration.MSingleBorder":{require:!0},"qx.ui.decoration.MBackgroundImage":{require:!0},"qx.bom.client.Css":{},"qx.theme.manager.Color":{},"qx.bom.Style":{},"qx.log.Logger":{},"qx.util.ColorUtil":{}},environment:{provided:[],required:{"css.boxshadow":{className:"qx.bom.client.Css"},"qx.theme":{},"css.boxsizing":{className:"qx.bom.client.Css"},"css.borderradius":{className:"qx.bom.client.Css"},"css.rgba":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MDoubleBorder",{include:[qx.ui.decoration.MSingleBorder,qx.ui.decoration.MBackgroundImage],construct:function(){this._getDefaultInsetsForBorder=this.__getDefaultInsetsForDoubleBorder;this._styleBorder=this.__styleDoubleBorder},properties:{innerWidthTop:{check:"Number",init:0,apply:"_applyDoubleBorder"},innerWidthRight:{check:"Number",init:0,apply:"_applyDoubleBorder"},innerWidthBottom:{check:"Number",init:0,apply:"_applyDoubleBorder"},innerWidthLeft:{check:"Number",init:0,apply:"_applyDoubleBorder"},innerWidth:{group:["innerWidthTop","innerWidthRight","innerWidthBottom","innerWidthLeft"],mode:"shorthand"},innerColorTop:{nullable:!0,check:"Color",apply:"_applyDoubleBorder"},innerColorRight:{nullable:!0,check:"Color",apply:"_applyDoubleBorder"},innerColorBottom:{nullable:!0,check:"Color",apply:"_applyDoubleBorder"},innerColorLeft:{nullable:!0,check:"Color",apply:"_applyDoubleBorder"},innerColor:{group:["innerColorTop","innerColorRight","innerColorBottom","innerColorLeft"],mode:"shorthand"},innerOpacity:{check:"Number",init:1,apply:"_applyDoubleBorder"}},members:{__styleDoubleBorder:function(e){var t,i,n,s=qx.core.Environment.get("css.boxshadow");if(qx.core.Environment.get("qx.theme")){var r=qx.theme.manager.Color.getInstance();t={top:r.resolve(this.getColorTop()),right:r.resolve(this.getColorRight()),bottom:r.resolve(this.getColorBottom()),left:r.resolve(this.getColorLeft())};i={top:r.resolve(this.getInnerColorTop()),right:r.resolve(this.getInnerColorRight()),bottom:r.resolve(this.getInnerColorBottom()),left:r.resolve(this.getInnerColorLeft())}}else{t={top:this.getColorTop(),right:this.getColorRight(),bottom:this.getColorBottom(),left:this.getColorLeft()};i={top:this.getInnerColorTop(),right:this.getInnerColorRight(),bottom:this.getInnerColorBottom(),left:this.getInnerColorLeft()}}n={top:this.getInnerWidthTop(),right:this.getInnerWidthRight(),bottom:this.getInnerWidthBottom(),left:this.getInnerWidthLeft()};var o=this.getWidthTop();o>0&&(e["border-top"]=o+"px "+this.getStyleTop()+" "+t.top);(o=this.getWidthRight())>0&&(e["border-right"]=o+"px "+this.getStyleRight()+" "+t.right);(o=this.getWidthBottom())>0&&(e["border-bottom"]=o+"px "+this.getStyleBottom()+" "+t.bottom);(o=this.getWidthLeft())>0&&(e["border-left"]=o+"px "+this.getStyleLeft()+" "+t.left);var a=this.getInnerOpacity();a<1&&this.__processInnerOpacity(i,a);if(n.top>0||n.right>0||n.bottom>0||n.left>0){var l=(n.top||0)+"px solid "+i.top,u=(n.right||0)+"px solid "+i.right,c=(n.bottom||0)+"px solid "+i.bottom,d=(n.left||0)+"px solid "+i.left;e[":before"]={width:"100%",height:"100%",position:"absolute",content:'""',"border-top":l,"border-right":u,"border-bottom":c,"border-left":d,left:0,top:0};var h=qx.bom.Style.getCssName(qx.core.Environment.get("css.boxsizing"));e[":before"][h]="border-box";var g=qx.core.Environment.get("css.borderradius");if(g){g=qx.bom.Style.getCssName(g);e[":before"][g]="inherit"}var m=[];if(i.top&&n.top&&i.top==i.bottom&&i.top==i.right&&i.top==i.left&&n.top==n.bottom&&n.top==n.right&&n.top==n.left)m.push("inset 0 0 0 "+n.top+"px "+i.top);else{i.top&&m.push("inset 0 "+(n.top||0)+"px "+i.top);i.right&&m.push("inset -"+(n.right||0)+"px 0 "+i.right);i.bottom&&m.push("inset 0 -"+(n.bottom||0)+"px "+i.bottom);i.left&&m.push("inset "+(n.left||0)+"px 0 "+i.left)}m.length>0&&s&&(e[s=qx.bom.Style.getCssName(s)]?e[s]+=","+m.join(","):e[s]=m.join(","))}else e[":before"]={border:0}},__processInnerOpacity:function(e,t){if(qx.core.Environment.get("css.rgba"))for(var i in e){var n=qx.util.ColorUtil.stringToRgb(e[i]);n.push(t);var s=qx.util.ColorUtil.rgbToRgbString(n);e[i]=s}else qx.log.Logger.warn("innerOpacity is configured but the browser doesn't support RGBA colors.")},_applyDoubleBorder:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")},__getDefaultInsetsForDoubleBorder:function(){return{top:this.getWidthTop()+this.getInnerWidthTop(),right:this.getWidthRight()+this.getInnerWidthRight(),bottom:this.getWidthBottom()+this.getInnerWidthBottom(),left:this.getWidthLeft()+this.getInnerWidthLeft()}}}});qx.ui.decoration.MDoubleBorder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.client.Css":{},"qx.lang.Type":{},"qx.util.ColorUtil":{},"qx.theme.manager.Color":{}},environment:{provided:[],required:{"css.gradient.legacywebkit":{className:"qx.bom.client.Css"},"css.gradient.filter":{className:"qx.bom.client.Css"},"css.gradient.linear":{className:"qx.bom.client.Css"},"css.borderradius":{className:"qx.bom.client.Css"},"qx.theme":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MLinearBackgroundGradient",{properties:{startColor:{nullable:!0,apply:"_applyLinearBackgroundGradient"},endColor:{nullable:!0,apply:"_applyLinearBackgroundGradient"},orientation:{init:"vertical",apply:"_applyLinearBackgroundGradient"},startColorPosition:{init:0,apply:"_applyLinearBackgroundGradient"},endColorPosition:{init:100,apply:"_applyLinearBackgroundGradient"},colorPositionUnit:{init:"%",apply:"_applyLinearBackgroundGradient"},gradientStart:{group:["startColor","startColorPosition"],mode:"shorthand"},gradientEnd:{group:["endColor","endColorPosition"],mode:"shorthand"}},members:{_styleLinearBackgroundGradient:function(e){var t=[];if(this.getStartColor()&&this.getEndColor()){var i=this.__styleLinearBackgroundGradientAccordingToSpec;qx.core.Environment.get("css.gradient.legacywebkit")?i=this.__styleLinearBackgroundGradientForLegacyWebkit:qx.core.Environment.get("css.gradient.filter")&&!qx.core.Environment.get("css.gradient.linear")&&qx.core.Environment.get("css.borderradius")?i=this.__styleLinearBackgroundGradientWithCanvas:qx.core.Environment.get("css.gradient.filter")&&!qx.core.Environment.get("css.gradient.linear")&&(i=this.__styleLinearBackgroundGradientWithMSFilter);(function(n,s,r,o,a,l){for(var u=0;u<n.length;u++){var c=this.__getColor(n[u]),d=this.__getColor(s[u]),h=r[u],g=o[u],m=a[u],f=l[u];if(!i(c,d,h,g,m,f,e,t))break}"background"in e?qx.lang.Type.isArray(e.background)||(e.background=[e.background]):e.background=[];("getOrderGradientsFront"in this&&this.getOrderGradientsFront()?Array.prototype.unshift:Array.prototype.push).apply(e.background,t)}).apply(this,this._getExtendedPropertyValueArrays(["startColor","endColor","colorPositionUnit","orientation","startColorPosition","endColorPosition"]))}},__styleLinearBackgroundGradientForLegacyWebkit:function(e,t,i,n,s,r,o,a){i="px"===i?"":i;if("horizontal"==n)var l=s+i+" 0"+i,u=r+i+" 0"+i;else l="0"+i+" "+s+i,u="0"+i+" "+r+i;var c="from("+e+"),to("+t+")";a.push("-webkit-gradient(linear,"+l+","+u+","+c+")");return!0},__styleLinearBackgroundGradientWithCanvas:function e(t,i,n,s,r,o,a,l){e.__canvas||(e.__canvas=document.createElement("canvas"));var u="vertical"==s,c=u?200:1,d=u?1:200,h=Math.max(100,o-r);"px"===n?u?c=Math.max(c,o-r):d=Math.max(d,o-r):u?c=Math.max(c,2*(o-r)):d=Math.max(d,2*(o-r));e.__canvas.width=d;e.__canvas.height=c;var g,m=e.__canvas.getContext("2d");if(u)var f=m.createLinearGradient(0,0,0,c);else f=m.createLinearGradient(0,0,d,0);if("%"===n){f.addColorStop(Math.max(0,r)/h,t);f.addColorStop(o/h,i)}else{var p=u?c:d;f.addColorStop(Math.max(0,r)/p,t);f.addColorStop(o/p,i)}m.clearRect(0,0,d,c);m.fillStyle=f;m.fillRect(0,0,d,c);g="%"===n?u?"100% "+h+"%":h+"% 100%":u?c+"px 100%":"100% "+d+"px";l.push("url("+e.__canvas.toDataURL()+") "+g);return!0},__styleLinearBackgroundGradientWithMSFilter:function(e,t,i,n,s,r,o,a){var l="horizontal"==n?1:0;if(!qx.util.ColorUtil.isHex6String(e)){e=qx.util.ColorUtil.stringToRgb(e);e=qx.util.ColorUtil.rgbToHexString(e)}if(!qx.util.ColorUtil.isHex6String(t)){t=qx.util.ColorUtil.stringToRgb(t);t=qx.util.ColorUtil.rgbToHexString(t)}var u="progid:DXImageTransform.Microsoft.Gradient(GradientType="+l+", StartColorStr='#FF"+(e=e.substring(1,e.length))+"', EndColorStr='#FF"+(t=t.substring(1,t.length))+"';)";o.filter?o.filter+=", "+u:o.filter=u;o["background-color"]&&"transparent"!=o["background-color"]||(o["background-color"]="white");return!1},__styleLinearBackgroundGradientAccordingToSpec:function(e,t,i,n,s,r,o,a){var l="horizontal"==n?0:270,u=e+" "+s+i,c=t+" "+r+i,d=qx.core.Environment.get("css.gradient.linear");"linear-gradient"===d&&(l="horizontal"==n?l+90:l-90);a.push(d+"("+l+"deg, "+u+","+c+")");return!0},__getColor:function(e){return qx.core.Environment.get("qx.theme")?qx.theme.manager.Color.getInstance().resolve(e):e},_applyLinearBackgroundGradient:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MLinearBackgroundGradient.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.util.AliasManager":{},"qx.util.ResourceManager":{},"qx.bom.client.Css":{},"qx.bom.Style":{}},environment:{provided:[],required:{"css.borderimage.standardsyntax":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MBorderImage",{properties:{borderImage:{check:"String",nullable:!0,apply:"_applyBorderImage"},sliceTop:{check:"Integer",nullable:!0,init:null,apply:"_applyBorderImage"},sliceRight:{check:"Integer",nullable:!0,init:null,apply:"_applyBorderImage"},sliceBottom:{check:"Integer",nullable:!0,init:null,apply:"_applyBorderImage"},sliceLeft:{check:"Integer",nullable:!0,init:null,apply:"_applyBorderImage"},slice:{group:["sliceTop","sliceRight","sliceBottom","sliceLeft"],mode:"shorthand"},repeatX:{check:["stretch","repeat","round"],init:"stretch",apply:"_applyBorderImage"},repeatY:{check:["stretch","repeat","round"],init:"stretch",apply:"_applyBorderImage"},repeat:{group:["repeatX","repeatY"],mode:"shorthand"},fill:{check:"Boolean",init:!0,apply:"_applyBorderImage"},borderImageMode:{check:["horizontal","vertical","grid"],init:"grid"}},members:{_styleBorderImage:function(e){if(this.getBorderImage()){var t=qx.util.AliasManager.getInstance().resolve(this.getBorderImage()),i=qx.util.ResourceManager.getInstance().toUri(t),n=this._getDefaultInsetsForBorderImage(),s=[n.top,n.right,n.bottom,n.left],r=[this.getRepeatX(),this.getRepeatY()].join(" "),o=this.getFill()&&qx.core.Environment.get("css.borderimage.standardsyntax")?" fill":"",a=qx.bom.Style.getPropertyName("borderImage");if(a){e[qx.bom.Style.getCssName(a)]='url("'+i+'") '+s.join(" ")+o+" "+r}e["border-style"]="solid";e["border-color"]="transparent";e["border-width"]=s.join("px ")+"px"}},_getDefaultInsetsForBorderImage:function(){if(!this.getBorderImage())return{top:0,right:0,bottom:0,left:0};var e=qx.util.AliasManager.getInstance().resolve(this.getBorderImage()),t=this.__getSlices(e);return{top:this.getSliceTop()||t[0],right:this.getSliceRight()||t[1],bottom:this.getSliceBottom()||t[2],left:this.getSliceLeft()||t[3]}},_applyBorderImage:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")},__getSlices:function(e){var t=this.getBorderImageMode(),i=0,n=0,s=0,r=0,o=/(.*)(\.[a-z]+)$/.exec(e),a=o[1],l=o[2],u=qx.util.ResourceManager.getInstance();if("grid"==t||"vertical"==t){i=u.getImageHeight(a+"-t"+l);s=u.getImageHeight(a+"-b"+l)}if("grid"==t||"horizontal"==t){n=u.getImageWidth(a+"-r"+l);r=u.getImageWidth(a+"-l"+l)}return[i,n,s,r]}}});qx.ui.decoration.MBorderImage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.client.CssTransition":{},"qx.bom.client.Browser":{},"qx.bom.Style":{}},environment:{provided:[],required:{"css.transition":{className:"qx.bom.client.CssTransition"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.decoration.MTransition",{properties:{transitionProperty:{nullable:!0,apply:"_applyTransition"},transitionDuration:{nullable:!0,apply:"_applyTransition"},transitionTimingFunction:{nullable:!0,apply:"_applyTransition"},transitionDelay:{nullable:!0,apply:"_applyTransition"}},members:{_styleTransition:function(e){var t=qx.core.Environment.get("css.transition");if(t&&null!=this.getTransitionDuration()){"chrome"===qx.bom.client.Browser.getName()&&qx.bom.client.Browser.getVersion()>=71&&(e.transform||(e.transform="translateZ(0)"));t=qx.bom.Style.getCssName(t.name);(function(i,n,s,r){for(var o=0;o<i.length;o++){var a=(i[o]||"all")+" "+(n[o]||"0s")+" "+(s[o]||"ease")+" "+(r[o]||"0s");e[t]?e[t]+=","+a:e[t]=a}}).apply(this,this._getExtendedPropertyValueArrays(["transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay"]))}},_applyTransition:function(){if(this._isInitialized())throw new Error("This decorator is already in-use. Modification is not possible anymore!")}}});qx.ui.decoration.MTransition.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.decoration.Abstract":{require:!0},"qx.ui.decoration.IDecorator":{require:!0},"qx.ui.decoration.MBackgroundColor":{require:!0},"qx.ui.decoration.MBorderRadius":{require:!0},"qx.ui.decoration.MBoxShadow":{require:!0},"qx.ui.decoration.MDoubleBorder":{require:!0},"qx.ui.decoration.MLinearBackgroundGradient":{require:!0},"qx.ui.decoration.MBorderImage":{require:!0},"qx.ui.decoration.MTransition":{require:!0},"qx.lang.String":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.decoration.Decorator",{extend:qx.ui.decoration.Abstract,implement:[qx.ui.decoration.IDecorator],include:[qx.ui.decoration.MBackgroundColor,qx.ui.decoration.MBorderRadius,qx.ui.decoration.MBoxShadow,qx.ui.decoration.MDoubleBorder,qx.ui.decoration.MLinearBackgroundGradient,qx.ui.decoration.MBorderImage,qx.ui.decoration.MTransition],members:{__initialized:!1,getPadding:function(){var e=this.getInset(),t=this._getDefaultInsetsForBorderImage(),i=e.top-(t.top?t.top:this.getWidthTop()),n=e.right-(t.right?t.right:this.getWidthRight()),s=e.bottom-(t.bottom?t.bottom:this.getWidthBottom()),r=e.left-(t.left?t.left:this.getWidthLeft());return{top:e.top?i:this.getInnerWidthTop(),right:e.right?n:this.getInnerWidthRight(),bottom:e.bottom?s:this.getInnerWidthBottom(),left:e.left?r:this.getInnerWidthLeft()}},getStyles:function(e){if(e)return this._getStyles();var t={},i=this._getStyles();for(var n in i)t[qx.lang.String.camelCase(n)]=i[n];return t},_getStyles:function(){var e={};for(var t in this)0==t.indexOf("_style")&&this[t]instanceof Function&&this[t](e);for(var t in e)qx.lang.Type.isArray(e[t])&&(e[t]=e[t].join(", "));this.__initialized=!0;return e},_getDefaultInsets:function(){var e=["top","right","bottom","left"],t={};for(var i in this)if(0==i.indexOf("_getDefaultInsetsFor")&&this[i]instanceof Function)for(var n=this[i](),s=0;s<e.length;s++){var r=e[s];void 0==t[r]&&(t[r]=n[r]);n[r]>t[r]&&(t[r]=n[r])}return void 0!=t.top?t:{top:0,right:0,bottom:0,left:0}},_isInitialized:function(){return this.__initialized},_getExtendedPropertyValueArrays:function(e){for(var t=e.map(function(e){var t=this.get(e);qx.lang.Type.isArray(t)||(t=[t]);return t},this),i=Math.max.apply(Math,t.map(function(e){return e.length})),n=0;n<t.length;n++)this.__extendArray(t[n],i);return t},__extendArray:function(e,t){for(var i=e.length;e.length<t;)e.push(e[e.length%i])}}});qx.ui.decoration.Decorator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.ValueManager":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.AliasManager",{type:"singleton",extend:qx.util.ValueManager,construct:function(){qx.util.ValueManager.constructor.call(this);this.__aliases={};this.add("static","qx/static")},members:{__aliases:null,_preprocess:function(e){var t=this._getDynamic();if(!1===t[e])return e;if(void 0===t[e]){if("/"===e.charAt(0)||"."===e.charAt(0)||0===e.indexOf("http://")||"0"===e.indexOf("https://")||0===e.indexOf("file://")){t[e]=!1;return e}if(this.__aliases[e])return this.__aliases[e];var i=e.substring(0,e.indexOf("/")),n=this.__aliases[i];void 0!==n&&(t[e]=n+e.substring(i.length))}return e},add:function(e,t){this.__aliases[e]=t;var i=this._getDynamic();for(var n in i)n.substring(0,n.indexOf("/"))===e&&(i[n]=t+n.substring(e.length))},remove:function(e){delete this.__aliases[e]},resolve:function(e){var t=this._getDynamic();null!=e&&(e=this._preprocess(e));return t[e]||e},getAliases:function(){var e={};for(var t in this.__aliases)e[t]=this.__aliases[t];return e}}});qx.util.AliasManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Style":{},"qx.bom.client.Engine":{},"qx.dom.Node":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Dimension",{statics:{getWidth:function(e){var t=e.getBoundingClientRect();return Math.round(t.right-t.left)},getHeight:function(e){var t=e.getBoundingClientRect();return Math.round(t.bottom-t.top)},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},__hiddenScrollbars:{visible:!0,hidden:!0},getContentWidth:function(e){var t=qx.bom.element.Style,i=qx.bom.element.Style.get(e,"overflowX"),n=parseInt(t.get(e,"paddingLeft")||"0px",10),s=parseInt(t.get(e,"paddingRight")||"0px",10);if(this.__hiddenScrollbars[i]){var r=e.clientWidth;("opera"==qx.core.Environment.get("engine.name")||qx.dom.Node.isBlockNode(e))&&(r=r-n-s);return"mshtml"==qx.core.Environment.get("engine.name")&&0===r&&0===e.offsetHeight?e.offsetWidth:r}if(e.clientWidth>=e.scrollWidth)return Math.max(e.clientWidth,e.scrollWidth)-n-s;var o=e.scrollWidth-n;"mshtml"==qx.core.Environment.get("engine.name")&&(o-=s);return o},getContentHeight:function(e){var t=qx.bom.element.Style,i=qx.bom.element.Style.get(e,"overflowY"),n=parseInt(t.get(e,"paddingTop")||"0px",10),s=parseInt(t.get(e,"paddingBottom")||"0px",10);return this.__hiddenScrollbars[i]?e.clientHeight-n-s:e.clientHeight>=e.scrollHeight?Math.max(e.clientHeight,e.scrollHeight)-n-s:e.scrollHeight-n},getContentSize:function(e){return{width:this.getContentWidth(e),height:this.getContentHeight(e)}}}});qx.bom.element.Dimension.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.bom.Viewport":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Document",{statics:{isQuirksMode:qx.core.Environment.select("engine.name",{mshtml:function(e){return qx.core.Environment.get("engine.version")>=8?5===(e||window).document.documentMode:"CSS1Compat"!==(e||window).document.compatMode},webkit:function(e){if(void 0===document.compatMode){var t=(e||window).document.createElement("div");t.style.cssText="position:absolute;width:0;height:0;width:1";return"1px"===t.style.width}return"CSS1Compat"!==(e||window).document.compatMode},default:function(e){return"CSS1Compat"!==(e||window).document.compatMode}}),isStandardMode:function(e){return!this.isQuirksMode(e)},getWidth:function(e){var t=(e||window).document,i=qx.bom.Viewport.getWidth(e),n=this.isStandardMode(e)?t.documentElement.scrollWidth:t.body.scrollWidth;return Math.max(n,i)},getHeight:function(e){var t=(e||window).document,i=qx.bom.Viewport.getHeight(e),n=this.isStandardMode(e)?t.documentElement.scrollHeight:t.body.scrollHeight;return Math.max(n,i)}}});qx.bom.Document.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.Stylesheet":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["html.stylesheet.createstylesheet","html.stylesheet.insertrule","html.stylesheet.deleterule","html.stylesheet.addimport","html.stylesheet.removeimport"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Stylesheet",{statics:{__getStylesheet:function(){qx.bom.client.Stylesheet.__stylesheet||(qx.bom.client.Stylesheet.__stylesheet=qx.bom.Stylesheet.createElement());return qx.bom.client.Stylesheet.__stylesheet},getCreateStyleSheet:function(){return"object"===_typeof(document.createStyleSheet)},getInsertRule:function(){return"function"==typeof qx.bom.client.Stylesheet.__getStylesheet().insertRule},getDeleteRule:function(){return"function"==typeof qx.bom.client.Stylesheet.__getStylesheet().deleteRule},getAddImport:function(){return"object"===_typeof(qx.bom.client.Stylesheet.__getStylesheet().addImport)},getRemoveImport:function(){return"object"===_typeof(qx.bom.client.Stylesheet.__getStylesheet().removeImport)}},defer:function(e){qx.core.Environment.add("html.stylesheet.createstylesheet",e.getCreateStyleSheet);qx.core.Environment.add("html.stylesheet.insertrule",e.getInsertRule);qx.core.Environment.add("html.stylesheet.deleterule",e.getDeleteRule);qx.core.Environment.add("html.stylesheet.addimport",e.getAddImport);qx.core.Environment.add("html.stylesheet.removeimport",e.getRemoveImport)}});qx.bom.client.Stylesheet.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.client.Stylesheet":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.dom.Element":{},"qx.util.Uri":{}},environment:{provided:[],required:{"html.stylesheet.createstylesheet":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.insertrule":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.deleterule":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.addimport":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.removeimport":{className:"qx.bom.client.Stylesheet"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Stylesheet",{statics:{includeFile:function(e,t){t||(t=document);var i=t.createElement("link");i.type="text/css";i.rel="stylesheet";i.href=e;t.getElementsByTagName("head")[0].appendChild(i)},createElement:function(e){if(qx.core.Environment.get("html.stylesheet.createstylesheet")){var t=document.createStyleSheet();e&&(t.cssText=e);return t}var i=document.createElement("style");i.type="text/css";e&&i.appendChild(document.createTextNode(e));document.getElementsByTagName("head")[0].appendChild(i);return i.sheet},addRule:function(e,t,i){var n="qx.bom.Stylesheet.addRule: The rule '"+i+"' for the selector '"+t+"' must not be enclosed in braces";qx.core.Assert.assertFalse(/^\s*?\{.*?\}\s*?$/.test(i),n);qx.core.Environment.get("html.stylesheet.insertrule")?e.insertRule(t+"{"+i+"}",e.cssRules.length):e.addRule(t,i)},removeRule:function(e,t){if(qx.core.Environment.get("html.stylesheet.deleterule"))for(var i=(n=e.cssRules).length-1;i>=0;--i)n[i].selectorText==t&&e.deleteRule(i);else{var n;for(i=(n=e.rules).length-1;i>=0;--i)n[i].selectorText==t&&e.removeRule(i)}},removeSheet:function(e){var t=e.ownerNode?e.ownerNode:e.owningElement;qx.dom.Element.removeChild(t,t.parentNode)},removeAllRules:function(e){if(qx.core.Environment.get("html.stylesheet.deleterule"))for(var t=e.cssRules.length-1;t>=0;t--)e.deleteRule(t);else for(t=e.rules.length-1;t>=0;t--)e.removeRule(t)},addImport:function(e,t){qx.core.Environment.get("html.stylesheet.addimport")?e.addImport(t):e.insertRule('@import "'+t+'";',e.cssRules.length)},removeImport:function(e,t){if(qx.core.Environment.get("html.stylesheet.removeimport"))for(var i=e.imports,n=i.length-1;n>=0;n--)i[n].href!=t&&i[n].href!=qx.util.Uri.getAbsolute(t)||e.removeImport(n);else{var s=e.cssRules;for(n=s.length-1;n>=0;n--)s[n].href==t&&e.deleteRule(n)}},removeAllImports:function(e){if(qx.core.Environment.get("html.stylesheet.removeimport"))for(var t=e.imports.length-1;t>=0;t--)e.removeImport(t);else{var i=e.cssRules;for(t=i.length-1;t>=0;t--)i[t].type==i[t].IMPORT_RULE&&e.deleteRule(t)}}}});qx.bom.Stylesheet.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["html.webworker","html.filereader","html.geolocation","html.audio","html.audio.ogg","html.audio.mp3","html.audio.wav","html.audio.au","html.audio.aif","html.video","html.video.ogg","html.video.h264","html.video.webm","html.storage.local","html.storage.session","html.storage.userdata","html.classlist","html.xpath","html.xul","html.canvas","html.svg","html.vml","html.dataset","html.element.contains","html.element.compareDocumentPosition","html.element.textcontent","html.console","html.image.naturaldimensions","html.history.state","html.selection","html.node.isequalnode","html.fullscreen"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Html",{statics:{getWebWorker:function(){return null!=window.Worker},getFileReader:function(){return null!=window.FileReader},getGeoLocation:function(){return"geolocation"in navigator},getAudio:function(){return!!document.createElement("audio").canPlayType},getAudioOgg:function(){return qx.bom.client.Html.getAudio()?document.createElement("audio").canPlayType("audio/ogg"):""},getAudioMp3:function(){return qx.bom.client.Html.getAudio()?document.createElement("audio").canPlayType("audio/mpeg"):""},getAudioWav:function(){return qx.bom.client.Html.getAudio()?document.createElement("audio").canPlayType("audio/x-wav"):""},getAudioAu:function(){return qx.bom.client.Html.getAudio()?document.createElement("audio").canPlayType("audio/basic"):""},getAudioAif:function(){return qx.bom.client.Html.getAudio()?document.createElement("audio").canPlayType("audio/x-aiff"):""},getVideo:function(){return!!document.createElement("video").canPlayType},getVideoOgg:function(){return qx.bom.client.Html.getVideo()?document.createElement("video").canPlayType('video/ogg; codecs="theora, vorbis"'):""},getVideoH264:function(){return qx.bom.client.Html.getVideo()?document.createElement("video").canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'):""},getVideoWebm:function(){return qx.bom.client.Html.getVideo()?document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"'):""},getLocalStorage:function(){try{window.localStorage.setItem("$qx_check","test");window.localStorage.removeItem("$qx_check");return!0}catch(e){return!1}},getSessionStorage:function(){try{window.sessionStorage.setItem("$qx_check","test");window.sessionStorage.removeItem("$qx_check");return!0}catch(e){return!1}},getUserDataStorage:function(){var e=document.createElement("div");e.style.display="none";document.getElementsByTagName("head")[0].appendChild(e);var t=!1;try{e.addBehavior("#default#userdata");e.load("qxtest");t=!0}catch(e){}document.getElementsByTagName("head")[0].removeChild(e);return t},getClassList:function(){return!(!document.documentElement.classList||"DOMTokenList"!==qx.Bootstrap.getClass(document.documentElement.classList))},getXPath:function(){return!!document.evaluate},getXul:function(){try{document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","label");return!0}catch(e){return!1}},getSvg:function(){return document.implementation&&document.implementation.hasFeature&&(document.implementation.hasFeature("org.w3c.dom.svg","1.0")||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))},getVml:function(){var e=document.createElement("div");document.body.appendChild(e);e.innerHTML='<v:shape id="vml_flag1" adj="1" />';e.firstChild.style.behavior="url(#default#VML)";var t="object"==_typeof(e.firstChild.adj);document.body.removeChild(e);return t},getCanvas:function(){return!!window.CanvasRenderingContext2D},getDataUrl:function(e){var t=new Image;t.onload=t.onerror=function(){window.setTimeout(function(){e.call(null,1==t.width&&1==t.height)},0)};t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="},getDataset:function(){return!!document.documentElement.dataset},getContains:function(){return void 0!==document.documentElement.contains},getCompareDocumentPosition:function(){return"function"==typeof document.documentElement.compareDocumentPosition},getTextContent:function(){return void 0!==document.createElement("span").textContent},getFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||!1},getConsole:function(){return void 0!==window.console},getNaturalDimensions:function(){var e=document.createElement("img");return"number"==typeof e.naturalHeight&&"number"==typeof e.naturalWidth},getHistoryState:function(){return void 0!==window.onpopstate&&void 0!==window.history.replaceState&&void 0!==window.history.pushState},getSelection:function(){return"function"==typeof window.getSelection?"getSelection":"object"===_typeof(document.selection)?"selection":null},getIsEqualNode:function(){return"function"==typeof document.documentElement.isEqualNode}},defer:function(e){qx.core.Environment.add("html.webworker",e.getWebWorker);qx.core.Environment.add("html.filereader",e.getFileReader);qx.core.Environment.add("html.geolocation",e.getGeoLocation);qx.core.Environment.add("html.audio",e.getAudio);qx.core.Environment.add("html.audio.ogg",e.getAudioOgg);qx.core.Environment.add("html.audio.mp3",e.getAudioMp3);qx.core.Environment.add("html.audio.wav",e.getAudioWav);qx.core.Environment.add("html.audio.au",e.getAudioAu);qx.core.Environment.add("html.audio.aif",e.getAudioAif);qx.core.Environment.add("html.video",e.getVideo);qx.core.Environment.add("html.video.ogg",e.getVideoOgg);qx.core.Environment.add("html.video.h264",e.getVideoH264);qx.core.Environment.add("html.video.webm",e.getVideoWebm);qx.core.Environment.add("html.storage.local",e.getLocalStorage);qx.core.Environment.add("html.storage.session",e.getSessionStorage);qx.core.Environment.add("html.storage.userdata",e.getUserDataStorage);qx.core.Environment.add("html.classlist",e.getClassList);qx.core.Environment.add("html.xpath",e.getXPath);qx.core.Environment.add("html.xul",e.getXul);qx.core.Environment.add("html.canvas",e.getCanvas);qx.core.Environment.add("html.svg",e.getSvg);qx.core.Environment.add("html.vml",e.getVml);qx.core.Environment.add("html.dataset",e.getDataset);qx.core.Environment.addAsync("html.dataurl",e.getDataUrl);qx.core.Environment.add("html.element.contains",e.getContains);qx.core.Environment.add("html.element.compareDocumentPosition",e.getCompareDocumentPosition);qx.core.Environment.add("html.element.textcontent",e.getTextContent);qx.core.Environment.add("html.console",e.getConsole);qx.core.Environment.add("html.image.naturaldimensions",e.getNaturalDimensions);qx.core.Environment.add("html.history.state",e.getHistoryState);qx.core.Environment.add("html.selection",e.getSelection);qx.core.Environment.add("html.node.isequalnode",e.getIsEqualNode);qx.core.Environment.add("html.fullscreen",e.getFullScreen)}});qx.bom.client.Html.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Html":{require:!0},"qx.log.Logger":{}},environment:{provided:[],required:{"html.classlist":{load:!0,className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Class",{statics:{__splitter:/\s+/g,__trim:/^\s+|\s+$/g,add:{native:function(e,t){t.length>0&&e.classList.add(t);return t},default:function(e,t){this.has(e,t)||(e.className+=(e.className?" ":"")+t);return t}}[qx.core.Environment.get("html.classlist")?"native":"default"],addClasses:{native:function(e,t){for(var i=0;i<t.length;i++)t[i].length>0&&e.classList.add(t[i]);return e.className},default:function(e,t){var i,n={},s=e.className;if(s){for(var r=0,o=(i=s.split(this.__splitter)).length;r<o;r++)n[i[r]]=!0;for(r=0,o=t.length;r<o;r++)n[t[r]]||i.push(t[r])}else i=t;return e.className=i.join(" ")}}[qx.core.Environment.get("html.classlist")?"native":"default"],get:function(e){var t=e.className;if("function"!=typeof t.split){if("object"===_typeof(t))if("SVGAnimatedString"==qx.Bootstrap.getClass(t))t=t.baseVal;else{qx.log.Logger.warn(this,"className for element "+e+" cannot be determined");t=""}if(void 0===t){qx.log.Logger.warn(this,"className for element "+e+" is undefined");t=""}}return t},has:{native:function(e,t){return e.classList.contains(t)},default:function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}}[qx.core.Environment.get("html.classlist")?"native":"default"],remove:{native:function(e,t){e.classList.remove(t);return t},default:function(e,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");e.className=e.className.replace(i,"$2");return t}}[qx.core.Environment.get("html.classlist")?"native":"default"],removeClasses:{native:function(e,t){for(var i=0;i<t.length;i++)e.classList.remove(t[i]);return e.className},default:function(e,t){var i=new RegExp("\\b"+t.join("\\b|\\b")+"\\b","g");return e.className=e.className.replace(i,"").replace(this.__trim,"").replace(this.__splitter," ")}}[qx.core.Environment.get("html.classlist")?"native":"default"],replace:function(e,t,i){if(!this.has(e,t))return"";this.remove(e,t);return this.add(e,i)},toggle:{native:function(e,t,i){void 0===i?e.classList.toggle(t):i?this.add(e,t):this.remove(e,t);return t},default:function(e,t,i){null==i&&(i=!this.has(e,t));i?this.add(e,t):this.remove(e,t);return t}}[qx.core.Environment.get("html.classlist")?"native":"default"]}});qx.bom.element.Class.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.CssAnimation":{},"qx.bom.element.AnimationCss":{},"qx.bom.element.AnimationJs":{},"qx.lang.String":{},"qx.bom.Style":{}},environment:{provided:[],required:{"css.animation":{className:"qx.bom.client.CssAnimation"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Animation",{statics:{animate:function(e,t,i){var n=qx.bom.element.Animation.__hasOnlyCssKeys(e,t.keyFrames);return qx.core.Environment.get("css.animation")&&n?qx.bom.element.AnimationCss.animate(e,t,i):qx.bom.element.AnimationJs.animate(e,t,i)},animateReverse:function(e,t,i){var n=qx.bom.element.Animation.__hasOnlyCssKeys(e,t.keyFrames);return qx.core.Environment.get("css.animation")&&n?qx.bom.element.AnimationCss.animateReverse(e,t,i):qx.bom.element.AnimationJs.animateReverse(e,t,i)},__hasOnlyCssKeys:function(e,t){var i=[];for(var n in t){var s=t[n];for(var r in s)-1==i.indexOf(r)&&i.push(r)}for(var o=["scale","rotate","skew","translate"],a=0;a<i.length;a++){if(!((r=qx.lang.String.camelCase(i[a]))in e.style)){if(-1!=o.indexOf(i[a]))continue;if(qx.bom.Style.getPropertyName(r))continue;return!1}}return!0}}});qx.bom.element.Animation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.UserAction":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.bom.client.OperatingSystem":{require:!0},"qx.bom.Event":{},"qx.event.type.MouseWheel":{},"qx.event.type.Mouse":{},"qx.event.type.Data":{},"qx.lang.Function":{},"qx.bom.client.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.dom.Hierarchy":{}},environment:{provided:[],required:{"os.name":{load:!0,className:"qx.bom.client.OperatingSystem"},"engine.name":{className:"qx.bom.client.Engine",load:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Mouse",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__window=e.getWindow();this.__root=this.__window.document;this._initButtonObserver();this._initMoveObserver();this._initWheelObserver()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{mousemove:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,click:1,auxclick:1,dblclick:1,contextmenu:1,mousewheel:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE+qx.event.IEventHandler.TARGET_DOCUMENT+qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0},members:{__onButtonEventWrapper:null,__onMoveEventWrapper:null,__onWheelEventWrapper:null,__lastEventType:null,__lastMouseDownTarget:null,__manager:null,__window:null,__root:null,__preventNextClick:null,canHandleEvent:function(e,t){},registerEvent:"ios"===qx.core.Environment.get("os.name")?function(e,t,i){e["on"+t]=function(){return null}}:function(){return null},unregisterEvent:"ios"===qx.core.Environment.get("os.name")?function(e,t,i){e["on"+t]=void 0}:function(){return null},__fireEvent:function(e,t,i){i||(i=qx.bom.Event.getTarget(e));i&&i.nodeType&&qx.event.Registration.fireEvent(i,t||e.type,"mousewheel"==t?qx.event.type.MouseWheel:qx.event.type.Mouse,[e,i,null,!0,!0]);qx.event.Registration.fireEvent(this.__window,"useraction",qx.event.type.Data,[t||e.type])},preventNextClick:function(){this.__preventNextClick=!0},_initButtonObserver:function(){this.__onButtonEventWrapper=qx.lang.Function.listener(this._onButtonEvent,this);var e=qx.bom.Event;e.addNativeListener(this.__root,"mousedown",this.__onButtonEventWrapper);e.addNativeListener(this.__root,"mouseup",this.__onButtonEventWrapper);e.addNativeListener(this.__root,"click",this.__onButtonEventWrapper);e.addNativeListener(this.__root,"auxclick",this.__onButtonEventWrapper);e.addNativeListener(this.__root,"dblclick",this.__onButtonEventWrapper);e.addNativeListener(this.__root,"contextmenu",this.__onButtonEventWrapper)},_initMoveObserver:function(){this.__onMoveEventWrapper=qx.lang.Function.listener(this._onMoveEvent,this);var e=qx.bom.Event;e.addNativeListener(this.__root,"mousemove",this.__onMoveEventWrapper);e.addNativeListener(this.__root,"mouseover",this.__onMoveEventWrapper);e.addNativeListener(this.__root,"mouseout",this.__onMoveEventWrapper)},_initWheelObserver:function(){this.__onWheelEventWrapper=qx.lang.Function.listener(this._onWheelEvent,this);var e=qx.bom.client.Event.getMouseWheel(this.__window);qx.bom.Event.addNativeListener(e.target,e.type,this.__onWheelEventWrapper)},_stopButtonObserver:function(){var e=qx.bom.Event;e.removeNativeListener(this.__root,"mousedown",this.__onButtonEventWrapper);e.removeNativeListener(this.__root,"mouseup",this.__onButtonEventWrapper);e.removeNativeListener(this.__root,"click",this.__onButtonEventWrapper);e.removeNativeListener(this.__root,"dblclick",this.__onButtonEventWrapper);e.removeNativeListener(this.__root,"contextmenu",this.__onButtonEventWrapper)},_stopMoveObserver:function(){var e=qx.bom.Event;e.removeNativeListener(this.__root,"mousemove",this.__onMoveEventWrapper);e.removeNativeListener(this.__root,"mouseover",this.__onMoveEventWrapper);e.removeNativeListener(this.__root,"mouseout",this.__onMoveEventWrapper)},_stopWheelObserver:function(){var e=qx.bom.client.Event.getMouseWheel(this.__window);qx.bom.Event.removeNativeListener(e.target,e.type,this.__onWheelEventWrapper)},_onMoveEvent:qx.event.GlobalError.observeMethod(function(e){this.__fireEvent(e)}),_onButtonEvent:qx.event.GlobalError.observeMethod(function(e){var t=e.type,i=qx.bom.Event.getTarget(e);if("click"==t&&this.__preventNextClick)delete this.__preventNextClick;else{"gecko"!=qx.core.Environment.get("engine.name")&&"webkit"!=qx.core.Environment.get("engine.name")||i&&3==i.nodeType&&(i=i.parentNode);var n=qx.event.handler.DragDrop&&this.__manager.getHandler(qx.event.handler.DragDrop).isSessionActive();if(!n||"click"!=t){this.__doubleClickFixPre&&this.__doubleClickFixPre(e,t,i);this.__fireEvent(e,t,i);"auxclick"==t&&1==e.button&&this.__fireEvent(e,"click",i);this.__rightClickFixPost&&this.__rightClickFixPost(e,t,i);this.__differentTargetClickFixPost&&!n&&this.__differentTargetClickFixPost(e,t,i);this.__lastEventType=t}}}),_onWheelEvent:qx.event.GlobalError.observeMethod(function(e){this.__fireEvent(e,"mousewheel")}),__rightClickFixPost:qx.core.Environment.select("engine.name",{opera:function(e,t,i){"mouseup"==t&&2==e.button&&this.__fireEvent(e,"contextmenu",i)},default:null}),__doubleClickFixPre:qx.core.Environment.select("engine.name",{mshtml:function(e,t,i){void 0===e.target&&("mouseup"==t&&"click"==this.__lastEventType?this.__fireEvent(e,"mousedown",i):"dblclick"==t&&this.__fireEvent(e,"click",i))},default:null}),__differentTargetClickFixPost:qx.core.Environment.select("engine.name",{mshtml:null,default:function(e,t,i){switch(t){case"mousedown":this.__lastMouseDownTarget=i;break;case"mouseup":if(i!==this.__lastMouseDownTarget){var n=qx.dom.Hierarchy.getCommonParent(i,this.__lastMouseDownTarget);n&&this.__fireEvent(e,"click",n)}}}})},destruct:function(){this._stopButtonObserver();this._stopMoveObserver();this._stopWheelObserver();this.__manager=this.__window=this.__root=this.__lastMouseDownTarget=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Mouse.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.core.ObjectRegistry":{},"qx.lang.Function":{},"qx.bom.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.event.type.Native":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Element",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this._manager=e;this._registeredEvents={}},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{abort:!0,load:!0,scroll:!0,select:!0,reset:!0,submit:!0},CANCELABLE:{selectstart:!0},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!1},members:{canHandleEvent:function(e,t){return"load"!==t||"iframe"!==e.tagName.toLowerCase()},registerEvent:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+"-"+t,s=qx.lang.Function.listener(this._onNative,this,n);qx.bom.Event.addNativeListener(e,t,s);this._registeredEvents[n]={element:e,type:t,listener:s}},unregisterEvent:function(e,t,i){if(this._registeredEvents){var n=qx.core.ObjectRegistry.toHashCode(e)+"-"+t,s=this._registeredEvents[n];s&&qx.bom.Event.removeNativeListener(e,t,s.listener);delete this._registeredEvents[n]}},_onNative:qx.event.GlobalError.observeMethod(function(e,t){var i=this._registeredEvents;if(i){var n=i[t],s=this.constructor.CANCELABLE[n.type];qx.event.Registration.fireNonBubblingEvent(n.element,n.type,qx.event.type.Native,[e,void 0,void 0,void 0,s])}})},destruct:function(){var e,t=this._registeredEvents;for(var i in t){e=t[i];qx.bom.Event.removeNativeListener(e.element,e.type,e.listener)}this._manager=this._registeredEvents=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.core.ObjectRegistry":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.event.Utils":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Appear",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__targets={};qx.event.handler.Appear.__instances[this.toHashCode()]=this},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{appear:!0,disappear:!0},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!0,__instances:{},refresh:function(){var e=this.__instances;for(var t in e)e[t].refresh()}},members:{__manager:null,__targets:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+t,s=this.__targets;if(s&&!s[n]){s[n]=e;e.$$displayed=e.offsetWidth>0}},unregisterEvent:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+t,s=this.__targets;s&&s[n]&&delete s[n]},refresh:function(){var e=this.__targets,t="mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9,i={},n=this;Object.keys(e).forEach(function(s){var r=e[s];void 0!==r&&qx.event.Utils.then(i,function(){var e=r.offsetWidth>0;!e&&t&&(e=r.offsetWidth>0);if(!!r.$$displayed!==e){r.$$displayed=e;var i=qx.event.Registration.createEvent(e?"appear":"disappear");return n.__manager.dispatchEvent(r,i)}})});return i.promise}},destruct:function(){this.__manager=this.__targets=null;delete qx.event.handler.Appear.__instances[this.toHashCode()]},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Appear.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.lang.Function":{},"qx.bom.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{},"qx.bom.Viewport":{},"qx.event.type.Orientation":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Orientation",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__window=e.getWindow();this._initObserver()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{orientationchange:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0},members:{__manager:null,__window:null,__nativeEventType:null,_currentOrientation:null,__onNativeWrapper:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_initObserver:function(){this.__onNativeWrapper=qx.lang.Function.listener(this._onNative,this);this.__nativeEventType=qx.bom.Event.supportsEvent(this.__window,"orientationchange")?"orientationchange":"resize";qx.bom.Event.addNativeListener(this.__window,this.__nativeEventType,this.__onNativeWrapper)},_stopObserver:function(){qx.bom.Event.removeNativeListener(this.__window,this.__nativeEventType,this.__onNativeWrapper)},_onNative:qx.event.GlobalError.observeMethod(function(e){var t=0;"android"==qx.core.Environment.get("os.name")&&(t=300);qx.lang.Function.delay(this._onOrientationChange,t,this,e)}),_onOrientationChange:function(e){var t=qx.bom.Viewport,i=t.getOrientation(e.target);if(this._currentOrientation!=i){this._currentOrientation=i;var n=t.isLandscape(e.target)?"landscape":"portrait";qx.event.Registration.fireEvent(this.__window,"orientationchange",qx.event.type.Orientation,[i,n])}}},destruct:function(){this._stopObserver();this.__manager=this.__window=null},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Orientation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.OperatingSystem":{require:!0},"qx.lang.Function":{},"qx.bom.client.Event":{},"qx.bom.client.Engine":{},"qx.bom.Event":{},"qx.bom.client.Browser":{},"qx.bom.element.Style":{}},environment:{provided:[],required:{"os.name":{load:!0,className:"qx.bom.client.OperatingSystem"},"event.mspointer":{className:"qx.bom.client.Event"},"engine.version":{className:"qx.bom.client.Engine"},"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.handler.TouchCore",{extend:Object,implement:[qx.core.IDisposable],statics:{TAP_MAX_DISTANCE:"android"!=qx.core.Environment.get("os.name")?10:40,SWIPE_DIRECTION:{x:["left","right"],y:["up","down"]},SWIPE_MIN_DISTANCE:"android"!=qx.core.Environment.get("os.name")?11:41,SWIPE_MIN_VELOCITY:0,LONGTAP_TIME:500},construct:function(e,t){this.__target=e;this.__emitter=t;this._initTouchObserver();this.__pointers=[];this.__touchStartPosition={}},members:{__target:null,__emitter:null,__onTouchEventWrapper:null,__originalTarget:null,__touchStartPosition:null,__startTime:null,__beginScalingDistance:null,__beginRotation:null,__pointers:null,__touchEventNames:null,_initTouchObserver:function(){this.__onTouchEventWrapper=qx.lang.Function.listener(this._onTouchEvent,this);this.__touchEventNames=["touchstart","touchmove","touchend","touchcancel"];if(qx.core.Environment.get("event.mspointer")){var e=parseInt(qx.core.Environment.get("engine.version"),10);this.__touchEventNames=10==e?["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]:["pointerdown","pointermove","pointerup","pointercancel"]}for(var t=0;t<this.__touchEventNames.length;t++)qx.bom.Event.addNativeListener(this.__target,this.__touchEventNames[t],this.__onTouchEventWrapper)},_stopTouchObserver:function(){for(var e=0;e<this.__touchEventNames.length;e++)qx.bom.Event.removeNativeListener(this.__target,this.__touchEventNames[e],this.__onTouchEventWrapper)},_onTouchEvent:function(e){this._commonTouchEventHandler(e)},_getScalingDistance:function(e,t){return Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))},_getRotationAngle:function(e,t){var i=e.pageX-t.pageX,n=e.pageY-t.pageY;return 180*Math.atan2(n,i)/Math.PI},_calcTouchesDelta:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this._calcSingleTouchDelta(e[i]));return t},_calcSingleTouchDelta:function(e){if(this.__touchStartPosition.hasOwnProperty(e.identifier)){var t=this.__touchStartPosition[e.identifier],i=Math.floor(e.clientX-t[0]),n=Math.floor(e.clientY-t[1]),s="x";Math.abs(i/n)<1&&(s="y");return{x:i,y:n,axis:s,identifier:e.identifier}}return{x:0,y:0,axis:null,identifier:e.identifier}},_commonTouchEventHandler:function(e,t){t=t||e.type;if(qx.core.Environment.get("event.mspointer")){t=this._mapPointerEvent(t);var i=this._detectTouchesByPointer(e,t);e.changedTouches=i;e.targetTouches=i;e.touches=i}e.delta=[];if("touchstart"==t){this.__originalTarget=this._getTarget(e);if(e.touches&&e.touches.length>1){this.__beginScalingDistance=this._getScalingDistance(e.touches[0],e.touches[1]);this.__beginRotation=this._getRotationAngle(e.touches[0],e.touches[1])}for(var n=0;n<e.changedTouches.length;n++){var s=e.changedTouches[n];this.__touchStartPosition[s.identifier]=[s.clientX,s.clientY]}}if("touchmove"==t){if(void 0===e.scale&&e.targetTouches.length>1){var r=this._getScalingDistance(e.targetTouches[0],e.targetTouches[1]);e.scale=r/this.__beginScalingDistance}if((void 0===e.rotation||qx.core.Environment.get("event.mspointer"))&&e.targetTouches.length>1){var o=this._getRotationAngle(e.targetTouches[0],e.targetTouches[1]);e._rotation=o-this.__beginRotation}e.delta=this._calcTouchesDelta(e.targetTouches)}this._fireEvent(e,t,this.__originalTarget);qx.core.Environment.get("event.mspointer")&&("touchend"!=t&&"touchcancel"!=t||delete this.__pointers[e.pointerId]);"touchend"!=t&&"touchcancel"!=t||!e.changedTouches[0]||delete this.__touchStartPosition[e.changedTouches[0].identifier]},_detectTouchesByPointer:function(e,t){var i=[];"touchstart"==t?this.__pointers[e.pointerId]=e:"touchmove"==t&&(this.__pointers[e.pointerId]=e);for(var n in this.__pointers){var s=this.__pointers[n];i.push(s)}return i},_mapPointerEvent:function(e){return-1!==(e=e.toLowerCase()).indexOf("pointerdown")?"touchstart":-1!==e.indexOf("pointerup")?"touchend":-1!==e.indexOf("pointermove")?"touchmove":-1!==e.indexOf("pointercancel")?"touchcancel":e},_getTarget:function(e){var t=qx.bom.Event.getTarget(e);if("webkit"==qx.core.Environment.get("engine.name"))t&&3==t.nodeType&&(t=t.parentNode);else if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<11){var i=this.__evaluateTarget(e);i&&(t=i)}return t},__evaluateTarget:function(e){var t=null,i=null;if(e&&e.touches&&0!==e.touches.length){t=e.touches[0].clientX;i=e.touches[0].clientY}var n=document.msElementsFromPoint(t,i);if(n)for(var s=0;s<n.length;s++){var r=n[s];if("none"!=qx.bom.element.Style.get(r,"pointer-events",3))return r}return null},_fireEvent:function(e,t,i){i||(i=this._getTarget(e));t=t||e.type;i&&i.nodeType&&this.__emitter&&this.__emitter.emit(t,e)},dispose:function(){this._stopTouchObserver();this.__originalTarget=this.__target=this.__touchEventNames=this.__pointers=this.__emitter=this.__beginScalingDistance=this.__beginRotation=null}}});qx.event.handler.TouchCore.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.UserAction":{require:!0,defer:"runtime"},"qx.event.handler.Orientation":{require:!0,defer:"runtime"},"qx.event.type.Tap":{require:!0,defer:"runtime"},"qx.event.type.Swipe":{require:!0,defer:"runtime"},"qx.event.type.Track":{require:!0,defer:"runtime"},"qx.event.type.Rotate":{require:!0,defer:"runtime"},"qx.event.type.Pinch":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.handler.TouchCore":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.event.type.Touch":{},"qx.event.type.Data":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.bom.client.Event":{defer:"runtime"}},environment:{provided:[],required:{"event.touch":{defer:!0,className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Touch",{extend:qx.event.handler.TouchCore,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){this.__manager=e;this.__window=e.getWindow();this.__root=this.__window.document;qx.event.handler.TouchCore.apply(this,[this.__root])},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{touchstart:1,touchmove:1,touchend:1,touchcancel:1,tap:1,longtap:1,swipe:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE+qx.event.IEventHandler.TARGET_DOCUMENT,IGNORE_CAN_HANDLE:!0,MOUSE_TO_TOUCH_MAPPING:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}},members:{__manager:null,__window:null,__root:null,__isInTouch:!1,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_fireEvent:function(e,t,i,n){i||(i=this._getTarget(e));t=t||e.type;i&&i.nodeType&&qx.event.Registration.fireEvent(i,t,n||qx.event.type.Touch,[e,i,null,!0,!0]);qx.event.Registration.fireEvent(this.__window,"useraction",qx.event.type.Data,[t])},_onTouchEvent:qx.event.GlobalError.observeMethod(function(e){this._commonTouchEventHandler(e)}),dispose:function(){this.__callBase("dispose");this.__manager=this.__window=this.__root=null},__callBase:function(e,t){qx.event.handler.TouchCore.prototype[e].apply(this,t||[])}},defer:function(e){qx.event.Registration.addHandler(e);qx.core.Environment.get("event.touch")&&qx.event.Registration.getManager(document).getHandler(e)}});qx.event.handler.Touch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.lang.Function":{},"qx.bom.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.event.type.Event":{},"qx.event.handler.Appear":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Offline",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__window=e.getWindow();this._initObserver()},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{online:!0,offline:!0},TARGET_CHECK:qx.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:!0},members:{__manager:null,__window:null,__onNativeWrapper:null,canHandleEvent:function(e,t){},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){},_initObserver:function(){this.__onNativeWrapper=qx.lang.Function.listener(this._onNative,this);qx.bom.Event.addNativeListener(this.__window,"offline",this.__onNativeWrapper);qx.bom.Event.addNativeListener(this.__window,"online",this.__onNativeWrapper)},_stopObserver:function(){qx.bom.Event.removeNativeListener(this.__window,"offline",this.__onNativeWrapper);qx.bom.Event.removeNativeListener(this.__window,"online",this.__onNativeWrapper)},_onNative:qx.event.GlobalError.observeMethod(function(e){qx.event.Registration.fireEvent(this.__window,e.type,qx.event.type.Event,[])}),isOnline:function(){return!!this.__window.navigator.onLine}},destruct:function(){this.__manager=null;this._stopObserver();delete qx.event.handler.Appear.__instances[this.toHashCode()]},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Offline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.lang.Function":{construct:!0},"qx.bom.client.Engine":{construct:!0,require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.bom.client.Browser":{},"qx.bom.Event":{},"qx.event.type.Data":{},"qx.event.GlobalError":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine",load:!0},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Input",{extend:qx.core.Object,implement:qx.event.IEventHandler,construct:function(){qx.core.Object.constructor.call(this);this._onChangeCheckedWrapper=qx.lang.Function.listener(this._onChangeChecked,this);this._onChangeValueWrapper=qx.lang.Function.listener(this._onChangeValue,this);this._onInputWrapper=qx.lang.Function.listener(this._onInput,this);this._onPropertyWrapper=qx.lang.Function.listener(this._onProperty,this);if("opera"==qx.core.Environment.get("engine.name")){this._onKeyDownWrapper=qx.lang.Function.listener(this._onKeyDown,this);this._onKeyUpWrapper=qx.lang.Function.listener(this._onKeyUp,this)}},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{input:1,change:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!1},members:{__enter:!1,__onInputTimeoutId:null,__oldValue:null,__oldInputValue:null,canHandleEvent:function(e,t){var i=e.tagName.toLowerCase();return"input"===t&&("input"===i||"textarea"===i)||"change"===t&&("input"===i||"textarea"===i||"select"===i)},registerEvent:function(e,t,i){if("mshtml"==qx.core.Environment.get("engine.name")&&(qx.core.Environment.get("engine.version")<9||qx.core.Environment.get("engine.version")>=9&&qx.core.Environment.get("browser.documentmode")<9)){if(!e.__inputHandlerAttached){var n=e.tagName.toLowerCase(),s=e.type;"text"!==s&&"password"!==s&&"textarea"!==n&&"checkbox"!==s&&"radio"!==s||qx.bom.Event.addNativeListener(e,"propertychange",this._onPropertyWrapper);"checkbox"!==s&&"radio"!==s&&qx.bom.Event.addNativeListener(e,"change",this._onChangeValueWrapper);if("text"===s||"password"===s){this._onKeyPressWrapped=qx.lang.Function.listener(this._onKeyPress,this,e);qx.bom.Event.addNativeListener(e,"keypress",this._onKeyPressWrapped)}e.__inputHandlerAttached=!0}}else if("input"===t)this.__registerInputListener(e);else if("change"===t){"radio"===e.type||"checkbox"===e.type?qx.bom.Event.addNativeListener(e,"change",this._onChangeCheckedWrapper):qx.bom.Event.addNativeListener(e,"change",this._onChangeValueWrapper);if(!("opera"!=qx.core.Environment.get("engine.name")&&"mshtml"!=qx.core.Environment.get("engine.name")||"text"!==e.type&&"password"!==e.type)){this._onKeyPressWrapped=qx.lang.Function.listener(this._onKeyPress,this,e);qx.bom.Event.addNativeListener(e,"keypress",this._onKeyPressWrapped)}}},__registerInputListener:qx.core.Environment.select("engine.name",{mshtml:function(e){if(qx.core.Environment.get("engine.version")>=9&&qx.core.Environment.get("browser.documentmode")>=9){qx.bom.Event.addNativeListener(e,"input",this._onInputWrapper);if("text"===e.type||"password"===e.type||"textarea"===e.type){this._inputFixWrapper=qx.lang.Function.listener(this._inputFix,this,e);qx.bom.Event.addNativeListener(e,"keyup",this._inputFixWrapper)}}},webkit:function(e){var t=e.tagName.toLowerCase();parseFloat(qx.core.Environment.get("engine.version"))<532&&"textarea"==t&&qx.bom.Event.addNativeListener(e,"keypress",this._onInputWrapper);qx.bom.Event.addNativeListener(e,"input",this._onInputWrapper)},opera:function(e){qx.bom.Event.addNativeListener(e,"keyup",this._onKeyUpWrapper);qx.bom.Event.addNativeListener(e,"keydown",this._onKeyDownWrapper);qx.bom.Event.addNativeListener(e,"input",this._onInputWrapper)},default:function(e){qx.bom.Event.addNativeListener(e,"input",this._onInputWrapper)}}),unregisterEvent:function(e,t){if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("engine.version")<9&&qx.core.Environment.get("browser.documentmode")<9){if(e.__inputHandlerAttached){var i=e.tagName.toLowerCase(),n=e.type;"text"!==n&&"password"!==n&&"textarea"!==i&&"checkbox"!==n&&"radio"!==n||qx.bom.Event.removeNativeListener(e,"propertychange",this._onPropertyWrapper);"checkbox"!==n&&"radio"!==n&&qx.bom.Event.removeNativeListener(e,"change",this._onChangeValueWrapper);"text"!==n&&"password"!==n||qx.bom.Event.removeNativeListener(e,"keypress",this._onKeyPressWrapped);try{delete e.__inputHandlerAttached}catch(t){e.__inputHandlerAttached=null}}}else{"input"===t?this.__unregisterInputListener(e):"change"===t&&("radio"===e.type||"checkbox"===e.type?qx.bom.Event.removeNativeListener(e,"change",this._onChangeCheckedWrapper):qx.bom.Event.removeNativeListener(e,"change",this._onChangeValueWrapper));"opera"!=qx.core.Environment.get("engine.name")&&"mshtml"!=qx.core.Environment.get("engine.name")||"text"!==e.type&&"password"!==e.type||qx.bom.Event.removeNativeListener(e,"keypress",this._onKeyPressWrapped)}},__unregisterInputListener:qx.core.Environment.select("engine.name",{mshtml:function(e){if(qx.core.Environment.get("engine.version")>=9&&qx.core.Environment.get("browser.documentmode")>=9){qx.bom.Event.removeNativeListener(e,"input",this._onInputWrapper);"text"!==e.type&&"password"!==e.type&&"textarea"!==e.type||qx.bom.Event.removeNativeListener(e,"keyup",this._inputFixWrapper)}},webkit:function(e){var t=e.tagName.toLowerCase();parseFloat(qx.core.Environment.get("engine.version"))<532&&"textarea"==t&&qx.bom.Event.removeNativeListener(e,"keypress",this._onInputWrapper);qx.bom.Event.removeNativeListener(e,"input",this._onInputWrapper)},opera:function(e){qx.bom.Event.removeNativeListener(e,"keyup",this._onKeyUpWrapper);qx.bom.Event.removeNativeListener(e,"keydown",this._onKeyDownWrapper);qx.bom.Event.removeNativeListener(e,"input",this._onInputWrapper)},default:function(e){qx.bom.Event.removeNativeListener(e,"input",this._onInputWrapper)}}),_onKeyPress:qx.core.Environment.select("engine.name",{mshtml:function(e,t){if(13===e.keyCode&&t.value!==this.__oldValue){this.__oldValue=t.value;qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.value])}},opera:function(e,t){if(13===e.keyCode&&t.value!==this.__oldValue){this.__oldValue=t.value;qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.value])}},default:null}),_inputFix:qx.core.Environment.select("engine.name",{mshtml:function(e,t){if((46===e.keyCode||8===e.keyCode)&&t.value!==this.__oldInputValue){this.__oldInputValue=t.value;qx.event.Registration.fireEvent(t,"input",qx.event.type.Data,[t.value])}},default:null}),_onKeyDown:qx.core.Environment.select("engine.name",{opera:function(e){13===e.keyCode&&(this.__enter=!0)},default:null}),_onKeyUp:qx.core.Environment.select("engine.name",{opera:function(e){13===e.keyCode&&(this.__enter=!1)},default:null}),_onInput:qx.event.GlobalError.observeMethod(function(e){var t=qx.bom.Event.getTarget(e),i=t.tagName.toLowerCase();this.__enter&&"input"===i||("opera"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.version")<10.6?this.__onInputTimeoutId=window.setTimeout(function(){qx.event.Registration.fireEvent(t,"input",qx.event.type.Data,[t.value])},0):qx.event.Registration.fireEvent(t,"input",qx.event.type.Data,[t.value]))}),_onChangeValue:qx.event.GlobalError.observeMethod(function(e){var t=qx.bom.Event.getTarget(e),i=t.value;if("select-multiple"===t.type){i=[];for(var n=0,s=t.options,r=s.length;n<r;n++)s[n].selected&&i.push(s[n].value)}qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[i])}),_onChangeChecked:qx.event.GlobalError.observeMethod(function(e){var t=qx.bom.Event.getTarget(e);"radio"===t.type?t.checked&&qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.value]):qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.checked])}),_onProperty:qx.core.Environment.select("engine.name",{mshtml:qx.event.GlobalError.observeMethod(function(e){var t=qx.bom.Event.getTarget(e),i=e.propertyName;"value"!==i||"text"!==t.type&&"password"!==t.type&&"textarea"!==t.tagName.toLowerCase()?"checked"===i&&("checkbox"===t.type?qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.checked]):t.checked&&qx.event.Registration.fireEvent(t,"change",qx.event.type.Data,[t.value])):t.$$inValueSet||qx.event.Registration.fireEvent(t,"input",qx.event.type.Data,[t.value])}),default:function(){}})},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Input.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.dispatch.Direct":{require:!0},"qx.event.dispatch.DomBubbling":{require:!0},"qx.event.handler.Keyboard":{require:!0},"qx.event.handler.Mouse":{require:!0},"qx.event.handler.Element":{require:!0},"qx.event.handler.Appear":{require:!0},"qx.event.handler.Touch":{require:!0},"qx.event.handler.Offline":{require:!0},"qx.event.handler.Input":{require:!0},"qx.event.handler.Pointer":{require:!0},"qx.event.handler.Gesture":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.event.Registration":{},"qx.event.handler.Focus":{},"qx.event.dispatch.MouseCapture":{},"qx.bom.client.Engine":{},"qx.xml.Document":{},"qx.dom.Hierarchy":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Element",{statics:{addListener:function(e,t,i,n,s){return qx.event.Registration.addListener(e,t,i,n,s)},removeListener:function(e,t,i,n,s){return qx.event.Registration.removeListener(e,t,i,n,s)},removeListenerById:function(e,t){return qx.event.Registration.removeListenerById(e,t)},hasListener:function(e,t,i){return qx.event.Registration.hasListener(e,t,i)},focus:function(e){qx.event.Registration.getManager(e).getHandler(qx.event.handler.Focus).focus(e)},blur:function(e){qx.event.Registration.getManager(e).getHandler(qx.event.handler.Focus).blur(e)},activate:function(e){qx.event.Registration.getManager(e).getHandler(qx.event.handler.Focus).activate(e)},deactivate:function(e){qx.event.Registration.getManager(e).getHandler(qx.event.handler.Focus).deactivate(e)},capture:function(e,t){qx.event.Registration.getManager(e).getDispatcher(qx.event.dispatch.MouseCapture).activateCapture(e,t)},releaseCapture:function(e){qx.event.Registration.getManager(e).getDispatcher(qx.event.dispatch.MouseCapture).releaseCapture(e)},clone:function(e,t){if(t||"mshtml"==qx.core.Environment.get("engine.name")&&!qx.xml.Document.isXmlDocument(e)){var i=qx.event.Registration.getManager(e),n=qx.dom.Hierarchy.getDescendants(e);n.push(e)}if("mshtml"==qx.core.Environment.get("engine.name"))for(var s=0,r=n.length;s<r;s++)i.toggleAttachedEvents(n[s],!1);var o=e.cloneNode(!0);if("mshtml"==qx.core.Environment.get("engine.name"))for(s=0,r=n.length;s<r;s++)i.toggleAttachedEvents(n[s],!0);if(!0===t){var a,l,u,c,d=qx.dom.Hierarchy.getDescendants(o);d.push(o);s=0;for(var h=n.length;s<h;s++){u=n[s];if((a=i.serializeListeners(u)).length>0){l=d[s];for(var g=0,m=a.length;g<m;g++){c=a[g];i.addListener(l,c.type,c.handler,c.self,c.capture)}}}}return o}}});qx.bom.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Node":{},"qx.bom.client.Html":{},"qx.lang.Array":{}},environment:{provided:[],required:{"html.element.contains":{className:"qx.bom.client.Html"},"html.element.compareDocumentPosition":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.dom.Hierarchy",{statics:{getNodeIndex:function(e){for(var t=0;e&&(e=e.previousSibling);)t++;return t},getElementIndex:function(e){for(var t=0,i=qx.dom.Node.ELEMENT;e&&(e=e.previousSibling);)e.nodeType==i&&t++;return t},getNextElementSibling:function(e){for(;e&&(e=e.nextSibling)&&!qx.dom.Node.isElement(e););return e||null},getPreviousElementSibling:function(e){for(;e&&(e=e.previousSibling)&&!qx.dom.Node.isElement(e););return e||null},contains:function(e,t){if(qx.core.Environment.get("html.element.contains")){if(qx.dom.Node.isDocument(e)){var i=qx.dom.Node.getDocument(t);return e&&i==e}return!qx.dom.Node.isDocument(t)&&e.contains(t)}if(qx.core.Environment.get("html.element.compareDocumentPosition"))return!!(16&e.compareDocumentPosition(t));for(;t;){if(e==t)return!0;t=t.parentNode}return!1},isRendered:function(e){var t=e.ownerDocument||e.document;if(qx.core.Environment.get("html.element.contains"))return!!e.parentNode&&t.body.contains(e);if(qx.core.Environment.get("html.element.compareDocumentPosition"))return!!(16&t.compareDocumentPosition(e));for(;e;){if(e==t.body)return!0;e=e.parentNode}return!1},isDescendantOf:function(e,t){return this.contains(t,e)},getCommonParent:function(e,t){if(e===t)return e;if(qx.core.Environment.get("html.element.contains")){for(;e&&qx.dom.Node.isElement(e);){if(e.contains(t))return e;e=e.parentNode}return null}for(var i=[];e||t;){if(e){if(i.includes(e))return e;i.push(e);e=e.parentNode}if(t){if(i.includes(t))return t;i.push(t);t=t.parentNode}}return null},getAncestors:function(e){return this._recursivelyCollect(e,"parentNode")},getChildElements:function(e){if(!(e=e.firstChild))return[];var t=this.getNextSiblings(e);1===e.nodeType&&t.unshift(e);return t},getDescendants:function(e){return qx.lang.Array.fromCollection(e.getElementsByTagName("*"))},getFirstDescendant:function(e){e=e.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;return e},getLastDescendant:function(e){e=e.lastChild;for(;e&&1!=e.nodeType;)e=e.previousSibling;return e},getPreviousSiblings:function(e){return this._recursivelyCollect(e,"previousSibling")},getNextSiblings:function(e){return this._recursivelyCollect(e,"nextSibling")},_recursivelyCollect:function(e,t){for(var i=[];e=e[t];)1==e.nodeType&&i.push(e);return i},getSiblings:function(e){return this.getPreviousSiblings(e).reverse().concat(this.getNextSiblings(e))},isEmpty:function(e){e=e.firstChild;for(;e;){if(e.nodeType===qx.dom.Node.ELEMENT||e.nodeType===qx.dom.Node.TEXT)return!1;e=e.nextSibling}return!0},cleanWhitespace:function(e){for(var t=e.firstChild;t;){var i=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t);t=i}}}});qx.dom.Hierarchy.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.element.Style":{},"qx.bom.client.Engine":{},"qx.dom.Node":{},"qx.bom.Viewport":{},"qx.bom.element.Location":{},"qx.event.Registration":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.element.Scroll",{statics:{__scrollbarSize:null,getScrollbarWidth:function(){if(null!==this.__scrollbarSize)return this.__scrollbarSize;var e=qx.bom.element.Style,t=function(t,i){return parseInt(e.get(t,i),10)||0},i=function(i){return"none"==e.get(i,"borderRightStyle")?0:t(i,"borderRightWidth")},n=qx.core.Environment.select("engine.name",{mshtml:function(t){return"hidden"==e.get(t,"overflowY")||0==t.clientWidth?i(t):Math.max(0,t.offsetWidth-t.clientLeft-t.clientWidth)},default:function(n){if(0==n.clientWidth){var s=e.get(n,"overflow"),r="scroll"==s||"-moz-scrollbars-vertical"==s?16:0;return Math.max(0,i(n)+r)}return Math.max(0,n.offsetWidth-n.clientWidth-function(i){return"none"==e.get(i,"borderLeftStyle")?0:t(i,"borderLeftWidth")}(n))}}),s=document.createElement("div"),r=s.style;r.height=r.width="100px";r.overflow="scroll";document.body.appendChild(s);var o,a=n(o=s)-i(o);this.__scrollbarSize=a;document.body.removeChild(s);return this.__scrollbarSize},intoViewX:function(e,t,i){var n,s,r,o,a,l,u,c,d,h,g,m,f,p,_,x=e.parentNode,q=qx.dom.Node.getDocument(e),v=q.body,b="left"===i,y="right"===i;t=t?t.parentNode:q;for(;x&&x!=t;){if(x.scrollWidth>x.clientWidth&&(x===v||"visible"!=qx.bom.element.Style.get(x,"overflowY"))){if(x===v){r=(s=x.scrollLeft)+qx.bom.Viewport.getWidth();o=qx.bom.Viewport.getWidth();a=x.clientWidth;x.scrollWidth;l=0;u=0;c=0}else{s=(n=qx.bom.element.Location.get(x)).left;r=n.right;o=x.offsetWidth;a=x.clientWidth;x.scrollWidth;c=o-a-(l=parseInt(qx.bom.element.Style.get(x,"borderLeftWidth"),10)||0)-(u=parseInt(qx.bom.element.Style.get(x,"borderRightWidth"),10)||0)}h=(d=qx.bom.element.Location.get(e)).left;g=d.right;m=e.offsetWidth;f=h-s-l;p=g-r+u;_=0;b?_=f:y?_=p+c:f<0||m>a?_=f:p>0&&(_=p+c);x.scrollLeft+=_;qx.event.Registration.fireNonBubblingEvent(x,"scroll")}if(x===v)break;x=x.parentNode}},intoViewY:function(e,t,i){var n,s,r,o,a,l,u,c,d,h,g,m,f,p,_,x=e.parentNode,q=qx.dom.Node.getDocument(e),v=q.body,b="top"===i,y="bottom"===i;t=t?t.parentNode:q;for(;x&&x!=t;){if(x.scrollHeight>x.clientHeight&&(x===v||"visible"!=qx.bom.element.Style.get(x,"overflowY"))){if(x===v){r=(s=x.scrollTop)+qx.bom.Viewport.getHeight();o=qx.bom.Viewport.getHeight();a=x.clientHeight;x.scrollHeight;l=0;u=0;c=0}else{s=(n=qx.bom.element.Location.get(x)).top;r=n.bottom;o=x.offsetHeight;a=x.clientHeight;x.scrollHeight;c=o-a-(l=parseInt(qx.bom.element.Style.get(x,"borderTopWidth"),10)||0)-(u=parseInt(qx.bom.element.Style.get(x,"borderBottomWidth"),10)||0)}h=(d=qx.bom.element.Location.get(e)).top;g=d.bottom;m=e.offsetHeight;f=h-s-l;p=g-r+u;_=0;b?_=f:y?_=p+c:f<0||m>a?_=f:p>0&&(_=p+c);x.scrollTop+=_;qx.event.Registration.fireNonBubblingEvent(x,"scroll")}if(x===v)break;x=x.parentNode}},intoView:function(e,t,i,n){this.intoViewX(e,t,i);this.intoViewY(e,t,n)}}});qx.bom.element.Scroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Html":{require:!0},"qx.dom.Node":{},"qx.bom.Range":{},"qx.util.StringSplit":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"html.selection":{load:!0,className:"qx.bom.client.Html"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Selection",{statics:{getSelectionObject:qx.core.Environment.select("html.selection",{selection:function(e){return e.selection},default:function(e){return qx.dom.Node.getWindow(e).getSelection()}}),get:qx.core.Environment.select("html.selection",{selection:function(e){return qx.bom.Range.get(qx.dom.Node.getDocument(e)).text},default:function(e){return this.__isInputOrTextarea(e)?e.value.substring(e.selectionStart,e.selectionEnd):this.getSelectionObject(qx.dom.Node.getDocument(e)).toString()}}),getLength:qx.core.Environment.select("html.selection",{selection:function(e){var t=this.get(e),i=qx.util.StringSplit.split(t,/\r\n/);return t.length-(i.length-1)},default:function(e){if("opera"==qx.core.Environment.get("engine.name")){var t,i;if(this.__isInputOrTextarea(e)){var n=e.selectionStart,s=e.selectionEnd;t=e.value.substring(n,s);i=s-n}else i=(t=qx.bom.Selection.get(e)).length;return i-(qx.util.StringSplit.split(t,/\r\n/).length-1)}return this.__isInputOrTextarea(e)?e.selectionEnd-e.selectionStart:this.get(e).length}}),getStart:qx.core.Environment.select("html.selection",{selection:function(e){if(this.__isInputOrTextarea(e)){var t=qx.bom.Range.get();if(!e.contains(t.parentElement()))return-1;var i=qx.bom.Range.get(e),n=e.value.length;i.moveToBookmark(t.getBookmark());i.moveEnd("character",n);return n-i.text.length}var s=(i=qx.bom.Range.get(e)).parentElement(),r=qx.bom.Range.get();try{r.moveToElementText(s)}catch(e){return 0}var o,a=qx.bom.Range.get(qx.dom.Node.getBodyElement(e));a.setEndPoint("StartToStart",i);a.setEndPoint("EndToEnd",r);if(0==r.compareEndPoints("StartToStart",a))return 0;for(var l=0;;){o=a.moveStart("character",-1);if(0==r.compareEndPoints("StartToStart",a))break;if(0==o)break;l++}return++l},default:function(e){if("gecko"===qx.core.Environment.get("engine.name")||"webkit"===qx.core.Environment.get("engine.name")){if(this.__isInputOrTextarea(e))return e.selectionStart;var t=qx.dom.Node.getDocument(e),i=this.getSelectionObject(t);return i.anchorOffset<i.focusOffset?i.anchorOffset:i.focusOffset}return this.__isInputOrTextarea(e)?e.selectionStart:qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).anchorOffset}}),getEnd:qx.core.Environment.select("html.selection",{selection:function(e){if(this.__isInputOrTextarea(e)){var t=qx.bom.Range.get();if(!e.contains(t.parentElement()))return-1;var i=qx.bom.Range.get(e),n=e.value.length;i.moveToBookmark(t.getBookmark());i.moveStart("character",-n);return i.text.length}var s=(i=qx.bom.Range.get(e)).parentElement(),r=qx.bom.Range.get();try{r.moveToElementText(s)}catch(e){return 0}n=r.text.length;var o,a=qx.bom.Range.get(qx.dom.Node.getBodyElement(e));a.setEndPoint("EndToEnd",i);a.setEndPoint("StartToStart",r);if(0==r.compareEndPoints("EndToEnd",a))return n-1;for(var l=0;;){o=a.moveEnd("character",1);if(0==r.compareEndPoints("EndToEnd",a))break;if(0==o)break;l++}return n-++l},default:function(e){if("gecko"===qx.core.Environment.get("engine.name")||"webkit"===qx.core.Environment.get("engine.name")){if(this.__isInputOrTextarea(e))return e.selectionEnd;var t=qx.dom.Node.getDocument(e),i=this.getSelectionObject(t);return i.focusOffset>i.anchorOffset?i.focusOffset:i.anchorOffset}return this.__isInputOrTextarea(e)?e.selectionEnd:qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).focusOffset}}),__isInputOrTextarea:function(e){return qx.dom.Node.isElement(e)&&("input"==e.nodeName.toLowerCase()||"textarea"==e.nodeName.toLowerCase())},set:qx.core.Environment.select("html.selection",{selection:function(e,t,i){var n;qx.dom.Node.isDocument(e)&&(e=e.body);if(qx.dom.Node.isElement(e)||qx.dom.Node.isText(e))switch(e.nodeName.toLowerCase()){case"input":case"textarea":case"button":void 0===i&&(i=e.value.length);if(t>=0&&t<=e.value.length&&i>=0&&i<=e.value.length){(n=qx.bom.Range.get(e)).collapse(!0);n.moveStart("character",t);n.moveEnd("character",i-t);n.select();return!0}break;case"#text":void 0===i&&(i=e.nodeValue.length);if(t>=0&&t<=e.nodeValue.length&&i>=0&&i<=e.nodeValue.length){(n=qx.bom.Range.get(qx.dom.Node.getBodyElement(e))).moveToElementText(e.parentNode);n.collapse(!0);n.moveStart("character",t);n.moveEnd("character",i-t);n.select();return!0}break;default:void 0===i&&(i=e.childNodes.length-1);if(e.childNodes[t]&&e.childNodes[i]){(n=qx.bom.Range.get(qx.dom.Node.getBodyElement(e))).moveToElementText(e.childNodes[t]);n.collapse(!0);var s=qx.bom.Range.get(qx.dom.Node.getBodyElement(e));s.moveToElementText(e.childNodes[i]);n.setEndPoint("EndToEnd",s);n.select();return!0}}return!1},default:function(e,t,i){var n=e.nodeName.toLowerCase();if(!qx.dom.Node.isElement(e)||"input"!=n&&"textarea"!=n){var s=!1,r=qx.dom.Node.getWindow(e).getSelection(),o=qx.bom.Range.get(e);if(qx.dom.Node.isText(e)){void 0===i&&(i=e.length);t>=0&&t<e.length&&i>=0&&i<=e.length&&(s=!0)}else if(qx.dom.Node.isElement(e)){void 0===i&&(i=e.childNodes.length-1);t>=0&&e.childNodes[t]&&i>=0&&e.childNodes[i]&&(s=!0)}else if(qx.dom.Node.isDocument(e)){e=e.body;void 0===i&&(i=e.childNodes.length-1);t>=0&&e.childNodes[t]&&i>=0&&e.childNodes[i]&&(s=!0)}if(s){r.isCollapsed||r.collapseToStart();o.setStart(e,t);qx.dom.Node.isText(e)?o.setEnd(e,i):o.setEndAfter(e.childNodes[i]);r.rangeCount>0&&r.removeAllRanges();r.addRange(o);return!0}}else{void 0===i&&(i=e.value.length);if(t>=0&&t<=e.value.length&&i>=0&&i<=e.value.length){e.focus();e.select();e.setSelectionRange(t,i);return!0}}return!1}}),setAll:function(e){return qx.bom.Selection.set(e,0)},clear:qx.core.Environment.select("html.selection",{selection:function(e){var t=qx.bom.Range.get(e).parentElement(),i=qx.bom.Range.get(qx.dom.Node.getDocument(e));qx.dom.Node.isText(e)&&(e=e.parentNode);if(t==i.parentElement()&&t==e){qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).empty()}},default:function(e){var t=qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)),i=e.nodeName.toLowerCase();if(!qx.dom.Node.isElement(e)||"input"!=i&&"textarea"!=i)if(qx.dom.Node.isDocument(e)||"body"==i)t.collapse(e.body?e.body:e,0);else{var n=qx.bom.Range.get(e);if(!n.collapsed){var s=n.commonAncestorContainer;(qx.dom.Node.isElement(e)&&qx.dom.Node.isText(s)?s.parentNode:s)==e&&t.collapse(e,0)}}else{e.setSelectionRange(0,0);qx.bom.Element&&qx.bom.Element.blur&&qx.bom.Element.blur(e)}}})}});qx.bom.Selection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.bom.element.Attribute":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.dom.Element",{statics:{hasChild:function(e,t){return t.parentNode===e},hasChildren:function(e){return!!e.firstChild},hasChildElements:function(e){e=e.firstChild;for(;e;){if(1===e.nodeType)return!0;e=e.nextSibling}return!1},getParentElement:function(e){return e.parentNode},isInDom:function(e,t){t||(t=window);for(var i=t.document.getElementsByTagName(e.nodeName),n=0,s=i.length;n<s;n++)if(i[n]===e)return!0;return!1},insertAt:function(e,t,i){var n=t.childNodes[i];n?t.insertBefore(e,n):t.appendChild(e);return!0},insertBegin:function(e,t){t.firstChild?this.insertBefore(e,t.firstChild):t.appendChild(e);return!0},insertEnd:function(e,t){t.appendChild(e);return!0},insertBefore:function(e,t){t.parentNode.insertBefore(e,t);return!0},insertAfter:function(e,t){var i=t.parentNode;if(t!=i.lastChild)return this.insertBefore(e,t.nextSibling);i.appendChild(e);return!0},remove:function(e){if(!e.parentNode)return!1;e.parentNode.removeChild(e);return!0},removeChild:function(e,t){if(e.parentNode!==t)return!1;t.removeChild(e);return!0},removeChildAt:function(e,t){var i=t.childNodes[e];if(!i)return!1;t.removeChild(i);return!0},replaceChild:function(e,t){if(!t.parentNode)return!1;t.parentNode.replaceChild(e,t);return!0},replaceAt:function(e,t,i){var n=i.childNodes[t];if(!n)return!1;i.replaceChild(e,n);return!0},__helperElement:{},getHelperElement:function(e){e||(e=window);var t=e.location.href;if(!qx.dom.Element.__helperElement[t]){var i=qx.dom.Element.__helperElement[t]=e.document.createElement("div");if("webkit"==qx.core.Environment.get("engine.name")){i.style.display="none";e.document.body.appendChild(i)}}return qx.dom.Element.__helperElement[t]},create:function(e,t,i){i||(i=window);if(!e)throw new Error("The tag name is missing!");var n=i.document.createElement(e);for(var s in t)qx.bom.element.Attribute.set(n,s,t[s]);return n},empty:function(e){return e.innerHTML=""}}});qx.dom.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.core.Init":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.core.Id",{extend:qx.core.Object,type:"singleton",members:{__registeredObjects:null,__registeredIdHashes:null,_createQxObject:function(e){return this._createQxObjectImpl(e)},_createQxObjectImpl:function(e){if(this.__registeredObjects){var t=this.__registeredObjects[e];if(void 0!==t)return t}switch(e){case"application":return qx.core.Init.getApplication()||void 0}},getAbsoluteIdOf:function(e,t){if(this.__registeredIdHashes&&this.__registeredIdHashes[e.toHashCode()])return e.getQxObjectId();for(var i=[],n=qx.core.Init.getApplication();e;){var s=e.getQxObjectId();if(!s){t||this.error("Cannot determine an absolute Object ID because one of the ancestor ObjectID's is null (got as far as "+i.join("/")+")");return null}i.unshift(s);var r=e.getQxOwner();if(!r){t||this.error("Cannot determine a global absolute Object ID because the topmost object is not registered");return null}var o=null;if(o=r===n?"application":this.__registeredIdHashes&&this.__registeredIdHashes[r.toHashCode()]||null){i.unshift(o);break}e=r}return i.join("/")},register:function(e,t){if(!this.__registeredObjects){this.__registeredObjects={};this.__registeredIdHashes={}}t||(t=e.getQxObjectId());this.__registeredObjects[t]=e;this.__registeredIdHashes[e.toHashCode()]=t;e._cascadeQxObjectIdChanges()},unregister:function(e){if(!this.__registeredObjects)return!1;var t;if("string"==typeof e)t=e;else{var i=e.toHashCode();if(!(t=this.__registeredIdHashes[i]))return!1}var n=this.__registeredObjects[t];if(n){delete this.__registeredObjects[t];delete this.__registeredIdHashes[n.toHashCode()];n._cascadeQxObjectIdChanges();return!0}return!1},getRegisteredObjects:function(){return this.__registeredObjects}},statics:{getQxObject:function(e){return this.getInstance().getQxObject(e)},getAbsoluteIdOf:function(e,t){return this.getInstance().getAbsoluteIdOf(e,t)}}});qx.core.Id.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.bom.client.Browser":{},"qx.lang.Type":{}},environment:{provided:[],required:{"html.element.textcontent":{load:!0},"engine.name":{load:!0,className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Attribute",{statics:{__hints:{names:{class:"className",for:"htmlFor",html:"innerHTML",text:qx.core.Environment.get("html.element.textcontent")?"textContent":"innerText",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc",cellpadding:"cellPadding",cellspacing:"cellSpacing",frameborder:"frameBorder",usemap:"useMap"},runtime:{html:1,text:1},bools:{compact:1,nowrap:1,ismap:1,declare:1,noshade:1,checked:1,disabled:1,readOnly:1,multiple:1,selected:1,noresize:1,defer:1,allowTransparency:1},property:{$$element:1,$$elementObject:1,$$widget:1,$$widgetObject:1,checked:1,readOnly:1,multiple:1,selected:1,value:1,maxLength:1,className:1,innerHTML:1,innerText:1,textContent:1,htmlFor:1,tabIndex:1},qxProperties:{$$widget:1,$$widgetObject:1,$$element:1,$$elementObject:1},propertyDefault:{disabled:!1,checked:!1,readOnly:!1,multiple:!1,selected:!1,value:"",className:"",innerHTML:"",innerText:"",textContent:"",htmlFor:"",tabIndex:0,maxLength:qx.core.Environment.select("engine.name",{mshtml:2147483647,webkit:524288,default:-1})},removeableProperties:{disabled:1,multiple:1,maxLength:1}},compile:function(e){var t=[],i=this.__hints.runtime;for(var n in e)i[n]||t.push(n,"='",e[n],"'");return t.join("")},get:function(e,t){var i,n=this.__hints;t=n.names[t]||t;if(n.property[t]){i=e[t];if(void 0!==n.propertyDefault[t]&&i==n.propertyDefault[t])return void 0===n.bools[t]?null:i}else{i=e.getAttribute(t);if(n.bools[t]&&!("mshtml"==qx.core.Environment.get("engine.name")&&parseInt(qx.core.Environment.get("browser.documentmode"),10)<=8))return qx.Bootstrap.isString(i)}return n.bools[t]?!!i:i},set:function(e,t,i){if(void 0!==i){var n=this.__hints;t=n.names[t]||t;n.bools[t]&&!qx.lang.Type.isBoolean(i)&&(i=qx.lang.Type.isString(i));if(n.property[t]&&(void 0!==e[t]||n.qxProperties[t])){if(null==i){if(n.removeableProperties[t]){e.removeAttribute(t);return}void 0!==n.propertyDefault[t]&&(i=n.propertyDefault[t])}e[t]=i}else!n.bools[t]&&null!==i||0===t.indexOf("data-")?null===i?e.removeAttribute(t):e.setAttribute(t,i):!0===i?e.setAttribute(t,t):!1!==i&&null!==i||e.removeAttribute(t)}},reset:function(e,t){0===t.indexOf("data-")?e.removeAttribute(t):this.set(e,t,null)}}});qx.bom.element.Attribute.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Focus",{extend:qx.event.type.Event,members:{init:function(e,t,i){qx.event.type.Focus.prototype.init.base.call(this,i,!1);this._target=e;this._relatedTarget=t;return this}}});qx.event.type.Focus.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.ColorUtil",{statics:{REGEXP:{hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rgb:/^rgb\(\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*\)$/,rgba:/^rgba\(\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*\)$/},SYSTEM:{activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},NAMED:{black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:[-1,-1,-1],magenta:[255,0,255],orange:[255,165,0],brown:[165,42,42]},isNamedColor:function(e){return void 0!==this.NAMED[e]},isSystemColor:function(e){return void 0!==this.SYSTEM[e]},supportsThemes:function(){return!!qx.Class&&qx.Class.isDefined("qx.theme.manager.Color")},isThemedColor:function(e){return!!this.supportsThemes()&&(!!(qx.theme&&qx.theme.manager&&qx.theme.manager.Color)&&qx.theme.manager.Color.getInstance().isDynamic(e))},stringToRgb:function(e){this.supportsThemes()&&this.isThemedColor(e)&&(e=qx.theme.manager.Color.getInstance().resolveDynamic(e));if(this.isNamedColor(e))return this.NAMED[e].concat();if(this.isSystemColor(e))throw new Error("Could not convert system colors to RGB: "+e);if(this.isRgbaString(e))return this.__rgbaStringToRgb(e);if(this.isRgbString(e))return this.__rgbStringToRgb();if(this.isHex3String(e))return this.__hex3StringToRgb();if(this.isHex6String(e))return this.__hex6StringToRgb();throw new Error("Could not parse color: "+e)},cssStringToRgb:function(e){if(this.isNamedColor(e))return this.NAMED[e];if(this.isSystemColor(e))throw new Error("Could not convert system colors to RGB: "+e);if(this.isRgbString(e))return this.__rgbStringToRgb();if(this.isRgbaString(e))return this.__rgbaStringToRgb();if(this.isHex3String(e))return this.__hex3StringToRgb();if(this.isHex6String(e))return this.__hex6StringToRgb();throw new Error("Could not parse color: "+e)},stringToRgbString:function(e){return this.rgbToRgbString(this.stringToRgb(e))},rgbToRgbString:function(e){return"rgb"+(void 0!==e[3]?"a":"")+"("+e.join(",")+")"},rgbToHexString:function(e){return"#"+qx.lang.String.pad(e[0].toString(16).toUpperCase(),2)+qx.lang.String.pad(e[1].toString(16).toUpperCase(),2)+qx.lang.String.pad(e[2].toString(16).toUpperCase(),2)},isValidPropertyValue:function(e){return this.isThemedColor(e)||this.isNamedColor(e)||this.isHex3String(e)||this.isHex6String(e)||this.isRgbString(e)||this.isRgbaString(e)},isCssString:function(e){return this.isSystemColor(e)||this.isNamedColor(e)||this.isHex3String(e)||this.isHex6String(e)||this.isRgbString(e)||this.isRgbaString(e)},isHex3String:function(e){return this.REGEXP.hex3.test(e)},isHex6String:function(e){return this.REGEXP.hex6.test(e)},isRgbString:function(e){return this.REGEXP.rgb.test(e)},isRgbaString:function(e){return this.REGEXP.rgba.test(e)},__rgbStringToRgb:function(){return[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)]},__rgbaStringToRgb:function(){var e=parseInt(RegExp.$1,10),t=parseInt(RegExp.$2,10),i=parseInt(RegExp.$3,10),n=parseFloat(RegExp.$4,10);return 0===e&&0===t&0===i&&0===n?[-1,-1,-1]:[e,t,i]},__hex3StringToRgb:function(){return[17*parseInt(RegExp.$1,16),17*parseInt(RegExp.$2,16),17*parseInt(RegExp.$3,16)]},__hex6StringToRgb:function(){return[16*parseInt(RegExp.$1,16)+parseInt(RegExp.$2,16),16*parseInt(RegExp.$3,16)+parseInt(RegExp.$4,16),16*parseInt(RegExp.$5,16)+parseInt(RegExp.$6,16)]},hex3StringToRgb:function(e){if(this.isHex3String(e))return this.__hex3StringToRgb(e);throw new Error("Invalid hex3 value: "+e)},hex3StringToHex6String:function(e){return this.isHex3String(e)?this.rgbToHexString(this.hex3StringToRgb(e)):e},hex6StringToRgb:function(e){if(this.isHex6String(e))return this.__hex6StringToRgb(e);throw new Error("Invalid hex6 value: "+e)},hexStringToRgb:function(e){if(this.isHex3String(e))return this.__hex3StringToRgb(e);if(this.isHex6String(e))return this.__hex6StringToRgb(e);throw new Error("Invalid hex value: "+e)},rgbToHsb:function(e){var t,i,n,s=e[0],r=e[1],o=e[2],a=s>r?s:r;o>a&&(a=o);var l=s<r?s:r;o<l&&(l=o);n=a/255;if(0==(i=0!=a?(a-l)/a:0))t=0;else{var u=(a-s)/(a-l),c=(a-r)/(a-l),d=(a-o)/(a-l);t=s==a?d-c:r==a?2+u-d:4+c-u;(t/=6)<0&&(t+=1)}return[Math.round(360*t),Math.round(100*i),Math.round(100*n)]},hsbToRgb:function(e){var t,i,n,s,r,o=e[0]/360,a=e[1]/100,l=e[2]/100;o>=1&&(o%=1);a>1&&(a=1);l>1&&(l=1);var u=Math.floor(255*l),c={};if(0==a)c.red=c.green=c.blue=u;else{i=(o*=6)-(t=Math.floor(o));n=Math.floor(u*(1-a));s=Math.floor(u*(1-a*i));r=Math.floor(u*(1-a*(1-i)));switch(t){case 0:c.red=u;c.green=r;c.blue=n;break;case 1:c.red=s;c.green=u;c.blue=n;break;case 2:c.red=n;c.green=u;c.blue=r;break;case 3:c.red=n;c.green=s;c.blue=u;break;case 4:c.red=r;c.green=n;c.blue=u;break;case 5:c.red=u;c.green=n;c.blue=s}}return[c.red,c.green,c.blue]},randomColor:function(){var e=Math.round(255*Math.random()),t=Math.round(255*Math.random()),i=Math.round(255*Math.random());return this.rgbToRgbString([e,t,i])}}});qx.util.ColorUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Type":{},"qx.lang.Function":{},"qx.event.GlobalError":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"qx.globalErrorHandling":{className:"qx.event.GlobalError"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.io.ImageLoader",{statics:{__data:{},__defaultSize:{width:null,height:null},__knownImageTypesRegExp:/\.(png|gif|jpg|jpeg|bmp)\b/i,__dataUrlRegExp:/^data:image\/(png|gif|jpg|jpeg|bmp)\b/i,isLoaded:function(e){var t=this.__data[e];return!(!t||!t.loaded)},isFailed:function(e){var t=this.__data[e];return!(!t||!t.failed)},isLoading:function(e){var t=this.__data[e];return!(!t||!t.loading)},getFormat:function(e){var t=this.__data[e];if(!t||!t.format){var i=this.__dataUrlRegExp.exec(e);if(null!=i){var n=t&&qx.lang.Type.isNumber(t.width)?t.width:this.__defaultSize.width,s=t&&qx.lang.Type.isNumber(t.height)?t.height:this.__defaultSize.height;t={loaded:!0,format:i[1],width:n,height:s}}}return t?t.format:null},getSize:function(e){var t=this.__data[e];return t?{width:t.width,height:t.height}:this.__defaultSize},getWidth:function(e){var t=this.__data[e];return t?t.width:null},getHeight:function(e){var t=this.__data[e];return t?t.height:null},load:function(e,t,i){var n=this.__data[e];n||(n=this.__data[e]={});t&&!i&&(i=window);if(n.loaded||n.loading||n.failed)t&&(n.loading?n.callbacks.push(t,i):t.call(i,e,n));else{n.loading=!0;n.callbacks=[];t&&n.callbacks.push(t,i);var s=document.createElement("img"),r=qx.lang.Function.listener(this.__onload,this,s,e);s.onload=r;s.onerror=r;s.src=e;n.element=s}},abort:function(e){var t=this.__data[e];if(t&&!t.loaded){t.aborted=!0;var i=t.callbacks,n=t.element;n.onload=n.onerror=null;n.src="";delete t.callbacks;delete t.element;delete t.loading;for(var s=0,r=i.length;s<r;s+=2)i[s].call(i[s+1],e,t)}this.__data[e]=null},__onload:function(){qx.core.Environment.select("qx.globalErrorHandling",{true:qx.event.GlobalError.observeMethod(this.__onLoadHandler),false:this.__onLoadHandler}).apply(this,arguments)},__onLoadHandler:function(e,t,i){var n=this.__data[i];"mshtml"==qx.bom.client.Engine.getName()&&11===parseFloat(qx.bom.client.Engine.getVersion())&&document.body.appendChild(t);var s;if("load"===e.type&&((s=t)&&0!==s.height)){n.loaded=!0;n.width=t.width;n.height=t.height;var r=this.__knownImageTypesRegExp.exec(i);null!=r&&(n.format=r[1])}else n.failed=!0;"mshtml"==qx.bom.client.Engine.getName()&&11===parseFloat(qx.bom.client.Engine.getVersion())&&document.body.removeChild(t);t.onload=t.onerror=null;var o=n.callbacks;delete n.loading;delete n.callbacks;delete n.element;for(var a=0,l=o.length;a<l;a+=2)o[a].call(o[a+1],i,n)},dispose:function(){this.__data={}}}});qx.io.ImageLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{require:!0},"qx.bom.element.Decoration":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Image",{extend:qx.html.Element,members:{__paddingTop:null,__paddingLeft:null,tagNameHint:null,setPadding:function(e,t){this.__paddingLeft=e;this.__paddingTop=t;"div"==this.getNodeName()&&this.setStyle("backgroundPosition",e+"px "+t+"px")},_applyProperty:function(e,t){qx.html.Image.prototype._applyProperty.base.call(this,e,t);if("source"===e){var i=this.getDomElement(),n=this.getAllStyles();"div"==this.getNodeName()&&this.getStyle("backgroundImage")&&(n.backgroundRepeat=null);var s=this._getProperty("source"),r=this._getProperty("scale")?"scale":"no-repeat";if(null!=s){s=s||null;n.paddingTop=this.__paddingTop;n.paddingLeft=this.__paddingLeft;qx.bom.element.Decoration.update(i,s,r,n)}}},_removeProperty:function(e,t){"source"==e?this._setProperty(e,"",t):this._setProperty(e,null,t)},_createDomElement:function(){var e=this._getProperty("scale")?"scale":"no-repeat";if("mshtml"==qx.core.Environment.get("engine.name")){var t=this._getProperty("source");null!=this.tagNameHint?this.setNodeName(this.tagNameHint):this.setNodeName(qx.bom.element.Decoration.getTagName(e,t))}else this.setNodeName(qx.bom.element.Decoration.getTagName(e));return qx.html.Image.prototype._createDomElement.base.call(this)},_copyData:function(e){return qx.html.Image.prototype._copyData.base.call(this,!0)},setSource:function(e){this._setProperty("source",e);return this},getSource:function(){return this._getProperty("source")},resetSource:function(){"webkit"==qx.core.Environment.get("engine.name")?this._setProperty("source","qx/static/blank.gif"):this._removeProperty("source",!0);return this},setScale:function(e){this._setProperty("scale",e);return this},getScale:function(){return this._getProperty("scale")}}});qx.html.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{require:!0},"qx.bom.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Label",{extend:qx.html.Element,members:{__rich:null,_applyProperty:function(e,t){qx.html.Label.prototype._applyProperty.base.call(this,e,t);if("value"==e){var i=this.getDomElement();qx.bom.Label.setValue(i,t)}},_createDomElement:function(){var e=this.__rich,t=qx.bom.Label.create(this._content,e);t.style.overflow="hidden";return t},_copyData:function(e){return qx.html.Label.prototype._copyData.base.call(this,!0)},setRich:function(e){if(this.getDomElement())throw new Error("The label mode cannot be modified after initial creation");e=!!e;if(this.__rich==e)return this;this.__rich=e;return this},setValue:function(e){this._setProperty("value",e);return this},getValue:function(){return this._getProperty("value")},resetValue:function(){return this._removeProperty("value")}}});qx.html.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["io.maxrequests","io.ssl","io.xhr"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Transport",{statics:{getMaxConcurrentRequestCount:function(){var e=qx.bom.client.Engine.getVersion().split("."),t=0,i=0,n=0;e[0]&&(t=e[0]);e[1]&&(i=e[1]);e[2]&&(n=e[2]);return window.maxConnectionsPerServer?window.maxConnectionsPerServer:"opera"==qx.bom.client.Engine.getName()?8:"webkit"==qx.bom.client.Engine.getName()?4:"gecko"==qx.bom.client.Engine.getName()&&(t>1||1==t&&i>9||1==t&&9==i&&n>=1)?6:2},getSsl:function(){return"https:"===window.location.protocol},getXmlHttpRequest:function(){return(window.ActiveXObject?function(){if("file:"!==window.location.protocol)try{new window.XMLHttpRequest;return"xhr"}catch(e){}try{new window.ActiveXObject("Microsoft.XMLHTTP");return"activex"}catch(e){}}():function(){try{new window.XMLHttpRequest;return"xhr"}catch(e){}}())||""}},defer:function(e){qx.core.Environment.add("io.maxrequests",e.getMaxConcurrentRequestCount);qx.core.Environment.add("io.ssl",e.getSsl);qx.core.Environment.add("io.xhr",e.getXmlHttpRequest)}});qx.bom.client.Transport.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.client.Device":{},"qx.bom.client.Engine":{defer:"runtime"},"qx.bom.client.Transport":{defer:"runtime"},"qx.util.LibraryManager":{defer:"runtime"}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine",defer:!0},"io.ssl":{className:"qx.bom.client.Transport",defer:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.ResourceManager",{extend:qx.core.Object,type:"singleton",construct:function(){qx.core.Object.constructor.call(this)},statics:{__registry:qx.$$resources||{},__urlPrefix:{}},members:{findHighResolutionSource:function(e,t){var i=["3","2","1.5"];t||(t=parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2)));if(t<=1)return!1;for(var n,s,r=i.length;r>0&&t>i[--r];);for(s=r;s>=0;s--)if(n=this.getHighResolutionSource(e,i[s]))return n;for(s=r+1;s<i.length;s++)if(n=this.getHighResolutionSource(e,i[s]))return n;return null},getHighResolutionSource:function(e,t){var i=e.lastIndexOf(".");if(i>-1){var n="@"+t+"x",s=e.slice(0,i)+n+e.slice(i);if(this.has(s))return s}return null},getIds:function(e){var t=qx.util.ResourceManager.__registry;if(!t)return null;var i=[];for(var n in t)if(t.hasOwnProperty(n)){if(e&&-1==n.indexOf(e))continue;i.push(n)}return i},has:function(e){return!!qx.util.ResourceManager.__registry[e]},getData:function(e){return qx.util.ResourceManager.__registry[e]||null},getImageWidth:function(e){var t;if(e&&e.startsWith("@")){var i=e.split("/");(t=parseInt(i[2],10))&&(e=i[0]+"/"+i[1])}var n=qx.util.ResourceManager.__registry[e];if(t&&n){return Math.ceil(t/n[1]*n[0])}return n?n[0]:null},getImageHeight:function(e){if(e&&e.startsWith("@")){var t=e.split("/"),i=parseInt(t[2],10);if(i)return i}var n=qx.util.ResourceManager.__registry[e];return n?n[1]:null},getImageFormat:function(e){if(e&&e.startsWith("@"))return"font";var t=qx.util.ResourceManager.__registry[e];return t?t[2]:null},getCombinedFormat:function(e){var t="",i=qx.util.ResourceManager.__registry[e];if(i&&i.length>4&&"string"==typeof i[4]&&this.constructor.__registry[i[4]]){var n=i[4];t=this.constructor.__registry[n][2]}return t},toUri:function(e){if(null==e)return e;var t=qx.util.ResourceManager.__registry[e];if(!t)return e;if("string"==typeof t)var i=t;else{if(!(i=t[3]))return e}var n="";"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("io.ssl")&&(n=qx.util.ResourceManager.__urlPrefix[i]);return n+qx.util.LibraryManager.getInstance().get(i,"resourceUri")+"/"+e},toDataUri:function(e){var t,i=this.constructor.__registry[e],n=i?this.constructor.__registry[i[4]]:null;if(n){var s=n[4][e];t="data:image/"+s.type+";"+s.encoding+","+s.data}else t=this.toUri(e);return t},isFontUri:function(e){return!!e&&e.startsWith("@")}},defer:function(e){if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("io.ssl"))for(var t in qx.$$libraries){var i;if(qx.util.LibraryManager.getInstance().get(t,"resourceUri")){i=qx.util.LibraryManager.getInstance().get(t,"resourceUri");var n,s=document.getElementsByTagName("base");s.length>0&&(n=s[0].href);if(null!=i.match(/^\/\//))e.__urlPrefix[t]=window.location.protocol;else if(null!=i.match(/^\//))e.__urlPrefix[t]=n||window.location.protocol+"//"+window.location.host;else if(null!=i.match(/^\.\//)){var r=document.URL;e.__urlPrefix[t]=r.substring(0,r.lastIndexOf("/")+1)}else if(null!=i.match(/^http/))e.__urlPrefix[t]="";else{if(!n){var o=window.location.href.indexOf("?");n=-1==o?window.location.href:window.location.href.substring(0,o)}e.__urlPrefix[t]=n.substring(0,n.lastIndexOf("/")+1)}}else e.__urlPrefix[t]=""}}});qx.util.ResourceManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.LibraryManager",{extend:qx.core.Object,type:"singleton",statics:{__libs:qx.$$libraries||{}},members:{has:function(e){return!!qx.util.LibraryManager.__libs[e]},get:function(e,t){return qx.util.LibraryManager.__libs[e][t]?qx.util.LibraryManager.__libs[e][t]:null},set:function(e,t,i){qx.util.LibraryManager.__libs[e][t]=i}}});qx.util.LibraryManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.util.ResourceManager":{},"qx.bom.element.Style":{},"qx.bom.client.Css":{},"qx.theme.manager.Font":{},"qx.lang.Object":{},"qx.bom.Style":{},"qx.core.Assert":{},"qx.io.ImageLoader":{},"qx.log.Logger":{},"qx.bom.element.Background":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"css.alphaimageloaderneeded":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.element.Decoration",{statics:{DEBUG:!1,__warnings:{},__alphaFixRepeats:qx.core.Environment.select("engine.name",{mshtml:{"scale-x":!0,"scale-y":!0,scale:!0,"no-repeat":!0},default:null}),__repeatToTagname:{"scale-x":"img","scale-y":"img",scale:"img",repeat:"div","no-repeat":"div","repeat-x":"div","repeat-y":"div"},update:function(e,t,i,n){var s=this.getTagName(i,t);if(s!=e.tagName.toLowerCase())throw new Error("Image modification not possible because elements could not be replaced at runtime anymore!");var r=this.getAttributes(t,i,n);"img"===s&&(e.src=r.src||qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif"));""!=e.style.backgroundPosition&&void 0===r.style.backgroundPosition&&(r.style.backgroundPosition=null);""!=e.style.clip&&void 0===r.style.clip&&(r.style.clip=null);qx.bom.element.Style.setStyles(e,r.style);if(qx.core.Environment.get("css.alphaimageloaderneeded"))try{e.filters["DXImageTransform.Microsoft.AlphaImageLoader"].apply()}catch(e){}},create:function(e,t,i){var n=this.getTagName(t,e),s=this.getAttributes(e,t,i),r=qx.bom.element.Style.compile(s.style),o=qx.util.ResourceManager.getInstance();if(o.isFontUri(e)){var a=qx.theme.manager.Font.getInstance().resolve(e.match(/@([^/]+)/)[1]),l=qx.lang.Object.clone(a.getStyles());l.width=i.width;l.height=i.height;l.fontSize=parseInt(i.width)>parseInt(i.height)?i.height:i.width;l.display=i.display;l.verticalAlign=i.verticalAlign;l.position=i.position;r="";for(var u in l)l.hasOwnProperty(u)&&(r+=qx.bom.Style.getCssName(u)+": "+l[u]+";");var c,d=o.getData(e);if(d)c=d[2];else{c=parseInt(qx.theme.manager.Font.getInstance().resolve(e.match(/@([^/]+)\/(.*)$/)[2]),16);qx.core.Assert.assertNumber(c,"Font source needs either a glyph name or the unicode number in hex")}return'<div style="'+r+'">'+String.fromCharCode(c)+"</div>"}return"img"===n?'<img src="'+s.src+'" style="'+r+'"/>':'<div style="'+r+'"></div>'},getTagName:function(e,t){return t&&qx.core.Environment.get("css.alphaimageloaderneeded")&&this.__alphaFixRepeats[e]&&t.endsWith(".png")?"div":this.__repeatToTagname[e]},getAttributes:function(e,t,i){i||(i={});i.position||(i.position="absolute");if("mshtml"==qx.core.Environment.get("engine.name")){i.fontSize=0;i.lineHeight=0}else"webkit"==qx.core.Environment.get("engine.name")&&(i.WebkitUserDrag="none");var n,s=qx.util.ResourceManager.getInstance().getImageFormat(e)||qx.io.ImageLoader.getFormat(e);null!=e&&null==s&&qx.log.Logger.warn("ImageLoader: Not recognized format of external image '"+e+"'!");if(qx.core.Environment.get("css.alphaimageloaderneeded")&&this.__alphaFixRepeats[t]&&"png"===s){var r=this.__getDimension(e);this.__normalizeWidthHeight(i,r.width,r.height);n=this.processAlphaFix(i,t,e)}else{delete i.clip;n="scale"===t?this.__processScale(i,t,e):"scale-x"===t||"scale-y"===t?this.__processScaleXScaleY(i,t,e):this.__processRepeats(i,t,e)}return n},__normalizeWidthHeight:function(e,t,i){null==e.width&&null!=t&&(e.width=t+"px");null==e.height&&null!=i&&(e.height=i+"px")},__getDimension:function(e){return{width:qx.util.ResourceManager.getInstance().getImageWidth(e)||qx.io.ImageLoader.getWidth(e),height:qx.util.ResourceManager.getInstance().getImageHeight(e)||qx.io.ImageLoader.getHeight(e)}},processAlphaFix:function(e,t,i){if("repeat"==t||"repeat-x"==t||"repeat-y"==t)return e;var n="no-repeat"==t?"crop":"scale",s="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+qx.util.ResourceManager.getInstance().toUri(i)+"', sizingMethod='"+n+"')";e.filter=s;e.backgroundImage=e.backgroundRepeat="";delete e["background-image"];delete e["background-repeat"];return{style:e}},__processScale:function(e,t,i){var n=qx.util.ResourceManager.getInstance().toUri(i),s=this.__getDimension(i);this.__normalizeWidthHeight(e,s.width,s.height);return{src:n,style:e}},__processScaleXScaleY:function(e,t,i){var n=qx.util.ResourceManager.getInstance(),s=n.getCombinedFormat(i),r=this.__getDimension(i);if(s){var o=n.getData(i),a=o[4];return{src:"b64"==s?n.toDataUri(i):n.toUri(a),style:e="scale-x"===t?this.__getStylesForClippedScaleX(e,o,r.height):this.__getStylesForClippedScaleY(e,o,r.width)}}this.__checkForPotentialClippedImage(i);"scale-x"==t?e.height=null==r.height?null:r.height+"px":"scale-y"==t&&(e.width=null==r.width?null:r.width+"px");return{src:n.toUri(i),style:e}},__getStylesForClippedScaleX:function(e,t,i){var n=qx.util.ResourceManager.getInstance().getImageHeight(t[4]);e.clip={top:-t[6],height:i};e.height=n+"px";null!=e.top?e.top=parseInt(e.top,10)+t[6]+"px":null!=e.bottom&&(e.bottom=parseInt(e.bottom,10)+i-n-t[6]+"px");return e},__getStylesForClippedScaleY:function(e,t,i){var n=qx.util.ResourceManager.getInstance().getImageWidth(t[4]);e.clip={left:-t[5],width:i};e.width=n+"px";null!=e.left?e.left=parseInt(e.left,10)+t[5]+"px":null!=e.right&&(e.right=parseInt(e.right,10)+i-n-t[5]+"px");return e},__processRepeats:function(e,t,i){var n=qx.util.ResourceManager.getInstance(),s=n.getCombinedFormat(i),r=this.__getDimension(i);if(s&&"repeat"!==t){var o=n.getData(i),a=o[4];if("b64"==s)var l=n.toDataUri(i),u=0,c=0;else{l=n.toUri(a),u=o[5],c=o[6];if(e.paddingTop||e.paddingLeft||e.paddingRight||e.paddingBottom){var d=e.paddingTop||0,h=e.paddingLeft||0;u+=e.paddingLeft||0;c+=e.paddingTop||0;e.clip={left:h,top:d,width:r.width,height:r.height}}}var g=qx.bom.element.Background.getStyles(l,t,u,c);for(var m in g)e[m]=g[m];null==r.width||null!=e.width||"repeat-y"!=t&&"no-repeat"!==t||(e.width=r.width+"px");null==r.height||null!=e.height||"repeat-x"!=t&&"no-repeat"!==t||(e.height=r.height+"px");return{style:e}}d=e.paddingTop||0,h=e.paddingLeft||0;e.backgroundPosition=h+"px "+d+"px";"repeat"!==t&&this.__checkForPotentialClippedImage(i);this.__normalizeWidthHeight(e,r.width,r.height);this.__getStylesForSingleRepeat(e,i,t);return{style:e}},__getStylesForSingleRepeat:function(e,t,i){var n=null,s=null;if(e.backgroundPosition){var r=e.backgroundPosition.split(" ");s=parseInt(r[0],10);isNaN(s)&&(s=r[0]);n=parseInt(r[1],10);isNaN(n)&&(n=r[1])}var o=qx.bom.element.Background.getStyles(t,i,s,n);for(var a in o)e[a]=o[a];e.filter&&(e.filter="")},__checkForPotentialClippedImage:function(e){if(this.DEBUG&&qx.util.ResourceManager.getInstance().has(e)&&-1==e.indexOf("qx/icon")&&!this.__warnings[e]){qx.log.Logger.debug("Potential clipped image candidate: "+e);this.__warnings[e]=!0}}}});qx.bom.element.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.Idle",{extend:qx.core.Object,implement:[qx.core.IDisposable],type:"singleton",construct:function(){qx.core.Object.constructor.call(this)},events:{interval:"qx.event.type.Event"},properties:{timeoutInterval:{check:"Number",init:100,apply:"_applyTimeoutInterval"}},members:{__timer:null,_applyTimeoutInterval:function(e){this.__timer&&this.__timer.setInterval(e)},_onInterval:function(){this.fireEvent("interval")},__startTimer:function(){if(!this.__timer&&this.hasListener("interval")){var e=new qx.event.Timer(this.getTimeoutInterval());e.addListener("interval",this._onInterval,this);e.start();this.__timer=e}},__stopTimer:function(){if(this.__timer&&!this.hasListener("interval")){this.__timer.stop();this.__timer.dispose();this.__timer=null}},addListener:function(e,t,i,n){var s=qx.event.Idle.prototype.addListener.base.call(this,e,t,i,n);this.__startTimer();return s},addListenerOnce:function(e,t,i,n){var s=qx.event.Idle.prototype.addListenerOnce.base.call(this,e,t,i,n);this.__startTimer();return s},removeListener:function(e,t,i,n){var s=qx.event.Idle.prototype.removeListener.base.call(this,e,t,i,n);this.__stopTimer();return s},removeListenerById:function(e){var t=qx.event.Idle.prototype.removeListenerById.base.call(this,e);this.__stopTimer();return t}},destruct:function(){this.__timer&&this.__timer.stop();this.__timer=null}});qx.event.Idle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.placement.DirectAxis":{construct:!0},"qx.core.Assert":{},"qx.util.placement.KeepAlignAxis":{},"qx.util.placement.BestFitAxis":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.placement.Placement",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__defaultAxis=qx.util.placement.DirectAxis},properties:{axisX:{check:"Class"},axisY:{check:"Class"},edge:{check:["top","right","bottom","left"],init:"top"},align:{check:["top","right","bottom","left","center","middle"],init:"right"}},statics:{__instance:null,compute:function(e,t,i,n,s,r,o){this.__instance=this.__instance||new qx.util.placement.Placement;var a=s.split("-"),l=a[0],u=a[1];if("center"===u||"middle"===u){var c="middle";"top"!==l&&"bottom"!==l||(c="center");qx.core.Assert.assertEquals(c,u,"Please use '"+l+"-"+c+"' instead!")}this.__instance.set({axisX:this.__getAxis(r),axisY:this.__getAxis(o),edge:l,align:u});return this.__instance.compute(e,t,i,n)},__direct:null,__keepAlign:null,__bestFit:null,__getAxis:function(e){switch(e){case"direct":this.__direct=this.__direct||qx.util.placement.DirectAxis;return this.__direct;case"keep-align":this.__keepAlign=this.__keepAlign||qx.util.placement.KeepAlignAxis;return this.__keepAlign;case"best-fit":this.__bestFit=this.__bestFit||qx.util.placement.BestFitAxis;return this.__bestFit;default:throw new Error("Invalid 'mode' argument!'")}}},members:{__defaultAxis:null,compute:function(e,t,i,n){this.assertObject(e,"size");this.assertNumber(e.width,"size.width");this.assertNumber(e.height,"size.height");this.assertObject(t,"area");this.assertNumber(t.width,"area.width");this.assertNumber(t.height,"area.height");this.assertObject(i,"target");this.assertNumber(i.top,"target.top");this.assertNumber(i.right,"target.right");this.assertNumber(i.bottom,"target.bottom");this.assertNumber(i.left,"target.left");this.assertObject(n,"offsets");this.assertNumber(n.top,"offsets.top");this.assertNumber(n.right,"offsets.right");this.assertNumber(n.bottom,"offsets.bottom");this.assertNumber(n.left,"offsets.left");return{left:(this.getAxisX()||this.__defaultAxis).computeStart(e.width,{start:i.left,end:i.right},{start:n.left,end:n.right},t.width,this.__getPositionX()),top:(this.getAxisY()||this.__defaultAxis).computeStart(e.height,{start:i.top,end:i.bottom},{start:n.top,end:n.bottom},t.height,this.__getPositionY())}},__getPositionX:function(){var e=this.getEdge(),t=this.getAlign();return"left"==e?"edge-start":"right"==e?"edge-end":"left"==t?"align-start":"center"==t?"align-center":"right"==t?"align-end":void 0},__getPositionY:function(){var e=this.getEdge(),t=this.getAlign();return"top"==e?"edge-start":"bottom"==e?"edge-end":"top"==t?"align-start":"middle"==t?"align-center":"bottom"==t?"align-end":void 0}},destruct:function(){this._disposeObjects("__defaultAxis")}});qx.util.placement.Placement.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.String":{},"qx.theme.manager.Color":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Font",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);this.__lookupMap={fontFamily:"",fontSize:null,fontWeight:null,fontStyle:null,textDecoration:null,lineHeight:null,color:null,textShadow:null};void 0!==e&&this.setSize(e);void 0!==t&&this.setFamily(t)},statics:{fromString:function(e){for(var t,i=new qx.bom.Font,n=e.split(/\s+/),s=[],r=0;r<n.length;r++)switch(t=n[r]){case"bold":i.setBold(!0);break;case"italic":i.setItalic(!0);break;case"underline":i.setDecoration("underline");break;default:var o=parseInt(t,10);o==t||qx.lang.String.contains(t,"px")?i.setSize(o):s.push(t)}s.length>0&&i.setFamily(s);return i},fromConfig:function(e){var t=new qx.bom.Font;t.set(e);return t},__defaultStyles:{fontFamily:"",fontSize:"",fontWeight:"",fontStyle:"",textDecoration:"",lineHeight:1.2,color:"",textShadow:""},getDefaultStyles:function(){return this.__defaultStyles}},properties:{size:{check:"Integer",nullable:!0,apply:"_applySize"},lineHeight:{check:"Number",nullable:!0,apply:"_applyLineHeight"},comparisonString:{check:"String",init:null,nullable:!0},version:{check:function(e){return null===e||"string"==typeof e&&/^[a-zA-Z0-9.-]+$/.test(e)},init:null,nullable:!0},family:{check:"Array",nullable:!0,apply:"_applyFamily"},bold:{check:"Boolean",nullable:!0,apply:"_applyBold"},italic:{check:"Boolean",nullable:!0,apply:"_applyItalic"},decoration:{check:["underline","line-through","overline"],nullable:!0,apply:"_applyDecoration"},color:{check:"Color",nullable:!0,apply:"_applyColor"},textShadow:{nullable:!0,check:"String",apply:"_applyTextShadow"},weight:{nullable:!0,check:"String",apply:"_applyWeight"}},members:{__lookupMap:null,_applySize:function(e,t){this.__lookupMap.fontSize=null===e?null:e+"px"},_applyLineHeight:function(e,t){this.__lookupMap.lineHeight=null===e?null:e},_applyFamily:function(e,t){for(var i="",n=0,s=e.length;n<s;n++){e[n].indexOf(" ")>0?i+='"'+e[n]+'"':i+=e[n];n!==s-1&&(i+=",")}this.__lookupMap.fontFamily=i},_applyBold:function(e,t){this.__lookupMap.fontWeight=null==e?null:e?"bold":"normal"},_applyItalic:function(e,t){this.__lookupMap.fontStyle=null==e?null:e?"italic":"normal"},_applyDecoration:function(e,t){this.__lookupMap.textDecoration=null==e?null:e},_applyColor:function(e,t){this.__lookupMap.color=null;e&&(this.__lookupMap.color=qx.theme.manager.Color.getInstance().resolve(e))},_applyWeight:function(e,t){this.__lookupMap.fontWeight=e},_applyTextShadow:function(e,t){this.__lookupMap.textShadow=null==e?null:e},getStyles:function(){return this.__lookupMap}}});qx.bom.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.bom.Font":{require:!0},"qx.bom.webfonts.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.webfonts.WebFont",{extend:qx.bom.Font,events:{changeStatus:"qx.event.type.Data"},properties:{sources:{nullable:!0,apply:"_applySources"}},members:{__families:null,_applySources:function(e,t){for(var i=[],n=0,s=e.length;n<s;n++){var r=this._quoteFontFamily(e[n].family);i.push(r);var o=e[n];o.comparisonString=this.getComparisonString();o.version=this.getVersion();qx.bom.webfonts.Manager.getInstance().require(r,o,this._onWebFontChangeStatus,this)}this.setFamily(i.concat(this.getFamily()))},_onWebFontChangeStatus:function(e){var t=e.getData();this.fireDataEvent("changeStatus",t);!1===t.valid&&this.warn("WebFont "+t.family+" was not applied, perhaps the source file could not be loaded.")},_quoteFontFamily:function(e){return e.replace(/["']/g,"")}}});qx.bom.webfonts.WebFont.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Stylesheet":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.Style":{},"qx.bom.Event":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["css.animation","css.animation.requestframe"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.CssAnimation",{statics:{getSupport:function(){var e=qx.bom.client.CssAnimation.getName();return null!=e?{name:e,"play-state":qx.bom.client.CssAnimation.getPlayState(),"start-event":qx.bom.client.CssAnimation.getAnimationStart(),"iteration-event":qx.bom.client.CssAnimation.getAnimationIteration(),"end-event":qx.bom.client.CssAnimation.getAnimationEnd(),"fill-mode":qx.bom.client.CssAnimation.getFillMode(),keyframes:qx.bom.client.CssAnimation.getKeyFrames()}:null},getFillMode:function(){return qx.bom.Style.getPropertyName("AnimationFillMode")},getPlayState:function(){return qx.bom.Style.getPropertyName("AnimationPlayState")},getName:function(){return qx.bom.Style.getPropertyName("animation")},getAnimationStart:function(){if(qx.bom.Event.supportsEvent(window,"webkitanimationstart"))return"webkitAnimationStart";return{msAnimation:"MSAnimationStart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"animationstart",OAnimation:"oAnimationStart",animation:"animationstart"}[this.getName()]},getAnimationIteration:function(){if(qx.bom.Event.supportsEvent(window,"webkitanimationiteration"))return"webkitAnimationIteration";return{msAnimation:"MSAnimationIteration",WebkitAnimation:"webkitAnimationIteration",MozAnimation:"animationiteration",OAnimation:"oAnimationIteration",animation:"animationiteration"}[this.getName()]},getAnimationEnd:function(){if(qx.bom.Event.supportsEvent(window,"webkitanimationend"))return"webkitAnimationEnd";return{msAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}[this.getName()]},getKeyFrames:function(){for(var e=qx.bom.Style.VENDOR_PREFIXES,t=[],i=0;i<e.length;i++){var n="@"+qx.bom.Style.getCssName(e[i])+"-keyframes";t.push(n)}t.unshift("@keyframes");var s=qx.bom.Stylesheet.createElement();for(i=0;i<t.length;i++)try{qx.bom.Stylesheet.addRule(s,t[i]+" name","");return t[i]}catch(e){}return null},getRequestAnimationFrame:function(){for(var e=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],t=0;t<e.length;t++)if(void 0!=window[e[t]])return e[t];return null}},defer:function(e){qx.core.Environment.add("css.animation",e.getSupport);qx.core.Environment.add("css.animation.requestframe",e.getRequestAnimationFrame)}});qx.bom.client.CssAnimation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.Uri",{statics:{parseUri:function(e,t){for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@?]*)(?::([^:@?]*))?)?@)?((?:\[[0-9A-Fa-f:]+\])|(?:[^:\/?#\[\]]*))(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@?]+:[^:@?\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@?]*)(?::([^:@?]*))?)?@)?((?:\[[0-9A-Fa-f:]+\])|(?:[^:\/?#\[\]]*))(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i,s=i.parser[t?"strict":"loose"].exec(e),r={},o=14;o--;)r[n.key[o]]=s[o]||"";r[n.q.name]={};r[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(r[n.q.name][t]=i)});return r},appendParamsToUrl:function(e,t){if(void 0===t)return e;if(!qx.lang.Type.isString(t)&&!qx.lang.Type.isObject(t))throw new Error("params must be either string or object");qx.lang.Type.isObject(t)&&(t=qx.util.Uri.toParameter(t));return t?e+(/\?/.test(e)?"&"+t:"?"+t):e},toParameter:function(e,t){var i,n=[];for(i in e)if(e.hasOwnProperty(i)){var s=e[i];if(s instanceof Array)for(var r=0;r<s.length;r++)this.__toParameterPair(i,s[r],n,t);else this.__toParameterPair(i,s,n,t)}return n.join("&")},__toParameterPair:function(e,t,i,n){var s=window.encodeURIComponent;n?i.push(s(e).replace(/%20/g,"+")+"="+s(t).replace(/%20/g,"+")):i.push(s(e)+"="+s(t))},getAbsolute:function(e){var t=document.createElement("div");t.innerHTML='<a href="'+e+'">0</a>';return t.firstChild.href}}});qx.util.Uri.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.CssAnimation":{require:!0},"qx.bom.Stylesheet":{},"qx.bom.Event":{},"qx.bom.element.Style":{},"qx.log.Logger":{},"qx.lang.String":{},"qx.bom.element.AnimationHandle":{},"qx.bom.element.Transform":{},"qx.bom.Style":{},"qx.bom.client.OperatingSystem":{defer:"runtime"}},environment:{provided:[],required:{"css.animation":{load:!0,className:"qx.bom.client.CssAnimation"},"os.name":{defer:!0,className:"qx.bom.client.OperatingSystem"},"os.version":{defer:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.AnimationCss",{statics:{__sheet:null,__rulePrefix:"Anni",__id:0,__rules:{},__transitionKeys:{scale:!0,rotate:!0,skew:!0,translate:!0},__cssAnimationKeys:qx.core.Environment.get("css.animation"),animateReverse:function(e,t,i){return this._animate(e,t,i,!0)},animate:function(e,t,i){return this._animate(e,t,i,!1)},_animate:function(e,t,i,n){this.__normalizeDesc(t);this.__validateDesc(t);var s=t.keep;null!=s&&(n||t.alternate&&t.repeat%2==0)&&(s=100-s);this.__sheet||(this.__sheet=qx.bom.Stylesheet.createElement());var r=t.keyFrames;void 0==i&&(i=t.duration);if(null!=this.__cssAnimationKeys){var o=this.__addKeyFrames(r,n)+" "+i+"ms "+t.timing+" "+(t.delay?t.delay+"ms ":"")+t.repeat+" "+(t.alternate?"alternate":"");qx.bom.Event.addNativeListener(e,this.__cssAnimationKeys["start-event"],this.__onAnimationStart);qx.bom.Event.addNativeListener(e,this.__cssAnimationKeys["iteration-event"],this.__onAnimationIteration);qx.bom.Event.addNativeListener(e,this.__cssAnimationKeys["end-event"],this.__onAnimationEnd);"none"==qx.bom.element.Style.get(e,"display")&&qx.log.Logger.warn(e,"Some browsers will not animate elements with display==none");e.style[qx.lang.String.camelCase(this.__cssAnimationKeys.name)]=o;s&&100==s&&this.__cssAnimationKeys["fill-mode"]&&(e.style[this.__cssAnimationKeys["fill-mode"]]="forwards")}var a=new qx.bom.element.AnimationHandle;a.desc=t;a.el=e;a.keep=s;e.$$animation=a;null!=t.origin&&qx.bom.element.Transform.setOrigin(e,t.origin);null==this.__cssAnimationKeys&&window.setTimeout(function(){qx.bom.element.AnimationCss.__onAnimationEnd({target:e})},0);return a},__onAnimationStart:function(e){e.target.$$animation&&e.target.$$animation.emit("start",e.target)},__onAnimationIteration:function(e){null!=e.target&&null!=e.target.$$animation&&e.target.$$animation.emit("iteration",e.target)},__onAnimationEnd:function(e){var t=e.target,i=t.$$animation;if(i){var n=i.desc;if(null!=qx.bom.element.AnimationCss.__cssAnimationKeys){var s=qx.lang.String.camelCase(qx.bom.element.AnimationCss.__cssAnimationKeys.name);t.style[s]="";qx.bom.Event.removeNativeListener(t,qx.bom.element.AnimationCss.__cssAnimationKeys.name,qx.bom.element.AnimationCss.__onAnimationEnd)}null!=n.origin&&qx.bom.element.Transform.setOrigin(t,"");qx.bom.element.AnimationCss.__keepFrame(t,n.keyFrames[i.keep]);t.$$animation=null;i.el=null;i.ended=!0;i.emit("end",t)}},__keepFrame:function(e,t){var i;for(var n in t)if(n in qx.bom.element.AnimationCss.__transitionKeys){i||(i={});i[n]=t[n]}else e.style[qx.lang.String.camelCase(n)]=t[n];i&&qx.bom.element.Transform.transform(e,i)},__normalizeDesc:function(e){e.hasOwnProperty("alternate")||(e.alternate=!1);e.hasOwnProperty("keep")||(e.keep=null);e.hasOwnProperty("repeat")||(e.repeat=1);e.hasOwnProperty("timing")||(e.timing="linear");e.hasOwnProperty("origin")||(e.origin=null)},__validateDesc:function(e){var t=["origin","duration","keep","keyFrames","delay","repeat","timing","alternate"];for(var i in e)-1==t.indexOf(i)&&qx.Bootstrap.warn("Unknown key '"+i+"' in the animation description.");if(null==e.keyFrames)qx.Bootstrap.warn("No 'keyFrames' given > 0");else for(var n in e.keyFrames)(n<0||n>100)&&qx.Bootstrap.warn("Keyframe position needs to be between 0 and 100")},__addKeyFrames:function(e,t){var i="";for(var n in e){i+=(t?-(n-100):n)+"% {";var s,r=e[n];for(var o in r)if(o in this.__transitionKeys){s||(s={});s[o]=r[o]}else{var a=qx.bom.Style.getPropertyName(o);i+=((null!==a?qx.bom.Style.getCssName(a):"")||o)+":"+r[o]+";"}s&&(i+=qx.bom.element.Transform.getCss(s));i+="} "}if(this.__rules[i])return this.__rules[i];var l=this.__rulePrefix+this.__id++,u=this.__cssAnimationKeys.keyframes+" "+l;qx.bom.Stylesheet.addRule(this.__sheet,u,i);this.__rules[i]=l;return l},__clearCache:function(){this.__id=0;if(this.__sheet){this.__sheet.ownerNode.remove();this.__sheet=null;this.__rules={}}}},defer:function(e){"ios"===qx.core.Environment.get("os.name")&&parseInt(qx.core.Environment.get("os.version"))>=8&&document.addEventListener("visibilitychange",function(){document.hidden||e.__clearCache()},!1)}});qx.bom.element.AnimationCss.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Object":{},"qx.bom.element.AnimationHandle":{},"qx.bom.Style":{},"qx.bom.element.Transform":{},"qx.util.ColorUtil":{},"qx.bom.AnimationFrame":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.AnimationJs",{statics:{__maxStepTime:30,__units:["%","in","cm","mm","em","ex","pt","pc","px"],__transitionKeys:{scale:!0,rotate:!0,skew:!0,translate:!0},animate:function(e,t,i){return this._animate(e,t,i,!1)},animateReverse:function(e,t,i){return this._animate(e,t,i,!0)},_animate:function(e,t,i,n){if(e.$$animation)return e.$$animation;t=qx.lang.Object.clone(t,!0);void 0==i&&(i=t.duration);var s=t.keyFrames,r=this.__getOrderedKeys(s),o=this.__getStepTime(i,r),a=parseInt(i/o,10);this.__normalizeKeyFrames(s,e);var l=this.__calculateDelta(a,o,r,s,i,t.timing),u=new qx.bom.element.AnimationHandle;u.jsAnimation=!0;if(n){l.reverse();u.reverse=!0}u.desc=t;u.el=e;u.delta=l;u.stepTime=o;u.steps=a;e.$$animation=u;u.i=0;u.initValues={};u.repeatSteps=this.__applyRepeat(a,t.repeat);var c=t.delay||0,d=this;u.delayId=window.setTimeout(function(){u.delayId=null;d.play(u)},c);return u},__normalizeKeyFrames:function(e,t){var i={};for(var n in e)for(var s in e[n]){var r=qx.bom.Style.getPropertyName(s);if(r&&r!=s){var o=qx.bom.Style.getCssName(r);e[n][o]=e[n][s];delete e[n][s];s=o}if(void 0==i[s]){var a=e[n][s];i[s]="string"==typeof a?this.__getUnit(a):""}}for(var n in e){var l=e[n];for(var s in i)if(void 0==l[s]){s in t.style?window.getComputedStyle?l[s]=window.getComputedStyle(t,null)[s]:l[s]=t.style[s]:l[s]=t[s];""===l[s]&&-1!=this.__units.indexOf(i[s])&&(l[s]="0"+i[s])}}},__normalizeKeyFrameTransforms:function(e){e=qx.lang.Object.clone(e);var t;for(var i in e)if(i in this.__transitionKeys){t||(t={});t[i]=e[i];delete e[i]}if(t){var n=qx.bom.element.Transform.getCss(t).split(":");n.length>1&&(e[n[0]]=n[1].replace(";",""))}return e},__calculateDelta:function(e,t,i,n,s,r){var o=new Array(e),a=1;o[0]=this.__normalizeKeyFrameTransforms(n[0]);for(var l=n[0],u=n[i[a]],c=Math.floor(i[a]/(t/s*100)),d=1,h=1;h<o.length;h++){if(h*t/s*100>i[a]){l=u;u=n[i[++a]];c=Math.floor(i[a]/(t/s*100))-c;d=1}o[h]={};var g;for(var m in u){var f=u[m]+"";if(m in this.__transitionKeys){g||(g={});if(qx.Bootstrap.isArray(l[m])){qx.Bootstrap.isArray(u[m])||(u[m]=[u[m]]);g[m]=[];for(var p=0;p<u[m].length;p++){var _=u[m][p]+"",x=d/c;g[m][p]=this.__getNextValue(_,l[m],r,x)}}else{x=d/c;g[m]=this.__getNextValue(f,l[m],r,x)}}else if("#"==f.charAt(0)){var q=qx.util.ColorUtil.cssStringToRgb(l[m]),v=qx.util.ColorUtil.cssStringToRgb(f),b=[];for(p=0;p<q.length;p++){var y=q[p]-v[p],C=(x=d/c,qx.bom.AnimationFrame.calculateTiming(r,x));b[p]=parseInt(q[p]-y*C,10)}o[h][m]=qx.util.ColorUtil.rgbToHexString(b)}else if(isNaN(parseFloat(f)))o[h][m]=l[m]+"";else{x=d/c;o[h][m]=this.__getNextValue(f,l[m],r,x)}}if(g){var w=qx.bom.element.Transform.getCss(g).split(":");w.length>1&&(o[h][w[0]]=w[1].replace(";",""))}d++}o[o.length-1]=this.__normalizeKeyFrameTransforms(n[100]);return o},__getUnit:function(e){return e.substring((parseFloat(e)+"").length,e.length)},__getNextValue:function(e,t,i,n){var s=parseFloat(e)-parseFloat(t);return parseFloat(t)+s*qx.bom.AnimationFrame.calculateTiming(i,n)+this.__getUnit(e)},play:function(e){e.emit("start",e.el);var t=window.setInterval(function(){e.repeatSteps--;var t=e.delta[e.i%e.steps];if(0===e.i)for(var i in t)void 0===e.initValues[i]&&(void 0!==e.el[i]?e.initValues[i]=e.el[i]:qx.bom.element.Style?e.initValues[i]=qx.bom.element.Style.get(e.el,qx.lang.String.camelCase(i)):e.initValues[i]=e.el.style[qx.lang.String.camelCase(i)]);qx.bom.element.AnimationJs.__applyStyles(e.el,t);e.i++;if(e.i%e.steps==0){e.emit("iteration",e.el);e.desc.alternate&&e.delta.reverse()}e.repeatSteps<0&&qx.bom.element.AnimationJs.stop(e)},e.stepTime);e.animationId=t;return e},pause:function(e){window.clearInterval(e.animationId);e.animationId=null;return e},stop:function(e){var t=e.desc,i=e.el,n=e.initValues;e.animationId&&window.clearInterval(e.animationId);e.delayId&&window.clearTimeout(e.delayId);if(void 0==i)return e;var s=t.keep;if(void 0==s||e.stopped)this.__applyStyles(i,n);else{(e.reverse||t.alternate&&t.repeat&&t.repeat%2==0)&&(s=100-s);this.__applyStyles(i,this.__normalizeKeyFrameTransforms(t.keyFrames[s]))}i.$$animation=null;e.el=null;e.ended=!0;e.animationId=null;e.emit("end",i);return e},__applyRepeat:function(e,t){return void 0==t?e:"infinite"==t?Number.MAX_VALUE:e*t},__applyStyles:function(e,t){for(var i in t)if(void 0!==t[i])if(void 0===e.style[i]&&i in e)e[i]=t[i];else{var n=qx.bom.Style.getPropertyName(i)||i;qx.bom.element.Style?qx.bom.element.Style.set(e,n,t[i]):e.style[n]=t[i]}},__getStepTime:function(e,t){for(var i=100,n=0;n<t.length-1;n++)i=Math.min(i,t[n+1]-t[n]);for(var s=e*i/100;s>this.__maxStepTime;)s/=2;return Math.round(s)},__getOrderedKeys:function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)t[i]=parseInt(t[i],10);t.sort(function(e,t){return e-t});return t}}});qx.bom.element.AnimationJs.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Mouse":{require:!0},"qx.util.Wheel":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.MouseWheel",{extend:qx.event.type.Mouse,members:{stop:function(){this.stopPropagation();this.preventDefault()},getWheelDelta:function(e){return qx.util.Wheel.getDelta(this._native,e)}}});qx.event.type.MouseWheel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Orientation",{extend:qx.event.type.Event,members:{__orientation:null,__mode:null,init:function(e,t){qx.event.type.Orientation.prototype.init.base.call(this,!1,!1);this.__orientation=e;this.__mode=t;return this},clone:function(e){var t=qx.event.type.Orientation.prototype.clone.base.call(this,e);t.__orientation=this.__orientation;t.__mode=this.__mode;return t},getOrientation:function(){return this.__orientation},isLandscape:function(){return"landscape"==this.__mode},isPortrait:function(){return"portrait"==this.__mode}}});qx.event.type.Orientation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Dom":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Touch",{extend:qx.event.type.Dom,members:{_cloneNativeEvent:function(e,t){(t=qx.event.type.Touch.prototype._cloneNativeEvent.base.call(this,e,t)).pageX=e.pageX;t.pageY=e.pageY;t.offsetX=e.offsetX;t.offsetY=e.offsetY;t.layerX=e.offsetX||e.layerX;t.layerY=e.offsetY||e.layerY;t.scale=e.scale;t.rotation=e.rotation;t._rotation=e._rotation;t.delta=e.delta;t.srcElement=e.srcElement;t.targetTouches=[];for(var i=0;i<e.targetTouches.length;i++)t.targetTouches[i]=e.targetTouches[i];t.changedTouches=[];for(i=0;i<e.changedTouches.length;i++)t.changedTouches[i]=e.changedTouches[i];t.touches=[];for(i=0;i<e.touches.length;i++)t.touches[i]=e.touches[i];return t},stop:function(){this.stopPropagation()},getAllTouches:function(){return this._native.touches},getTargetTouches:function(){return this._native.targetTouches},getChangedTargetTouches:function(){return this._native.changedTouches},isMultiTouch:function(){return this.__getEventSpecificTouches().length>1},getScale:function(){return this._native.scale},getRotation:function(){return void 0===this._native._rotation?this._native.rotation:this._native._rotation},getDelta:function(){return this._native.delta},getDocumentLeft:function(e){return this.__getEventSpecificTouch(e).pageX},getDocumentTop:function(e){return this.__getEventSpecificTouch(e).pageY},getScreenLeft:function(e){return this.__getEventSpecificTouch(e).screenX},getScreenTop:function(e){return this.__getEventSpecificTouch(e).screenY},getViewportLeft:function(e){return this.__getEventSpecificTouch(e).clientX},getViewportTop:function(e){return this.__getEventSpecificTouch(e).clientY},getIdentifier:function(e){return this.__getEventSpecificTouch(e).identifier},__getEventSpecificTouch:function(e){e=null==e?0:e;return this.__getEventSpecificTouches()[e]},__getEventSpecificTouches:function(){return this._isTouchEnd()?this.getChangedTargetTouches():this.getTargetTouches()},_isTouchEnd:function(){return"touchend"==this.getType()||"touchcancel"==this.getType()}}});qx.event.type.Touch.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["plugin.gears","plugin.quicktime","plugin.quicktime.version","plugin.windowsmedia","plugin.windowsmedia.version","plugin.divx","plugin.divx.version","plugin.silverlight","plugin.silverlight.version","plugin.pdf","plugin.pdf.version","plugin.activex","plugin.skype"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Plugin",{statics:{getGears:function(){return!(!window.google||!window.google.gears)},getActiveX:function(){if("function"==typeof window.ActiveXObject)return!0;try{return void 0!==window.ActiveXObject&&("object"===_typeof(new window.ActiveXObject("Microsoft.XMLHTTP"))||"object"===_typeof(new window.ActiveXObject("MSXML2.DOMDocument.6.0")))}catch(e){return!1}},getSkype:function(){if(qx.bom.client.Plugin.getActiveX())try{new ActiveXObject("Skype.Detection");return!0}catch(e){}var e=navigator.mimeTypes;if(e){if("application/x-skype"in e)return!0;for(var t=0;t<e.length;t++){if(-1!=e[t].type.indexOf("skype.click2call"))return!0}}return!1},__db:{quicktime:{plugin:["QuickTime"],control:"QuickTimeCheckObject.QuickTimeCheck.1"},wmv:{plugin:["Windows Media"],control:"WMPlayer.OCX.7"},divx:{plugin:["DivX Web Player"],control:"npdivx.DivXBrowserPlugin.1"},silverlight:{plugin:["Silverlight"],control:"AgControl.AgControl"},pdf:{plugin:["Chrome PDF Viewer","Adobe Acrobat"],control:"AcroPDF.PDF"}},getQuicktimeVersion:function(){var e=qx.bom.client.Plugin.__db.quicktime;return qx.bom.client.Plugin.__getVersion(e.control,e.plugin)},getWindowsMediaVersion:function(){var e=qx.bom.client.Plugin.__db.wmv;return qx.bom.client.Plugin.__getVersion(e.control,e.plugin,!0)},getDivXVersion:function(){var e=qx.bom.client.Plugin.__db.divx;return qx.bom.client.Plugin.__getVersion(e.control,e.plugin)},getSilverlightVersion:function(){var e=qx.bom.client.Plugin.__db.silverlight;return qx.bom.client.Plugin.__getVersion(e.control,e.plugin)},getPdfVersion:function(){var e=qx.bom.client.Plugin.__db.pdf;return qx.bom.client.Plugin.__getVersion(e.control,e.plugin)},getQuicktime:function(){var e=qx.bom.client.Plugin.__db.quicktime;return qx.bom.client.Plugin.__isAvailable(e.control,e.plugin)},getWindowsMedia:function(){var e=qx.bom.client.Plugin.__db.wmv;return qx.bom.client.Plugin.__isAvailable(e.control,e.plugin,!0)},getDivX:function(){var e=qx.bom.client.Plugin.__db.divx;return qx.bom.client.Plugin.__isAvailable(e.control,e.plugin)},getSilverlight:function(){var e=qx.bom.client.Plugin.__db.silverlight;return qx.bom.client.Plugin.__isAvailable(e.control,e.plugin)},getPdf:function(){var e=qx.bom.client.Plugin.__db.pdf;return qx.bom.client.Plugin.__isAvailable(e.control,e.plugin)},__getVersion:function(e,t,i){if(!qx.bom.client.Plugin.__isAvailable(e,t,i))return"";if("mshtml"==qx.bom.client.Engine.getName()&&(qx.bom.client.Browser.getDocumentMode()<11||i)){try{var n,s=new ActiveXObject(e);if(s.GetVersions&&s.GetVersions()&&(n=s.GetVersions().split(",")).length>1&&2===(n=n[0].split("=")).length)return n[1];if(void 0!=(n=s.versionInfo))return n;if(void 0!=(n=s.version))return n;if(void 0!=(n=s.settings.version))return n}catch(e){return""}return""}for(var r=navigator.plugins,o=/([0-9]\.[0-9])/g,a=0;a<r.length;a++)for(var l=r[a],u=0;u<t.length;u++)if(-1!==l.name.indexOf(t[u])&&(o.test(l.name)||o.test(l.description)))return RegExp.$1;return""},__isAvailable:function(e,t,i){if("mshtml"==qx.bom.client.Engine.getName()&&(qx.bom.client.Browser.getDocumentMode()<11||i)){if(!this.getActiveX())return!1;try{new ActiveXObject(e)}catch(e){return!1}return!0}var n,s=navigator.plugins;if(!s)return!1;for(var r=0;r<s.length;r++){n=s[r].name;for(var o=0;o<t.length;o++)if(-1!==n.indexOf(t[o]))return!0}return!1}},defer:function(e){qx.core.Environment.add("plugin.gears",e.getGears);qx.core.Environment.add("plugin.quicktime",e.getQuicktime);qx.core.Environment.add("plugin.quicktime.version",e.getQuicktimeVersion);qx.core.Environment.add("plugin.windowsmedia",e.getWindowsMedia);qx.core.Environment.add("plugin.windowsmedia.version",e.getWindowsMediaVersion);qx.core.Environment.add("plugin.divx",e.getDivX);qx.core.Environment.add("plugin.divx.version",e.getDivXVersion);qx.core.Environment.add("plugin.silverlight",e.getSilverlight);qx.core.Environment.add("plugin.silverlight.version",e.getSilverlightVersion);qx.core.Environment.add("plugin.pdf",e.getPdf);qx.core.Environment.add("plugin.pdf.version",e.getPdfVersion);qx.core.Environment.add("plugin.activex",e.getActiveX);qx.core.Environment.add("plugin.skype",e.getSkype)}});qx.bom.client.Plugin.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Plugin":{defer:"runtime"},"qx.bom.client.Xml":{}},environment:{provided:[],required:{"plugin.activex":{className:"qx.bom.client.Plugin",defer:!0},"xml.implementation":{className:"qx.bom.client.Xml"},"xml.domparser":{className:"qx.bom.client.Xml"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.xml.Document",{statics:{DOMDOC:null,XMLHTTP:null,isXmlDocument:function(e){return 9===e.nodeType?"HTML"!==e.documentElement.nodeName:!!e.ownerDocument&&this.isXmlDocument(e.ownerDocument)},create:function(e,t){if(qx.core.Environment.get("plugin.activex")){var i=new ActiveXObject(this.DOMDOC);"MSXML2.DOMDocument.3.0"==this.DOMDOC&&i.setProperty("SelectionLanguage","XPath");if(t){var n='<?xml version="1.0" encoding="utf-8"?>\n<';n+=t;e&&(n+=" xmlns='"+e+"'");n+=" />";i.loadXML(n)}return i}if(qx.core.Environment.get("xml.implementation"))return document.implementation.createDocument(e||"",t||"",null);throw new Error("No XML implementation available!")},fromString:function(e){if(qx.core.Environment.get("plugin.activex")){var t=qx.xml.Document.create();t.loadXML(e);return t}if(qx.core.Environment.get("xml.domparser")){return(new DOMParser).parseFromString(e,"text/xml")}throw new Error("No XML implementation available!")}},defer:function(e){if(qx.core.Environment.get("plugin.activex"))for(var t=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.3.0"],i=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0"],n=0,s=t.length;n<s;n++){try{new ActiveXObject(t[n]);new ActiveXObject(i[n])}catch(e){continue}e.DOMDOC=t[n];e.XMLHTTP=i[n];break}}});qx.xml.Document.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Html":{require:!0},"qx.dom.Node":{},"qx.bom.Selection":{}},environment:{provided:[],required:{"html.selection":{load:!0,className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Range",{statics:{get:qx.core.Environment.select("html.selection",{selection:function(e){if(!qx.dom.Node.isElement(e)){null==e&&(e=window);return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).createRange()}switch(e.nodeName.toLowerCase()){case"input":switch(e.type){case"text":case"password":case"hidden":case"button":case"reset":case"file":case"submit":return e.createTextRange();default:return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).createRange()}break;case"textarea":case"body":case"button":return e.createTextRange();default:return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(e)).createRange()}},default:function(e){var t=qx.dom.Node.getDocument(e),i=qx.bom.Selection.getSelectionObject(t);return i.rangeCount>0?i.getRangeAt(0):t.createRange()}})}});qx.bom.Range.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.StringSplit",{statics:{split:function(e,t,i){if("[object RegExp]"!==Object.prototype.toString.call(t))return String.prototype.split.call(e,t,i);var n,s,r,o,a=[],l=0,u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":""),c=(t=RegExp(t.source,u+"g"),void 0===/()??/.exec("")[1]);e+="";c||(n=RegExp("^"+t.source+"$(?!\\s)",u));if(void 0===i||+i<0)i=1/0;else if(!(i=Math.floor(+i)))return[];for(;s=t.exec(e);){if((r=s.index+s[0].length)>l){a.push(e.slice(l,s.index));!c&&s.length>1&&s[0].replace(n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)});s.length>1&&s.index<e.length&&Array.prototype.push.apply(a,s.slice(1));o=s[0].length;l=r;if(a.length>=i)break}t.lastIndex===s.index&&t.lastIndex++}l===e.length?!o&&t.test("")||a.push(""):a.push(e.slice(l));return a.length>i?a.slice(0,i):a}}});qx.util.StringSplit.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Element":{},"qx.bom.client.Css":{},"qx.bom.client.Html":{},"qx.bom.element.Style":{},"qx.core.Assert":{},"qx.bom.element.Attribute":{},"qx.bom.element.Dimension":{}},environment:{provided:[],required:{"css.textoverflow":{className:"qx.bom.client.Css"},"html.xul":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Label",{statics:{__styles:{fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1,wordBreak:1},__prepareText:function(){var e=this.__createMeasureElement(!1);document.body.insertBefore(e,document.body.firstChild);return this._textElement=e},__prepareHtml:function(){var e=this.__createMeasureElement(!0);document.body.insertBefore(e,document.body.firstChild);return this._htmlElement=e},__createMeasureElement:function(e){var t=qx.dom.Element.create("div");(i=t.style).width=i.height="auto";i.left=i.top="-1000px";i.visibility="hidden";i.position="absolute";i.overflow="visible";i.display="block";if(e)i.whiteSpace="normal";else{i.whiteSpace="nowrap";if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")){var i,n=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","label");(i=n.style).padding="0";i.margin="0";i.width="auto";for(var s in this.__styles)i[s]="inherit";t.appendChild(n)}}return t},__getStyles:function(e){var t={overflow:"hidden"};if(e)t.whiteSpace="normal";else if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul"))t.display="block";else{t.whiteSpace="nowrap";t[qx.core.Environment.get("css.textoverflow")]="ellipsis"}return t},create:function(e,t,i){i||(i=window);var n=i.document.createElement("div");t&&(n.useHtml=!0);if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")){var s=i.document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","label"),r=s.style;r.cursor="inherit";r.color="inherit";r.overflow="hidden";r.maxWidth="100%";r.padding="0";r.margin="0";r.width="auto";for(var o in this.__styles)s.style[o]="inherit";s.setAttribute("crop","end");n.appendChild(s)}else qx.bom.element.Style.setStyles(n,this.__getStyles(t));e&&this.setValue(n,e);return n},__sanitizer:null,setSanitizer:function(e){e&&qx.core.Assert.assertFunction(e);qx.bom.Label.__sanitizer=e},setValue:function(e,t){t=t||"";if(e.useHtml){qx.bom.Label.__sanitizer&&"function"==typeof qx.bom.Label.__sanitizer&&(t=qx.bom.Label.__sanitizer(t));e.innerHTML=t}else!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")?e.firstChild.setAttribute("value",t):qx.bom.element.Attribute.set(e,"text",t)},getValue:function(e){return e.useHtml?e.innerHTML:!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")?e.firstChild.getAttribute("value")||"":qx.bom.element.Attribute.get(e,"text")},getHtmlSize:function(e,t,i){var n=this._htmlElement||this.__prepareHtml();n.style.width=void 0!=i?i+"px":"auto";n.innerHTML=e;return this.__measureSize(n,t)},getTextSize:function(e,t){var i=this._textElement||this.__prepareText();!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")?i.firstChild.setAttribute("value",e):qx.bom.element.Attribute.set(i,"text",e);return this.__measureSize(i,t)},__measureSize:function(e,t){var i=this.__styles;t||(t={});for(var n in i)e.style[n]=t[n]||"";var s=qx.bom.element.Dimension.getSize(e);s.width++;return s}}});qx.bom.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{},"qx.util.ResourceManager":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.element.Background",{statics:{__tmpl:["background-image:url(",null,");","background-position:",null,";","background-repeat:",null,";"],__emptyStyles:{backgroundImage:null,backgroundPosition:null,backgroundRepeat:null},__computePosition:function(e,t){var i=qx.core.Environment.get("engine.name"),n=qx.core.Environment.get("engine.version");"gecko"==i&&n<1.9&&e==t&&"number"==typeof e&&(t+=.01);if(e)var s="number"==typeof e?e+"px":e;else s="0";if(t)var r="number"==typeof t?t+"px":t;else r="0";return s+" "+r},compile:function(e,t,i,n){var s=this.__computePosition(i,n),r=qx.util.ResourceManager.getInstance().toUri(e),o=this.__tmpl;o[1]="'"+r+"'";o[4]=s;o[7]=t;return o.join("")},getStyles:function(e,t,i,n){if(!e)return this.__emptyStyles;var s={backgroundPosition:this.__computePosition(i,n),backgroundImage:"url('"+qx.util.ResourceManager.getInstance().toUri(e)+"')"};null!=t&&(s.backgroundRepeat=t);return s},set:function(e,t,i,n,s){var r=this.getStyles(t,i,n,s);for(var o in r)e.style[o]=r[o]}}});qx.bom.element.Background.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.placement.AbstractAxis",{extend:Object,statics:{computeStart:function(e,t,i,n,s){throw new Error("abstract method call!")},_moveToEdgeAndAlign:function(e,t,i,n){switch(n){case"edge-start":return t.start-i.end-e;case"edge-end":return t.end+i.start;case"align-start":return t.start+i.start;case"align-center":return t.start+parseInt((t.end-t.start-e)/2,10)+i.start;case"align-end":return t.end-i.end-e}},_isInRange:function(e,t,i){return e>=0&&e+t<=i}}});qx.util.placement.AbstractAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.placement.AbstractAxis":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.placement.DirectAxis",{statics:{_moveToEdgeAndAlign:qx.util.placement.AbstractAxis._moveToEdgeAndAlign,computeStart:function(e,t,i,n,s){return this._moveToEdgeAndAlign(e,t,i,s)}}});qx.util.placement.DirectAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.placement.AbstractAxis":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.placement.KeepAlignAxis",{statics:{_moveToEdgeAndAlign:qx.util.placement.AbstractAxis._moveToEdgeAndAlign,_isInRange:qx.util.placement.AbstractAxis._isInRange,computeStart:function(e,t,i,n,s){var r,o,a=this._moveToEdgeAndAlign(e,t,i,s);if(this._isInRange(a,e,n))return a;if("edge-start"==s||"edge-end"==s){r=t.start-i.end;o=t.end+i.start}else{r=t.end-i.end;o=t.start+i.start}return a=r>n-o?Math.max(0,r-e):o}}});qx.util.placement.KeepAlignAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.placement.AbstractAxis":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.placement.BestFitAxis",{statics:{_isInRange:qx.util.placement.AbstractAxis._isInRange,_moveToEdgeAndAlign:qx.util.placement.AbstractAxis._moveToEdgeAndAlign,computeStart:function(e,t,i,n,s){var r=this._moveToEdgeAndAlign(e,t,i,s);if(this._isInRange(r,e,n))return r;r<0&&(r=Math.min(0,n-e));r+e>n&&(r=Math.max(0,n-e));return r}}});qx.util.placement.BestFitAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.ResourceManager":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.event.Timer":{},"qx.lang.Array":{},"qx.bom.client.OperatingSystem":{},"qx.bom.Stylesheet":{},"qx.bom.webfonts.Validator":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"},"os.name":{className:"qx.bom.client.OperatingSystem"},"os.version":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.webfonts.Manager",{extend:qx.core.Object,type:"singleton",construct:function(){qx.core.Object.constructor.call(this);this.__createdStyles=[];this.__validators={};this.__queue=[];this.__preferredFormats=this.getPreferredFormats()},statics:{FONT_FORMATS:["eot","woff2","woff","ttf","svg"],VALIDATION_TIMEOUT:5e3},members:{__createdStyles:null,__styleSheet:null,__validators:null,__preferredFormats:null,__queue:null,__queueInterval:null,require:function(e,t,i,n){for(var s=t.source,r=t.comparisonString,o=t.version,a=t.fontWeight,l=t.fontStyle,u=[],c=0,d=s.length;c<d;c++){var h=s[c].split("#"),g=qx.util.ResourceManager.getInstance().toUri(h[0]);h.length>1&&(g=g+"#"+h[1]);u.push(g)}if("mshtml"==qx.core.Environment.get("engine.name")&&(parseInt(qx.core.Environment.get("engine.version"))<9||qx.core.Environment.get("browser.documentmode")<9)){if(!this.__queueInterval){this.__queueInterval=new qx.event.Timer(100);this.__queueInterval.addListener("interval",this.__flushQueue,this)}this.__queueInterval.isEnabled()||this.__queueInterval.start();this.__queue.push([e,u,a,l,r,o,i,n])}else this.__require(e,u,a,l,r,o,i,n)},remove:function(e,t,i){for(var n=this.__createFontLookupKey(e,t,i),s=null,r=0,o=this.__createdStyles.length;r<o;r++)if(this.__createdStyles[r]==n){s=r;this.__removeRule(e,t,i);break}null!==s&&qx.lang.Array.removeAt(this.__createdStyles,s);if(e in this.__validators){this.__validators[e].dispose();delete this.__validators[e]}},getPreferredFormats:function(){var e=[],t=qx.core.Environment.get("browser.name"),i=qx.core.Environment.get("browser.version"),n=qx.core.Environment.get("os.name"),s=qx.core.Environment.get("os.version");("edge"==t&&i>=14||"firefox"==t&&i>=69||"chrome"==t&&i>=36)&&e.push("woff2");("ie"==t&&qx.core.Environment.get("browser.documentmode")>=9||"edge"==t&&i>=12||"firefox"==t&&i>=3.6||"chrome"==t&&i>=6)&&e.push("woff");("edge"==t&&i>=12||"opera"==t&&i>=10||"safari"==t&&i>=3.1||"firefox"==t&&i>=3.5||"chrome"==t&&i>=4||"mobile safari"==t&&"ios"==n&&s>=4.2)&&e.push("ttf");"ie"==t&&i>=4&&e.push("eot");"mobileSafari"==t&&"ios"==n&&s>=4.1&&e.push("svg");return e},removeStyleSheet:function(){this.__createdStyles=[];this.__styleSheet&&qx.bom.Stylesheet.removeSheet(this.__styleSheet);this.__styleSheet=null},__createFontLookupKey:function(e,t,i){return e+"_"+(t||"normal")+"_"+(i||"normal")},__require:function(e,t,i,n,s,r,o,a){var l=this.__createFontLookupKey(e,i,n);if(!this.__createdStyles.includes(l)){var u=this.__getSourcesMap(t),c=this.__getRule(e,i,n,u,r);if(!c)throw new Error("Couldn't create @font-face rule for WebFont "+e+"!");this.__styleSheet||(this.__styleSheet=qx.bom.Stylesheet.createElement());try{this.__addRule(c)}catch(e){this.warn("Error while adding @font-face rule:",e.message);return}this.__createdStyles.push(l)}if(!this.__validators[e]){this.__validators[e]=new qx.bom.webfonts.Validator(e,s);this.__validators[e].setTimeout(qx.bom.webfonts.Manager.VALIDATION_TIMEOUT);this.__validators[e].addListenerOnce("changeStatus",this.__onFontChangeStatus,this)}if(o){var d=a||window;this.__validators[e].addListenerOnce("changeStatus",o,d)}this.__validators[e].validate()},__flushQueue:function(){if(0!=this.__queue.length){var e=this.__queue.shift();this.__require.apply(this,e)}else this.__queueInterval.stop()},__onFontChangeStatus:function(e){var t=e.getData();!1===t.valid&&qx.event.Timer.once(function(){this.remove(t.family)},this,250)},__getSourcesMap:function(e){for(var t=qx.bom.webfonts.Manager.FONT_FORMATS,i={},n=new RegExp(".("+t.join("|")+")"),s=0,r=e.length;s<r;s++){var o=n.exec(e[s]);if(o){i[o[1]]=e[s]}}return i},__getRule:function(e,t,i,n,s){for(var r=[],o=this.__preferredFormats.length>0?this.__preferredFormats:qx.bom.webfonts.Manager.FONT_FORMATS,a=0,l=o.length;a<l;a++){var u=o[a];n[u]&&r.push(this.__getSourceForFormat(u,n[u],s))}var c="src: "+r.join(",\n")+";";return c=(c=(c="font-family: "+e+";\n"+c)+"\nfont-style: "+(i||"normal")+";")+"\nfont-weight: "+(t||"normal")+";"},__getSourceForFormat:function(e,t,i){i&&(t+="?"+i);switch(e){case"eot":return"url('"+t+"');src: url('"+t+"?#iefix') format('embedded-opentype')";case"woff2":return"url('"+t+"') format('woff2')";case"woff":return"url('"+t+"') format('woff')";case"ttf":return"url('"+t+"') format('truetype')";case"svg":return"url('"+t+"') format('svg')";default:return null}},__addRule:function(e){var t="@font-face {"+e+"}\n";if("ie"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.documentmode")<9){var i=this.__fixCssText(this.__styleSheet.cssText);i+=t;this.__styleSheet.cssText=i}else this.__styleSheet.insertRule(t,this.__styleSheet.cssRules.length)},__removeRule:function(e,t,i){for(var n=new RegExp("@font-face.*?"+e+"(.*font-style: *"+(i||"normal")+".*font-weight: *"+(t||"normal")+")|(.*font-weight: *"+(t||"normal")+".*font-style: *"+(i||"normal")+")","m"),s=0,r=document.styleSheets.length;s<r;s++){var o=document.styleSheets[s];if(o.cssText){var a=o.cssText.replace(/\n/g,"").replace(/\r/g,"");a=this.__fixCssText(a);n.exec(a)&&(a=a.replace(n,""));o.cssText=a}else if(o.cssRules)for(var l=0,u=o.cssRules.length;l<u;l++){a=o.cssRules[l].cssText.replace(/\n/g,"").replace(/\r/g,"");if(n.exec(a)){this.__styleSheet.deleteRule(l);return}}}},__fixCssText:function(e){return e.replace("'eot)","'eot')").replace("('embedded-opentype)","('embedded-opentype')")}},destruct:function(){if(this.__queueInterval){this.__queueInterval.stop();this.__queueInterval.dispose()}delete this.__createdStyles;this.removeStyleSheet();for(var e in this.__validators)this.__validators[e].dispose();qx.bom.webfonts.Validator.removeDefaultHelperElements()}});qx.bom.webfonts.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.Emitter":{require:!0},"qx.bom.client.CssAnimation":{construct:!0}},environment:{provided:[],required:{"css.animation":{construct:!0,className:"qx.bom.client.CssAnimation"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.AnimationHandle",{extend:qx.event.Emitter,construct:function(){var e=qx.core.Environment.get("css.animation");this.__playState=e&&e["play-state"];this.__playing=!0;this.addListenerOnce("end",this.__setEnded,this)},events:{start:"Element",end:"Element",iteration:"Element"},members:{__playState:null,__playing:!1,__ended:!1,isPlaying:function(){return this.__playing},isEnded:function(){return this.__ended},isPaused:function(){return"paused"==this.el.style[this.__playState]},pause:function(){if(this.el){this.el.style[this.__playState]="paused";this.el.$$animation.__playing=!1;this.animationId&&qx.bom.element.AnimationJs&&qx.bom.element.AnimationJs.pause(this)}},play:function(){if(this.el){this.el.style[this.__playState]="running";this.el.$$animation.__playing=!0;void 0!=this.i&&qx.bom.element.AnimationJs&&qx.bom.element.AnimationJs.play(this)}},stop:function(){if(this.el&&qx.core.Environment.get("css.animation")&&!this.jsAnimation){this.el.style[this.__playState]="";this.el.style[qx.core.Environment.get("css.animation").name]="";this.el.$$animation.__playing=!1;this.el.$$animation.__ended=!0}else if(this.jsAnimation){this.stopped=!0;qx.bom.element.AnimationJs.stop(this)}},__setEnded:function(){this.__playing=!1;this.__ended=!0}}});qx.bom.element.AnimationHandle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.Style":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["css.transform","css.transform.3d"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.CssTransform",{statics:{getSupport:function(){var e=qx.bom.client.CssTransform.getName();return null!=e?{name:e,style:qx.bom.client.CssTransform.getStyle(),origin:qx.bom.client.CssTransform.getOrigin(),"3d":qx.bom.client.CssTransform.get3D(),perspective:qx.bom.client.CssTransform.getPerspective(),"perspective-origin":qx.bom.client.CssTransform.getPerspectiveOrigin(),"backface-visibility":qx.bom.client.CssTransform.getBackFaceVisibility()}:null},getStyle:function(){return qx.bom.Style.getPropertyName("transformStyle")},getPerspective:function(){return qx.bom.Style.getPropertyName("perspective")},getPerspectiveOrigin:function(){return qx.bom.Style.getPropertyName("perspectiveOrigin")},getBackFaceVisibility:function(){return qx.bom.Style.getPropertyName("backfaceVisibility")},getOrigin:function(){return qx.bom.Style.getPropertyName("transformOrigin")},getName:function(){return qx.bom.Style.getPropertyName("transform")},get3D:function(){return null!=qx.bom.client.CssTransform.getPerspective()}},defer:function(e){qx.core.Environment.add("css.transform",e.getSupport);qx.core.Environment.add("css.transform.3d",e.get3D)}});qx.bom.client.CssTransform.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.CssTransform":{require:!0},"qx.bom.Style":{}},environment:{provided:[],required:{"css.transform":{load:!0,className:"qx.bom.client.CssTransform"},"css.transform.3d":{className:"qx.bom.client.CssTransform"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Transform",{statics:{__cssKeys:qx.core.Environment.get("css.transform"),transform:function(e,t){var i=this.getTransformValue(t);if(null!=this.__cssKeys){var n=this.__cssKeys.name;e.style[n]=i}},translate:function(e,t){this.transform(e,{translate:t})},scale:function(e,t){this.transform(e,{scale:t})},rotate:function(e,t){this.transform(e,{rotate:t})},skew:function(e,t){this.transform(e,{skew:t})},getCss:function(e){var t=this.getTransformValue(e);if(null!=this.__cssKeys){var i=this.__cssKeys.name;return qx.bom.Style.getCssName(i)+":"+t+";"}return""},setOrigin:function(e,t){null!=this.__cssKeys&&(e.style[this.__cssKeys.origin]=t)},getOrigin:function(e){return null!=this.__cssKeys?e.style[this.__cssKeys.origin]:""},setStyle:function(e,t){null!=this.__cssKeys&&(e.style[this.__cssKeys.style]=t)},getStyle:function(e){return null!=this.__cssKeys?e.style[this.__cssKeys.style]:""},setPerspective:function(e,t){null!=this.__cssKeys&&(e.style[this.__cssKeys.perspective]=t+"px")},getPerspective:function(e){return null!=this.__cssKeys?e.style[this.__cssKeys.perspective]:""},setPerspectiveOrigin:function(e,t){null!=this.__cssKeys&&(e.style[this.__cssKeys["perspective-origin"]]=t)},getPerspectiveOrigin:function(e){if(null!=this.__cssKeys){var t=e.style[this.__cssKeys["perspective-origin"]];if(""!=t)return t;var i=e.style[this.__cssKeys["perspective-origin"]+"X"],n=e.style[this.__cssKeys["perspective-origin"]+"Y"];if(""!=i)return i+" "+n}return""},setBackfaceVisibility:function(e,t){null!=this.__cssKeys&&(e.style[this.__cssKeys["backface-visibility"]]=t?"visible":"hidden")},getBackfaceVisibility:function(e){return null==this.__cssKeys||"visible"==e.style[this.__cssKeys["backface-visibility"]]},getTransformValue:function(e){var t="",i=["translate","scale"];for(var n in e){var s=e[n];qx.Bootstrap.isArray(s)?3===s.length&&i.indexOf(n)>-1&&qx.core.Environment.get("css.transform.3d")?t+=this._compute3dProperty(n,s):t+=this._computeAxisProperties(n,s):t+=n+"("+s+") "}return t.trim()},_compute3dProperty:function(e,t){var i="";e+="3d";for(var n=0;n<t.length;n++)null==t[n]&&(t[n]=0);return i+=e+"("+t.join(", ")+") "},_computeAxisProperties:function(e,t){for(var i="",n=["X","Y","Z"],s=0;s<t.length;s++)if(null!=t[s]&&(2!=s||qx.core.Environment.get("css.transform.3d"))){i+=e+n[s]+"(";i+=t[s];i+=") "}return i}}});qx.bom.element.Transform.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.xml.Document":{},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["xml.implementation","xml.domparser","xml.selectsinglenode","xml.selectnodes","xml.getelementsbytagnamens","xml.domproperties","xml.attributens","xml.createelementns","xml.createnode","xml.getqualifieditem"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Xml",{statics:{getImplementation:function(){return document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XML","1.0")},getDomParser:function(){return void 0!==window.DOMParser},getSelectSingleNode:function(){return void 0!==qx.xml.Document.create().selectSingleNode},getSelectNodes:function(){return void 0!==qx.xml.Document.create().selectNodes},getElementsByTagNameNS:function(){return void 0!==qx.xml.Document.create().getElementsByTagNameNS},getDomProperties:function(){var e=qx.xml.Document.create();return"getProperty"in e&&"string"==typeof e.getProperty("SelectionLanguage")},getAttributeNS:function(){var e=qx.xml.Document.fromString("<a></a>").documentElement;return"function"==typeof e.getAttributeNS&&"function"==typeof e.setAttributeNS},getCreateElementNS:function(){return"function"==typeof qx.xml.Document.create().createElementNS},getCreateNode:function(){return void 0!==qx.xml.Document.create().createNode},getQualifiedItem:function(){return void 0!==qx.xml.Document.fromString("<a></a>").documentElement.attributes.getQualifiedItem}},defer:function(e){qx.core.Environment.add("xml.implementation",e.getImplementation);qx.core.Environment.add("xml.domparser",e.getDomParser);qx.core.Environment.add("xml.selectsinglenode",e.getSelectSingleNode);qx.core.Environment.add("xml.selectnodes",e.getSelectNodes);qx.core.Environment.add("xml.getelementsbytagnamens",e.getElementsByTagNameNS);qx.core.Environment.add("xml.domproperties",e.getDomProperties);qx.core.Environment.add("xml.attributens",e.getAttributeNS);qx.core.Environment.add("xml.createelementns",e.getCreateElementNS);qx.core.Environment.add("xml.createnode",e.getCreateNode);qx.core.Environment.add("xml.getqualifieditem",e.getQualifiedItem)}});qx.bom.client.Xml.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.Timer":{},"qx.bom.element.Dimension":{},"qx.lang.Object":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.webfonts.Validator",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);t&&this.setComparisonString(t);if(e){this.setFontFamily(e);this.__requestedHelpers=this._getRequestedHelpers()}},statics:{COMPARISON_FONTS:{sans:["Arial","Helvetica","sans-serif"],serif:["Times New Roman","Georgia","serif"]},HELPER_CSS:{position:"absolute",margin:"0",padding:"0",top:"-1000px",left:"-1000px",fontSize:"350px",width:"auto",height:"auto",lineHeight:"normal",fontVariant:"normal",visibility:"hidden"},COMPARISON_STRING:"WEei",__defaultSizes:null,__defaultHelpers:null,removeDefaultHelperElements:function(){var e=qx.bom.webfonts.Validator.__defaultHelpers;if(e)for(var t in e)document.body.removeChild(e[t]);delete qx.bom.webfonts.Validator.__defaultHelpers}},properties:{fontFamily:{nullable:!0,init:null,apply:"_applyFontFamily"},comparisonString:{nullable:!0,init:null},timeout:{check:"Integer",init:5e3}},events:{changeStatus:"qx.event.type.Data"},members:{__requestedHelpers:null,__checkTimer:null,__checkStarted:null,validate:function(){this.__checkStarted=(new Date).getTime();if(this.__checkTimer)this.__checkTimer.restart();else{this.__checkTimer=new qx.event.Timer(100);this.__checkTimer.addListener("interval",this.__onTimerInterval,this);qx.event.Timer.once(function(){this.__checkTimer.start()},this,0)}},_reset:function(){if(this.__requestedHelpers){for(var e in this.__requestedHelpers){var t=this.__requestedHelpers[e];document.body.removeChild(t)}this.__requestedHelpers=null}},_isFontValid:function(){qx.bom.webfonts.Validator.__defaultSizes||this.__init();this.__requestedHelpers||(this.__requestedHelpers=this._getRequestedHelpers());this.__requestedHelpers.sans.style.visibility="visible";this.__requestedHelpers.sans.style.visibility="hidden";this.__requestedHelpers.serif.style.visibility="visible";this.__requestedHelpers.serif.style.visibility="hidden";var e=qx.bom.element.Dimension.getWidth(this.__requestedHelpers.sans),t=qx.bom.element.Dimension.getWidth(this.__requestedHelpers.serif),i=qx.bom.webfonts.Validator;return e!==i.__defaultSizes.sans||t!==i.__defaultSizes.serif},_getRequestedHelpers:function(){var e=[this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.sans),t=[this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.serif);return{sans:this._getHelperElement(e,this.getComparisonString()),serif:this._getHelperElement(t,this.getComparisonString())}},_getHelperElement:function(e,t){var i=qx.lang.Object.clone(qx.bom.webfonts.Validator.HELPER_CSS);e&&(i.fontFamily?i.fontFamily+=","+e.join(","):i.fontFamily=e.join(","));var n=document.createElement("span");n.innerHTML=t||qx.bom.webfonts.Validator.COMPARISON_STRING;qx.bom.element.Style.setStyles(n,i);document.body.appendChild(n);return n},_applyFontFamily:function(e,t){e!==t&&this._reset()},__init:function(){var e=qx.bom.webfonts.Validator;e.__defaultHelpers||(e.__defaultHelpers={sans:this._getHelperElement(e.COMPARISON_FONTS.sans),serif:this._getHelperElement(e.COMPARISON_FONTS.serif)});e.__defaultSizes={sans:qx.bom.element.Dimension.getWidth(e.__defaultHelpers.sans),serif:qx.bom.element.Dimension.getWidth(e.__defaultHelpers.serif)}},__onTimerInterval:function(){if(this._isFontValid()){this.__checkTimer.stop();this._reset();this.fireDataEvent("changeStatus",{family:this.getFontFamily(),valid:!0})}else{if((new Date).getTime()-this.__checkStarted>=this.getTimeout()){this.__checkTimer.stop();this._reset();this.fireDataEvent("changeStatus",{family:this.getFontFamily(),valid:!1})}}}},destruct:function(){this._reset();this.__checkTimer.stop();this.__checkTimer.removeListener("interval",this.__onTimerInterval,this);this._disposeObjects("__checkTimer")}});qx.bom.webfonts.Validator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.Bootstrap":{defer:"runtime"},"qx.core.Object":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Bootstrap",{extend:qx.dev.unit.TestCase,members:{testDefineAnonymous:function(){var e=qx.Bootstrap.define(null,{statics:{test:function(){return!0}}});this.assertTrue(e.test());e=qx.Bootstrap.define(null,{statics:{test2:function(){return!0}}});this.assertTrue(e.test2())},testClassnameProperty:function(){qx.Bootstrap.define("qx.test.MyClass",{members:{}});var e=new qx.test.MyClass;this.assertEquals("qx.test.MyClass",e.classname);this.assertEquals("qx.test.MyClass",e.name);qx.Class.undefine("qx.test.MyClass")},testAlternativeRoot:function(){var e={},t={},i={qq:e,foobar:t};qx.Bootstrap.setRoot(i);var n=qx.Bootstrap.define("qq.test.ROOT",{}),s=qx.Bootstrap.define("foobar.test.ROOT",{}),r=qx.Bootstrap.define("vanillebaer.test.ROOT",{});this.assertEquals(n,e.test.ROOT);this.assertEquals(s,t.test.ROOT);this.assertEquals(r,window.vanillebaer.test.ROOT);qx.Bootstrap.setRoot(void 0);qx.Class.undefine("vanillebaer.test.ROOT")},"test: merge methods of same class (statics optimization)":function(){qx.Bootstrap.define("qx.test.MyClass",{statics:{methodA:function(){return!0}}});qx.Bootstrap.define("qx.test.MyClass",{statics:{methodB:function(){return!0}}});this.assertNotUndefined(qx.test.MyClass.methodA);this.assertNotUndefined(qx.test.MyClass.methodB);qx.Class.undefine("qx.test.MyClass")},"test: merge methods of same class (statics optimization) respect defer":function(){qx.Bootstrap.define("qx.test.MyClass",{statics:{methodA:function(){return!0},methodB:function(){return!0}}});qx.Bootstrap.define("qx.test.MyClass",{statics:{methodA:null},defer:function(e){e.methodA=function(){return!0}}});this.assertNotNull(qx.test.MyClass.methodA);this.assertNotUndefined(qx.test.MyClass.methodB);qx.Class.undefine("qx.test.MyClass")},"test: define class with constructor":function(){var e=qx.Bootstrap.define("qx.test.Construct",{extend:Object,construct:function(){this.called=!0}}),t=new qx.test.Construct;this.assertTrue(t.called);this.assertEquals(e,qx.Bootstrap.getByName("qx.test.Construct"));this.assertEquals(qx.test.Construct,qx.Bootstrap.getByName("qx.test.Construct"));qx.Class.undefine("qx.test.Construct")},"test: define bootstrap class, which extends 'Error'":function(){qx.Bootstrap.define("qx.test.ExtendError",{extend:Error});var e=new qx.test.ExtendError;this.assertInstance(e,Error);qx.Class.undefine("qx.test.ExtendError")},"test: extend from qx.core.Object":function(){qx.Bootstrap.define("qx.test.ExtendQxObject",{extend:qx.core.Object});var e=new qx.test.ExtendQxObject;this.assertInstance(e,qx.core.Object);e.dispose();qx.Class.undefine("qx.test.ExtendQxObject")},"test: extend from null should extend Object":function(){qx.Bootstrap.define("qx.test.ExtendNull",{extend:null,members:{}});var e=new qx.test.ExtendNull;this.assertInstance(e,Object);qx.Class.undefine("qx.test.ExtendNull")},"test: extend from Bootstrap class":function(){qx.Bootstrap.define("qx.test.Super",{members:{}});qx.Bootstrap.define("qx.test.ExtendSuper",{extend:qx.test.Super,members:{}});var e=new qx.test.ExtendSuper;this.assertInstance(e,Object);this.assertInstance(e,qx.test.Super);this.assertInstance(e,qx.test.ExtendSuper);qx.Class.undefine("qx.test.Super");qx.Class.undefine("qx.test.ExtendSuper")},"test: extended Bootstap class should append members to the prototype":function(){qx.Bootstrap.define("qx.test.Super",{members:{foo:10,baz:"juhu"}});qx.Bootstrap.define("qx.test.ExtendSuper",{extend:qx.test.Super,members:{bar:"affe",foo:11}});var e=new qx.test.ExtendSuper;this.assertEquals("affe",e.bar);this.assertEquals(11,e.foo);this.assertEquals("juhu",e.baz);this.assertEquals(11,qx.test.ExtendSuper.prototype.foo);this.assertEquals(10,qx.test.Super.prototype.foo);qx.Class.undefine("qx.test.Super");qx.Class.undefine("qx.test.ExtendSuper")},"test: superclass calls aka basecalls (constructor and methods)":function(){qx.Bootstrap.define("qx.test.Car",{construct:function(e){this._name=e},members:{startEngine:function(){return"start"},stopEngine:function(){return"stop"},getName:function(){return this._name}}});var e=new qx.test.Car("Audi");this.assertEquals("start",e.startEngine());this.assertEquals("stop",e.stopEngine());this.assertEquals("Audi",e.getName());qx.Bootstrap.define("qx.test.Bmw",{extend:qx.test.Car,construct:function(e,t){qx.test.Car.constructor.call(this,e)},members:{startEngine:function(){return"brrr "+qx.test.Bmw.prototype.startEngine.base.call(this)},stopEngine:function(){return"brrr "+qx.test.Bmw.prototype.stopEngine.base.call(this)},getWheels:function(){return qx.test.Bmw.WHEELS},getMaxSpeed:function(){qx.test.Bmw.prototype.getMaxSpeed.base.call(this)}},statics:{WHEELS:4}});var t=new qx.test.Bmw("bmw",44e3);this.assertEquals("bmw",t.getName());this.assertEquals("brrr start",t.startEngine());this.assertEquals("brrr stop",t.stopEngine());this.assertEquals(4,t.getWheels());this.isDebugOn()&&this.assertException(function(){t.getMaxSpeed()},Error);qx.Class.undefine("qx.test.Car");qx.Class.undefine("qx.test.Bmw")},testFunctionWrap:function(){var e=null,t=0,i=function(t,i){e=this;return t+i};e=null;t=i(1,2);this.assertEquals(e,window);this.assertEquals(3,t);e=null;t=qx.Bootstrap.bind(i,this)(1,3);this.assertEquals(e,this);this.assertEquals(4,t);e=null;t=qx.Bootstrap.bind(i,this,1)(4);this.assertEquals(e,this);this.assertEquals(5,t)},testBindWithUndefinedArguments:function(){qx.Bootstrap.bind(function(e,t){this.assertTrue(t)},this,void 0,!0)()},testDefineShadowedMembers:function(){qx.Bootstrap.define("qx.test.Construct",{extend:Object,members:{isPrototypeOf:10,hasOwnProperty:11,toLocaleString:12,toString:13,valueOf:14}});var e=new qx.test.Construct;this.assertEquals(10,e.isPrototypeOf);this.assertEquals(11,e.hasOwnProperty);this.assertEquals(12,e.toLocaleString);this.assertEquals(13,e.toString);this.assertEquals(14,e.valueOf);qx.Class.undefine("qx.test.Construct")},testDefineShadowedStatics:function(){qx.Bootstrap.define("qx.test.Construct",{extend:Object,statics:{isPrototypeOf:10,toLocaleString:12,toString:13,valueOf:14}});this.assertEquals(10,qx.test.Construct.isPrototypeOf);this.assertEquals(12,qx.test.Construct.toLocaleString);this.assertEquals(13,qx.test.Construct.toString);this.assertEquals(14,qx.test.Construct.valueOf);qx.Class.undefine("qx.test.Construct")}}});qx.test.Bootstrap.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.theme.Classic":{},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Init":{},"qx.theme.manager.Meta":{},"qx.ui.root.Application":{},"qx.ui.core.queue.Manager":{},"qx.lang.Object":{},"qx.core.ObjectRegistry":{},"qx.event.Registration":{},"qx.lang.Array":{},"qx.ui.core.Widget":{},"qx.bom.element.Style":{},"qx.event.type.Tap":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.test.ui.LayoutTestCase",{extend:qx.dev.unit.TestCase,type:"abstract",statics:{$$clazz:null,$$args:null},members:{setUp:function(){this.getRoot()},tearDown:function(){this.getRoot().removeAll().forEach(function(e){e.dispose()});var e=qx.test.ui.LayoutTestCase;if(e._root){e._root.destroy();e._root=null;qx.core.Init.getApplication=e.__oldGetApp}},getRoot:function(){var e=qx.test.ui.LayoutTestCase;if(e._root)return e._root;qx.theme.manager.Meta.getInstance().initialize();e._root=new qx.ui.root.Application(document);e.__oldApplication=qx.core.Init.getApplication();e.__oldGetApp=qx.core.Init.getApplication;qx.core.Init.getApplication=function(){return{getRoot:function(){return e._root},close:function(){},terminate:function(){}}};return e._root},getRunnerApplication:function(){return qx.test.ui.LayoutTestCase.__oldApplication||qx.core.Init.getApplication()},flush:function(){qx.ui.core.queue.Manager.flush()},assertDestroy:function(e,t,i){e.call(t);this.flush();this.flush();var n=qx.lang.Object.clone(qx.core.ObjectRegistry.getRegistry()),s=qx.event.Registration.getManager(window),r=s.getAllListeners(),o={};for(var a in r){o[a]={};for(var l in r[a])o[a][l]=qx.lang.Array.clone(r[a][l])}e.call(t);this.flush();this.flush();var u=qx.core.ObjectRegistry.getRegistry();for(l in u){var c=u[l];c.$$pooled||c.$$blackListCleaner||this.assertNotUndefined(n[l],i+": The object '"+c.classname+"' has not been disposed!")}r=s.getAllListeners();for(var a in r){o[a]||(o[a]={});for(l in r[a]){o[a][l]||(o[a][l]=[]);for(var d=0;d<r[a][l].length;d++)-1==o[a][l].indexOf(r[a][l][d])&&this.fail(i+": The event listener '"+l+":"+r[a][l][d]+"'for the object '"+a+":"+qx.core.ObjectRegistry.fromHashCode(a)+"' has not been removed.")}}this.assertIdentical(0,this.getRoot().getChildren().length,i+": The root Children array must be empty but found: "+this.getRoot().getChildren().join(", "))},assertWidgetDispose:function assertWidgetDispose(clazz,args,msg){this.assertDestroy(function(){for(var argStr=[],i=0;i<args.length;i++)argStr.push("qx.test.ui.LayoutTestCase.$$args["+i+"]");qx.test.ui.LayoutTestCase.$$clazz=clazz;qx.test.ui.LayoutTestCase.$$args=args;var str="new qx.test.ui.LayoutTestCase.$$clazz("+argStr.join(", ")+");",widget=eval(str);this.getRoot().add(widget);this.flush();widget.destroy()},this,msg)},_getFixedWidget:function(){var e=new qx.ui.core.Widget;e.set({width:200,height:100,maxWidth:"pref",minWidth:"pref",maxHeight:"pref",minHeight:"pref"});return e},assertSize:function(e,t,i,n){this.flush();var s=e.getContentElement().getDomElement(),r=parseInt(s.style.height,10),o=parseInt(s.style.width,10);this.assertEquals(t,o,n);this.assertEquals(i,r,n)},assertPadding:function(e,t,i,n,s,r){this.flush();this.assertNotNull(e.getContentElement());this.assertNotNull(e.getContentElement().getDomElement());var o=e.getContentElement().getDomElement(),a=parseInt(qx.bom.element.Style.get(o,"paddingTop"),10)||0,l=parseInt(qx.bom.element.Style.get(o,"paddingRight"),10)||0,u=parseInt(qx.bom.element.Style.get(o,"paddingBottom"),10)||0,c=parseInt(qx.bom.element.Style.get(o,"paddingLeft"),10)||0;this.assertEquals(t,a,r);this.assertEquals(i,l,r);this.assertEquals(n,u,r);this.assertEquals(s,c,r)},assertStyle:function(e,t,i,n){this.flush();var s=e.getContentElement().getDomElement(),r=qx.bom.element.Style.get(s,t);i&&t.match(/color/i)?this.assertCssColor(i,r,n):this.assertEquals(i,r,n)},tapOn:function(e){e.fireEvent("tap",qx.event.type.Tap,[{},e,e,!1,!0])}}});qx.test.ui.LayoutTestCase.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Browser",{extend:qx.test.ui.LayoutTestCase,members:{testForIn:function(){var e={234:234,123:123,345:345},t=["234","123","345"];if(-1!=qx.core.Environment.get("browser.name").indexOf("chrome")||"edge"==qx.core.Environment.get("browser.name")||"opera"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.version")>=10.5||"ie"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.documentmode")>=9||"firefox"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.version")>=21||"safari"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.version")>=7){var i=0;for(var n in e){0==i?this.assertEquals("123",n,"1"):1==i?this.assertEquals("234",n,"2"):this.assertEquals("345",n,"3");i++}}else{i=0;for(var n in e){this.assertEquals(t[i],n);i++}}}}});qx.test.Browser.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Theme":{usage:"dynamic",require:!0},"qx.bom.client.Css":{require:!0}},environment:{provided:[],required:{"css.rgba":{load:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.classic.Color",{colors:{background:"#EBE9ED","background-light":"#F3F0F5","light-background":"#EBE9ED","background-focused":"#F3F8FD","background-focused-inner":"#DBEAF9","background-disabled":"#F4F4F4","background-selected":"#3E6CA8","background-field":"white","background-pane":"#FAFBFE","background-invalid":"#FFE0E0","border-lead":"#888888","border-light":"white","border-light-shadow":"#DCDFE4","border-dark-shadow":"#A7A6AA","border-dark":"#85878C","border-main":"#85878C","border-focused-light":"#BCCEE5","border-focused-light-shadow":"#A5BDDE","border-focused-dark-shadow":"#7CA0CF","border-focused-dark":"#3E6CA8","border-separator":"#808080",shadow:qx.core.Environment.get("css.rgba")?"rgba(0, 0, 0, 0.4)":"#666666",invalid:"#990000","border-focused-invalid":"#FF9999",text:"black","text-disabled":"#A7A6AA","text-selected":"white","text-focused":"#3E5B97","text-placeholder":"#CBC8CD",tooltip:"#FFFFE1","tooltip-text":"black","tooltip-invalid":"#C82C2C",button:"#EBE9ED","button-hovered":"#F6F5F7","button-abandoned":"#F9F8E9","button-checked":"#F3F0F5","window-active-caption-text":[255,255,255],"window-inactive-caption-text":[255,255,255],"window-active-caption":[51,94,168],"window-inactive-caption":[111,161,217],"date-chooser":"white","date-chooser-title":[116,116,116],"date-chooser-selected":[52,52,52],effect:[254,200,60],"table-pane":"white","table-header":[242,242,242],"table-header-border":[214,213,217],"table-header-cell":[235,234,219],"table-header-cell-hover":[255,255,255],"table-focus-indicator":[179,217,255],"table-row-background-focused-selected":[90,138,211],"table-row-background-focused":[221,238,255],"table-row-background-selected":[51,94,168],"table-row-background-even":[250,248,243],"table-row-background-odd":[255,255,255],"table-row-selected":[255,255,255],"table-row":[0,0,0],"table-row-line":"#EEE","table-column-line":"#EEE","progressive-table-header":"#AAAAAA","progressive-table-row-background-even":[250,248,243],"progressive-table-row-background-odd":[255,255,255],"progressive-progressbar-background":"gray","progressive-progressbar-indicator-done":"#CCCCCC","progressive-progressbar-indicator-undone":"white","progressive-progressbar-percent-background":"gray","progressive-progressbar-percent-text":"white"}});qx.theme.classic.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.classic.Decoration",{aliases:{decoration:"qx/decoration/Classic"},decorations:{main:{style:{width:1,color:"border-dark"}},"keyboard-focus":{style:{width:1,color:"black",style:"dotted"}},inset:{style:{width:1,innerWidth:1,color:["border-dark-shadow","border-light","border-light","border-dark-shadow"],innerColor:["border-dark","border-light-shadow","border-light-shadow","border-dark"]}},outset:{style:{width:1,innerWidth:1,color:["border-light-shadow","border-dark","border-dark","border-light-shadow"],innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"]}},groove:{style:{width:1,innerWidth:1,color:["border-dark-shadow","border-light","border-light","border-dark-shadow"],innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"]}},ridge:{style:{width:1,innerWidth:1,color:["border-light","border-dark-shadow","border-dark-shadow","border-light"],innerColor:["border-dark-shadow","border-light","border-light","border-dark-shadow"]}},"inset-thin":{style:{width:1,color:["border-dark-shadow","border-light","border-light","border-dark-shadow"]}},"outset-thin":{style:{width:1,color:["border-light","border-dark-shadow","border-dark-shadow","border-light"]}},"focused-inset":{style:{width:1,innerWidth:1,color:["border-focused-dark-shadow","border-focused-light","border-focused-light","border-focused-dark-shadow"],innerColor:["border-focused-dark","border-focused-light-shadow","border-focused-light-shadow","border-focused-dark"]}},"focused-outset":{style:{width:1,innerWidth:1,color:["border-focused-light-shadow","border-focused-dark","border-focused-dark","border-focused-light-shadow"],innerColor:["border-focused-light","border-focused-dark-shadow","border-focused-dark-shadow","border-focused-light"]}},"border-invalid":{style:{width:1,innerWidth:1,color:["border-dark-shadow","border-light","border-light","border-dark-shadow"],innerColor:"invalid"}},"separator-horizontal":{style:{widthLeft:1,colorLeft:"border-separator"}},"separator-vertical":{style:{widthTop:1,colorTop:"border-separator"}},window:{include:"outset",style:{shadowLength:1,shadowBlurRadius:2,shadowColor:"shadow"}},"lead-item":{style:{width:1,style:"dotted",color:"border-lead"}},tooltip:{style:{width:1,color:"tooltip-text",shadowLength:1,shadowBlurRadius:5,shadowColor:"shadow"}},"tooltip-error":{style:{width:1,color:"tooltip-text",shadowLength:1,shadowBlurRadius:5,shadowColor:"shadow"}},popup:{include:"main",style:{shadowLength:2,shadowBlurRadius:2,shadowColor:"shadow"}},"toolbar-separator":{style:{widthLeft:1,colorLeft:"border-dark-shadow"}},"toolbar-part-handle":{style:{width:1,style:"solid",colorTop:"white",colorLeft:"white",colorRight:"border-dark-shadow",colorBottom:"border-dark-shadow"}},menu:{include:"outset",style:{shadowLength:1,shadowBlurRadius:3,shadowColor:"shadow"}},"menu-separator":{style:{widthTop:1,widthBottom:1,colorTop:"border-dark",colorBottom:"border-light"}},"datechooser-date-pane":{style:{widthTop:1,colorTop:"gray",style:"solid"}},"datechooser-weekday":{style:{widthBottom:1,colorBottom:"gray",style:"solid"}},"datechooser-week":{style:{widthRight:1,colorRight:"gray",style:"solid"}},"datechooser-week-header":{style:{widthBottom:1,colorBottom:"gray",widthRight:1,colorRight:"gray",style:"solid"}},"tabview-page-button-top":{style:{width:1,color:["border-light-shadow","border-dark","border-dark","border-light-shadow"],innerWidth:1,innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"],widthBottom:0,innerWidthBottom:0}},"tabview-page-button-bottom":{style:{width:1,color:["border-light-shadow","border-dark","border-dark","border-light-shadow"],innerWidth:1,innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"],widthTop:0,innerWidthTop:0}},"tabview-page-button-left":{style:{width:1,color:["border-light-shadow","border-dark","border-dark","border-light-shadow"],innerWidth:1,innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"],widthRight:0,innerWidthRight:0}},"tabview-page-button-right":{style:{width:1,color:["border-light-shadow","border-dark","border-dark","border-light-shadow"],innerWidth:1,innerColor:["border-light","border-dark-shadow","border-dark-shadow","border-light"],widthLeft:0,innerWidthLeft:0}},"table-statusbar":{style:{widthTop:1,colorTop:"border-dark-shadow",styleTop:"solid"}},"table-scroller-header":{style:{widthBottom:1,colorBottom:"table-header-border",styleBottom:"solid"}},"table-scroller-focus-indicator":{style:{width:2,color:"table-focus-indicator",style:"solid"}},"table-header-cell":{style:{widthRight:1,colorRight:"table-header-border",styleRight:"solid"}},"table-header-cell-hovered":{style:{widthRight:1,colorRight:"table-header-border",styleRight:"solid",widthBottom:2,colorBottom:"effect",styleBottom:"solid"}},progressbar:{style:{backgroundColor:"#FFF",width:1,color:"border-separator"}}}});qx.theme.classic.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.classic.Font",{fonts:{default:{size:11,lineHeight:1.4,family:["Lucida Grande","Tahoma","Verdana","Bitstream Vera Sans","Liberation Sans"]},bold:{size:11,lineHeight:1.4,family:["Lucida Grande","Tahoma","Verdana","Bitstream Vera Sans","Liberation Sans"],bold:!0},small:{size:10,lineHeight:1.4,family:["Lucida Grande","Tahoma","Verdana","Bitstream Vera Sans","Liberation Sans"]},monospace:{size:11,lineHeight:1.4,family:["DejaVu Sans Mono","Courier New","monospace"]}}});qx.theme.classic.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.classic.Appearance",{appearances:{widget:{},label:{style:function(e){return{textColor:e.disabled?"text-disabled":void 0}}},image:{style:function(e){return{opacity:!e.replacement&&e.disabled?.3:void 0}}},atom:{},"atom/label":"label","atom/icon":"image",root:{style:function(e){return{backgroundColor:"background",textColor:"text",font:"default"}}},popup:{style:function(e){return{decorator:"popup",backgroundColor:"background-pane"}}},tooltip:{include:"popup",style:function(e){return{backgroundColor:"tooltip",textColor:"tooltip-text",decorator:"tooltip",padding:[1,3,2,3],offset:[15,5,5,5]}}},"tooltip/atom":"atom","tooltip-error":{include:"tooltip",style:function(e){return{textColor:"text-selected",showTimeout:100,hideTimeout:1e4,decorator:"tooltip-error",font:"bold",backgroundColor:"tooltip-invalid"}}},"tooltip-error/atom":"atom",iframe:{style:function(e){return{backgroundColor:"white",decorator:"inset"}}},"move-frame":{style:function(e){return{decorator:"main"}}},"resize-frame":"move-frame","dragdrop-cursor":{style:function(e){var t="nodrop";e.copy?t="copy":e.move?t="move":e.alias&&(t="alias");return{source:"decoration/cursors/"+t+".gif",position:"right-top",offset:[2,16,2,6]}}},"button-frame":{alias:"atom",style:function(e){if(e.pressed||e.abandoned||e.checked)var t=!e.inner&&e.focused?"focused-inset":"inset",i=[4,3,2,5];else t=!e.inner&&e.focused?"focused-outset":"outset",i=[3,4];return{backgroundColor:e.abandoned?"button-abandoned":e.hovered?"button-hovered":e.checked?"button-checked":"button",decorator:t,padding:i}}},button:{alias:"button-frame",include:"button-frame",style:function(e){return{center:!0}}},"hover-button":{alias:"atom",include:"atom",style:function(e){return{backgroundColor:e.hovered?"background-selected":void 0,textColor:e.hovered?"text-selected":void 0}}},menubutton:{include:"button",alias:"button",style:function(e){return{icon:"decoration/arrows/down.gif",iconPosition:"right"}}},splitbutton:{},"splitbutton/button":"button","splitbutton/arrow":{alias:"button",include:"button",style:function(e){return{icon:"decoration/arrows/down.gif"}}},"scrollarea/corner":{style:function(){return{backgroundColor:"background"}}},scrollarea:"widget","scrollarea/pane":"widget","scrollarea/scrollbar-x":"scrollbar","scrollarea/scrollbar-y":"scrollbar",list:{alias:"scrollarea",style:function(e){var t,i=!!e.focused,n=!!e.invalid,s=!!e.disabled;t=n&&!s?"background-invalid":!i||n||s?s?"background-disabled":"white":"background-focused";return{decorator:e.focused?"focused-inset":"inset",backgroundColor:t}}},listitem:{alias:"atom",style:function(e){return{gap:4,padding:e.lead?[2,4]:[3,5],backgroundColor:e.selected?"background-selected":void 0,textColor:e.selected?"text-selected":void 0,decorator:e.lead?"lead-item":void 0,opacity:e.drag?.5:void 0}}},"form-renderer-label":{include:"label",style:function(){return{paddingTop:4}}},textfield:{style:function(e){var t,i,n=!!e.focused,s=!!e.invalid,r=!!e.disabled;t=s&&!r?"background-invalid":!n||s||r?r?"background-disabled":"background-field":"background-focused";i=e.disabled?"text-disabled":e.showingPlaceholder?"text-placeholder":void 0;return{decorator:e.focused?"focused-inset":"inset",padding:[2,3],textColor:i,backgroundColor:t}}},textarea:"textfield",checkbox:{alias:"atom",style:function(e){var t;e.checked?t=e.disabled?"checkbox-checked":e.focused?"checkbox-checked-focused":e.pressed?"checkbox-checked-pressed":e.hovered?"checkbox-checked-hovered":"checkbox-checked":e.undetermined?t=e.disabled?"checkbox-undetermined":e.focused?"checkbox-undetermined-focused":e.hovered?"checkbox-undetermined-hovered":"checkbox-undetermined":e.disabled||(e.focused?t="checkbox-focused":e.pressed?t="checkbox-pressed":e.hovered&&(t="checkbox-hovered"));return{icon:"decoration/form/"+(t=t||"checkbox")+(e.invalid&&!e.disabled?"-invalid":"")+".png",gap:6}}},radiobutton:{alias:"checkbox",include:"checkbox",style:function(e){return{icon:"decoration/form/"+(e.checked&&e.focused?"radiobutton-checked-focused":e.checked&&e.disabled?"radiobutton-checked-disabled":e.checked&&e.pressed?"radiobutton-checked-pressed":e.checked&&e.hovered?"radiobutton-checked-hovered":e.checked?"radiobutton-checked":e.focused?"radiobutton-focused":e.pressed?"radiobutton-pressed":e.hovered?"radiobutton-hovered":"radiobutton")+(e.invalid&&!e.disabled?"-invalid":"")+".png"}}},spinner:{style:function(e){return{decorator:e.focused?"focused-inset":"inset",textColor:e.disabled?"text-disabled":void 0}}},"spinner/textfield":{include:"textfield",style:function(e){return{decorator:void 0,padding:[2,3]}}},"spinner/upbutton":{alias:"button",include:"button",style:function(e){return{icon:"decoration/arrows/up-small.gif",padding:e.pressed?[2,2,0,4]:[1,3,1,3],backgroundColor:e.hovered?"button-hovered":"button"}}},"spinner/downbutton":{alias:"button",include:"button",style:function(e){return{icon:"decoration/arrows/down-small.gif",padding:e.pressed?[2,2,0,4]:[1,3,1,3],backgroundColor:e.hovered?"button-hovered":"button"}}},datefield:"combobox","datefield/button":{alias:"combobox/button",include:"combobox/button",style:function(e){return{icon:"icon/16/apps/office-calendar.png",padding:[0,3],backgroundColor:void 0,decorator:void 0}}},"datefield/list":{alias:"datechooser",include:"datechooser",style:function(e){return{decorator:e.focused?"focused-inset":"inset"}}},groupbox:{style:function(e){return{backgroundColor:"background"}}},"groupbox/legend":{alias:"atom",style:function(e){return{backgroundColor:"background",textColor:e.invalid?"invalid":void 0,padding:[1,0,1,4]}}},"groupbox/frame":{style:function(e){return{padding:[12,9],marginTop:10,decorator:"groove"}}},"check-groupbox":"groupbox","check-groupbox/legend":{alias:"checkbox",include:"checkbox",style:function(e){return{backgroundColor:"background",textColor:e.invalid?"invalid":void 0,padding:[1,0,1,4]}}},"radio-groupbox":"groupbox","radio-groupbox/legend":{alias:"radiobutton",include:"radiobutton",style:function(e){return{backgroundColor:"background",textColor:e.invalid?"invalid":void 0,padding:[1,0,1,4]}}},toolbar:{style:function(e){return{backgroundColor:"background"}}},"toolbar/part":{},"toolbar/part/container":{},"toolbar/part/handle":{style:function(e){return{decorator:"toolbar-part-handle",backgroundColor:"background",padding:[0,1],margin:[3,2],allowGrowY:!0}}},"toolbar-separator":{style:function(e){return{margin:[3,2],decorator:"toolbar-separator"}}},"toolbar-button":{alias:"atom",style:function(e){if(e.pressed||e.checked||e.abandoned)var t="inset-thin",i=[3,2,1,4];else if(e.hovered&&!e.disabled)t="outset-thin",i=[2,3];else t=void 0,i=[3,4];return{cursor:"default",decorator:t,padding:i,backgroundColor:e.abandoned?"button-abandoned":e.checked?"background-light":"button"}}},"toolbar-menubutton":{alias:"toolbar-button",include:"toolbar-button",style:function(e){return{showArrow:!0}}},"toolbar-menubutton/arrow":{alias:"image",include:"image",style:function(e){return{source:"decoration/arrows/down-small.gif"}}},"toolbar-splitbutton":{},"toolbar-splitbutton/button":"toolbar-button","toolbar-splitbutton/arrow":{alias:"toolbar-button",include:"toolbar-button",style:function(e){return{icon:"decoration/arrows/down.gif"}}},slidebar:{},"slidebar/scrollpane":{},"slidebar/content":{},"slidebar/button-forward":{alias:"button",include:"button",style:function(e){return{icon:e.vertical?"decoration/arrows/down.gif":"decoration/arrows/next.gif"}}},"slidebar/button-backward":{alias:"button",include:"button",style:function(e){return{icon:e.vertical?"decoration/arrows/up.gif":"decoration/arrows/left.gif"}}},tabview:{},"tabview/bar":{alias:"slidebar",style:function(e){var t=0,i=0,n=0,s=0;e.barTop?n=-2:e.barBottom?t=-2:e.barRight?s=-2:i=-2;return{marginBottom:n,marginTop:t,marginLeft:s,marginRight:i}}},"tabview/bar/button-forward":{include:"slidebar/button-forward",alias:"slidebar/button-forward",style:function(e){return e.barTop||e.barBottom?{marginTop:2,marginBottom:2}:{marginLeft:2,marginRight:2}}},"tabview/bar/button-backward":{include:"slidebar/button-backward",alias:"slidebar/button-backward",style:function(e){return e.barTop||e.barBottom?{marginTop:2,marginBottom:2}:{marginLeft:2,marginRight:2}}},"tabview/pane":{style:function(e){return{backgroundColor:"background",decorator:"outset",padding:10}}},"tabview-page":"widget","tabview-page/button":{style:function(e){var t,i=0,n=0,s=0,r=0;if(e.barTop||e.barBottom)var o=2,a=2,l=6,u=6;else o=6,a=6,l=6,u=6;t=e.barTop?"tabview-page-button-top":e.barRight?"tabview-page-button-right":e.barBottom?"tabview-page-button-bottom":"tabview-page-button-left";if(e.checked)if(e.barTop||e.barBottom){l+=2;u+=2}else{o+=2;a+=2}else if(e.barTop||e.barBottom){s+=2;i+=2}else if(e.barLeft||e.barRight){n+=2;r+=2}if(e.checked){e.firstTab||(e.barTop||e.barBottom?r=-4:i=-4);e.lastTab||(e.barTop||e.barBottom?n=-4:s=-4)}return{zIndex:e.checked?10:5,decorator:t,backgroundColor:"background",padding:[o,u,a,l],margin:[i,n,s,r],textColor:e.disabled?"text-disabled":void 0}}},"tabview-page/button/label":{alias:"label",style:function(e){return{padding:e.focused?[0,1,0,1]:[1,2,1,2],decorator:e.focused?"keyboard-focus":void 0}}},"tabview-page/button/icon":"image","tabview-page/button/close-button":{alias:"atom",style:function(e){return{icon:"qx/icon/Oxygen/16/actions/window-close.png"}}},scrollbar:{},"scrollbar/slider":{alias:"slider",style:function(e){return{backgroundColor:"background-light"}}},"scrollbar/slider/knob":{include:"button-frame",style:function(e){return{height:14,width:14,minHeight:e.horizontal?void 0:9,minWidth:e.horizontal?9:void 0}}},"scrollbar/button":{alias:"button",include:"button",style:function(e){var t;t=e.up||e.down?e.pressed||e.abandoned||e.checked?[5,2,3,4]:[4,3]:e.pressed||e.abandoned||e.checked?[4,3,2,5]:[3,4];var i="decoration/arrows/";e.left?i+="left.gif":e.right?i+="right.gif":e.up?i+="up.gif":i+="down.gif";return{padding:t,icon:i}}},"scrollbar/button-begin":"scrollbar/button","scrollbar/button-end":"scrollbar/button",slider:{style:function(e){return{backgroundColor:e.disabled?"background-disabled":e.invalid?"background-invalid":e.focused?"background-light":"background-field",decorator:e.focused?"focused-inset":"inset"}}},"slider/knob":{include:"button-frame",style:function(e){return{width:14,height:14,decorator:"outset"}}},"tree-folder/open":{style:function(e){return{source:e.opened?"decoration/tree/minus.gif":"decoration/tree/plus.gif"}}},"tree-folder":{style:function(e){return{padding:[2,3,2,0],icon:e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png",iconOpened:"icon/16/places/folder-open.png",opacity:e.drag?.5:void 0}}},"tree-folder/icon":{style:function(e){return{padding:[0,4,0,0]}}},"tree-folder/label":{style:function(e){return{padding:[1,2],backgroundColor:e.selected?"background-selected":void 0,textColor:e.selected?"text-selected":void 0}}},"tree-file":{include:"tree-folder",alias:"tree-folder",style:function(e){return{icon:"icon/16/mimetypes/text-plain.png",opacity:e.drag?.5:void 0}}},tree:{include:"list",alias:"list",style:function(e){return{contentPadding:[4,4,4,4]}}},treevirtual:{style:function(e){return{decorator:"main"}}},"treevirtual-folder":{style:function(e){return{icon:e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png",opacity:e.drag?.5:void 0}}},"treevirtual-file":{include:"treevirtual-folder",alias:"treevirtual-folder",style:function(e){return{icon:"icon/16/mimetypes/text-plain.png",opacity:e.drag?.5:void 0}}},"treevirtual-line":{style:function(e){return{icon:"decoration/treevirtual/line.gif"}}},"treevirtual-contract":{style:function(e){return{icon:"decoration/tree/minus.gif"}}},"treevirtual-expand":{style:function(e){return{icon:"decoration/tree/plus.gif"}}},"treevirtual-only-contract":{style:function(e){return{icon:"decoration/treevirtual/only_minus.gif"}}},"treevirtual-only-expand":{style:function(e){return{icon:"decoration/treevirtual/only_plus.gif"}}},"treevirtual-start-contract":{style:function(e){return{icon:"decoration/treevirtual/start_minus.gif"}}},"treevirtual-start-expand":{style:function(e){return{icon:"decoration/treevirtual/start_plus.gif"}}},"treevirtual-end-contract":{style:function(e){return{icon:"decoration/treevirtual/end_minus.gif"}}},"treevirtual-end-expand":{style:function(e){return{icon:"decoration/treevirtual/end_plus.gif"}}},"treevirtual-cross-contract":{style:function(e){return{icon:"decoration/treevirtual/cross_minus.gif"}}},"treevirtual-cross-expand":{style:function(e){return{icon:"decoration/treevirtual/cross_plus.gif"}}},"treevirtual-end":{style:function(e){return{icon:"decoration/treevirtual/end.gif"}}},"treevirtual-cross":{style:function(e){return{icon:"decoration/treevirtual/cross.gif"}}},window:{style:function(e){return{contentPadding:[10,10,10,10],backgroundColor:"background",decorator:e.maximized?void 0:"window"}}},"window-resize-frame":"resize-frame","window/pane":{},"window/captionbar":{style:function(e){return{padding:1,backgroundColor:e.active?"window-active-caption":"window-inactive-caption",textColor:e.active?"window-active-caption-text":"window-inactive-caption-text"}}},"window/icon":{style:function(e){return{marginRight:4}}},"window/title":{style:function(e){return{cursor:"default",font:"bold",marginRight:20,alignY:"middle"}}},"window/minimize-button":{include:"button",alias:"button",style:function(e){return{icon:"decoration/window/minimize.gif",padding:e.pressed||e.abandoned?[2,1,0,3]:[1,2]}}},"window/restore-button":{include:"button",alias:"button",style:function(e){return{icon:"decoration/window/restore.gif",padding:e.pressed||e.abandoned?[2,1,0,3]:[1,2]}}},"window/maximize-button":{include:"button",alias:"button",style:function(e){return{icon:"decoration/window/maximize.gif",padding:e.pressed||e.abandoned?[2,1,0,3]:[1,2]}}},"window/close-button":{include:"button",alias:"button",style:function(e){return{marginLeft:2,icon:"decoration/window/close.gif",padding:e.pressed||e.abandoned?[2,1,0,3]:[1,2]}}},"window/statusbar":{style:function(e){return{decorator:"inset-thin",padding:[2,6]}}},"window/statusbar-text":"label",resizer:{style:function(e){return{decorator:"outset"}}},splitpane:{},"splitpane/splitter":{style:function(e){return{backgroundColor:"background"}}},"splitpane/splitter/knob":{style:function(e){return{source:e.horizontal?"decoration/splitpane/knob-horizontal.png":"decoration/splitpane/knob-vertical.png",padding:2}}},"splitpane/slider":{style:function(e){return{backgroundColor:"border-dark",opacity:.3}}},selectbox:{include:"button-frame",style:function(e){var t="button";e.invalid&&!e.disabled?t="background-invalid":e.abandoned?t="button-abandoned":!e.abandoned&&e.hovered?t="button-hovered":e.abandoned||e.hovered||!e.checked||(t="button-checked");return{backgroundColor:t}}},"selectbox/atom":"atom","selectbox/popup":"popup","selectbox/list":"list","selectbox/arrow":{include:"image",style:function(e){return{source:"decoration/arrows/down.gif",paddingRight:4,paddingLeft:5}}},datechooser:{style:function(e){return{decorator:"outset"}}},"datechooser/navigation-bar":{style:function(e){return{backgroundColor:"date-chooser",textColor:e.disabled?"text-disabled":e.invalid?"invalid":void 0,padding:[2,10]}}},"datechooser/last-year-button-tooltip":"tooltip","datechooser/last-month-button-tooltip":"tooltip","datechooser/next-year-button-tooltip":"tooltip","datechooser/next-month-button-tooltip":"tooltip","datechooser/last-year-button":"datechooser/button","datechooser/last-month-button":"datechooser/button","datechooser/next-year-button":"datechooser/button","datechooser/next-month-button":"datechooser/button","datechooser/button/icon":{},"datechooser/button":{style:function(e){var t={width:17,show:"icon"};e.lastYear?t.icon="decoration/arrows/rewind.gif":e.lastMonth?t.icon="decoration/arrows/left.gif":e.nextYear?t.icon="decoration/arrows/forward.gif":e.nextMonth&&(t.icon="decoration/arrows/right.gif");e.pressed||e.checked||e.abandoned?t.decorator="inset-thin":e.hovered?t.decorator="outset-thin":t.decorator=void 0;e.pressed||e.checked||e.abandoned?t.padding=[2,0,0,2]:e.hovered?t.padding=1:t.padding=2;return t}},"datechooser/month-year-label":{style:function(e){return{font:"bold",textAlign:"center"}}},"datechooser/date-pane":{style:function(e){return{decorator:"datechooser-date-pane",backgroundColor:"date-chooser"}}},"datechooser/weekday":{style:function(e){return{decorator:"datechooser-weekday",font:"bold",textAlign:"center",textColor:e.disabled?"text-disabled":e.weekend?"date-chooser-title":"date-chooser",backgroundColor:e.weekend?"date-chooser":"date-chooser-title"}}},"datechooser/day":{style:function(e){return{textAlign:"center",decorator:e.today?"main":void 0,textColor:e.disabled?"text-disabled":e.selected?"text-selected":e.otherMonth?"text-disabled":void 0,backgroundColor:e.disabled?void 0:e.selected?"date-chooser-selected":void 0,padding:[2,4]}}},"datechooser/week":{style:function(e){return{textAlign:"center",textColor:"date-chooser-title",padding:[2,4],decorator:e.header?"datechooser-week-header":"datechooser-week"}}},combobox:{style:function(e){var t;t=e.disabled?"background-disabled":e.invalid?"background-invalid":e.focused?"background-focused":"background-field";return{decorator:e.focused?"focused-inset":"inset",textColor:e.disabled?"text-disabled":void 0,backgroundColor:t}}},"combobox/button":{alias:"button",include:"button",style:function(e){return{icon:"decoration/arrows/down.gif",backgroundColor:e.hovered?"button-hovered":"button"}}},"combobox/popup":"popup","combobox/list":"list","combobox/textfield":{include:"textfield",style:function(e){return{decorator:void 0,padding:[2,3],backgroundColor:void 0}}},menu:{style:function(e){var t={backgroundColor:"background",decorator:"menu",spacingX:6,spacingY:1,iconColumnWidth:16,arrowColumnWidth:4,padding:1,placementModeY:e.submenu||e.contextmenu?"best-fit":"keep-align"};if(e.submenu){t.position="right-top";t.offset=[-2,-3]}e.contextmenu&&(t.offset=4);return t}},"menu/slidebar":"menu-slidebar","menu-slidebar":"widget","menu-slidebar-button":{style:function(e){return{backgroundColor:e.hovered?"background-selected":void 0,padding:6,center:!0}}},"menu-slidebar/button-backward":{include:"menu-slidebar-button",style:function(e){return{icon:e.hovered?"decoration/arrows/up-invert.gif":"decoration/arrows/up.gif"}}},"menu-slidebar/button-forward":{include:"menu-slidebar-button",style:function(e){return{icon:e.hovered?"decoration/arrows/down-invert.gif":"decoration/arrows/down.gif"}}},"menu-separator":{style:function(e){return{height:0,decorator:"menu-separator",marginTop:4,marginBottom:4,marginLeft:2,marginRight:2}}},"menu-button":{alias:"atom",style:function(e){return{backgroundColor:e.selected?"background-selected":void 0,textColor:e.selected?"text-selected":void 0,padding:[2,6]}}},"menu-button/icon":{include:"image",style:function(e){return{alignY:"middle"}}},"menu-button/label":{include:"label",style:function(e){return{alignY:"middle",padding:1}}},"menu-button/shortcut":{include:"label",style:function(e){return{alignY:"middle",marginLeft:14,padding:1}}},"menu-button/arrow":{include:"image",style:function(e){return{source:e.selected?"decoration/arrows/right-invert.gif":"decoration/arrows/right.gif",alignY:"middle"}}},"menu-checkbox":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?e.selected?"decoration/menu/checkbox-invert.gif":"decoration/menu/checkbox.gif":void 0}}},"menu-radiobutton":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?e.selected?"decoration/menu/radiobutton-invert.gif":"decoration/menu/radiobutton.gif":void 0}}},menubar:{style:function(e){return{backgroundColor:"background",decorator:"outset"}}},"menubar-button":{alias:"atom",style:function(e){return{padding:[2,6],backgroundColor:e.pressed||e.hovered&&!e.disabled?"background-selected":void 0,textColor:e.pressed||e.hovered?"text-selected":void 0}}},colorselector:"widget","colorselector/control-bar":"widget","colorselector/visual-pane":"groupbox","colorselector/control-pane":"widget","colorselector/preset-grid":"widget","colorselector/colorbucket":{style:function(e){return{decorator:"inset-thin",width:16,height:16}}},"colorselector/preset-field-set":"groupbox","colorselector/input-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:12}}},"colorselector/preview-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:12}}},"colorselector/hex-field-composite":"widget","colorselector/hex-field":"textfield","colorselector/rgb-spinner-composite":"widget","colorselector/rgb-spinner-red":"spinner","colorselector/rgb-spinner-green":"spinner","colorselector/rgb-spinner-blue":"spinner","colorselector/hsb-spinner-composite":"widget","colorselector/hsb-spinner-hue":"spinner","colorselector/hsb-spinner-saturation":"spinner","colorselector/hsb-spinner-brightness":"spinner","colorselector/preview-content-old":{style:function(e){return{decorator:"inset-thin",width:50,height:10}}},"colorselector/preview-content-new":{style:function(e){return{decorator:"inset-thin",backgroundColor:"white",width:50,height:10}}},"colorselector/hue-saturation-field":{style:function(e){return{decorator:"inset-thin",margin:5}}},"colorselector/brightness-field":{style:function(e){return{decorator:"inset-thin",margin:[5,7]}}},"colorselector/hue-saturation-pane":"widget","colorselector/hue-saturation-handle":"widget","colorselector/brightness-pane":"widget","colorselector/brightness-handle":"widget",table:"widget","table/statusbar":{style:function(e){return{decorator:"table-statusbar",paddingLeft:2,paddingRight:2}}},"table/column-button":{alias:"button",style:function(e){var t,i;if(e.pressed||e.checked||e.abandoned){t="inset-thin";i=[3,2,1,4]}else if(e.hovered){t="outset-thin";i=[2,3]}else{t=void 0;i=[3,4]}return{decorator:t,padding:i,backgroundColor:e.abandoned?"button-abandoned":"button",icon:"decoration/table/select-column-order.png"}}},"table-column-reset-button":{extend:"menu-button",alias:"menu-button",style:function(){return{icon:"icon/16/actions/view-refresh.png"}}},"table-scroller/scrollbar-x":"scrollbar","table-scroller/scrollbar-y":"scrollbar","table-scroller":"widget","table-scroller/header":{style:function(e){return{decorator:"table-scroller-header",backgroundColor:"table-header"}}},"table-scroller/pane":{style:function(e){return{backgroundColor:"table-pane"}}},"table-scroller/focus-indicator":{style:function(e){return{decorator:"table-scroller-focus-indicator"}}},"table-scroller/resize-line":{style:function(e){return{backgroundColor:"table-header-border",width:3}}},"table-header-cell":{alias:"atom",style:function(e){return{minWidth:13,paddingLeft:2,paddingRight:2,paddingBottom:e.hovered?0:2,decorator:e.hovered?"table-header-cell-hovered":"table-header-cell",backgroundColor:e.hovered?"table-header-cell-hover":"table-header-cell",sortIcon:e.sorted?e.sortedAscending?"decoration/table/ascending.png":"decoration/table/descending.png":void 0}}},"table-header-cell/icon":{style:function(e){return{marginRight:4,opacity:e.disabled?.3:1}}},"table-header-cell/sort-icon":{style:function(e){return{alignY:"middle",opacity:e.disabled?.3:1}}},"table-editor-textfield":{include:"textfield",style:function(e){return{decorator:void 0,padding:[2,2]}}},"table-editor-selectbox":{include:"selectbox",alias:"selectbox",style:function(e){return{padding:[0,2]}}},"table-editor-combobox":{include:"combobox",alias:"combobox",style:function(e){return{decorator:void 0}}},"progressive-table-header":{alias:"table-scroller/header"},"progressive-table-header-cell":{style:function(e){return{decorator:"table-header-cell",backgroundColor:"table-header-cell",padding:[0,6,0,6]}}},colorpopup:{alias:"popup",include:"popup",style:function(e){return{decorator:"outset",padding:5,backgroundColor:"background"}}},"colorpopup/field":{style:function(e){return{decorator:"inset-thin",margin:2,width:14,height:14,backgroundColor:"background"}}},"colorpopup/selector-button":"button","colorpopup/auto-button":"button","colorpopup/preview-pane":"groupbox","colorpopup/current-preview":{style:function(e){return{height:20,padding:4,marginLeft:4,decorator:"inset-thin",allowGrowX:!0}}},"colorpopup/selected-preview":{style:function(e){return{height:20,padding:4,marginRight:4,decorator:"inset-thin",allowGrowX:!0}}},"colorpopup/colorselector-okbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-ok.png"}}},"colorpopup/colorselector-cancelbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-cancel.png"}}},"virtual-list":"list","virtual-list/row-layer":"row-layer","row-layer":"widget","column-layer":"widget","group-item":{include:"label",alias:"label",style:function(e){return{padding:4,backgroundColor:"#BABABA",textColor:"white",font:"bold"}}},"virtual-selectbox":"selectbox","virtual-selectbox/dropdown":"popup","virtual-selectbox/dropdown/list":{alias:"virtual-list"},"virtual-combobox":"combobox","virtual-combobox/dropdown":"popup","virtual-combobox/dropdown/list":{alias:"virtual-list"},"virtual-tree":{include:"tree",alias:"tree",style:function(e){return{itemHeight:21}}},"virtual-tree-folder":"tree-folder","virtual-tree-file":"tree-file",cell:{style:function(e){return{backgroundColor:e.selected?"table-row-background-selected":"table-row-background-even",textColor:e.selected?"text-selected":"text",padding:[3,6]}}},"cell-string":"cell","cell-number":{include:"cell",style:function(e){return{textAlign:"right"}}},"cell-image":"cell","cell-boolean":"cell","cell-atom":"cell","cell-date":"cell","cell-html":"cell",progressbar:{style:function(e){return{decorator:"progressbar",padding:[1],backgroundColor:"white",width:200,height:20}}},"progressbar/progress":{style:function(e){return{backgroundColor:e.disabled?"background-disabled":"background-selected"}}},"app-header":{style:function(e){return{textColor:"text-selected",backgroundColor:"background-selected",padding:[8,12]}}},"app-header-label":"label","app-splitpane":{alias:"splitpane",style:function(e){return{padding:[0,10,10,10],backgroundColor:"light-background"}}}}});qx.theme.classic.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.icon.Oxygen",{title:"Oxygen",aliases:{icon:"qx/icon/Oxygen"}});qx.theme.icon.Oxygen.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.classic.Color":{require:!0},"qx.theme.classic.Decoration":{require:!0},"qx.theme.classic.Font":{require:!0},"qx.theme.classic.Appearance":{require:!0},"qx.theme.icon.Oxygen":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.Classic",{title:"Classic Windows",meta:{color:qx.theme.classic.Color,decoration:qx.theme.classic.Decoration,font:qx.theme.classic.Font,appearance:qx.theme.classic.Appearance,icon:qx.theme.icon.Oxygen}});qx.theme.Classic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MChildrenHandling",{members:{getChildren:function(){return this._getChildren()},hasChildren:function(){return this._hasChildren()},indexOf:function(e){return this._indexOf(e)},add:function(e,t){this._add(e,t)},addAt:function(e,t,i){this._addAt(e,t,i)},addBefore:function(e,t,i){this._addBefore(e,t,i)},addAfter:function(e,t,i){this._addAfter(e,t,i)},remove:function(e){this._remove(e)},removeAt:function(e){return this._removeAt(e)},removeAll:function(){return this._removeAll()}},statics:{remap:function(e){e.getChildren=e._getChildren;e.hasChildren=e._hasChildren;e.indexOf=e._indexOf;e.add=e._add;e.addAt=e._addAt;e.addBefore=e._addBefore;e.addAfter=e._addAfter;e.remove=e._remove;e.removeAt=e._removeAt;e.removeAll=e._removeAll}}});qx.ui.core.MChildrenHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.Blocker":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MBlocker",{properties:{blockerColor:{check:"Color",init:null,nullable:!0,apply:"_applyBlockerColor",themeable:!0},blockerOpacity:{check:"Number",init:1,apply:"_applyBlockerOpacity",themeable:!0}},members:{__blocker:null,_createBlocker:function(){return new qx.ui.core.Blocker(this)},_applyBlockerColor:function(e,t){this.getBlocker().setColor(e)},_applyBlockerOpacity:function(e,t){this.getBlocker().setOpacity(e)},block:function(){this.getBlocker().block()},isBlocked:function(){return this.__blocker&&this.__blocker.isBlocked()},unblock:function(){this.__blocker&&this.__blocker.unblock()},forceUnblock:function(){this.__blocker&&this.__blocker.forceUnblock()},blockContent:function(e){this.getBlocker().blockContent(e)},getBlocker:function(){this.__blocker||(this.__blocker=this._createBlocker());return this.__blocker}},destruct:function(){this._disposeObjects("__blocker")}});qx.ui.core.MBlocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.Class":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.window.MDesktop",{properties:{activeWindow:{check:"qx.ui.window.Window",apply:"_applyActiveWindow",event:"changeActiveWindow",init:null,nullable:!0}},events:{windowAdded:"qx.event.type.Data",windowRemoved:"qx.event.type.Data"},members:{__windows:null,__manager:null,getWindowManager:function(){this.__manager||this.setWindowManager(new qx.ui.window.Window.DEFAULT_MANAGER_CLASS);return this.__manager},supportsMaximize:function(){return!0},setWindowManager:function(e){this.__manager&&this.__manager.setDesktop(null);e.setDesktop(this);this.__manager=e},_onChangeActive:function(e){e.getData()?this.setActiveWindow(e.getTarget()):this.getActiveWindow()==e.getTarget()&&this.setActiveWindow(null)},_applyActiveWindow:function(e,t){this.getWindowManager().changeActiveWindow(e,t);this.getWindowManager().updateStack()},_onChangeModal:function(e){this.getWindowManager().updateStack()},_onChangeVisibility:function(){this.getWindowManager().updateStack()},_afterAddChild:function(e){qx.Class.isDefined("qx.ui.window.Window")&&e instanceof qx.ui.window.Window&&this._addWindow(e)},_addWindow:function(e){if(!this.getWindows().includes(e)){this.getWindows().push(e);this.fireDataEvent("windowAdded",e);e.addListener("changeActive",this._onChangeActive,this);e.addListener("changeModal",this._onChangeModal,this);e.addListener("changeVisibility",this._onChangeVisibility,this)}e.getActive()&&this.setActiveWindow(e);this.getWindowManager().updateStack()},_afterRemoveChild:function(e){qx.Class.isDefined("qx.ui.window.Window")&&e instanceof qx.ui.window.Window&&this._removeWindow(e)},_removeWindow:function(e){if(this.getWindows().includes(e)){qx.lang.Array.remove(this.getWindows(),e);this.fireDataEvent("windowRemoved",e);e.removeListener("changeActive",this._onChangeActive,this);e.removeListener("changeModal",this._onChangeModal,this);e.removeListener("changeVisibility",this._onChangeVisibility,this);this.getWindowManager().updateStack()}},getWindows:function(){this.__windows||(this.__windows=[]);return this.__windows}},destruct:function(){this._disposeArray("__windows");this._disposeObjects("__manager")}});qx.ui.window.MDesktop.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{defer:"runtime",require:!0},"qx.ui.core.MBlocker":{require:!0},"qx.ui.window.MDesktop":{require:!0},"qx.ui.core.FocusHandler":{construct:!0},"qx.ui.core.queue.Visibility":{construct:!0},"qx.bom.client.Engine":{require:!0},"qx.bom.Stylesheet":{},"qx.bom.element.Cursor":{},"qx.dom.Node":{},"qx.bom.client.Event":{},"qx.bom.Event":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"event.help":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.root.Abstract",{type:"abstract",extend:qx.ui.core.Widget,include:[qx.ui.core.MChildrenHandling,qx.ui.core.MBlocker,qx.ui.window.MDesktop],construct:function(){qx.ui.core.Widget.constructor.call(this);qx.ui.core.FocusHandler.getInstance().addRoot(this);qx.ui.core.queue.Visibility.add(this);this.initNativeHelp();this.addListener("keypress",this.__preventScrollWhenFocused,this)},properties:{appearance:{refine:!0,init:"root"},enabled:{refine:!0,init:!0},focusable:{refine:!0,init:!0},globalCursor:{check:"String",nullable:!0,themeable:!0,apply:"_applyGlobalCursor",event:"changeGlobalCursor"},nativeContextMenu:{refine:!0,init:!1},nativeHelp:{check:"Boolean",init:!1,apply:"_applyNativeHelp"}},members:{__globalCursorStyleSheet:null,isRootWidget:function(){return!0},getLayout:function(){return this._getLayout()},_applyGlobalCursor:qx.core.Environment.select("engine.name",{mshtml:function(e,t){},default:function(e,t){var i=qx.bom.Stylesheet,n=this.__globalCursorStyleSheet;n||(this.__globalCursorStyleSheet=n=i.createElement());i.removeAllRules(n);e&&i.addRule(n,"*",qx.bom.element.Cursor.compile(e).replace(";","")+" !important")}}),_applyNativeContextMenu:function(e,t){e?this.removeListener("contextmenu",this._onNativeContextMenu,this,!0):this.addListener("contextmenu",this._onNativeContextMenu,this,!0)},_onNativeContextMenu:function(e){e.getTarget().getNativeContextMenu()||e.preventDefault()},__preventScrollWhenFocused:function(e){if("Space"===e.getKeyIdentifier()){var t=e.getTarget();if(qx.ui.core.FocusHandler.getInstance().isFocused(t)){var i=t.getContentElement(),n=i.getNodeName(),s=i.getDomElement();"input"===n||"textarea"===n||s&&"true"===s.contentEditable||(n=qx.dom.Node.getName(e.getOriginalTarget()))&&["input","textarea","select","a"].indexOf(n)>-1||e.preventDefault()}}},_applyNativeHelp:function(e,t){if(qx.core.Environment.get("event.help")){!1===t&&qx.bom.Event.removeNativeListener(document,"help",function(){return!1});!1===e&&qx.bom.Event.addNativeListener(document,"help",function(){return!1})}}},destruct:function(){this.__globalCursorStyleSheet=null},defer:function(e,t){qx.ui.core.MChildrenHandling.remap(t)}});qx.ui.root.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.element.Location":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.FocusHandler",{extend:qx.core.Object,type:"singleton",construct:function(){qx.core.Object.constructor.call(this);this.__roots={}},members:{__roots:null,__activeChild:null,__focusedChild:null,__currentRoot:null,connectTo:function(e){e.addListener("keypress",this.__onKeyPress,this);e.addListener("focusin",this._onFocusIn,this,!0);e.addListener("focusout",this._onFocusOut,this,!0);e.addListener("activate",this._onActivate,this,!0);e.addListener("deactivate",this._onDeactivate,this,!0)},addRoot:function(e){this.__roots[e.toHashCode()]=e},removeRoot:function(e){delete this.__roots[e.toHashCode()]},getActiveWidget:function(){return this.__activeChild},isActive:function(e){return this.__activeChild==e},getFocusedWidget:function(){return this.__focusedChild},isFocused:function(e){return this.__focusedChild==e},isFocusRoot:function(e){return!!this.__roots[e.toHashCode()]},_onActivate:function(e){var t=e.getTarget();this.__activeChild=t;var i=this.__findFocusRoot(t);i!=this.__currentRoot&&(this.__currentRoot=i)},_onDeactivate:function(e){var t=e.getTarget();this.__activeChild==t&&(this.__activeChild=null)},_onFocusIn:function(e){var t=e.getTarget();if(t!=this.__focusedChild){this.__focusedChild=t;t.visualizeFocus()}},_onFocusOut:function(e){var t=e.getTarget();if(t==this.__focusedChild){this.__focusedChild=null;t.visualizeBlur()}},__onKeyPress:function(e){if("Tab"==e.getKeyIdentifier()&&this.__currentRoot){e.stopPropagation();e.preventDefault();var t=this.__focusedChild;if(e.isShiftPressed())i=t?this.__getWidgetBefore(t):this.__getLastWidget();else var i=t?this.__getWidgetAfter(t):this.__getFirstWidget();i&&i.tabFocus()}},__findFocusRoot:function(e){for(var t=this.__roots;e;){if(t[e.toHashCode()])return e;e=e.getLayoutParent()}return null},__compareTabOrder:function(e,t){if(e===t)return 0;var i=e.getTabIndex()||0,n=t.getTabIndex()||0;if(i!=n)return i-n;var s=e.getContentElement().getDomElement(),r=t.getContentElement().getDomElement(),o=qx.bom.element.Location,a=o.get(s),l=o.get(r);if(a.top!=l.top)return a.top-l.top;if(a.left!=l.left)return a.left-l.left;var u=e.getZIndex(),c=t.getZIndex();return u!=c?u-c:0},__getFirstWidget:function(){return this.__getFirst(this.__currentRoot,null)},__getLastWidget:function(){return this.__getLast(this.__currentRoot,null)},__getWidgetAfter:function(e){var t=this.__currentRoot;if(t==e)return this.__getFirstWidget();for(;e&&e.getAnonymous();)e=e.getLayoutParent();if(null==e)return[];var i=[];this.__collectAllAfter(t,e,i);i.sort(this.__compareTabOrder);return i.length>0?i[0]:this.__getFirstWidget()},__getWidgetBefore:function(e){var t=this.__currentRoot;if(t==e)return this.__getLastWidget();for(;e&&e.getAnonymous();)e=e.getLayoutParent();if(null==e)return[];var i=[];this.__collectAllBefore(t,e,i);i.sort(this.__compareTabOrder);var n=i.length;return n>0?i[n-1]:this.__getLastWidget()},__collectAllAfter:function(e,t,i){for(var n,s=e.getLayoutChildren(),r=0,o=s.length;r<o;r++)if((n=s[r])instanceof qx.ui.core.Widget&&!this.isFocusRoot(n)&&n.isEnabled()&&n.isVisible()){n.isTabable()&&this.__compareTabOrder(t,n)<0&&i.push(n);this.__collectAllAfter(n,t,i)}},__collectAllBefore:function(e,t,i){for(var n,s=e.getLayoutChildren(),r=0,o=s.length;r<o;r++)if((n=s[r])instanceof qx.ui.core.Widget&&!this.isFocusRoot(n)&&n.isEnabled()&&n.isVisible()){n.isTabable()&&this.__compareTabOrder(t,n)>0&&i.push(n);this.__collectAllBefore(n,t,i)}},__getFirst:function(e,t){for(var i,n=e.getLayoutChildren(),s=0,r=n.length;s<r;s++)if((i=n[s])instanceof qx.ui.core.Widget&&!this.isFocusRoot(i)&&i.isEnabled()&&i.isVisible()){i.isTabable()&&(null==t||this.__compareTabOrder(i,t)<0)&&(t=i);t=this.__getFirst(i,t)}return t},__getLast:function(e,t){for(var i,n=e.getLayoutChildren(),s=0,r=n.length;s<r;s++)if((i=n[s])instanceof qx.ui.core.Widget&&!this.isFocusRoot(i)&&i.isEnabled()&&i.isVisible()){i.isTabable()&&(null==t||this.__compareTabOrder(i,t)>0)&&(t=i);t=this.__getLast(i,t)}return t}},destruct:function(){this._disposeMap("__roots");this.__focusedChild=this.__activeChild=this.__currentRoot=null}});qx.ui.core.FocusHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Window":{require:!0},"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.root.Abstract":{construct:!0,require:!0},"qx.dom.Node":{construct:!0},"qx.event.Registration":{construct:!0},"qx.ui.layout.Canvas":{construct:!0},"qx.ui.core.queue.Layout":{construct:!0},"qx.ui.core.FocusHandler":{construct:!0},"qx.bom.client.OperatingSystem":{construct:!0},"qx.ui.core.Widget":{construct:!0},"qx.bom.client.Engine":{},"qx.html.Root":{},"qx.bom.Viewport":{},"qx.bom.element.Style":{},"qx.dom.Element":{}},environment:{provided:[],required:{"os.name":{construct:!0,className:"qx.bom.client.OperatingSystem"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.root.Application",{extend:qx.ui.root.Abstract,construct:function(e){this.__window=qx.dom.Node.getWindow(e);this.__doc=e;qx.ui.root.Abstract.constructor.call(this);qx.event.Registration.addListener(this.__window,"resize",this._onResize,this);this._setLayout(new qx.ui.layout.Canvas);qx.ui.core.queue.Layout.add(this);qx.ui.core.FocusHandler.getInstance().connectTo(this);this.getContentElement().disableScrolling();this.getContentElement().setStyle("-webkit-backface-visibility","hidden");this.addListener("touchmove",this.__stopScrolling,this);"ios"==qx.core.Environment.get("os.name")&&this.getContentElement().addListener("tap",function(e){for(var t=qx.ui.core.Widget.getWidgetByElement(e.getTarget());t&&!t.isFocusable();)t=t.getLayoutParent();t&&t.isFocusable()&&t.getContentElement().focus()},this,!0)},members:{__window:null,__doc:null,_createContentElement:function(){var e=this.__doc;"webkit"==qx.core.Environment.get("engine.name")&&(e.body||alert("The application could not be started due to a missing body tag in the HTML file!"));var t=e.documentElement.style,i=e.body.style;t.overflow=i.overflow="hidden";t.padding=t.margin=i.padding=i.margin="0px";t.width=t.height=i.width=i.height="100%";var n=e.createElement("div");e.body.appendChild(n);var s=new qx.html.Root(n);s.setStyles({position:"absolute",overflowX:"hidden",overflowY:"hidden"});s.connectWidget(this);return s},_onResize:function(e){qx.ui.core.queue.Layout.add(this);qx.ui.popup&&qx.ui.popup.Manager&&qx.ui.popup.Manager.getInstance().hideAll();qx.ui.menu&&qx.ui.menu.Manager&&qx.ui.menu.Manager.getInstance().hideAll()},_computeSizeHint:function(){var e=qx.bom.Viewport.getWidth(this.__window),t=qx.bom.Viewport.getHeight(this.__window);return{minWidth:e,width:e,maxWidth:e,minHeight:t,height:t,maxHeight:t}},_applyPadding:function(e,t,i){if(e&&("paddingTop"==i||"paddingLeft"==i))throw new Error("The root widget does not support 'left', or 'top' paddings!");qx.ui.root.Application.prototype._applyPadding.base.call(this,e,t,i)},__stopScrolling:function(e){for(var t=e.getOriginalTarget();t&&t.style;){var i="none"!==qx.bom.element.Style.get(t,"touch-action")&&""!==qx.bom.element.Style.get(t,"touch-action"),n="touch"===qx.bom.element.Style.get(t,"-webkit-overflow-scrolling"),s="hidden"!=qx.bom.element.Style.get(t,"overflowX"),r="hidden"!=qx.bom.element.Style.get(t,"overflowY");if(i||n||r||s)return;t=t.parentNode}e.preventDefault()},destroy:function(){if(!this.$$disposed){qx.dom.Element.remove(this.getContentElement().getDomElement());qx.ui.root.Application.prototype.destroy.base.call(this)}}},destruct:function(){this.__window=this.__doc=null}});qx.ui.root.Application.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",construct:!0,require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.theme.manager.Meta":{construct:!0},"qx.theme.manager.Color":{},"qx.event.Registration":{},"qx.event.handler.Focus":{},"qx.ui.core.Widget":{},"qx.html.Blocker":{},"qx.event.type.Event":{},"qx.ui.core.FocusHandler":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.Blocker",{extend:qx.core.Object,events:{blocked:"qx.event.type.Event",unblocked:"qx.event.type.Event"},construct:function(e){qx.core.Object.constructor.call(this);this._widget=e;e.addListener("resize",this.__onBoundsChange,this);e.addListener("move",this.__onBoundsChange,this);e.addListener("disappear",this.__onWidgetDisappear,this);if(qx.Class.isDefined("qx.ui.root.Abstract")&&e instanceof qx.ui.root.Abstract){this._isRoot=!0;this.setKeepBlockerActive(!0)}qx.theme.manager.Meta.getInstance().addListener("changeTheme",this._onChangeTheme,this);this.__activeElements=[];this.__focusElements=[]},properties:{color:{check:"Color",init:null,nullable:!0,apply:"_applyColor",themeable:!0},opacity:{check:"Number",init:1,apply:"_applyOpacity",themeable:!0},keepBlockerActive:{check:"Boolean",init:!1}},members:{__blocker:null,__blockerCount:0,__activeElements:null,__focusElements:null,__timer:null,_widget:null,_isRoot:!1,__appearListener:null,__onBoundsChange:function(e){var t=e.getData();this.isBlocked()&&this._updateBlockerBounds(t)},__onWidgetAppear:function(){this._updateBlockerBounds(this._widget.getBounds());this._widget.isRootWidget()?this._widget.getContentElement().add(this.getBlockerElement()):this._widget.getLayoutParent().getContentElement().add(this.getBlockerElement())},__onWidgetDisappear:function(){if(this.isBlocked()){this.getBlockerElement().getParent().remove(this.getBlockerElement());this._widget.addListenerOnce("appear",this.__onWidgetAppear,this)}},_updateBlockerBounds:function(e){this.getBlockerElement().setStyles({width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px"})},_applyColor:function(e,t){var i=qx.theme.manager.Color.getInstance().resolve(e);this.__setBlockersStyle("backgroundColor",i)},_applyOpacity:function(e,t){this.__setBlockersStyle("opacity",e)},_onChangeTheme:function(){this._applyColor(this.getColor())},__setBlockersStyle:function(e,t){var i=[];this.__blocker&&i.push(this.__blocker);for(var n=0;n<i.length;n++)i[n].setStyle(e,t)},_backupActiveWidget:function(){var e=qx.event.Registration.getManager(window).getHandler(qx.event.handler.Focus),t=qx.ui.core.Widget.getWidgetByElement(e.getActive()),i=qx.ui.core.Widget.getWidgetByElement(e.getFocus());this.__activeElements.push(t);this.__focusElements.push(i);t&&t.deactivate();i&&i.isFocusable()&&i.blur()},_restoreActiveWidget:function(){var e;this.__focusElements.length>0&&(e=this.__focusElements.pop())&&!e.isDisposed()&&e.isFocusable()&&e.focus();this.__activeElements.length>0&&(e=this.__activeElements.pop())&&!e.isDisposed()&&e.activate()},__createBlockerElement:function(){return new qx.html.Blocker(this.getColor(),this.getOpacity())},getBlockerElement:function(e){if(!this.__blocker){this.__blocker=this.__createBlockerElement();this.__blocker.setStyle("zIndex",15);e||(e=this._isRoot?this._widget:this._widget.getLayoutParent());e.getContentElement().add(this.__blocker);this.__blocker.exclude()}return this.__blocker},block:function(){this._block()},_block:function(e,t){if(this._isRoot||this._widget.getLayoutParent()){var i;i=this._isRoot||t?this._widget:this._widget.getLayoutParent();var n=this.getBlockerElement(i);null!=e&&n.setStyle("zIndex",e);this.__blockerCount++;if(this.__blockerCount<2){this._backupActiveWidget();var s=this._widget.getBounds();s&&this._updateBlockerBounds(s);n.include();t||n.activate();n.addListener("deactivate",this.__activateBlockerElement,this);n.addListener("keypress",this.__stopTabEvent,this);n.addListener("keydown",this.__stopTabEvent,this);n.addListener("keyup",this.__stopTabEvent,this);this.fireEvent("blocked",qx.event.type.Event)}}else this.__appearListener||(this.__appearListener=this._widget.addListenerOnce("appear",this._block.bind(this,e)))},isBlocked:function(){return this.__blockerCount>0},unblock:function(){if(this.__appearListener){this._widget.removeListenerById(this.__appearListener);this.__appearListener=null}if(this.isBlocked()){this.__blockerCount--;if(this.__blockerCount<1){this.__unblock();this.__blockerCount=0}}},forceUnblock:function(){if(this.__appearListener){this._widget.removeListenerById(this.__appearListener);this.__appearListener=null}if(this.isBlocked()){this.__blockerCount=0;this.__unblock()}},__unblock:function(){this._restoreActiveWidget();var e=this.getBlockerElement();e.removeListener("deactivate",this.__activateBlockerElement,this);e.removeListener("keypress",this.__stopTabEvent,this);e.removeListener("keydown",this.__stopTabEvent,this);e.removeListener("keyup",this.__stopTabEvent,this);e.exclude();this.fireEvent("unblocked",qx.event.type.Event)},blockContent:function(e){this._block(e,!0)},__stopTabEvent:function(e){"Tab"==e.getKeyIdentifier()&&e.stop()},__activateBlockerElement:function(){this.getKeepBlockerActive()&&!qx.ui.core.FocusHandler.getInstance().isFocusRoot(this._widget)&&this.getBlockerElement().activate()}},destruct:function(){qx.theme.manager.Meta.getInstance().removeListener("changeTheme",this._onChangeTheme,this);this._widget.removeListener("resize",this.__onBoundsChange,this);this._widget.removeListener("move",this.__onBoundsChange,this);this._widget.removeListener("appear",this.__onWidgetAppear,this);this._widget.removeListener("disappear",this.__onWidgetDisappear,this);this.__appearListener&&this._widget.removeListenerById(this.__appearListener);this._disposeObjects("__blocker","__timer");this.__activeElements=this.__focusElements=this._widget=null}});qx.ui.core.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0},"qx.ui.layout.Util":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Canvas",{extend:qx.ui.layout.Abstract,properties:{desktop:{check:"Boolean",init:!1}},members:{verifyLayoutProperty:function(e,t,i){this.assert(1=={top:1,left:1,bottom:1,right:1,width:1,height:1,edge:1}[t],"The property '"+t+"' is not supported by the Canvas layout!");"width"==t||"height"==t?this.assertMatch(i,qx.ui.layout.Util.PERCENT_VALUE):"number"==typeof i?this.assertInteger(i):qx.lang.Type.isString(i)?this.assertMatch(i,qx.ui.layout.Util.PERCENT_VALUE):this.fail("Bad format of layout property '"+t+"': "+i+". The value must be either an integer or an percent string.")},renderLayout:function(e,t,i){for(var n,s,r,o,a,l,u,c,d,h,g,m,f,p=this._getLayoutChildren(),_=0,x=p.length;_<x;_++){s=(n=p[_]).getSizeHint();r=n.getLayoutProperties();h=n.getMarginTop();g=n.getMarginRight();m=n.getMarginBottom();f=n.getMarginLeft();o=null!=r.left?r.left:r.edge;qx.lang.Type.isString(o)&&(o=Math.round(parseFloat(o)*e/100));l=null!=r.right?r.right:r.edge;qx.lang.Type.isString(l)&&(l=Math.round(parseFloat(l)*e/100));a=null!=r.top?r.top:r.edge;qx.lang.Type.isString(a)&&(a=Math.round(parseFloat(a)*t/100));u=null!=r.bottom?r.bottom:r.edge;qx.lang.Type.isString(u)&&(u=Math.round(parseFloat(u)*t/100));if(null!=o&&null!=l){(c=e-o-l-f-g)<s.minWidth?c=s.minWidth:c>s.maxWidth&&(c=s.maxWidth);o+=f}else{null==(c=r.width)?c=s.width:(c=Math.round(parseFloat(c)*e/100))<s.minWidth?c=s.minWidth:c>s.maxWidth&&(c=s.maxWidth);null!=l?o=e-c-l-g-f:null==o?o=f:o+=f}if(null!=a&&null!=u){(d=t-a-u-h-m)<s.minHeight?d=s.minHeight:d>s.maxHeight&&(d=s.maxHeight);a+=h}else{null==(d=r.height)?d=s.height:(d=Math.round(parseFloat(d)*t/100))<s.minHeight?d=s.minHeight:d>s.maxHeight&&(d=s.maxHeight);null!=u?a=t-d-u-m-h:null==a?a=h:a+=h}o+=i.left;a+=i.top;n.renderLayout(o,a,c,d)}},_computeSizeHint:function(){for(var e,t,i,n,s,r,o,a,l,u,c,d=0,h=0,g=0,m=0,f=this._getLayoutChildren(),p=this.isDesktop(),_=0,x=f.length;_<x;_++){r=(s=f[_]).getLayoutProperties();o=s.getSizeHint();var q=s.getMarginLeft()+s.getMarginRight(),v=s.getMarginTop()+s.getMarginBottom();e=o.width+q;t=o.minWidth+q;if((a=null!=r.left?r.left:r.edge)&&"number"==typeof a){e+=a;t+=a}if((u=null!=r.right?r.right:r.edge)&&"number"==typeof u){e+=u;t+=u}d=Math.max(d,e);h=p?0:Math.max(h,t);i=o.height+v;n=o.minHeight+v;if((l=null!=r.top?r.top:r.edge)&&"number"==typeof l){i+=l;n+=l}if((c=null!=r.bottom?r.bottom:r.edge)&&"number"==typeof c){i+=c;n+=c}g=Math.max(g,i);m=p?0:Math.max(m,n)}return{width:d,minWidth:h,height:g,minHeight:m}}}});qx.ui.layout.Canvas.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Root",{extend:qx.html.Element,construct:function(e){qx.html.Element.constructor.call(this);null!=e&&this.useElement(e)},members:{useElement:function(e){qx.html.Root.prototype.useElement.base.call(this,e);this.setRoot(!0);qx.html.Element._modified[this.toHashCode()]=this}}});qx.html.Root.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0},"qx.theme.manager.Color":{construct:!0},"qx.bom.client.Engine":{construct:!0},"qx.util.ResourceManager":{construct:!0}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Blocker",{extend:qx.html.Element,construct:function(e,t){e=e?qx.theme.manager.Color.getInstance().resolve(e):null;var i={position:"absolute",opacity:t||0,backgroundColor:e};if("mshtml"==qx.core.Environment.get("engine.name")){i.backgroundImage="url("+qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif")+")";i.backgroundRepeat="repeat"}qx.html.Element.constructor.call(this,"div",i);this.addListener("mousedown",this._stopPropagation,this);this.addListener("mouseup",this._stopPropagation,this);this.addListener("click",this._stopPropagation,this);this.addListener("dblclick",this._stopPropagation,this);this.addListener("mousemove",this._stopPropagation,this);this.addListener("mouseover",this._stopPropagation,this);this.addListener("mouseout",this._stopPropagation,this);this.addListener("mousewheel",this._stopPropagation,this);this.addListener("roll",this._stopPropagation,this);this.addListener("contextmenu",this._stopPropagation,this);this.addListener("pointerdown",this._stopPropagation,this);this.addListener("pointerup",this._stopPropagation,this);this.addListener("pointermove",this._stopPropagation,this);this.addListener("pointerover",this._stopPropagation,this);this.addListener("pointerout",this._stopPropagation,this);this.addListener("tap",this._stopPropagation,this);this.addListener("dbltap",this._stopPropagation,this);this.addListener("swipe",this._stopPropagation,this);this.addListener("longtap",this._stopPropagation,this);this.addListener("appear",this.__refreshCursor,this);this.addListener("disappear",this.__refreshCursor,this)},members:{_stopPropagation:function(e){e.stopPropagation()},__refreshCursor:function(){var e=this.getStyle("cursor");this.setStyle("cursor",null,!0);this.setStyle("cursor",e,!0)}}});qx.html.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.theme.manager.Decoration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Util",{statics:{PERCENT_VALUE:/[0-9]+(?:\.[0-9]+)?%/,computeFlexOffsets:function(e,t,i){var n,s,r,o,a,l,u=t>i,c=Math.abs(t-i),d={};for(s in e){n=e[s];d[s]={potential:u?n.max-n.value:n.value-n.min,flex:u?n.flex:1/n.flex,offset:0}}for(;0!=c;){o=1/0;r=0;for(s in d)if((n=d[s]).potential>0){r+=n.flex;o=Math.min(o,n.potential/n.flex)}if(0==r)break;o=Math.min(c,o*r)/r;a=0;for(s in d)if((n=d[s]).potential>0){if((a+=(l=Math.min(c,n.potential,Math.ceil(o*n.flex)))-o*n.flex)>=1){a-=1;l-=1}n.potential-=l;u?n.offset+=l:n.offset-=l;c-=l}}return d},computeHorizontalAlignOffset:function(e,t,i,n,s){null==n&&(n=0);null==s&&(s=0);var r=0;switch(e){case"left":r=n;break;case"right":r=i-t-s;break;case"center":(r=Math.round((i-t)/2))<n?r=n:r<s&&(r=Math.max(n,i-t-s))}return r},computeVerticalAlignOffset:function(e,t,i,n,s){null==n&&(n=0);null==s&&(s=0);var r=0;switch(e){case"top":r=n;break;case"bottom":r=i-t-s;break;case"middle":(r=Math.round((i-t)/2))<n?r=n:r<s&&(r=Math.max(n,i-t-s))}return r},collapseMargins:function(e){for(var t=0,i=0,n=0,s=arguments.length;n<s;n++){var r=arguments[n];r<0?i=Math.min(i,r):r>0&&(t=Math.max(t,r))}return t+i},computeHorizontalGaps:function(e,t,i){null==t&&(t=0);var n=0;if(i){n+=e[0].getMarginLeft();for(var s=1,r=e.length;s<r;s+=1)n+=this.collapseMargins(t,e[s-1].getMarginRight(),e[s].getMarginLeft());n+=e[r-1].getMarginRight()}else{for(s=1,r=e.length;s<r;s+=1)n+=e[s].getMarginLeft()+e[s].getMarginRight();n+=t*(r-1)}return n},computeVerticalGaps:function(e,t,i){null==t&&(t=0);var n=0;if(i){n+=e[0].getMarginTop();for(var s=1,r=e.length;s<r;s+=1)n+=this.collapseMargins(t,e[s-1].getMarginBottom(),e[s].getMarginTop());n+=e[r-1].getMarginBottom()}else{for(s=1,r=e.length;s<r;s+=1)n+=e[s].getMarginTop()+e[s].getMarginBottom();n+=t*(r-1)}return n},computeHorizontalSeparatorGaps:function(e,t,i){for(var n=qx.theme.manager.Decoration.getInstance().resolve(i).getInsets(),s=n.left+n.right,r=0,o=0,a=e.length;o<a;o++){var l=e[o];r+=l.getMarginLeft()+l.getMarginRight()}return r+=(t+s+t)*(a-1)},computeVerticalSeparatorGaps:function(e,t,i){for(var n=qx.theme.manager.Decoration.getInstance().resolve(i).getInsets(),s=n.top+n.bottom,r=0,o=0,a=e.length;o<a;o++){var l=e[o];r+=l.getMarginTop()+l.getMarginBottom()}return r+=(t+s+t)*(a-1)},arrangeIdeals:function(e,t,i,n,s,r){if(t<e||s<n)if(t<e&&s<n){t=e;s=n}else if(t<e){s-=e-t;t=e;s<n&&(s=n)}else if(s<n){t-=n-s;s=n;t<e&&(t=e)}if(t>i||s>r)if(t>i&&s>r){t=i;s=r}else if(t>i){s+=t-i;t=i;s>r&&(s=r)}else if(s>r){t+=s-r;s=r;t>i&&(t=i)}return{begin:t,end:s}}}});qx.ui.layout.Util.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.lang.String":{},"qx.dev.unit.RequirementError":{},"qx.core.Environment":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.dev.unit.MRequirementsBasic",{members:{require:function(e){qx.core.Assert.assertArray(e);for(var t=0,i=e.length;t<i;t++){var n=e[t],s="has"+qx.lang.String.capitalize(n);if(this[s]){if(!0===this[s]())continue;throw new qx.dev.unit.RequirementError(n)}if(qx.core.Environment.getChecks()[n]){var r=qx.core.Environment.get(n);if(!0===r)continue;throw!1===r?new qx.dev.unit.RequirementError(n):new Error("The Environment key "+n+" cannot be used as a Test Requirement since its value is not boolean!")}if(qx.core.Environment.getAsyncChecks()[n])throw new Error("Unable to verify requirement "+n+": Asynchronous environment checks are not supported!");throw new Error('Unable to verify requirement: No method "'+s+'" or valid Environment key "'+n+'" found')}}}});qx.dev.unit.MRequirementsBasic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.dev.unit.MRequirementsBasic":{require:!0},"qx.util.ResourceManager":{},"qx.bom.request.Xhr":{},"qx.lang.Function":{},"qx.lang.Json":{},"qx.core.Init":{},"qx.bom.client.Browser":{},"qx.bom.client.Engine":{},"qx.bom.client.OperatingSystem":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"engine.name":{className:"qx.bom.client.Engine"},"os.name":{className:"qx.bom.client.OperatingSystem"},"os.version":{className:"qx.bom.client.OperatingSystem"},"ecmascript.function.async":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.dev.unit.MRequirements",{include:[qx.dev.unit.MRequirementsBasic],statics:{__hasPhp:null},members:{hasHttp:function(){return 0==document.location.protocol.indexOf("http")},hasPhp:function(){if(null!=qx.dev.unit.MRequirements.__hasPhp)return qx.dev.unit.MRequirements.__hasPhp;var e=qx.util.ResourceManager.getInstance().toUri("qx/test/xmlhttp/php_version.php"),t=new qx.bom.request.Xhr;t.onload=qx.lang.Function.bind(function(){try{qx.lang.Json.parse(t.responseText);qx.dev.unit.MRequirements.__hasPhp=!0}catch(e){qx.dev.unit.MRequirements.__hasPhp=!1}},this);t.onerror=t.abort=qx.lang.Function.bind(function(){qx.dev.unit.MRequirements.__hasPhp=!1},this);t.open("POST",e,!1);try{t.send()}catch(e){qx.dev.unit.MRequirements.__hasPhp=!1}return qx.dev.unit.MRequirements.__hasPhp},hasGuiApp:function(){try{return qx.core.Init.getApplication()instanceof qx.application.Standalone}catch(e){return!1}},hasInlineApp:function(){try{return qx.core.Init.getApplication()instanceof qx.application.Inline}catch(e){return!1}},hasNativeApp:function(){try{return qx.core.Init.getApplication()instanceof qx.application.Native}catch(e){return!1}},hasChrome:function(){return"chrome"===qx.core.Environment.get("browser.name")},hasFirefox:function(){return"firefox"===qx.core.Environment.get("browser.name")},hasGecko:function(){return"gecko"==qx.core.Environment.get("engine.name")},hasIe:function(){return"ie"===qx.core.Environment.get("browser.name")},hasMshtml:function(){return"mshtml"==qx.core.Environment.get("engine.name")},hasOpera:function(){return"opera"==qx.core.Environment.get("engine.name")},hasWebkit:function(){return"webkit"==qx.core.Environment.get("engine.name")},hasNoOsx:function(){return"osx"!==qx.core.Environment.get("os.name")},hasNoWin7:function(){return!("win"===qx.core.Environment.get("os.name")&&"7"===qx.core.Environment.get("os.version"))},hasNoWin10:function(){return!("win"===qx.core.Environment.get("os.name")&&"10"===qx.core.Environment.get("os.version"))},hasNoChromeOnLinux:function(){return"chrome"!==qx.core.Environment.get("browser.name")||"linux"!==qx.core.Environment.get("os.name")},hasAsyncFunctions:function(){return qx.core.Environment.get("ecmascript.function.async")}}});qx.dev.unit.MRequirements.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.core.Object":{defer:"runtime"},"qx.ui.core.MChildrenHandling":{},"qx.ui.core.Widget":{defer:"runtime"},"qx.Mixin":{defer:"runtime"}},environment:{provided:[],required:{"qx.juhu":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Class",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{testAnonymous:function(){var e=qx.Class.define(null,{statics:{test:function(){return!0}}});this.assertTrue(e.test())},testOverridePropertyMethod:function(){this.require(["qx.debug"]);var e=qx.Class.define(null,{extend:qx.core.Object,properties:{prop:{init:"unset",check:"String",inheritable:!0,themeable:!0}}}),t=new(qx.Class.define(null,{extend:e,members:{setProp:function(e){return(void 0).prototype.setProp.base.call(this,e+"-set")},getProp:function(){return(void 0).prototype.getProp.base.call(this)+"-get"}}}));t.setProp("hello");this.assertEquals("hello-set-get",t.getProp())},testEmptyClass:function(){qx.Class.define("qx.Empty",{extend:Object,construct:function(){}});var e=new qx.Empty;this.assertEquals("object",_typeof(e));this.assertTrue(e instanceof qx.Empty)},testSuperClassCall:function(){qx.Class.define("qx.Car",{extend:qx.core.Object,construct:function(e){this._name=e},members:{startEngine:function(){return"start"},stopEngine:function(){return"stop"},getName:function(){return this._name}}});var e=new qx.Car("Audi");this.assertEquals("start",e.startEngine());this.assertEquals("stop",e.stopEngine());this.assertEquals("Audi",e.getName());qx.Class.define("qx.Bmw",{extend:qx.Car,construct:function(e,t){qx.Car.constructor.call(this,e)},members:{startEngine:function(){return"brrr "+qx.Bmw.prototype.startEngine.base.call(this)},stopEngine:function(){return"brrr "+qx.Bmw.prototype.stopEngine.base.call(this)},getWheels:function(){return qx.test.Class.WHEELS},getMaxSpeed:function(){qx.Bmw.prototype.getMaxSpeed.base.call(this)}},statics:{WHEELS:4}});var t=new qx.Bmw("bmw",44e3);this.assertEquals("bmw",t.getName());this.assertEquals("brrr start",t.startEngine());this.assertEquals("brrr stop",t.stopEngine());this.assertEquals(4,t.getWheels());this.isDebugOn()&&this.assertException(function(){t.getMaxSpeed()},Error)},testAbstract:function(){qx.Class.define("qx.AbstractCar",{extend:qx.core.Object,type:"abstract",construct:function(e){this._color=e},members:{startEngine:function(){}}});this.isDebugOn()&&this.assertException(function(){new qx.AbstractCar("blue")},Error,new RegExp("The class .* is abstract"));qx.Class.define("qx.ConcreteCar",{extend:qx.AbstractCar,construct:function(e){qx.AbstractCar.constructor.call(this,e)}});var e=new qx.ConcreteCar("red");this.assertNotUndefined(e);this.assertEquals("red",e._color)},testSingleton:function(){qx.Class.define("qx.Single1",{extend:Object,type:"singleton",construct:function(){this._date=(new Date).toString()}});this.isDebugOn()&&this.assertException(function(){new qx.Single1},Error,new RegExp("The class .* is a singleton"));this.assertEquals(qx.Single1.getInstance()._date,qx.Single1.getInstance()._date,"getInstance should always return the same object!");qx.Class.undefine("qx.Single1")},testInvalidImplicitStatic:function(){this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.MyClass1",{include:[qx.ui.core.MChildrenHandling]})},Error,new RegExp("Assumed static class.*"))},testEnvironment:function(){qx.Class.define("qx.Setting1",{environment:{"qx.juhu":"kinners"}});this.assertEquals("kinners",qx.core.Environment.get("qx.juhu"));qx.Class.undefine("qx.Setting1")},testDefer:function(){qx.Class.define("qx.Defer",{extend:qx.core.Object,defer:function(e,t,i){e.FOO=12;e.sayHello=function(){return"Hello"};t.sayJuhu=function(){return"Juhu"};i.add("color",{})}});this.assertEquals(12,qx.Defer.FOO);this.assertEquals("Hello",qx.Defer.sayHello());var e=new qx.Defer;this.assertEquals("Juhu",e.sayJuhu());e.setColor("red");this.assertEquals("red",e.getColor());e.dispose()},testSubClassOf:function(){this.assertTrue(qx.Class.isSubClassOf(qx.ui.core.Widget,qx.core.Object))},testClassUndefine:function(){qx.Class.define("qx.test.u.u.Undefine",{extend:qx.core.Object});this.assertNotUndefined(qx.test.u.u.Undefine);qx.Class.undefine("qx.test.u.u.Undefine");this.assertUndefined(qx.test.u)},testPatch:function(){qx.Mixin.define("qx.MyMixin",{properties:{property:{init:"p"}},members:{getP:function(){return"p"}}});qx.Class.define("qx.MyClass",{extend:qx.core.Object});qx.Class.patch(qx.MyClass,qx.MyMixin);var e=new qx.MyClass;this.assertEquals("p",e.getProperty());this.assertEquals("p",e.getP());e.dispose();qx.Class.undefine("qx.MyClass");qx.Class.undefine("qx.MyMixin")},testPatchWithConstructor:function(){qx.Mixin.define("qx.MyMixin",{construct:function(){this.__p="p"},properties:{property:{init:"p"}},members:{getP:function(){return this.__p}}});qx.Class.define("qx.MyClass",{extend:qx.core.Object});qx.Class.patch(qx.MyClass,qx.MyMixin);var e=new qx.MyClass;this.assertEquals("p",e.getProperty());this.assertEquals("p",e.getP());e.dispose();qx.Class.undefine("qx.MyClass");qx.Class.undefine("qx.MyMixin")},testInclude:function(){qx.Mixin.define("qx.MyMixin",{properties:{property:{init:"p"}},members:{getP:function(){return"p"}}});qx.Class.define("qx.MyClass",{extend:qx.core.Object});qx.Class.include(qx.MyClass,qx.MyMixin);var e=new qx.MyClass;this.assertEquals("p",e.getProperty());this.assertEquals("p",e.getP());e.dispose();qx.Class.undefine("qx.MyClass");qx.Class.undefine("qx.MyMixin")},testIncludeWithConstructor:function(){qx.Mixin.define("qx.MyMixin",{construct:function(){this.__p="p"},properties:{property:{init:"p"}},members:{getP:function(){return this.__p}}});qx.Class.define("qx.MyClass",{extend:qx.core.Object});qx.Class.include(qx.MyClass,qx.MyMixin);var e=new qx.MyClass;this.assertEquals("p",e.getProperty());this.assertEquals("p",e.getP());e.dispose();qx.Class.undefine("qx.MyClass");qx.Class.undefine("qx.MyMixin")},testSubclasses:function(){qx.Class.define("qx.Insect",{extend:qx.core.Object});qx.Class.define("qx.Butterfly",{extend:qx.Insect});qx.Class.define("qx.Firefly",{extend:qx.Insect});qx.Class.define("qx.Grasshopper",{extend:qx.Insect});var e=qx.Class.getSubclasses(qx.Insect);this.assertEquals(Object.keys(e).length,3);this.assertEquals(e["qx.Firefly"],qx.Firefly);e=qx.Class.getSubclasses(qx.Firefly);this.assertEquals(Object.keys(e).length,0);e=qx.Class.getSubclasses(qx.Bug);this.assertEquals(e,null)},"test: instantiate class in defer and access property":function(){var e=this;qx.Class.define("qx.DeferFoo",{extend:qx.core.Object,properties:{juhu:{}},defer:function(){var t=new qx.DeferFoo;t.setJuhu("23");e.assertEquals("23",t.getJuhu());t.dispose()}});qx.Class.undefine("qx.DeferFoo")}}});qx.test.Class.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Emitter":{construct:!0},"qx.util.Request":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.client.Transport":{}},environment:{provided:["qx.debug.io"],required:{"qx.debug.io":{},"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"engine.version":{className:"qx.bom.client.Engine"},"io.xhr":{className:"qx.bom.client.Transport"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.request.Xhr",{extend:Object,implement:[qx.core.IDisposable],construct:function(){var e=qx.Bootstrap.bind(this.__onNativeReadyStateChange,this);qx.event&&qx.event.GlobalError&&qx.event.GlobalError.observeMethod?this.__onNativeReadyStateChangeBound=qx.event.GlobalError.observeMethod(e):this.__onNativeReadyStateChangeBound=e;this.__onNativeAbortBound=qx.Bootstrap.bind(this.__onNativeAbort,this);this.__onNativeProgressBound=qx.Bootstrap.bind(this.__onNativeProgress,this);this.__onTimeoutBound=qx.Bootstrap.bind(this.__onTimeout,this);this.__initNativeXhr();this._emitter=new qx.event.Emitter;if(window.attachEvent){this.__onUnloadBound=qx.Bootstrap.bind(this.__onUnload,this);window.attachEvent("onunload",this.__onUnloadBound)}},statics:{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},events:{readystatechange:"qx.bom.request.Xhr",error:"qx.bom.request.Xhr",loadend:"qx.bom.request.Xhr",timeout:"qx.bom.request.Xhr",abort:"qx.bom.request.Xhr",load:"qx.bom.request.Xhr",progress:"qx.bom.request.Xhr"},members:{readyState:0,responseText:"",response:null,responseXML:null,status:0,statusText:"",responseType:"",timeout:0,progress:null,open:function(e,t,i,n,s){this.__checkDisposed();if(void 0===t)throw new Error("Not enough arguments");void 0===e&&(e="GET");this.__abort=!1;this.__send=!1;this.__conditional=!1;this.__url=t;void 0===i&&(i=!0);this.__async=i;this.status=0;this.statusText=this.responseText="";this.responseXML=null;this.response=null;if(!this.__supportsManyRequests()&&this.readyState>qx.bom.request.Xhr.UNSENT){this.dispose();this.__initNativeXhr()}this.__nativeXhr.onreadystatechange=this.__onNativeReadyStateChangeBound;try{qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Xhr,"Open native request with method: "+e+", url: "+t+", async: "+i);this.__nativeXhr.open(e,t,i,n,s)}catch(r){if(!qx.util.Request.isCrossDomain(t))throw r;this.__async||(this.__openError=r);if(this.__async){if(window.XDomainRequest){this.readyState=4;this.__nativeXhr=new XDomainRequest;this.__nativeXhr.onerror=qx.Bootstrap.bind(function(){this._emit("readystatechange");this._emit("error");this._emit("loadend")},this);qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Xhr,"Retry open native request with method: "+e+", url: "+t+", async: "+i);this.__nativeXhr.open(e,t,i,n,s);return}window.setTimeout(qx.Bootstrap.bind(function(){if(!this.__disposed){this.readyState=4;this._emit("readystatechange");this._emit("error");this._emit("loadend")}},this))}}"mshtml"===qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&this.__nativeXhr.readyState>0&&this.__nativeXhr.setRequestHeader("If-Modified-Since","-1");if("gecko"===qx.core.Environment.get("engine.name")&&parseInt(qx.core.Environment.get("engine.version"),10)<2&&!this.__async){this.readyState=qx.bom.request.Xhr.OPENED;this._emit("readystatechange")}},setRequestHeader:function(e,t){this.__checkDisposed();"If-Match"!=e&&"If-Modified-Since"!=e&&"If-None-Match"!=e&&"If-Range"!=e||(this.__conditional=!0);this.__nativeXhr.setRequestHeader(e,t);return this},send:function(e){this.__checkDisposed();if(!this.__async&&this.__openError)throw this.__openError;"opera"===qx.core.Environment.get("engine.name")&&0===this.timeout&&(this.timeout=1e4);this.timeout>0&&(this.__timerId=window.setTimeout(this.__onTimeoutBound,this.timeout));e=void 0===e?null:e;var t=qx.Bootstrap.getClass(e);e=null!==e&&-1===this.__dataTypeWhiteList.indexOf(t)?e.toString():e;try{qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Xhr,"Send native request");this.__async&&(this.__nativeXhr.responseType=this.responseType);this.__nativeXhr.send(e)}catch(e){if(!this.__async)throw e;if("file:"===this._getProtocol()){this.readyState=2;this.__readyStateChange();var i=this;window.setTimeout(function(){if(!i.__disposed){i.readyState=3;i.__readyStateChange();i.readyState=4;i.__readyStateChange()}})}}"gecko"!==qx.core.Environment.get("engine.name")||this.__async||this.__onNativeReadyStateChange();this.__send=!0;return this},abort:function(){this.__checkDisposed();this.__abort=!0;this.__nativeXhr.abort();this.__nativeXhr&&this.readyState!==qx.bom.request.Xhr.DONE&&(this.readyState=this.__nativeXhr.readyState);return this},_emit:function(e){this["on"+e]&&this["on"+e]();this._emitter.emit(e,this)},onreadystatechange:function(){},onload:function(){},onloadend:function(){},onerror:function(){},onabort:function(){},ontimeout:function(){},onprogress:function(){},on:function(e,t,i){this._emitter.on(e,t,i);return this},getResponseHeader:function(e){this.__checkDisposed();return 9===qx.core.Environment.get("browser.documentmode")&&this.__nativeXhr.aborted?"":this.__nativeXhr.getResponseHeader(e)},getAllResponseHeaders:function(){this.__checkDisposed();return 9===qx.core.Environment.get("browser.documentmode")&&this.__nativeXhr.aborted?"":this.__nativeXhr.getAllResponseHeaders()},overrideMimeType:function(e){this.__checkDisposed();if(!this.__nativeXhr.overrideMimeType)throw new Error("Native XHR object doesn't support overrideMimeType.");this.__nativeXhr.overrideMimeType(e);return this},getRequest:function(){return this.__nativeXhr},dispose:function(){if(this.__disposed)return!1;window.clearTimeout(this.__timerId);window.detachEvent&&window.detachEvent("onunload",this.__onUnloadBound);try{this.__nativeXhr.onreadystatechange}catch(e){return!1}var e=function(){};this.__nativeXhr.onreadystatechange=e;this.__nativeXhr.onload=e;this.__nativeXhr.onerror=e;this.__nativeXhr.onprogress=e;this.abort();this.__nativeXhr=null;this.__disposed=!0;return!0},isDisposed:function(){return!!this.__disposed},_createNativeXhr:function(){var e=qx.core.Environment.get("io.xhr");if("xhr"===e)return new XMLHttpRequest;if("activex"==e)return new window.ActiveXObject("Microsoft.XMLHTTP");qx.Bootstrap.error(this,"No XHR support available.")},_getProtocol:function(){var e=this.__url;if(null!==e&&e.match){var t=e.match(/^(\w+:)\/\//);if(t&&t[1])return t[1]}return window.location.protocol},__nativeXhr:null,__async:null,__onNativeReadyStateChangeBound:null,__onNativeAbortBound:null,__onNativeProgressBound:null,__onUnloadBound:null,__onTimeoutBound:null,__send:null,__url:null,__abort:null,__timeout:null,__disposed:null,__timerId:null,__openError:null,__conditional:null,__dataTypeWhiteList:null,__initNativeXhr:function(){this.__nativeXhr=this._createNativeXhr();this.__nativeXhr.onreadystatechange=this.__onNativeReadyStateChangeBound;"Undefined"!==qx.Bootstrap.getClass(this.__nativeXhr.onabort)&&(this.__nativeXhr.onabort=this.__onNativeAbortBound);if("Undefined"!==qx.Bootstrap.getClass(this.__nativeXhr.onprogress)){this.__nativeXhr.onprogress=this.__onNativeProgressBound;this.progress={lengthComputable:!1,loaded:0,total:0}}this.__disposed=this.__send=this.__abort=!1;this.__dataTypeWhiteList=["ArrayBuffer","Blob","File","HTMLDocument","String","FormData"]},__onNativeAbort:function(){this.__abort||this.abort()},__onNativeProgress:function(e){this.progress.lengthComputable=e.lengthComputable;this.progress.loaded=e.loaded;this.progress.total=e.total;this._emit("progress")},__onNativeReadyStateChange:function(){var e=this.__nativeXhr,t=!0;qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Xhr,"Received native readyState: "+e.readyState);if(this.readyState!=e.readyState){this.readyState=e.readyState;if((this.readyState!==qx.bom.request.Xhr.DONE||!this.__abort||this.__send)&&(this.__async||2!=e.readyState&&3!=e.readyState)){this.status=0;this.statusText=this.responseText="";this.responseXML=null;this.response=null;if(this.readyState>=qx.bom.request.Xhr.HEADERS_RECEIVED){try{this.status=e.status;this.statusText=e.statusText;this.response=e.response;""!==this.responseType&&"text"!==this.responseType||(this.responseText=e.responseText);""!==this.responseType&&"document"!==this.responseType||(this.responseXML=e.responseXML)}catch(e){t=!1}if(t){this.__normalizeStatus();this.__normalizeResponseXML()}}this.__readyStateChange();this.readyState==qx.bom.request.Xhr.DONE&&e&&(e.onreadystatechange=function(){})}}},__readyStateChange:function(){this.readyState===qx.bom.request.Xhr.DONE&&window.clearTimeout(this.__timerId);this._emit("readystatechange");this.readyState===qx.bom.request.Xhr.DONE&&this.__readyStateChangeDone()},__readyStateChangeDone:function(){if(this.__timeout){this._emit("timeout");"opera"===qx.core.Environment.get("engine.name")&&this._emit("error");this.__timeout=!1}else this.__abort?this._emit("abort"):this.__isNetworkError()?this._emit("error"):this._emit("load");this._emit("loadend")},__isNetworkError:function(){return"file:"===this._getProtocol()?!this.responseText:0===this.status},__onTimeout:function(){var e=this.__nativeXhr;this.readyState=qx.bom.request.Xhr.DONE;this.__timeout=!0;e.aborted=!0;e.abort();this.responseText="";this.responseXML=null;this.__readyStateChange()},__normalizeStatus:function(){var e=this.readyState===qx.bom.request.Xhr.DONE;"file:"===this._getProtocol()&&0===this.status&&e&&(this.__isNetworkError()||(this.status=200));1223===this.status&&(this.status=204);"opera"===qx.core.Environment.get("engine.name")&&e&&this.__conditional&&!this.__abort&&0===this.status&&(this.status=304)},__normalizeResponseXML:function(){if("mshtml"==qx.core.Environment.get("engine.name")&&(this.getResponseHeader("Content-Type")||"").match(/[^\/]+\/[^\+]+\+xml/)&&this.responseXML&&!this.responseXML.documentElement){var e=new window.ActiveXObject("Microsoft.XMLDOM");e.async=!1;e.validateOnParse=!1;e.loadXML(this.responseText);this.responseXML=e}},__onUnload:function(){try{this&&this.dispose()}catch(e){}},__supportsManyRequests:function(){var e=qx.core.Environment.get("engine.name"),t=qx.core.Environment.get("browser.version");return!("mshtml"==e&&t<9||"gecko"==e&&t<3.5)},__checkDisposed:function(){if(this.__disposed)throw new Error("Already disposed")}},defer:function(){qx.core.Environment.add("qx.debug.io",!1)}});qx.bom.request.Xhr.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.Uri":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.Request",{statics:{isCrossDomain:function(e){var t=qx.util.Uri.parseUri(e),i=window.location;if(!i)return!1;var n=i.protocol;return-1!==e.indexOf("//")&&(n.substr(0,n.length-1)!=t.protocol||i.host!==t.authority||i.port!==t.port)},isSuccessful:function(e){return e>=200&&e<300||304===e},isMethod:function(e){return-1!==["GET","POST","PUT","DELETE","HEAD","OPTIONS","TRACE","CONNECT","PATCH"].indexOf(e)},methodAllowsRequestBody:function(e){return!/^(GET|HEAD)$/.test(e)}}});qx.util.Request.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Node":{},"qx.dom.Hierarchy":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Dom",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="html_basics";e.innerHTML='<div id="test1"><div id="test2"></div><div id="test3"><div id="test4"></div></div></div>';document.body.appendChild(e)},tearDown:function(){var e=document.getElementById("html_basics");document.body.removeChild(e)},testIsDocument:function(){this.assertTrue(qx.dom.Node.isDocument(document));this.assertFalse(qx.dom.Node.isDocument(document.body));this.assertFalse(qx.dom.Node.isDocument(window))},testContains:function(){var e=document.getElementById("test1"),t=document.getElementById("test2"),i=document.getElementById("test3"),n=document.getElementById("test4");this.assertTrue(qx.dom.Hierarchy.contains(document,document.body));this.assertTrue(qx.dom.Hierarchy.contains(e,t));this.assertTrue(qx.dom.Hierarchy.contains(e,n));this.assertTrue(qx.dom.Hierarchy.contains(document,t));this.assertTrue(qx.dom.Hierarchy.contains(document.body,t));this.assertFalse(qx.dom.Hierarchy.contains(document.body,document));this.assertFalse(qx.dom.Hierarchy.contains(t,e));this.assertFalse(qx.dom.Hierarchy.contains(n,e));this.assertFalse(qx.dom.Hierarchy.contains(t,document));this.assertFalse(qx.dom.Hierarchy.contains(t,document.body));this.assertFalse(qx.dom.Hierarchy.contains(t,i));this.assertFalse(qx.dom.Hierarchy.contains(t,n))}}});qx.test.Dom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.String":{},"qx.util.EditDistance":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.EditDistance",{extend:qx.dev.unit.TestCase,members:{assertTransform:function(e,t){for(var i,n=qx.lang.String.toArray(e),s=qx.lang.String.toArray(t),r=qx.util.EditDistance.getEditOperations(n,s),o=0,a=r.length;o<a;o++)switch((i=r[o]).operation){case qx.util.EditDistance.OPERATION_DELETE:qx.lang.Array.removeAt(n,i.pos);break;case qx.util.EditDistance.OPERATION_REPLACE:n[i.pos]=i.value;break;case qx.util.EditDistance.OPERATION_INSERT:qx.lang.Array.insertAt(n,i.value,i.pos);break;default:throw new Error("Invalid operation: "+i.operation)}var l=n.join("");if(l!==t)throw new Error("Implementation could not transform: "+e+" to "+t+"! Result was: "+l)},testBasics:function(){this.assertTransform("hello world","hallo welt");this.assertTransform("abcdef","abdcef");this.assertTransform("abcdef","fedcba");this.assertTransform("abcdef","abc");this.assertTransform("abcdef","def");this.assertTransform("abcdef","bcef");this.assertTransform("abcdef","abcghi");this.assertTransform("abcdef","abcstudef")}}});qx.test.EditDistance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.EditDistance",{statics:{OPERATION_DELETE:1,OPERATION_INSERT:2,OPERATION_REPLACE:3,__computeLevenshteinDistance:function(e,t){var i,n,s,r=[];for(i=0;i<=e.length;i++){r[i]=[];r[i][0]=i}for(n=1;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++){s=e[i-1]===t[n-1]?0:1;void 0===r[i]&&(r[i]=[]);r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+s)}return r},__computeEditOperations:function(e,t,i){var n=[],s=t.length,r=i.length;if(0===s){for(var o=0;o<r;o++)n.push({operation:this.OPERATION_INSERT,pos:o,old:null,value:i[o]});return n}if(0===r){for(o=s-1;o>=0;o--)n.push({operation:this.OPERATION_DELETE,pos:o,old:t[o],value:null});return n}for(;0!==s||0!==r;)if(0!=s&&e[s][r]==e[s-1][r]+1){n.push({operation:this.OPERATION_DELETE,pos:s-1,old:t[s-1],value:null});s-=1}else if(0!=r&&e[s][r]==e[s][r-1]+1){n.push({operation:this.OPERATION_INSERT,pos:s,old:null,value:i[r-1]});r-=1}else{t[s-1]!==i[r-1]&&n.push({operation:this.OPERATION_REPLACE,pos:s-1,old:t[s-1],value:i[r-1]});s-=1;r-=1}return n},getEditOperations:function(e,t){var i=this.__computeLevenshteinDistance(e,t);return this.__computeEditOperations(i,e,t)}}});qx.util.EditDistance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.Interface":{},"qx.core.Object":{},"qx.core.AssertionError":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Interface",{extend:qx.dev.unit.TestCase,members:{setUp:function(){qx.Interface.define("qx.test.i.ICar",{members:{startEngine:function(){return!0}},properties:{color:{}}})},tearDown:function(){qx.Class.undefine("qx.test.i.ICar")},testClassImplements:function(){qx.Class.define("qx.test.i.Audi",{extend:Object,construct:function(){},implement:[qx.test.i.ICar],members:{startEngine:function(){return"start"}},statics:{honk:function(){return"honk"}},properties:{color:{}}});new qx.test.i.Audi("audi");this.assertTrue(qx.Interface.classImplements(qx.test.i.Audi,qx.test.i.ICar));qx.Class.undefine("qx.test.i.Audi")},testEverythingImplemented:function(){qx.Class.define("qx.test.i.Bmw1",{extend:Object,construct:function(){},members:{startEngine:function(){return"start"}},statics:{honk:function(){return"honk"}},properties:{color:{}}});this.assertTrue(qx.Interface.classImplements(qx.test.i.Bmw1,qx.test.i.ICar));qx.Class.undefine("qx.test.i.Bmw1")},testMissingMembers:function(){qx.Class.define("qx.test.i.Bmw2",{extend:Object,construct:function(){},statics:{honk:function(){return"honk"}},properties:{color:{}}});this.assertFalse(qx.Interface.classImplements(qx.test.i.Bmw2,qx.test.i.ICar));qx.Class.undefine("qx.test.i.Bmw2")},testMissingStatics:function(){qx.Class.define("qx.test.i.Bmw3",{extend:Object,construct:function(){},members:{startEngine:function(){return"start"}},properties:{color:{}}});this.assertTrue(qx.Interface.classImplements(qx.test.i.Bmw3,qx.test.i.ICar));qx.Class.undefine("qx.test.i.Bmw3")},testMissingProperties:function(){qx.Class.define("qx.test.i.Bmw4",{extend:Object,construct:function(){},members:{startEngine:function(){return"start"}},statics:{honk:function(){return"honk"}}});this.assertFalse(qx.Interface.classImplements(qx.test.i.Bmw4,qx.test.i.ICar));qx.Class.undefine("qx.test.i.Bmw4")},testWithDebug:function(){if(this.isDebugOn()){this.assertException(function(){new qx.test.i.ICar},Error);this.assertException(function(){qx.Class.define("qx.test.i.Audi1",{extend:Object,construct:function(){},implement:[qx.test.i.ICar]})},Error,new RegExp("Implementation of method .* is missing"));this.assertException(function(){qx.Class.define("qx.test.i.Audi2",{extend:Object,construct:function(){},implement:[qx.test.i.ICar],statics:{honk:function(){return"honk"}},properties:{color:{}}})},Error,'Implementation of method "startEngine" is missing');this.assertException(function(){qx.Class.define("qx.test.i.Audi4",{extend:Object,construct:function(){},implement:[qx.test.i.ICar],members:{startEngine:function(){return"start"}},statics:{honk:function(){return"honk"}}})},Error,new RegExp("property .* not supported"))}},testAssertions:function(){qx.Interface.define("qx.test.i.IComplex",{members:{add:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e.constructor,qx.test.i.IComplex)},setReal:function(e){this.assertArgumentsCount(arguments,1,1);this.assertType(e,"number")},abs:function(){this.assert(void 0==arguments[0])}}});qx.Class.define("qx.test.i.Complex",{extend:qx.core.Object,implement:qx.test.i.IComplex,construct:function(e,t){this._real=e;this._imag=t},members:{add:function(e){this._real+=e._real;this._imag+=e._imag},setReal:function(e){this._real=e},abs:function(){return Math.sqrt(this._real*this._real+(this._imag+this._imag))},toString:function(){return this._real+"+"+this._imag+"i"}}});var e=new qx.test.i.Complex(1,1),t=new qx.test.i.Complex(2,-3.4);e.add(t);e.setReal(20);e.abs();if(this.isDebugOn()){this.assertException(function(){e.add(t,t)},qx.core.AssertionError,null,"a");this.assertException(function(){e.setReal()},qx.core.AssertionError,null,"b");this.assertException(function(){e.setReal(1,2)},qx.core.AssertionError,null,"c");this.assertException(function(){e.setReal("Juhu")},qx.core.AssertionError,null,"d");this.assertException(function(){e.abs({})},qx.core.AssertionError,null,"e");this.assertException(function(){e.add("Juhu")},qx.core.AssertionError,null,"f")}},testProperties:function(){qx.Interface.define("qx.test.i.IProperties1",{properties:{value:{}}});qx.Class.define("qx.test.i.Properties1",{extend:qx.core.Object,implement:[qx.test.i.IProperties1],properties:{value:{check:"Integer"}}});this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.test.i.Properties2",{extend:qx.core.Object,implement:[qx.test.i.IProperties1],members:{getValue:function(){},setValue:function(e){}}})});qx.Interface.define("qx.test.i.IProperties2",{members:{getValue:function(){},setValue:function(e){}}});qx.Class.define("qx.test.i.Properties3",{extend:qx.core.Object,implement:[qx.test.i.IProperties2],properties:{value:{check:"Integer"}}});qx.Class.define("qx.test.i.Properties4",{extend:qx.core.Object,implement:[qx.test.i.IProperties2],members:{getValue:function(){},setValue:function(e){}}})},testEvents:function(){qx.Interface.define("qx.test.i.IEvents1",{events:{change:"qx.event.type.Event"}});qx.Class.define("qx.test.i.Event1",{extend:qx.core.Object,implement:[qx.test.i.IEvents1],events:{change:"qx.event.type.Event"}});this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.test.i.Event2",{extend:qx.core.Object,implement:[qx.test.i.IEvents1]})})},testIncludes:function(){qx.Interface.define("qx.test.i.IMember",{members:{sayJuhu:function(){return!0}}});qx.Interface.define("qx.test.i.IProperties",{properties:{color:{},name:{}}});qx.Interface.define("qx.test.i.IAll",{extend:[qx.test.i.IMember,qx.test.i.IProperties]});qx.Interface.define("qx.test.i.IOther",{members:{bar:function(){return!0}}});var e={extend:Object,implement:qx.test.i.IAll,members:{sayJuhu:function(){}},statics:{sayHello:function(){return!0}},properties:{color:{},name:{}}},t=qx.lang.Object.clone(e);qx.Class.define("qx.test.i.Implement1",t);this.assertTrue(qx.Class.implementsInterface(qx.test.i.Implement1,qx.test.i.IAll),"implements IAll");this.assertTrue(qx.Class.implementsInterface(qx.test.i.Implement1,qx.test.i.IMember),"implements IMember");this.assertTrue(qx.Class.implementsInterface(qx.test.i.Implement1,qx.test.i.IProperties),"implements IProperties");this.assertFalse(qx.Class.implementsInterface(qx.test.i.Implement1,qx.test.i.IOther),"not implements IOther");delete(t=qx.lang.Object.clone(e)).members;this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.test.i.Implement2",t)},Error,"Implementation of method","No members defined.");delete(t=qx.lang.Object.clone(e)).properties;this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.test.i.Implement4",t)},Error,new RegExp("property .* is not supported"),"No properties defined.")},testAbstractClass:function(){qx.Interface.define("qx.test.i.IJuhu",{members:{sayJuhu:function(){},sayKinners:function(){}}});qx.Class.define("qx.test.i.AbstractJuhu1",{extend:qx.core.Object,implement:qx.test.i.IJuhu,type:"abstract"});qx.Class.define("qx.test.i.AbstractJuhu2",{extend:qx.core.Object,implement:qx.test.i.IJuhu,type:"abstract",members:{sayJuhu:function(){return"Juhu"}}});this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.test.i.Juhu1",{extend:qx.test.i.AbstractJuhu1,members:{sayJuhu:function(){return"Juhu"}}})},Error,'.*Implementation of method "sayKinners" is missing in class "qx.test.i.Juhu1" required by interface "qx.test.i.IJuhu"');qx.Class.define("qx.test.i.Juhu1",{extend:qx.test.i.AbstractJuhu2,members:{sayKinners:function(){return"Kinners"}}})},testGeneratedIsMethods:function(){qx.Interface.define("qx.test.i.IIs",{members:{isProp:function(){}}});qx.Class.define("qx.test.i.Is",{extend:qx.core.Object,implement:qx.test.i.IIs,properties:{prop:{check:"Boolean",init:!0}}})}}});qx.test.Interface.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.Mixin":{},"qx.core.Object":{},"qx.test.testclasses.BaseClassIncluded":{},"qx.test.testclasses.BaseClassPatched":{},"qx.test.testclasses.BaseClassBoth":{},"qx.test.testclasses.DerivedClassIncluded":{},"qx.test.testclasses.DerivedClassPatched":{},"qx.test.testclasses.DerivedClassBoth":{},"qx.test.testclasses.RootClass":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Mixin",{extend:qx.dev.unit.TestCase,members:{testMixinBasic:function(){qx.Mixin.define("qx.MMix1",{statics:{data:null,foo:function(){return"foo"}},members:{bar:function(){return"bar"}},properties:{color:{}}});qx.Mixin.define("qx.MMix2",{members:{bar:function(){return"bar"}}});qx.Class.define("qx.Mix",{extend:Object,include:qx.MMix1,construct:function(){}});this.assertEquals("foo",qx.MMix1.foo());this.assertEquals("bar",(new qx.Mix).bar());var e=new qx.Mix;e.setColor("red");this.assertEquals("red",e.getColor());if(this.isDebugOn()){this.assertException(function(){qx.Class.define("qx.Mix1",{extend:Object,include:[qx.MMix1,qx.MMix2],construct:function(){}})},Error,"Overwriting member","t1");this.assertException(function(){qx.Class.define("qx.Mix2",{extend:Object,include:qx.MMix1,construct:function(){},members:{bar:function(){return"bar"}}})},Error,"Overwriting member","t2")}qx.Class.define("qx.Mix3",{extend:Object,include:qx.MMix1,construct:function(){},statics:{foo:function(){return"foo"}}});this.isDebugOn()&&this.assertException(function(){qx.Class.define("qx.Mix4",{extend:Object,include:qx.MMix1,construct:function(){},properties:{color:{}}})},Error,"already has a property","t3")},testInclude:function(){qx.Mixin.define("qx.MLogger",{members:{log:function(e){return e}}});qx.Class.define("qx.UseLog1",{extend:Object,construct:function(){}});qx.Class.include(qx.UseLog1,qx.MLogger);this.assertEquals("Juhu",(new qx.UseLog1).log("Juhu"));qx.Class.define("qx.UseLog2",{extend:Object,construct:function(){},members:{log:function(){return"foo"}}});this.isDebugOn()&&this.assertException(function(){qx.Class.include(qx.UseLog2,qx.MLogger)},Error,"Overwriting member");qx.Class.define("qx.UseLog3",{extend:Object,construct:function(){},members:{log:function(){return"foo"}}});this.assertEquals("foo",(new qx.UseLog3).log("Juhu"));qx.Class.patch(qx.UseLog3,qx.MLogger);this.assertEquals("Juhu",(new qx.UseLog3).log("Juhu"));qx.Class.define("qx.ExtendUseLog1",{extend:qx.UseLog1});this.assertEquals("Juhu",(new qx.ExtendUseLog1).log("Juhu"))},testPatchOverwritten:function(){qx.Class.define("qx.Patch1",{extend:qx.core.Object,members:{sayJuhu:function(){return"Juhu"},foo:function(){return"foo"}}});qx.Class.define("qx.Patch2",{extend:qx.core.Object,members:{sayJuhu:function(){return"Huhu"},foo:function(){return"bar"}}});qx.Mixin.define("qx.MPatch",{members:{sayJuhu:function(){return qx.MPatch.$$members.sayJuhu.base.call(this)+" Kinners"},foo:function(e){var t="";if(!e){this.__b=new qx.Patch2;t+="++"+this.__b.foo(!0)+"__"}return t+=qx.MPatch.$$members.foo.base.call(this)}}});this.isDebugOn()&&this.assertException(function(){qx.Class.include(qx.Patch1,qx.MPatch)},Error,new RegExp('Overwriting member ".*" of Class ".*" is not allowed!'));qx.Class.patch(qx.Patch1,qx.MPatch);qx.Class.patch(qx.Patch2,qx.MPatch);var e=new qx.Patch1;this.assertEquals("Juhu Kinners",e.sayJuhu());e.dispose();e=new qx.Patch2;this.assertEquals("Huhu Kinners",e.sayJuhu());e.dispose();e=new qx.Patch1;this.assertEquals("++bar__foo",e.foo());e.__b.dispose();e.dispose()},testPatchConstructors:function(){this.assertTrue(qx.test.testclasses.BaseClassIncluded.constructor===qx.test.testclasses.BaseClassIncluded);this.assertTrue(qx.test.testclasses.BaseClassPatched.constructor===qx.test.testclasses.BaseClassPatched);this.assertTrue(qx.test.testclasses.BaseClassBoth.constructor===qx.test.testclasses.BaseClassBoth);this.assertTrue(qx.test.testclasses.DerivedClassIncluded.constructor===qx.test.testclasses.DerivedClassIncluded);this.assertTrue(qx.test.testclasses.DerivedClassPatched.constructor===qx.test.testclasses.DerivedClassPatched);this.assertTrue(qx.test.testclasses.DerivedClassBoth.constructor===qx.test.testclasses.DerivedClassBoth);var e=new qx.test.testclasses.BaseClassIncluded;this.assertArrayEquals(["root","base","mixin-one","mixin-two"],e.state);this.assertEquals("mixin-one",e.getSomething());var t=new qx.test.testclasses.DerivedClassIncluded;this.assertArrayEquals(["root","base","mixin-one","mixin-two","derived"],t.state);this.assertEquals("mixin-one:derived",t.getSomething());var i=new qx.test.testclasses.BaseClassPatched;this.assertArrayEquals(["root","base","mixin-one","mixin-two"],i.state);this.assertEquals("mixin-one",i.getSomething());var n=new qx.test.testclasses.DerivedClassPatched;this.assertArrayEquals(["root","base","mixin-one","mixin-two","derived"],n.state);this.assertEquals("mixin-one:derived",n.getSomething());var s=new qx.test.testclasses.BaseClassBoth;this.assertArrayEquals(["root","base","mixin-one","mixin-two"],s.state);this.assertEquals("mixin-one",s.getSomething());var r=new qx.test.testclasses.DerivedClassBoth;this.assertArrayEquals(["root","base","mixin-one","mixin-two","derived"],r.state);this.assertEquals("mixin-one:derived",r.getSomething());this.assertTrue(e.constructor===qx.test.testclasses.BaseClassIncluded);this.assertTrue(t.constructor===qx.test.testclasses.DerivedClassIncluded);this.assertTrue(i.constructor===qx.test.testclasses.BaseClassPatched);this.assertTrue(n.constructor===qx.test.testclasses.DerivedClassPatched);this.assertTrue(s.constructor===qx.test.testclasses.BaseClassBoth);this.assertTrue(r.constructor===qx.test.testclasses.DerivedClassBoth);this.assertTrue(e instanceof qx.test.testclasses.BaseClassIncluded);this.assertTrue(t instanceof qx.test.testclasses.DerivedClassIncluded);this.assertTrue(t instanceof qx.test.testclasses.BaseClassIncluded);this.assertTrue(i instanceof qx.test.testclasses.BaseClassPatched);this.assertTrue(n instanceof qx.test.testclasses.BaseClassPatched);this.assertTrue(n instanceof qx.test.testclasses.DerivedClassPatched);this.assertTrue(s instanceof qx.test.testclasses.BaseClassBoth);this.assertTrue(r instanceof qx.test.testclasses.BaseClassBoth);this.assertTrue(r instanceof qx.test.testclasses.DerivedClassBoth);this.assertTrue(e instanceof qx.test.testclasses.RootClass);this.assertTrue(s instanceof qx.test.testclasses.RootClass);this.assertTrue(n instanceof qx.test.testclasses.RootClass)}}});qx.test.Mixin.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.Assert":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.RootClass",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);qx.core.Assert.assertTrue(null===this.state);this.state=["root"]},members:{state:null,getSomething:function(){return"root"}}});qx.test.testclasses.RootClass.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Assert":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.test.testclasses.MMixinOne",{construct:function(){qx.core.Assert.assertTrue(null!==this.state);this.state.push("mixin-one")},members:{getSomething:function(){return"mixin-one"}}});qx.test.testclasses.MMixinOne.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.core.Assert":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.test.testclasses.MMixinTwo",{construct:function(){qx.core.Assert.assertTrue(null!==this.state);this.state.push("mixin-two")}});qx.test.testclasses.MMixinTwo.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.testclasses.RootClass":{construct:!0,require:!0},"qx.test.testclasses.MMixinOne":{require:!0},"qx.test.testclasses.MMixinTwo":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.BaseClassIncluded",{extend:qx.test.testclasses.RootClass,include:[qx.test.testclasses.MMixinOne,qx.test.testclasses.MMixinTwo],construct:function(){qx.test.testclasses.RootClass.constructor.call(this);this.state.push("base")}});qx.test.testclasses.BaseClassIncluded.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.test.testclasses.RootClass":{construct:!0,require:!0},"qx.test.testclasses.MMixinOne":{defer:"runtime"},"qx.test.testclasses.MMixinTwo":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.BaseClassPatched",{extend:qx.test.testclasses.RootClass,construct:function(){qx.test.testclasses.RootClass.constructor.call(this);this.state.push("base")},defer:function(){qx.Class.patch(qx.test.testclasses.BaseClassPatched,qx.test.testclasses.MMixinOne);qx.Class.patch(qx.test.testclasses.BaseClassPatched,qx.test.testclasses.MMixinTwo)}});qx.test.testclasses.BaseClassPatched.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.test.testclasses.RootClass":{construct:!0,require:!0},"qx.test.testclasses.MMixinOne":{require:!0},"qx.test.testclasses.MMixinTwo":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.BaseClassBoth",{extend:qx.test.testclasses.RootClass,include:[qx.test.testclasses.MMixinOne],construct:function(){qx.test.testclasses.RootClass.constructor.call(this);this.state.push("base")},defer:function(){qx.Class.patch(qx.test.testclasses.BaseClassBoth,qx.test.testclasses.MMixinTwo)}});qx.test.testclasses.BaseClassBoth.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.testclasses.BaseClassIncluded":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.DerivedClassIncluded",{extend:qx.test.testclasses.BaseClassIncluded,construct:function(){qx.test.testclasses.BaseClassIncluded.constructor.call(this);this.state.push("derived")},members:{getSomething:function(){return qx.test.testclasses.DerivedClassIncluded.prototype.getSomething.base.call(this)+":derived"}}});qx.test.testclasses.DerivedClassIncluded.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.testclasses.BaseClassPatched":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.DerivedClassPatched",{extend:qx.test.testclasses.BaseClassPatched,construct:function(){qx.test.testclasses.BaseClassPatched.constructor.call(this);this.state.push("derived")},members:{getSomething:function(){return qx.test.testclasses.DerivedClassPatched.prototype.getSomething.base.call(this)+":derived"}}});qx.test.testclasses.DerivedClassPatched.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.testclasses.BaseClassBoth":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.testclasses.DerivedClassBoth",{extend:qx.test.testclasses.BaseClassBoth,construct:function(){qx.test.testclasses.BaseClassBoth.constructor.call(this);this.state.push("derived")},members:{getSomething:function(){return qx.test.testclasses.DerivedClassBoth.prototype.getSomething.base.call(this)+":derived"}}});qx.test.testclasses.DerivedClassBoth.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.util.ResourceManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.test.io.MRemoteTest",{members:{getUrl:function(e){return qx.util.ResourceManager.getInstance().toUri(e)},isLocal:function(){return"file:"==window.location.protocol},needsPHPWarning:function(){this.warn("This test can only be run from a web server with PHP support.")}}});qx.test.io.MRemoteTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.Part":{},"qx.io.part.ClosurePart":{},"qx.io.part.Part":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Part",{extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{testLoaderStructureParsing:function(){var e={parts:{juhu:[0,1],kinners:[0,2]},packages:{0:{uris:["1.js"]},1:{uris:["2.js"]},2:{uris:["3.1.js","3.2.js"]}},closureParts:{juhu:!0},boot:"juhu"},t=new qx.Part(e).getParts();this.assertEquals(2,Object.keys(t).length);var i=t.juhu,n=t.kinners;this.assertInstance(i,qx.io.part.ClosurePart);this.assertInstance(n,qx.io.part.Part);var s=n.getPackages();this.assertEquals(2,s.length);this.assertEquals("0",s[0].getId());this.assertEquals("2",s[1].getId());for(var r=s[1].getUrls(),o=e.packages[2].uris,a=0;a<o.length;a++)this.assertMatch(r[a],new RegExp(o[a]+".*"))},testPreload:function(){qx.test.PART_FILES=[];var e={parts:{juhu:["p1"],affe:["p0"]},packages:{p0:{uris:["boot.js"]},p1:{uris:[this.getUrl("qx/test/part/file1-closure.js")]}},closureParts:{juhu:!0},boot:"affe"},t=new qx.Part(e);qx.Part.$$instance=t;var i=this,n=t.getParts().juhu;window.setTimeout(function(){i.resume(function(){i.assertEquals(0,qx.test.PART_FILES.length);i.assertJsonEquals([],qx.test.PART_FILES);i.assertEquals("initialized",n.getReadyState());i.assertEquals("cached",n.getPackages()[0].getReadyState());n.getPackages()[0].execute();i.assertJsonEquals(["file1-closure"],qx.test.PART_FILES)})},1e3);t.preload("juhu");this.wait()},testPreloadCallback:function(){qx.test.PART_FILES=[];var e={parts:{juhu:["p1"],affe:["p0"]},packages:{p0:{uris:["boot.js"]},p1:{uris:[this.getUrl("qx/test/part/file1-closure.js")]}},closureParts:{juhu:!0},boot:"affe"},t=new qx.Part(e);qx.Part.$$instance=t;var i=this;t.preload(["affe","juhu"],function(e){i.resume(function(){!0;i.assertEquals(i,this,"context wrong");i.assertEquals("complete",e[0],"states wrong");i.assertEquals("initialized",e[1],"states wrong")},i)},this);this.wait()},testPreloadAndLoadAfterwards:function(){qx.test.PART_FILES=[];var e={parts:{juhu:["p1"],affe:["p0"]},packages:{p0:{uris:["boot.js"]},p1:{uris:[this.getUrl("qx/test/part/file1-closure.js")]}},closureParts:{juhu:!0},boot:"affe"},t=new qx.Part(e);qx.Part.$$instance=t;t.preload("juhu");var i=t.getParts().juhu;i.getPackages()[0].loadClosure=function(){self.resume(function(){self.fail("load called twice!")})};t.require("juhu",function(){this.resume(function(){this.assertEquals("complete",i.getPackages()[0].getReadyState());this.assertEquals("complete",i.getReadyState());this.assertEquals(1,qx.test.PART_FILES.length);this.assertJsonEquals(["file1-closure"],qx.test.PART_FILES)})},this);this.wait()},testRequireState:function(){qx.test.PART_FILES=[];var e={parts:{juhu:["p1"],affe:["p0"],fail:["p2"]},packages:{p0:{uris:["boot.js"]},p1:{uris:[this.getUrl("qx/test/part/file1-closure.js")]},p2:{uris:["_fail.js"]}},closureParts:{juhu:!0,fail:!0},boot:"affe"},t=new qx.Part(e);qx.Part.$$instance=t;t.preload("juhu");var i=qx.Part.TIMEOUT;qx.Part.TIMEOUT=1e3;t.require(["affe","juhu","fail"],function(e){this.resume(function(){qx.Part.TIMEOUT=i;this.assertEquals("complete",e[0]);this.assertEquals("complete",e[1]);this.assertEquals("error",e[2]);delete qx.Part.$$instance},this)},this);this.wait()},testRequireUnknownPart:function(){qx.test.PART_FILES=[];var e=new qx.Part({parts:{affe:["p0"]},packages:{p0:{uris:["boot.js"]}},boot:"affe"});qx.Part.$$instance=e;this.assertException(function(){e.require(["unknown"])},Error);delete qx.Part.$$instance}}});qx.test.Part.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.io.part.Package":{construct:!0},"qx.io.part.ClosurePart":{construct:!0},"qx.io.part.Part":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.Part",{construct:function(e){var t=e.parts[e.boot][0];this.__loader=e;this.__partListners={};this.__packageListeners={};this.__packageClosureListeners={};this.__packages={};for(var i in e.packages){var n=new qx.io.part.Package(this.__decodeUris(e.packages[i].uris),i,i==t);this.__packages[i]=n}this.__parts={};var s=e.parts,r=e.closureParts||{};for(var o in s){for(var a=s[o],l=[],u=0;u<a.length;u++)l.push(this.__packages[a[u]]);if(r[o])var c=new qx.io.part.ClosurePart(o,l,this);else c=new qx.io.part.Part(o,l,this);this.__parts[o]=c}},statics:{TIMEOUT:7500,getInstance:function(){this.$$instance||(this.$$instance=new this(qx.$$loader));return this.$$instance},require:function(e,t,i){this.getInstance().require(e,t,i)},preload:function(e){this.getInstance().preload(e)},$$notifyLoad:function(e,t){this.getInstance().saveClosure(e,t)}},members:{__loader:null,__packages:null,__parts:null,__packageClosureListeners:null,addToPackage:function(e){this.__packages[e.getId()]=e},saveClosure:function(e,t){var i=this.__packages[e];if(!i)throw new Error("Package not available: "+e);i.saveClosure(t);var n=this.__packageClosureListeners[e];if(n){for(var s=0;s<n.length;s++)n[s]("complete",e);this.__packageClosureListeners[e]=[]}},getParts:function(){return this.__parts},require:function(e,t,i){t=t||function(){},i=i||window;qx.Bootstrap.isString(e)&&(e=[e]);for(var n=[],s=0;s<e.length;s++){var r=this.__parts[e[s]];if(void 0===r){var o=qx.Bootstrap.keys(this.getParts());throw new Error('Part "'+e[s]+'" not found in parts ('+o.join(", ")+")")}n.push(r)}var a=0,l=function(){if((a+=1)>=n.length){for(var e=[],s=0;s<n.length;s++)e.push(n[s].getReadyState());t.call(i,e)}};for(s=0;s<n.length;s++)n[s].load(l,this)},preload:function(e,t,i){qx.Bootstrap.isString(e)&&(e=[e]);for(var n=0,s=0;s<e.length;s++)this.__parts[e[s]].preload(function(){if(++n>=e.length){for(var s=[],r=0;r<e.length;r++)s.push(this.__parts[e[r]].getReadyState());t&&t.call(i,s)}},this)},__getUris:function(){var e=this.__loader.packages,t=[];for(var i in e)t.push(this.__decodeUris(e[i].uris));return t},__decodeUris:qx.$$loader.decodeUris,__partListners:null,addPartListener:function(e,t){var i=e.getName();this.__partListners[i]||(this.__partListners[i]=[]);this.__partListners[i].push(t)},onpart:null,notifyPartResult:function(e){var t=e.getName(),i=this.__partListners[t];if(i){for(var n=0;n<i.length;n++)i[n](e.getReadyState());this.__partListners[t]=[]}"function"==typeof this.onpart&&this.onpart(e)},__packageListeners:null,addPackageListener:function(e,t){var i=e.getId();this.__packageListeners[i]||(this.__packageListeners[i]=[]);this.__packageListeners[i].push(t)},notifyPackageResult:function(e){var t=e.getId(),i=this.__packageListeners[t];if(i){for(var n=0;n<i.length;n++)i[n](e.getReadyState());this.__packageListeners[t]=[]}}}});qx.Part.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.io.part.Part",{construct:function(e,t,i){this.__name=e;this._readyState="complete";this._packages=t;this._loader=i;for(var n=0;n<t.length;n++)if("complete"!==t[n].getReadyState()){this._readyState="initialized";break}},members:{_readyState:null,_loader:null,_packages:null,__name:null,getReadyState:function(){return this._readyState},getName:function(){return this.__name},getPackages:function(){return this._packages},preload:function(e,t){e&&window.setTimeout(function(){e.call(t,this)},0)},load:function(e,t){if(!this._checkCompleteLoading(e,t)){this._readyState="loading";e&&this._appendPartListener(e,t,this);for(var i=this,n=function(){i.load()},s=0;s<this._packages.length;s++){var r=this._packages[s];switch(r.getReadyState()){case"initialized":this._loader.addPackageListener(r,n);r.load(this._loader.notifyPackageResult,this._loader);return;case"loading":this._loader.addPackageListener(r,n);return;case"complete":break;case"error":this._markAsCompleted("error");return;default:throw new Error("Invalid case! "+r.getReadyState())}}this._markAsCompleted("complete")}},_appendPartListener:function(e,t,i){var n=this;this._loader.addPartListener(this,function(){n._signalStartup();e.call(t,i._readyState)})},_markAsCompleted:function(e){this._readyState=e;this._loader.notifyPartResult(this)},_signalStartup:function(){qx.$$loader.applicationHandlerReady||qx.$$loader.signalStartup()},_checkCompleteLoading:function(e,t){var i=this._readyState;if("complete"==i||"error"==i){if(e){var n=this;setTimeout(function(){n._signalStartup();e.call(t,i)},0)}return!0}if("loading"==i&&e){this._appendPartListener(e,t,this);return!0}}}});qx.io.part.Part.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.io.part.Part":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.io.part.ClosurePart",{extend:qx.io.part.Part,construct:function(e,t,i){qx.io.part.Part.call(this,e,t,i)},members:{__packagesToLoad:0,preload:function(e,t){for(var i=0,n=this,s=0;s<this._packages.length;s++){var r=this._packages[s];"initialized"==r.getReadyState()&&r.loadClosure(function(s){i++;n._loader.notifyPackageResult(s);i>=n._packages.length&&e&&e.call(t)},this._loader)}},load:function(e,t){if(!this._checkCompleteLoading(e,t)){this._readyState="loading";e&&this._appendPartListener(e,t,this);this.__packagesToLoad=this._packages.length;for(var i=0;i<this._packages.length;i++){var n=this._packages[i],s=n.getReadyState();"initialized"==s&&n.loadClosure(this._loader.notifyPackageResult,this._loader);if("initialized"==s||"loading"==s)this._loader.addPackageListener(n,qx.Bootstrap.bind(this._onPackageLoad,this,n));else{if("error"==s){this._markAsCompleted("error");return}this.__packagesToLoad--}}this.__packagesToLoad<=0&&this.__executePackages()}},__executePackages:function(){for(var e=0;e<this._packages.length;e++)this._packages[e].execute();this._markAsCompleted("complete")},_onPackageLoad:function(e){if("error"!=this._readyState)if("error"!=e.getReadyState()){this.__packagesToLoad--;this.__packagesToLoad<=0&&this.__executePackages()}else this._markAsCompleted("error")}}});qx.io.part.ClosurePart.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.Part":{},"qx.bom.request.Script":{},"qx.bom.client.Engine":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.io.part.Package",{construct:function(e,t,i){this.__readyState=i?"complete":"initialized";this.__urls=e;this.__id=t},members:{__readyState:null,__urls:null,__id:null,__closure:null,__loadWithClosure:null,__timeoutId:null,__notifyPackageResult:null,getId:function(){return this.__id},getReadyState:function(){return this.__readyState},getUrls:function(){return this.__urls},saveClosure:function(e){if("error"!=this.__readyState){this.__closure=e;if(this.__loadWithClosure){clearTimeout(this.__timeoutId);this.__readyState="cached";this.__notifyPackageResult(this)}else this.execute()}},execute:function(){if(this.__closure){this.__closure();delete this.__closure}if(qx.$$packageData[this.__id]){this.__importPackageData(qx.$$packageData[this.__id]);delete qx.$$packageData[this.__id]}this.__readyState="complete"},loadClosure:function(e,t){if("initialized"===this.__readyState){this.__loadWithClosure=!0;this.__readyState="loading";this.__notifyPackageResult=qx.Bootstrap.bind(e,t);this.__loadScriptList(this.__urls,function(){},function(){this.__readyState="error";e.call(t,this)},this);var i=this;this.__timeoutId=setTimeout(function(){i.__readyState="error";e.call(t,i)},qx.Part.TIMEOUT)}},load:function(e,t){if("initialized"===this.__readyState){this.__loadWithClosure=!1;this.__readyState="loading";this.__loadScriptList(this.__urls,function(){this.__readyState="complete";this.execute();e.call(t,this)},function(){this.__readyState="error";e.call(t,this)},this)}},__loadScriptList:function(e,t,i,n){if(0!=e.length){var s=0;n=this;!function r(o){if(s>=e.length)t.call(n);else{var a=new qx.bom.request.Script;a.open("GET",o.shift());a.onload=function(){s+=1;a.dispose();"webkit"==qx.bom.client.Engine.getName()?setTimeout(function(){r.call(n,o,t,n)},0):r.call(n,o,t,n)};a.onerror=function(){if("loading"==n.__readyState){clearTimeout(n.__timeoutId);a.dispose();return i.call(n)}};window.setTimeout(function(){a.send()})}}(e.concat())}else t.call(n)},__importPackageData:qx.$$loader.importPackageData}});qx.io.part.Package.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Emitter":{construct:!0},"qx.util.Uri":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:["qx.debug.io"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.request.Script",{implement:[qx.core.IDisposable],construct:function(){this.__initXhrProperties();this.__onNativeLoadBound=qx.Bootstrap.bind(this._onNativeLoad,this);this.__onNativeErrorBound=qx.Bootstrap.bind(this._onNativeError,this);this.__onTimeoutBound=qx.Bootstrap.bind(this._onTimeout,this);this.__headElement=document.head||document.getElementsByTagName("head")[0]||document.documentElement;this._emitter=new qx.event.Emitter;this.timeout=this.__supportsErrorHandler()?0:15e3},events:{readystatechange:"qx.bom.request.Script",error:"qx.bom.request.Script",loadend:"qx.bom.request.Script",timeout:"qx.bom.request.Script",abort:"qx.bom.request.Script",load:"qx.bom.request.Script"},members:{readyState:null,status:null,statusText:null,timeout:null,__determineSuccess:null,on:function(e,t,i){this._emitter.on(e,t,i);return this},open:function(e,t){if(!this.__disposed){this.__initXhrProperties();this.__abort=null;this.__url=t;this.__environmentGet("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Script,"Open native request with url: "+t);this._readyStateChange(1)}},setRequestHeader:function(e,t){if(this.__disposed)return null;var i={};if(1!==this.readyState)throw new Error("Invalid state");i[e]=t;this.__url=qx.util.Uri.appendParamsToUrl(this.__url,i);return this},send:function(){if(this.__disposed)return null;var e=this.__createScriptElement(),t=this.__headElement,i=this;this.timeout>0&&(this.__timeoutId=window.setTimeout(this.__onTimeoutBound,this.timeout));this.__environmentGet("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Script,"Send native request");t.insertBefore(e,t.firstChild);window.setTimeout(function(){i._readyStateChange(2);i._readyStateChange(3)});return this},abort:function(){if(this.__disposed)return null;this.__abort=!0;this.__disposeScriptElement();this._emit("abort");return this},_emit:function(e){this["on"+e]();this._emitter.emit(e,this)},onreadystatechange:function(){},onload:function(){},onloadend:function(){},onerror:function(){},onabort:function(){},ontimeout:function(){},getResponseHeader:function(e){if(this.__disposed)return null;this.__environmentGet("qx.debug")&&qx.Bootstrap.debug("Response header cannot be determined for requests made with script transport.");return"unknown"},getAllResponseHeaders:function(){if(this.__disposed)return null;this.__environmentGet("qx.debug")&&qx.Bootstrap.debug("Response headers cannot be determined forrequests made with script transport.");return"Unknown response headers"},setDetermineSuccess:function(e){this.__determineSuccess=e},dispose:function(){var e=this.__scriptElement;if(!this.__disposed){if(e){e.onload=e.onreadystatechange=null;this.__disposeScriptElement()}this.__timeoutId&&window.clearTimeout(this.__timeoutId);this.__disposed=!0}},isDisposed:function(){return!!this.__disposed},_getUrl:function(){return this.__url},_getScriptElement:function(){return this.__scriptElement},_onTimeout:function(){this.__failure();this.__supportsErrorHandler()||this._emit("error");this._emit("timeout");this.__supportsErrorHandler()||this._emit("loadend")},_onNativeLoad:function(){var e=this.__scriptElement,t=this.__determineSuccess,i=this;if(!this.__abort){if("mshtml"===this.__environmentGet("engine.name")&&this.__environmentGet("browser.documentmode")<9){if(!/loaded|complete/.test(e.readyState))return;this.__environmentGet("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Script,"Received native readyState: loaded")}this.__environmentGet("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Script,"Received native load");t&&(this.status||(this.status=t()?200:500));500===this.status&&this.__environmentGet("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Script,"Detected error");this.__timeoutId&&window.clearTimeout(this.__timeoutId);window.setTimeout(function(){i._success();i._readyStateChange(4);i._emit("load");i._emit("loadend")})}},_onNativeError:function(){this.__failure();this._emit("error");this._emit("loadend")},__scriptElement:null,__headElement:null,__url:"",__onNativeLoadBound:null,__onNativeErrorBound:null,__onTimeoutBound:null,__timeoutId:null,__abort:null,__disposed:null,__initXhrProperties:function(){this.readyState=0;this.status=0;this.statusText=""},_readyStateChange:function(e){this.readyState=e;this._emit("readystatechange")},_success:function(){this.__disposeScriptElement();this.readyState=4;this.status||(this.status=200);this.statusText=""+this.status},__failure:function(){this.__disposeScriptElement();this.readyState=4;this.status=0;this.statusText=null},__supportsErrorHandler:function(){var e="mshtml"===this.__environmentGet("engine.name")&&this.__environmentGet("browser.documentmode")<9,t="opera"===this.__environmentGet("engine.name");return!(e||t)},__createScriptElement:function(){var e=this.__scriptElement=document.createElement("script");e.src=this.__url;e.onerror=this.__onNativeErrorBound;e.onload=this.__onNativeLoadBound;"mshtml"===this.__environmentGet("engine.name")&&this.__environmentGet("browser.documentmode")<9&&(e.onreadystatechange=this.__onNativeLoadBound);return e},__disposeScriptElement:function(){var e=this.__scriptElement;e&&e.parentNode&&this.__headElement.removeChild(e)},__environmentGet:function(e){if(qx&&qx.core&&qx.core.Environment)return qx.core.Environment.get(e);if("engine.name"===e)return qx.bom.client.Engine.getName();if("browser.documentmode"===e)return qx.bom.client.Browser.getDocumentMode();if("qx.debug.io"==e)return!1;throw new Error("Unknown environment key at this phase")}},defer:function(){qx&&qx.core&&qx.core.Environment&&qx.core.Environment.add("qx.debug.io",!1)}});qx.bom.request.Script.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.Promise":{},"qx.core.Object":{},"qx.data.Array":{},"qx.event.GlobalError":{},"qx.core.Assert":{},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Promise",{extend:qx.dev.unit.TestCase,members:{testNewPromise:function(){var e=this;new qx.Promise(function(e,t){setTimeout(function(){e("ok")})},this).then(function(t){this.assertIdentical(this,e);this.assertEquals(t,"ok");this.resume()},function(e){this.assertTrue(!1);this.resume()});this.wait(1e3)},testReject:function(){var e=this;new qx.Promise(function(e,t){setTimeout(function(){t(new Error("oops"))})},this).then(function(e){this.assertTrue(!1);this.resume()},function(t){this.assertIdentical(this,e);this.assertEquals(t.message,"oops");this.resume()});this.wait(1e3)},testCatchFinally:function(){var e=null;qx.Promise.resolve().then(function(){throw new Error("oops")}).catch(function(t){e=t}).finally(function(){this.assertNotNull(e);this.resume()},this);this.wait(1e3)},testAllOf:function(){var e=this,t=new Date,i={a:new qx.Promise,b:new qx.Promise,c:new qx.Promise,d:"four",e:t};qx.Promise.allOf(i).then(function(n){e.assertTrue(i===n);e.assertEquals("one",i.a);e.assertEquals("two",i.b);e.assertEquals("three",i.c);e.assertEquals("four",i.d);e.assertTrue(i.e===t);e.resume()});i.a.then(function(){i.b.resolve("two")});i.b.then(function(){i.c.resolve("three")});i.a.resolve("one");e.wait(1e3)},testPropertySetValueAsPromise1:function(){var e=this,t=qx.Class.define("testPropertySetValueAsPromise1.Clazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0}}});this.assertTrue(!!t.prototype.setAlpha);this.assertFalse(!!t.prototype.setAlphaAsync);var i=new t,n=new qx.Promise(function(e){e(123)});i.setAlpha(n);n.then(function(){e.assertEquals(123,i.getAlpha());qx.Class.undefine("testPropertySetValueAsPromise1.Clazz");e.resume()});this.wait(1e3)},testPropertySetValueAsPromise2:function(){var e=this,t=qx.Class.define("testPropertySetValueAsPromise2.Clazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,async:!0}}});this.assertTrue(!!t.prototype.setAlpha);this.assertTrue(!!t.prototype.setAlphaAsync);var i=new t,n=new qx.Promise(function(e){e(123)});i.setAlphaAsync(n).then(function(){e.assertEquals(123,i.getAlpha());qx.Class.undefine("testPropertySetValueAsPromise2.Clazz");e.resume()});this.wait(1e3)},testPropertySetValueAsyncApply1:function(){var e,t=this,i=new(qx.Class.define("testPropertySetValueAsyncApply1.Clazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,apply:"_applyAlpha",event:"changeAlpha"}},members:{_applyAlpha:function(t,i){return e=new qx.Promise(function(e){setTimeout(function(){e("xyz")},250)})}}})),n=0;i.addListener("changeAlpha",function(e){n++});i.setAlpha("abc");this.assertTrue(!!e);this.assertEquals(0,n);this.assertEquals("abc",i.getAlpha());e.then(function(e){this.assertEquals("xyz",e);this.assertEquals("abc",i.getAlpha());this.assertEquals(1,n);qx.Class.undefine("testPropertySetValueAsyncApply1.Clazz");t.resume()},this);this.wait(1e3)},testPropertySetValueAsyncApply2:function(){var e=this,t=new(qx.Class.define("testPropertySetValueAsyncApply2.Clazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,async:!0,apply:"_applyAlpha",event:"changeAlpha"}},members:{_applyAlpha:function(e,t){return new qx.Promise(function(e){setTimeout(function(){e("xyz")},250)})}}})),i=0;t.addListener("changeAlpha",function(e){i++});var n=t.setAlphaAsync("abc");this.assertEquals(0,i);n.then(function(s){this.assertEquals("abc",s);this.assertEquals("abc",t.getAlpha());this.assertEquals(1,i);(n=t.setAlphaAsync("abc")).then(function(n){this.assertEquals("abc",n);this.assertEquals("abc",t.getAlpha());this.assertEquals(1,i);qx.Class.undefine("testPropertySetValueAsyncApply2.Clazz");e.resume()},this)},this);this.wait(1e3)},testPropertySetValueAsyncApply3:function(){var e=new(qx.Class.define("testPropertySetValueAsyncApply3.Clazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,check:"qx.Promise"}}})),t=qx.Promise.resolve("hello");e.setAlpha(t);this.assertEquals(t,e.getAlpha());qx.Class.undefine("testPropertySetValueAsyncApply3.Clazz")},testBinding:function(){var e=qx.Class.define("testBinding.AsyncClazz",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,async:!0,event:"changeAlpha"}},members:{_applyAlpha:function(e,t){return new qx.Promise(function(e){setTimeout(e,250)})}}}),t=qx.Class.define("testBinding.SyncClazz",{extend:qx.core.Object,properties:{bravo:{init:null,nullable:!0,event:"changeBravo"}}});new qx.Promise(function(i){var n=new e,s=new t,r=new qx.Promise;n.addListenerOnce("changeAlphaAsync",function(e){var t=e.getData();this.assertTrue(t instanceof qx.Promise);r.resolve()},this);var o=new qx.Promise,a=0,l=s.addListener("changeBravo",function(e){a++;this.assertTrue(a<=2);var t=e.getData();if(1==a)this.assertNull(t);else if(2==a){this.assertEquals("zyx",t);s.removeListenerById(l);o.resolve()}},this);n.getAlphaAsync();n.bind("alphaAsync",s,"bravo");n.setAlphaAsync("zyx");qx.Promise.all([r,o]).then(function(){var e=new qx.Promise;s.addListenerOnce("changeBravo",function(t){var i=t.getData();this.assertEquals("wvu",i);e.resolve()},this);n.setAlphaAsync("wvu");e.then(function(){this.resume()},this)},this)},this).then(function(){var i=new e,n=new t,s=new qx.Promise;i.addListenerOnce("changeAlphaAsync",function(e){var t=e.getData();this.assertEquals("def",t);s.resolve()},this);n.bind("bravo",i,"alphaAsync");n.setBravo("def");s.then(function(){var e=new qx.Promise;i.addListenerOnce("changeAlphaAsync",function(t){var i=t.getData();this.assertEquals("ghi",i);e.resolve()},this);n.setBravo("ghi");return e.then(function(){qx.Class.undefine("testBinding.AsyncClazz");qx.Class.undefine("testBinding.SyncClazz");this.resume()},this)},this)},this);this.wait(1e3)},testAsyncEventHandlers:function(){var e=qx.Class.define("testAsyncEventHandlers.Clazz",{extend:qx.core.Object,properties:{value:{},alpha:{init:null,nullable:!0,async:!0,apply:"_applyAlpha",event:"changeAlpha"},bravo:{init:null,nullable:!0,async:!0,apply:"_applyBravo",event:"changeBravo"}},members:{_applyAlpha:function(e,t){var i=new qx.Promise(function(t){console.log("in _applyAlpha qx.Promise, value="+e);setTimeout(function(){console.log("in _applyAlpha resolving qx.Promise, value="+e);t("xyz")},50)});console.log("in _applyAlpha, value="+e+", p="+i);return i},_applyBravo:function(e,t){return new qx.Promise(function(e){setTimeout(function(){e("uvw")},50)})}}});function t(t){var i=(new e).set({value:t});i.addListener("changeAlphaAsync",function(e){var i=e.getData(),n=new qx.Promise(function(e){console.log(t+": changeAlphaAsync 1 in qx.Promise, value="+i);setTimeout(function(){s.length&&(s+=",");s+=t;console.log(t+": changeAlphaAsync 1 resolving qx.Promise, value="+i);e()},200)}).then(function(){console.log(t+": changeAlphaAsync 1 resolved qx.Promise, value="+i)});console.log(t+": changeAlphaAsync 1, value="+i+", p="+n);return n});return i}var i=t("one"),n=t("two"),s="";i.addListener("changeAlphaAsync",function(e){var t=e.getData();console.log("objOne.alphaAsync setting, value="+t);return n.setAlphaAsync("def").then(function(){s+="xxx";console.log("objOne.alphaAsync done, value="+t)})});console.log("objOne.alphaAsync going to set value=abc");i.setAlphaAsync("abc").then(function(){console.log("objOne.alphaAsync completed set value=abc");this.assertEquals("one,twoxxx",s);qx.Class.undefine("testAsyncEventHandlers.Clazz");this.resume()},this);this.wait(2500)},testWaterfallBinding:function(){var e=this,t=qx.Class.define("testWaterfallBinding.Clazz",{extend:qx.core.Object,properties:{value:{},alpha:{init:null,nullable:!0,async:!0,apply:"_applyAlpha",event:"changeAlpha"}},members:{_applyAlpha:function(e,t){var i=this;console.log("pre applyAlpha["+i.getValue()+"] = "+e);return new qx.Promise(function(t){setTimeout(function(){console.log("applyAlpha["+i.getValue()+"] = "+e);t("xyz")},50)})}}}),i=[],n="";qx.Promise.mapSeries([0,1,2,3,4],function(e){var s=(new t).set({value:e});return(e>0?i[e-1].bindAsync("alphaAsync",s,"alphaAsync"):qx.Promise.resolve(!0)).then(function(){s.addListener("changeAlpha",function(t){var i=t.getTarget(),s=t.getData(),r=100*(5-e+1);console.log("pre changeAlpha "+i.getValue()+" = "+s+" after "+r);return new qx.Promise(function(e){setTimeout(function(){n.length&&(n+=",");n+=i.getValue()+":"+s;console.log("changeAlpha "+i.getValue()+" = "+s+" after "+r);e()},r)})},this);i[e]=s})}).then(function(){i[0].setAlphaAsync("abc").then(function(){e.assertEquals("0:abc,1:abc,2:abc,3:abc,4:abc",n);qx.Class.undefine("testWaterfallBinding.Clazz");e.resume()},e)});this.wait(1e4)},testEach1:function(){var e=this,t=new qx.data.Array;t.push("a");t.push("b");t.push("c");var i="";qx.Promise.resolve(t).forEach(function(e){i+=e}).then(function(){e.assertEquals("abc",i);e.resume()});e.wait(1e3)},testEach2:function(){var e=this,t=new qx.data.Array;t.push(new qx.Promise(function(e){setTimeout(function(){e("a")},500)}));t.push(new qx.Promise(function(e){setTimeout(function(){e("b")},300)}));t.push(new qx.Promise(function(e){setTimeout(function(){e("c")},100)}));t.push("d");t.push("e");var i="",n=qx.Promise.resolve(t);this.assertInstance(n,qx.Promise);var s=n.forEach(function(e){i+=e});this.assertInstance(s,qx.Promise);var r=s.then(function(){e.assertEquals("abcde",i);e.resume()});this.assertInstance(r,qx.Promise);e.wait(1e3)},testGlobalError:function(){var e=this;qx.event.GlobalError.setErrorHandler(function(t){e.assertEquals(t.message,"oops");e.resume()});new qx.Promise(function(e,t){setTimeout(function(){e("ok")})},this).then(function(e){throw new Error("oops")});this.wait(1e3)},testMethod:function(){var e=this,t=qx.Promise.method(function(e){return e})("yes");this.assertInstance(t,qx.Promise);t.then(function(t){e.assertEquals(t,"yes");e.resume()});this.wait(1e3)},testBinding1:function(){var e=this;qx.Promise.resolve("hello").bind(this).then(function(t){qx.core.Assert.assertIdentical(e,this);e.resume()});this.wait(1e3)},testBinding2:function(){var e=this;qx.Promise.forEach(["a","b","c"],function(t){qx.core.Assert.assertIdentical(e,this)},this).then(function(t){qx.core.Assert.assertIdentical(e,this);this.resume()},this);this.wait(1e3)},testMarshal:function(){var e=new qx.data.marshal.Json;e.toClass(qx.test.Promise.TEST_MODEL.children[0],!0);e.toModel(qx.test.Promise.TEST_MODEL.children[0])},testBindingToStatic:function(){var e=this;qx.Promise.resolve(!0).then(function(){qx.core.Assert.assertIdentical(qx.Promise,this);e.resume()},qx.Promise);this.wait(1e3)},testBindingResolve:function(){var e=this;qx.Promise.resolve(!0,this).then(function(){qx.core.Assert.assertIdentical(e,this);e.resume()});this.wait(1e3)},testBindingReject:function(){var e=this;qx.Promise.reject(new Error("Dummy Error"),this).catch(function(){qx.core.Assert.assertIdentical(e,this);e.resume()});this.wait(1e3)},testWrapping:function(){var e=this;new qx.Promise(function(e){e()}).then(function(){return qx.Promise.all(["foo",new qx.data.Array(["a","b","c"])])}).spread(function(t,i){e.assertEquals(t,"foo");e.assertInstance(i,qx.data.Array);e.assertEquals(i.join(""),"abc");e.resume()});this.wait(1e3)}},statics:{TEST_MODEL:{name:"qx",children:[{name:"test",children:[{name:"Class",children:[{name:"test: instantiate class in defer and access property"},{name:"testAbstract"},{name:"testAnonymous"}]},{name:"Bootstrap",children:[{name:"test: define bootstrap class, which extends 'Error'"},{name:"test: define class with constructor"},{name:"test: extend from Bootstrap class"}]}]}]}}});qx.test.Promise.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.data.marshal.IMarshaler",{members:{toClass:function(e,t){},toModel:function(e){}}});qx.data.marshal.IMarshaler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.marshal.IMarshaler":{require:!0},"qx.lang.Type":{},"qx.Bootstrap":{},"qx.lang.String":{},"qx.data.marshal.MEventBubbling":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.marshal.Json",{extend:qx.core.Object,implement:[qx.data.marshal.IMarshaler],construct:function(e){qx.core.Object.constructor.call(this);this.__delegate=e},statics:{$$instance:null,createModel:function(e,t){null===this.$$instance&&(this.$$instance=new qx.data.marshal.Json);this.$$instance.toClass(e,t);return this.$$instance.toModel(e)},legacyJsonHash:function(e,t){return Object.keys(e).sort().join('"')+(!0===t?"♥":"")}},members:{__delegate:null,__jsonToHash:function(e,t){return this.__delegate&&this.__delegate.getJsonHash?this.__delegate.getJsonHash(e,t):Object.keys(e).sort().join("|")+(!0===t?"♥":"")},__jsonToBestHash:function(e,t){if(!0===t)return this.__jsonToHash(e,!0);if(!1===t)return this.__jsonToHash(e,!1);var i=this.__jsonToHash(e),n=i+"♥",s="qx.data.model."+n;return qx.Class.isDefined(s)?n:i},toClass:function(e,t){this.__toClass(e,t,null,0)},__toClass:function(e,t,i,n){if(!qx.lang.Type.isObject(e)||e.$$isString||e instanceof qx.core.Object){if(e instanceof Array||"Array"==qx.Bootstrap.getClass(e))for(var s=0;s<e.length;s++)this.__toClass(e[s],t,i+"["+s+"]",n+1)}else{var r=this.__jsonToHash(e,t);if(!this.__ignore(r,i,n)){for(var o in e)this.__toClass(e[o],t,o,n+1);if(!(qx.Class.isDefined("qx.data.model."+r)||this.__delegate&&this.__delegate.getModelClass&&null!=this.__delegate.getModelClass(r,e,i,n))){var a={},l={__disposeItem:this.__disposeItem};for(var o in e){this.__delegate&&this.__delegate.getPropertyMapping&&(o=this.__delegate.getPropertyMapping(o,r));o=o.replace(/-|\.|\s+/g,"");this.assertTrue(/^[$0-9A-Za-z_]*$/.test(o),"The key '"+o+"' is not a valid JavaScript identifier.");a[o]={};a[o].nullable=!0;a[o].event="change"+qx.lang.String.firstUp(o);t&&(a[o].apply="_applyEventPropagation");if(this.__delegate&&this.__delegate.getValidationRule){var u=this.__delegate.getValidationRule(r,o);if(u){a[o].validate="_validate"+o;l["_validate"+o]=u}}}if(this.__delegate&&this.__delegate.getModelSuperClass)var c=this.__delegate.getModelSuperClass(r,i,n)||qx.core.Object;else c=qx.core.Object;var d=[];if(this.__delegate&&this.__delegate.getModelMixins){var h=this.__delegate.getModelMixins(r,i,n);qx.lang.Type.isArray(h)?d=h:null!=h&&(d=[h])}t&&d.push(qx.data.marshal.MEventBubbling);var g={extend:c,include:d,properties:a,members:l};qx.Class.define("qx.data.model."+r,g)}}}},__disposeItem:function(e){e instanceof qx.core.Object&&(e.isDisposed()||e.dispose())},__createInstance:function(e,t,i,n){var s;this.__delegate&&this.__delegate.getModelClass&&(s=this.__delegate.getModelClass(e,t,i,n));if(null!=s)return new s;var r="qx.data.model."+e,o=qx.Class.getByName(r);if(!o){var a=r.replace("♥","");if(qx.Class.getByName(a))throw new Error("Class '"+a+"' found, but it does not support changeBubble event.");throw new Error("Class '"+r+"' could not be found.")}return new o},__ignore:function(e,t,i){var n=this.__delegate;return n&&n.ignore&&n.ignore(e,t,i)},toModel:function(e,t){return this.__toModel(e,t,null,0)},__toModel:function(e,t,i,n){var s=qx.lang.Type.isObject(e),r=e instanceof Array||"Array"==qx.Bootstrap.getClass(e);if(!s&&!r||e.$$isString||e instanceof qx.core.Object)return e;if(this.__ignore(this.__jsonToBestHash(e,t),i,n))return e;if(r){var o=qx.data.Array;if(this.__delegate&&this.__delegate.getArrayClass){o=this.__delegate.getArrayClass(i,n)||o}var a=new o;a.setAutoDisposeItems(!0);for(var l=0;l<e.length;l++)a.push(this.__toModel(e[l],t,i+"["+l+"]",n+1));return a}if(s){var u=this.__jsonToBestHash(e,t),c=this.__createInstance(u,e,i,n);for(var d in e){var h=d;this.__delegate&&this.__delegate.getPropertyMapping&&(h=this.__delegate.getPropertyMapping(d,u));h=h.replace(/-|\.|\s+/g,"");var g="set"+qx.lang.String.firstUp(h);c[g]&&c[g](this.__toModel(e[d],t,d,n+1))}return c}throw new Error("Unsupported type!")}}});qx.data.marshal.Json.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.manager.Decoration":{},"qx.Theme":{},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Theme",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__formerTheme=qx.theme.manager.Decoration.getInstance().getTheme()},tearDown:function(){qx.test.Theme.themes=null;qx.theme.manager.Decoration.getInstance().setTheme(this.__formerTheme);this.__formerTheme=null},testExtendTheme:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A,decorations:{}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.B);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)},testIncludeTheme:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{include:qx.test.Theme.themes.A,decorations:{}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.B);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)},testIncludeInvalidTheme:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.theme.manager.Decoration.getInstance().setTheme(qx.test.Theme.themes.A);this.assertException(function(){var e=qx.theme.Foo;qx.Theme.include(qx.test.Theme.themes.A,e)},Error,"Mixin theme is not a valid theme!");this.assertException(function(){qx.Theme.include(qx.test.Theme.themes.A,null)},Error,"Mixin theme is not a valid theme!")},testPatchTheme:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{patch:qx.test.Theme.themes.A,decorations:{basic:{style:{}}}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.B);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)},testPatchInvalidTheme:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.theme.manager.Decoration.getInstance().setTheme(qx.test.Theme.themes.A);this.assertException(function(){var e=qx.theme.Foo;qx.Theme.patch(qx.test.Theme.themes.A,e)},Error,"Mixin theme is not a valid theme!");this.assertException(function(){qx.Theme.patch(qx.test.Theme.themes.A,null)},Error,"Mixin theme is not a valid theme!")},testIncludeThemeWithIncludes:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{include:[qx.test.Theme.themes.A],decorations:{}});qx.Theme.define("qx.test.Theme.themes.C",{include:[qx.test.Theme.themes.B],decorations:{}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.C);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)},testDoubleExtend:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A,decorations:{}});qx.Theme.define("qx.test.Theme.themes.C",{extend:qx.test.Theme.themes.B,decorations:{}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.C);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)},testExtendThemeWithIncludes:function(){qx.Theme.define("qx.test.Theme.themes.A",{decorations:{basic:{style:{}}}});qx.Theme.define("qx.test.Theme.themes.B",{include:[qx.test.Theme.themes.A],decorations:{}});qx.Theme.define("qx.test.Theme.themes.C",{extend:qx.test.Theme.themes.B,decorations:{}});var e=qx.theme.manager.Decoration.getInstance();e.setTheme(qx.test.Theme.themes.C);this.assertInstance(e.resolve("basic"),qx.ui.decoration.Decorator)}}});qx.test.Theme.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.xml.Element":{},"qx.xml.Document":{},"qx.dom.Node":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"engine.version":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.Xml",{extend:qx.dev.unit.TestCase,members:{serializeArray:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=qx.xml.Element.serialize(e[i]);return t.join(", ")},testParseSerializeXml:function(){var e=qx.xml.Document.create();this.assertTrue(qx.dom.Node.isDocument(e));var t=e.createElement("div");this.assertEquals("div",t.tagName);var i='<html><body>Juhu <em id="toll">Kinners</em>. Wie geht es <em>Euch</em>?</body></html>',n=qx.xml.Document.fromString(i);this.assertTrue(qx.dom.Node.isDocument(n));this.assertEquals(i,qx.xml.Element.serialize(n))},testFromString:function(){qx.xml.Document.fromString("<Root><Row>test1</Row><Row>test2</Row><Row>test3</Row></Root>")},testCreateDocument:function(){var e=qx.xml.Document.create("","rss");this.assertEquals("rss",e.documentElement.tagName);this.assertEquals(0,e.documentElement.childNodes.length);e=qx.xml.Document.create("http://www.w3.org/1999/xhtml/","html");this.assertEquals("http://www.w3.org/1999/xhtml/",e.documentElement.namespaceURI);this.assertEquals("html",e.documentElement.tagName);this.assertEquals(0,e.documentElement.childNodes.length)},testXPath:function(){var e=qx.xml.Document.fromString('<html><body>Juhu <em id="toll">Kinners</em>. Wie geht es <em>Euch</em>?</body></html>'),t=e.getElementsByTagName("em")[0];this.assertEquals('<em id="toll">Kinners</em>',qx.xml.Element.serialize(t));this.assertEquals(qx.xml.Element.serialize(t),qx.xml.Element.serialize(qx.xml.Element.selectSingleNode(e,'//*[@id="toll"]')));this.assertEquals(qx.xml.Element.serialize(e.getElementsByTagName("body")[0]),qx.xml.Element.serialize(qx.xml.Element.selectSingleNode(e,"//body")));this.assertEquals(this.serializeArray(e.getElementsByTagName("em")),this.serializeArray(qx.xml.Element.selectNodes(e,"//em")));this.assertEquals(this.serializeArray(e.getElementsByTagName("em")),this.serializeArray(qx.xml.Element.selectNodes(e.documentElement,"//em")))},testXPathNS:function(){var e=qx.xml.Document.fromString('<html xmlns="http://www.w3.org/1999/xhtml/"><body>Juhu <em id="toll">Kinners</em>. Wie geht es <em>Euch</em>?<foo xmlns="http://qooxdoo.org" id="bar"/></body></html>'),t=qx.xml.Element.getElementsByTagNameNS(e,"http://www.w3.org/1999/xhtml/","em")[0],i=qx.xml.Element.getElementsByTagNameNS(e,"http://qooxdoo.org","foo")[0],n=qx.xml.Element.serialize(t),s=qx.xml.Element.serialize(i),r={xhtml:"http://www.w3.org/1999/xhtml/",qx:"http://qooxdoo.org"},o="//xhtml:em",a="//qx:foo";if(navigator.userAgent.indexOf("Chrome")>0&&qx.core.Environment.get("engine.version")<532.2){this.assertException(function(){qx.xml.Element.selectSingleNode(e,o,r)},Error,"DOM Exception 14","Namespaced XPath query worked in Chrome < 532.2!");this.assertException(function(){qx.xml.Element.selectSingleNode(e,a,r)},Error,"DOM Exception 14","Namespaced XPath query worked in Chrome < 532.2!")}else{var l=qx.xml.Element.selectSingleNode(e,o,r),u=qx.xml.Element.serialize(l);this.assertEquals(u,n);var c=qx.xml.Element.selectSingleNode(e,a,r),d=qx.xml.Element.serialize(c);this.assertEquals(d,s);var h=qx.xml.Element.selectNodes(e,"//xhtml:body",r),g=qx.xml.Element.selectNodes(h[0],a,r),m=qx.xml.Element.serialize(g[0]);this.assertEquals(m,s)}},testGetElementsByTagNameNS:function(){var e=qx.xml.Document.fromString("<?xml version='1.0' encoding='UTF-8'?><xsl:stylesheet version='1.0' xmlns:xsl='http://www.w3.org/1999/XSL/Transform'><xsl:output method='xml' version='1.0' encoding='UTF-8' indent='yes'/><xsl:template match='*'></xsl:template><xsl:template match='@*'></xsl:template></xsl:stylesheet>"),t=qx.xml.Element.getElementsByTagNameNS(e,"http://www.w3.org/1999/XSL/Transform","template");this.assertEquals(2,t.length,"getElementsByTagNameNS for XML documents failed!");this.assertEquals("xsl:template",t[0].tagName,"getElementsByTagNameNS for XML documents failed!");t=qx.xml.Element.getElementsByTagNameNS(e.documentElement,"http://www.w3.org/1999/XSL/Transform","template");this.assertEquals(2,t.length,"getElementsByTagNameNS for element nodes failed!");this.assertEquals("xsl:template",t[0].tagName,"getElementsByTagNameNS for element nodes failed!")},testSetAttributeNS:function(){var e=qx.xml.Document.create("http://www.w3.org/1999/xhtml/","html"),t=e.createElement("a");qx.xml.Element.setAttributeNS(e,t,"http://www.qooxdoo.org/","qxid","foo");t.getAttributeNS?this.assertEquals("foo",t.getAttributeNS("http://www.qooxdoo.org/","qxid")):this.assertEquals("http://www.qooxdoo.org/",t.getAttributeNode("qxid").namespaceURI)},testGetAttributeNS:function(){var e=qx.xml.Document.create("http://www.w3.org/1999/xhtml/","html"),t=e.createElement("a");qx.xml.Element.setAttributeNS(e,t,"http://www.qooxdoo.org/","qxid","foo");this.assertEquals("foo",qx.xml.Element.getAttributeNS(t,"http://www.qooxdoo.org/","qxid"))},testCreateSubElementNS:function(){var e=qx.xml.Document.fromString('<html><body>Juhu <em id="toll">Kinners</em>.</body></html>'),t=e.getElementsByTagName("em")[0],i=qx.xml.Element.createSubElementNS(e,t,"foo","http://qooxdoo.org"),n=qx.xml.Element.getElementsByTagNameNS(e.documentElement,"http://qooxdoo.org","foo")[0];this.assertEquals(i,n);this.assertTrue(i.parentNode==t)}}});qx.test.Xml.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dom.Node":{},"qx.bom.client.Html":{},"qx.bom.client.Xml":{},"qx.bom.client.Engine":{defer:"runtime"},"qx.bom.client.Browser":{defer:"runtime"}},environment:{provided:[],required:{"html.xpath":{className:"qx.bom.client.Html"},"xml.selectsinglenode":{className:"qx.bom.client.Xml"},"xml.selectnodes":{className:"qx.bom.client.Xml"},"xml.getelementsbytagnamens":{className:"qx.bom.client.Xml"},"xml.domproperties":{className:"qx.bom.client.Xml"},"xml.attributens":{className:"qx.bom.client.Xml"},"xml.createnode":{className:"qx.bom.client.Xml"},"xml.getqualifieditem":{className:"qx.bom.client.Xml"},"xml.createelementns":{className:"qx.bom.client.Xml"},"engine.name":{defer:!0,className:"qx.bom.client.Engine"},"engine.version":{defer:!0,className:"qx.bom.client.Engine"},"browser.documentmode":{defer:!0,className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.xml.Element",{statics:{__xpe:null,XML_SERIALIZER:!1,serialize:function(e){qx.dom.Node.isDocument(e)&&(e=e.documentElement);return this.XML_SERIALIZER?(new XMLSerializer).serializeToString(e):e.xml||e.outerHTML},selectSingleNode:function(e,t,i){if(qx.core.Environment.get("html.xpath")){this.__xpe||(this.__xpe=new XPathEvaluator);var n,s=this.__xpe;n=i?function(e){return i[e]||null}:s.createNSResolver(e);try{return s.evaluate(t,e,n,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(i){throw new Error("selectSingleNode: query: "+t+", element: "+e+", error: "+i)}}if(qx.core.Environment.get("xml.selectsinglenode")){if(i){var r="";for(var o in i)r+="xmlns:"+o+"='"+i[o]+"' ";e.ownerDocument?e.ownerDocument.setProperty("SelectionNamespaces",r):e.setProperty("SelectionNamespaces",r)}return e.selectSingleNode(t)}throw new Error("No XPath implementation available!")},selectNodes:function(e,t,i){if(qx.core.Environment.get("html.xpath")){var n,s=this.__xpe;s||(this.__xpe=s=new XPathEvaluator);n=i?function(e){return i[e]||null}:s.createNSResolver(e);try{var r=s.evaluate(t,e,n,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null)}catch(i){throw new Error("selectNodes: query: "+t+", element: "+e+", error: "+i)}for(var o=[],a=0;a<r.snapshotLength;a++)o[a]=r.snapshotItem(a);return o}if(qx.core.Environment.get("xml.selectnodes")){if(i){var l="";for(var u in i)l+="xmlns:"+u+"='"+i[u]+"' ";e.ownerDocument?e.ownerDocument.setProperty("SelectionNamespaces",l):e.setProperty("SelectionNamespaces",l)}return e.selectNodes(t)}throw new Error("No XPath implementation available!")},getElementsByTagNameNS:function(e,t,i){if(qx.core.Environment.get("xml.getelementsbytagnamens"))return e.getElementsByTagNameNS(t,i);if(qx.core.Environment.get("xml.domproperties")){var n=e.ownerDocument||e;n.setProperty("SelectionLanguage","XPath");n.setProperty("SelectionNamespaces","xmlns:ns='"+t+"'");return qx.xml.Element.selectNodes(e,"descendant-or-self::ns:"+i)}throw new Error("The client does not support this operation!")},getSingleNodeText:function(e,t){var i=this.selectSingleNode(e,t);return qx.dom.Node.getText(i)},setAttributeNS:function(e,t,i,n,s){if(qx.core.Environment.get("xml.attributens"))t.setAttributeNS(i,n,s);else{if(!qx.core.Environment.get("xml.createnode"))throw new Error("The client does not support this operation!");var r=e.createNode(2,n,i);r.nodeValue=s;t.setAttributeNode(r)}},getAttributeNS:function(e,t,i){if(qx.core.Environment.get("xml.attributens")){return null===(s=e.getAttributeNS(t,i))?"":s}if(qx.core.Environment.get("xml.getqualifieditem")){var n=e.attributes,s=null;if(n){var r=n.getQualifiedItem(i,t);r&&(s=r.nodeValue)}return null===s?"":s}throw new Error("The client does not support this operation!")},createSubElementNS:function(e,t,i,n){if(qx.core.Environment.get("xml.createelementns")){var s=e.createElementNS(n,"x:"+i);t.appendChild(s);return s}if(qx.core.Environment.get("xml.createnode")){s=e.createNode(1,i,n);t.appendChild(s);return s}throw new Error("The client does not support this operation!")}},defer:function(e){e.XML_SERIALIZER=window.XMLSerializer&&!("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("engine.version")>=9&&qx.core.Environment.get("browser.documentmode")>=9)}});qx.xml.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.dev.unit.Sinon":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.dev.unit.MMock",{construct:function(){var e=this.__getSinon();this.__exposeAssertions();this.__sandbox=e.sandbox},members:{__sandbox:null,__fakeXhr:null,__exposeAssertions:function(){var e={};sinon.assert.expose(e,{includeFail:!1});for(var t in e)this[t]||(this[t]=e[t])},__getSinon:function(){return qx.dev.unit.Sinon.getSinon()},spy:function(e,t){return this.__sandbox.spy.apply(this.__sandbox,arguments)},stub:function(e,t){return this.__sandbox.stub.apply(this.__sandbox,arguments)},mock:function(e){var t=this.__getSinon();return t.mock.apply(t,arguments)},useFakeXMLHttpRequest:function(){return this.__fakeXhr=this.__sandbox.useFakeXMLHttpRequest()},getRequests:function(){return this.__fakeXhr.requests},useFakeServer:function(){return this.__fakeXhr=this.__sandbox.useFakeServer()},getServer:function(){return this.__sandbox.server},getSandbox:function(){return this.__sandbox},deepStub:function(e){this.__getOwnProperties(e).forEach(function(t){this.__stubProperty(e,t)},this);return e},shallowStub:function(e,t,i){this.__getOwnProperties(e,t).forEach(function(t){i&&i.indexOf(t)>=0||this.__stubProperty(e,t)},this);return e},injectStub:function(e,t,i){var n=i||this.deepStub(new e[t]);this.stub(e,t).returns(n);return n},revealMock:function(e,t,i){var n=i||this.__deepClone(new e[t]);this.stub(e,t).returns(n);return this.mock(n)},__deepClone:function(e){var t={};for(var i in e)t[i]=e[i];return t},__getOwnProperties:function(e,t){var i=e.constructor,n=[],s=[];if(t)for(;i.superclass;){n.push(i);if((i=i.superclass)==t.superclass)break}for(var r in e){if(n.length){if(!n.some(function(e){return e.prototype.hasOwnProperty(r)}))continue}s.push(r)}return s},__stubProperty:function(e,t){"constructor"!==t&&"function"==typeof e[t]&&this.stub(e,t)}}});qx.dev.unit.MMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.History":{},"qx.application.Routing":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.application.Routing",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__r:null,__initialState:null,setUp:function(){this.__initialState=qx.bom.History.getInstance().getState();this.__r=new qx.application.Routing},tearDown:function(){qx.bom.History.getInstance().setState(this.__initialState);this.__r.dispose()},testGet:function(){var e=this.spy();this.__r.onGet("/abc",e);this.__r.executeGet("/abc");this.assertCalledOnce(e)},testBack:function(){var e=this.spy(),t=this.spy();this.__r.onGet("/a",e);this.__r.onGet("/b",t);this.__r.executeGet("/a");this.__r.executeGet("/b");this.__r.back();this.assertCalledTwice(e);this.assertCalledOnce(t)},testBackCycle:function(){var e=this.spy(),t=this.spy(),i=this.spy();this.__r.onGet("/a",e);this.__r.onGet("/b",t);this.__r.onGet("/c",i);this.__r.executeGet("/a");this.__r.executeGet("/b");this.__r.executeGet("/c");this.__r.executeGet("/b");this.__r.back();this.assertCalledTwice(e);this.assertCalledTwice(t);this.assertCalledOnce(i)},testGetCustomData:function(){var e=this.spy();this.__r.onGet("/abc",e);this.__r.executeGet("/abc",{a:!0});this.assertCalledOnce(e);this.assertTrue(e.args[0][0].customData.a)},testGetCustomDataTwoInstances:function(){var e=new qx.application.Routing,t=this.spy();this.__r.onGet("/abc",t);e.executeGet("/abc",{a:!0});this.assertCalledOnce(t);this.assertTrue(t.args[0][0].customData.a);e.dispose()},testOn:function(){var e=this.spy();this.__r.on("/",e);this.__r.execute("/");this.assertCalledOnce(e)},testPost:function(){var e=this.spy();this.__r.onPost("/abc",e);this.__r.executePost("/abc");this.assertCalledOnce(e)},testPostParam:function(){var e=this.spy();this.__r.onPost("/{id}/affe",e);this.__r.executePost("/123456/affe",{data:"test"},"custom data");this.assertCalledOnce(e);this.assertCalledWith(e,{customData:"custom data",params:{id:"123456",data:"test"},path:"/123456/affe"})},testDelete:function(){var e=this.spy();this.__r.onDelete("/abc",e);this.__r.executeDelete("/abc");this.assertCalledOnce(e)},testPut:function(){var e=this.spy();this.__r.onPut("/abc",e);this.__r.executePut("/abc");this.assertCalledOnce(e)},testAny:function(){var e=this.spy();this.__r.onAny("/abc",e);this.__r.executePost("/abc");this.__r.executeDelete("/abc");this.assertCalledTwice(e)},testInit:function(){var e=this.spy(),t=this.spy();this.__r.dispose();this.__r=new qx.application.Routing;this.__r.onGet("/a/b/c",e);this.assertNotCalled(e);this.__r.onGet("/",t);this.assertNotCalled(t);this.__r.init();this.assertNotCalled(e);this.assertCalledOnce(t);qx.bom.History.getInstance().setState("/a/b/c");this.assertCalledOnce(e)},testGetPathOrFallback:function(){this.__r.on("/registered",function(){});this.assertEquals("/",this.__r._getPathOrFallback(""));this.assertEquals("/",this.__r._getPathOrFallback(null));this.assertEquals("/",this.__r._getPathOrFallback("/not/registered"));this.assertEquals("/given/default",this.__r._getPathOrFallback("use_default_instead_of_this","/given/default"));this.assertEquals("/registered",this.__r._getPathOrFallback("/registered"))}}});qx.test.application.Routing.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var $$dbClassInfo={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.DeferredCallManager":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Bootstrap.define("qx.dev.unit.Sinon",{statics:{getSinon:null}});(function(){this.sinon=function(){var samsam,formatio;function define(e,t,i){"samsam"==e?samsam=t():formatio=i(samsam)}define.amd=!0;("function"==typeof define&&define.amd&&function(e){define("samsam",e)}||"object"===("undefined"==typeof module?"undefined":_typeof(module))&&function(e){module.exports=e()}||function(e){this.samsam=e()})(function(){var e,t=Object.prototype,i="undefined"!=typeof document&&document.createElement("div");function n(e){return"number"==typeof e&&e!==e}function s(e){return t.toString.call(e).split(/[ \]]/)[1]}function r(e){if("object"!==_typeof(e)||"number"!=typeof e.length||"Array"===s(e))return!1;if("function"==typeof e.callee)return!0;try{e[e.length]=6;delete e[e.length]}catch(e){return!0}return!1}function o(e){if(!e||1!==e.nodeType||!i)return!1;try{e.appendChild(i);e.removeChild(i)}catch(e){return!1}return!0}function a(e){var i,n=[];for(i in e)t.hasOwnProperty.call(e,i)&&n.push(i);return n}function l(e){return"function"==typeof e.getTime&&e.getTime()==e.valueOf()}function u(e){return 0===e&&1/e==-1/0}function c(e,t){if(e===t||n(e)&&n(t))return 0!==e||u(e)===u(t)}function d(t,i){if(0===i.length)return!0;var n,s,r,o;for(n=0,s=t.length;n<s;++n)if(e(t[n],i[0])){for(r=0,o=i.length;r<o;++r)if(!e(t[n+r],i[r]))return!1;return!0}return!1}return{isArguments:r,isElement:o,isDate:l,isNegZero:u,identical:c,deepEqual:function(e,i){var u=[],d=[],h=[],g=[],m={};function f(e){return!("object"!==_typeof(e)||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)}function p(e,t){var i;for(i=0;i<e.length;i++)if(e[i]===t)return i;return-1}return function e(i,_,x,q){var v=_typeof(i),b=_typeof(_);if(i===_||n(i)||n(_)||null==i||null==_||"object"!==v||"object"!==b)return c(i,_);if(o(i)||o(_))return!1;var y=l(i),C=l(_);if((y||C)&&(!y||!C||i.getTime()!==_.getTime()))return!1;if(i instanceof RegExp&&_ instanceof RegExp&&i.toString()!==_.toString())return!1;var w,E,S,T,I,A,D,B,L,M,P,k=s(i),R=s(_),O=a(i),F=a(_);if(r(i)||r(_)){if(i.length!==_.length)return!1}else if(v!==b||k!==R||O.length!==F.length)return!1;for(E=0,S=O.length;E<S;E++){w=O[E];if(!t.hasOwnProperty.call(_,w))return!1;T=i[w];I=_[w];A=f(T);D=f(I);B=A?p(u,T):-1;L=D?p(d,I):-1;M=-1!==B?h[B]:x+"["+JSON.stringify(w)+"]";P=-1!==L?g[L]:q+"["+JSON.stringify(w)+"]";if(m[M+P])return!0;if(-1===B&&A){u.push(T);h.push(M)}if(-1===L&&D){d.push(I);g.push(P)}A&&D&&(m[M+P]=!0);if(!e(T,I,M,P))return!1}return!0}(e,i,"$1","$2")},match:e=function e(t,i){if(i&&"function"==typeof i.test)return i.test(t);if("function"==typeof i)return!0===i(t);if("string"==typeof i){i=i.toLowerCase();return("string"==typeof t||!!t)&&String(t).toLowerCase().indexOf(i)>=0}if("number"==typeof i)return i===t;if("boolean"==typeof i)return i===t;if("Array"===s(t)&&"Array"===s(i))return d(t,i);if(i&&"object"===_typeof(i)){var n;for(n in i)if(!e(t[n],i[n]))return!1;return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},keys:a}});("function"==typeof define&&define.amd&&function(e){define("formatio",["samsam"],e)}||"object"===("undefined"==typeof module?"undefined":_typeof(module))&&function(e){module.exports=e(require("samsam"))}||function(e){this.formatio=e(this.samsam)})(function(e){var t={excludeConstructors:["Object",/^.$/],quoteStrings:!0},i=[];"undefined"!=typeof global&&i.push({object:global,value:"[object global]"});"undefined"!=typeof document&&i.push({object:document,value:"[object HTMLDocument]"});"undefined"!=typeof window&&i.push({object:window,value:"[object Window]"});function n(e){if(!e)return"";if(e.displayName)return e.displayName;if(e.name)return e.name;var t=e.toString().match(/function\s+([^\(]+)/m);return t&&t[1]||""}function s(e,i){var s,r,o=n(i&&i.constructor),a=e.excludeConstructors||t.excludeConstructors||[];for(s=0,r=a.length;s<r;++s){if("string"==typeof a[s]&&a[s]===o)return"";if(a[s].test&&a[s].test(o))return""}return o}function r(e,t){if("object"!==_typeof(e))return!1;var i,n;for(i=0,n=t.length;i<n;++i)if(t[i]===e)return!0;return!1}function o(t,n,s,a){if("string"==typeof n){var l=t.quoteStrings;return s||("boolean"!=typeof l||l)?'"'+n+'"':n}if("function"==typeof n&&!(n instanceof RegExp))return o.func(n);if(r(n,s=s||[]))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(n))return o.array.call(t,n,s);if(!n)return String(1/n==-1/0?"-0":n);if(e.isElement(n))return o.element(n);if("function"==typeof n.toString&&n.toString!==Object.prototype.toString)return n.toString();var u,c;for(u=0,c=i.length;u<c;u++)if(n===i[u].object)return i[u].value;return o.object.call(t,n,s,a)}o.func=function(e){return"function "+n(e)+"() {}"};o.array=function(e,t){(t=t||[]).push(e);var i,n,s=[];for(i=0,n=e.length;i<n;++i)s.push(o(this,e[i],t));return"["+s.join(", ")+"]"};o.object=function(t,i,n){(i=i||[]).push(t);n=n||0;var a,l,u,c,d,h=[],g=e.keys(t).sort(),m=3;for(c=0,d=g.length;c<d;++c){l=r(u=t[a=g[c]],i)?"[Circular]":o(this,u,i,n+2);m+=(l=(/\s/.test(a)?'"'+a+'"':a)+": "+l).length;h.push(l)}var f=s(this,t),p=f?"["+f+"] ":"",_="";for(c=0,d=n;c<d;++c)_+=" ";return m+n>80?p+"{\n  "+_+h.join(",\n  "+_)+"\n"+_+"}":p+"{ "+h.join(", ")+" }"};o.element=function(e){var t,i,n,s,r,o=e.tagName.toLowerCase(),a=e.attributes,l=[];for(n=0,s=a.length;n<s;++n){i=(t=a.item(n)).nodeName.toLowerCase().replace("html:","");r=t.nodeValue;"contenteditable"===i&&"inherit"===r||r&&l.push(i+'="'+r+'"')}var u="<"+o+(l.length>0?" ":""),c=e.innerHTML;c.length>20&&(c=c.substr(0,20)+"[...]");return(u+l.join(" ")+">"+c+"</"+o+">").replace(/ contentEditable="inherit"/,"")};function a(e){for(var t in e)this[t]=e[t]}a.prototype={functionName:n,configure:function(e){return new a(e)},constructorName:function(e){return s(this,e)},ascii:function(e,t,i){return o(this,e,t,i)}};return a.prototype});var sinon=function(e){var t="undefined"!=typeof document&&document.createElement("div"),i=Object.prototype.hasOwnProperty;function n(e){return t&&e&&1===e.nodeType&&function(e){var i=!1;try{e.appendChild(t);i=t.parentNode==e}catch(e){return!1}finally{try{e.removeChild(t)}catch(e){}}return i}(e)}function s(e){return"number"==typeof e&&isNaN(e)}function r(e){return"function"==typeof e&&"function"==typeof e.restore&&e.restore.sinon}var o={wrapMethod:function(e,t,n){if(!e)throw new TypeError("Should wrap property of object");if("function"!=typeof n)throw new TypeError("Method wrapper should be function");var s,r,o=e[t];"function"==typeof(r=o)||r&&r.constructor&&r.call&&r.apply||(s=new TypeError("Attempted to wrap "+_typeof(o)+" property "+t+" as function"));o.restore&&o.restore.sinon&&(s=new TypeError("Attempted to wrap "+t+" which is already wrapped"));if(o.calledBefore){var a=o.returns?"stubbed":"spied on";s=new TypeError("Attempted to wrap "+t+" which is already "+a)}if(s){o._stack&&(s.stack+="\n--------------\n"+o._stack);throw s}var l=e.hasOwnProperty?e.hasOwnProperty(t):i.call(e,t);e[t]=n;n.displayName=t;n._stack=new Error("Stack Trace for original").stack;n.restore=function(){l||delete e[t];e[t]===n&&(e[t]=o)};n.restore.sinon=!0;!function(e,t){for(var n in t)i.call(e,n)||(e[n]=t[n])}(n,o);return n},extend:function(e){for(var t=1,i=arguments.length;t<i;t+=1)for(var n in arguments[t]){arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);arguments[t].hasOwnProperty("toString")&&arguments[t].toString!=e.toString&&(e.toString=arguments[t].toString)}return e},create:function(e){var t=function(){};t.prototype=e;return new t},deepEqual:function e(t,i){if(o.match&&o.match.isMatcher(t))return t.test(i);if("object"!=_typeof(t)||"object"!=_typeof(i))return!(!s(t)||!s(i))||t===i;if(n(t)||n(i))return t===i;if(t===i)return!0;if(null===t&&null!==i||null!==t&&null===i)return!1;if(t instanceof RegExp&&i instanceof RegExp)return t.source===i.source&&t.global===i.global&&t.ignoreCase===i.ignoreCase&&t.multiline===i.multiline;var r=Object.prototype.toString.call(t);if(r!=Object.prototype.toString.call(i))return!1;if("[object Date]"==r)return t.valueOf()===i.valueOf();var a,l=0,u=0;if("[object Array]"==r&&t.length!==i.length)return!1;for(a in t){l+=1;if(!e(t[a],i[a]))return!1}for(a in i)u+=1;return l==u},functionName:function(e){var t=e.displayName||e.name;if(!t){var i=e.toString().match(/function ([^\s\(]+)/);t=i&&i[1]}return t},functionToString:function(){if(this.getCall&&this.callCount)for(var e,t,i=this.callCount;i--;){e=this.getCall(i).thisValue;for(t in e)if(e[t]===this)return t}return this.displayName||"sinon fake"},getConfig:function(e){var t={};e=e||{};var i=o.defaultConfig;for(var n in i)i.hasOwnProperty(n)&&(t[n]=e.hasOwnProperty(n)?e[n]:i[n]);return t},format:function(e){return""+e},defaultConfig:{injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},timesInWords:function(e){return(1==e?"once":2==e&&"twice")||3==e&&"thrice"||(e||0)+" times"},calledInOrder:function(e){for(var t=1,i=e.length;t<i;t++)if(!e[t-1].calledBefore(e[t])||!e[t].called)return!1;return!0},orderByFirstCall:function(e){return e.sort(function(e,t){var i=e.getCall(0),n=t.getCall(0);return(i&&i.callId||-1)<(n&&n.callId||-1)?-1:1})},log:function(){},logError:function(e,t){var i=e+" threw exception: ";o.log(i+"["+t.name+"] "+t.message);t.stack&&o.log(t.stack);setTimeout(function(){t.message=i+t.message;throw t},0)},typeOf:function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1).toLowerCase()},createStubInstance:function(e){if("function"!=typeof e)throw new TypeError("The constructor should be a function.");return o.stub(o.create(e.prototype))},restore:function(e){if(null!==e&&"object"===_typeof(e))for(var t in e)r(e[t])&&e[t].restore();else r(e)&&e.restore()}},a="undefined"!=typeof module&&module.exports;if("function"==typeof define&&"object"===_typeof(define.amd)&&define.amd)define(function(){return o});else if(a){try{e=require("formatio")}catch(e){}module.exports=o;module.exports.spy=require("./sinon/spy");module.exports.spyCall=require("./sinon/call");module.exports.behavior=require("./sinon/behavior");module.exports.stub=require("./sinon/stub");module.exports.mock=require("./sinon/mock");module.exports.collection=require("./sinon/collection");module.exports.assert=require("./sinon/assert");module.exports.sandbox=require("./sinon/sandbox");module.exports.test=require("./sinon/test");module.exports.testCase=require("./sinon/test_case");module.exports.assert=require("./sinon/assert");module.exports.match=require("./sinon/match")}if(e){var l=e.configure({quoteStrings:!1});o.format=function(){return l.ascii.apply(l,arguments)}}else if(a)try{var u=require("util");o.format=function(e){return"object"==_typeof(e)&&e.toString===Object.prototype.toString?u.inspect(e):e}}catch(e){}return o}("object"==_typeof(formatio)&&formatio);!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));if(e){var i={toString:function(){return this.message},or:function(t){if(!arguments.length)throw new TypeError("Matcher expected");r(t)||(t=n(t));var s=this,o=e.create(i);o.test=function(e){return s.test(e)||t.test(e)};o.message=s.message+".or("+t.message+")";return o},and:function(t){if(!arguments.length)throw new TypeError("Matcher expected");r(t)||(t=n(t));var s=this,o=e.create(i);o.test=function(e){return s.test(e)&&t.test(e)};o.message=s.message+".and("+t.message+")";return o}},n=function(t,n){var s=e.create(i);switch(e.typeOf(t)){case"object":if("function"==typeof t.test){s.test=function(e){return!0===t.test(e)};s.message="match("+e.functionName(t.test)+")";return s}var r=[];for(var a in t)t.hasOwnProperty(a)&&r.push(a+": "+t[a]);s.test=function(e){return o(t,e)};s.message="match("+r.join(", ")+")";break;case"number":s.test=function(e){return t==e};break;case"string":s.test=function(e){return"string"==typeof e&&-1!==e.indexOf(t)};s.message='match("'+t+'")';break;case"regexp":s.test=function(e){return"string"==typeof e&&t.test(e)};break;case"function":s.test=t;s.message=n||"match("+e.functionName(t)+")";break;default:s.test=function(i){return e.deepEqual(t,i)}}s.message||(s.message="match("+t+")");return s};n.isMatcher=r;n.any=n(function(){return!0},"any");n.defined=n(function(e){return null!==e&&void 0!==e},"defined");n.truthy=n(function(e){return!!e},"truthy");n.falsy=n(function(e){return!e},"falsy");n.same=function(e){return n(function(t){return e===t},"same("+e+")")};n.typeOf=function(t){s(t,"string","type");return n(function(i){return e.typeOf(i)===t},'typeOf("'+t+'")')};n.instanceOf=function(t){s(t,"function","type");return n(function(e){return e instanceof t},"instanceOf("+e.functionName(t)+")")};n.has=a(function(e,t){return"object"===_typeof(e)?t in e:void 0!==e[t]},"has");n.hasOwn=a(function(e,t){return e.hasOwnProperty(t)},"hasOwn");n.bool=n.typeOf("boolean");n.number=n.typeOf("number");n.string=n.typeOf("string");n.object=n.typeOf("object");n.func=n.typeOf("function");n.array=n.typeOf("array");n.regexp=n.typeOf("regexp");n.date=n.typeOf("date");t?module.exports=n:e.match=n}function s(t,i,n){var s=e.typeOf(t);if(s!==i)throw new TypeError("Expected type of "+n+" to be "+i+", but was "+s)}function r(e){return i.isPrototypeOf(e)}function o(t,i){if(null===i||void 0===i)return!1;for(var s in t)if(t.hasOwnProperty(s)){var r=t[s],a=i[s];if(n.isMatcher(r)){if(!r.test(a))return!1}else if("object"===e.typeOf(r)){if(!o(r,a))return!1}else if(!e.deepEqual(r,a))return!1}return!0}function a(t,i){return function(r,o){s(r,"string","property");var a=1===arguments.length,l=i+'("'+r+'"';a||(l+=", "+o);return n(function(i){return!(void 0===i||null===i||!t(i,r))&&(a||e.deepEqual(o,i[r]))},l+=")")}}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));if(e){var i=Array.prototype.slice,n={calledOn:function(t){return e.match&&e.match.isMatcher(t)?t.test(this.thisValue):this.thisValue===t},calledWith:function(){for(var t=0,i=arguments.length;t<i;t+=1)if(!e.deepEqual(arguments[t],this.args[t]))return!1;return!0},calledWithMatch:function(){for(var t=0,i=arguments.length;t<i;t+=1){var n=this.args[t],s=arguments[t];if(!e.match||!e.match(s).test(n))return!1}return!0},calledWithExactly:function(){return arguments.length==this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(t){return e.deepEqual(t,this.returnValue)},threw:function(e){return void 0!==e&&this.exception?this.exception===e||this.exception.name===e:!!this.exception},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(e){return this.callId<e.callId},calledAfter:function(e){return this.callId>e.callId},callArg:function(e){this.args[e]()},callArgOn:function(e,t){this.args[e].apply(t)},callArgWith:function(e){this.callArgOnWith.apply(this,[e,null].concat(i.call(arguments,1)))},callArgOnWith:function(e,t){var n=i.call(arguments,2);this.args[e].apply(t,n)},yield:function(){this.yieldOn.apply(this,[null].concat(i.call(arguments,0)))},yieldOn:function(e){for(var t=this.args,n=0,r=t.length;n<r;++n)if("function"==typeof t[n]){t[n].apply(e,i.call(arguments,1));return}s(this.proxy," cannot yield since no callback was passed.",t)},yieldTo:function(e){this.yieldToOn.apply(this,[e,null].concat(i.call(arguments,1)))},yieldToOn:function(e,t){for(var n=this.args,r=0,o=n.length;r<o;++r)if(n[r]&&"function"==typeof n[r][e]){n[r][e].apply(t,i.call(arguments,2));return}s(this.proxy," cannot yield to '"+e+"' since no callback was passed.",n)},toString:function(){for(var t=this.proxy.toString()+"(",i=[],n=0,s=this.args.length;n<s;++n)i.push(e.format(this.args[n]));t=t+i.join(", ")+")";void 0!==this.returnValue&&(t+=" => "+e.format(this.returnValue));if(this.exception){t+=" !"+this.exception.name;this.exception.message&&(t+="("+this.exception.message+")")}return t}};n.invokeCallback=n.yield;r.toString=n.toString;t?module.exports=r:e.spyCall=r}function s(t,n,s){var r=e.functionName(t)+n;s.length&&(r+=" Received ["+i.call(s).join(", ")+"]");throw new Error(r)}function r(t,i,s,r,o,a){if("number"!=typeof a)throw new TypeError("Call id is not a number");var l=e.create(n);l.proxy=t;l.thisValue=i;l.args=s;l.returnValue=r;l.exception=o;l.callId=a;return l}}("object"==_typeof(sinon)&&sinon||null);!function(sinon){var commonJSModule="undefined"!=typeof module&&module.exports,push=Array.prototype.push,slice=Array.prototype.slice,callId=0;!sinon&&commonJSModule&&(sinon=require("../sinon"));if(sinon){var vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){this.called=!1;this.notCalled=!0;this.calledOnce=!1;this.calledTwice=!1;this.calledThrice=!1;this.callCount=0;this.firstCall=null;this.secondCall=null;this.thirdCall=null;this.lastCall=null;this.args=[];this.returnValues=[];this.thisValues=[];this.exceptions=[];this.callIds=[];if(this.fakes)for(var e=0;e<this.fakes.length;e++)this.fakes[e].reset()},create:function(e){var t;"function"!=typeof e?e=function(){}:t=sinon.functionName(e);var i=createProxy(e);sinon.extend(i,spy);delete i.create;sinon.extend(i,e);i.reset();i.prototype=e.prototype;i.displayName=t||"spy";i.toString=sinon.functionToString;i._create=sinon.spy.create;i.id="spy#"+uuid++;return i},invoke:function(e,t,i){var n,s,r=matchingFake(this.fakes,i);incrementCallCount.call(this);push.call(this.thisValues,t);push.call(this.args,i);push.call(this.callIds,callId++);try{s=r?r.invoke(e,t,i):(this.func||e).apply(t,i);this.getCall(this.callCount-1).calledWithNew()&&"object"!==_typeof(s)&&(s=t)}catch(e){n=e}push.call(this.exceptions,n);push.call(this.returnValues,s);createCallProperties.call(this);if(void 0!==n)throw n;return s},getCall:function(e){return e<0||e>=this.callCount?null:sinon.spyCall(this,this.thisValues[e],this.args[e],this.returnValues[e],this.exceptions[e],this.callIds[e])},getCalls:function(){var e,t=[];for(e=0;e<this.callCount;e++)t.push(this.getCall(e));return t},calledBefore:function(e){return!!this.called&&(!e.called||this.callIds[0]<e.callIds[e.callIds.length-1])},calledAfter:function(e){return!(!this.called||!e.called)&&this.callIds[this.callCount-1]>e.callIds[e.callCount-1]},withArgs:function(){var e=slice.call(arguments);if(this.fakes){var t=matchingFake(this.fakes,e,!0);if(t)return t}else this.fakes=[];var i=this,n=this._create();n.matchingAguments=e;n.parent=this;push.call(this.fakes,n);n.withArgs=function(){return i.withArgs.apply(i,arguments)};for(var s=0;s<this.args.length;s++)if(n.matches(this.args[s])){incrementCallCount.call(n);push.call(n.thisValues,this.thisValues[s]);push.call(n.args,this.args[s]);push.call(n.returnValues,this.returnValues[s]);push.call(n.exceptions,this.exceptions[s]);push.call(n.callIds,this.callIds[s])}createCallProperties.call(n);return n},matches:function(e,t){var i=this.matchingAguments;if(i.length<=e.length&&sinon.deepEqual(i,e.slice(0,i.length)))return!t||i.length==e.length},printf:function(e){var t,i=this,n=slice.call(arguments,1);return(e||"").replace(/%(.)/g,function(e,s){return"function"==typeof(t=spyApi.formatters[s])?t.call(null,i,n):isNaN(parseInt(s,10))?"%"+s:sinon.format(n[s-1])})}};delegateToCalls("calledOn",!0);delegateToCalls("alwaysCalledOn",!1,"calledOn");delegateToCalls("calledWith",!0);delegateToCalls("calledWithMatch",!0);delegateToCalls("alwaysCalledWith",!1,"calledWith");delegateToCalls("alwaysCalledWithMatch",!1,"calledWithMatch");delegateToCalls("calledWithExactly",!0);delegateToCalls("alwaysCalledWithExactly",!1,"calledWithExactly");delegateToCalls("neverCalledWith",!1,"notCalledWith",function(){return!0});delegateToCalls("neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0});delegateToCalls("threw",!0);delegateToCalls("alwaysThrew",!1,"threw");delegateToCalls("returned",!0);delegateToCalls("alwaysReturned",!1,"returned");delegateToCalls("calledWithNew",!0);delegateToCalls("alwaysCalledWithNew",!1,"calledWithNew");delegateToCalls("callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")});spyApi.callArgWith=spyApi.callArg;delegateToCalls("callArgOn",!1,"callArgOnWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")});spyApi.callArgOnWith=spyApi.callArgOn;delegateToCalls("yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")});spyApi.invokeCallback=spyApi.yield;delegateToCalls("yieldOn",!1,"yieldOn",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")});delegateToCalls("yieldTo",!1,"yieldTo",function(e){throw new Error(this.toString()+" cannot yield to '"+e+"' since it was not yet invoked.")});delegateToCalls("yieldToOn",!1,"yieldToOn",function(e){throw new Error(this.toString()+" cannot yield to '"+e+"' since it was not yet invoked.")});spyApi.formatters={c:function(e){return sinon.timesInWords(e.callCount)},n:function(e){return e.toString()},C:function(e){for(var t=[],i=0,n=e.callCount;i<n;++i){var s="    "+e.getCall(i).toString();/\n/.test(t[i-1])&&(s="\n"+s);push.call(t,s)}return t.length>0?"\n"+t.join("\n"):""},t:function(e){for(var t=[],i=0,n=e.callCount;i<n;++i)push.call(t,sinon.format(e.thisValues[i]));return t.join(", ")},"*":function(e,t){for(var i=[],n=0,s=t.length;n<s;++n)push.call(i,sinon.format(t[n]));return i.join(", ")}};sinon.extend(spy,spyApi);spy.spyCall=sinon.spyCall;commonJSModule?module.exports=spy:sinon.spy=spy}function spy(e,t){if(!t&&"function"==typeof e)return spy.create(e);if(!e&&!t)return spy.create(function(){});var i=e[t];return sinon.wrapMethod(e,t,spy.create(i))}function matchingFake(e,t,i){if(e)for(var n=0,s=e.length;n<s;n++)if(e[n].matches(t,i))return e[n]}function incrementCallCount(){this.called=!0;this.callCount+=1;this.notCalled=!1;this.calledOnce=1==this.callCount;this.calledTwice=2==this.callCount;this.calledThrice=3==this.callCount}function createCallProperties(){this.firstCall=this.getCall(0);this.secondCall=this.getCall(1);this.thirdCall=this.getCall(2);this.lastCall=this.getCall(this.callCount-1)}function createProxy(func){var p;func.length?eval("p = (function proxy("+vars.substring(0,2*func.length-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))};return p}function delegateToCalls(e,t,i,n){spyApi[e]=function(){if(!this.called)return!!n&&n.apply(this,arguments);for(var s,r=0,o=0,a=this.callCount;o<a;o+=1)if((s=this.getCall(o))[i||e].apply(s,arguments)){r+=1;if(t)return!0}return r===this.callCount}}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));if(e){var i,n=Array.prototype.slice,s=Array.prototype.join,r="object"===("undefined"==typeof process?"undefined":_typeof(process))&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:function(e){setTimeout(e,0)};i={create:function(t){var i=e.extend({},e.behavior);delete i.create;i.stub=t;return i},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||"number"==typeof this.returnArgAt||this.returnThis||this.returnValueDefined},invoke:function(e,t){l(this,t);if(this.exception)throw this.exception;return"number"==typeof this.returnArgAt?t[this.returnArgAt]:this.returnThis?e:this.returnValue},onCall:function(e){return this.stub.onCall(e)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')},callsArg:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");this.callArgAt=e;this.callbackArguments=[];this.callbackContext=void 0;this.callArgProp=void 0;this.callbackAsync=!1;return this},callsArgOn:function(e,t){if("number"!=typeof e)throw new TypeError("argument index is not number");if("object"!=_typeof(t))throw new TypeError("argument context is not an object");this.callArgAt=e;this.callbackArguments=[];this.callbackContext=t;this.callArgProp=void 0;this.callbackAsync=!1;return this},callsArgWith:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");this.callArgAt=e;this.callbackArguments=n.call(arguments,1);this.callbackContext=void 0;this.callArgProp=void 0;this.callbackAsync=!1;return this},callsArgOnWith:function(e,t){if("number"!=typeof e)throw new TypeError("argument index is not number");if("object"!=_typeof(t))throw new TypeError("argument context is not an object");this.callArgAt=e;this.callbackArguments=n.call(arguments,2);this.callbackContext=t;this.callArgProp=void 0;this.callbackAsync=!1;return this},yields:function(){this.callArgAt=-1;this.callbackArguments=n.call(arguments,0);this.callbackContext=void 0;this.callArgProp=void 0;this.callbackAsync=!1;return this},yieldsOn:function(e){if("object"!=_typeof(e))throw new TypeError("argument context is not an object");this.callArgAt=-1;this.callbackArguments=n.call(arguments,1);this.callbackContext=e;this.callArgProp=void 0;this.callbackAsync=!1;return this},yieldsTo:function(e){this.callArgAt=-1;this.callbackArguments=n.call(arguments,1);this.callbackContext=void 0;this.callArgProp=e;this.callbackAsync=!1;return this},yieldsToOn:function(e,t){if("object"!=_typeof(t))throw new TypeError("argument context is not an object");this.callArgAt=-1;this.callbackArguments=n.call(arguments,2);this.callbackContext=t;this.callArgProp=e;this.callbackAsync=!1;return this},throws:a,throwsException:a,returns:function(e){this.returnValue=e;this.returnValueDefined=!0;return this},returnsArg:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");this.returnArgAt=e;return this},returnsThis:function(){this.returnThis=!0;return this}};for(var o in i)i.hasOwnProperty(o)&&o.match(/^(callsArg|yields)/)&&!o.match(/Async/)&&(i[o+"Async"]=function(e){return function(){var t=this[e].apply(this,arguments);this.callbackAsync=!0;return t}}(o));t?module.exports=i:e.behavior=i}function a(e,t){if("string"==typeof e){this.exception=new Error(t||"");this.exception.name=e}else this.exception=e||new Error("Error");return this}function l(t,i){if("number"==typeof t.callArgAt){var n=function(e,t){var i=e.callArgAt;if(i<0){for(var n=e.callArgProp,s=0,r=t.length;s<r;++s){if(!n&&"function"==typeof t[s])return t[s];if(n&&t[s]&&"function"==typeof t[s][n])return t[s][n]}return null}return t[i]}(t,i);if("function"!=typeof n)throw new TypeError(function(t,i,n){if(t.callArgAt<0){var r;r=t.callArgProp?e.functionName(t.stub)+" expected to yield to '"+t.callArgProp+"', but no object with such a property was passed.":e.functionName(t.stub)+" expected to yield, but no callback was passed.";n.length>0&&(r+=" Received ["+s.call(n,", ")+"]");return r}return"argument at index "+t.callArgAt+" is not a function: "+i}(t,n,i));t.callbackAsync?r(function(){n.apply(t.callbackContext,t.callbackArguments)}):n.apply(t.callbackContext,t.callbackArguments)}}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));if(e){var i=0;e.extend(n,function(){var t={create:function(){var t=function(){return r(t).invoke(this,arguments)};t.id="stub#"+i++;var s=t;(t=e.spy.create(t)).func=s;e.extend(t,n);t._create=e.stub.create;t.displayName="stub";t.toString=e.functionToString;t.defaultBehavior=null;t.behaviors=[];return t},resetBehavior:function(){var e;this.defaultBehavior=null;this.behaviors=[];delete this.returnValue;delete this.returnArgAt;this.returnThis=!1;if(this.fakes)for(e=0;e<this.fakes.length;e++)this.fakes[e].resetBehavior()},onCall:function(t){this.behaviors[t]||(this.behaviors[t]=e.behavior.create(this));return this.behaviors[t]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)}};for(var s in e.behavior)e.behavior.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&"create"!=s&&"withArgs"!=s&&"invoke"!=s&&(t[s]=function(t){return function(){this.defaultBehavior=this.defaultBehavior||e.behavior.create(this);this.defaultBehavior[t].apply(this.defaultBehavior,arguments);return this}}(s));return t}());t?module.exports=n:e.stub=n}function n(t,i,s){if(s&&"function"!=typeof s)throw new TypeError("Custom stub should be function");var r;r=s?e.spy&&e.spy.create?e.spy.create(s):s:n.create();if(!t&&void 0===i)return e.stub.create();if(void 0===i&&"object"==_typeof(t)){for(var o in t)"function"==typeof t[o]&&n(t,o);return t}return e.wrapMethod(t,i,r)}function s(t){return t.defaultBehavior||function(e){return e.parent&&r(e.parent)}(t)||e.behavior.create(t)}function r(e){var t=e.behaviors[e.callCount-1];return t&&t.isPresent()?t:s(e)}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t,i="undefined"!=typeof module&&module.exports,n=[].push;!e&&i&&(e=require("../sinon"));if(e){!(t=e.match)&&i&&(t=require("./match"));e.mock=r;e.extend(r,function(){function t(e,t){if(e)for(var i=0,n=e.length;i<n;i+=1)t(e[i])}return{create:function(t){if(!t)throw new TypeError("object is null");var i=e.extend({},r);i.object=t;delete i.create;return i},expects:function(t){if(!t)throw new TypeError("method is falsy");if(!this.expectations){this.expectations={};this.proxies=[]}if(!this.expectations[t]){this.expectations[t]=[];var i=this;e.wrapMethod(this.object,t,function(){return i.invokeMethod(t,this,arguments)});n.call(this.proxies,t)}var s=e.expectation.create(t);n.call(this.expectations[t],s);return s},restore:function(){var e=this.object;t(this.proxies,function(t){"function"==typeof e[t].restore&&e[t].restore()})},verify:function(){var i=this.expectations||{},s=[],r=[];t(this.proxies,function(e){t(i[e],function(e){e.met()?n.call(r,e.toString()):n.call(s,e.toString())})});this.restore();s.length>0?e.expectation.fail(s.concat(r).join("\n")):e.expectation.pass(s.concat(r).join("\n"));return!0},invokeMethod:function(t,i,s){var r,o=this.expectations&&this.expectations[t],a=o&&o.length||0;for(r=0;r<a;r+=1)if(!o[r].met()&&o[r].allowsCall(i,s))return o[r].apply(i,s);var l,u=[],c=0;for(r=0;r<a;r+=1){o[r].allowsCall(i,s)?l=l||o[r]:c+=1;n.call(u,"    "+o[r].toString())}if(0===c)return l.apply(i,s);u.unshift("Unexpected call: "+e.spyCall.toString.call({proxy:t,args:s}));e.expectation.fail(u.join("\n"))}}}());var s=e.timesInWords;e.expectation=function(){var i=Array.prototype.slice,r=e.spy.invoke;function o(e){return"number"==typeof e.maxCalls&&e.callCount==e.maxCalls}function a(e,i){return!t||!t.isMatcher(e)||e.test(i)}return{minCalls:1,maxCalls:1,create:function(t){var i=e.extend(e.stub.create(),e.expectation);delete i.create;i.method=t;return i},invoke:function(e,t,i){this.verifyCallAllowed(t,i);return r.apply(this,arguments)},atLeast:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not number");if(!this.limitsSet){this.maxCalls=null;this.limitsSet=!0}this.minCalls=e;return this},atMost:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not number");if(!this.limitsSet){this.minCalls=null;this.limitsSet=!0}this.maxCalls=e;return this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not a number");this.atLeast(e);return this.atMost(e)},met:function(){return!this.failed&&(!("number"==typeof(e=this).minCalls)||e.callCount>=e.minCalls);var e},verifyCallAllowed:function(t,i){if(o(this)){this.failed=!0;e.expectation.fail(this.method+" already called "+s(this.maxCalls))}"expectedThis"in this&&this.expectedThis!==t&&e.expectation.fail(this.method+" called with "+t+" as thisValue, expected "+this.expectedThis);if("expectedArguments"in this){i||e.expectation.fail(this.method+" received no arguments, expected "+e.format(this.expectedArguments));i.length<this.expectedArguments.length&&e.expectation.fail(this.method+" received too few arguments ("+e.format(i)+"), expected "+e.format(this.expectedArguments));this.expectsExactArgCount&&i.length!=this.expectedArguments.length&&e.expectation.fail(this.method+" received too many arguments ("+e.format(i)+"), expected "+e.format(this.expectedArguments));for(var n=0,r=this.expectedArguments.length;n<r;n+=1){a(this.expectedArguments[n],i[n])||e.expectation.fail(this.method+" received wrong arguments "+e.format(i)+", didn't match "+this.expectedArguments.toString());e.deepEqual(this.expectedArguments[n],i[n])||e.expectation.fail(this.method+" received wrong arguments "+e.format(i)+", expected "+e.format(this.expectedArguments))}}},allowsCall:function(t,i){if(this.met()&&o(this))return!1;if("expectedThis"in this&&this.expectedThis!==t)return!1;if(!("expectedArguments"in this))return!0;if((i=i||[]).length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&i.length!=this.expectedArguments.length)return!1;for(var n=0,s=this.expectedArguments.length;n<s;n+=1){if(!a(this.expectedArguments[n],i[n]))return!1;if(!e.deepEqual(this.expectedArguments[n],i[n]))return!1}return!0},withArgs:function(){this.expectedArguments=i.call(arguments);return this},withExactArgs:function(){this.withArgs.apply(this,arguments);this.expectsExactArgCount=!0;return this},on:function(e){this.expectedThis=e;return this},toString:function(){var t=(this.expectedArguments||[]).slice();this.expectsExactArgCount||n.call(t,"[...]");var i,r=e.spyCall.toString.call({proxy:this.method||"anonymous mock expectation",args:t}).replace(", [...","[, ...")+" "+function(e){var t=e.minCalls,i=e.maxCalls;if("number"==typeof t&&"number"==typeof i){var n=s(t);t!=i&&(n="at least "+n+" and at most "+s(i));return n}return"number"==typeof t?"at least "+s(t):"at most "+s(i)}(this);return this.met()?"Expectation met: "+r:"Expected "+r+" ("+(0==(i=this.callCount)?"never called":"called "+s(i))+")"},verify:function(){this.met()?e.expectation.pass(this.toString()):e.expectation.fail(this.toString());return!0},pass:function(t){e.assert.pass(t)},fail:function(e){var t=new Error(e);t.name="ExpectationError";throw t}}}();i?module.exports=r:e.mock=r}function r(t){return t?r.create(t):e.expectation.create("Anonymous mock")}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t="undefined"!=typeof module&&module.exports,i=[].push,n=Object.prototype.hasOwnProperty;!e&&t&&(e=require("../sinon"));if(e){var s={verify:function(){o(this,"verify")},restore:function(){o(this,"restore");!function(e){for(var t=r(e);0<t.length;)t.splice(0,1)}(this)},verifyAndRestore:function(){var e;try{this.verify()}catch(t){e=t}this.restore();if(e)throw e},add:function(e){i.call(r(this),e);return e},spy:function(){return this.add(e.spy.apply(e,arguments))},stub:function(t,i,s){if(i){var r=t[i];if("function"!=typeof r){if(!n.call(t,i))throw new TypeError("Cannot stub non-existent own property "+i);t[i]=s;return this.add({restore:function(){t[i]=r}})}}if(!i&&t&&"object"==_typeof(t)){var o=e.stub.apply(e,arguments);for(var a in o)"function"==typeof o[a]&&this.add(o[a]);return o}return this.add(e.stub.apply(e,arguments))},mock:function(){return this.add(e.mock.apply(e,arguments))},inject:function(e){var t=this;e.spy=function(){return t.spy.apply(t,arguments)};e.stub=function(){return t.stub.apply(t,arguments)};e.mock=function(){return t.mock.apply(t,arguments)};return e}};t?module.exports=s:e.collection=s}function r(e){e.fakes||(e.fakes=[]);return e.fakes}function o(e,t){for(var i=r(e),n=0,s=i.length;n<s;n+=1)"function"==typeof i[n][t]&&i[n][t]()}}("object"==_typeof(sinon)&&sinon||null);if(void 0===sinon)var sinon={};!function(global){var timeoutResult=setTimeout(function(){},0),addTimerReturnsObject="object"===_typeof(timeoutResult);clearTimeout(timeoutResult);var id=1;function addTimer(e,t){if(0===e.length)throw new Error("Function requires at least 1 parameter");if(void 0===e[0])throw new Error("Callback must be provided to timer calls");var i=id++,n=e[1]||0;this.timeouts||(this.timeouts={});this.timeouts[i]={id:i,func:e[0],callAt:this.now+n,invokeArgs:Array.prototype.slice.call(e,2)};!0===t&&(this.timeouts[i].interval=n);return addTimerReturnsObject?{id:i,ref:function(){},unref:function(){}}:i}function parseTime(e){if(!e)return 0;var t,i=e.split(":"),n=i.length,s=n,r=0;if(n>3||!/^(\d\d:){0,2}\d\d?$/.test(e))throw new Error("tick only understands numbers and 'h:m:s'");for(;s--;){if((t=parseInt(i[s],10))>=60)throw new Error("Invalid time "+e);r+=t*Math.pow(60,n-s-1)}return 1e3*r}function createObject(e){var t;if(Object.create)t=Object.create(e);else{var i=function(){};i.prototype=e;t=new i}t.Date.clock=t;return t}sinon.clock={now:0,create:function(e){var t=createObject(this);"number"==typeof e&&(t.now=e);if(e&&"object"==_typeof(e))throw new TypeError("now should be milliseconds since UNIX epoch");return t},setTimeout:function(e,t){return addTimer.call(this,arguments,!1)},clearTimeout:function(e){this.timeouts||(this.timeouts=[]);e in this.timeouts&&delete this.timeouts[e]},setInterval:function(e,t){return addTimer.call(this,arguments,!0)},clearInterval:function(e){this.clearTimeout(e)},setImmediate:function(e){var t=Array.prototype.slice.call(arguments,1);return addTimer.call(this,[e,0].concat(t),!1)},clearImmediate:function(e){this.clearTimeout(e)},tick:function(e){e="number"==typeof e?e:parseTime(e);for(var t,i=this.now,n=this.now+e,s=this.now,r=this.firstTimerInRange(i,n);r&&i<=n;){if(this.timeouts[r.id]){i=this.now=r.callAt;try{this.callTimer(r)}catch(e){t=t||e}}r=this.firstTimerInRange(s,n);s=i}this.now=n;if(t)throw t;return this.now},firstTimerInRange:function(e,t){var i,n=null;for(var s in this.timeouts)if(this.timeouts.hasOwnProperty(s)){if(this.timeouts[s].callAt<e||this.timeouts[s].callAt>t)continue;if(null===n||this.timeouts[s].callAt<n){this.timeouts[s];n=this.timeouts[s].callAt;i={func:this.timeouts[s].func,callAt:this.timeouts[s].callAt,interval:this.timeouts[s].interval,id:this.timeouts[s].id,invokeArgs:this.timeouts[s].invokeArgs}}}return i||null},callTimer:function callTimer(timer){var exception;"number"==typeof timer.interval?this.timeouts[timer.id].callAt+=timer.interval:delete this.timeouts[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.invokeArgs):eval(timer.func)}catch(e){exception=e}if(this.timeouts[timer.id]){if(exception)throw exception}else if(exception)throw exception},reset:function(){this.timeouts={}},Date:function(){var e=Date;return mirrorDateProperties(function t(i,n,s,r,o,a,l){switch(arguments.length){case 0:return new e(t.clock.now);case 1:return new e(i);case 2:return new e(i,n);case 3:return new e(i,n,s);case 4:return new e(i,n,s,r);case 5:return new e(i,n,s,r,o);case 6:return new e(i,n,s,r,o,a);default:return new e(i,n,s,r,o,a,l)}},e)}()};function mirrorDateProperties(e,t){t.now?e.now=function(){return e.clock.now}:delete e.now;t.toSource?e.toSource=function(){return t.toSource()}:delete e.toSource;e.toString=function(){return t.toString()};e.prototype=t.prototype;e.parse=t.parse;e.UTC=t.UTC;e.prototype.toUTCString=t.prototype.toUTCString;for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var methods=["Date","setTimeout","setInterval","clearTimeout","clearInterval"];void 0!==global.setImmediate&&methods.push("setImmediate");void 0!==global.clearImmediate&&methods.push("clearImmediate");function restore(){for(var e,t=0,i=this.methods.length;t<i;t++){e=this.methods[t];if(global[e].hadOwnProperty)global[e]=this["_"+e];else try{delete global[e]}catch(e){}}this.methods=[];qx.util.DeferredCallManager.getInstance().refreshTimeout()}function stubGlobal(e,t){t[e].hadOwnProperty=Object.prototype.hasOwnProperty.call(global,e);t["_"+e]=global[e];if("Date"==e){var i=mirrorDateProperties(t[e],global[e]);global[e]=i}else{global[e]=function(){return t[e].apply(t,arguments)};for(var n in t[e])t[e].hasOwnProperty(n)&&(global[e][n]=t[e][n])}global[e].clock=t}sinon.useFakeTimers=function(e){var t=sinon.clock.create(e);t.restore=restore;t.methods=Array.prototype.slice.call(arguments,"number"==typeof e?1:0);0===t.methods.length&&(t.methods=methods);for(var i=0,n=t.methods.length;i<n;i++)stubGlobal(t.methods[i],t);return t}}("undefined"!=typeof global&&"function"!=typeof global?global:this);sinon.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date};"undefined"!=typeof module&&module.exports&&(module.exports=sinon);void 0===sinon&&(this.sinon={});!function(){var e=[].push;sinon.Event=function(e,t,i,n){this.initEvent(e,t,i,n)};sinon.Event.prototype={initEvent:function(e,t,i,n){this.type=e;this.bubbles=t;this.cancelable=i;this.target=n},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};sinon.ProgressEvent=function(e,t,i){this.initEvent(e,!1,!1,i);this.loaded=t.loaded||null;this.total=t.total||null};sinon.ProgressEvent.prototype=new sinon.Event;sinon.ProgressEvent.prototype.constructor=sinon.ProgressEvent;sinon.CustomEvent=function(e,t,i){this.initEvent(e,!1,!1,i);this.detail=t.detail||null};sinon.CustomEvent.prototype=new sinon.Event;sinon.CustomEvent.prototype.constructor=sinon.CustomEvent;sinon.EventTarget={addEventListener:function(t,i){this.eventListeners=this.eventListeners||{};this.eventListeners[t]=this.eventListeners[t]||[];e.call(this.eventListeners[t],i)},removeEventListener:function(e,t){for(var i=this.eventListeners&&this.eventListeners[e]||[],n=0,s=i.length;n<s;++n)if(i[n]==t)return i.splice(n,1)},dispatchEvent:function(e){for(var t=e.type,i=this.eventListeners&&this.eventListeners[t]||[],n=0;n<i.length;n++)"function"==typeof i[n]?i[n].call(this,e):i[n].handleEvent(e);return!!e.defaultPrevented}}}();!function(e){void 0===sinon&&(e.sinon={});var t="undefined"!=typeof ProgressEvent,i="undefined"!=typeof CustomEvent;sinon.xhr={XMLHttpRequest:e.XMLHttpRequest};var n=sinon.xhr;n.GlobalXMLHttpRequest=e.XMLHttpRequest;n.GlobalActiveXObject=e.ActiveXObject;n.supportsActiveX=void 0!==n.GlobalActiveXObject;n.supportsXHR=void 0!==n.GlobalXMLHttpRequest;n.workingXHR=n.supportsXHR?n.GlobalXMLHttpRequest:!!n.supportsActiveX&&function(){return new n.GlobalActiveXObject("MSXML2.XMLHTTP.3.0")};n.supportsCORS="withCredentials"in new sinon.xhr.GlobalXMLHttpRequest;var s={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function r(){this.readyState=r.UNSENT;this.requestHeaders={};this.requestBody=null;this.status=0;this.statusText="";this.upload=new o;sinon.xhr.supportsCORS&&(this.withCredentials=!1);var e=this,t=["loadstart","load","abort","loadend"];function i(t){e.addEventListener(t,function(i){var n=e["on"+t];n&&"function"==typeof n&&n.call(this,i)})}for(var n=t.length-1;n>=0;n--)i(t[n]);"function"==typeof r.onCreate&&r.onCreate(this)}function o(){this.eventListeners={progress:[],load:[],abort:[],error:[]}}o.prototype.addEventListener=function(e,t){this.eventListeners[e].push(t)};o.prototype.removeEventListener=function(e,t){for(var i=this.eventListeners[e]||[],n=0,s=i.length;n<s;++n)if(i[n]==t)return i.splice(n,1)};o.prototype.dispatchEvent=function(e){for(var t,i=this.eventListeners[e.type]||[],n=0;null!=(t=i[n]);n++)t(e)};function a(e){if(e.readyState!==r.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function l(e,t){if(e)for(var i=0,n=e.length;i<n;i+=1)t(e[i])}var u=function(e,t,i){switch(i.length){case 0:return e[t]();case 1:return e[t](i[0]);case 2:return e[t](i[0],i[1]);case 3:return e[t](i[0],i[1],i[2]);case 4:return e[t](i[0],i[1],i[2],i[3]);case 5:return e[t](i[0],i[1],i[2],i[3],i[4])}};r.filters=[];r.addFilter=function(e){this.filters.push(e)};var c=/MSIE 6/;r.defake=function(e,t){var i=new sinon.xhr.workingXHR;l(["open","setRequestHeader","send","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"],function(t){e[t]=function(){return u(i,t,arguments)}});var n=function(t){l(t,function(t){try{e[t]=i[t]}catch(e){if(!c.test(navigator.userAgent))throw e}})},s=function(){e.readyState=i.readyState;i.readyState>=r.HEADERS_RECEIVED&&n(["status","statusText"]);i.readyState>=r.LOADING&&n(["responseText"]);i.readyState===r.DONE&&n(["responseXML"]);e.onreadystatechange&&e.onreadystatechange.call(e,{target:e})};if(i.addEventListener){for(var o in e.eventListeners)e.eventListeners.hasOwnProperty(o)&&l(e.eventListeners[o],function(e){i.addEventListener(o,e)});i.addEventListener("readystatechange",s)}else i.onreadystatechange=s;u(i,"open",t)};r.useFilters=!1;sinon.extend(r.prototype,sinon.EventTarget,{async:!0,open:function(e,t,i,n,s){this.method=e;this.url=t;this.async="boolean"!=typeof i||i;this.username=n;this.password=s;this.responseText=null;this.responseXML=null;this.requestHeaders={};this.sendFlag=!1;if(!0===sinon.FakeXMLHttpRequest.useFilters){var o=arguments;if(function(e,t){for(var i=0;i<e.length;i++)if(!0===t(e[i]))return!0;return!1}(r.filters,function(e){return e.apply(this,o)}))return sinon.FakeXMLHttpRequest.defake(this,arguments)}this.readyStateChange(r.OPENED)},readyStateChange:function(e){this.readyState=e;if("function"==typeof this.onreadystatechange)try{this.onreadystatechange()}catch(e){sinon.logError("Fake XHR onreadystatechange handler",e)}this.dispatchEvent(new sinon.Event("readystatechange"));switch(this.readyState){case r.DONE:this.dispatchEvent(new sinon.Event("load",!1,!1,this));this.dispatchEvent(new sinon.Event("loadend",!1,!1,this));this.upload.dispatchEvent(new sinon.Event("load",!1,!1,this));t&&this.upload.dispatchEvent(new sinon.ProgressEvent("progress",{loaded:100,total:100}))}},setRequestHeader:function(e,t){a(this);if(s[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"');this.requestHeaders[e]?this.requestHeaders[e]+=","+t:this.requestHeaders[e]=t},setResponseHeaders:function(e){!function(e){if(e.readyState!=r.OPENED)throw new Error("INVALID_STATE_ERR - "+e.readyState)}(this);this.responseHeaders={};for(var t in e)e.hasOwnProperty(t)&&(this.responseHeaders[t]=e[t]);this.async?this.readyStateChange(r.HEADERS_RECEIVED):this.readyState=r.HEADERS_RECEIVED},send:function(e){a(this);if(!/^(get|head)$/i.test(this.method)){if(this.requestHeaders["Content-Type"]){var t=this.requestHeaders["Content-Type"].split(";");this.requestHeaders["Content-Type"]=t[0]+";charset=utf-8"}else this.requestHeaders["Content-Type"]="text/plain;charset=utf-8";this.requestBody=e}this.errorFlag=!1;this.sendFlag=this.async;this.readyStateChange(r.OPENED);"function"==typeof this.onSend&&this.onSend(this);this.dispatchEvent(new sinon.Event("loadstart",!1,!1,this))},abort:function(){this.aborted=!0;this.responseText=null;this.errorFlag=!0;this.requestHeaders={};if(this.readyState>sinon.FakeXMLHttpRequest.UNSENT&&this.sendFlag){this.readyStateChange(sinon.FakeXMLHttpRequest.DONE);this.sendFlag=!1}this.readyState=sinon.FakeXMLHttpRequest.UNSENT;this.dispatchEvent(new sinon.Event("abort",!1,!1,this));this.upload.dispatchEvent(new sinon.Event("abort",!1,!1,this));"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<r.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(e))return null;e=e.toLowerCase();for(var t in this.responseHeaders)if(t.toLowerCase()==e)return this.responseHeaders[t];return null},getAllResponseHeaders:function(){if(this.readyState<r.HEADERS_RECEIVED)return"";var e="";for(var t in this.responseHeaders)this.responseHeaders.hasOwnProperty(t)&&!/^Set-Cookie2?$/i.test(t)&&(e+=t+": "+this.responseHeaders[t]+"\r\n");return e},setResponseBody:function(e){!function(e){if(e.readyState==r.DONE)throw new Error("Request done")}(this);!function(e){if(e.async&&e.readyState!=r.HEADERS_RECEIVED)throw new Error("No headers received")}(this);!function(e){if("string"!=typeof e){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");t.name="InvalidBodyException";throw t}}(e);var t=this.chunkSize||10,i=0;this.responseText="";do{this.async&&this.readyStateChange(r.LOADING);this.responseText+=e.substring(i,i+t);i+=t}while(i<e.length);var n=this.getResponseHeader("Content-Type");if(this.responseText&&(!n||/(text\/xml)|(application\/xml)|(\+xml)/.test(n)))try{this.responseXML=r.parseXML(this.responseText)}catch(e){}this.async?this.readyStateChange(r.DONE):this.readyState=r.DONE},respond:function(e,t,i){this.status="number"==typeof e?e:200;this.statusText=r.statusCodes[this.status];this.setResponseHeaders(t||{});this.setResponseBody(i||"")},uploadProgress:function(e){t&&this.upload.dispatchEvent(new sinon.ProgressEvent("progress",e))},uploadError:function(e){i&&this.upload.dispatchEvent(new sinon.CustomEvent("error",{detail:e}))}});sinon.extend(r,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4});r.parseXML=function(e){var t;if("undefined"!=typeof DOMParser){t=(new DOMParser).parseFromString(e,"text/xml")}else{(t=new ActiveXObject("Microsoft.XMLDOM")).async="false";t.loadXML(e)}return t};r.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};sinon.useFakeXMLHttpRequest=function(){sinon.FakeXMLHttpRequest.restore=function(t){n.supportsXHR&&(e.XMLHttpRequest=n.GlobalXMLHttpRequest);n.supportsActiveX&&(e.ActiveXObject=n.GlobalActiveXObject);delete sinon.FakeXMLHttpRequest.restore;!0!==t&&delete sinon.FakeXMLHttpRequest.onCreate};n.supportsXHR&&(e.XMLHttpRequest=sinon.FakeXMLHttpRequest);n.supportsActiveX&&(e.ActiveXObject=function(e){return"Microsoft.XMLHTTP"==e||/^Msxml2\.XMLHTTP/i.test(e)?new sinon.FakeXMLHttpRequest:new n.GlobalActiveXObject(e)});return sinon.FakeXMLHttpRequest};sinon.FakeXMLHttpRequest=r}("object"===("undefined"==typeof global?"undefined":_typeof(global))?global:this);"undefined"!=typeof module&&module.exports&&(module.exports=sinon);if(void 0===sinon)var sinon={};sinon.fakeServer=function(){var e=[].push;function t(){}function i(e){var t=e;"[object Array]"!=Object.prototype.toString.call(e)&&(t=[200,{},e]);if("string"!=typeof t[2])throw new TypeError("Fake server response body should be string, but was "+_typeof(t[2]));return t}var n="undefined"!=typeof window?window.location:{},s=new RegExp("^"+n.protocol+"//"+n.host);function r(e,t){var i=t.url;/^https?:\/\//.test(i)&&!s.test(i)||(i=i.replace(s,""));if(function(e,t,i){var n=e.method,s=!n||n.toLowerCase()==t.toLowerCase(),r=e.url,o=!r||r==i||"function"==typeof r.test&&r.test(i);return s&&o}(e,this.getHTTPMethod(t),i)){if("function"==typeof e.response){var n=e.url,r=[t].concat(n&&"function"==typeof n.exec?n.exec(i).slice(1):[]);return e.response.apply(e,r)}return!0}return!1}return{create:function(){var e=function(e){t.prototype=e;return new t}(this);this.xhr=sinon.useFakeXMLHttpRequest();e.requests=[];this.xhr.onCreate=function(t){e.addRequest(t)};return e},addRequest:function(t){var i=this;e.call(this.requests,t);t.onSend=function(){i.handleRequest(this);if(i.autoRespond&&!i.responding){setTimeout(function(){i.responding=!1;i.respond()},i.autoRespondAfter||10);i.responding=!0}}},getHTTPMethod:function(e){if(this.fakeHTTPMethods&&/post/i.test(e.method)){var t=(e.requestBody||"").match(/_method=([^\b;]+)/);return t?t[1]:e.method}return e.method},handleRequest:function(t){if(t.async){this.queue||(this.queue=[]);e.call(this.queue,t)}else this.processRequest(t)},respondWith:function(t,n,s){if(1!=arguments.length||"function"==typeof t){this.responses||(this.responses=[]);if(1==arguments.length){s=t;n=t=null}if(2==arguments.length){s=n;n=t;t=null}e.call(this.responses,{method:t,url:n,response:"function"==typeof s?s:i(s)})}else this.response=i(t)},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var e,t=this.queue||[],i=t.splice(0,t.length);e=i.shift();)this.processRequest(e)},processRequest:function(e){try{if(e.aborted)return;var t=this.response||[404,{},""];if(this.responses)for(var i=this.responses.length-1;i>=0;i--)if(r.call(this,this.responses[i],e)){t=this.responses[i].response;break}if(4!=e.readyState){!function(e,t){var i;i="Request:\n"+sinon.format(t)+"\n\n";i+="Response:\n"+sinon.format(e)+"\n\n";sinon.log(i)}(t,e);e.respond(t[0],t[1],t[2])}}catch(e){sinon.logError("Fake server request processing",e)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}}}();"undefined"!=typeof module&&module.exports&&(module.exports=sinon);!function(){function e(){}e.prototype=sinon.fakeServer;sinon.fakeServerWithClock=new e;sinon.fakeServerWithClock.addRequest=function(e){if(e.async){if("object"==_typeof(setTimeout.clock))this.clock=setTimeout.clock;else{this.clock=sinon.useFakeTimers();this.resetClock=!0}if(!this.longestTimeout){var t=this.clock.setTimeout,i=this.clock.setInterval,n=this;this.clock.setTimeout=function(e,i){n.longestTimeout=Math.max(i,n.longestTimeout||0);return t.apply(this,arguments)};this.clock.setInterval=function(e,t){n.longestTimeout=Math.max(t,n.longestTimeout||0);return i.apply(this,arguments)}}}return sinon.fakeServer.addRequest.call(this,e)};sinon.fakeServerWithClock.respond=function(){var e=sinon.fakeServer.respond.apply(this,arguments);if(this.clock){this.clock.tick(this.longestTimeout||0);this.longestTimeout=0;if(this.resetClock){this.clock.restore();this.resetClock=!1}}return e};sinon.fakeServerWithClock.restore=function(){this.clock&&this.clock.restore();return sinon.fakeServer.restore.apply(this,arguments)}}();if("undefined"!=typeof module&&module.exports){var sinon=require("../sinon");sinon.extend(sinon,require("./util/fake_timers"))}!function(){var e=[].push;function t(t,i,n,s){if(s)if(!i.injectInto||n in i.injectInto)e.call(t.args,s);else{i.injectInto[n]=s;t.injectedKeys.push(n)}}sinon.sandbox=sinon.extend(sinon.create(sinon.collection),{useFakeTimers:function(){this.clock=sinon.useFakeTimers.apply(sinon,arguments);return this.add(this.clock)},serverPrototype:sinon.fakeServer,useFakeServer:function(){var e=this.serverPrototype||sinon.fakeServer;if(!e||!e.create)return null;this.server=e.create();return this.add(this.server)},inject:function(e){sinon.collection.inject.call(this,e);this.clock&&(e.clock=this.clock);if(this.server){e.server=this.server;e.requests=this.server.requests}return e},restore:function(){sinon.collection.restore.apply(this,arguments);this.restoreContext()},restoreContext:function(){if(this.injectedKeys){for(var e=0,t=this.injectedKeys.length;e<t;e++)delete this.injectInto[this.injectedKeys[e]];this.injectedKeys=[]}},create:function(e){if(!e)return sinon.create(sinon.sandbox);var i=function(e){var t=sinon.create(sinon.sandbox);if(e.useFakeServer){"object"==_typeof(e.useFakeServer)&&(t.serverPrototype=e.useFakeServer);t.useFakeServer()}e.useFakeTimers&&("object"==_typeof(e.useFakeTimers)?t.useFakeTimers.apply(t,e.useFakeTimers):t.useFakeTimers());return t}(e);i.args=i.args||[];i.injectedKeys=[];i.injectInto=e.injectInto;var n,s,r=i.inject({});if(e.properties)for(var o=0,a=e.properties.length;o<a;o++)t(i,e,n=e.properties[o],s=r[n]||"sandbox"==n&&i);else t(i,e,"sandbox",s);return i}});sinon.sandbox.useFakeXMLHttpRequest=sinon.sandbox.useFakeServer;"undefined"!=typeof module&&module.exports&&(module.exports=sinon.sandbox)}();!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));if(e){i.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0};t?module.exports=i:e.test=i}function i(t){var i=_typeof(t);if("function"!=i)throw new TypeError("sinon.test needs to wrap a test function, got "+i);return function(){var i=e.getConfig(e.config);i.injectInto=i.injectIntoThis&&this||i.injectInto;var n,s,r=e.sandbox.create(i),o=Array.prototype.slice.call(arguments).concat(r.args);try{s=t.apply(this,o)}catch(e){n=e}if(void 0!==n){r.restore();throw n}r.verifyAndRestore();return s}}}("object"==_typeof(sinon)&&sinon||null);!function(e){var t="undefined"!=typeof module&&module.exports;!e&&t&&(e=require("../sinon"));e&&Object.prototype.hasOwnProperty&&(t?module.exports=n:e.testCase=n);function i(e,t,i){return function(){t&&t.apply(this,arguments);var n,s;try{s=e.apply(this,arguments)}catch(e){n=e}i&&i.apply(this,arguments);if(n)throw n;return s}}function n(t,n){if(!t||"object"!=_typeof(t))throw new TypeError("sinon.testCase needs an object with test functions");n=n||"test";var s,r,o,a=new RegExp("^"+n),l={},u=t.setUp,c=t.tearDown;for(s in t)if(t.hasOwnProperty(s)){r=t[s];if(/^(setUp|tearDown)$/.test(s))continue;if("function"==typeof r&&a.test(s)){o=r;(u||c)&&(o=i(r,u,c));l[s]=e.test(o)}else l[s]=t[s]}return l}}("object"==_typeof(sinon)&&sinon||null);!function(e,t){var i,n="undefined"!=typeof module&&module.exports,s=Array.prototype.slice;!e&&n&&(e=require("../sinon"));if(e){i={failException:"AssertError",fail:function(e){var t=new Error(e);t.name=this.failException||i.failException;throw t},pass:function(e){},callOrder:function(){r.apply(null,arguments);var t="",n="";if(e.calledInOrder(arguments))i.pass("callOrder");else{try{t=[].join.call(arguments,", ");for(var a=s.call(arguments),l=a.length;l;)a[--l].called||a.splice(l,1);n=e.orderByFirstCall(a).join(", ")}catch(e){}o(this,"expected "+t+" to be called in order but were called as "+n)}},callCount:function(t,n){r(t);if(t.callCount!=n){var s="expected %n to be called "+e.timesInWords(n)+" but was called %c%C";o(this,t.printf(s))}else i.pass("callCount")},expose:function(e,t){if(!e)throw new TypeError("target is null or undefined");var i=t||{},n=void 0===i.prefix?"assert":i.prefix,s=void 0===i.includeFail||!!i.includeFail;for(var r in this)"export"==r||!s&&/^(fail)/.test(r)||(e[l(n,r)]=this[r]);return e},match:function(t,n){if(e.match(n).test(t))i.pass("match");else{o(this,["expected value to match","    expected = "+e.format(n),"    actual = "+e.format(t)].join("\n"))}}};a("called","expected %n to have been called at least once but was never called");a("notCalled",function(e){return!e.called},"expected %n to not have been called but was called %c%C");a("calledOnce","expected %n to be called once but was called %c%C");a("calledTwice","expected %n to be called twice but was called %c%C");a("calledThrice","expected %n to be called thrice but was called %c%C");a("calledOn","expected %n to be called with %1 as this but was called with %t");a("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t");a("calledWithNew","expected %n to be called with new");a("alwaysCalledWithNew","expected %n to always be called with new");a("calledWith","expected %n to be called with arguments %*%C");a("calledWithMatch","expected %n to be called with match %*%C");a("alwaysCalledWith","expected %n to always be called with arguments %*%C");a("alwaysCalledWithMatch","expected %n to always be called with match %*%C");a("calledWithExactly","expected %n to be called with exact arguments %*%C");a("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C");a("neverCalledWith","expected %n to never be called with arguments %*%C");a("neverCalledWithMatch","expected %n to never be called with match %*%C");a("threw","%n did not throw exception%C");a("alwaysThrew","%n did not always throw exception%C");n?module.exports=i:e.assert=i}function r(){for(var e,t=0,n=arguments.length;t<n;++t){(e=arguments[t])||i.fail("fake is not a spy");"function"!=typeof e&&i.fail(e+" is not a function");"function"!=typeof e.getCall&&i.fail(e+" is not stubbed")}}function o(e,n){((e=e||t).fail||i.fail).call(e,n)}function a(e,t,n){if(2==arguments.length){n=t;t=e}i[e]=function(a){r(a);var l=s.call(arguments,1);("function"==typeof t?!t(a):"function"==typeof a[t]?!a[t].apply(a,l):!a[t])?o(this,a.printf.apply(a,[n].concat(l))):i.pass(e)}}function l(e,t){return!e||/^fail/.test(t)?t:e+t.slice(0,1).toUpperCase()+t.slice(1)}}("object"==_typeof(sinon)&&sinon||null,"undefined"!=typeof window?window:global);return sinon}.call("undefined"!=typeof window&&window||{});this.sinon.assert.fail=function(e){this.fail(e,!0)};this.sinon.FakeXMLHttpRequest.statusCodes[207]="Multi-Status";var origSinon=this.sinon,Sinon=qx.dev.unit.Sinon;Sinon.getSinon=function(){return origSinon}}).call(window);qx.dev.unit.Sinon.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.client.Event":{require:!0},"qx.bom.client.Browser":{},"qx.bom.HashHistory":{},"qx.bom.client.Engine":{},"qx.bom.IframeHistory":{},"qx.bom.NativeHistory":{},"qx.lang.Type":{},"qx.event.Timer":{}},environment:{provided:[],required:{"event.hashchange":{load:!0,className:"qx.bom.client.Event"},"browser.documentmode":{className:"qx.bom.client.Browser"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.History",{extend:qx.core.Object,type:"abstract",construct:function(){qx.core.Object.constructor.call(this);this._baseUrl=window.location.href.split("#")[0]+"#";this._titles={};this._setInitialState()},events:{request:"qx.event.type.Data"},statics:{SUPPORTS_HASH_CHANGE_EVENT:qx.core.Environment.get("event.hashchange"),getInstance:function(){var e=!(window==window.top);this.$$instance||(e&&9==qx.core.Environment.get("browser.documentmode")?this.$$instance=new qx.bom.HashHistory:e&&"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9?this.$$instance=new qx.bom.IframeHistory:this.SUPPORTS_HASH_CHANGE_EVENT?this.$$instance=new qx.bom.NativeHistory:"mshtml"==qx.core.Environment.get("engine.name")?this.$$instance=new qx.bom.IframeHistory:this.$$instance=new qx.bom.NativeHistory);return this.$$instance}},properties:{title:{check:"String",event:"changeTitle",nullable:!0,apply:"_applyTitle"},state:{check:"String",event:"changeState",nullable:!0,apply:"_applyState"}},members:{_titles:null,_applyState:function(e,t){this._writeState(e)},_setInitialState:function(){this.setState(this._readState())},_encode:function(e){return qx.lang.Type.isString(e)?encodeURIComponent(e):""},_decode:function(e){return qx.lang.Type.isString(e)?decodeURIComponent(e):""},_applyTitle:function(e){null!=e&&(document.title=e||"")},addToHistory:function(e,t){qx.lang.Type.isString(e)||(e+="");if(qx.lang.Type.isString(t)){this.setTitle(t);this._titles[e]=t}this.getState()!==e&&this._writeState(e)},navigateBack:function(){qx.event.Timer.once(function(){history.back()},this,100)},navigateForward:function(){qx.event.Timer.once(function(){history.forward()},this,100)},_onHistoryLoad:function(e){this.setState(e);this.fireDataEvent("request",e);null!=this._titles[e]&&this.setTitle(this._titles[e])},_readState:function(){throw new Error("Abstract method call")},_writeState:function(e){throw new Error("Abstract method call")},_setHash:function(e){var t=this._baseUrl+(e||""),i=window.location;t!=i.href&&(i.href=t)},_getHash:function(){var e=/#(.*)$/.exec(window.location.href);return e&&e[1]?e[1]:""}}});qx.bom.History.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Messaging":{construct:!0},"qx.bom.History":{construct:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.application.Routing",{implement:[qx.core.IDisposable],construct:function(){this.__messaging=new qx.event.Messaging;this.__navigationHandler=qx.bom.History.getInstance();this.__navigationHandler.addListener("changeState",this.__onChangeHash,this)},statics:{DEFAULT_PATH:"/",__back:[],__forward:[]},members:{__navigationHandler:null,__messaging:null,__currentGetPath:null,init:function(e){null!=e&&qx.core.Assert.assertString(e,"Invalid argument 'defaultPath'");var t=this.getState();t=this._getPathOrFallback(t,e);this._executeGet(t,null,!0)},_getPathOrFallback:function(e,t){""!=e&&null!=e&&this.__messaging.has("get",e)||(e=t||qx.application.Routing.DEFAULT_PATH);return e},onGet:function(e,t,i){return this.__messaging.on("get",e,t,i)},on:function(e,t,i){return this.onGet(e,t,i)},onPost:function(e,t,i){return this.__messaging.on("post",e,t,i)},onPut:function(e,t,i){return this.__messaging.on("put",e,t,i)},onDelete:function(e,t,i){return this.__messaging.on("delete",e,t,i)},onAny:function(e,t,i){return this.__messaging.onAny(e,t,i)},remove:function(e){this.__messaging.remove(e)},__onChangeHash:function(e){var t=e.getData();(t=this._getPathOrFallback(t))!=this.__currentGetPath&&this._executeGet(t,null,!0)},_executeGet:function(e,t,i){this.__currentGetPath=e;var n=this.__getFromHistory(e);if(n)if(t)this.__replaceCustomData(e,t);else{(t=n.data.customData||{}).fromHistory=!0;t.action=n.action;t.fromEvent=i}else{this.__addToHistory(e,t);qx.application.Routing.__forward=[]}this.__navigationHandler.setState(e);this.__messaging.emit("get",e,null,t)},executeGet:function(e,t){this._executeGet(e,t)},execute:function(e,t){this.executeGet(e,t)},executePost:function(e,t,i){this.__messaging.emit("post",e,t,i)},executePut:function(e,t,i){this.__messaging.emit("put",e,t,i)},executeDelete:function(e,t,i){this.__messaging.emit("delete",e,t,i)},getState:function(){return this.__navigationHandler.getState()},__addToHistory:function(e,t){qx.application.Routing.__back.unshift({path:e,customData:t})},__replaceCustomData:function(e,t){for(var i=[qx.application.Routing.__back,qx.application.Routing.__forward],n=0;n<i.length;n++)for(var s=0;s<i[n].length;s++)i[n][s].path==e&&(i[n][s].customData=t)},__getFromHistory:function(e){for(var t=qx.application.Routing.__back,i=qx.application.Routing.__forward,n=!1,s=null,r=t.length,o=0;o<r;o++)if(t[o].path==e){s=t[o];for(var a=t.splice(0,o),l=0;l<a.length;l++)i.unshift(a[l]);n=!0;break}if(n)return{data:s,action:"back"};for(r=i.length,o=0;o<r;o++)if(i[o].path==e){s=i[o];var u=i.splice(0,o+1);for(l=0;l<u.length;l++)t.unshift(u[l]);break}return s?{data:s,action:"forward"}:s},back:function(e){var t=e;t?t.action="back":t={action:"back"};var i,n=qx.application.Routing.__back;n.length>0&&n.shift();if(n.length>0){var s=n.shift();this._executeGet(s.path,t)}else if(t.defaultPath){i=t.defaultPath;delete t.defaultPath;this._executeGet(i,t)}else qx.application.Routing.DEFAULT_PATH&&this._executeGet(qx.application.Routing.DEFAULT_PATH,t)},dispose:function(){this.__navigationHandler.removeListener("changeState",this.__onChangeHash,this)}}});qx.application.Routing.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.bom.History":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Type":{},"qx.bom.Iframe":{},"qx.util.ResourceManager":{},"qx.event.Timer":{},"qx.event.Idle":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.HashHistory",{extend:qx.bom.History,implement:[qx.core.IDisposable],construct:function(){qx.bom.History.constructor.call(this);this._baseUrl=null;this.__initIframe()},members:{__checkOnHashChange:null,__iframe:null,__iframeReady:!1,addToHistory:function(e,t){qx.lang.Type.isString(e)||(e+="");if(qx.lang.Type.isString(t)){this.setTitle(t);this._titles[e]=t}this.getState()!==e&&this._writeState(e)},__initIframe:function(){this.__iframe=this.__createIframe();document.body.appendChild(this.__iframe);this.__waitForIFrame(function(){this._baseUrl=this.__iframe.contentWindow.document.location.href;this.__attachListeners()},this)},__createIframe:function(){var e=qx.bom.Iframe.create({src:qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html")+"#"});e.style.visibility="hidden";e.style.position="absolute";e.style.left="-1000px";e.style.top="-1000px";return e},__waitForIFrame:function(e,t,i){void 0===i&&(i=0);if(this.__iframe.contentWindow&&this.__iframe.contentWindow.document){this.__iframeReady=!0;e.call(t||window)}else{if(i>20)throw new Error("can't initialize iframe");qx.event.Timer.once(function(){this.__waitForIFrame(e,t,++i)},this,10)}},__attachListeners:function(){qx.event.Idle.getInstance().addListener("interval",this.__onHashChange,this)},__detatchListeners:function(){qx.event.Idle.getInstance().removeListener("interval",this.__onHashChange,this)},__onHashChange:function(){var e=this._readState();qx.lang.Type.isString(e)&&e!=this.getState()&&this._onHistoryLoad(e)},_readState:function(){var e=this._getHash()?this._getHash().substr(1):"";return this._decode(e)},_getHash:function(){return this.__iframeReady?this.__iframe.contentWindow.document.location.hash:null},_writeState:function(e){this._setHash(this._encode(e))},_setHash:function(e){if(this.__iframe&&this._baseUrl){e!=(this.__iframe.contentWindow.document.location.hash?this.__iframe.contentWindow.document.location.hash.substr(1):"")&&(this.__iframe.contentWindow.document.location.hash=e)}}},destruct:function(){this.__detatchListeners();this.__iframe=null}});qx.bom.HashHistory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.History":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Type":{},"qx.event.Timer":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.event.Idle":{},"qx.bom.Iframe":{},"qx.util.ResourceManager":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.IframeHistory",{extend:qx.bom.History,implement:[qx.core.IDisposable],construct:function(){qx.bom.History.constructor.call(this);this.__initTimer()},members:{__iframe:null,__iframeReady:!1,__writeStateTimner:null,__dontApplyState:null,__locationState:null,_setInitialState:function(){qx.bom.IframeHistory.prototype._setInitialState.base.call(this);this.__locationState=this._getHash()},_setHash:function(e){qx.bom.IframeHistory.prototype._setHash.base.call(this,e);this.__locationState=this._encode(e)},addToHistory:function(e,t){qx.lang.Type.isString(e)||(e+="");if(qx.lang.Type.isString(t)){this.setTitle(t);this._titles[e]=t}this.getState()!==e&&this.setState(e);this.fireDataEvent("request",e)},_onHistoryLoad:function(e){this._setState(e);this.fireDataEvent("request",e);null!=this._titles[e]&&this.setTitle(this._titles[e])},_setState:function(e){this.__dontApplyState=!0;this.setState(e);this.__dontApplyState=!1},_applyState:function(e,t){this.__dontApplyState||this._writeState(e)},_readState:function(){if(!this.__iframeReady)return this._decode(this._getHash());var e=this.__iframe.contentWindow.document.getElementById("state");return e?this._decode(e.innerText):""},_writeState:function(e){if(this.__iframeReady){this.__clearWriteSateTimer();e=this._encode(e);"mshtml"==qx.core.Environment.get("engine.name")&&8!=qx.core.Environment.get("browser.version")&&this._setHash(e);var t=this.__iframe.contentWindow.document;t.open();t.write('<html><body><div id="state">'+e+"</div></body></html>");t.close()}else{this.__clearWriteSateTimer();this.__writeStateTimner=qx.event.Timer.once(function(){this._writeState(e)},this,50)}},__clearWriteSateTimer:function(){if(this.__writeStateTimner){this.__writeStateTimner.stop();this.__writeStateTimner.dispose()}},__initTimer:function(){this.__initIframe(function(){qx.event.Idle.getInstance().addListener("interval",this.__onHashChange,this)})},__onHashChange:function(e){var t=null,i=this._getHash();t=this.__isCurrentLocationState(i)?this._readState():this.__storeLocationState(i);qx.lang.Type.isString(t)&&t!=this.getState()&&this._onHistoryLoad(t)},__storeLocationState:function(e){e=this._decode(e);this._writeState(e);return e},__isCurrentLocationState:function(e){return qx.lang.Type.isString(e)&&e==this.__locationState},__initIframe:function(e){this.__iframe=this.__createIframe();document.body.appendChild(this.__iframe);this.__waitForIFrame(function(){this._writeState(this.getState());e&&e.call(this)},this)},__createIframe:function(){var e=qx.bom.Iframe.create({src:qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html")});e.style.visibility="hidden";e.style.position="absolute";e.style.left="-1000px";e.style.top="-1000px";return e},__waitForIFrame:function(e,t,i){void 0===i&&(i=0);if(this.__iframe.contentWindow&&this.__iframe.contentWindow.document){this.__iframeReady=!0;e.call(t||window)}else{if(i>20)throw new Error("can't initialize iframe");qx.event.Timer.once(function(){this.__waitForIFrame(e,t,++i)},this,10)}}},destruct:function(){this.__iframe=null;if(this.__writeStateTimner){this.__writeStateTimner.dispose();this.__writeStateTimner=null}qx.event.Idle.getInstance().removeListener("interval",this.__onHashChange,this)}});qx.bom.IframeHistory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.bom.History":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Function":{},"qx.event.GlobalError":{},"qx.bom.Event":{},"qx.event.Idle":{},"qx.lang.Type":{},"qx.bom.client.Engine":{require:!0},"qx.event.Timer":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.NativeHistory",{extend:qx.bom.History,implement:[qx.core.IDisposable],construct:function(){qx.bom.History.constructor.call(this);this.__attachListeners()},members:{__checkOnHashChange:null,__attachListeners:function(){if(qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT){var e=qx.lang.Function.bind(this.__onHashChange,this);this.__checkOnHashChange=qx.event.GlobalError.observeMethod(e);qx.bom.Event.addNativeListener(window,"hashchange",this.__checkOnHashChange)}else qx.event.Idle.getInstance().addListener("interval",this.__onHashChange,this)},__detatchListeners:function(){qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT?qx.bom.Event.removeNativeListener(window,"hashchange",this.__checkOnHashChange):qx.event.Idle.getInstance().removeListener("interval",this.__onHashChange,this)},__onHashChange:function(){var e=this._readState();qx.lang.Type.isString(e)&&e!=this.getState()&&this._onHistoryLoad(e)},_readState:function(){return this._decode(this._getHash())},_writeState:qx.core.Environment.select("engine.name",{opera:function(e){qx.event.Timer.once(function(){this._setHash(this._encode(e))},this,0)},default:function(e){this._setHash(this._encode(e))}})},destruct:function(){this.__detatchListeners()}});qx.bom.NativeHistory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Type":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.event.Messaging",{construct:function(){this._listener={},this.__listenerIdCount=0;this.__channelToIdMapping={}},members:{_listener:null,__listenerIdCount:null,__channelToIdMapping:null,on:function(e,t,i,n){return this._addListener(e,t,i,n)},onAny:function(e,t,i){return this._addListener("any",e,t,i)},_addListener:function(e,t,i,n){var s=this._listener[e]=this._listener[e]||{},r=this.__listenerIdCount++,o=[],a=null;if(qx.lang.Type.isString(t)){for(var l=/\{([\w\d]+)\}/g;null!==(a=l.exec(t));)o.push(a[1]);t=new RegExp("^"+t.replace(l,"([^/]+)")+"$")}s[r]={regExp:t,params:o,handler:i,scope:n};this.__channelToIdMapping[r]=e;return r},remove:function(e){var t=this.__channelToIdMapping[e];delete this._listener[t][e];delete this.__channelToIdMapping[e]},has:function(e,t){var i=this._listener[e];if(!i||qx.lang.Object.isEmpty(i))return!1;for(var n in i){if(i[n].regExp.test(t))return!0}return!1},emit:function(e,t,i,n){this._emit(e,t,i,n)},_emit:function(e,t,i,n){var s,r=this._listener.any;s=this._emitListeners(e,t,r,i,n);r=this._listener[e];this._emitListeners(e,t,r,i,n)||s||qx.Bootstrap.info("No listener found for "+t)},_emitListeners:function(e,t,i,n,s){if(!i||qx.lang.Object.isEmpty(i))return!1;var r=!1;for(var o in i){var a=i[o];r|=this._emitRoute(e,t,a,n,s)}return r},_emitRoute:function(e,t,i,n,s){var r=i.regExp.exec(t);if(r){n=n||{};var o=null,a=null;r.shift();for(var l=0;l<r.length;l++){a=r[l];(o=i.params[l])?n[o]=a:n[l]=a}i.handler.call(i.scope,{path:t,params:n,customData:s})}return void 0!=r}}});qx.event.Messaging.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.bom.Iframe":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Iframe",{extend:qx.core.Object,implement:qx.event.IEventHandler,statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{load:1,navigate:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!1,onevent:qx.event.GlobalError.observeMethod(function(e){var t=qx.bom.Iframe.queryCurrentUrl(e);if(t!==e.$$url){qx.event.Registration.fireEvent(e,"navigate",qx.event.type.Data,[t]);e.$$url=t}qx.event.Registration.fireEvent(e,"load")})},members:{canHandleEvent:function(e,t){return"iframe"===e.tagName.toLowerCase()},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Iframe":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.lang.Object":{},"qx.dom.Element":{},"qx.dom.Hierarchy":{},"qx.bom.client.Engine":{},"qx.bom.client.OperatingSystem":{},"qx.log.Logger":{},"qx.bom.Event":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Iframe",{statics:{DEFAULT_ATTRIBUTES:{onload:"qx.event.handler.Iframe.onevent(this)",frameBorder:0,frameSpacing:0,marginWidth:0,marginHeight:0,hspace:0,vspace:0,border:0,allowTransparency:!0},create:function(e,t){e=e?qx.lang.Object.clone(e):{};var i=qx.bom.Iframe.DEFAULT_ATTRIBUTES;for(var n in i)null==e[n]&&(e[n]=i[n]);return qx.dom.Element.create("iframe",e,t)},getWindow:function(e){try{return e.contentWindow}catch(e){return null}},getDocument:function(e){if("contentDocument"in e)try{return e.contentDocument}catch(e){return null}try{var t=this.getWindow(e);return t?t.document:null}catch(e){return null}},getBody:function(e){try{var t=this.getDocument(e);return t?t.getElementsByTagName("body")[0]:null}catch(e){return null}},setSource:function(e,t){try{if(this.getWindow(e)&&qx.dom.Hierarchy.isRendered(e))try{if("webkit"==qx.core.Environment.get("engine.name")&&"osx"==qx.core.Environment.get("os.name")){var i=this.getWindow(e);i&&i.stop()}this.getWindow(e).location.replace(t)}catch(i){e.src=t}else e.src=t;this.__rememberUrl(e)}catch(e){qx.log.Logger.warn("Iframe source could not be set!")}},queryCurrentUrl:function(e){var t=this.getDocument(e);try{if(t&&t.location)return t.location.href}catch(e){}return""},__rememberUrl:function(e){qx.bom.Event.addNativeListener(e,"load",function t(){qx.bom.Event.removeNativeListener(e,"load",t);e.$$url=qx.bom.Iframe.queryCurrentUrl(e)})}}});qx.bom.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.AnimationFrame":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.AnimationFrame",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{setUp:function(){this.__frame=new qx.bom.AnimationFrame},testStart:function(){var e=this.spy();this.__frame.once("frame",e);this.__frame.startSequence(300);this.wait(500,function(){this.assertCalledOnce(e);this.assertTrue(e.args[0][0]>=0)},this)},testCancel:function(){var e=this.spy();this.__frame.once("frame",e);this.__frame.startSequence(300);this.__frame.cancelSequence();this.wait(500,function(){this.assertNotCalled(e)},this)}}});qx.test.bom.AnimationFrame.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Attribute":{},"qx.util.ResourceManager":{},"qx.bom.client.Browser":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Attribute",{extend:qx.dev.unit.TestCase,members:{__maxLengthValues:null,setUp:function(){var e=document.createElement("div");e.id="el";this._el=e;document.body.appendChild(e);var t=document.createElement("input");this._input=t;document.body.appendChild(t);var i=document.createElement("input");i.type="checkbox";this._checkBox=i;document.body.appendChild(i);var n=document.createElement("img");this._img=n;document.body.appendChild(n);this.__maxLengthValues={mshtml:2147483647,default:-1}},tearDown:function(){document.body.removeChild(this._el);document.body.removeChild(this._checkBox);document.body.removeChild(this._img);document.body.removeChild(this._input)},testSetAttribute:function(){var e=qx.bom.element.Attribute;e.set(this._el,"maxLength",10);this.assertEquals(10,this._el.getAttribute("maxLength"));e.set(this._checkBox,"checked",!0);this.assertTrue(this._checkBox.checked);e.set(this._el,"className","vanillebaer");this.assertEquals("vanillebaer",this._el.className);e.set(this._el,"selected",!0);this.assertEquals("selected",this._el.getAttribute("selected"));var t=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/folder.png");e.set(this._img,"src",t);this.assertEquals(t,this._img.getAttribute("src",2));e.set(this._el,"data-foo",!0);this.assertEquals("true",this._el.getAttribute("data-foo"))},testSetAttributeWithUndefinedValue:function(){qx.bom.element.Attribute.set(this._el,"src",void 0);this.assertNotEquals("undefined",this._el.getAttribute("src"))},testGetAttribute:function(){var e=qx.bom.element.Attribute;"edge"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.mshtml):"chrome"==qx.core.Environment.get("browser.name")||"safari"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.default):this.assertNull(e.get(this._input,"maxLength"));this.assertFalse(e.get(this._checkBox,"checked"));this.assertNull(e.get(this._el,"className"));this.assertNull(e.get(this._el,"innerHTML"));this.assertNull(e.get(this._checkBox,"tabIndex"));this.assertFalse(e.get(this._checkBox,"readOnly"));this.assertNull(e.get(this._input,"value"));this._checkBox.setAttribute("checked",!0);this.assertEquals(!0,e.get(this._checkBox,"checked"));this._checkBox.removeAttribute("checked");this.assertFalse(e.get(this._checkBox,"checked"));this._el.className="vanillebaer";this.assertEquals("vanillebaer",e.get(this._el,"className"));this._el.innerHTML="vanillebaer";this.assertEquals("vanillebaer",e.get(this._el,"innerHTML"));this._checkBox.tabIndex=1e3;this.assertEquals(1e3,e.get(this._checkBox,"tabIndex"));this._checkBox.tabIndex=0;this.assertNull(e.get(this._checkBox,"tabIndex"));this._checkBox.tabIndex=-1;this.assertEquals(-1,e.get(this._checkBox,"tabIndex"));this._checkBox.readOnly=!0;this.assertTrue(e.get(this._checkBox,"readonly"));this._checkBox.value="vanillebaer";this.assertEquals("vanillebaer",e.get(this._checkBox,"value"));var t=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/folder.png");e.set(this._img,"src",t);this.assertEquals(t,e.get(this._img,"src"))},testRemoveAttribute:function(){var e=qx.bom.element.Attribute;e.set(this._input,"maxLength",10);e.set(this._input,"maxLength",null);var t=qx.core.Environment.select("engine.name",this.__maxLengthValues);"edge"==qx.core.Environment.get("browser.name")?t=this.__maxLengthValues.mshtml:"chrome"!=qx.core.Environment.get("browser.name")&&"safari"!=qx.core.Environment.get("browser.name")||(t=this.__maxLengthValues.default);this.assertEquals(t,this._input.maxLength);"edge"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.mshtml):"chrome"==qx.core.Environment.get("browser.name")||"safari"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.default):this.assertNull(e.get(this._input,"maxLength"));e.set(this._checkBox,"checked",!0);e.set(this._checkBox,"checked",null);this.assertFalse(this._checkBox.checked);e.set(this._el,"html","vanillebaer");e.set(this._el,"html",null);this.assertNull(this._el.getAttribute("html"))},testResetAttribute:function(){var e=qx.bom.element.Attribute;e.set(this._input,"maxLength",10);e.reset(this._input,"maxLength");"edge"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.mshtml):"chrome"==qx.core.Environment.get("browser.name")||"safari"==qx.core.Environment.get("browser.name")?this.assertEquals(e.get(this._input,"maxLength"),this.__maxLengthValues.default):this.assertNull(e.get(this._input,"maxLength"));e.set(this._checkBox,"disabled",!0);e.reset(this._checkBox,"disabled");this.assertFalse(e.get(this._checkBox,"disabled"));e.set(this._checkBox,"multiple",!0);e.reset(this._checkBox,"multiple");this.assertFalse(e.get(this._checkBox,"multiple"));e.set(this._el,"innerHTML","<b>foo</b>");e.reset(this._el,"innerHTML");this.assertNull(e.get(this._el,"innerHTML"));e.set(this._el,"tabIndex",10);e.reset(this._el,"tabIndex");this.assertNull(e.get(this._el,"tabIndex"));e.set(this._input,"tabIndex",20);e.reset(this._input,"tabIndex");this.assertNull(e.get(this._input,"tabIndex"));e.set(this._checkBox,"checked",!0);e.reset(this._checkBox,"checked");this.assertFalse(e.get(this._checkBox,"checked"));e.set(this._checkBox,"readOnly",!0);e.reset(this._checkBox,"readonly");this.assertFalse(e.get(this._checkBox,"readonly"));e.set(this._input,"value","foo");e.reset(this._input,"value");this.assertNull(e.get(this._input,"value"))}}});qx.test.bom.Attribute.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Attribute":{},"qx.bom.element.Style":{},"qx.bom.element.Opacity":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Basic",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="html_basics";e.innerHTML='<div id="test1" class="hello world" title="hello world title"> <input id="test2" name="foo2" type="text" maxlength="20" value="hello"/>  <input tabindex="2" id="test3" type="checkbox" checked="true" name="foo3" value="bar"/>  <input id="test4" type="text" disabled="disabled"/>  <input id="test5" type="text" disabled="false" READONLY="true"/>  <a id="test6" style="color:red;background:blue" href="../foo.html"><b>Foo</b>-Link</a>  <table id="test7" valign="bottom"><tr><td colspan="3"></td></tr></table>  <span id="test8">Black</span></div>';document.body.appendChild(e)},tearDown:function(){var e=document.getElementById("html_basics");document.body.removeChild(e)},testElementAttributes:function(){var e=qx.bom.element.Attribute,t=qx.bom.element.Style,i=qx.bom.element.Opacity,n=document.getElementById("test1");this.assertEquals("hello world",e.get(n,"class"));this.assertEquals("hello world title",e.get(n,"title"));var s=document.getElementById("test2");this.assertEquals("foo2",e.get(s,"name"));this.assertEquals("hello",e.get(s,"value"));this.assertEquals("text",e.get(s,"type"));this.assertEquals(20,e.get(s,"maxlength"));var r=document.getElementById("test3");this.assertEquals("foo3",e.get(r,"name"));this.assertEquals("bar",e.get(r,"value"));this.assertEquals("checkbox",e.get(r,"type"));this.assertTrue(e.get(r,"checked"));this.assertFalse(e.get(r,"disabled"));this.assertEquals(2,e.get(r,"tabindex"));this.info("test4");this.assertTrue(e.get(document.getElementById("test4"),"disabled"));this.assertFalse(e.get(document.getElementById("test4"),"readonly"));this.info("test5");this.assertTrue(e.get(document.getElementById("test5"),"disabled"));this.assertTrue(e.get(document.getElementById("test5"),"readonly"));this.info("test6");this.assert(e.get(document.getElementById("test6"),"href").endsWith("/foo.html"));var o=t.get(document.getElementById("test6"),"color");this.assertCssColor("red",o);var a=t.get(document.getElementById("test6"),"backgroundColor");this.assertCssColor("blue",a);this.assertIdentical("",t.get(document.getElementById("test6"),"font",t.LOCAL_MODE));this.assertEquals("Foo-Link",e.get(document.getElementById("test6"),"text"));this.assertEquals("<b>foo</b>-link",e.get(document.getElementById("test6"),"html").toLowerCase());this.assertEquals(1,i.get(document.getElementById("test6")));this.info("test7");this.assertEquals("bottom",e.get(document.getElementById("test7"),"valign"));this.assertEquals(3,e.get(document.getElementById("test7").getElementsByTagName("td")[0],"colspan"));this.info("test8");t.set(document.getElementById("test8"),"color","red");t.set(document.getElementById("test8"),"backgroundColor","black");i.set(document.getElementById("test8"),.5);var l=t.get(document.getElementById("test8"),"color");this.assertCssColor("red",l);var u=t.get(document.getElementById("test8"),"backgroundColor");this.assertCssColor("black",u);this.assertEquals(.5,i.get(document.getElementById("test8")))}}});qx.test.bom.Basic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Blocker":{},"qx.dom.Element":{},"qx.bom.element.Style":{},"qx.bom.Document":{},"qx.bom.element.Dimension":{},"qx.bom.client.Engine":{},"qx.dom.Hierarchy":{},"qx.event.Timer":{},"qx.bom.element.Location":{},"qx.util.ColorUtil":{},"qx.bom.element.Opacity":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Blocker",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__blocker=new qx.bom.Blocker;this.__blocker.setBlockerZIndex(199);this.__blockedElement=qx.dom.Element.create("div");qx.bom.element.Style.setStyles(this.__blockedElement,{position:"absolute",top:"100px",left:"100px",width:"500px",height:"400px",zIndex:200});qx.dom.Element.insertBegin(this.__blockedElement,document.body)},tearDown:function(){this.__blocker.unblock();this.__blocker.dispose();this.__blocker=null;qx.dom.Element.remove(this.__blockedElement)},testBlockWholeDocument:function(){this.__blocker.block();var e=this.__blocker.getBlockerElement();this.assertNotNull(e,"Blocker element not inserted.");this.assertEquals(qx.bom.Document.getWidth(),qx.bom.element.Dimension.getWidth(e));this.assertEquals(qx.bom.Document.getHeight(),qx.bom.element.Dimension.getHeight(e));if("mshtml"==qx.core.Environment.get("engine.name")){var t=qx.dom.Hierarchy.getChildElements(document.body),i=t[t.length-1];this.assertNotNull(i,"Blocker iframe element not inserted");this.assertEquals(qx.bom.Document.getWidth(),qx.bom.element.Dimension.getWidth(i));this.assertEquals(qx.bom.Document.getHeight(),qx.bom.element.Dimension.getHeight(i))}this.__blocker.unblock()},testUnblockWholeDocument:function(){this.__blocker.block();if("mshtml"==qx.core.Environment.get("engine.name"))var e=qx.dom.Hierarchy.getChildElements(document.body),t=e[e.length-1];this.__blocker.unblock();var i=this.__blocker.getBlockerElement();this.assertFalse(qx.dom.Element.isInDom(i,window),"Blocker element not correctly removed");"mshtml"==qx.core.Environment.get("engine.name")&&this.assertFalse(qx.dom.Element.isInDom(t,window),"Blocker iframe element not correctly removed")},testBlockElement:function(){this.__blocker.block(this.__blockedElement);qx.event.Timer.once(function(){var e=this;this.resume(function(){var t=e.__blocker.getBlockerElement();e.assertNotNull(t,"Blocker element not inserted.");e.assertEquals(qx.bom.element.Dimension.getWidth(e.__blockedElement),qx.bom.element.Dimension.getWidth(t));e.assertEquals(qx.bom.element.Dimension.getHeight(e.__blockedElement),qx.bom.element.Dimension.getHeight(t));e.assertEquals(qx.bom.element.Location.getLeft(e.__blockedElement),qx.bom.element.Location.getLeft(t));e.assertEquals(qx.bom.element.Location.getTop(e.__blockedElement),qx.bom.element.Location.getTop(t));e.assertEquals(qx.bom.element.Style.get(e.__blockedElement,"zIndex")-1,qx.bom.element.Style.get(t,"zIndex"));if("mshtml"==qx.core.Environment.get("engine.name")){var i=qx.dom.Hierarchy.getChildElements(document.body),n=i[i.length-1];e.assertEquals(qx.bom.element.Style.get(e.__blockedElement,"zIndex")-2,qx.bom.element.Style.get(n,"zIndex"))}e.__blocker.unblock()},e)},this,1e3);this.wait()},testBlockerColor:function(){this.__blocker.setBlockerColor("#FF0000");this.__blocker.block();var e=this.__blocker.getBlockerElement(),t=qx.bom.element.Style.get(e,"backgroundColor");qx.util.ColorUtil.isRgbString(t)?this.assertEquals("rgb(255, 0, 0)",t):this.assertEquals("#ff0000",t);this.__blocker.unblock()},testBlockerOpacity:function(){this.__blocker.setBlockerOpacity(.7);this.__blocker.block();var e=this.__blocker.getBlockerElement(),t=qx.bom.element.Opacity.get(e);"webkit"==qx.core.Environment.get("engine.name")&&(t=Math.round(10*t)/10);this.assertEquals(.7,t);this.__blocker.unblock()},testDoubleBlocking:function(){var e=qx.dom.Hierarchy.getDescendants(document.body);this.__blocker.block(this.__blockedElement);this.__blocker.block(this.__blockedElement);var t=qx.dom.Hierarchy.getDescendants(document.body);"mshtml"==qx.core.Environment.get("engine.name")?this.assertEquals(t.length,e.length+2):this.assertEquals(t.length,e.length+1);this.__blocker.unblock()},testDoubleUnBlocking:function(){this.__blocker.block(this.__blockedElement);this.__blocker.unblock();this.__blocker.unblock();var e=this.__blocker.getBlockerElement();this.assertNotEquals(e.parentNode,this.__blockedElement)}}});qx.test.bom.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Element":{require:!0},"qx.bom.Iframe":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.Registration":{},"qx.bom.element.Style":{},"qx.bom.element.Opacity":{},"qx.bom.client.Engine":{},"qx.dom.Element":{},"qx.bom.element.Attribute":{},"qx.bom.Document":{},"qx.bom.element.Dimension":{},"qx.bom.element.Location":{},"qx.event.Timer":{},"qx.dom.Node":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Blocker",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__init()},members:{__iframeElement:null,__blockerElement:null,__blockedElement:null,__isActive:!1,__defaultZIndex:1e4,__defaultBlockerOpacity:0,__defaultBlockerColor:"transparent",block:function(e){if(!this.__isActive){qx.event.Registration.addListener(window,"resize",this.__onResize,this);this.__blockedElement=e;var t=this.__calculateStyles();this.__styleAndInsertBlocker(t);this.__isActive=!0}},unblock:function(){if(this.__isActive){this.__removeBlocker();qx.event.Registration.removeListener(window,"resize",this.__onResize,this);this.__isActive=!1}},isBlocked:function(){return this.__isActive},getBlockerElement:function(){return this.__blockerElement},setBlockerColor:function(e){qx.bom.element.Style.set(this.__blockerElement,"backgroundColor",e)},getBlockerColor:function(){return qx.bom.element.Style.get(this.__blockerElement,"backgroundColor")},setBlockerOpacity:function(e){qx.bom.element.Opacity.set(this.__blockerElement,e)},getBlockerOpacity:function(){return qx.bom.element.Opacity.get(this.__blockerElement)},setBlockerZIndex:function(e){qx.bom.element.Style.set(this.__blockerElement,"zIndex",e)},getBlockerZIndex:function(){return qx.bom.element.Style.get(this.__blockerElement,"zIndex")},__init:function(){this.__setupBlockerElement();"mshtml"==qx.core.Environment.get("engine.name")&&this.__setupIframeElement()},__setupBlockerElement:function(){this.__blockerElement=qx.dom.Element.create("div");qx.bom.element.Style.setStyles(this.__blockerElement,{display:"block",opacity:this.__defaultBlockerOpacity,backgroundColor:this.__defaultBlockerColor});this.setBlockerZIndex(this.__defaultZIndex)},__setupIframeElement:function(){this.__iframeElement=qx.bom.Iframe.create();qx.bom.element.Attribute.set(this.__iframeElement,"allowTransparency",!1);qx.bom.element.Attribute.set(this.__iframeElement,"src","javascript:false;");qx.bom.element.Style.setStyles(this.__iframeElement,{display:"block",opacity:this.__defaultBlockerOpacity})},__calculateStyles:function(){var e={position:"absolute"};if(this.__isWholeDocumentBlockTarget()){e.left="0px";e.top="0px";e.right=null;e.bottom=null;e.width=qx.bom.Document.getWidth()+"px";e.height=qx.bom.Document.getHeight()+"px"}else{e.width=qx.bom.element.Dimension.getWidth(this.__blockedElement)+"px";e.height=qx.bom.element.Dimension.getHeight(this.__blockedElement)+"px";e.left=qx.bom.element.Location.getLeft(this.__blockedElement)+"px";e.top=qx.bom.element.Location.getTop(this.__blockedElement)+"px"}return e},__styleAndInsertBlocker:function(e){var t=document.body;qx.bom.element.Style.setStyles(this.__blockerElement,e);qx.dom.Element.insertEnd(this.__blockerElement,t);if("mshtml"==qx.core.Environment.get("engine.name")){e.zIndex=this.getBlockerZIndex()-1;qx.bom.element.Style.setStyles(this.__iframeElement,e);qx.dom.Element.insertEnd(this.__iframeElement,document.body)}},__removeBlocker:function(){qx.dom.Element.remove(this.__blockerElement);"mshtml"==qx.core.Environment.get("engine.name")&&qx.dom.Element.remove(this.__iframeElement)},__onResize:function(e){if(this.__isWholeDocumentBlockTarget()){this.__resizeBlocker({width:"0px",height:"0px"});qx.event.Timer.once(function(){var e={width:qx.bom.Document.getWidth()+"px",height:qx.bom.Document.getHeight()+"px"};this.__resizeBlocker(e)},this,0)}},__resizeBlocker:function(e){qx.bom.element.Style.setStyles(this.__blockerElement,e);"mshtml"==qx.core.Environment.get("engine.name")&&qx.bom.element.Style.setStyles(this.__iframeElement,e)},__isWholeDocumentBlockTarget:function(){return null==this.__blockedElement||qx.dom.Node.isWindow(this.__blockedElement)||qx.dom.Node.isDocument(this.__blockedElement)}}});qx.bom.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Class",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this._el=document.createElement("div");document.body.appendChild(this._el)},tearDown:function(){document.body.removeChild(this._el)},testAddClass:function(){var e=qx.bom.element.Class.add(this._el,"vanillebaer");this.assertEquals("vanillebaer",this._el.className);this.assertEquals("vanillebaer",e)},testAddClasses:function(){qx.bom.element.Class.addClasses(this._el,["vanillebaer","schokobaer"]);this.assertTrue(qx.bom.element.Class.has(this._el,"vanillebaer"));this.assertTrue(qx.bom.element.Class.has(this._el,"schokobaer"))},testHasClass:function(){this._el.className="vanillebaer";this.assertTrue(qx.bom.element.Class.has(this._el,"vanillebaer"));this.assertFalse(qx.bom.element.Class.has(this._el,"schokobaer"))},testRemoveClass:function(){this._el.className="vanillebaer";var e=qx.bom.element.Class.remove(this._el,"vanillebaer");this.assertEquals("",qx.bom.element.Class.get(this._el));this.assertEquals("vanillebaer",e)},testRemoveClasses:function(){this._el.className="vanillebaer schokobaer karamellbaer";qx.bom.element.Class.removeClasses(this._el,["vanillebaer","schokobaer"]);this.assertFalse(qx.bom.element.Class.has(this._el,"vanillebaer"));this.assertFalse(qx.bom.element.Class.has(this._el,"schokobaer"));this.assertTrue(qx.bom.element.Class.has(this._el,"karamellbaer"))},testToggleClass:function(){this._el.className="vanillebaer";qx.bom.element.Class.toggle(this._el,"vanillebaer");this.assertFalse(qx.bom.element.Class.has(this._el,"vanillebaer"));qx.bom.element.Class.toggle(this._el,"vanillebaer");this.assertTrue(qx.bom.element.Class.has(this._el,"vanillebaer"))},testReplaceClass:function(){this._el.className="vanillebaer";qx.bom.element.Class.replace(this._el,"vanillebaer","schokobaer");this.assertTrue(qx.bom.element.Class.has(this._el,"schokobaer"));this.assertFalse(qx.bom.element.Class.has(this._el,"vanillebaer"))}}});qx.test.bom.Class.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Cookie":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Cookie",{extend:qx.dev.unit.TestCase,members:{testSaveSimpleData:function(){var e="qx.test.bom.Cookie.testSaveSimpleData",t=qx.bom.Cookie.get(e);this.assertNull(t,"Empty check before start");qx.bom.Cookie.set(e,"Qooxdoo");t=qx.bom.Cookie.get(e);this.assertEquals("Qooxdoo",t,"It is expected that this test fails if you start this test from a file system with Google Chrome.");qx.bom.Cookie.del(e);t=qx.bom.Cookie.get(e);this.assertNull(t,"Remove value")},testSaveData:function(){var e="qx.test.bom.Cookie.testSaveData2",t="qx.test.bom.Cookie.testSaveData1",i=qx.bom.Cookie.get(e),n=qx.bom.Cookie.get(t);this.assertNull(i,"Empty check before start (one)");this.assertNull(n,"Empty check before start (tow)");qx.bom.Cookie.set(e,"Qooxdoo 1");qx.bom.Cookie.set(t,"Qooxdoo 2");i=qx.bom.Cookie.get(e);n=qx.bom.Cookie.get(t);this.assertEquals("Qooxdoo 1",i,"It is expected that this test fails if you start this test from a file system with Google Chrome.");this.assertEquals("Qooxdoo 2",n,"It is expected that this test fails if you start this test from a file system with Google Chrome.");qx.bom.Cookie.del(e);qx.bom.Cookie.del(t);i=qx.bom.Cookie.get(e);n=qx.bom.Cookie.get(t);this.assertNull(i,"Remove value (one)");this.assertNull(n,"Remove value (tow)")},testEncoding:function(){var e="~!@#$%^&*(){}[]=:/,;?+'\"\\";qx.bom.Cookie.set("special",e);qx.bom.Cookie.set("utf","äëíöü");var t=escape(e),i=escape("äëíöü"),n=unescape(t),s=qx.bom.Cookie.get("special"),r=unescape(i),o=qx.bom.Cookie.get("utf"),a=["manualEscaped","=",i];document.cookie=a.join("");this.assertNull(qx.bom.Cookie.get("manualEscaped"));this.assertTrue(decodeURIComponent(t)==unescape(t),"There is some incompatible characters.");this.assertEquals(n,s,"There is some incompatible characters.");this.assertEquals(r,o,"There is some incompatible characters.")}}});qx.test.bom.Cookie.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.log.Logger":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Cookie",{statics:{get:function(e){var t=document.cookie.indexOf(e+"="),i=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var n=document.cookie.indexOf(";",i);-1==n&&(n=document.cookie.length);try{return decodeURIComponent(document.cookie.substring(i,n))}catch(e){qx.log.Logger.error("Error decoding URI components",e.message);return null}},set:function(e,t,i,n,s,r){var o=[e,"=",encodeURIComponent(t)];if(i){var a=new Date;a.setTime(a.getTime());o.push(";expires=",new Date(a.getTime()+1e3*i*60*60*24).toGMTString())}n&&o.push(";path=",n);s&&o.push(";domain=",s);r&&o.push(";secure");document.cookie=o.join("")},del:function(e,t,i){if(qx.bom.Cookie.get(e)){var n=[e,"="];t&&n.push(";path=",t);i&&n.push(";domain=",i);n.push(";expires=Thu, 01-Jan-1970 00:00:01 GMT");document.cookie=n.join("")}}}});qx.bom.Cookie.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Dataset":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Dataset",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="el";this._el=e;document.body.appendChild(e)},tearDown:function(){document.body.removeChild(this._el)},testSetAttribute:function(){var e=qx.bom.element.Dataset;e.set(this._el,"maxAge","100");this.assertEquals("100",e.get(this._el,"maxAge"));this.assertEquals("100",this._el.getAttribute("data-max-age"))},testSetAttributeWithUndefinedValue:function(){var e=qx.bom.element.Dataset;e.set(this._el,"age",void 0);this.assertNull(this._el.getAttribute("data-age"));this.assertUndefined(e.get(this._el,"age",void 0));e.set(this._el,"age2",null);this.assertNull(this._el.getAttribute("data-age2"));this.assertUndefined(e.get(this._el,"age2",null))},testGetAttribute:function(){var e=qx.bom.element.Dataset;this.assertUndefined(e.get(this._el,"salary"));this._el.setAttribute("data-salary","20");this.assertEquals("20",e.get(this._el,"salary"))},testRemoveAttribute:function(){var e=qx.bom.element.Dataset;e.set(this._el,"age","44");e.remove(this._el,"age");this.assertNull(this._el.getAttribute("age"));this.assertUndefined(e.get(this._el,"age"))}}});qx.test.bom.Dataset.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.String":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.element.Dataset",{statics:{set:function(e,t,i){if(e.dataset){t=qx.lang.String.camelCase(t);null===i||void 0==i?delete e.dataset[t]:e.dataset[t]=i}else null===i||void 0==i?qx.bom.element.Attribute.reset(e,"data-"+qx.lang.String.hyphenate(t)):qx.bom.element.Attribute.set(e,"data-"+qx.lang.String.hyphenate(t),i)},get:function(e,t){if(e.dataset){t=qx.lang.String.camelCase(t);return e.dataset[t]?e.dataset[t]:void 0}var i="data-"+qx.lang.String.hyphenate(t);return e.hasAttribute(i)?qx.bom.element.Attribute.get(e,i):void 0},getAll:function(e){if(e.dataset)return e.dataset;for(var t={},i=e.attributes,n=0;n<i.length;n++)if(i[n].name.match(RegExp("^data-(.*)"))){var s=RegExp.$1;t[qx.lang.String.camelCase(s)]=e.getAttribute(i[n].name)}return t},hasData:function(e){return Object.keys(qxWeb(e).getAllData()).length>0},remove:function(e,t){this.set(e,t,void 0)}}});qx.bom.element.Dataset.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Element":{},"qx.event.Registration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Element",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="el";this._el=e;document.body.appendChild(e)},tearDown:function(){document.body.removeChild(this._el)},testAddListener:function(){var e=function(){};qx.bom.Element.addListener(this._el,"click",e,this,!1);this.assertTrue(qx.bom.Element.hasListener(this._el,"click",!1));qx.bom.Element.removeListener(this._el,"click",e,this,!1);this.assertFalse(qx.bom.Element.hasListener(this._el,"click",!1))},testRemoveListenerById:function(){var e=qx.bom.Element.addListener(this._el,"click",function(){},this,!1);this.assertTrue(qx.bom.Element.hasListener(this._el,"click",!1));qx.bom.Element.removeListenerById(this._el,e);this.assertFalse(qx.bom.Element.hasListener(this._el,"click",!1))},testFocus:function(){qx.event.Registration.addListener(this._el,"focus",function(){this.resume(function(){this.info("Element focused.")},this)},this);var e=this;window.setTimeout(function(){qx.bom.Element.focus(e._el)},100);this.wait()},testBlur:function(){qx.event.Registration.addListener(this._el,"blur",function(){this.resume(function(){this.info("Element blurred.")},this)},this);var e=this;window.setTimeout(function(){qx.bom.Element.focus(e._el);qx.bom.Element.blur(e._el)},100);this.wait()},testActivate:function(){qx.bom.Element.activate(this._el);this.warn("needs better test!")},testDeactivate:function(){qx.bom.Element.deactivate(this._el);this.warn("needs better test!")},testCapture:function(){qx.bom.Element.capture(this._el);this.warn("needs better test!")},testReleaseCapture:function(){qx.bom.Element.releaseCapture(this._el);this.warn("needs better test!")},testClone:function(){var e=qx.bom.Element.clone(this._el);this.assertElement(e,"Cloning of the element failed!");this.assertEquals(e.id,"el","Cloning of the element failed! Attribute 'id' was not cloned.");this.assertEquals(e.nodeName.toLowerCase(),"div","Cloning of the element failed! Different node name.")}}});qx.test.bom.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dom.Element":{},"qx.bom.Event":{},"qx.log.Logger":{},"qx.bom.client.Event":{}},environment:{provided:[],required:{"event.mspointer":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Event",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{testSupportsEvent:function(){for(var e,t=["click","mousedown","mousemove","mouseup","mouseout"],i=0,n=t.length;i<n;i++){e=qx.dom.Element.create("div",{name:"vanillebaer"},window);qx.bom.Event.addNativeListener(e,t[i],function(e){qx.log.Logger.info("done")});this.assertTrue(qx.bom.Event.supportsEvent(e,t[i]),"Failed to check support for '"+t[i]+"'")}var s=qx.dom.Element.create("div",{name:"schokobaer"},window);this.assertFalse(qx.bom.Event.supportsEvent(s,"click2"));if(qx.core.Environment.get("event.mspointer")){var r=window.navigator.msPointerEnabled?["MSPointerDown","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSPointerMove"]:["pointerdown","pointerup","pointerout","pointerover","pointercancel","pointermove"];for(i=0,n=r.length;i<n;i++){e=qx.dom.Element.create("div",{name:"vanillebaer"},window);qx.bom.Event.addNativeListener(e,r[i],function(e){qx.log.Logger.info("done")});this.assertTrue(qx.bom.Event.supportsEvent(e,r[i]),"Failed to check support for '"+r[i]+"'")}}},testSafariMobile:function(){this.require(["html.audio"]);for(var e=qx.dom.Element.create("audio"),t=["loadeddata","progress","timeupdate","seeked","canplay","play","playing","pause","loadedmetadata","ended","volumechange"],i=0,n=t.length;i<n;i++)this.assertTrue(qx.bom.Event.supportsEvent(e,t[i]),"Failed to check support for '"+t[i]+"'")}}});qx.test.bom.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Html":{}},environment:{provided:[],required:{"html.filereader":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.FileReader",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{hasReader:function(){return qx.core.Environment.get("html.filereader")},setUp:function(){},tearDown:function(){}}});qx.test.bom.FileReader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Engine":{},"qx.bom.Font":{},"qx.ui.basic.Label":{},"qx.bom.client.Browser":{},"qx.lang.Object":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Font",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MRequirements],members:{hasNoIe:function(){return"mshtml"!==qx.core.Environment.get("engine.name")},setUp:function(){this.__font=new qx.bom.Font},tearDown:function(){qx.test.bom.Font.prototype.tearDown.base.call(this);this.__font.dispose()},testBold:function(){this.__font.setBold(!0);var e=this.__font.getStyles();this.assertEquals("bold",e.fontWeight,"Wrong style value for 'bold' property!")},testWeight:function(){this.__font.setWeight("400");var e=this.__font.getStyles();this.assertEquals("400",e.fontWeight,"something went wrong settng the 'font weight'")},testItalic:function(){this.__font.setItalic(!0);var e=this.__font.getStyles();this.assertEquals("italic",e.fontStyle,"Wrong style value for 'italic' property!")},testDecorationUnderline:function(){this.__font.setDecoration("underline");var e=this.__font.getStyles();this.assertEquals("underline",e.textDecoration,"Wrong style value for 'decoration' property!")},testDecorationLineThrough:function(){this.__font.setDecoration("line-through");var e=this.__font.getStyles();this.assertEquals("line-through",e.textDecoration,"Wrong style value for 'decoration' property!")},testDecorationOverline:function(){this.__font.setDecoration("overline");var e=this.__font.getStyles();this.assertEquals("overline",e.textDecoration,"Wrong style value for 'decoration' property!")},testFontFamily:function(){this.__font.setFamily(["Arial"]);var e=this.__font.getStyles();this.assertEquals("Arial",e.fontFamily,"Wrong style value for 'family' property!")},testFontFamilyMultipleWords:function(){this.__font.setFamily(["Times New Roman"]);var e=this.__font.getStyles();this.assertEquals('"Times New Roman"',e.fontFamily,"Wrong style value for 'family' property!")},testLineHeight:function(){this.__font.setLineHeight(1.5);var e=this.__font.getStyles();this.assertEquals(1.5,e.lineHeight,"Wrong style value for 'lineHeight' property!")},testSize:function(){this.__font.setSize(20);var e=this.__font.getStyles();this.assertEquals("20px",e.fontSize,"Wrong style value for 'size' property!")},testColor:function(){this.__font.setColor("red");var e=this.__font.getStyles();this.assertEquals("red",e.color,"Wrong style value for 'color' property!")},testTextShadow:function(){this.require(["noIe"]);this.__font.setTextShadow("red 1px 1px 3px, green -1px -1px 3px, white -1px 1px 3px, white 1px -1px 3px");var e=this.__font.getStyles();this.assertEquals("red 1px 1px 3px, green -1px -1px 3px, white -1px 1px 3px, white 1px -1px 3px",e.textShadow,"Wrong style value for 'textShadow' property!")},testColorAtWidget:function(){this.__font.setColor("#ff0000");var e=new qx.ui.basic.Label("myLabel");e.setFont(this.__font);this.getRoot().add(e);this.flush();var t=!0;"ie"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.documentmode")<9&&(t=!1);var i=t?"rgb(26, 26, 26)":"#1a1a1a",n=e.getContentElement().getDomElement().style.color;this.assertEquals(i,n,"Wrong style applied for 'color' property!");e.destroy()},testGetStyles:function(){var e=this.__font.getStyles();Object.keys(e);this.assertMap(e,"Method 'getStyles' should return a map!");this.assertEquals(8,qx.lang.Object.getLength(e),"Map should contain 8 key!");this.assertNotUndefined(e.fontFamily,"Key 'fontFamily' has to be present!");this.assertNotUndefined(e.fontStyle,"Key 'fontStyle' has to be present!");this.assertNotUndefined(e.fontWeight,"Key 'fontWeight' has to be present!");this.assertNotUndefined(e.fontSize,"Key 'fontSize' has to be present!");this.assertNotUndefined(e.lineHeight,"Key 'lineHeight' has to be present!");this.assertNotUndefined(e.textDecoration,"Key 'textDecoration' has to be present!");this.assertNotUndefined(e.color,"Key 'color' has to be present!");this.assertNotUndefined(e.textShadow,"Key 'textShadow' has to be present!")},testGetSomeStyles:function(){this.__font.setBold(!0);this.__font.setItalic(!0);this.__font.setColor("#3f3f3f");this.__font.setDecoration("underline");var e=this.__font.getStyles(),t=Object.keys(e);this.assertMap(e,"Method 'getStyles' should return a map!");this.assertEquals("fontFamily",t[0],"Key 'fontFamily' has to be present!");this.assertEquals("",e.fontFamily,"'fontFamily' has to have the value ''!");this.assertEquals("italic",e.fontStyle,"Wrong value for 'fontStyle'!");this.assertEquals("bold",e.fontWeight,"Wrong value for 'fontWeight'!");this.assertEquals("#3f3f3f",e.color,"Wrong value for 'color'!");this.assertEquals("underline",e.textDecoration,"Wrong value for 'textDecoration'!")},testFromConfig:function(){var e=qx.bom.Font.fromConfig({bold:!0,italic:!1,decoration:"underline",lineHeight:1.2,size:20,family:["Arial"],color:"red"}),t={fontWeight:"bold",fontStyle:"normal",textDecoration:"underline",lineHeight:1.2,fontSize:"20px",fontFamily:"Arial",color:"red"},i=e.getStyles();this.assertEquals(t.fontWeight,i.fontWeight,"Wrong value for 'fontWeight'");this.assertEquals(t.fontStyle,i.fontStyle,"Wrong value for 'fontStyle'");this.assertEquals(t.fontSize,i.fontSize,"Wrong value for 'fontSize'");this.assertEquals(t.lineHeight,i.lineHeight,"Wrong value for 'lineHeight'");this.assertEquals(t.textDecoration,i.textDecoration,"Wrong value for 'textDecoration'");this.assertEquals(t.fontFamily,i.fontFamily,"Wrong value for 'fontFamily'");this.assertEquals(t.textColor,i.textColor,"Wrong value for 'textColor'");e.dispose()},testFromString:function(){var e=qx.bom.Font.fromString("bold italic underline 20px Arial"),t="bold",i="italic",n="underline",s="20px",r="Arial",o=e.getStyles();this.assertEquals(t,o.fontWeight,"Wrong value for 'fontWeight'");this.assertEquals(i,o.fontStyle,"Wrong value for 'fontStyle'");this.assertEquals(s,o.fontSize,"Wrong value for 'fontSize'");this.assertEquals(n,o.textDecoration,"Wrong value for 'textDecoration'");this.assertEquals(r,o.fontFamily,"Wrong value for 'fontFamily'");e.dispose()}}});qx.test.bom.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IField",{events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IStringForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IStringForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.IStringForm":{require:!0},"qx.locale.Manager":{construct:!0},"qx.bom.client.Css":{},"qx.bom.client.Html":{},"qx.html.Label":{},"qx.theme.manager.Color":{},"qx.theme.manager.Font":{},"qx.bom.webfonts.WebFont":{},"qx.bom.Font":{},"qx.ui.core.queue.Layout":{},"qx.bom.Label":{},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"css.textoverflow":{className:"qx.bom.client.Css"},"html.xul":{className:"qx.bom.client.Html"},"os.name":{className:"qx.bom.client.OperatingSystem"},"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.basic.Label",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IStringForm],construct:function(e){qx.ui.core.Widget.constructor.call(this);null!=e&&this.setValue(e);qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this)},properties:{rich:{check:"Boolean",init:!1,event:"changeRich",apply:"_applyRich"},wrap:{check:"Boolean",init:!0,apply:"_applyWrap"},breakWithinWords:{check:"Boolean",init:!1,apply:"_applyBreakWithinWords"},value:{check:"String",apply:"_applyValue",event:"changeValue",nullable:!0},buddy:{check:"qx.ui.core.Widget",apply:"_applyBuddy",nullable:!0,init:null,dereference:!0},textAlign:{check:["left","center","right","justify"],nullable:!0,themeable:!0,apply:"_applyTextAlign",event:"changeTextAlign"},appearance:{refine:!0,init:"label"},selectable:{refine:!0,init:!1},allowGrowX:{refine:!0,init:!1},allowGrowY:{refine:!0,init:!1},allowShrinkY:{refine:!0,init:!1}},members:{__font:null,__invalidContentSize:null,__tapListenerId:null,__webfontListenerId:null,_getContentHint:function(){if(this.__invalidContentSize){this.__contentSize=this.__computeContentSize();delete this.__invalidContentSize}return{width:this.__contentSize.width,height:this.__contentSize.height}},_hasHeightForWidth:function(){return this.getRich()&&this.getWrap()},_applySelectable:function(e){qx.core.Environment.get("css.textoverflow")||!qx.core.Environment.get("html.xul")||!e||this.isRich()?qx.ui.basic.Label.prototype._applySelectable.base.call(this,e):this.warn("Only rich labels are selectable in browsers with Gecko engine!")},_getContentHeightForWidth:function(e){return this.getRich()||this.getWrap()?this.__computeContentSize(e).height:null},_createContentElement:function(){return new qx.html.Label},_applyTextAlign:function(e,t){this.getContentElement().setStyle("textAlign",e)},_applyTextColor:function(e,t){e?this.getContentElement().setStyle("color",qx.theme.manager.Color.getInstance().resolve(e)):this.getContentElement().removeStyle("color")},__contentSize:{width:0,height:0},_applyFont:function(e,t){if(t&&this.__font&&this.__webfontListenerId){this.__font.removeListenerById(this.__webfontListenerId);this.__webfontListenerId=null}var i;if(e){this.__font=qx.theme.manager.Font.getInstance().resolve(e);this.__font instanceof qx.bom.webfonts.WebFont&&(this.__webfontListenerId=this.__font.addListener("changeStatus",this._onWebFontStatusChange,this));i=this.__font.getStyles()}else{this.__font=null;i=qx.bom.Font.getDefaultStyles()}null!=this.getTextColor()&&delete i.color;this.getContentElement().setStyles(i);this.__invalidContentSize=!0;qx.ui.core.queue.Layout.add(this)},__computeContentSize:function(e){var t=qx.bom.Label,i=this.getFont()?this.__font.getStyles():qx.bom.Font.getDefaultStyles(),n=this.getValue()||"A",s=this.getRich();this.__webfontListenerId&&this.__fixEllipsis();s&&this.getBreakWithinWords()&&(i.wordBreak="break-all");return s?t.getHtmlSize(n,i,e):t.getTextSize(n,i)},__fixEllipsis:function(){if(this.getContentElement()&&"osx"==qx.core.Environment.get("os.name")&&"gecko"==qx.core.Environment.get("engine.name")&&parseInt(qx.core.Environment.get("engine.version"),10)<16&&parseInt(qx.core.Environment.get("engine.version"),10)>9){var e=this.getContentElement().getDomElement();e&&(e.innerHTML=e.innerHTML)}},_applyBuddy:function(e,t){if(null!=t){this.removeRelatedBindings(t);this.removeListenerById(this.__tapListenerId);this.__tapListenerId=null}if(null!=e){e.bind("enabled",this,"enabled");this.__tapListenerId=this.addListener("tap",function(){e.isFocusable()&&e.focus.apply(e);"toggleValue"in e&&"function"==typeof e.toggleValue&&e.toggleValue()},this)}},_applyRich:function(e){this.getContentElement().setRich(e);this.__invalidContentSize=!0;qx.ui.core.queue.Layout.add(this)},_applyWrap:function(e,t){e&&!this.isRich()&&this.warn("Only rich labels support wrap.");if(this.isRich()){var i=e?"normal":"nowrap";this.getContentElement().setStyle("whiteSpace",i)}},_applyBreakWithinWords:function(e,t){this.isRich()&&this.getContentElement().setStyle("wordBreak",e?"break-all":"normal")},_onChangeLocale:function(e){var t=this.getValue();t&&t.translate&&this.setValue(t.translate())},_onWebFontStatusChange:function(e){if(!0===e.getData().valid){"safari"==qx.core.Environment.get("browser.name")&&parseFloat(qx.core.Environment.get("browser.version"))>=8&&window.setTimeout(function(){this.__invalidContentSize=!0;qx.ui.core.queue.Layout.add(this)}.bind(this),0);this.__invalidContentSize=!0;qx.ui.core.queue.Layout.add(this)}},_applyValue:function(e,t){e&&e.translate?this.getContentElement().setValue(e.translate()):this.getContentElement().setValue(e);this.__invalidContentSize=!0;qx.ui.core.queue.Layout.add(this)}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this);this.__font&&this.__webfontListenerId&&this.__font.removeListenerById(this.__webfontListenerId);this.__font=null}});qx.ui.basic.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Html":{},"qx.bom.GeoLocation":{}},environment:{provided:[],required:{"html.geolocation":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.GeoLocation",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{_geo:null,_position:null,hasGeolocation:function(){return qx.core.Environment.get("html.geolocation")},setUp:function(){this._position={timestamp:(new Date).getTime(),coords:{latitude:1,longitude:2,altitude:3,accuracy:4,altitudeAccuracy:5,heading:6,speed:7}};this.require(["geolocation"]);this._geo=qx.bom.GeoLocation.getInstance()},tearDown:function(){qx.bom.GeoLocation.$$instance=void 0;this._geo.dispose();this._geo=null;this._position=null},testGetCurrentPosition:function(){var e=this,t=this.stub(this._geo._geolocation,"getCurrentPosition",function(t,i,n){t(e._position)});this.assertEventFired(this._geo,"position",function(){e._geo.getCurrentPosition(!1,1e3,1e3);e.assert(t.called)},function(t){e.assertEquals(e._position.timestamp,t.getTimestamp());e.assertEquals(e._position.coords.latitude,t.getLatitude());e.assertEquals(e._position.coords.longitude,t.getLongitude());e.assertEquals(e._position.coords.altitude,t.getAltitude());e.assertEquals(e._position.coords.accuracy,t.getAccuracy());e.assertEquals(e._position.coords.altitudeAccuracy,t.getAltitudeAccuracy());e.assertEquals(e._position.coords.heading,t.getHeading());e.assertEquals(e._position.coords.speed,t.getSpeed())});t.restore();t=this.stub(this._geo._geolocation,"getCurrentPosition",function(e,t,i){t({code:1,message:"Error"})});this.assertEventFired(this._geo,"error",function(){e._geo.getCurrentPosition(!1,1e3,1e3);e.assert(t.called)},function(t){e.assertEquals(1,t.getData().code);e.assertEquals("Error",t.getData().message)});t.restore()},testWatchPosition:function(){var e=this,t=this.stub(this._geo._geolocation,"watchPosition",function(t,i,n){t(e._position);return 200}),i=this.stub(this._geo._geolocation,"clearWatch");this.assertEventFired(this._geo,"position",function(){e._geo.startWatchPosition(!1,1e3,1e3);e.assert(t.called);e.assertEquals(200,e._geo._watchId)},function(t){e.assertEquals(e._position.timestamp,t.getTimestamp());e.assertEquals(e._position.coords.latitude,t.getLatitude());e.assertEquals(e._position.coords.longitude,t.getLongitude());e.assertEquals(e._position.coords.altitude,t.getAltitude());e.assertEquals(e._position.coords.accuracy,t.getAccuracy());e.assertEquals(e._position.coords.altitudeAccuracy,t.getAltitudeAccuracy());e.assertEquals(e._position.coords.heading,t.getHeading());e.assertEquals(e._position.coords.speed,t.getSpeed())});this._geo.stopWatchPosition();this.assert(i.called);e.assertNull(e._geo._watchId);t.restore();i.restore()}}});qx.test.bom.GeoLocation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.lang.Function":{},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Browser":{},"qx.event.type.GeoPosition":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"},"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.GeoLocation",{extend:qx.core.Object,type:"singleton",construct:function(){this._geolocation=navigator.geolocation},events:{position:"qx.event.type.GeoPosition",error:"qx.event.type.Data"},members:{_watchId:null,_geolocation:null,getCurrentPosition:function(e,t,i){var n,s=qx.lang.Function.bind(this._successHandler,this);n="android"===qx.core.Environment.get("os.name")&&-1!==qx.core.Environment.get("browser.name").indexOf("chrome")?function(){var n=this._errorHandler.bind(this);this._geolocation.getCurrentPosition(s,n,{enableHighAccuracy:e,timeout:t,maximumAge:i})}.bind(this):qx.lang.Function.bind(this._errorHandler,this);this._geolocation.getCurrentPosition(s,n,{enableHighAccuracy:e,timeout:t,maximumAge:i})},startWatchPosition:function(e,t,i){this.stopWatchPosition();var n=qx.lang.Function.bind(this._errorHandler,this),s=qx.lang.Function.bind(this._successHandler,this);this._watchId=this._geolocation.watchPosition(s,n,{enableHighAccuracy:e,timeout:t,maximumAge:i})},stopWatchPosition:function(){if(null!=this._watchId){this._geolocation.clearWatch(this._watchId);this._watchId=null}},_successHandler:function(e){this.fireEvent("position",qx.event.type.GeoPosition,[e])},_errorHandler:function(e){this.fireDataEvent("error",e)}},destruct:function(){this.stopWatchPosition()}});qx.bom.GeoLocation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{construct:!0,require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.GeoPosition",{extend:qx.event.type.Event,construct:function(){qx.event.type.Event.constructor.call(this)},properties:{timestamp:{check:"Number"},latitude:{check:"Number"},longitude:{check:"Number"},altitude:{check:"Number",nullable:!0},accuracy:{check:"Number"},altitudeAccuracy:{check:"Number",nullable:!0},heading:{nullable:!0},speed:{check:function(e){return qx.lang.Type.isNumber(e)},nullable:!0}},members:{init:function(e){this.setTimestamp(e.timestamp);this.setLatitude(e.coords.latitude);this.setLongitude(e.coords.longitude);this.setAltitude(e.coords.altitude);this.setAccuracy(e.coords.accuracy);this.setAltitudeAccuracy(e.coords.altitudeAccuracy);this.setHeading(e.coords.heading);this.setSpeed(e.coords.speed)}}});qx.event.type.GeoPosition.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Engine":{},"qx.bom.History":{},"qx.bom.client.Browser":{},"qx.bom.HashHistory":{},"qx.bom.IframeHistory":{},"qx.bom.client.Event":{},"qx.bom.NativeHistory":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"event.hashchange":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.History",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{__history:null,hasNoIe:function(){return"mshtml"!==qx.core.Environment.get("engine.name")},setUp:function(){this.__history=qx.bom.History.getInstance()},testInstance:function(){var e=!(window==window.top);this.$$instance||(e&&9==qx.core.Environment.get("browser.documentmode")?this.assertInstance(this.__history,qx.bom.HashHistory):e&&"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9?this.assertInstance(this.__history,qx.bom.IframeHistory):qx.core.Environment.get("event.hashchange")?this.assertInstance(this.__history,qx.bom.NativeHistory):"mshtml"==qx.core.Environment.get("engine.name")&&this.assertInstance(this.__history,qx.bom.IframeHistory))},testAddState:function(){this.__history.addToHistory("foo","Title Foo");var e=this;window.setTimeout(function(){e.resume(function(){this.__checkState()},e)},200);this.wait()},testNavigateBack:function(){this.__history.addToHistory("foo","Title Foo");var e=this;window.setTimeout(function(){e.resume(function(){this.__checkFooAndSetBar()},e)},200);this.wait()},__checkFooAndSetBar:function(){var e=this;this.assertEquals("foo",this.__history._readState(),"check1");this.__history.addToHistory("bar","Title Bar");window.setTimeout(function(){e.resume(function(){this.__checkBarAndGoBack()},e)},200);this.wait()},__checkBarAndGoBack:function(){var e=this;this.assertEquals("bar",this.__history._readState(),"check2");history.back();window.setTimeout(function(){e.resume(function(){this.__checkState()},e)},200);this.wait()},__checkState:function(){this.assertEquals("foo",this.__history._readState(),"check3");this.assertEquals("Title Foo",this.__history.getTitle())},testNavigateBackAfterSetState:function(){this.__history.setState("affe");var e=this;window.setTimeout(function(){e.resume(function(){this.__setState_checkAffeAndSetFoo()},e)},200);this.wait()},__setState_checkAffeAndSetFoo:function(){var e=this;this.assertEquals("affe",this.__history._readState(),"check0");this.__history.setState("foo");window.setTimeout(function(){e.resume(function(){this.__setState_checkFooAndSetBar()},e)},200);this.wait()},__setState_checkFooAndSetBar:function(){var e=this;this.assertEquals("foo",this.__history._readState(),"check1");this.__history.setState("bar");window.setTimeout(function(){e.resume(function(){this.__setState_checkBarAndGoBack()},e)},300);this.wait()},__setState_checkBarAndGoBack:function(){var e=this;this.assertEquals("bar",this.__history._readState(),"check2");history.back();window.setTimeout(function(){e.resume(function(){this.assertEquals("foo",this.__history._readState(),"check3")},e)},200);this.wait()},testRequestEvent:function(){var e=this;this.__history.addListenerOnce("request",function(){e.resume(function(){this.assertTrue(!0)},e)},this);this.__history.setState("bar");history.back();this.wait()},testRequestEventAddHistory:function(){this.__history.addListenerOnce("request",function(e){this.resume(function(){this.assertEquals("baz",e.getData())},this)},this);var e=this;window.setTimeout(function(){e.__history.addToHistory("baz")},250);this.wait(500)}}});qx.test.bom.History.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.IdleCallback":{}},environment:{provided:[],required:{"client.idle":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.IdleCallback",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{tearDown:function(){this.getSandbox().restore()},"test: emulated requestIdleCallback":function(){this.stub(qx.core.Environment,"get").withArgs("client.idle").returns(!1);var e=this.spy();qx.bom.IdleCallback.request(e);this.getSandbox().restore();this.wait(500,function(){this.assertCalledOnce(e);this.assertFalse(e.args[0][0].didTimeout);this.assertFunction(e.args[0][0].timeRemaining);this.assertNumber(e.args[0][0].timeRemaining());this.assertNumber(e.args[0][0].timeRemaining(),0)},this)},"test: emulated cancelIdleCallback":function(){this.stub(qx.core.Environment,"get").withArgs("client.idle").returns(!1);var e=this.spy(),t=qx.bom.IdleCallback.request(e);qx.bom.IdleCallback.cancel(t);this.getSandbox().restore();this.wait(500,function(){this.assertNotCalled(e)},this)},"test: native requestIdleCallback":function(){qx.core.Environment.get("client.idle")||this.skip();var e=this.spy();qx.bom.IdleCallback.request(e);this.wait(500,function(){this.assertCalledOnce(e);this.assertFalse(e.args[0][0].didTimeout);this.assertFunction(e.args[0][0].timeRemaining);this.assertNumber(e.args[0][0].timeRemaining())},this)},"test: native cancelIdleCallback":function(){qx.core.Environment.get("client.idle")||this.skip();var e=this.spy(),t=qx.bom.IdleCallback.request(e);qx.bom.IdleCallback.cancel(t);this.wait(500,function(){this.assertNotCalled(e)},this)}}});qx.test.bom.IdleCallback.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}},environment:{provided:[],required:{"client.idle":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.IdleCallback",{extend:qx.core.Object,statics:{TIMEOUT:0,REMAINING:250,request:function(e,t,i){var n=function(i){return e.call(t,i)};if(qx.core.Environment.get("client.idle"))return window.requestIdleCallback(n,i);var s={started:(new Date).getTime(),timeRemaining:function(){var e=(new Date).getTime();return Math.max(qx.bom.IdleCallback.REMAINING-(e-this.started),0)},didTimeout:!1};return window.setTimeout(function(){n(s)},qx.bom.IdleCallback.TIMEOUT)},cancel:function(e){qx.core.Environment.get("client.idle")?window.cancelIdleCallback(e):window.clearTimeout(e)}}});qx.bom.IdleCallback.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Iframe":{},"qx.lang.Object":{},"qx.bom.client.Engine":{},"qx.bom.element.Attribute":{},"qx.dom.Element":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Iframe",{extend:qx.dev.unit.TestCase,members:{__iframe:null,tearDown:function(){this.__iframe=null},testCreate:function(){this.__iframe=qx.bom.Iframe.create();this.__testAttributes(qx.bom.Iframe.DEFAULT_ATTRIBUTES)},testCreateWithAttributes:function(){var e=qx.lang.Object.clone(qx.bom.Iframe.DEFAULT_ATTRIBUTES);e.allowTransparency=!1;this.__iframe=qx.bom.Iframe.create(e);this.__testAttributes(e)},__testAttributes:function(e){"mshtml"==qx.core.Environment.get("engine.name")&&delete e.onload;for(var t in e)this.assertEquals(e[t],qx.bom.element.Attribute.get(this.__iframe,t),"Wrong value on attribute '"+t+"'")},testGetWindow:function(){this.__iframe=qx.bom.Iframe.create();qx.dom.Element.insertBegin(this.__iframe,document.body);this.assertNotNull(qx.bom.Iframe.getWindow(this.__iframe));qx.dom.Element.remove(this.__iframe)}}});qx.test.bom.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Object":{},"qx.bom.client.Css":{},"qx.bom.client.Html":{},"qx.bom.client.OperatingSystem":{},"qx.bom.Label":{}},environment:{provided:[],required:{"css.textoverflow":{className:"qx.bom.client.Css"},"html.xul":{className:"qx.bom.client.Html"},"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Label",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__boldStyle={fontWeight:"bold"};this.__italicStyle={fontStyle:"italic"};this.__boldItalicStyle={fontWeight:"bold",fontStyle:"italic"};this.__familyStyle={fontFamily:["Verdana"]};this.__fontSizeStyle={fontSize:"20px"};this.__paddingStyle={padding:"10px"};this.__marginStyle={margin:"10px"};this.__allTogetherStyle={};qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__boldStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__italicStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__boldItalicStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__familyStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__fontSizeStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__paddingStyle);qx.lang.Object.mergeWith(this.__allTogetherStyle,this.__marginStyle)},tearDown:function(){this.__boldStyle=null;this.__italicStyle=null;this.__familyStyle=null;this.__fontSizeStyle=null;this.__paddingStyle=null;this.__marginStyle=null;this.__allTogetherStyle=null},testMeasureSizeTextNormal:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e="vanillebaer",t=null;t=qx.bom.Label.getTextSize(e);this.assertEquals(53,t.width);this.assertEquals(14,t.height);t=qx.bom.Label.getTextSize(e,this.__fontSizeStyle);this.assertEquals(94,t.width);this.assertEquals(24,t.height);t=qx.bom.Label.getTextSize(e,this.__familyStyle);this.assertEquals(64,t.width);this.assertEquals(13,t.height);t=qx.bom.Label.getTextSize(e,this.__paddingStyle);this.assertEquals(53,t.width);this.assertEquals(14,t.height);t=qx.bom.Label.getTextSize(e,this.__marginStyle);this.assertEquals(53,t.width);this.assertEquals(14,t.height);t=qx.bom.Label.getTextSize(e,this.__allTogetherStyle);this.assertEquals(125,t.width);this.assertEquals(25,t.height)}else this.skip()},testMeasureSizeTextBold:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__boldStyle);this.assertEquals(61,e.width);this.assertEquals(14,e.height)}else this.assertTrue(!0)},testMeasureSizeTextItalic:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__italicStyle);this.assertEquals(56,e.width);this.assertEquals(14,e.height)}else this.assertTrue(!0)},testMeasureSizeTextBoldItalic:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__boldItalicStyle);this.assertEquals(64,e.width);this.assertEquals(13,e.height)}else this.assertTrue(!0)},testMeasureSizeTextFontSize:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__fontSize);this.assertEquals(53,e.width);this.assertEquals(14,e.height)}else this.assertTrue(!0)},testMeasureSizeTextFontFamily:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__familyStyle);this.assertEquals(64,e.width);this.assertEquals(13,e.height)}else this.assertTrue(!0)},testMeasureSizeTextPadding:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__paddingStyle);this.assertEquals(53,e.width);this.assertEquals(14,e.height)}else this.assertTrue(!0)},testMeasureSizeTextMargin:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__marginStyle);this.assertEquals(53,e.width);this.assertEquals(14,e.height)}else this.assertTrue(!0)},testMeasureSizeTextAllTogether:function(){if(!qx.core.Environment.get("css.textoverflow")&&qx.core.Environment.get("html.xul")&&"win"==qx.core.Environment.get("os.name")){var e;e=qx.bom.Label.getTextSize("vanillebaer",this.__allTogetherStyle);this.assertEquals(125,e.width);this.assertEquals(25,e.height)}else this.assertTrue(!0)},testSanitizer:function(){var e=document.createElement("div");e.useHtml=!0;qx.bom.Label.setSanitizer(function(e){return e.indexOf("<script")>-1?"":e});var t="foo<b></b>";qx.bom.Label.setValue(e,t);this.assertEquals(qx.bom.Label.getValue(e).toLowerCase(),t);t="foo<script><\/script>";qx.bom.Label.setValue(e,t);this.assertEquals(qx.bom.Label.getValue(e),"");qx.bom.Label.setSanitizer(null)}}});qx.test.bom.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.element.Location":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.quirksmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Location",{extend:qx.dev.unit.TestCase,members:{__el:null,__bodyStyles:null,__marginTop:null,__marginLeft:null,__left:null,__top:null,__position:null,__border:null,__padding:null,setUp:function(){this.__el=qx.dom.Element.create("div",{id:"testRoot"});document.body.appendChild(this.__el);this.__bodyStyles=document.body.style;this.__marginTop=this.__bodyStyles.marginTop;this.__marginLeft=this.__bodyStyles.marginLeft;this.__left=this.__bodyStyles.left;this.__top=this.__bodyStyles.top;this.__position=this.__bodyStyles.position;this.__border=this.__bodyStyles.border;this.__padding=this.__bodyStyles.padding;this.__bodyStyles.marginLeft="0px";this.__bodyStyles.marginTop="0px";this.__bodyStyles.left="0px";this.__bodyStyles.top="0px";this.__bodyStyles.position="static";this.__bodyStyles.padding="0px"},tearDown:function(){this.__bodyStyles.marginTop=this.__marginTop;this.__bodyStyles.marginLeft=this.__marginLeft;this.__bodyStyles.top=this.__top;this.__bodyStyles.left=this.__left;this.__bodyStyles.position=this.__position;this.__bodyStyles.border=this.__border;this.__bodyStyles.padding=this.__padding;document.body.removeChild(this.__el);this.__el=null},testBodyLocationDefault:function(){var e=qx.bom.element.Location.get(document.body);this.assertEquals(0,e.left);this.assertEquals(0,e.top)},testBodyLocationMargins:function(){this.__bodyStyles.marginLeft="10px";this.__bodyStyles.marginTop="20px";var e=qx.bom.element.Location.get(document.body);this.assertEquals(10,e.left);this.assertEquals(20,e.top)},testBodyLocationBorder:function(){this.__bodyStyles.border="5px solid black";var e=qx.bom.element.Location.get(document.body);this.assertEquals(0,e.left);this.assertEquals(0,e.top)},testBodyLocationPadding:function(){this.__bodyStyles.padding="5px";var e=qx.bom.element.Location.get(document.body);this.assertEquals(0,e.left);this.assertEquals(0,e.top)},testBodyLocationMode:function(){this.__bodyStyles.marginLeft="10px";this.__bodyStyles.marginTop="20px";this.__bodyStyles.border="5px solid black";this.__bodyStyles.padding="30px";var e=qx.bom.element.Location.get(document.body,"margin");this.assertEquals(0,e.left);this.assertEquals(0,e.top);e=qx.bom.element.Location.get(document.body,"box");this.assertEquals(10,e.left);this.assertEquals(20,e.top);e=qx.bom.element.Location.get(document.body,"border");this.assertEquals(15,e.left);this.assertEquals(25,e.top);e=qx.bom.element.Location.get(document.body,"scroll");this.assertEquals(15,e.left);this.assertEquals(25,e.top);e=qx.bom.element.Location.get(document.body,"padding");this.assertEquals(45,e.left);this.assertEquals(55,e.top)},testDivStatic:function(){this.__el.innerHTML='<div id="div1" style=" position: static; margin: 5px; border: 2px solid #000; padding: 3px; width: 200px; height: 200px;"><div id="div2" style="position: static; margin: 5px; border: 2px solid #000; padding: 3px; width: 150px; height: 150px;"><div id="div3" style="position: static; margin: 5px; border: 2px solid #000; padding: 3px; width: 100px; height: 100px;"></div></div></div>';var e=document.getElementById("div1"),t=qx.bom.element.Location.get(e);this.assertEquals(5,t.left,"left1");this.assertEquals(5,t.top,"top1");var i=document.getElementById("div2");t=qx.bom.element.Location.get(i);this.assertEquals(15,t.left,"left2");this.assertEquals(15,t.top,"top2");var n=document.getElementById("div3");t=qx.bom.element.Location.get(n);this.assertEquals(25,t.left,"left3");this.assertEquals(25,t.top,"top3")},testDivRelative:function(){this.__el.innerHTML='<div id="div1" style="position: relative; top: 5px; left: 5px; margin: 5px; border: 2px solid #000; padding: 3px; width: 200px; height: 200px;"><div id="div2" style="position: relative; top: 5px; left: 5px; margin: 5px; border: 2px solid #000; padding: 3px; width: 150px; height: 150px;"><div id="div3" style="position: relative; top: -5px; left: -5px; margin: 5px; border: 2px solid #000; padding: 3px; width: 100px; height: 100px;"></div></div></div>';var e=document.getElementById("div1"),t=qx.bom.element.Location.get(e);this.assertEquals(10,t.left);this.assertEquals(10,t.top);var i=document.getElementById("div2");t=qx.bom.element.Location.get(i);this.assertEquals(25,t.left,"left2");this.assertEquals(25,t.top,"top2");var n=document.getElementById("div3");t=qx.bom.element.Location.get(n);this.assertEquals(30,t.left,"left3");this.assertEquals(30,t.top,"top3")},testDivAbsolute:function(){this.__el.innerHTML='<div id="div1" style="position: absolute; top: 200px; left: 10px; margin: 5px; border: 2px solid #000; padding: 3px; width: 200px; height: 200px;"><div id="div2" style="position: absolute; top: -100px; left: -10px; margin: 5px; border: 2px solid #000; padding: 3px; width: 150px; height: 150px;"><div id="div3" style="position: absolute; top: 100px; left: 10px; margin: 5px; border: 2px solid #000; padding: 3px; width: 100px; height: 100px;"></div></div></div>';var e=document.getElementById("div1"),t=qx.bom.element.Location.get(e);this.assertEquals(15,t.left);this.assertEquals(205,t.top);var i=document.getElementById("div2");t=qx.bom.element.Location.get(i);this.assertEquals(12,t.left);this.assertEquals(112,t.top);var n=document.getElementById("div3");t=qx.bom.element.Location.get(n);this.assertEquals(29,t.left);this.assertEquals(219,t.top)},testDivMixedPositions:function(){this.__el.innerHTML='<div id="absolute1" style="position: absolute; top: 300px; left: 400px; margin: 5px; border: 2px solid #000; padding: 3px; width: 100px; height: 100px;"> <div id="relative1" style="position: relative; top: 50px; left: 50px; margin: 5px; border: 2px solid #000; padding: 3px; width: 300px; height: 300px;">   <div id="static1" style="overflow: hidden; position: static; margin: 5px; border: 2px solid #000; padding: 3px; width: 250px; height: 250px;">     <div id="relative2" style="overflow: auto; position: relative; top: 10px; left: 10px; margin: 5px; border: 2px solid #000; padding: 3px; width: 200px; height: 200px;">       <div id="absolute2" style="position: absolute; top: 30px; left: -90px; margin: 5px; border: 2px solid #000; padding: 3px; width: 200px; height: 200px;">         <div id="static2" style="position: static; margin: 10px; border: 2px solid #000; padding: 3px; width: 250px; height: 250px;">         </div>       </div>     </div>   </div>  </div></div>';var e=document.getElementById("absolute1"),t=qx.bom.element.Location.get(e);this.assertEquals(405,t.left);this.assertEquals(305,t.top);var i=document.getElementById("relative1");t=qx.bom.element.Location.get(i);this.assertEquals(465,t.left);this.assertEquals(365,t.top,"top2");var n=document.getElementById("static1");t=qx.bom.element.Location.get(n);this.assertEquals(475,t.left);this.assertEquals(375,t.top,"top3");var s=document.getElementById("relative2");t=qx.bom.element.Location.get(s);this.assertEquals(495,t.left);this.assertEquals(395,t.top,"top4");var r=document.getElementById("absolute2");t=qx.bom.element.Location.get(r);this.assertEquals(412,t.left);this.assertEquals(432,t.top,"top4");var o=document.getElementById("static2");t=qx.bom.element.Location.get(o);this.assertEquals(427,t.left);this.assertEquals(447,t.top,"top5")},testDivWithBodyMargin:function(){this.__bodyStyles.marginLeft="10px";this.__bodyStyles.marginTop="20px";this.__el.innerHTML='<div id="div">affe</div>';var e=document.getElementById("div"),t=qx.bom.element.Location.get(e);this.assertEquals(10,t.left);this.assertEquals(20,t.top)},testDivWithBodyPadding:function(){this.__bodyStyles.padding="10px";this.__el.innerHTML='<div id="div"></div>';var e=document.getElementById("div"),t=qx.bom.element.Location.get(e);this.assertEquals(10,t.left);this.assertEquals(10,t.top)},testDivWithBodyBorder:function(){this.__bodyStyles.border="10px solid black";this.__el.innerHTML='<div id="div">juhu</div>';var e=document.getElementById("div"),t=qx.bom.element.Location.get(e);if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.quirksmode")){this.assertEquals(0,t.left);this.assertEquals(0,t.top)}else{this.assertEquals(10,t.left);this.assertEquals(10,t.top)}},testDivLocationMode:function(){this.__el.innerHTML='<div id="div" style="margin: 5px; padding: 10px; border: 3px solid green;"></div>';var e=document.getElementById("div"),t=qx.bom.element.Location.get(e,"margin");this.assertEquals(0,t.left);this.assertEquals(0,t.top);t=qx.bom.element.Location.get(e,"box");this.assertEquals(5,t.left);this.assertEquals(5,t.top);t=qx.bom.element.Location.get(e,"border");this.assertEquals(8,t.left);this.assertEquals(8,t.top);t=qx.bom.element.Location.get(e,"scroll");this.assertEquals(8,t.left);this.assertEquals(8,t.top);t=qx.bom.element.Location.get(e,"padding");this.assertEquals(18,t.left);this.assertEquals(18,t.top)},testDivInline:function(){this.__el.innerHTML='<div style="width:100px"><span id="span1" style="margin-left: 10px"><img src="about:blank" width="10px" height="10px" style="border: 0px"></img></span><span id="span2" style="margin-left: 10px">a</span></div>';var e=document.getElementById("span1"),t=qx.bom.element.Location.get(e);this.assertEquals(10,t.left);var i=document.getElementById("span2");t=qx.bom.element.Location.get(i);this.assertEquals(30,t.left)},testDivFixed:function(){this.__el.innerHTML='<div style="position: absolute; left: 0px; top: 0px; width: 20px; height: 2000px;"></div><div id="test" style="position: fixed; width: 300px; height: 600px; top: 50px;"></div>';window.scrollTo(0,100);var e=qx.bom.element.Location.get(document.getElementById("test"));this.assertEquals(150,e.top)}}});qx.test.bom.Location.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.PageVisibility":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.PageVisibility",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{setUp:function(){this.__visibility=new qx.bom.PageVisibility},testVisibilityState:function(){var e=this.__visibility.getVisibilityState();this.assertInArray(e,["hidden","visible","prerender","unloaded"])},testHidden:function(){this.assertBoolean(this.__visibility.isHidden())},testGetInstance:function(){this.assertEquals(qx.bom.PageVisibility.getInstance(),qx.bom.PageVisibility.getInstance())}}});qx.test.bom.PageVisibility.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.Emitter":{require:!0},"qx.bom.Event":{construct:!0},"qx.bom.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.PageVisibility",{extend:qx.event.Emitter,statics:{getInstance:function(){this.$$instance||(this.$$instance=new qx.bom.PageVisibility);return this.$$instance}},construct:function(e){this.__doc=e||window.document;this.__checkAttributeNames();var t=this;qx.bom.Event.addNativeListener(this.__doc,this.__eventName,function(e){t.emit("change",e)})},events:{change:"Event"},members:{__doc:null,__hiddenAttr:null,__visibilityAttr:null,__eventName:null,__checkAttributeNames:function(){for(var e=qx.bom.Style.VENDOR_PREFIXES,t=0;t<e.length;t++){var i=e[t].toLowerCase()+"Hidden";if(void 0!=this.__doc[i]){this.__hiddenAttr=i;this.__eventName=e[t].toLowerCase()+"visibilitychange";break}}for(t=0;t<e.length;t++){i=e[t].toLowerCase()+"VisibilityState";if(void 0!=this.__doc[i]){this.__visibilityAttr=i;break}}if(null==this.__hiddenAttr){this.__hiddenAttr="hidden";this.__eventName="visibilitychange"}null==this.__visibilityAttr&&(this.__visibilityAttr="visibilityState")},isHidden:function(){return!!this.__doc[this.__hiddenAttr]},getVisibilityState:function(){return this.__doc[this.__visibilityAttr]||"visible"}}});qx.bom.PageVisibility.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.Selector":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Selector",{extend:qx.dev.unit.TestCase,members:{testElementClass:function(){for(var e=qx.dom.Element,t=[],i=0;i<250;i++){var n=e.create("ul",{class:"fromcode",html:"<li>one</li><li>two</li><li>three</li>",id:"setid"+i});document.body.appendChild(n);t.push(n)}this.assertEquals(250,qx.bom.Selector.query("ul.fromcode",document.body).length);this.assertEquals(750,qx.bom.Selector.query("ul > li").length);t.forEach(function(e){document.body.removeChild(e)})}}});qx.test.bom.Selector.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.String",{extend:qx.dev.unit.TestCase,members:{testToText_Break:function(){this.assertEquals(qx.bom.String.toText("<br>"),"\n");this.assertEquals(qx.bom.String.toText("<br />"),"\n")},testToText_Advanced:function(){this.assertEquals(qx.bom.String.toText("<div style='padding:5px;'>"),"");this.assertEquals(qx.bom.String.toText("<div style='padding:5px;'>foo</div></div>"),"foo");this.assertEquals(qx.bom.String.toText("<div style='padding:5px;'> ")," ");this.assertEquals(qx.bom.String.toText("<div style='padding:5px;'> foo </div></div>")," foo ")}}});qx.test.bom.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.util.StringEscape":{},"qx.lang.Object":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.String",{statics:{TO_CHARCODE:{quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364},escape:function(e){return qx.util.StringEscape.escape(e,qx.bom.String.FROM_CHARCODE)},unescape:function(e){return qx.util.StringEscape.unescape(e,qx.bom.String.TO_CHARCODE)},fromText:function(e){return qx.bom.String.escape(e).replace(/(  |\n)/g,function(e){return{"  ":" &nbsp;","\n":"<br>"}[e]||e})},toText:function(e){return qx.bom.String.unescape(e.replace(/\s+|<([^>])+>/gi,function(e){return 0===e.indexOf("<br")?"\n":e.length>0&&""==e.replace(/^\s*/,"").replace(/\s*$/,"")?" ":""}))}},defer:function(e){e.FROM_CHARCODE=qx.lang.Object.invert(e.TO_CHARCODE)}});qx.bom.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.StringEscape",{statics:{escape:function(e,t){for(var i="",n=0,s=e.length;n<s;n++){var r=e.charAt(n),o=r.charCodeAt(0);i+=t[o]?"&"+t[o]+";":o>127?"&#"+o+";":r}return i},unescape:function(e,t){return e.replace(/&[#\w]+;/gi,function(e){var i=e,n=(e=e.substring(1,e.length-1),t[e]);n?i=String.fromCharCode(n):"#"==e.charAt(0)&&("X"==e.charAt(1).toUpperCase()?(n=e.substring(2)).match(/^[0-9A-Fa-f]+$/gi)&&(i=String.fromCharCode(parseInt(n,16))):(n=e.substring(1)).match(/^\d+$/gi)&&(i=String.fromCharCode(parseInt(n,10))));return i})}}});qx.util.StringEscape.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Stylesheet":{},"qx.util.ResourceManager":{},"qx.core.AssertionError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Stylesheet",{extend:qx.dev.unit.TestCase,members:{tearDown:function(){if(this.__sheet){var e=this.__sheet.ownerNode||this.__sheet.owningNode;e&&e.parentNode?e.parentNode.removeChild(e):qx.bom.Stylesheet.removeAllRules(this.__sheet)}},testAddImport:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement(),t=qx.util.ResourceManager.getInstance().toUri("qx/test/style.css");qx.bom.Stylesheet.addImport(e,t);if(e.cssRules){e.cssRules||e.rules;this.assertEquals(1,e.cssRules.length);this.assertNotUndefined(e.cssRules[0].href)}else e.cssText&&this.assertMatch(e.cssText,/@import/);qx.bom.Stylesheet.removeImport(e,t)},testAddRule:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement();qx.bom.Stylesheet.addRule(e,"#foo","color: red;");var t=e.cssRules||e.rules;this.assertEquals(1,t.length);this.assertEquals("#foo",t[0].selectorText);this.assertException(function(){qx.bom.Stylesheet.addRule(e,"#foo","{color: red;}")},qx.core.AssertionError)},testCreateElement:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement(),t=e.cssRules||e.rules;this.assertNotUndefined(t,"Created element is not a stylesheet!");this.assertEquals(0,t.length)},testCreateElementWithText:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement("#foo { color: red; }"),t=e.cssRules||e.rules;this.assertNotUndefined(t,"Created element is not a stylesheet!");this.assertEquals(1,t.length);this.assertEquals("#foo",t[0].selectorText)},testIncludeFile:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/test/style.css");qx.bom.Stylesheet.includeFile(e);for(var t=document.getElementsByTagName("link"),i=!1,n=0,s=t.length;n<s;n++)if(t[n].href.match(/test\/style\.css/)){i=!0;break}this.assert(i,"Link element was not added to the document!")},testRemoveAllImports:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement(),t=qx.util.ResourceManager.getInstance().toUri("qx/test/style.css");qx.bom.Stylesheet.addImport(e,t);qx.bom.Stylesheet.addImport(e,t);qx.bom.Stylesheet.removeAllImports(e);if(e.cssRules){e.cssRules||e.rules;this.assertEquals(0,e.cssRules.length)}else"string"==typeof e.cssText&&this.assertEquals("",e.cssText)},testRemoveAllRules:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement();qx.bom.Stylesheet.addRule(e,"#foo","color: red;");qx.bom.Stylesheet.addRule(e,"#bar","color: blue;");var t=e.cssRules||e.rules;this.assertEquals(2,t.length);qx.bom.Stylesheet.removeAllRules(e);t=e.cssRules||e.rules;this.assertEquals(0,t.length)},testRemoveImport:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement(),t=qx.util.ResourceManager.getInstance().toUri("qx/test/style.css");qx.bom.Stylesheet.addImport(e,t);qx.bom.Stylesheet.removeImport(e,t);if(e.cssRules){e.cssRules||e.rules;this.assertEquals(0,e.cssRules.length)}else"string"==typeof e.cssText&&this.assertEquals("",e.cssText)},testRemoveRule:function(){var e=this.__sheet=qx.bom.Stylesheet.createElement("#foo { color: red; }");qx.bom.Stylesheet.removeRule(e,"#foo");var t=e.cssRules||e.rules;this.assertEquals(0,t.length)}}});qx.test.bom.Stylesheet.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.Template":{},"qx.bom.element.Attribute":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Template",{extend:qx.dev.unit.TestCase,members:{__tmpl:null,tearDown:function(){this.__tmpl&&qx.dom.Element.removeChild(this.__tmpl,document.body)},testReplace:function(){var e=qx.bom.Template.render("{{name}} xyz",{name:"abc"});this.assertEquals("abc xyz",e)},testFunc:function(){var e=qx.bom.Template.render("{{name}} xyz",{name:function(){return"abc"}});this.assertEquals("abc xyz",e)},testList:function(){var e=qx.bom.Template.render("{{#l}}{{.}}{{/l}}",{l:["a","b","c"]});this.assertEquals("abc",e)},conditional:function(){var e="{{#b}}yo{{/b}}",t={b:!0},i=qx.bom.Template.render(e,t),n="yo";this.assertEquals(n,i);e="{{#b}}yo{{/b}}";t={b:!1};i=qx.bom.Template.render(e,t);n="";this.assertEquals(n,i)},testObject:function(){var e=qx.bom.Template.render("{{#o}}{{b}}{{a}}{{/o}}",{o:{a:1,b:2}});this.assertEquals("21",e)},testWrapper:function(){var e=qx.bom.Template.render("{{#b}}yo{{/b}}",{b:function(){return function(e,t){return"!"+t(e)+"!"}}});this.assertEquals("!yo!",e)},testInvertedSelection:function(){var e=qx.bom.Template.render("{{^a}}yo{{/a}}",{a:[]});this.assertEquals("yo",e)},testEscaping:function(){var e="{{a}}",t={a:"<a>"},i=qx.bom.Template.render(e,t),n="&lt;a&gt;";this.assertEquals(n,i);e="{{{a}}}",t={a:"<a>"},i=qx.bom.Template.render(e,t),n="<a>";this.assertEquals(n,i)},testRenderToNode:function(){var e=qx.bom.Template.renderToNode("<div>{{a}}</div>",{a:123});this.assertEquals("DIV",e.tagName);this.assertEquals("123",e.innerHTML)},testRenderToNodePlainText:function(){var e=qx.bom.Template.renderToNode("{{a}}.{{b}}",{a:123,b:234});this.assertEquals("123.234",e.data)},testRenderToNodeMixed:function(){var e=qx.bom.Template.renderToNode("<div>{{a}}<span>{{b}}</span></div>",{a:123,b:234});this.assertEquals("123<span>234</span>",e.innerHTML.toLowerCase())},testCreateNodeFromTemplateTextNode:function(){var e=qx.bom.Template._createNodeFromTemplate("{{a}}.{{b}}");this.assertEquals(3,e.nodeType)},testCreateNodeFromTemplateElementNode:function(){var e=qx.bom.Template._createNodeFromTemplate("<div>{{a}}</div>");this.assertEquals(1,e.nodeType)},testGet:function(){this.__tmpl=qx.dom.Element.create("div");qx.bom.element.Attribute.set(this.__tmpl,"id","qx-test-template");qx.bom.element.Style.set(this.__tmpl,"display","none");this.__tmpl.innerHTML="<div>{{a}}</div>";qx.dom.Element.insertEnd(this.__tmpl,document.body);var e=qx.bom.Template.get("qx-test-template",{a:123});this.assertEquals("DIV",e.tagName);this.assertEquals("123",e.innerHTML)},testPlainText:function(){this.__tmpl=qx.dom.Element.create("div");qx.bom.element.Attribute.set(this.__tmpl,"id","qx-test-template");qx.bom.element.Style.set(this.__tmpl,"display","none");this.__tmpl.innerHTML="{{a}}.{{b}}";qx.dom.Element.insertEnd(this.__tmpl,document.body);var e=qx.bom.Template.get("qx-test-template",{a:123,b:234});this.assertEquals("123.234",e.data)},testGetMixed:function(){this.__tmpl=qx.dom.Element.create("div");qx.bom.element.Attribute.set(this.__tmpl,"id","qx-test-template");qx.bom.element.Style.set(this.__tmpl,"display","none");this.__tmpl.innerHTML="<div>{{a}}<span>{{b}}</span></div>";qx.dom.Element.insertEnd(this.__tmpl,document.body);var e=qx.bom.Template.get("qx-test-template",{a:123,b:234});this.assertEquals("123<span>234</span>",e.innerHTML.toLowerCase())},testHtmlEscaping:function(){var e=qx.bom.Template.render("<a href={{foo}}/>",{foo:"test.com onload=alert(1)"});this.assertEquals("<a href=test.com onload&#x3D;alert(1)/>",e)}}});qx.test.bom.Template.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Element":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Template",{statics:{version:null,render:null,renderToNode:function(e,t,i){var n=this.render(e,t,i);return this._createNodeFromTemplate(n)},get:function(e,t,i){var n=document.getElementById(e);return this.renderToNode(n.innerHTML,t,i)},_createNodeFromTemplate:function(e){if(-1===e.search(/<|>/))return document.createTextNode(e);var t=qx.dom.Element.create("div");t.innerHTML=e;return t.children[0]}}});(function(){!function(e,t){if((_typeof(void 0),0)&&"string"!=typeof(void 0).nodeName)t(void 0);else{e.Mustache={};t(e.Mustache)}}(this,function(e){var t=Object.prototype.toString,i=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(e){return"function"==typeof e}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"===_typeof(e)&&t in e}var o=RegExp.prototype.test;var a=/\S/;function l(e){return!function(e,t){return o.call(e,t)}(a,e)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var c=/\s*/,d=/\s+/,h=/\s*=/,g=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e;this.tail=e;this.pos=0}f.prototype.eos=function(){return""===this.tail};f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];this.tail=this.tail.substring(i.length);this.pos+=i.length;return i};f.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i);this.tail=this.tail.substring(i)}this.pos+=t.length;return t};function p(e,t){this.view=e;this.cache={".":this.view};this.parent=t}p.prototype.push=function(e){return new p(e,this)};p.prototype.lookup=function(e){var t,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var s,o,a=this,l=!1;a;){if(e.indexOf(".")>0){t=a.view;s=e.split(".");o=0;for(;null!=t&&o<s.length;){o===s.length-1&&(l=r(t,s[o]));t=t[s[o++]]}}else{t=a.view[e];l=r(a.view,e)}if(l)break;a=a.parent}i[e]=t}n(t)&&(t=t.call(this.view));return t};function _(){this.cache={}}_.prototype.clearCache=function(){this.cache={}};_.prototype.parse=function(t,n){var r=this.cache,o=r[t];null==o&&(o=r[t]=function(t,n){if(!t)return[];var r,o,a,u=[],p=[],_=[],x=!1,q=!1;function v(){if(x&&!q)for(;_.length;)delete p[_.pop()];else _=[];x=!1;q=!1}function b(e){"string"==typeof e&&(e=e.split(d,2));if(!i(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(s(e[0])+"\\s*");o=new RegExp("\\s*"+s(e[1]));a=new RegExp("\\s*"+s("}"+e[1]))}b(n||e.tags);for(var y,C,w,E,S,T,I=new f(t);!I.eos();){y=I.pos;if(w=I.scanUntil(r))for(var A=0,D=w.length;A<D;++A){l(E=w.charAt(A))?_.push(p.length):q=!0;p.push(["text",E,y,y+1]);y+=1;"\n"===E&&v()}if(!I.scan(r))break;x=!0;C=I.scan(m)||"name";I.scan(c);if("="===C){w=I.scanUntil(h);I.scan(h);I.scanUntil(o)}else if("{"===C){w=I.scanUntil(a);I.scan(g);I.scanUntil(o);C="&"}else w=I.scanUntil(o);if(!I.scan(o))throw new Error("Unclosed tag at "+I.pos);S=[C,w,y,I.pos];p.push(S);if("#"===C||"^"===C)u.push(S);else if("/"===C){if(!(T=u.pop()))throw new Error('Unopened section "'+w+'" at '+y);if(T[1]!==w)throw new Error('Unclosed section "'+T[1]+'" at '+y)}else"name"===C||"{"===C||"&"===C?q=!0:"="===C&&b(w)}if(T=u.pop())throw new Error('Unclosed section "'+T[1]+'" at '+I.pos);return function(e){for(var t,i=[],n=i,s=[],r=0,o=e.length;r<o;++r)switch((t=e[r])[0]){case"#":case"^":n.push(t);s.push(t);n=t[4]=[];break;case"/":s.pop()[5]=t[2];n=s.length>0?s[s.length-1][4]:i;break;default:n.push(t)}return i}(function(e){for(var t,i,n=[],s=0,r=e.length;s<r;++s)if(t=e[s])if("text"===t[0]&&i&&"text"===i[0]){i[1]+=t[1];i[3]=t[3]}else{n.push(t);i=t}return n}(p))}(t,n));return o};_.prototype.render=function(e,t,i){var n=this.parse(e),s=t instanceof p?t:new p(t);return this.renderTokens(n,s,i,e)};_.prototype.renderTokens=function(e,t,i,n){for(var s,r,o,a="",l=0,u=e.length;l<u;++l){o=void 0;"#"===(r=(s=e[l])[0])?o=this.renderSection(s,t,i,n):"^"===r?o=this.renderInverted(s,t,i,n):">"===r?o=this.renderPartial(s,t,i,n):"&"===r?o=this.unescapedValue(s,t):"name"===r?o=this.escapedValue(s,t):"text"===r&&(o=this.rawValue(s));void 0!==o&&(a+=o)}return a};_.prototype.renderSection=function(e,t,s,r){var o=this,a="",l=t.lookup(e[1]);if(l){if(i(l))for(var u=0,c=l.length;u<c;++u)a+=this.renderTokens(e[4],t.push(l[u]),s,r);else if("object"===_typeof(l)||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(e[4],t.push(l),s,r);else if(n(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,r.slice(e[3],e[5]),function(e){return o.render(e,t,s)}))&&(a+=l)}else a+=this.renderTokens(e[4],t,s,r);return a}};_.prototype.renderInverted=function(e,t,n,s){var r=t.lookup(e[1]);if(!r||i(r)&&0===r.length)return this.renderTokens(e[4],t,n,s)};_.prototype.renderPartial=function(e,t,i){if(i){var s=n(i)?i(e[1]):i[e[1]];return null!=s?this.renderTokens(this.parse(s),t,i,s):void 0}};_.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i};_.prototype.escapedValue=function(t,i){var n=i.lookup(t[1]);if(null!=n)return e.escape(n)};_.prototype.rawValue=function(e){return e[1]};e.name="mustache.js";e.version="2.2.1";e.tags=["{{","}}"];var x=new _;e.clearCache=function(){return x.clearCache()};e.parse=function(e,t){return x.parse(e,t)};e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(i(s=e)?"array":_typeof(s))+'" was given as the first argument for mustache#render(template, view, partials)');var s;return x.render(e,t,n)};e.to_html=function(t,i,s,r){var o=e.render(t,i,s);if(!n(r))return o;r(o)};e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return u[e]})};e.Scanner=f;e.Context=p;e.Writer=_});qx.bom.Template.version=this.Mustache.version;qx.bom.Template.render=this.Mustache.render}).call({});qx.bom.Template.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.Viewport":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Viewport",{extend:qx.dev.unit.TestCase,members:{testGetScrollLeft:function(){this.assertPositiveInteger(qx.bom.Viewport.getScrollLeft())},testGetScrollTop:function(){this.assertPositiveInteger(qx.bom.Viewport.getScrollTop())}}});qx.test.bom.Viewport.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.client.Engine":{},"qx.util.ResourceManager":{},"qx.dev.unit.RequirementError":{},"qx.bom.WebWorker":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.WebWorker",{extend:qx.dev.unit.TestCase,members:{_url:null,_worker:null,_send:null,_isBuggyGecko:function(){return"gecko"===qx.core.Environment.get("engine.name")&&parseInt(qx.core.Environment.get("engine.version"),10)>=8&&parseInt(qx.core.Environment.get("engine.version"),10)<9},setUp:function(){this._url=qx.util.ResourceManager.getInstance().toUri("qx/test/webworker.js");if(this._isBuggyGecko())throw new qx.dev.unit.RequirementError("foo","Test skipped due to Firefox bug #683280");this._worker=new qx.bom.WebWorker(this._url);this._send=function(e,t){this._worker.addListener("message",function(i){this.assertType(i.getData(),_typeof(e));t.call(this,e,i)},this);this._worker.postMessage(e)}},tearDown:function(){this._worker.dispose();this._worker=null;this._send=null;this._url=null},testConstructor:function(){this.assertInstance(this._worker,qx.bom.WebWorker)},testMessageEvent:function(){this._send("message",function(e,t){this.assertIdentical(e,t.getData())})},testErrorEvent:function(){this._worker.addListener("error",function(e){this.assertTrue(/error/.test(e.getData()))},this);this._worker.postMessage("error")},testPostMessageWithNumber:function(){this._send(1,function(e,t){this.assertIdentical(e,t.getData())})},testPostMessageWithBoolean:function(){this._send(!0,function(e,t){this.assertIdentical(e,t.getData())})},testPostMessageWithNull:function(){this._send(null,function(e,t){this.assertIdentical(e,t.getData())})},testPostMessageWithObject:function(){this._send({a:"1",b:2,c:!0},function(e,t){this.assertIdentical(e.a,t.getData().a);this.assertIdentical(e.b,t.getData().b);this.assertIdentical(e.c,t.getData().c)})},testPostMessageWithArray:function(){this._send(["1",2,!0],function(e,t){this.assertIdentical(e[0],t.getData()[0]);this.assertIdentical(e[1],t.getData()[1]);this.assertIdentical(e[2],t.getData()[2])})}}});qx.test.bom.WebWorker.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Html":{construct:!0},"qx.lang.Function":{},"qx.bom.Event":{},"qx.bom.request.Xhr":{}},environment:{provided:[],required:{"html.webworker":{construct:!0,className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.bom.WebWorker",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__isNative=qx.core.Environment.get("html.webworker");this.__isNative?this.__initNative(e):this.__initFake(e)},events:{message:"qx.event.type.Data",error:"qx.event.type.Data"},members:{_worker:null,_handleErrorBound:null,_handleMessageBound:null,__isNative:!0,__fake:null,__initNative:function(e){this._worker=new window.Worker(e);this._handleMessageBound=qx.lang.Function.bind(this._handleMessage,this);this._handleErrorBound=qx.lang.Function.bind(this._handleError,this);qx.bom.Event.addNativeListener(this._worker,"message",this._handleMessageBound);qx.bom.Event.addNativeListener(this._worker,"error",this._handleErrorBound)},__initFake:function __initFake(src){var that=this,req=new qx.bom.request.Xhr;req.onload=function(){that.__fake=function(){var postMessage=function(e){that.fireDataEvent("message",e)};eval("var onmessage = null, postMessage = "+postMessage+";"+req.responseText);return{onmessage:eval("onmessage"),postMessage:postMessage}}()};req.open("GET",src,!1);req.send()},postMessage:function(e){var t=this;this.__isNative?this._worker.postMessage(e):setTimeout(function(){try{t.__fake.onmessage&&t.__fake.onmessage({data:e})}catch(e){t.fireDataEvent("error",e)}},0)},_handleMessage:function(e){this.fireDataEvent("message",e.data)},_handleError:function(e){this.fireDataEvent("error",e.message)}},destruct:function(){if(this.__isNative){qx.bom.Event.removeNativeListener(this._worker,"message",this._handleMessageBound);qx.bom.Event.removeNativeListener(this._worker,"error",this._handleErrorBound);if(this._worker){this._worker.terminate();this._worker=null}}else this.__fake&&(this.__fake=null)}});qx.bom.WebWorker.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.Window",{extend:qx.dev.unit.TestCase,members:{}});qx.test.bom.Window.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.client.Css":{},"qx.dev.unit.RequirementError":{}},environment:{provided:[],required:{"css.borderimage":{className:"qx.bom.client.Css"},"css.borderimage.standardsyntax":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.client.Css",{extend:qx.dev.unit.TestCase,members:{testBorderImageSyntax:function(){var e=qx.core.Environment.get("css.borderimage");if("string"!=typeof e)throw new qx.dev.unit.RequirementError("css.borderimage");var t=qx.core.Environment.get("css.borderimage.standardsyntax");this.assertBoolean(t,"Browser supports borderImage but syntax type was not detected!");"borderImage"==e?this.assertTrue(t,"Browser supports unprefixed borderImage but syntax type detected as non-standard!"):this.assertFalse(t,"Browser supports prefixed borderImage but syntax type detected as standard!")}}});qx.test.bom.client.Css.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.client.Device":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.client.Device",{extend:qx.dev.unit.TestCase,members:{testDetectDeviceType:function(){for(var e=["Mozilla/5.0 (Linux; U; Android 2.2.1; en-us; Nexus One Build/FRG83) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1","Mozilla/5.0 (iPod; U; CPU iPhone OS 2_0_2 like Mac OS X; en-us) AppleWebKit/525.18.1 (KHTML, like Gecko) Version/3.1.1 Mobile/5C1 Safari/525.20","Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; ARM; Touch; IEMobile/10.0; <Manufacturer>; <Device> [;<Operator>])","Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Limia 830) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537"],t=["Mozilla/5.0 (Linux; U; Android 3.0; en-us; Xoom Build/HRI39) AppleWebKit/534.13 (KHTML, like Gecko) Version/4.0 Safari/534.13","Mozilla/5.0 (iPad; U; CPU iPhone OS 4_3 like Mac OS X; en_us) AppleWebKit/525.18.1 (KHTML, like Gecko )","Mozilla/4.0 (compatible; Linux 2.6.10) NetFront/3.3 Kindle/1.0 (screen 600x800)","Mozilla/5.0 (Linux; U; Android 3.1; en-us; Xoom Build/HMJ37) AppleWebKit/534.13 (KHTML, like Gecko) Version/4.0 Safari/534.13","Mozilla/5.0 (iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Mobile/7D11","Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; ARM; Trident/6.0)&lt;/PRE<p><p>&#160;</p>"],i=["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_2) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/534.51.22","Mozilla/5.0 (Windows NT 6.2; rv:9.0.1) Gecko/20100101 Firefox/9.0.1","Microsoft Internet Explorer/1.0 (Windows 95)","Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.5) Gecko/20070321 Netscape/9.0","Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0","Mozilla/5.0 (compatible: MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0; Touch; .NET4.0E; .NET4.0C; Tablet PC 2.0)","Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 2.0.50727; SLCC2; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; Tablet PC 2.0)"],n=0;n<e.length;n++){this.info("Mobile User Agent Testing:"+e[n]);this.assertEquals("mobile",qx.bom.client.Device.detectDeviceType(e[n]),"Expected User Agent string to be detected as a mobile device: "+e[n])}for(n=0;n<t.length;n++){this.info("Tablet User Agent Testing:"+t[n]);this.assertEquals("tablet",qx.bom.client.Device.detectDeviceType(t[n]),"Expected User Agent string to be detected as a tablet device: "+t[n])}for(n=0;n<i.length;n++){this.info("Desktop User Agent Testing:"+i[n]);this.assertEquals("desktop",qx.bom.client.Device.detectDeviceType(i[n]),"Expected User Agent string to be detected as a desktop device:"+i[n])}}}});qx.test.bom.client.Device.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.client.OperatingSystem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.client.OperatingSystem",{extend:qx.dev.unit.TestCase,members:{testUsageOfGetName:function(){var e=qx.bom.client.OperatingSystem.getName();this.assertString(e);this.assertNotEquals("",e)},testUsageOfGetVersion:function(){if("linux"!==qx.bom.client.OperatingSystem.getName()){var e=qx.bom.client.OperatingSystem.getVersion();this.assertString(e);this.assertNotEquals("",e)}}}});qx.test.bom.client.OperatingSystem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.core.Environment":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.client.Pdfjs",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{"test: is PDF.js available":function(){this.require(["firefox"]);qx.core.Environment.getAsync("plugin.pdfjs",function(e){this.resume(function(){this.assertTrue(e)},this)},this);this.wait()}}});qx.test.bom.client.Pdfjs.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.CssAnimation":{},"qx.dev.unit.RequirementError":{},"qx.dom.Element":{},"qx.bom.element.Animation":{},"qx.bom.element.AnimationJs":{}},environment:{provided:[],required:{"css.animation":{className:"qx.bom.client.CssAnimation"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.AnimationHandle",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{setUp:function(){this.__keys=qx.core.Environment.get("css.animation");if(null==this.__keys)throw new qx.dev.unit.RequirementError("css.animation")},"test stop of CSS animation":function(){var e=qx.dom.Element.create("div"),t=qx.bom.element.Animation.animate(e,{duration:100,keyFrames:{0:{opacity:1},100:{opacity:0}},delay:200}),i=this.spy(qx.bom.element.AnimationJs,"stop");t.on("start",i);t.stop();this.wait(500,function(){this.assertNotCalled(i)},this)}}});qx.test.bom.element.AnimationHandle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dom.Element":{},"qx.bom.element.AnimationJs":{},"qx.bom.element.Style":{},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{},"qx.bom.element.Animation":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.AnimationJs",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__el:null,testStop:function(){var e=qx.dom.Element.create("div"),t=qx.bom.element.AnimationJs.animate(e,{duration:100,keyFrames:{0:{opacity:1},100:{opacity:0}},delay:200}),i=this.spy();t.on("start",i);t.stop();this.wait(500,function(){this.assertNotCalled(i)},this)},setUp:function(){this.__el=qx.dom.Element.create("img");qx.bom.element.Style.setStyles(this.__el,{width:"200px",height:"200px"});document.body.appendChild(this.__el)},tearDown:function(){document.body.removeChild(this.__el);this.__el=null},"test animate properties which are CSS properties and element attributes":function(){if("chrome"==qx.core.Environment.get("browser.name"))throw new qx.dev.unit.RequirementError;qx.bom.element.Animation.animate(this.__el,{duration:100,keyFrames:{0:{width:"200px",height:"200px"},100:{width:"400px",height:"400px"}},keep:100});this.wait(500,function(){this.assertEquals("400px",qx.bom.element.Style.get(this.__el,"width"));this.assertEquals("400px",qx.bom.element.Style.get(this.__el,"height"))},this)}}});qx.test.bom.element.AnimationJs.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Background":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.Background",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__divElement=document.createElement("div");document.body.appendChild(this.__divElement);this.__backgroundUrlBase64="data:image/gif;base64,R0lGODlhEAFRAPcAAGGCnMDihW+PnomrjFR4lKbFkr3eioeqi2+SkH2hi1F4hmmOjaLFh42xiLjah1B1klBzmNX2hF2Bk5S1k05xmHKUkr7hhHudkWyOlZ2+kXmeiZG0imWKil19oNP0g53BhMzthVJ0mpi8iGaKklZ4nanNhXOZhoqvhll+kXCSmKnKi6bJipW4jVV2m2GHibTXhGuRhmqLm67RiLfZhrvciUBoiV6Fhk1ykFl6nl5+oaTHiHWZjjtkhZS3jHGWi5W5hlJ4jU92hMnrhEVuhZ7Ai7DRi8Lkhm6TiWKElmGAolp7n7nbiFyCjHucmIurmqzOhmaMjJy/ipe5jcjqg0hvjlB2i4WmlqDCjJK3hIKmiFV8h4mqkqTFj4KljkZsjEtyiHCTkoGjlUpwj2yQj2GFj0xziVZ6j5u8kIClhneYl2OJibXWi1h7ll1/mkNqinWXlLLTimaFomeNhWKGkFt9mFiAg4+ziY2vjoeokX6jhmOCpGCClBZEdxhGeBpIeRlHeRZFdzxjjR5LezRdiDJahzBZhhxJeh1Key9YhTNciDJbhytVgy5XhR9MfDlgiyJOfidSgRdFdyFNfSxWhCZRgBdGeCNPfiVRgClUgjdfihtJej5ljj9mjzhgijZeijhfizFahipVgyRPfyhTgS1XhEFnkDphjCVQfzZeiUdrkyBMfTVdiTpijCRQfz5kjjtijD1jjUVqkipUgklulUNokUhtlENpkUBmkEBmj0tvlkJokEdslEZrk0hslERpkURpktT1g9T1hE1xl1V3nExwlk1wl0pulU5xl0xwl1F0mcvshVx9n3SWk8rshLPWhMvthbXYhYuvh1qAi1yBi1t8n1d5nYithYmuhoWnkHabh9b3hZi7h1qBhF2DhomuhWaImLbYhp/DhcTlh2SHkM/wh1+Fh6PGiKPEjn+jjYSoiabKg3eciKzNjZO2i3SToLjYjcDgi2+NpF6DjYSmj4CfmoWknjVfg1l8l8foiTNdgWiOhj5nhxVDdhRDdt7/gxNCdSH5BAAAAAAALAAAAAAQAVEAAAj/AP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fDfsJ7edQKNCjSGUOXcq0qdOnSaNKBfm0qtWrRKdq3RrRKb+vYMOK7Se2LNimXNOqNcgULJ+3cAHBnRt2rt23YZmu3bt16de4kSpV6kOYsOBIkQApXgwIseDHieXyObuUr+WjfvnxaTz4zx8/oEP78fynsGnSqEv3qST5K9bKl2PDHPoXUGc/hgwdEsSb96FDhjSJDq0pt27joEuzxuv6NWzZMbHupK05Up/PuhupkvSoe3dJkhr5/wb+m3cj7apUiRd0SHjpxMzN5q0KPaVzpzapb76uaTd3UZdQQgkkkFBySSuiPAKeettxZ4kop5wiiiUKiheccpHddVdZ+NUXklXy8QOVUkJpZttnhzTyiCiUjBLKIpOQMskki4QyioGnWKKjKK0ECMkooxB4oCXhATeaaYU9VglikUkWn4jPeZiRV2Jp ONl8UbLVoUSv/WUdbiq2AkkokyACiiJoKgIKIowsgkmQA0KCiSwwkiJjjTcmqAp7wQ0nGmqmLalY fHottKWU/zRVV1yNMcnkoITeZ5VCkpJlYiV/aCKIJKdAsggjhAziSSeOOPJJJquoiQiNi8DICCKF EP8iKyGFMDIJJpS0QuR6v/Xq62/GCTeaaoIyV6hAlRr1EH04tfXXW40OVlhqqvUB35XOjcUsViF6 2QeYllBiTxCKoOJIIJtwwsk0HKjhQg2J0FpIIaAQ0o0N5XzhySrxclNHKJBcQiF4BHPnHcHq8Qqc sBgam+ykBz2c1UvOarZZYIR5BpomxRmXG8OrRRIpdYs+2RyIZW0414l+HCKJKFr4I/PMNM+chSOe DKLzIDHXTLM6AB8Y4Sk9BiiggZdcIqGOCoYnnpGqiYytot1qmyxlEKvkLLQYa9xxeYKcJ/Z5fGqi XGtVMsoYpCOTbDG0a8fdtSGbtoIJNyZY4LPMA9z/UMomgZhSqiOsBDINODQD4003q9pI4I+YvNgq qzW+WaCBCA78tHvWmvws3GvThTWVKct3KElbb9bZZ8XtFvZ23e0oyuyas2f2ak7CjTGSgV57ZcnR 8i58xmA+ckkoiAxiCgN7jzBLKr/csokrrqSLSyl20JxFJonUOoksodA5yauxzkorImyyGorluSYo ie1+hKwhZ9LyvqTv86UNOmN2YansSJl5S9f80LrXOQhCRvsRkOB0CT0JwhBHOoxgMvYZAnIsOMI6 krVyxzVpaWxjHAuhn3CTIuPJohCreIUYlOEzKUAAGbXgxS9ooQtd0OIXsdDBzAIQiE4MghDpG5+Z /xQxCFRkIhOdOCIqBpEIRRACFIVg050wUSBdva89GGKSBysIwtB4xjD4cwvXdie8w0BqdBP7iH74 MEDdhO2Ap/DRKOZUJ0bYkRR4auAjGgE11BAwN64LG9l80ydiOWZ1f9RNIHvTG2ABUhCqCNcJVxGI UqDDZxFoQzIokIta7CIVoNwFCmgGhR7+sFbkI2ImHPGKQFAPFoEI3KlQsQomOhGKiMAjrqz4QM5d p4KAXOR4+qRBxKxtdx8c4bDAiLYsaSSAtuEP3RrhoDgKSE5zihEj6IWmRDSRVqSQRcCIxCfjlOc8 4ImdjihUobIN64MFPE+DvEPPBa3njZY4XvJeUf+KXUTAZ2cYRgggIAxk5MIYs5jFCmY2g028IhOn RN8QulEOF3AAClBYgEY1ilEOSENwp8qEJ5bYRO/h6hSP2NPCvibIdNZTEuohpC9PwzpFCrNXH1vm cqb2v2eWSID82Y0qHmEJa2JTfKR41ZkSsQokfsJUEFVEIW5FCfeNDXY6imMCCYQ5q5YzmG8k6oOI lrSjIS1zTXPQJTDBiEQ4Ahep6AEmAVCNFgwUAhQoBhhoJg9XmMITUkVfIbrhjBfs7bBCeEE01ABS VMWrTbjS03rQKVayJu2yrchR7RYmmtbtRjsu/Y49n5abCLbGmRWhjeq+RbehAqhFktMm+XggB2v/ OEMINQPGE9TgQ0K0KWCa3ZFR5xjbGbXKRgZyX8JAS1RrDmiOkZMFnRYBPiriaJ0AwgQpCNGJTcSC AP+sWQaWgQMStMCuEFjCzMyBC1MC0Y6FUMQqHAGEZhz2vv5gAAcCwYpPeCIRoPit0tiZVTliInKh WN+BGZijdrLHdcwtatEuK7QJDUw9UMMdT6f00xP1R0UAGpOrBDsvBWBBb/iVGQP+qojG3ehokEMq +UBBY1y2CWDtW+dw6QgjbaLvx+lzUxXJ6qlCoCIQtJiFFHymjTjkgLzmxcPMgnGDTZhiFUCUESkQ oQhPvIITCajZHophjF7cYAHpYAAwfCYEDbgi/xCOQIVUwwmna0aujnbMMyNkRKP1VXFC34ndjg9M 6AVz9UATCs8DjySXk11EtR6GZD4hIYsylQ9NQ8DCFGQ2hQ+YQAvn4sQCAuAzH7h3Va2anBBhRQhF eHMQq0AFLQfhxFy6KUgEmqP4XgWredWrm978Zq2EbKAByaKtjuBEKsDrswIkIQcdUAIAwuuPBNwi EJloMY3oBCpPBOIWo6QZM44Bw1TYohS44IQPEFezGQABcJ9IlfdSLUR6me/eUIyirfBUoMsO6M6y zbOdZqQ+61qRj4Z4z4ZTayk+YEpTL6MEmRBBiETAGhXlcMbMPqAAVzeVFa4ohS8ewEKayeDacf+O 17xW/mtX28AE1zhBNGZ+BDeYKmeq2rOPWd1qRejDtij2R2J/4IJO4LwQdC6QnCZBCG//whh32Js7 9PBsLszMAb7YhCMGMVUbuYgUoDhyKVLxDJq5kBiz4AUtbsGJTaQLCjPIrbVd8YpO8OuJNG61xQex j3Lk4RrXyIMNtLAzbzpR36yabr1lhaZZ5Xte6LMjjagosPdBsHNQSmNXfmodiHdqERQXFalcEHRv 7CNNFs+EKTZRCl7MIuo1i8XfXuHfWu6M7yYoAX6fsN/+5qyJqNfZKr4QDg+kWAhHcAREfSvkH4E+ Eaa4xS6OAQKfwSMOeqDHzCKAAlrAItuMwHH/ixaBQn6mogg0gwMEiFEL2XMClrBIVykOEIyaRcEW uKC78kfqiSN2IhtB5zMvgAZlcET7QmtPtHJ6d3EwcA3O8IDO8AHWoA9DkCZORCu2clJ7dHkik3kU 0WHfcgiqIApFlgiewErSAA0z8wJlwETmkwjmEnKpkAsV4DPPg39vxgql8gllEA4zYwHRkA1qoAHb sGY0Ywdtx1+m0glM+FRu8AMrmA0F2AlucAQqSDMM4AWf8EOQRSCYwHSZAAu+kAtvsDdOEAf4MDN3 0Aul8ApctwjAdQoShwjQdwtxRTMgAAG5sAu2wAmB8AqmUDiugAu2MAf1RzNRwAu2ID2wFEuB/+AF TzAzQhAN65AN0VACRigzFqABr6CDIcV/TuUIR5CJe+MBJZANNXCAatImo3AJGxg/jdZTEPFTmGII jRAu5DcInRAIVCACNNMAykdrUcRqulhJM8gMPnMMudALsbB2becF2zAz4VAGpWIKrwALnCAG5lAz G/AL6NZ21EM904BbQqcGjsCEnfAJpuBKGlAz4ABngwAKpOA4owB6g8AKpVALEEADPkMOBTAzNEAB qYALjpAIjIAJAkNUrTAKpKAIycYLXVAzx2AMvFAKsGAKSZQJn/AKrBcL40BtMtMFtZAKvkALpVAK t3ALpCYz6fBmgFiN63CFMiMEUACOjhhL1f/TjjN5BLJUBjAQDqQYDi6gfPJ2K674QH9QCZMxFFxi KYDwLZuiT4nwCYHABCspMxoAZ/9VKzLyKl32CnaYCxjgMwOFdrsQC78gD/YldNKgg4NzjZxQCrEg AzWDArvAC2hpC7RACwlghAHgBa9wjv53LptwC2F2hD2UCIjQfNpFCJmwCbwgDN+AX5kkkJzwCYQw CZAgCgSDi9zlXQhQMxVQC77ACQ/FREy1i5xgC7uwVzQTAXuQC7MwkqnACxswM0/AiC9ZKoWjAaRo DjeglzVkQ7ZgBjMDDEDwfnAWUv9nWDMDDR8FUaBwK63wPrC4lJoXFGTBRn9gi6LAkIrQCbD/4AOk eAC3AAuOgGWrAj6LQAqFMAjJFgu5gIw1MwwtgFfIMAvocIjNQAV/eI7pSJhy+QCHKDMrQAwHNZu1 MA7H+W5wJlJG9Akgdwu/oEM0AwSv4AmEMI+5Rn6U9Au50AIZcF9WMAzHkAqbkAmgsAgCwyAmVAhh +AsjUDMX0Au04ApbiHehQpVjZwwqUDMqAAHHUFC5QAAFSgal4Ic62ITruAlUcJX+YAQP0AtUSqW1 EAUzowOLCDimwJyE45s0sw3wOJ2bqQoJp5RQ0pSagSkucwkndGRQUDMyIHuwsIVdFySjcGzh6V3z 6TPlhV4XQDNkgAuw0F+ZgAr9ZwqwcAu+/1ALRFAz9wABQioMzCYzB/A3geBfO3OCgYALv/AANWMH WqeYi4BrxwZ9pTALIQAA5LA3RZADJAABqcAJKioLrige1GQ3iEBJtFALNdMDqVAK2NZidkRxq2AK nBALs7AHPvMN6AUB8zBlsaALfrh/ETqhN2AENGMEBFAM3loMwlB2MoMOsgc4+9d/EgoLVBB3O+QF W1cItvoIggCLzbF5mgGVj0AJk6AInwAEpOgPEpAKugALnUCq/UYJX+iYsPB09Ekz5FUNw/AN1NYO vnCepgBRFrcKnfBlttALM0ozaXBedvWjMhMMD0ALDhVVaDIImcCxqbBQM9MMuPAKqDCdVP80Jozg kLigj9WgfdaXBNUAAb3ACZ0ACvG6HpyCCclTSbtQM+3AC7jACqsgj5PDZWHYq8JAsjMzASRgny0A B1cnsA7VCSQlKueCCyNXcjJzBSHQtiGABDSDAKmAspmaM0WkerCAC7RgoTLzl9lGCpvZCAnXgbJo KCXylJpiCaPACPfIPDSjAnvofZ2gCAeZK3FUZEdmC7MQqDRjAB2wDEqAA/w4MyhApynHePMFC7ow gyB5BjhQDSQwmTOzAny4CazwX/kmX47gCqu7AzVjBt9HuV4XCtvVCZywCxBQDTnwDnszATgQArNQ Co5ACItACXvEGy+zuImAj6ngtLHACQX/uZgHRiagQEn9VAxSRjNrELrlRW0yILZ/9U2q9GW/0AsR STPfMAz6mwY0AwZza7sYa3GcSogkRzMiwAqDgAihUJ2HkJTYOYuH2wea0AiioLSUtJYzwwzsZwuu 8LcImSNyKAu7imRKVjMGAG3LkALbmnbCmqO+lgiZ8G28kAujKzPsoAQ4fA40cwe18AtWpp7kA8My TAA1swCb8AmkOr4NabypcAwkkANOsDfaEAMtkAu28AqJALi7Qk0k2FbRlwraenXfG76ygKfPZwpw RQxj2bnLALoxQDPAqguusHXyEl+osHodiwzVNzPngAN+fAb9uwsoe7qtVoyc8AupEJo0/1MFmUC9 1nsIfoCmhUspEWyLp4AJheBtPsMMxVALHDy5pPDBEEIJIjwIJLxkNFMAOQBtIzozkBusibkmr0II x8oJvjALLNC5HfC5BkAzFTALWbd1ARYjFIcKrJCstSCuMpMAnGAKXDcJCfYp/KpsThwH2nBYBjAM whALroAKiIAJrZBS1HQK2vvF6iXG4GuQ4jQgoYBsnMALyJAMJozCTQDHuzCwBSvLZjIIn+AKtNAL xHAFnUsNy0ANrSwzYGCjc0xrUFRxLXvIuzALyuwP6TC5k2C989oHD7wsldwIl2xkgeAz2CAMwDyq 4We5l1BkvFrCNJMBq9wBB+0PUpALsP/MPVy5TVPpCrZQC7k8M54Lbb08M788xvFoK+MDCvC5Cb9Q C+csMxsQtVPbJjBCh2/VxMMQ1IcVBhBQCwSZmZupII9gN23FCnbY1P7gAGOsmOJEIO3skMmaCxAw z7s8AXDcC/jcPbaC0zHcT8iADbq8y1jtD6N5o3Tsa112zLaQCrNg1g3wCYqgmfIaPxtdFBE8wRU8 wlDqDypA0t/rzIVQqsWWsJ4AC5qLyjNjBS8d0ypADPdMsHidVIWQCOLZq5wrMz/dAYFdAcbwvVLr WzOyTUnNmmb91DSbZeNDy/zUC8cAyDKThphEB7nwC4GwCgrcQA+yVvvUT2a9BKlwCwj//NlUhAnP F5+5ALc0wwW7vAwxvQQ26tpIR8yKsNfH+Ne47cuevNDnY8erRwupUAsOQDMV/dgYLdlpCsH36geC YAmQ4MU+4DN7MAuxcG0aCllzJM3d5QvGUNsykwbQ1gF0PTMg0Mm2oHU/xCY4LZ660AuuadvLwMtm lwu8cAsZ2mJdidSOsAn8TZczkwAzC1jDGNsx3KtrLDP18I8+cw7HsAvgqwihfCApTX5HluIgSbvC igobCj6V9p7IKp8a7g9W0MYGTTNLcN9IfNPxFcO3wAvG8KgzwwVtvAy5PQs+XNjcdMeboAuxQKCL 3MjV+wiQLMnZabhr2jL5ugiO6Qrb/yjmLFynRU0jR60879ynNIPCy/DGvgzhpom787Kjqtua6ovD SmB1MwMHNC2s+cwmoXfj/I2lM7MAfsg9tHImdu4LBLDH/lAAcRAPreozGBDdgeAJNuuFYEjavkoz LODJBKttM0JxXoYLas7mMgMCfvzHYt7DJP5esCLEuKCsYSwzKYADOBznpWkKctbQMLi7IjcAWPjd oXAJktDAgG6v3GkIqqCryvOkNbMCvKALtou7PwYKQjx2xNCw/mAAYB667CDmxhCs6Hl3FWcuOL4L uUAzruvHKkwzEiDIWlfusWKCrIDjqfDfM3MDpqmy8sWjvKDj/gACcZAEehDFPiMOx//QC979zNHM ZZ+wCRheMyyA6VcGROgTKrvYepUqM1ugv8NAAmFQ7aV5u2qy6cWItmOQfkn/ujUs2Jj+UPJrgmd7 A5not5Q7CqIguH9AuIFOyV+BuAmur03Hi4mepbRQraiw9Z6Ax7VQDBqeATj8ujjQBiDZBb3wC36o qUWkmqw58Woosi1w9SsQ+H5od02UmoHACbTACyLvD83A73VnexrLsZc0M2GwDDng8vCwN3eQC7Fw xHj96MjKC0T84rDsQxdogqYQcrzQDjRDA8mQDG7LvzTTfu0l+6hLlat5+RHABiFwXsNw9UN9bfEW +WaLLuzmD3/5rn2e0YBQr/JeCS3/k7Q5G8OccACkGABMUKiEH/1oWwvCYNr+8O3VALtdmwLUFgEj ILDV+gmkMqG+sAuKDBD+/GFIBsEgEoEJx/i65YpVJ1SrUGVyFIgTrVjBEopo+NATKk+dWG0qhUKj QDjDquFYlkNAQpgR2NSiFShTIlCFQCnKFKhUKjAw/TEr1svWJlOZBi319CnQJl1kYBohQIxYMQrH EMJEEasULEeeBiVKNMhTxU0JEgYbgUzYMQjJaMDsMcsrWKVkzX5ixSAhOC+fBoGaNEqUqkN/KvHh 16/fP8iRJU+W7Jgfn0h9NAl6dCkUI56sXAGZIXSbF0edMq3+9IpkrFnCVCQUh6Ma/4lhLXS3wBAh YYQxsXRxghXIuCtOumL12pHwmbBixJBN7wIz2I1SnAKZ+tTpU0VXuGihgGlGO3fWom/9cvAbSYgQ LUjgoJZBqEAVxVKVsjk20SpHYNFllwuEYkYYu3AJxJHVMvnEFIvkASYhZcbZ5cJeapkll2dgGsCr TR5CZamJHHllmgn9AYaMVHbRMBdiloBphVq8ciWpEZkq4wWBgMmCwUEIIQWTSx4RRJM+ImHMMcqa pMyxfi6r5A9DGrGEks8IWaU1WKAAByZgwtHik+9YsUgXXmYpxjeBthgmN93ggw8DI2BqJxZasuOE k1t08YWXXqJIqJ1ZaunlwgsFTf8oADE4cSUQVkwx5ZWn+twgIXNwedSR7hxhBZaLBqBLGGEoMKiF YQAA4b6hjImFk1c68cSTTEaypZcehEKCgll4KWWT7RxxZNIuU/QngBto0aUUXWixJZZUFBVImV9+ XTCTj2h15IgUwaHillJKoeXPXdqx7oFfboFFxKX2ucYDgX6oQSxFCpmEyEcaMUSxJZl08l/ILOMD kD78OMTKSzAhpZBEUHnwFQ6eEMqCaFygNLlYalkhIRrihC8ZkOW854qpgrOFFmf/TOWBk4J5IBZf bNFlZmcPABOKTYozLhBYNsHFjBSBoeJRUzgd9kyTnDNmFqY3FAaCFrZglQYKajn/asHvLLpVRpgg QDAVWoh7RVJWqvBrIyo2eXTnTTgpxQyhMt1UtVnLCKfHLCjduWdcdIEbphkavXYVLbCA1wNvvhhL EVAYWYRISxo5xI8+AOkXYMyhvCwzgxvpbJRFGAGlrJA+KQMNC+6DBpwZZlBGKCOwYcMg2g0CORlm 5krICHRQ4IWXFlGoU6AdbMlObVhgcaVtKISAiYEqduZ5EyAC6HGaQF7h1DsTXVmvvYR26CUVmP/s JReoxWEVm1z2A5aVi2lJ5aSEVCCgFl6GK46VI+5OCBoOQCo12KLVgwLhinQI5QnSYAWDagAD/3ng BDVYzaxoRREzbcIOQgEGNKLx/wNnHO4DciAEIXKCCEZMIhSQaEW+Jpekfj0GcwCzzOYKViVJiIIS mAhdIQhRlkFIpAbZCEfqWOUP+gmkCF24SqlqZ5AKqIBN03JAFdeyA1rgAlhFI5OwzOSFBhjLHxZo wBE4cAQGpEgIDORUgzqBllI0JyEOSIUvdHGLPfUtTRR4A6tAcL9faMo4PSuFzVjlABnY4QnQMGJC SuCC7nhiFYlQhAlBQQhF7IUVWbgPMF4whYQ4wwT7IIsiKmnCEpKOL0doZEI84AxrdKMQiEAhI0gx icdB4hKWkITkKKckfjRGhjP8l+Zs6AdDCEIVlmjFDhdBCkToBJOK0AvhXOCCBv80AAoLuEEs5qCD JAZjBWBABlaeCAE2XIAIw5tKO5KFi3VBxD9lmch33JCFVgpFCNFwg2oispRVUOQpYmgGTOZQrfcR Cxe+qIUwdCcUFtjFWoGowhOsd0RWAaMEaPjCPxNBiFnechGLmAQ0fxjQMvwgn87Aggl4YMJCzJIR KcTlJCbBCET80CzeueY1B1HJQtgSl7IIBSYgQYlLiOIRqhCEIX7JGGEOk5hOMiZm+vAHTRxMEsyk BCR4WFKcxhST9Hzj9HDBrBsk4KIUisIIsAIXgxyDAsKQDgHAgIAR1GIXsbBFR5TCuFlGc6yDAEkm ygCDE/zgBS/4wQlc8JGlUNL/lNR0mGtEABMd9NUhEJFIJ1xji1qMgFURIACIsgfGI0BhmwsYwxgO sAE72CGb0aiYFiJrSpAighSPG8VRuzqKUNzUh0C8LUxpKdSRFhUSvoUEcHs41lKaEIW4VC4lkHoK SyxVEIfQxB9gGEwoTXWGVQVEJW6o1UeI4hJdxUQoZEFSUoRVpyHx1HHaxgQRiNEfyriDBEpFAQBD Rzq5WNr4fGGtTgRJtyMd6U0Fa0qyRDjCuD0hLQU7iEyYQgNC8YF2wvLRSyoCFY7YBC16sbH7yIAh rtCesOq7vD1tAljak9XijJvCRYRiFEgVRXYfYQn1epWkYY2pTG85VEwYFamt/+ixJZx8ivU6N77H xXF1L3GKHj+il9vVhB8UYznw+ku8mdMcH6z6B2QeQhCNkER6W7He5rYXvozwITUJm4k3TuqAGpCY UJ5BhBFYxSrIyEUuCkW+sC0IFYpAhAp721WvhmLIOI1mkS0sVFw2mM4KsMEP7sMADjhiFfWiqegG 4QhXiEEGR2yGBjjghkxEpLDcE5Y/x3JjJO84qVpuRCMEsWZVbLWZXn0vg4ma5OUuOcuSUEWvex3s 9MI5ydM+6iWYnF1m+/oQhuiydyMB5qiOeapQitJlAJEZNGvCEGpm848tcYo3/xYT73VwnenpIAgB IR1rXcsKuiCBpR2ar7cI0f9NCkGKFV5ZFAuPt1fnzWBjFxUTvV2ukIOAUYF4gBCOm3h7J8GwTmwY 4/64BiVLWMLJTta4Ii3qo5PKS6Zum9vqZnebmble6+bc2ljGdrO3K3NDrFvN0H53K4zO80fw+tfb 7nYfkgRucot7zOQO5sAyc1U/0PzXjYD2j+EN51E8vN4npcgrYDENERT0PsrQwQDGcAPjAesTNjAc DHSJbUnk3d1QxnnOrXuJnS8c3l0NxRC4oYCdkkkL5eiGAhghC10a/RKQWAQiFOEJ0QBhAZtfABQ4 oAYXlKNeKDxySUlR+kXIYuLVvnLPfc1tL3v3qmhe95rb7G4nJz3vPt8u7P//8HvgZ732XM/77nvd e997txLfNnOYxSz1cRvzMgMzL9aFfwg1A1vvQIbybyU9iWhSthMQcgV++T1yf6gjH7vcMvbZzebb Ozn3ui/+9pvJQzpTs5SgaDQmKIHdpHs3LCEFUMAwCNkZVvgET/ioRuOtinvAv9u53Ms7X+u92OuD 5YsEDTSvdKu9rTu+pZO5blO+DIwEDuxAoXO/oBtBp1s+y4GqqJIq6Js6qpu+czNBp/s9PxA+ods6 olMv9nomRNiJvYAQWAACDWCA8xMKZ+AG/xOFXmK6HVS3HvzACvw597O9aIOE4Jqp41Khu+slX2Mz S7gE0Mmp/5iVEWHASZAF/13jOfnzMfprNm2Twt/DQOYzMz08txycQiqcuR28QDx8QT20uuoLvh0E vhZ0weYLphiUwRkUN3Irt+mzOhzMQR3kwfezuWZyLjrDJLOgCFMwk0DgAA6grWg4gWvoBh54PBZy oabDRDTLOk2oRVsMxEBUN9sTQIeTOF1SqpgLumTyHB3iIWiytBRyQ0poBde7wl/DwhXssgtkRBh0 RBvcQKebPdnLxgwkRGt0RDMDhHOrBHIsx27UQ2ucREiMROhTR2ssRHHcwEPUQa1rNyAcBVlwsJ0o i1WYlQpahVvTLchrIcRwqhbUQBOsvmxcSIbEuqzSQlH4ulYAwGBMROFTpv9HgLJIC4WW0yXsar9o xMVAVMRFzMN0nERwDMd4REhxJMRqdMeULESZ/EZ1XEd2jMSapMSqk8l4PMQdHL6t6j7nqrdLOrkT 2i2jYkamMshKcMk9XMlva8mWxMF028Ti87lt87KF/L2HVIUfi8ijy7Jms8NtXMhy1MCWREdHzMka jEm1pEm2lL5vPEl1vEm7LCa2nMtKNESHrL1gAzJpcy+SsimbSj2jujLtcqova8S5lEkYLESq/MkU xD7fG8R4zMF6VAXN5L2svMNudMqZhMtJrIycnMu4FLPTPM27XM3xSs13DMer68Ca87p4g7RkA7we i0LFbEoYrEm9bEzqw0T/XLzDQeTJyPxDYWRBaqzG34xLGkrNmiSz1GRN6pTE03zN8urDzIy/OHQ9 LqMc3nQ+6ETJnexJczxH5izPSwQ+4qRGuhzP5yMm1axO+qzPdoTJSsxO66O57HM2ELRDDIS60YTP GtpJx2TMR4xJqETLF3zP6bRPCI1QCZVP8szP9ZzFWkxOafTMBo1B66zQ33xE/DRQBBXR+JxQFE1R FW0S/HzKS5RFszRJ8cRJAh1PvczJFc1RHd3RgBlReFxQcSzEtQyvuxxPvIRPHk1SJVXR0vxGxxRN Iq3PE6XQ6FxSK71SFI1L08RRLO1SL/1SHq1RmwRTMi1TM61OtjxTNV1TIDZtUzd9UziNUzmdUzqtUzu9UzzNUz3dUz7tUz9N0oAAADs="},tearDown:function(){document.body.removeChild(this.__divElement);this.__divElement=null},testGetStyles:function(){var e=qx.bom.element.Background.getStyles("foo/bar/baz.gif","no-repeat",null,null);this.assertKeyInMap("backgroundImage",e,"Key 'backgroundImage' is not present!");this.assertKeyInMap("backgroundPosition",e,"Key 'backgroundPosition' is not present!");this.assertEquals("url('foo/bar/baz.gif')",e.backgroundImage,'Do always use "\'" for image urls!')},testGetStylesBase64:function(){var e=qx.bom.element.Background.getStyles(this.__backgroundUrlBase64,"no-repeat",null,null);this.assertKeyInMap("backgroundImage",e,"Key 'backgroundImage' is not present!");this.assertKeyInMap("backgroundPosition",e,"Key 'backgroundPosition' is not present!");this.assertEquals("url('"+this.__backgroundUrlBase64+"')",e.backgroundImage,"Wrong value for base64 encoded background image!")},testCompile:function(){var e=qx.bom.element.Background.compile("foo/bar/baz","no-repeat",null,null);this.assertEquals("background-image:url('foo/bar/baz');background-position:0 0;background-repeat:no-repeat;",e,"Compiled CSS string is not valid!")},testCompileBase64:function(){var e=qx.bom.element.Background.compile(this.__backgroundUrlBase64,"no-repeat",null,null),t="background-image:url('"+this.__backgroundUrlBase64+"');background-position:0 0;background-repeat:no-repeat;";this.assertEquals(t,e,"Compiled CSS string for base64 image is not valid!")}}});qx.test.bom.element.Background.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Css":{},"qx.bom.client.Engine":{},"qx.bom.element.BoxSizing":{}},environment:{provided:[],required:{"css.boxsizing":{className:"qx.bom.client.Css"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.BoxSizing",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{__support:{mshtml:["border-box","content-box"],opera:["border-box","content-box"],gecko:["border-box","content-box"],webkit:["border-box","content-box"]},__el:null,setUp:function(){this.__el=document.createElement("div");document.body.appendChild(this.__el)},tearDown:function(){document.body.removeChild(this.__el);delete this.__el},hasBoxsizing:function(){return!!qx.core.Environment.get("css.boxsizing")},testGet:function(){this.require(["boxsizing"]);var e=this.__support[qx.core.Environment.get("engine.name")]||[];this.assertInArray(qx.bom.element.BoxSizing.get(this.__el),e)},testSet:function(){this.require(["boxsizing"]);for(var e=this.__support.gecko,t=this.__support[qx.core.Environment.get("engine.name")]||[],i=0,n=e.length;i<n;i++){qx.bom.element.BoxSizing.set(this.__el,e[i]);t.includes(e[i])?this.assertEquals(t[i],qx.bom.element.BoxSizing.get(this.__el),"supported boxSizing value was not applied!"):this.assertNotEquals(t[i],qx.bom.element.BoxSizing.get(this.__el),"boxSizing value was unexpectedly applied, maybe browser support has changed?")}},testCompile:function(){this.require(["boxsizing"]);var e=qx.bom.element.BoxSizing.compile("border-box");this.assertMatch(e,/box-sizing/)}}});qx.test.bom.element.BoxSizing.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.Class",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="el";this._el=e;document.body.appendChild(e)},tearDown:function(){document.body.removeChild(this._el);this._el=null},"test: get should return the className for svg element":function(){if(document.createElementNS){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("id","svgEl");e.setAttribute("class","svgclassname");document.body.appendChild(e);var t=qx.bom.element.Class;this.assertEquals("svgclassname",t.get(e));document.body.removeChild(e)}},"test: get on new element should return empty string":function(){var e=qx.bom.element.Class;this.assertEquals("",e.get(this._el))},"test: get should return the className":function(){var e=qx.bom.element.Class;this._el.className="juhu kinners";this.assertEquals("juhu kinners",e.get(this._el))},"test: add() on new element should set the class name":function(){var e=qx.bom.element.Class;this.assertEquals("juhu",e.add(this._el,"juhu"));this.assertEquals("juhu",e.get(this._el))},"test: add() on element with class should not set it again":function(){var e=qx.bom.element.Class;e.add(this._el,"juhu");e.add(this._el,"juhu");this.assertEquals("juhu",e.get(this._el))},"test: addClasses() on new element should set multiple classes":function(){var e=qx.bom.element.Class;this.assertEquals("juhu kinners",e.addClasses(this._el,["juhu","kinners"]));this.assertEquals("juhu kinners",e.get(this._el))},"test: addClasses() should ignore class names, which are already set":function(){var e=qx.bom.element.Class;e.addClasses(this._el,["juhu","kinners"]);e.addClasses(this._el,["juhu"]);e.addClasses(this._el,["kinners"]);this.assertEquals("juhu kinners",e.get(this._el))},"test: has()":function(){var e=qx.bom.element.Class;this.assertFalse(e.has(this._el,"juhu"));e.addClasses(this._el,["juhu","kinners"]);this.assertTrue(e.has(this._el,"juhu"));this.assertTrue(e.has(this._el,"kinners"));this.assertFalse(e.has(this._el,"foo"))},"test: remove() non existing class should be ignored":function(){var e=qx.bom.element.Class;this.assertEquals("",e.get(this._el));this.assertEquals("juhu",e.remove(this._el,"juhu"));this.assertEquals("",e.get(this._el))},"test: remove() existing classes":function(){var e=qx.bom.element.Class;e.addClasses(this._el,["juhu","kinners"]);this.assertEquals("juhu",e.remove(this._el,"juhu"));this.assertMatch(e.get(this._el),/\s*kinners\s*/);this.assertEquals("kinners",e.remove(this._el,"kinners"));this.assertEquals("",e.get(this._el))},"test: removeClasses() to remove several classes at once":function(){var e=qx.bom.element.Class;e.addClasses(this._el,["a","juhu","b","kinners","c"]);this.assertEquals("a b c",e.removeClasses(this._el,["kinners","juhu"]));this.assertEquals("a b c",e.get(this._el))},"test: replace()":function(){var e=qx.bom.element.Class;e.addClasses(this._el,["juhu","kinners"]);this.assertEquals("foo",e.replace(this._el,"juhu","foo"));this.assertFalse(e.has(this._el,"juhu"));this.assertTrue(e.has(this._el,"foo"));this.assertTrue(e.has(this._el,"kinners"));this.assertEquals("bar",e.replace(this._el,"kinners","bar"));this.assertFalse(e.has(this._el,"juhu"));this.assertFalse(e.has(this._el,"kinners"));this.assertTrue(e.has(this._el,"foo"));this.assertTrue(e.has(this._el,"bar"));this.assertEquals("",e.replace(this._el,"i-dont-exist","baz"));this.assertFalse(e.has(this._el,"juhu"));this.assertFalse(e.has(this._el,"kinners"));this.assertTrue(e.has(this._el,"foo"));this.assertTrue(e.has(this._el,"bar"));this.assertFalse(e.has(this._el,"baz"))},"test: toggle() non existing class should add it":function(){var e=qx.bom.element.Class;this.assertEquals("juhu",e.toggle(this._el,"juhu"));this.assertEquals("juhu",e.get(this._el))},"test: toggle() existing class name should remove it":function(){var e=qx.bom.element.Class;e.addClasses(this._el,["juhu","kinners"]);this.assertEquals("juhu",e.toggle(this._el,"juhu"));this.assertMatch(e.get(this._el),/\s*kinners\s*/)}}});qx.test.bom.element.Class.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.element.Dimension":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.Dimension",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__inlineElement=document.createElement("span");document.body.appendChild(this.__inlineElement);this.__inlineElementWithPadding=document.createElement("span");this.__inlineElementWithPadding.style.padding="2px";document.body.appendChild(this.__inlineElementWithPadding);this.__blockElement=document.createElement("div");this.__blockElement.style.width="200px";document.body.appendChild(this.__blockElement);this.__blockElementWithPadding=document.createElement("div");this.__blockElementWithPadding.style.padding="2px";this.__blockElementWithPadding.style.width="200px";document.body.appendChild(this.__blockElementWithPadding)},tearDown:function(){document.body.removeChild(this.__inlineElement);this.__inlineElement=null;document.body.removeChild(this.__inlineElementWithPadding);this.__inlineElementWithPadding=null;document.body.removeChild(this.__blockElement);this.__blockElement=null;document.body.removeChild(this.__blockElementWithPadding);this.__blockElementWithPadding=null},testContentWidthOfInlineElement:function(){this.assertEquals(0,qx.bom.element.Dimension.getContentWidth(this.__inlineElement))},testContentWidthOfInlineElementWithPadding:function(){this.assertEquals(0,qx.bom.element.Dimension.getContentWidth(this.__inlineElementWithPadding))},testContentWidthOfBlockElement:function(){this.assertEquals(200,qx.bom.element.Dimension.getContentWidth(this.__blockElement))},testContentWidthOfBlockElementWithPadding:function(){this.assertEquals(200,qx.bom.element.Dimension.getContentWidth(this.__blockElementWithPadding))},testRoundingErrorInWidthAndHeightGetters:function(){var e={getBoundingClientRect:function(){return{right:91.58332824707031,left:53.16667175292969,bottom:91.58332824707031,top:53.16667175292969}}},t={getBoundingClientRect:function(){return{right:91.58332824707031,left:53.16667175292969,bottom:91.58332824707031,top:53.16667175292969}}};this.assertEquals(e.getBoundingClientRect().right-e.getBoundingClientRect().left,t.getBoundingClientRect().right-t.getBoundingClientRect().left);this.assertEquals(e.getBoundingClientRect().bottom-e.getBoundingClientRect().top,t.getBoundingClientRect().bottom-t.getBoundingClientRect().top);this.assertEquals(qx.bom.element.Dimension.getWidth(e),qx.bom.element.Dimension.getWidth(t));this.assertEquals(qx.bom.element.Dimension.getHeight(e),qx.bom.element.Dimension.getHeight(t))}}});qx.test.bom.element.Dimension.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Css":{},"qx.bom.element.Style":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{},"qx.bom.Stylesheet":{}},environment:{provided:[],required:{"css.boxshadow":{className:"qx.bom.client.Css"},"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"},"css.opacity":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.Style",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{__element:null,hasCssBoxshadow:function(){return null!==qx.core.Environment.get("css.boxshadow")},setUp:function(){this.__element=document.createElement("div");document.body.appendChild(this.__element)},tearDown:function(){document.body.removeChild(this.__element);this.__element=null},testSetStylesWithCss3:function(){if(this.require(["cssBoxshadow"])){qx.bom.element.Style.setStyles(this.__element,{MozBoxShadow:"6px 6px 10px rgb(128, 128, 128)",WebkitBoxShadow:"6px 6px 10px rgb(128, 128, 128)",boxShadow:"6px 6px 10px rgb(128, 128, 128)"});var e=qx.core.Environment.select("engine.name",{webkit:"rgb(128, 128, 128) 6px 6px 10px",mshtml:"6px 6px 10px rgb(128,128,128)",default:"6px 6px 10px rgb(128, 128, 128)"});this.assertEquals(e,this.__element.style.boxShadow)}},testSetAndGetCss:function(){qx.bom.element.Style.setCss(this.__element,"font-weight: bold;");this.assertMatch(qx.bom.element.Style.getCss(this.__element),/font-weight.*?bold/i)},testSet:function(){var e=["1px","solid","red"];qx.bom.element.Style.set(this.__element,"border",e.join(" "));"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9?this.assertEquals("red 1px solid",this.__element.style.border):this.assertEquals(e.join(" "),this.__element.style.border);this.assertEquals(e[0],this.__element.style.borderWidth);this.assertEquals(e[1],this.__element.style.borderStyle);this.assertEquals(e[2],this.__element.style.borderColor)},testGet:function(){var e=qx.core.Environment.get("engine.name"),t=["1px","solid","red"],i="safari"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.version")<6;("opera"==e||"webkit"==e&&!i&&"edge"!==qx.core.Environment.get("browser.name"))&&(t=["1px","solid","rgb(255, 0, 0)"]);qx.bom.element.Style.set(this.__element,"border","1px solid red");"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&"edge"!==qx.core.Environment.get("browser.name")?this.assertEquals("red 1px solid",qx.bom.element.Style.get(this.__element,"border")):this.assertEquals(t.join(" "),qx.bom.element.Style.get(this.__element,"border"));this.assertEquals(t[0],qx.bom.element.Style.get(this.__element,"borderWidth"));this.assertEquals(t[1],qx.bom.element.Style.get(this.__element,"borderStyle"));this.assertEquals(t[2],qx.bom.element.Style.get(this.__element,"borderColor"))},testSetFloat:function(){qx.bom.element.Style.set(this.__element,"float","left");this.assertEquals("left",this.__element.style.float||this.__element.style.styleFloat)},testCompileFloat:function(){var e=qx.bom.element.Style.compile({float:"left"});this.assertEquals("float:left;",e)},testGetFloat:function(){if("chrome"==qx.core.Environment.get("browser.name"))throw new qx.dev.unit.RequirementError;var e=qx.bom.Stylesheet.createElement(".right { float: right; }");this.__element.className="right";var t=qx.bom.element.Style.get(this.__element,"float");this.assertEquals("right",t);qx.bom.Stylesheet.removeSheet(e);this.__element.className=""},testCompileContent:function(){var e=qx.bom.element.Style.compile({content:""});this.assertEquals('content:"";',e)},testSetOpacity:function(){if(!qx.core.Environment.get("css.opacity"))throw new qx.dev.unit.RequirementError("css.opacity");qx.bom.element.Style.set(this.__element,"opacity",1);this.assertEquals("1",this.__element.style.opacity)},testCompileOpacity:function(){if(!qx.core.Environment.get("css.opacity"))throw new qx.dev.unit.RequirementError("css.opacity");var e=qx.bom.element.Style.compile({opacity:1});this.assertEquals("opacity:1;",e)}}});qx.test.bom.element.Style.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.CssTransform":{},"qx.dev.unit.RequirementError":{},"qx.bom.element.Transform":{},"qx.bom.Stylesheet":{},"qx.bom.Style":{}},environment:{provided:[],required:{"css.transform":{className:"qx.bom.client.CssTransform"},"css.transform.3d":{className:"qx.bom.client.CssTransform"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.element.Transform",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{__el:null,__keys:null,setUp:function(){this.__keys=qx.core.Environment.get("css.transform");if(null==this.__keys)throw new qx.dev.unit.RequirementError("css.transform");this.__el={style:{}}},tearDown:function(){this.__el=null},testTranslate:function(){qx.bom.element.Transform.translate(this.__el,"123px");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translate(123px)"))},testRotate:function(){qx.bom.element.Transform.rotate(this.__el,"123deg");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("rotate(123deg)"))},testSkew:function(){qx.bom.element.Transform.skew(this.__el,"123deg");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("skew(123deg)"))},testScale:function(){qx.bom.element.Transform.scale(this.__el,1.5);this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("scale(1.5)"))},testTransform:function(){qx.bom.element.Transform.transform(this.__el,{scale:1.2,translate:"123px"});this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translate(123px)"));this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("scale(1.2)"))},"testAddStyleSheetRuleWith-X-Axis":function(){var e=qx.bom.element.Transform.getCss({scale:1.2,translate:"123px"}),t=qx.bom.Stylesheet.createElement();qx.bom.Stylesheet.addRule(t,".test",e);var i=t.cssRules[0].cssText;this.assertTrue(-1!=i.indexOf("translate(123px)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("scale(1.2)"),"Found: "+i)},"testAddStyleSheetRuleWith-XY-Axis":function(){var e=qx.bom.element.Transform.getCss({scale:"1.2, 1",translate:"123px,234px"}),t=qx.bom.Stylesheet.createElement();qx.bom.Stylesheet.addRule(t,".test",e);var i=t.cssRules[0].cssText;this.assertTrue(-1!=i.indexOf("translate(123px, 234px)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("scale(1.2, 1)"),"Found: "+i)},test3D:function(){qx.bom.element.Transform.translate(this.__el,["1px","2px","3px"]);qx.core.Environment.get("css.transform.3d")?this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translate3d(1px, 2px, 3px)"),"translate3d"):this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translateX(1px) translateY(2px)"))},"testAddStyleSheetRuleWith-XYZ-Axis":function(){var e=qx.bom.element.Transform.getCss({scale:[1.2,1,0],translate:["123px","234px","345em"]}),t=qx.bom.Stylesheet.createElement();qx.bom.Stylesheet.addRule(t,".test",e);var i=t.cssRules[0].cssText;if(qx.core.Environment.get("css.transform.3d")){this.assertTrue(-1!=i.indexOf("translate3d(123px, 234px, 345em)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("scale3d(1.2, 1, 0)"),"Found: "+i)}else{this.assertTrue(-1!=i.indexOf("translateX(123px)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("translateY(234px)"),"Found: "+i);this.assertFalse(-1!=i.indexOf("translateY(345em)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("scaleX(1.2)"),"Found: "+i);this.assertTrue(-1!=i.indexOf("scaleY(1)"),"Found: "+i);this.assertFalse(-1!=i.indexOf("scaleZ(0)"),"Found: "+i)}},testGetCss:function(){var e=qx.bom.element.Transform.getCss({scale:1.2});this.assertEquals(qx.bom.Style.getCssName(this.__keys.name)+":scale(1.2);",e)},testOrigin:function(){qx.bom.element.Transform.setOrigin(this.__el,"30% 20%");this.assertEquals("30% 20%",this.__el.style[this.__keys.origin]);this.assertEquals("30% 20%",qx.bom.element.Transform.getOrigin(this.__el))},testStyle:function(){qx.bom.element.Transform.setStyle(this.__el,"affe");this.assertEquals("affe",this.__el.style[this.__keys.style]);this.assertEquals("affe",qx.bom.element.Transform.getStyle(this.__el))},testPerspective:function(){qx.bom.element.Transform.setPerspective(this.__el,123);this.assertEquals("123px",this.__el.style[this.__keys.perspective]);this.assertEquals("123px",qx.bom.element.Transform.getPerspective(this.__el))},testPerspectiveOrigin:function(){qx.bom.element.Transform.setPerspectiveOrigin(this.__el,"30% 10%");this.assertEquals("30% 10%",this.__el.style[this.__keys["perspective-origin"]]);this.assertEquals("30% 10%",qx.bom.element.Transform.getPerspectiveOrigin(this.__el))},testBackfaceVisibility:function(){qx.bom.element.Transform.setBackfaceVisibility(this.__el,!0);this.assertEquals("visible",this.__el.style[this.__keys["backface-visibility"]]);this.assertTrue(qx.bom.element.Transform.getBackfaceVisibility(this.__el))},testGetTransformValue:function(){var e;e=qx.bom.element.Transform.getTransformValue({scale:[1]});this.assertEquals(e,"scaleX(1)");e=qx.bom.element.Transform.getTransformValue({scale:[1,2]});this.assertEquals(e,"scaleX(1) scaleY(2)");e=qx.bom.element.Transform.getTransformValue({scale:[1,2,3]});qx.core.Environment.get("css.transform.3d")?this.assertEquals(e,"scale3d(1, 2, 3)"):this.assertEquals(e,"scaleX(1) scaleY(2)")},testTransformArray:function(){qx.bom.element.Transform.transform(this.__el,{translate:["1px","2px","3px"],scale:[1,2,3],rotate:["1deg","2deg","3deg"],skew:["1deg","2deg"]});if(qx.core.Environment.get("css.transform.3d")){this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translate3d(1px, 2px, 3px)"),"translate3d");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("scale3d(1, 2, 3)"),"scale3d");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("rotateZ(3deg)"),"rotate");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("skewX(1deg) skewY(2deg)"),"skew")}else{this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("translateX(1px) translateY(2px)"),"translate");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("scaleX(1) scaleY(2)"),"scale");this.assertTrue(-1!=this.__el.style[this.__keys.name].indexOf("skewX(1deg) skewY(2deg)"),"skew")}}}});qx.test.bom.element.Transform.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.media.Audio":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"qx.test.travis":{},"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.media.MediaTestCase",{type:"abstract",extend:qx.dev.unit.TestCase,members:{_media:null,_src:null,_getSrc:function(){},_createMedia:function(){},_checkFeature:function(){},setUp:function(){this._checkFeature();this._src=this._getSrc();this._media=this._createMedia()},tearDown:function(){this._media.dispose();this._media=null;this._src=null},testId:function(){var e="mediaid";this._media.setId(e);this.assertEquals(e,this._media.getId())},testVolume:function(){var e=/index.*?size.*?err/i,t=this;this._media.setVolume(1);this.assertEquals(1,this._media.getVolume());this._media.setVolume(0);this.assertEquals(0,this._media.getVolume());this.assertException(function(){t._media.setVolume(-1)},DOMException,e);this.assertException(function(){t._media.setVolume(2)},DOMException,e)},testMute:function(){this.assertFalse(this._media.isMuted());this._media.setMuted(!0);this.assertTrue(this._media.isMuted());this._media.setMuted(!1);this.assertFalse(this._media.isMuted())},testCurrentTime:function(){this.assertEquals(0,this._media.getCurrentTime())},testSource:function(){this._media.dispose();this._media=new qx.bom.media.Audio;this._media.setSource(this._src);var e=this._src.split("/"),t=e[e.length-1],i=(e=this._media.getSource().split("/"))[e.length-1];this.assertEquals(t,i)},testControls:function(){this.assertFalse(this._media.hasControls());this._media.showControls();this.assertTrue(this._media.hasControls());this._media.hideControls();this.assertFalse(this._media.hasControls())},testAutoplay:function(){this.assertFalse(this._media.getAutoplay());this._media.setAutoplay(!0);this.assertTrue(this._media.getAutoplay());this._media.setAutoplay(!1);this.assertFalse(this._media.getAutoplay())},testGetMediaObject:function(){this.assertElement(this._media.getMediaObject())},testPreload:function(){this.assertEquals("auto",this._media.getPreload(),"a");this._media.setPreload("none");this.assertEquals("none",this._media.getPreload());this._media.setPreload("metadata");this.assertEquals("metadata",this._media.getPreload(),"12");this._media.setPreload("auto");this.assertEquals("auto",this._media.getPreload(),"b");this._media.setPreload("none");this._media.setPreload("affe");this.assertEquals("auto",this._media.getPreload(),"c")},testLoop:function(){this.assertFalse(this._media.isLoop());this._media.setLoop(!0);this.assertTrue(this._media.isLoop());this._media.setLoop(!1);this.assertFalse(this._media.isLoop())},testVolumeChangeEvent:function(){this._media.addListener("volumechange",function(e){this.resume(function(){this.assertEquals(.5,this._media.getVolume())},this)},this);this._media.setVolume(.5);this.wait()},"test Play Event":function(){"true"==qx.core.Environment.get("qx.test.travis")&&this.skip("HTML5 audio/video play event test disabled on travis");"mobile chrome"==qx.core.Environment.get("browser.name")&&this.skip("HTML5 audio/video playback must be triggered by user interaction in Chrome on Android.");this.assertTrue(this._media.isPaused());this._media.addListener("play",function(e){this.resume(function(){this.assertFalse(this._media.isPaused())},this)},this);this._media.play();this.wait()}}});qx.test.bom.media.MediaTestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.media.MediaTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Html":{},"qx.util.ResourceManager":{},"qx.bom.media.Audio":{}},environment:{provided:[],required:{"html.audio.mp3":{className:"qx.bom.client.Html"},"html.audio.ogg":{className:"qx.bom.client.Html"},"html.audio.wav":{className:"qx.bom.client.Html"},"html.audio":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.media.Audio",{extend:qx.test.bom.media.MediaTestCase,include:[qx.dev.unit.MRequirements],members:{_getSrc:function(){return qx.core.Environment.get("html.audio.mp3")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/knock.mp3"):qx.core.Environment.get("html.audio.ogg")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/knock.ogg"):qx.core.Environment.get("html.audio.wav")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/knock.wav"):void 0},_createMedia:function(){return new qx.bom.media.Audio(this._src)},_checkFeature:function(){this.require(["audio"])},hasAudio:function(){return qx.core.Environment.get("html.audio")}}});qx.test.bom.media.Audio.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Function":{construct:!0},"qx.bom.Event":{construct:!0},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.media.Abstract",{extend:qx.core.Object,implement:[qx.core.IDisposable],type:"abstract",construct:function(e){qx.core.Object.constructor.call(this);this._media=e;this._hasLoop=!!this._media.loop;var t=qx.lang.Function;this._handlePlayEventBound=t.bind(this._handlePlayEvent,this);this._handlePauseEventBound=t.bind(this._handlePauseEvent,this);this._handleTimeUpdateEventBound=t.bind(this._handleTimeUpdateEvent,this);this._handleEndedEventBound=t.bind(this._handleEndedEvent,this);this._handleVolumeChangeEventBound=t.bind(this._handleVolumeChangeEvent,this);this._handleLoadedDataEventBound=t.bind(this._handleLoadedDataEvent,this);this._handleLoadedMetaDataEventBound=t.bind(this._handleLoadedMetaDataEvent,this);var i=qx.bom.Event;i.addNativeListener(this._media,"play",this._handlePlayEventBound);i.addNativeListener(this._media,"pause",this._handlePauseEventBound);i.addNativeListener(this._media,"timeupdate",this._handleTimeUpdateEventBound);i.addNativeListener(this._media,"ended",this._handleEndedEventBound);i.addNativeListener(this._media,"volumechange",this._handleVolumeChangeEventBound);i.addNativeListener(this._media,"loadeddata",this._handleLoadedDataEventBound);i.addNativeListener(this._media,"loadedmetadata",this._handleLoadedMetaDataEventBound);this._media.preload="auto"},events:{play:"qx.event.type.Event",pause:"qx.event.type.Event",timeupdate:"qx.event.type.Event",ended:"qx.event.type.Event",volumechange:"qx.event.type.Event",loadeddata:"qx.event.type.Event",loadedmetadata:"qx.event.type.Event"},members:{_media:null,_hasLoop:!1,_loopId:null,getMediaObject:function(){return this._media},play:function(){qx.event.Timer.once(function(){this._media.play()},this,0)},pause:function(){this._media.pause()},isPaused:function(){return this._media.paused},isEnded:function(){return this._media.ended},setId:function(e){this._media.id=e},getId:function(){return this._media.id},canPlayType:function(e){return this._media.canPlayType(e)},setVolume:function(e){this._media.volume=e},getVolume:function(){return this._media.volume},setMuted:function(e){this._media.muted=e},isMuted:function(){return this._media.muted},getDuration:function(){return this._media.duration},setCurrentTime:function(e){this._media.currentTime=e},getCurrentTime:function(){return this._media.currentTime},setSource:function(e){this._media.src=e},getSource:function(){return this._media.src},setSourceObject:function(e){this._media.srcObject=e},getSourceObject:function(){return this._media.srcObject},hasControls:function(){return this._media.controls},showControls:function(){this._media.controls=!0},hideControls:function(){this._media.controls=!1},setAutoplay:function(e){this._media.autoplay=e},getAutoplay:function(){return this._media.autoplay},setPreload:function(e){this._media.preload="none"==e||"metadata"==e||"auto"==e?e:"auto"},getPreload:function(){return this._media.preload},setLoop:function(e){if(!this._hasLoop)if(!0===e)this._loopId=this.addListener("ended",this.play,this);else if(!1===e&&this._loopId){this.removeListenerById(this._loopId);this._loopId=null}this._media.loop=e},isLoop:function(){return!!this._media.loop},_handlePlayEvent:function(){this.fireEvent("play")},_handlePauseEvent:function(){this.fireEvent("pause")},_handleTimeUpdateEvent:function(){this.fireEvent("timeupdate")},_handleEndedEvent:function(){this.fireEvent("ended")},_handleVolumeChangeEvent:function(){this.fireEvent("volumechange")},_handleLoadedDataEvent:function(){this.fireEvent("loadeddata")},_handleLoadedMetaDataEvent:function(){this.fireEvent("loadedmetadata")}},destruct:function(){var e=qx.bom.Event;e.removeNativeListener(this._media,"play",this._handlePlayEventBound);e.removeNativeListener(this._media,"pause",this._handlePauseEventBound);e.removeNativeListener(this._media,"timeupdate",this._handleTimeUpdateEventBound);e.removeNativeListener(this._media,"ended",this._handleEndedEventBound);e.removeNativeListener(this._media,"volumechange",this._handleVolumeChangeEventBound);e.removeNativeListener(this._media,"loadeddata",this._handleLoadedDataEventBound);e.removeNativeListener(this._media,"loadedmetadata",this._handleLoadedMetaDataEventBound);try{this.pause()}catch(e){}this.setSource("");this._media=null}});qx.bom.media.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.bom.media.Abstract":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.media.Audio",{extend:qx.bom.media.Abstract,construct:function(e){this._audio=new window.Audio(e||"");qx.bom.media.Abstract.constructor.call(this,this._audio)},members:{_audio:null}});qx.bom.media.Audio.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.media.MediaTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Html":{},"qx.util.ResourceManager":{},"qx.bom.media.Video":{}},environment:{provided:[],required:{"html.video.h264":{className:"qx.bom.client.Html"},"html.video.ogg":{className:"qx.bom.client.Html"},"html.video.webm":{className:"qx.bom.client.Html"},"html.video":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.media.Video",{extend:qx.test.bom.media.MediaTestCase,include:[qx.dev.unit.MRequirements],members:{_getSrc:function(){return qx.core.Environment.get("html.video.h264")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/qx.mp4"):qx.core.Environment.get("html.video.ogg")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/qx.ogv"):qx.core.Environment.get("html.video.webm")?qx.util.ResourceManager.getInstance().toUri("qx/test/media/qx.webm"):void 0},_createMedia:function(){return new qx.bom.media.Video(this._src)},_checkFeature:function(){this.require(["video"])},hasVideo:function(){return qx.core.Environment.get("html.video")},testWidth:function(){this._media.setWidth(200);this.assertEquals(200,this._media.getWidth())},testHeight:function(){this._media.setWidth(200);this.assertEquals(200,this._media.getWidth())},testVideoWidthAndHeight:function(e){this.assertEquals(0,this._media.getVideoWidth());this.assertEquals(0,this._media.getVideoHeight());this._media.addListener("loadedmetadata",function(e){var t=e._target;this.assertEquals(720,t.getVideoWidth());this.assertEquals(704,t.getVideoHeight())},this);this._media.addListener("loadeddata",function(e){var t=e._target;this.assertEquals(720,t.getVideoWidth());this.assertEquals(704,t.getVideoHeight())},this)}}});qx.test.bom.media.Video.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.bom.media.Abstract":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.media.Video",{extend:qx.bom.media.Abstract,construct:function(e){this._video=document.createElement("video");e&&(this._video.src=e);qx.bom.media.Abstract.constructor.call(this,this._video)},members:{_video:null,getWidth:function(){return this._video.width},setWidth:function(e){this._video.width=e},getHeight:function(){return this._video.height},setHeight:function(e){this._video.height=e},getVideoWidth:function(){return this._video.videoWidth},getVideoHeight:function(){return this._video.videoHeight},getPoster:function(){return this._video.poster},setPoster:function(e){this._video.poster=e}}});qx.bom.media.Video.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.request.Jsonp":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.request.Jsonp",{extend:qx.dev.unit.TestCase,include:[qx.test.io.MRemoteTest,qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{setUp:function(){this.require(["php"]);var e=this.req=new qx.bom.request.Jsonp;this.url=this.getUrl("qx/test/jsonp_primitive.php");"opera"===qx.core.Environment.get("engine.name")&&(e.timeout=1e3)},tearDown:function(){window.SCRIPT_LOADED=void 0;this.getSandbox().restore();this.req.dispose()},"test: setCallbackParam()":function(){var e=this.req;e.setCallbackParam("myMethod");e.open("GET",this.url);e.send();this.assertMatch(e._getUrl(),/(myMethod=)/)},"test: setCallbackName()":function(){var e=this.req;e.setCallbackName("myCallback");e.open("GET",this.url);e.send();this.assertMatch(e._getUrl(),/(=myCallback)/)},"test: has default callback param and name":function(){var e,t=this.req;t.open("GET",this.url);t.send();e=/\?callback=qx\.bom\.request\.Jsonp.*\d{16,}.*\.callback/;this.assertMatch(t._getUrl(),e)},"test: not overwrite existing callback":function(){var e=this;window.myExistingCallback=function(){return"Affe"};this.req.setCallbackName("myExistingCallback");this.req.onload=function(){e.resume(function(){e.assertEquals("Affe",myExistingCallback());window.myExistingCallback=void 0})};this.request();this.wait()},"test: responseJson holds response with default callback":function(){var e=this;this.req.onload=function(){e.resume(function(){var t=this.req.responseJson;e.assertObject(t);e.assertTrue(t.boolean)})};this.request();this.wait()},"test: reset responseJson when reopened":function(){var e=this.req,t=this;e.onload=function(){t.resume(function(){e.open("GET","/url");t.assertNull(e.responseJson)})};this.request();this.wait()},"test: status indicates success when default callback called":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(200,e.req.status)})};this.request();this.wait()},"test: status indicates success when custom callback called":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(200,e.req.status)})};this.req.setCallbackName("myCallback");this.request();this.wait()},"test: status indicates failure when default callback not called":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(500,e.req.status)})};this.request(this.getUrl("qx/test/script.js"));this.wait()},"test: status indicates failure when custom callback not called":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(500,e.req.status)})};this.req.setCallbackName("myCallback");this.request(this.getUrl("qx/test/script.js"));this.wait()},"test: status indicates failure when callback not called on second request":function(){var e=0,t=this.req,i=this;t.onload=function(){2!=(e+=1)?i.request(i.getUrl("qx/test/script.js")):i.resume(function(){i.assertEquals(500,t.status)})};this.request();this.wait()},"test: call onload":function(){var e=this;this.req.onload=function(){e.resume(function(){})};this.request();this.wait()},"test: call onerror on network error":function(){var e=this;"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&(this.req.timeout=2e3);this.req.onerror=function(){e.resume(function(){})};this.request("http://fail.tld");this.wait(15100)},"test: call onloadend on network error":function(){var e=this;this.req.onloadend=function(){e.resume(function(){})};this.request("http://fail.tld");this.wait(15100)},request:function(e){this.req.open("GET",e||this.url);this.req.send()},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.bom.request.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.request.Script":{construct:!0,require:!0},"qx.util.Uri":{},"qx.lang.Json":{}},environment:{provided:[],required:{"qx.debug.io":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.request.Jsonp",{extend:qx.bom.request.Script,construct:function(){qx.bom.request.Script.apply(this);this.__generateId()},members:{responseJson:null,__id:null,__callbackParam:null,__callbackName:null,__callbackCalled:null,__customCallbackCreated:null,__generatedUrl:null,__disposed:null,__prefix:"",open:function(e,t){if(!this.__disposed){var i,n,s={},r=this;this.responseJson=null;this.__callbackCalled=!1;i=this.__callbackParam||"callback";n=this.__callbackName||this.__prefix+"qx.bom.request.Jsonp."+this.__id+".callback";if(this.__callbackName)if(window[this.__callbackName])qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Jsonp,"Callback "+this.__callbackName+" already exists");else{this.__customCallbackCreated=!0;window[this.__callbackName]=function(e){r.callback(e)}}else this.constructor[this.__id]=this;qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug(qx.bom.request.Jsonp,"Expecting JavaScript response to call: "+n);s[i]=n;this.__generatedUrl=t=qx.util.Uri.appendParamsToUrl(t,s);this.__callBase("open",[e,t])}},callback:function(e){if(!this.__disposed){this.__callbackCalled=!0;e=qx.lang.Json.stringify(e);e=qx.lang.Json.parse(e);this.responseJson=e;this.constructor[this.__id]=void 0;this.__deleteCustomCallback()}},setCallbackParam:function(e){this.__callbackParam=e;return this},setCallbackName:function(e){this.__callbackName=e;return this},setPrefix:function(e){this.__prefix=e},getGeneratedUrl:function(){return this.__generatedUrl},dispose:function(){this.__deleteCustomCallback();this.__callBase("dispose")},_onNativeLoad:function(){this.status=this.__callbackCalled?200:500;this.__callBase("_onNativeLoad")},__deleteCustomCallback:function(){if(this.__customCallbackCreated&&window[this.__callbackName]){window[this.__callbackName]=void 0;this.__customCallbackCreated=!1}},__callBase:function(e,t){qx.bom.request.Script.prototype[e].apply(this,t||[])},__generateId:function(){this.__id="qx"+(new Date).valueOf()+(""+Math.random()).substring(2,5)}}});qx.bom.request.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.request.Script":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.request.Script",{extend:qx.dev.unit.TestCase,include:[qx.test.io.MRemoteTest,qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{setUp:function(){var e=this.req=new qx.bom.request.Script;this.url=this.getUrl("qx/test/script.js");"opera"===qx.core.Environment.get("engine.name")&&(e.timeout=1e3)},tearDown:function(){this.getSandbox().restore();this.req.dispose()},"test: create instance":function(){this.assertObject(this.req)},"test: dispose() removes script from DOM":function(){var e;this.req.open();this.req.send();e=this.req._getScriptElement();this.req.dispose();this.assertFalse(this.isInDom(e))},"test: isDisposed()":function(){this.assertFalse(this.req.isDisposed());this.req.dispose();this.assertTrue(this.req.isDisposed())},"test: allow many requests with same object":function(){var e=0,t=this;this.req.onload=function(){2!=(e+=1)?t.request():t.resume(function(){})};this.request();this.wait()},"test: call event handler":function(){var e=this.req;e.onevent=this.spy();e._emit("event");this.assertCalled(e.onevent)},"test: fire event":function(){var e=this.req,t=this.spy();e.onevent=this.spy();e.on("event",t);e._emit("event");this.assertCalled(t)},"test: properties indicate success when request completed":function(){var e=this,t=this.req;t.onload=function(){e.resume(function(){e.assertEquals(4,t.readyState);e.assertEquals(200,t.status);e.assertEquals("200",t.statusText)})};this.request();this.wait()},"test: status indicates success when determineSuccess returns true":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(200,e.req.status)})};this.req.setDetermineSuccess(function(){return!0===SCRIPT_LOADED});this.request(this.getUrl("qx/test/script.js"));this.wait()},"test: properties indicate failure when request failed":function(){this.isIeBelow(9)&&this.skip();var e=this,t=this.req;t.onerror=function(){e.resume(function(){e.assertEquals(4,t.readyState);e.assertEquals(0,t.status);e.assertNull(t.statusText)})};this.request("http://fail.tld");this.wait(15e3)},"test: properties indicate failure when request timed out":function(){this.isIeBelow(9)&&this.skip();var e=this,t=this.req;t.timeout=25;t.ontimeout=function(){e.resume(function(){e.assertEquals(4,t.readyState);e.assertEquals(0,t.status);e.assertNull(t.statusText)})};this.requestPending();this.wait()},"test: status indicates failure when determineSuccess returns false":function(){var e=this;this.req.onload=function(){e.resume(function(){e.assertEquals(500,e.req.status)})};this.req.setDetermineSuccess(function(){return!1});this.request();this.wait()},"test: reset XHR properties when reopened":function(){var e=this.req,t=this;e.onload=function(){t.resume(function(){e.open("GET","/url");t.assertIdentical(1,e.readyState);t.assertIdentical(0,e.status);t.assertIdentical("",e.statusText)})};this.request();this.wait()},"test: open() stores URL":function(){this.req.open("GET",this.url);this.assertEquals(this.url,this.req._getUrl())},"test: send() adds script element to DOM":function(){var e=this.req;this.request();this.assert(this.isInDom(e._getScriptElement()),"Script element not in DOM")},"test: send() sets script src to URL":function(){this.request();this.assertMatch(this.req._getScriptElement().src,/qx\/test\/script.js$/)},"test: send() with data":function(){this.skip()},"test: abort() removes script element":function(){var e=this.req;this.requestPending();e.abort();this.assertFalse(this.isInDom(e._getScriptElement()),"Script element in DOM")},"test: abort() makes request not fire load":function(){var e=this.req;this.spy(e,"onload");this.isIe()?this.request(this.noCache(this.url)):this.request();e.abort();this.wait(300,function(){this.assertNotCalled(e.onload)},this)},"test: setRequestHeader() throws error when other than OPENED":function(){var e=this.req;this.assertException(function(){e.setRequestHeader()},null,"Invalid state")},"test: setRequestHeader() appends to URL":function(){var e=this.req;e.open("GET","/affe");e.setRequestHeader("key1","value1");e.setRequestHeader("key2","value2");this.assertMatch(e._getUrl(),/key1=value1/);this.assertMatch(e._getUrl(),/key2=value2/)},"test: call onload":function(){var e=this;this.req.onload=function(){e.resume(function(){})};this.request();this.wait()},"test: call onreadystatechange and have appropriate readyState":function(){var e=this.req,t=[],i=this;e.onreadystatechange=function(){t.push(e.readyState);4===e.readyState&&i.resume(function(){i.assertArrayEquals([1,2,3,4],t)})};this.isIe()?this.request(this.noCache(this.url)):this.request();this.wait()},"test: call onloadend on network error":function(){var e=this;this.req.onloadend=function(){e.resume(function(){})};this.request("http://fail.tld");this.wait(15e3)},"test: call onloadend when request completes":function(){var e=this;this.req.onloadend=function(){e.resume(function(){})};this.request();this.wait()},"test: not call onload when loading failed because of network error":function(){this.isIeBelow(9)&&this.skip();var e=this;this.req.onload=function(){e.resume(function(){throw Error("Called onload")})};this.req.onerror=function(){e.resume()};this.request("http://fail.tld");this.wait(15e3)},"test: call onerror on network error":function(){this.isIeBelow(9)&&this.skip();var e=this;this.req.onerror=function(){e.resume(function(){})};this.request("http://fail.tld");this.wait(15e3)},"test: call onerror on invalid script":function(){this.skip();var e=this;this.req.onerror=function(){e.resume(function(){})};this.request(this.getUrl("qx/test/xmlhttp/sample.txt"));this.wait()},"test: not call onerror when request exceeds timeout limit":function(){var e=this.req;this.supportsErrorHandler()||this.skip();this.spy(e,"onerror");e.timeout=25;this.requestPending();this.wait(20,function(){this.assertNotCalled(e.onerror)},this)},"test: call ontimeout when request exceeds timeout limit":function(){this.isIeBelow(9)&&this.skip();var e=this;this.req.timeout=25;this.req.ontimeout=function(){e.resume(function(){})};this.requestPending();this.wait()},"test: not call ontimeout when request is within timeout limit":function(){var e=this.req,t=this;this.spy(e,"ontimeout");e.onload=function(){t.resume(function(){t.wait(350,function(){t.assertNotCalled(e.ontimeout)})})};e.timeout=300;this.request();this.wait()},"test: call onabort when request was aborted":function(){var e=this.req;this.spy(e,"onabort");this.request();e.abort();this.assertCalled(e.onabort)},"test: remove script from DOM when request completed":function(){var e,t=this;this.req.onload=function(){t.resume(function(){e=this.req._getScriptElement();t.assertFalse(t.isInDom(e))})};this.request();this.wait()},"test: remove script from DOM when request failed":function(){var e,t=this;this.req.onerror=this.req.onload=function(){t.resume(function(){e=this.req._getScriptElement();t.assertFalse(t.isInDom(e))})};this.request("http://fail.tld");this.wait(15e3)},"test: remove script from DOM when request timed out":function(){this.isIeBelow(9)&&this.skip();var e,t=this;this.req.timeout=25;this.req.ontimeout=function(){t.resume(function(){e=t.req._getScriptElement();t.assertFalse(t.isInDom(e))})};this.requestPending();this.wait()},request:function(e){this.req.open("GET",e||this.url,!0);this.req.send()},requestPending:function(e){this.require(["php"]);var t=this.noCache(this.getUrl("qx/test/jsonp_primitive.php"));t+="&sleep="+(e||50);this.request(t)},isInDom:function(e){return!!e.parentNode},isIe:function(e){return"mshtml"===qx.core.Environment.get("engine.name")},isIeBelow:function(e){return"mshtml"===qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<e},supportsErrorHandler:function(){var e="mshtml"===qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9,t="opera"===qx.core.Environment.get("engine.name");return!(e||t)},noCache:function(e){return e+"?nocache="+(new Date).valueOf()},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.bom.request.Script.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.request.SimpleXhr":{},"qx.lang.Json":{},"qx.bom.request.Xhr":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.request.SimpleXhr",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{setUp:function(){this.req=new qx.bom.request.SimpleXhr},tearDown:function(){this.req=null;this.getSandbox().restore()},"test: set/get request header":function(){var e="application/json";this.assertEquals(e,this.req.setRequestHeader("Accept",e).getRequestHeader("Accept"))},"test: set/get url":function(){var e="http://example.org";this.assertEquals(e,this.req.setUrl(e).getUrl())},"test: set/get method":function(){this.assertEquals("GET",this.req.setMethod("GET").getMethod())},"test: set/get request data":function(){var e={abc:"def",uvw:"xyz"};this.assertEquals(e,this.req.setRequestData(e).getRequestData())},"test: set/get response":function(){var e=this.req,t='{"animals": ["monkey", "mouse"]}',i="<animals><monkey/><mouse/></animals>",n={a:"b"};e._transport.responseText=t;this.assertEquals(t,e.getResponse());e._transport.responseXML=i;this.assertEquals(i,e.getResponse());e._setResponse(n);this.assertEquals(n,e.getResponse())},"test: set/get timeout in millis":function(){this.assertEquals(150,this.req.setTimeout(150).getTimeout())},"test: use/is caching":function(){this.assertTrue(this.req.useCaching(!0).isCaching());this.assertFalse(this.req.useCaching(!1).isCaching())},"test: set (custom) parser":function(){var e,t=function(){};e=this.req.setParser(t);this.assertEquals(t,e)},"test: serialize data":function(){var e={abc:"def",uvw:"xyz"};this.assertNull(this.req._serializeData(null));this.assertEquals("leaveMeIntact",this.req._serializeData("leaveMeIntact"));this.assertEquals("abc=def&uvw=xyz",this.req._serializeData(e));this.assertEquals("abc=def&uvw=xyz",this.req._serializeData(e,"arbitrary/contentType"));this.assertEquals('{"abc":"def","uvw":"xyz"}',this.req._serializeData(e,"application/json"));this.assertEquals("[1,2,3]",this.req._serializeData([1,2,3],"application/json"))},stubTransportMethods:function(e){for(var t=this.req._createTransport(),i=e.length;i--;)this.stub(t,e[i]);this.req._transport=t;return t},"test: send() w/ timeout":function(){var e,t=this.req,i="http://example.org";t.setUrl(i);t.setTimeout(150);e=this.stubTransportMethods(["open","send"]);t.send();this.assertCalledWith(e.open,"GET",i,!0);this.assertCalledWith(e.send);this.assertEquals(e.timeout,t.getTimeout())},"test: send() w/o data and w/o headers":function(){var e,t=this.req,i="http://example.org";t.setUrl(i);e=this.stubTransportMethods(["open","send"]);t.send();this.assertCalledWith(e.open,"GET",i,!0);this.assertCalledWith(e.send)},"test: send() GET w/ data and w/ headers":function(){var e,t=this.req,i="http://example.org";t.setUrl(i);t.setRequestHeader("Accept","application/json");t.setRequestData({a:"b"});e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.open,"GET",i+"?a=b",!0);this.assertCalledWith(e.setRequestHeader,"Accept","application/json");this.assertCalledWith(e.send)},"test: send() GET w/ enabled caching sets nocache param":function(){var e,t=this.req,i="http://example.org",n=new RegExp(i+"\\?nocache=[0-9]{13,}");t.setUrl(i);t.useCaching(!1);e=this.stubTransportMethods(["open","send"]);t.send();this.assertCalledWithMatch(e.open,"GET",n,!0);this.assertCalledWith(e.send)},"test: send() GET w/ caching header overrides cache prevention":function(){var e,t=this.req,i="http://example.org";t.setUrl(i);t.setRequestHeader("Cache-Control","no-cache");e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.open,"GET",i,!0);this.assertCalledWith(e.setRequestHeader,"Cache-Control","no-cache");this.assertCalledWith(e.send)},"test: send() POST w/ data (default content-type)":function(){var e,t=this.req,i="http://example.org";t.setUrl(i);t.setMethod("POST");t.setRequestData({a:"b"});e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.open,"POST",i,!0);this.assertCalledWith(e.setRequestHeader,"Content-Type","application/x-www-form-urlencoded");this.assertCalledWith(e.send,"a=b")},"test: send() POST w/ data (application/json)":function(){var e,t=this.req,i="http://example.org",n={a:"b"};t.setUrl(i);t.setMethod("POST");t.setRequestData(n);t.setRequestHeader("Content-Type","application/json");e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.open,"POST",i,!0);this.assertCalledWith(e.send,qx.lang.Json.stringify(n))},"test: send() POST w/ FormData":function(){var e,t=this.req;window.FormData||this.skip("FormData API not supported");t.setMethod||this.skip("POST requests not supported by this transport");var i=new FormData;i.append("foo","bar");i.append("baz","qux");t.setUrl("http://example.org");t.setMethod("POST");t.setRequestData(i);e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.send,i)},"test: send() POST w/ Blob":function(){var e,t=this.req;window.Blob||this.skip("Blob API not supported");t.setMethod||this.skip("POST requests not supported by this transport");var i=new window.Blob(["abc123"],{type:"text/plain"});t.setUrl("http://example.org");t.setMethod("POST");t.setRequestData(i);e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.send,i)},"test: send() POST w/ ArrayBuffer":function(){var e,t=this.req;window.ArrayBuffer||this.skip("ArrayBuffer API not supported");t.setMethod||this.skip("POST requests not supported by this transport");var i=new window.ArrayBuffer(512);t.setUrl("http://example.org");t.setMethod("POST");t.setRequestData(i);e=this.stubTransportMethods(["open","setRequestHeader","send"]);t.send();this.assertCalledWith(e.send,i)},"test: abort() aborts transport":function(){var e=this.stubTransportMethods(["abort"]);this.req.abort();this.assertCalled(e.abort)},"test: dispose() disposes transport":function(){this.assertTrue(this.req.dispose())},"test: addListenerOnce() event handler":function(){var e=this.req,t=this.req._createTransport(),i=function(){};this.stub(e,"once");e._transport=t;e.addListenerOnce("test-success",i,this);this.assertCalledWith(e.once,"test-success",i,this)},"test: _onReadyStateDone() success":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");this.stub(t,"getResponseHeader").returns("application/json");e._transport=e._registerTransportListener(t);e._transport.readyState=qx.bom.request.Xhr.DONE;e._transport.responseText='{"animals": ["monkey", "mouse"]}';e._transport.status=200;e._transport.onreadystatechange();this.assertArrayEquals(["monkey","mouse"],e.getResponse().animals);this.assertCalledWith(e.emit,"success")},"test: _onReadyStateDone() fail w/ response":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");this.stub(t,"getResponseHeader").returns("application/json");e._transport=e._registerTransportListener(t);e._transport.readyState=qx.bom.request.Xhr.DONE;e._transport.responseText='{"animals": ["monkey", "mouse"]}';e._transport.status=404;e._transport.onreadystatechange();this.assertArrayEquals(["monkey","mouse"],e.getResponse().animals);this.assertCalledWith(e.emit,"fail")},"test: _onReadyStateDone() fail w/o response":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");this.stub(t,"getResponseHeader").returns("hasToExist/ButContentDoesntMatter");e._transport=e._registerTransportListener(t);e._transport.readyState=qx.bom.request.Xhr.DONE;e._transport.status=404;e._transport.onreadystatechange();this.assertEquals("",e.getResponse());this.assertCalledWith(e.emit,"fail")},"test: onLoadEnd()":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");e._transport=e._registerTransportListener(t);e._transport.onloadend();this.assertCalledWith(e.emit,"loadEnd")},"test: onAbort()":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");e._transport=e._registerTransportListener(t);e._transport.onabort();this.assertCalledWith(e.emit,"abort")},"test: onTimeout()":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");e._transport=e._registerTransportListener(t);e._transport.ontimeout();this.assertCalledWith(e.emit,"timeout");this.assertEquals(2,e.emit.callCount)},"test: onError()":function(){var e=this.req,t=e._createTransport();this.stub(e,"emit");e._transport=e._registerTransportListener(t);e._transport.onerror();this.assertCalledWith(e.emit,"error");this.assertEquals(2,e.emit.callCount)},testGetResponseHeaders:function(){this.useFakeServer();this.getServer().autoRespond=!0;this.getServer().respondWith("GET","/foo",[200,{"x-affe":"AFFE"},"Response Body"]);var e=new qx.bom.request.SimpleXhr("/foo","GET");e.on("success",function(){this.resume(function(){this.assertEquals("AFFE",e.getResponseHeader("x-affe"));var t=e.getAllResponseHeaders();this.assertMatch(t,/x-affe.*?AFFE/)}.bind(this))}.bind(this));window.setTimeout(function(){e.send()},100);this.wait(200)}}});qx.test.bom.request.SimpleXhr.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.Emitter":{require:!0},"qx.core.IDisposable":{require:!0},"qx.core.ObjectRegistry":{construct:!0},"qx.lang.Type":{},"qx.util.Request":{},"qx.bom.request.Xhr":{},"qx.util.Uri":{},"qx.lang.Function":{},"qx.util.ResponseParser":{},"qx.lang.Json":{}},environment:{provided:[],required:{"qx.debug.io":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.request.SimpleXhr",{extend:qx.event.Emitter,implement:[qx.core.IDisposable],construct:function(e,t){void 0!==e&&this.setUrl(e);this.useCaching(!0);this.setMethod(void 0!==t?t:"GET");this._transport=this._registerTransportListener(this._createTransport());qx.core.ObjectRegistry.register(this);this.__requestHeaders={};this.__parser=this._createResponseParser()},members:{setRequestHeader:function(e,t){this.__requestHeaders[e]=t;return this},getRequestHeader:function(e){return this.__requestHeaders[e]},getResponseHeader:function(e){return this._transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this._transport.getAllResponseHeaders()},setUrl:function(e){qx.lang.Type.isString(e)&&(this.__url=e);return this},getUrl:function(){return this.__url},setMethod:function(e){qx.util.Request.isMethod(e)&&(this.__method=e);return this},getMethod:function(){return this.__method},setRequestData:function(e){(qx.lang.Type.isString(e)||qx.lang.Type.isObject(e)||-1!==["ArrayBuffer","Blob","FormData"].indexOf(qx.lang.Type.getClass(e)))&&(this.__requestData=e);return this},getRequestData:function(){return this.__requestData},getResponse:function(){return null!==this.__response?this.__response:null!==this._transport.responseXML?this._transport.responseXML:this._transport.responseText},getTransport:function(){return this._transport},setParser:function(e){return this.__parser.setParser(e)},setTimeout:function(e){qx.lang.Type.isNumber(e)&&(this.__timeout=e);return this},getTimeout:function(){return this.__timeout},useCaching:function(e){qx.lang.Type.isBoolean(e)&&(this.__cache=e);return this},isCaching:function(){return this.__cache},isDone:function(){return this._transport.readyState===qx.bom.request.Xhr.DONE},toHashCode:function(){return this.$$hash},isDisposed:function(){return!!this.__disposed},send:function(){var e=this.getTimeout(),t=null!==this.getRequestData(),i=this.__requestHeaders.hasOwnProperty("Cache-Control"),n=qx.util.Request.methodAllowsRequestBody(this.getMethod()),s=this.getRequestHeader("Content-Type"),r=this._serializeData(this.getRequestData(),s);"GET"===this.getMethod()&&t&&this.setUrl(qx.util.Uri.appendParamsToUrl(this.getUrl(),r));!1!==this.isCaching()||i||this.setUrl(qx.util.Uri.appendParamsToUrl(this.getUrl(),{nocache:(new Date).valueOf()}));e&&(this._transport.timeout=e);this._transport.open(this.getMethod(),this.getUrl(),!0);for(var o in this.__requestHeaders)this._transport.setRequestHeader(o,this.__requestHeaders[o]);if(n){void 0===s&&-1===["ArrayBuffer","Blob","FormData"].indexOf(qx.Bootstrap.getClass(r))&&this._transport.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._transport.send(r)}else this._transport.send()},abort:function(){this._transport.abort();return this},dispose:function(){if(this._transport.dispose()){this.__parser=null;this.__disposed=!0;return!0}return!1},_transport:null,_createTransport:function(){return new qx.bom.request.Xhr},_registerTransportListener:function(e){e.onreadystatechange=qx.lang.Function.bind(this._onReadyStateChange,this);e.onloadend=qx.lang.Function.bind(this._onLoadEnd,this);e.ontimeout=qx.lang.Function.bind(this._onTimeout,this);e.onerror=qx.lang.Function.bind(this._onError,this);e.onabort=qx.lang.Function.bind(this._onAbort,this);e.onprogress=qx.lang.Function.bind(this._onProgress,this);return e},_createResponseParser:function(){return new qx.util.ResponseParser},_setResponse:function(e){this.__response=e},_serializeData:function(e,t){var i="POST"===this.getMethod(),n=/application\/.*\+?json/.test(t);return e?qx.lang.Type.isString(e)?e:n&&(qx.lang.Type.isObject(e)||qx.lang.Type.isArray(e))?qx.lang.Json.stringify(e):qx.lang.Type.isObject(e)?qx.util.Uri.toParameter(e,i):-1!==["ArrayBuffer","Blob","FormData"].indexOf(qx.Bootstrap.getClass(e))?e:null:null},__requestHeaders:null,__requestData:null,__method:"",__url:"",__response:null,__parser:null,__cache:null,__timeout:null,__disposed:null,addListenerOnce:function(e,t,i){this.once(e,t,i);return this},addListener:function(e,t,i){this._transport._emitter.on(e,t,i);return this},_onReadyStateChange:function(){qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug("Fire readyState: "+this._transport.readyState);this.isDone()&&this.__onReadyStateDone()},__onReadyStateDone:function(){qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug("Request completed with HTTP status: "+this._transport.status);var e=this._transport.responseText,t=this._transport.getResponseHeader("Content-Type");if(qx.util.Request.isSuccessful(this._transport.status)){qx.core.Environment.get("qx.debug.io")&&qx.Bootstrap.debug("Response is of type: '"+t+"'");this._setResponse(this.__parser.parse(e,t));this.emit("success")}else{try{this._setResponse(this.__parser.parse(e,t))}catch(e){}0!==this._transport.status&&this.emit("fail")}},_onLoadEnd:function(){this.emit("loadEnd")},_onAbort:function(){this.emit("abort")},_onTimeout:function(){this.emit("timeout");this.emit("fail")},_onError:function(){this.emit("error");this.emit("fail")},_onProgress:function(){this.emit("progress")}}});qx.bom.request.SimpleXhr.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Json":{require:!0},"qx.xml.Document":{require:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.ResponseParser",{construct:function(e){void 0!==e&&this.setParser(e)},statics:{PARSER:{json:qx.lang.Json.parse,xml:qx.xml.Document.fromString}},members:{__parser:null,parse:function(e,t){var i=this._getParser(t);return"function"==typeof i&&""!==e?i.call(this,e):e},setParser:function(e){if("function"==typeof qx.util.ResponseParser.PARSER[e])return this.__parser=qx.util.ResponseParser.PARSER[e];qx.core.Assert.assertFunction(e);return this.__parser=e},_getParser:function(e){var t,i=this.__parser,n="";if(i)return i;t=(n=e||"").replace(/;.*$/,"");/^application\/(\w|\.)*\+?json$/.test(t)&&(i=qx.util.ResponseParser.PARSER.json);/^application\/xml$/.test(t)&&(i=qx.util.ResponseParser.PARSER.xml);/[^\/]+\/[^\+]+\+xml$/.test(n)&&(i=qx.util.ResponseParser.PARSER.xml);return i}}});qx.util.ResponseParser.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.request.Xhr":{},"qx.bom.client.Engine":{},"qx.lang.Function":{},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.request.Xhr",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],statics:{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},members:{fakedXhr:null,fakeReqs:null,req:null,setUp:function(){this.fakeNativeXhr();this.req=new qx.bom.request.Xhr},tearDown:function(){this.req=null;this.getSandbox().restore()},"test: create instance":function(){this.assertObject(this.req)},"test: detect native XHR":function(){var e=this.req.getRequest();this.assertObject(e);this.assertNotNull(e.readyState)},"test: open request":function(){var e=this.getFakeReq();this.spy(e,"open");this.req.open("GET","/foo");this.assertCalledWith(e.open,"GET","/foo")},"test: open request throws when missing arguments":function(){var e=this.req,t=/Not enough arguments/;this.assertException(function(){e.open()},Error,t);this.assertException(function(){e.open("GET")},Error,t)},"test: open async request on default":function(){var e=this.getFakeReq();this.spy(e,"open");this.req.open(null,null);this.assertTrue(e.open.args[0][2],"async must be true")},"test: open sync request":function(){var e=this.getFakeReq();this.spy(e,"open");this.req.open(null,null,!1);this.assertFalse(e.open.args[0][2],"async must be false")},"test: open request with username and password":function(){var e=this.getFakeReq();this.spy(e,"open");this.req.open(null,null,null,"affe","geheim");this.assertEquals("affe",e.open.args[0][3],"Unexpected user");this.assertEquals("geheim",e.open.args[0][4],"Unexpected password")},"test: set request header":function(){var e=this.getFakeReq();this.spy(e,"setRequestHeader");this.req.open("GET","/");this.req.setRequestHeader("header","value");this.assertCalledWith(e.setRequestHeader,"header","value")},"test: send() with data":function(){var e=this.getFakeReq();this.spy(e,"send");this.req.open("GET","/affe");this.req.send("AFFE");this.assertCalledWith(e.send,"AFFE")},"test: send() without data":function(){var e=this.getFakeReq();this.spy(e,"send");this.req.open("GET","/affe");this.req.send();this.assertCalledWith(e.send,null)},"test: abort() aborts native Xhr":function(){var e=this.req,t=this.getFakeReq();this.spy(t,"abort");e.abort();this.assertCalled(t.abort)},"test: abort() resets readyState":function(){var e=this.req;e.open("GET","/");e.abort();this.assertEquals(this.constructor.UNSENT,e.readyState,"Must be UNSENT")},"test: call event handler":function(){var e=this.req;e.onevent=this.spy();e._emit("event");this.assertCalled(e.onevent)},"test: fire event":function(){var e=this.req,t=this.spy();e.onevent=this.spy();e.on("event",t);e._emit("event");this.assertCalled(t)},"test: responseText set before onreadystatechange is called":function(){var e=this.req,t=this.getFakeReq(),i=this;e.onreadystatechange=function(){i.assertEquals("Affe",e.responseText)};t.responseText="Affe";t.readyState=4;t.responseHeaders={};t.onreadystatechange()},"test: emit readystatechange when reopened":function(){var e=this.req,t=this.getFakeReq();this.stub(e,"_emit");e.open("GET","/");e.send();t.respond();e.open("GET","/");this.assertCalledWith(e._emit,"readystatechange")},"test: ignore onreadystatechange when readyState is unchanged":function(){var e=this.req,t=this.getFakeReq();this.spy(e,"onreadystatechange");e.readyState=this.constructor.OPENED;t.onreadystatechange();t.onreadystatechange();this.assertCalledOnce(e.onreadystatechange)},"test: native onreadystatechange is disposed once DONE":function(){var e=this.req,t=this.getFakeReq();e.onreadystatechange=function(){return"OP"};e.open("GET","/");e.send();t.respond();this.assertUndefined(e.getRequest().onreadystatechange())},"test: emit load on successful request":function(){var e=this.req,t=this.getFakeReq();this.stub(e._emitter,"emit");e.open("GET","/");e.send();t.respond(200,{},"RESPONSE");this.assertCalledWith(e._emitter.emit,"load");this.assertEquals(6,e._emitter.emit.callCount)},"test: emit abort":function(){var e=this.req;this.spy(e,"_emit");e.open("GET","/");e.send();e.abort();this.assertCalledWith(e._emit,"abort")},"test: emit abort before loadend":function(){var e=this.req,t=this.stub(e,"_emit"),i=t.withArgs("abort"),n=t.withArgs("loadend");e.open("GET","/");e.send();e.abort();this.assertCallOrder(i,n)},"test: emit timeout":function(){var e=this.req,t=this.stub(e,"_emit").withArgs("timeout");e.timeout=10;e.open("GET","/");e.send();this.wait(20,function(){this.assertCalledOnce(t)},this)},"test: not emit error when timeout":function(){"opera"===qx.core.Environment.get("engine.name")&&this.skip();var e=this.req,t=this.stub(e,"_emit").withArgs("error");e.timeout=10;e.open("GET","/");e.send();this.wait(20,function(){this.assertNotCalled(t)},this)},"test: not emit error when aborted immediately":function(){var e=this.req,t=this.stub(e,"_emit").withArgs("error");e.open("GET","/");e.send();e.abort();this.assertNotCalled(t)},"test: cancel timeout when DONE":function(){var e=this.getFakeReq(),t=this.req;this.spy(t,"ontimeout");t.timeout=10;t.open("GET","/");t.send();e.respond();this.wait(20,function(){this.assertNotCalled(t.ontimeout)},this)},"test: cancel timeout when handler throws":function(){var e=this.getFakeReq(),t=this.req;this.spy(t,"ontimeout");t.timeout=10;t.open("GET","/");t.send();t.onreadystatechange=function(){if(4===t.readyState){t.onreadystatechange=function(){};throw new Error}};try{e.respond()}catch(e){}finally{this.wait(20,function(){this.assertNotCalled(t.ontimeout)},this)}},"test: fire loadend when request complete":function(){var e=this.req,t=this.getFakeReq(),i=this.stub(e,"_emit").withArgs("loadend");e.open("GET","/");e.send();t.respond();this.assertCalled(i)},"test: set readyState appropriate to native readyState":function(){var e=this.req,t=this.getFakeReq();this.assertEquals(this.constructor.UNSENT,e.readyState);e.open("GET","/affe");this.assertEquals(this.constructor.OPENED,e.readyState);e.send();t.respond(this.constructor.DONE);this.assertEquals(this.constructor.DONE,e.readyState)},"test: responseText is empty string when OPEN":function(){this.req.open("GET","/affe");this.assertIdentical("",this.req.responseText)},"test: responseText is empty string when reopened":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");t.send();e.respond(200,{"Content-Type":"text/html"},"Affe");t.open("GET","/elefant");this.assertIdentical("",t.responseText)},"test: responseText is set when DONE":function(){var e=this.req,t=this.getFakeReq();e.open("GET","/");e.send();t.respond(200,{"Content-Type":"text/html"},"Affe");this.assertEquals("Affe",e.responseText)},"test: query responseText when available":function(){var e=this,t=this.req,i=this.getFakeReq();function n(n){i.readyState=n;i.responseText="YIPPIE";i.responseHeaders={};i.onreadystatechange();e.assertEquals("YIPPIE",t.responseText,"When readyState is "+n)}n(this.constructor.DONE);if(!this.isIEBelow(9)){n(this.constructor.HEADERS_RECEIVED);n(this.constructor.LOADING)}},"test: not query responseText if unavailable":function(){var e=this,t=this.req,i=this.getFakeReq();function n(n){i.readyState=n;i.responseText="BOGUS";i.onreadystatechange();e.assertNotEquals("BOGUS",t.responseText,"When readyState is "+n)}if(this.isIEBelow(9)){n(this.constructor.UNSENT);n(this.constructor.OPENED);n(this.constructor.HEADERS_RECEIVED);n(this.constructor.LOADING)}},"test: responseXML is null when not DONE":function(){this.assertNull(this.req.responseXML)},"test: responseXML is null when reopened":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");t.send();e.respond(200,{"Content-Type":"application/xml"},"<affe></affe>");t.open("GET","/");this.assertNull(t.responseXML)},"test: responseXML is parsed document with XML response":function(){var e=this.req,t=this.getFakeReq();e.open("GET","/");e.send();t.respond(200,{"Content-Type":"application/xml"},"<animals><monkey/><mouse/></animals>");this.assertObject(e.responseXML)},"test: http status is 0 when UNSENT":function(){this.assertIdentical(0,this.req.status)},"test: http status is 0 when OPENED":function(){var e=this.req;e.open("GET","/");this.assertIdentical(0,e.status)},"test: http status is 0 when aborted immediately":function(){this.require(["http"]);var e=this.req;e.open("GET","/");e.send();e.abort();this.assertIdentical(0,e.status)},"test: http status when DONE":function(){var e=this.req,t=this.getFakeReq();e.open("GET","/");t.respond(200);this.assertIdentical(200,e.status)},"test: statusText is empty string when UNSENT":function(){this.assertIdentical("",this.req.statusText)},"test: statusText is set when DONE":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");e.respond(200);this.assertIdentical("OK",t.statusText)},"test: status is set when LOADING":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");e.readyState=this.constructor.LOADING;e.status=200;e.responseHeaders={};e.onreadystatechange();this.assertIdentical(200,t.status)},"test: reset status when reopened":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");e.respond(200);t.open("GET","/");this.assertIdentical(0,t.status);this.assertIdentical("",t.statusText)},"test: normalize status 1223 to 204":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");t.send();e.respond(1223);this.assertIdentical(204,t.status)},"test: normalize status 0 to 200 when DONE and file protocol":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");t.send();this.stub(t,"_getProtocol").returns("file:");e.respond(0,{},"Response");this.assertEquals(200,t.status)},"test: keep status 0 when not yet DONE and file protocol":function(){var e=this.getFakeReq(),t=this.req;this.stub(t,"_getProtocol").returns("file:");t.open("GET","/");e.readyState=3;e.onreadystatechange();this.assertEquals(0,t.status)},"test: keep status 0 when DONE with network error and file protocol":function(){var e=this.getFakeReq(),t=this.req;t.open("GET","/");t.send();this.stub(t,"_getProtocol").returns("file:");e.readyState=4;e.responseText="";e.onreadystatechange();this.assertEquals(0,t.status)},"test: read protocol from requested URL when it contains protocol":function(){var e=this.req;e.open("GET","http://example.org/index.html");this.assertEquals("http:",e._getProtocol())},"test: read protocol from window if requested URL is without protocol":function(){this.require(["http"]);var e=this.req;e.open("GET","index.html");this.assertMatch(e._getProtocol(),/https?:/)},"test: getResponseHeader()":function(){var e=this.getFakeReq();e.open();e.setResponseHeaders({key:"value"});var t=this.req.getResponseHeader("key");this.assertEquals("value",t)},"test: getAllResponseHeaders()":function(){var e=this.getFakeReq();e.open();e.setResponseHeaders({key1:"value1",key2:"value2"});var t=this.req.getAllResponseHeaders();this.assertMatch(t,/key1: value1/);this.assertMatch(t,/key2: value2/)},"test: dispose() deletes native Xhr":function(){this.req.dispose();this.assertNull(this.req.getRequest())},"test: dispose() aborts":function(){var e=this.req;this.spy(e,"abort");this.req.dispose();this.assertCalled(e.abort)},"test: isDisposed()":function(){this.assertFalse(this.req.isDisposed());this.req.dispose();this.assertTrue(this.req.isDisposed())},"test: invoking public method throws when disposed":function(){var e=this.req,t=qx.lang.Function.bind(function(e){this.assertException(qx.lang.Function.bind(e,this),Error,/Already disposed/)},this);this.req.dispose();t(function(){e.open("GET","/")});t(function(){e.setRequestHeader()});t(function(){e.send()});t(function(){e.abort()});t(function(){e.getResponseHeader()});t(function(){e.getAllResponseHeaders()})},fakeNativeXhr:function(){this.fakedXhr=this.useFakeXMLHttpRequest();this.req&&(this.req=new qx.bom.request.Xhr)},getFakeReq:function(){return this.getRequests().slice(-1)[0]},isIEBelow:function(e){var t=qx.core.Environment.get("engine.name"),i=qx.core.Environment.get("engine.version");return"mshtml"==t&&i<e},isFFBelow:function(e){var t=qx.core.Environment.get("engine.name"),i=qx.core.Environment.get("browser.version");return"gecko"==t&&parseFloat(i)<e},hasIEBelow9:function(){return this.isIEBelow(9)},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.bom.request.Xhr.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.request.Xhr":{},"qx.event.Timer":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.request.XhrWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.test.io.MRemoteTest,qx.dev.unit.MMock,qx.dev.unit.MRequirements],construct:function(){qx.dev.unit.TestCase.constructor.call(this)},members:{req:null,setUp:function(){this.req=new qx.bom.request.Xhr},tearDown:function(){this.req.dispose()},"test: GET with event attribute handler":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(t));var i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){i.assertEquals(e.responseText,"SAMPLE")})};e.send();this.wait()},"test: GET with event":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(t));var i=this;e.on("readystatechange",function(){4==e.readyState&&i.resume(function(){i.assertEquals(e.responseText,"SAMPLE")})});e.send();this.wait()},"test: GET XML":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.xml");e.open("GET",this.noCache(t));var i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){i.assertObject(e.responseXML.documentElement,"Must be XML object")})};e.send();this.wait()},"test: handle arbitrary XML":function(){this.require(["php"]);var e=this.getUrl("qx/test/xmlhttp/xml.php"),t=this.req;t.open("GET",this.noCache(e));var i=this;t.onreadystatechange=function(){4==t.readyState&&i.resume(function(){i.assertObject(t.responseXML.documentElement,"Must be XML object")})};t.send();this.wait()},"test: handle invalid XML":function(){var e=this.getUrl("qx/test/xmlhttp/invalid.xml"),t=this.req,i=this;t.onreadystatechange=function(){4==t.readyState&&i.resume(function(){t.responseXML})};t.open("GET",e);t.send();this.wait()},"test: POST":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/echo_post_request.php");e.open("POST",this.noCache(t));e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){i.assertEquals('{"affe":"true"}',e.responseText)})};e.send("affe=true");this.wait()},"test: have readyState UNSENT":function(){var e=this.req;this.assertIdentical(0,e.readyState)},"test: have readyState OPENED":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/echo_post_request.php");e.open("GET",this.noCache(t));this.assertIdentical(1,e.readyState)},"test: abort pending request":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/echo_get_request.php");e.open("GET",this.noCache(t));e.abort();this.assertNotEquals(4,e.readyState,"Request must not complete")},"test: have status 200 when modified":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/echo_get_request.php");e.open("GET",this.noCache(t));var i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){i.assertEquals(200,e.status)})};e.send();this.wait()},"test: validate freshness":function(){this.require(["php","noIe"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/time.php"),i=function(){e.open("GET",t);e.send()},n=this,s=0,r=[];e.onload=function(){s+=1;r.push(e.responseText);s<2?i():n.resume(function(){n.assertNotEquals(r[0],r[1],"Response must differ")})};i();this.wait()},"test: open throws error with insecure method":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");this.assertException(function(){try{e.open("TRACE",t)}catch(e){throw Error()}})},"test: overrideMimeType content type unchanged":function(){this.require(["php","noIe"]);var e=this.req,t=this,i="?type="+encodeURIComponent("text/html;charset=iso-8859-1")+"&content=%83%65%83%58%83%67",n=this.getUrl("qx/test/xmlhttp/get_content.php")+i;e.onload=function(){t.resume(function(){t.assertEquals("text/html;charset=iso-8859-1",e.getResponseHeader("Content-Type"));t.assertEquals("ƒeƒXƒg",e.responseText)})};e.open("GET",n);e.send();this.wait()},"test: overrideMimeType content type override":function(){this.require(["php","noIe"]);var e=this.req,t=this,i="?type="+encodeURIComponent("text/html;charset=iso-8859-1")+"&content=%83%65%83%58%83%67",n=this.getUrl("qx/test/xmlhttp/get_content.php")+i;e.onload=function(){t.resume(function(){t.assertEquals("テスト",e.responseText)})};e.open("GET",n);e.overrideMimeType("text/plain;charset=Shift-JIS");e.send();this.wait()},"test: progress to readyState DONE":function(){var e=this.req,t=[],i=this;e.onreadystatechange=function(){t.push(e.readyState);4==e.readyState&&i.resume(function(){i.assertArrayEquals([1,2,3,4],t)})};var n=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(n));e.send();this.wait()},"test: progress to readyState DONE when sync":function(){var e=this.req,t=[];e.onreadystatechange=function(){t.push(e.readyState)};var i=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(i),!1);e.send();this.assertArrayEquals([1,4],t)},"test: progress to readyState DONE when from cache":function(){var e=this.req,t=this.noCache(this.getUrl("qx/test/xmlhttp/sample.txt")),i=[],n=this;e.onreadystatechange=function(){4==e.readyState&&n.resume(function(){var e=new qx.bom.request.Xhr;e.onreadystatechange=function(){i.push(e.readyState);4==e.readyState&&n.resume(function(){n.assertArrayEquals([1,2,3,4],i)})};e.open("GET",t);e.send();n.wait()})};e.open("GET",t);e.send();this.wait()},"test: have status 304 when cache is fresh":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/not_modified.php"),i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){i.assertIdentical(304,e.status)})};e.open("GET",t);e.setRequestHeader("If-None-Match",'"4893a3a-b0-49ea970349b00"');e.send();this.wait()},"test: allow many requests with same object":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt"),i=0,n=this;function s(){e.open("GET",n.noCache(t));e.send()}e.onreadystatechange=function(){4==e.readyState&&n.resume(function(){if(++i<3){s();this.wait()}else n.assertEquals(3,i)})};s();this.wait()},"test: call onreadystatechange for OPEN":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt"),i=this,n=0;e.onreadystatechange=function(){1==e.readyState&&(n+=1);4==e.readyState&&i.resume(function(){i.assertEquals(1,n)})};e.open("GET",this.noCache(t));e.send();this.wait()},"test: not call onreadystatechange when aborting OPENED":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(t));this.spy(e,"onreadystatechange");e.abort();this.wait(100,function(){this.assertNotCalled(e.onreadystatechange)},this)},"test: call onreadystatechange when aborting LOADING":function(){this.require(["php","noIe9"]);var e=this.req,t=this;e.onreadystatechange=function(){4==e.readyState&&t.resume()};var i=this.getUrl("qx/test/xmlhttp/loading.php");e.open("GET",i+"?duration=100");e.send();window.setTimeout(function(){e.abort()},0);this.wait()},"test: call onloadend when aborting LOADING":function(){this.require(["php","noIe9"]);var e=this.req,t=this;e.onloadend=function(){t.resume()};var i=this.getUrl("qx/test/xmlhttp/loading.php");e.open("GET",i+"?duration=100");e.send();window.setTimeout(function(){e.abort()},0);this.wait(15e3)},"test: call onerror on network error":function(){var e=this.req,t=this;e.onerror=function(){t.resume(function(){t.assertEquals(4,e.readyState)})};qx.event.Timer.once(function(){e.open("GET","http://fail.tld");e.send()},this,0);this.wait(15e3)},"test: call onerror on file error":function(){this.require(["file"]);var e=this.req,t=this;e.onerror=function(){t.resume(function(){t.assertEquals(4,e.readyState)})};e.open("GET","not-found");e.send();this.wait()},"test: throw error on network error when sync":function(){var e=this.req;e.open("GET","http://fail.tld",!1);this.assertException(function(){try{e.send()}catch(e){throw Error()}})},"test: not call ontimeout when DONE and sync":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");this.spy(e,"ontimeout");e.timeout=400;e.open("GET",t,!1);e.send();this.wait(function(){this.assertNotCalled(e.ontimeout)},500,this)},"test: timeout triggers timeout error":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/loading.php"),i=this;e.onloadend=function(){i.resume(function(){i.assertEquals(4,e.readyState);i.assertIdentical("",e.responseText);i.assertIdentical(null,e.responseXML);i.assertCallOrder(e.onreadystatechange,e.ontimeout,e.onloadend)})};e.timeout=100;e.open("GET",t+"?duration=100");e.send();this.spy(e,"onreadystatechange");this.spy(e,"onerror");this.spy(e,"ontimeout");this.spy(e,"onloadend");this.wait()},"test: timeout not call onabort":function(){this.require(["php"]);var e=this.req,t=this.getUrl("qx/test/xmlhttp/loading.php"),i=this;e.ontimeout=function(){i.resume(function(){i.assertNotCalled(e.onabort)})};e.timeout=100;e.open("GET",t+"?duration=100");e.send();this.spy(e,"onabort");this.wait()},"test: call onloadend on network error":function(){var e=this.req,t=this;e.onloadend=function(){t.resume()};qx.event.Timer.once(function(){e.open("GET","http://fail.tld");e.send()},this,0);this.wait(15e3)},"test: call handler in order when request successful":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt"),i=this;e.onloadend=function(){i.resume(function(){i.assertCallOrder(e.onreadystatechange,e.onload,e.onloadend)})};this.spy(e,"onreadystatechange");this.spy(e,"onload");this.spy(e,"onloadend");e.open("GET",t);e.send();this.wait()},"test: call handler in order when request failed":function(){var e=this.req,t=this;e.onloadend=function(){t.resume(function(){t.assertCallOrder(e.onreadystatechange,e.onerror,e.onloadend)})};this.spy(e,"onreadystatechange");this.spy(e,"onerror");this.spy(e,"onloadend");qx.event.Timer.once(function(){e.open("GET","http://fail.tld");e.send()},this,0);this.wait(15e3)},"test: dispose hard-working":function(){var e=this.req,t=this.getUrl("qx/test/xmlhttp/sample.txt");e.open("GET",this.noCache(t));var i=this;e.onreadystatechange=function(){4==e.readyState&&i.resume(function(){e.dispose()})};e.send();this.wait()},noCache:function(e){return e+"?nocache="+(new Date).valueOf()},hasNoIe:function(){return"mshtml"!==qx.core.Environment.get("engine.name")&&"edge"!==qx.core.Environment.get("browser.name")},hasNoIe9:function(){return"mshtml"!==qx.core.Environment.get("engine.name")||9!==qx.core.Environment.get("browser.documentmode")},hasFile:function(){return"file:"===location.protocol}}});qx.test.bom.request.XhrWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.request.SimpleXhr":{},"qx.bom.rest.Resource":{},"qx.lang.Function":{},"qx.lang.Json":{},"qx.core.Environment":{},"qx.dev.unit.RequirementError":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.rest.Resource",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{setUp:function(){this.setUpDoubleRequest();this.setUpResource()},setUpDoubleRequest:function(){"function"==typeof qx.bom.request.SimpleXhr.restore&&qx.bom.request.SimpleXhr.restore();var e=this.req=new qx.bom.request.SimpleXhr;e=this.shallowStub(e,qx.bom.request.SimpleXhr,["dispose","addListenerOnce","getTransport"]);this.injectStub(qx.bom.request,"SimpleXhr",e);this.__reqs=this.__reqs||[];this.__reqs.push(this.req);return e},setUpResource:function(){this.res&&this.res.dispose();var e=this.res=new qx.bom.rest.Resource;e.map("get","GET","/photos");e.map("post","POST","/photos")},tearDown:function(){this.getSandbox().restore();this.res.dispose();this.__reqs.forEach(function(e){e.dispose()})},"test: configure request receives pre-configured but unsent request":function(){var e=this.res;this.req;e.configureRequest(qx.lang.Function.bind(function(e){this.assertCalledWith(e.setMethod,"GET");this.assertCalled(e.setUrl,"/photos");this.assertNotCalled(e.send)},this));e.get()},"test: configure request receives invocation details":function(){var e,t=this.res,i=(this.req,{}),n={};e=this.spy(qx.lang.Function.bind(function(e,t,s,r){this.assertEquals("get",t,"Unexpected action");this.assertEquals(i,s,"Unexpected params");this.assertEquals(n,r,"Unexpected data")},this));t.configureRequest(e);t.get(i,n);this.assertCalled(e)},"test: map action":function(){var e;e=this.res._getRequestConfig("get");this.assertEquals("GET",e.method);this.assertEquals("/photos",e.url)},"test: map action when base URL":function(){var e,t=this.res;t.setBaseUrl("http://example.com");e=t._getRequestConfig("get");this.assertEquals("http://example.com/photos",e.url)},"test: map existing action":function(){var e,t=this.res;t.map("post","GET","/articles");e=t._getRequestConfig("post");this.assertEquals("/articles",e.url)},"test: map action creates method":function(){var e=this.res;this.req;this.assertFunction(e.get)},"test: map action throws when existing method":function(){this.require(["debug"]);var e=this.res;this.req;e.popular=function(){};this.assertException(function(){e.map("popular","GET","/photos/popular")},Error)},"test: map action does not throw when existing method is empty":function(){this.require(["debug"]);var e=this.res;this.req;e.get=function(){};e.map("get","GET","/photos/popular")},"test: dynamically created action forwards arguments":function(){var e=this.res;this.req;this.spy(e,"invoke");e.get({},1,2,3);this.assertCalledWith(e.invoke,"get",{},1,2,3)},"test: dynamically created action returns what invoke returns":function(){this.stub(this.res,"invoke").returns(1);this.assertEquals(1,this.res.get())},"test: map actions from description":function(){this.req;var e,t,i,n={};e={get:{method:"GET",url:"/photos"},create:{method:"POST",url:"/photos",check:n}};i=(t=new qx.bom.rest.Resource(e))._getRequestConfig("get");this.assertEquals("GET",i.method);this.assertEquals("/photos",i.url);i=t._getRequestConfig("create");this.assertEquals("POST",i.method);this.assertEquals("/photos",i.url);this.assertEquals(n,i.check);t.dispose()},"test: map action from description throws with non-object":function(){this.require(["debug"]);this.assertException(function(){new qx.bom.rest.Resource([])})},"test: map action from description throws with incomplete route":function(){this.require(["debug"]);this.res.dispose();this.assertException(function(){this.res=new qx.bom.rest.Resource({get:{method:"GET"}})},Error,"URL must be string for route 'get'")},"test: invoke action generically":function(){var e=this.res;this.req;e.invoke("get");this.assertSend()},"test: invoke action":function(){var e=this.res;this.req;e.get();this.assertSend()},"test: invoke action returns id of request":function(){var e=this.res;this.req.toHashCode.restore();this.assertNumber(e.invoke("get"))},"test: invoke action while other is in progress":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.post();this.assertCalledOnce(e.send);this.assertCalledOnce(t.send)},"test: invoke same action handles multiple requests":function(){var e,t,i=this.res,n=this.spy();i.addListener("getSuccess",n);e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.get();this.respond("",e);this.respond("",t);this.assertCalledTwice(n)},"test: invoke action with positional params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertCalledWith(t.setUrl,"/photos/1")},"test: invoke action with positional params that evaluate to false":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:0});this.assertCalledWith(t.setUrl,"/photos/0")},"test: invoke action with non-string params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:1});this.assertCalledWith(t.setUrl,"/photos/1")},"test: invoke action with params and data":function(){var e=this.res,t=this.req;e.map("put","PUT","/articles/{id}");e.put({id:"1"},{article:'{title: "Affe"}'});this.assertCalledWith(t.setRequestData,{article:'{title: "Affe"}'})},"test: invoke action with multiple positional params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}/comments/{commentId}");e.get({id:"1",commentId:"2"});this.assertCalledWith(t.setUrl,"/photos/1/comments/2")},"test: invoke action with positional params in query":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}/comments?id={commentId}");e.get({id:"1",commentId:"2"});this.assertCalledWith(t.setUrl,"/photos/1/comments?id=2")},"test: invoke action with undefined params":function(){var e=this.res,t=this.req;e.get();this.assertCalled(t.send)},"test: invoke action with null params":function(){var e=this.res,t=this.req;e.get(null);this.assertCalled(t.send)},"test: invoke action when content type json":function(){var e=this.res,t=this.req;t.setRequestHeader.restore();t.getRequestHeader.restore();e.configureRequest(function(e){e.setRequestHeader("Content-Type","application/json")});this.spy(qx.lang.Json,"stringify");var i={location:"Karlsruhe"};e.map("post","POST","/photos/{id}/meta");e.post({id:1},i);this.assertCalledWith(t.setRequestData,'{"location":"Karlsruhe"}');this.assertCalledWith(qx.lang.Json.stringify,i)},"test: invoke action when content type json and get":function(){var e=this.res,t=this.req;t.setMethod.restore();t.getMethod.restore();this.spy(qx.lang.Json,"stringify");t.getRequestHeader.withArgs("Content-Type").returns("application/json");e.get();this.assertNotCalled(qx.lang.Json.stringify)},"test: invoke action for url with port":function(){var e=this.res,t=this.req;e.map("get","GET","http://example.com:8080/photos/{id}");e.get({id:"1"});this.assertCalledWith(t.setUrl,"http://example.com:8080/photos/1")},"test: invoke action for relative url":function(){var e=this.res,t=this.req;e.map("get","GET","{page}");e.get({page:"index"});this.assertCalledWith(t.setUrl,"index")},"test: invoke action for relative url with dots":function(){var e=this.res,t=this.req;e.map("get","GET","../{page}");e.get({page:"index"});this.assertCalledWith(t.setUrl,"../index")},"test: invoke action for route with check":function(){var e=this.res;e.map("get","GET","/photos/zoom/{id}",{id:/\d+/});e.get({id:"123"});this.assertSend("GET","/photos/zoom/123")},"test: invoke action fills in empty string when missing param and no default":function(){var e=this.res;e.map("get","GET","/photos/{tag}");e.get();this.assertSend("GET","/photos/")},"test: invoke action fills in default when missing param":function(){var e=this.res;e.map("get","GET","/photos/{tag=recent}/{size}");e.get({size:"large"});this.assertSend("GET","/photos/recent/large")},"test: invoke action throws when missing required positional param":function(){var e=this.res;e.map("get","GET","/photos/{tag}",{tag:qx.bom.rest.Resource.REQUIRED});this.assertException(function(){e.get()},Error,"Missing parameter 'tag'")},"test: invoke action throws when missing required request param":function(){var e=new qx.bom.rest.Resource;e.map("post","POST","/photos/",{photo:qx.bom.rest.Resource.REQUIRED});this.assertException(function(){e.post()},Error,"Missing parameter 'photo'")},"test: invoke action throws when param not match check":function(){var e=this.res;e.map("get","GET","/photos/{id}",{id:/\d+/});this.assertException(function(){e.get({id:"FAIL"})},Error,"Parameter 'id' is invalid")},"test: invoke action ignores invalid check in production":function(){this.require(["debug"]);var e=this.res;this.stub(qx.core.Environment,"get").withArgs("qx.debug").returns(!1);e.map("get","GET","/photos/{id}",{id:""});e.get({id:1})},"test: abort action":function(){var e=this.res,t=this.req;e.get();e.abort("get");this.assertCalledOnce(t.abort)},"test: abort action when multiple requests":function(){var e,t,i=this.res;e=this.setUpDoubleRequest();i.get();t=this.setUpDoubleRequest();i.get();i.abort("get");this.assertCalledOnce(e.abort);this.assertCalledOnce(t.abort)},"test: abort by action id":function(){var e=this.res,t=this.req;t.toHashCode.restore();var i=e.get();e.abort(i);this.assertCalledOnce(t.abort)},"test: refresh action":function(){var e=this.res;this.req;e.get();this.assertSend();e.refresh("get");this.assertSend()},"test: refresh action replaying previous params":function(){var e=this.res;this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertSend("GET","/photos/1");e.refresh("get");this.assertSend("GET","/photos/1")},"test: poll action":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.spy(e,"refresh");e.poll("get",10);this.respond();t.clock.tick(20);this.assertCalledWith(e.refresh,"get");this.assertCalledOnce(e.refresh)},"test: not poll action when no response received yet":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.spy(e,"refresh");e.poll("get",10);t.clock.tick(20);this.assertNotCalled(e.refresh)},"test: poll action immediately":function(){var e=this.res;this.spy(e,"invoke");e.poll("get",10,void 0,!0);this.assertCalled(e.invoke)},"test: poll action sets initial params":function(){var e=this.res;e.map("get","GET","/photos/{id}");this.stub(e,"invoke");e.poll("get",10,{id:"1"},!0);this.assertCalledWith(e.invoke,"get",{id:"1"})},"test: poll action replaying previous params":function(){var e=this.res;this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertSend("GET","/photos/1");e.poll("get");this.assertSend("GET","/photos/1")},"test: poll action repeatedly ends previous timer":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.stub(e,"refresh");e.poll("get",10);this.respond();t.clock.tick(20);e.poll("get",100);this.respond();t.clock.tick(100);this.assertCalledTwice(e.refresh)},"test: poll many actions":function(){var e,t,i,n=this.res,s=this.getSandbox();this.stub(this.req,"dispose");s.useFakeTimers();t=(e=this.spy(n,"refresh")).withArgs("get");i=e.withArgs("post");n.poll("get",10);n.poll("post",10);this.respond();s.clock.tick(20);this.assertCalledOnce(t);this.assertCalledOnce(i);this.req.dispose.restore();this.req.dispose()},"test: end poll action":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.spy(e,"refresh");e.poll("get",10);this.respond();t.clock.tick(30);e.stopPollByAction("get");t.clock.tick(100);this.assertCalledTwice(e.refresh)},"test: end poll action does not end polling of other action":function(){var e,t=this.res,i=this.getSandbox();i.useFakeTimers();e=this.spy(t,"refresh").withArgs("get");this.respond();t.poll("get",10);t.poll("post",10);i.clock.tick(20);t.stopPollByAction("post");i.clock.tick(10);this.assertCalledTwice(e)},"test: restart poll action":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.respond();e.poll("get",10);t.clock.tick(10);e.stopPollByAction("get");this.spy(e,"refresh");e.restartPollByAction("get");t.clock.tick(10);this.assertCalled(e.refresh)},"test: long poll action":function(){var e=this.res,t=this.req,i=[];qx.bom.request.SimpleXhr.restore();this.stub(t,"dispose");e.addListener("getSuccess",function(e){i.push(e.response)},this);e.longPoll("get");this.respondSubsequent("1",0,!0);this.respondSubsequent("2",1,!0);this.respondSubsequent("3",2,!0);this.assertArrayEquals(["1","2","3"],i)},"test: throttle long poll":function(){var e=this.res,t=this.req;this.stub(t,"dispose");this.spy(e,"refresh");this.stub(qx.bom.rest.Resource,"POLL_THROTTLE_COUNT","3");e.longPoll("get");for(var i=0;i<4;i++)this.respond();e.refresh=function(){throw new Error("With throttling in effect, must not make new request.")};this.respond()},"test: not throttle long poll when not received within limit":function(){var e=this.res,t=this.req,i=this.getSandbox();qx.bom.request.SimpleXhr.restore();this.stub(t,"dispose");i.useFakeTimers();e.longPoll("get");for(var n=0;n<31;n++){i.clock.tick(101);this.respondSubsequent(null,n)}this.spy(e,"refresh");i.clock.tick(101);this.respondSubsequent(null,n);this.assertCalled(e.refresh)},"test: not throttle long poll when not received subsequently":function(){var e=this.res,t=this.req,i=this.getSandbox();qx.bom.request.SimpleXhr.restore();this.stub(t,"dispose");i.useFakeTimers();e.longPoll("get");for(var n=0;n<30;n++)this.respondSubsequent(null,n);i.clock.tick(101);this.respondSubsequent(null,n++);this.spy(e,"refresh");for(var s=0;s<10;s++)this.respondSubsequent(null,n+s);this.assertCallCount(e.refresh,10)},"test: end long poll action":function(){var e,t=this.res,i=this.req;qx.bom.request.SimpleXhr.restore();this.stub(i,"dispose");this.spy(t,"refresh");e=t.longPoll("get");this.respondSubsequent(null,0);this.respondSubsequent(null,1);t.removeListenerById(e);this.respondSubsequent(null,2);this.assertCalledTwice(t.refresh)},"test: fire actionSuccess":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"getSuccess",function(){i.respond("Affe")},function(e){i.assertEquals("Affe",e.response);i.assertIdentical(t,e.request);i.assertEquals("get",e.action)})},"test: fire success":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"success",function(){i.respond("Affe")},function(e){i.assertEquals("Affe",e.response);i.assertIdentical(t,e.request);i.assertEquals("get",e.action)})},"test: fire actionError":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"getError",function(){i.respondError()},function(e){i.assertIdentical(t,e.request);i.assertEquals("get",e.action)})},"test: fire error":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"error",function(){i.respondError()},function(e){i.assertIdentical(t,e.request);i.assertEquals("get",e.action)})},"test: fire started":function(){qx.bom.request.SimpleXhr.restore();var e=this.res,t=(this.req,this.spy());e.on("started",t);e.get();window.setTimeout(function(){this.resume(function(){this.assertTrue(t.calledOnce)},this)}.bind(this),200);this.wait(500)},"test: dispose requests":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.post();this.spy(e,"dispose");this.spy(t,"dispose");i.dispose();this.assertCalled(e.dispose);this.assertCalled(t.dispose)},"test: dispose requests of same action":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.get();this.spy(e,"dispose");this.spy(t,"dispose");i.dispose();this.assertCalled(e.dispose);this.assertCalled(t.dispose)},"test: dispose request on loadEnd":function(){var e=this.res,t=this.req;this.spy(t,"dispose");e.get();this.respond();window.setTimeout(function(){this.resume(function(){this.assertCalledOnce(t.dispose)},this)}.bind(this),100);this.wait(200)},assertSend:function(e,t){var i=this.req;e=e||"GET";t=t||"/photos";this.assertCalledWith(i.setMethod,e);this.assertCalledWith(i.setUrl,t);this.assertCalled(i.send)},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)},hasDebug:function(){return!0},respond:function(e,t){t=t||this.req;e=e||"";t.isDone.returns(!0);t.getResponse.returns(e);t.emit("success");t.emit("loadEnd")},respondSubsequent:function(e,t,i){e=e||"";var n=void 0!==t,s="";Object.keys(this.res).forEach(function(e){0===e.indexOf("__")&&"get"in this.res[e]&&qx.lang.Type.isArray(this.res[e].get)&&qx.lang.Type.isObject(this.res[e].get[0])&&"$$hash"in this.res[e].get[0]&&(s=e)},this);if(n&&s){var r=this.res[s].get[t];if(i){this.stub(r,"isDone");this.stub(r,"getResponse");r.isDone.returns(!0);r.getResponse.returns(e)}r.emit("success");r.emit("loadEnd");this.res[s].get[t]=r}},respondError:function(){var e=this.req;e.emit("fail");e.emit("loadEnd")}}});qx.test.bom.rest.Resource.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.event.Emitter":{require:!0},"qx.core.IDisposable":{require:!0},"qx.core.Assert":{construct:!0},"qx.bom.request.Xhr":{},"qx.bom.request.SimpleXhr":{},"qx.lang.Type":{},"qx.lang.Function":{},"qx.util.Request":{},"qx.lang.Json":{},"qx.lang.Object":{}},environment:{provided:[],required:{"qx.debug.dispose.level":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.rest.Resource",{extend:qx.event.Emitter,implement:[qx.core.IDisposable],construct:function(e){this.__requests={};this.__routes={};this.__pollTimers={};this.__longPollHandlers={};try{if(void 0!==e){qx.core.Assert.assertMap(e);this.__mapFromDescription(e)}}catch(e){this.dispose();throw e}},events:{success:"qx.bom.rest.Resource",actionSuccess:"qx.bom.rest.Resource",error:"qx.bom.rest.Resource",actionError:"qx.bom.rest.Resource",sent:"qx.bom.rest.Resource",actionSent:"qx.bom.rest.Resource",started:"qx.bom.rest.Resource",actionStarted:"qx.bom.rest.Resource"},statics:{POLL_THROTTLE_LIMIT:100,POLL_THROTTLE_COUNT:30,REQUIRED:!0,placeholdersFromUrl:function(e){for(var t,i=/\{(\w+)(=\w+)?\}/g,n=[];t=i.exec(e);)n.push(t[1]);return n}},members:{__requests:null,__routes:null,__baseUrl:null,__pollTimers:null,__longPollHandlers:null,__configureRequestCallback:null,__requestHandler:null,__begetRequest:null,setRequestFactory:function(e){this.__begetRequest=e},setRequestHandler:function(e){this.__requestHandler=e},_getRequestHandler:function(){return null===this.__requestHandler?{onsuccess:{callback:function(e,t){return function(){var i={id:parseInt(e.toHashCode(),10),response:e.getResponse(),request:e,action:t};this.emit(t+"Success",i);this.emit("success",i)}},context:this},onfail:{callback:function(e,t){return function(){var i={id:parseInt(e.toHashCode(),10),response:e.getResponse(),request:e,action:t};this.emit(t+"Error",i);this.emit("error",i)}},context:this},onloadend:{callback:function(e,t){return function(){window.setTimeout(function(){e.dispose()},0)}},context:this},onreadystatechange:{callback:function(e,t){return function(){if(e.getTransport().readyState===qx.bom.request.Xhr.HEADERS_RECEIVED){var i={id:parseInt(e.toHashCode(),10),request:e,action:t};this.emit(t+"Sent",i);this.emit("sent",i)}if(e.getTransport().readyState===qx.bom.request.Xhr.OPENED){var n={id:parseInt(e.toHashCode(),10),request:e,action:t};this.emit(t+"Started",n);this.emit("started",n)}}},context:this},onprogress:{callback:function(e,t){return function(){var i={id:parseInt(e.toHashCode(),10),request:e,action:t,progress:{lengthComputable:e.getTransport().progress.lengthComputable,loaded:e.getTransport().progress.loaded,total:e.getTransport().progress.total}};this.emit(t+"Progress",i);this.emit("progress",i)}},context:this}}:this.__requestHandler},getRequestsByAction:function(e){return null!==this.__requests&&e in this.__requests?this.__requests[e]:null},configureRequest:function(e){this.__configureRequestCallback=e},_getRequest:function(){return null===this.__begetRequest?new qx.bom.request.SimpleXhr:this.__begetRequest()},__createRequest:function(e){var t=this._getRequest();qx.lang.Type.isArray(this.__requests[e])||(this.__requests[e]=[]);qx.core.ObjectRegistry.register(t);this.__requests[e].push(t);return t},map:function(e,t,i,n){this.__routes[e]=[t,i,n];this.__requests[e]=[];"get"==e&&(this[e]=void 0);if(void 0!==this[e]&&null!==this[e]&&!0!==this[e].action)throw new Error("Method with name of action ("+e+") already exists");this.__declareEvent(e+"Success");this.__declareEvent(e+"Error");this[e]=qx.lang.Function.bind(function(){Array.prototype.unshift.call(arguments,e);return this.invoke.apply(this,arguments)},this);this[e].action=!0},invoke:function(e,t,i){var n=this.__createRequest(e),s=(t=null==t?{}:t,this._getRequestConfig(e,t));this.__routes[e].params=t;this.__checkParameters(t,s.check);this.__configureRequest(n,s,i);this.__configureRequestCallback&&this.__configureRequestCallback.call(this,n,e,t,i);this.__configureJsonRequest(n,s,i);var r=this._getRequestHandler();n.addListenerOnce("success",r.onsuccess.callback(n,e),r.onsuccess.context);n.addListenerOnce("fail",r.onfail.callback(n,e),r.onfail.context);n.addListenerOnce("loadEnd",r.onloadend.callback(n,e),r.onloadend.context);r.hasOwnProperty("onreadystatechange")&&n.addListener("readystatechange",r.onreadystatechange.callback(n,e),r.onreadystatechange.context);r.hasOwnProperty("onprogress")&&n.addListener("progress",r.onprogress.callback(n,e),r.onprogress.context);n.send();return parseInt(n.toHashCode(),10)},setBaseUrl:function(e){this.__baseUrl=e},__checkParameters:function(e,t){if(void 0!==t){qx.core.Assert.assertObject(t,"Check must be object with params as keys");Object.keys(t).forEach(function(i){!0!==t[i]&&qx.core.Assert.assertRegExp(t[i]);if(t[i]===qx.bom.rest.Resource.REQUIRED&&void 0===e[i])throw new Error("Missing parameter '"+i+"'");if(t[i]&&"function"==typeof t[i].test&&!t[i].test(e[i]))throw new Error("Parameter '"+i+"' is invalid")})}},__configureRequest:function(e,t,i){e.setUrl(t.url);if(!e.setMethod&&"GET"!==t.method)throw new Error("Request ("+e.classname+") doesn't support other HTTP methods than 'GET'");e.setMethod&&e.setMethod(t.method);i&&e.setRequestData(i)},__configureJsonRequest:function(e,t,i){if(i){var n=e.getRequestHeader("Content-Type");if(e.getMethod&&qx.util.Request.methodAllowsRequestBody(e.getMethod())&&/application\/.*\+?json/.test(n)){i=qx.lang.Json.stringify(i);e.setRequestData(i)}}},abort:function(e){if(qx.lang.Type.isNumber(e)){var t=e,i=qx.core.ObjectRegistry.getPostId(),n=qx.core.ObjectRegistry.fromHashCode(t+i);n&&n.abort()}else{var s=e,r=this.__requests[s];this.__requests[s]&&r.forEach(function(e){e.abort()})}},refresh:function(e){this.invoke(e,this.__routes[e].params)},poll:function(e,t,i,n){this.__pollTimers[e]&&this.stopPollByAction(e);void 0===i&&(i=this.__routes[e].params);n&&this.invoke(e,i);var s,r=(s=this,function(){var t=s.__requests[e][0];n||t?(t.isDone()||t.isDisposed())&&s.refresh(e):s.invoke(e,i)});this._startPoll(e,r,t)},_startPoll:function(e,t,i){this.__pollTimers[e]={id:window.setInterval(t,i),interval:i,listener:t}},stopPollByAction:function(e){if(e in this.__pollTimers){var t=this.__pollTimers[e].id;window.clearInterval(t)}},restartPollByAction:function(e){if(e in this.__pollTimers){var t=this.__pollTimers[e];this.stopPollByAction(e);this._startPoll(e,t.listener,t.interval)}},longPoll:function(e){var t,i=this,n=0;var s=this.__longPollHandlers[e]=this.addListener(e+"Success",function(){if(!i.isDisposed()&&!function(){var e=t&&new Date-t<i._getThrottleLimit();if(e&&(n+=1)>i._getThrottleCount()){qx.Bootstrap.debug("Received successful response more than "+i._getThrottleCount()+" times subsequently, each within "+i._getThrottleLimit()+" ms. Throttling.");return!0}e||(n=0);return!1}()){t=new Date;i.refresh(e)}});this.invoke(e);return s},_getRequestConfig:function(e,t){var i=this.__routes[e];t=qx.lang.Object.clone(t);if(!qx.lang.Type.isArray(i))throw new Error("No route for action "+e);var n=i[0],s=null!==this.__baseUrl?this.__baseUrl+i[1]:i[1],r=i[2],o=qx.bom.rest.Resource.placeholdersFromUrl(s);t=t||{};o.forEach(function(e){var i=new RegExp("{"+e+"=?(\\w+)?}"),n=s.match(i)[1];void 0===t[e]&&(t[e]=n||"");s=s.replace(i,t[e])});return{method:n,url:s,check:r}},_getThrottleLimit:function(){return qx.bom.rest.Resource.POLL_THROTTLE_LIMIT},_getThrottleCount:function(){return qx.bom.rest.Resource.POLL_THROTTLE_COUNT},__mapFromDescription:function(e){Object.keys(e).forEach(function(t){var i=e[t],n=i.method,s=i.url,r=i.check;qx.core.Assert.assertString(n,"Method must be string for route '"+t+"'");qx.core.Assert.assertString(s,"URL must be string for route '"+t+"'");this.map(t,n,s,r)},this)},__declareEvent:function(e){this.constructor.$$events||(this.constructor.$$events={});this.constructor.$$events[e]||(this.constructor.$$events[e]="qx.bom.rest.Resource")},isDisposed:function(){return this.$$disposed||!1},dispose:function(){if(!this.$$disposed){this.$$disposed=!0;qx.core.Environment.get("qx.debug.dispose.level")>2&&qx.Bootstrap.debug(this,"Disposing "+this.classname+"["+this.toHashCode()+"]");this.destruct();if(qx.core.Environment.get("qx.debug.dispose.level")>0){var e,t;for(e in this)if(null!==(t=this[e])&&"object"===_typeof(t)&&!qx.Bootstrap.isString(t)){if(null!=this.constructor.prototype[e])continue;var i=-1!=navigator.userAgent.indexOf("rv:1.8.1"),n=-1!=navigator.userAgent.indexOf("MSIE 6.0");if(i||n){if(qx.core.Object&&t instanceof qx.core.Object||qx.core.Environment.get("qx.debug.dispose.level")>1){qx.Bootstrap.warn(this,"Missing destruct definition for '"+e+"' in "+this.classname+"["+this.toHashCode()+"]: "+t);delete this[e]}}else if(qx.core.Environment.get("qx.debug.dispose.level")>1){qx.Bootstrap.warn(this,"Missing destruct definition for '"+e+"' in "+this.classname+"["+this.toHashCode()+"]: "+t);delete this[e]}}}}},destruct:function(){var e;for(e in this.__requests)this.__requests[e]&&this.__requests[e].forEach(function(e){e.dispose()});if(this.__pollTimers)for(e in this.__pollTimers)this.stopPollByAction(e);if(this.__longPollHandlers)for(e in this.__longPollHandlers){var t=this.__longPollHandlers[e];this.removeListenerById(t)}this.__requests=this.__routes=this.__pollTimers=null}}});qx.bom.rest.Resource.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.bom.rest.Resource":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.rest.ResourceWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.test.io.MRemoteTest],members:{setUp:function(){this.require(["http"]);this.res=new qx.bom.rest.Resource},tearDown:function(){this.res.dispose()},"test: invoke action and handle response":function(){var e=this.getUrl("qx/test/xmlhttp/sample.txt"),t=this.res;t.map("get","GET",e);t.addListener("getSuccess",function(e){this.resume(function(){this.assertEquals("SAMPLE",e.response)},this)},this);t.get();this.wait()},"test: invoke action and handle failure":function(){var e=this.res;e.map("get","GET","/not-found");e.addListener("error",function(e){this.resume(function(){this.assertEquals("get",e.action)},this)},this);e.get();this.wait()},"test: poll action":function(){var e=this.getUrl("qx/test/xmlhttp/random.php"),t=this.res,i=0,n="";t.map("get","GET",e);t.addListener("getSuccess",function(e){var t=e.response;i++;this.assert(32===t.length,"Response must be MD5");this.assertNotEquals(n,t,"Response must be different from previous");n=t;i>=10&&this.resume()},this);t.poll("get",100);this.wait()},"test: long poll":function(){var e=this.res,t=this.getUrl("qx/test/xmlhttp/long_poll.php"),i=0,n=[];e.map("get","GET",t);e.addListener("getSuccess",function(e){var t=e.response;n.push(t);++i>=5&&this.resume(function(){this.assert(parseFloat(n[4])>parseFloat(n[0]),"Must increase")},this)},this);e.longPoll("get");this.wait()}}});qx.test.bom.rest.ResourceWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.storage.WebStorageTestCase",{type:"abstract",extend:qx.dev.unit.TestCase,members:{_storage:null,setUp:function(){this._storage=this._getStorage();this._storage.clear()},tearDown:function(){this._storage=null},testItem:function(){this.assertNull(this._storage.getItem("key1"));this._storage.setItem("key1","value1");this.assertEquals("value1",this._storage.getItem("key1"));this._storage.removeItem("key1");this.assertNull(this._storage.getItem("key1"));this._storage.setItem("key2",[1,"a"]);this.assertArrayEquals([1,"a"],this._storage.getItem("key2"));this._storage.setItem("key2",{a:1,b:"c"});this.assertMap({a:1,b:"c"},this._storage.getItem("key2"));this._storage.setItem("key2",12);this.assertEquals(12,this._storage.getItem("key2"))},testGetKey:function(){this._storage.setItem("key1","value");this.assertNotEquals(-1,Object.keys(this._storage.getStorage()).indexOf("key1"))},testLength:function(){this.assertEquals(0,this._storage.getLength());for(var e=0;e<10;e++)this._storage.setItem("key"+e,"value");this.assertEquals(10,this._storage.getLength())},testClear:function(){for(var e=0;e<10;e++)this._storage.setItem("key"+e,"value");this.assertEquals(10,this._storage.getLength());this._storage.clear();this.assertEquals(0,this._storage.getLength())},testForEach:function(){var e;for(e=0;e<10;e++)this._storage.setItem("key"+e,"value");e=0;this._storage.forEach(function(t,i){this.assertEquals(this._storage.getItem(t),i);e++},this);this.assertEquals(10,e)}}});qx.test.bom.storage.WebStorageTestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.storage.WebStorageTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.Storage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.storage.Local",{extend:qx.test.bom.storage.WebStorageTestCase,include:[qx.dev.unit.MRequirements],members:{_getStorage:function(){return qx.bom.Storage.getLocal()}}});qx.test.bom.storage.Local.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Html":{},"qx.bom.storage.Web":{},"qx.bom.storage.UserData":{},"qx.bom.storage.Memory":{}},environment:{provided:[],required:{"html.storage.local":{className:"qx.bom.client.Html"},"html.storage.userdata":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Storage",{statics:{__impl:null,getLocal:function(){return qx.core.Environment.get("html.storage.local")?qx.bom.storage.Web.getLocal():qx.core.Environment.get("html.storage.userdata")?qx.bom.storage.UserData.getLocal():qx.bom.storage.Memory.getLocal()},getSession:function(){return qx.core.Environment.get("html.storage.local")?qx.bom.storage.Web.getSession():qx.core.Environment.get("html.storage.userdata")?qx.bom.storage.UserData.getSession():qx.bom.storage.Memory.getSession()}}});qx.bom.Storage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Json":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.storage.Web",{statics:{__local:null,__session:null,getLocal:function(){return this.__local?this.__local:this.__local=new qx.bom.storage.Web("local")},getSession:function(){return this.__session?this.__session:this.__session=new qx.bom.storage.Web("session")}},construct:function(e){this.__type=e},members:{__type:null,getStorage:function(){return window[this.__type+"Storage"]},getLength:function(){return this.getStorage(this.__type).length},setItem:function(e,t){t=qx.lang.Json.stringify(t);try{this.getStorage(this.__type).setItem(e,t)}catch(e){throw new Error("Storage full.")}},getItem:function(e){var t=this.getStorage(this.__type).getItem(e);qx.lang.Type.isString(t)?t=qx.lang.Json.parse(t):t&&t.value&&qx.lang.Type.isString(t.value)&&(t=qx.lang.Json.parse(t.value));return t},removeItem:function(e){this.getStorage(this.__type).removeItem(e)},clear:function(){var e=this.getStorage(this.__type);if(e.clear)e.clear();else for(var t=e.length-1;t>=0;t--)e.removeItem(e.key(t))},getKey:function(e){return this.getStorage(this.__type).key(e)},forEach:function(e,t){for(var i=this.getLength(),n=0;n<i;n++){var s=this.getKey(n);e.call(t,s,this.getItem(s))}}}});qx.bom.storage.Web.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Json":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.storage.UserData",{statics:{__local:null,__session:null,__id:0,getLocal:function(){return this.__local?this.__local:this.__local=new qx.bom.storage.UserData("local")},getSession:function(){return this.__session?this.__session:this.__session=new qx.bom.storage.UserData("session")}},construct:function(e){this.__el=document.createElement("div");this.__el.style.display="none";document.getElementsByTagName("head")[0].appendChild(this.__el);this.__el.addBehavior("#default#userdata");this.__storeName=e;this.__el.load(this.__storeName);this.__storage={};this.__reference={};for(var t=this.__el.getAttribute("qx"+qx.bom.storage.UserData.__id);void 0!=t;){t=qx.lang.Json.parse(t);this.__storage[t.key]=t.value;this.__reference[t.key]="qx"+qx.bom.storage.UserData.__id;qx.bom.storage.UserData.__id++;t=this.__el.getAttribute("qx"+qx.bom.storage.UserData.__id)}},members:{__el:null,__storeName:"qxtest",__storage:null,__reference:null,getStorage:function(){return this.__storage},getLength:function(){return Object.keys(this.__storage).length},setItem:function(e,t){if(this.__reference[e])var i=this.__reference[e];else{i="qx"+qx.bom.storage.UserData.__id;qx.bom.storage.UserData.__id++}var n=qx.lang.Json.stringify({key:e,value:t});this.__el.setAttribute(i,n);this.__el.save(this.__storeName);this.__storage[e]=t;this.__reference[e]=i},getItem:function(e){return this.__storage[e]||null},removeItem:function(e){var t=this.__reference[e];if(void 0!=t){this.__el.removeAttribute(t);qx.bom.storage.UserData.__id--;delete this.__storage[e];delete this.__reference[e];var i="qx"+qx.bom.storage.UserData.__id;if(this.__el.getAttribute(i)){var n=this.__el.getAttribute("qx"+qx.bom.storage.UserData.__id);this.__el.removeAttribute(i);this.__el.setAttribute(t,n);var s=qx.lang.Json.parse(n).key;this.__reference[s]=t}this.__el.save(this.__storeName)}},clear:function(){for(var e in this.__reference)this.__el.removeAttribute(this.__reference[e]);this.__el.save(this.__storeName);this.__storage={};this.__reference={}},getKey:function(e){return Object.keys(this.__storage)[e]},forEach:function(e,t){for(var i=this.getLength(),n=0;n<i;n++){var s=this.getKey(n);e.call(t,s,this.getItem(s))}}}});qx.bom.storage.UserData.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Json":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.storage.Memory",{statics:{__local:null,__session:null,getLocal:function(){return this.__local?this.__local:this.__local=new qx.bom.storage.Memory},getSession:function(){return this.__session?this.__session:this.__session=new qx.bom.storage.Memory}},construct:function(){this.__storage={}},members:{__storage:null,getStorage:function(){return this.__storage},getLength:function(){return Object.keys(this.__storage).length},setItem:function(e,t){t=qx.lang.Json.stringify(t);this.__storage[e]=t},getItem:function(e){var t=this.__storage[e];qx.lang.Type.isString(t)&&(t=qx.lang.Json.parse(t));return t},removeItem:function(e){delete this.__storage[e]},clear:function(){this.__storage={}},getKey:function(e){return Object.keys(this.__storage)[e]},forEach:function(e,t){for(var i=this.getLength(),n=0;n<i;n++){var s=this.getKey(n);e.call(t,s,this.getItem(s))}}}});qx.bom.storage.Memory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.storage.WebStorageTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.Storage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.storage.Session",{extend:qx.test.bom.storage.WebStorageTestCase,include:[qx.dev.unit.MRequirements],members:{_getStorage:function(){return qx.bom.Storage.getSession()}}});qx.test.bom.storage.Session.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.webfonts.Abstract",{extend:qx.dev.unit.TestCase,members:{hasWebFontSupport:function(){var e=qx.core.Environment.get("browser.name"),t=qx.core.Environment.get("browser.version");return!("firefox"==e&&t<3.5||"opera"==e&&t<10)}}});qx.test.bom.webfonts.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.webfonts.Abstract":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.util.ResourceManager":{usage:"dynamic",require:!0},"qx.bom.webfonts.Manager":{},"qx.bom.webfonts.WebFont":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.webfonts.Manager",{extend:qx.test.bom.webfonts.Abstract,include:[qx.dev.unit.MRequirements],members:{__fontDefinitions:{finelinerScript:{family:"FinelinerScriptRegular",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.eot")]},fontawesome:{family:"FontAwesome",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fontawesome-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fontawesome-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fontawesome-webfont.eot")]},invalid:{family:"MonkeypooBold",source:["404.woff","404.ttf","404.eot"]}},__findRule:function(e){for(var t=new RegExp("@font-face.*?"+e,"m"),i=function(e){e=e.replace(/\n/g,"").replace(/\r/g,"");return!!t.exec(e)},n=0,s=document.styleSheets.length;n<s;n++){var r=document.styleSheets[n];if(r.cssText){if(i(r.cssText))return!0}else if(r.cssRules)for(var o=0,a=r.cssRules.length;o<a;o++)if(i(r.cssRules[o].cssText))return!0}return!1},setUp:function(){this.require(["webFontSupport"]);this.__nodesBefore=document.body.childNodes.length;this.__sheetsBefore=document.styleSheets.length;this.__manager=qx.bom.webfonts.Manager.getInstance()},tearDown:function(){this.__manager.dispose();qx.bom.webfonts.Manager.VALIDATION_TIMEOUT=5e3;delete qx.bom.webfonts.Manager.$$instance;this.__manager=null;this.assertEquals(this.__nodesBefore,document.body.childNodes.length,"Manager did not remove all nodes!");this.assertEquals(this.__sheetsBefore,document.styleSheets.length,"Manager did not remove stylesheet!")},"test: create rule for valid font":function(){(new qx.bom.webfonts.WebFont).set({size:18,family:["monospace"],sources:[this.__fontDefinitions.finelinerScript]});qx.event.Timer.once(function(){this.resume(function(){var e=this.__findRule(this.__fontDefinitions.finelinerScript.family);this.assertTrue(e,"@font-face rule not found in document styles!")},this)},this,2e3);this.wait(3e3)},"test: do not create rule for invalid font":function(){qx.bom.webfonts.Manager.VALIDATION_TIMEOUT=100;(new qx.bom.webfonts.WebFont).set({family:["monospace"],sources:[this.__fontDefinitions.invalid]});var e=this;window.setTimeout(function(){e.resume(function(){var e=this.__findRule(this.__fontDefinitions.invalid.family);this.assertFalse(e,"@font-face rule for invalid font found in document styles!")},e)},2e3);this.wait(3e3)},"test: load webfont whith custom comparisonString":function(){qx.bom.webfonts.Manager.VALIDATION_TIMEOUT=100;(new qx.bom.webfonts.WebFont).set({family:["fontawesome"],comparisonString:"",sources:[this.__fontDefinitions.fontawesome]});var e=this;window.setTimeout(function(){e.resume(function(){var e=this.__findRule(this.__fontDefinitions.fontawesome.family);this.assertTrue(e,"@font-face rule for custom comparisonString font not found in document styles!")},e)},2e3);this.wait(3e3)},"test: load webfont with custom version":function(){(new qx.bom.webfonts.WebFont).set({family:["monospace"],version:"1.0",sources:[this.__fontDefinitions.finelinerScript]});qx.event.Timer.once(function(){this.resume(function(){for(var e=!1,t=0;t<this.__fontDefinitions.finelinerScript.source.length&&!1===e;t++)e=this.__findRule(this.__fontDefinitions.finelinerScript.source[t]+"\\?1\\.0");this.assertTrue(e,"@font-face rule for custom version not found in document styles!")},this)},this,2e3);this.wait(3e3)}}});qx.test.bom.webfonts.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.bom.webfonts.Abstract":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.webfonts.Validator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.bom.webfonts.Validator",{extend:qx.test.bom.webfonts.Abstract,include:[qx.dev.unit.MRequirements],members:{setUp:function(){this.__nodesBefore=document.body.childNodes.length;this.require(["webFontSupport"]);this.__val=new qx.bom.webfonts.Validator},tearDown:function(){if(this.__val){this.__val.dispose();delete this.__val}qx.bom.webfonts.Validator.removeDefaultHelperElements();this.assertEquals(this.__nodesBefore,document.body.childNodes.length,"Validator did not clean up correctly!")},testValidFont:function(){this.__val.setFontFamily("monospace, courier");this.__val.addListener("changeStatus",function(e){var t=e.getData();this.resume(function(e){this.assertTrue(t.valid)},this)},this);var e=this;window.setTimeout(function(){e.__val.validate()},0);this.wait(1e3)},testInvalidFont:function(){this.__val.setFontFamily("zzzzzzzzzzzzzzz");this.__val.setTimeout(250);this.__val.addListener("changeStatus",function(e){var t=e.getData();this.resume(function(e){this.assertFalse(t.valid)},this)},this);var e=this;window.setTimeout(function(){e.__val.validate()},0);this.wait(500)}}});qx.test.bom.webfonts.Validator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.core.Widget":{},"qx.ui.container.Composite":{},"qx.core.Assert":{},"qx.core.AssertionError":{},"qx.core.Object":{},"qx.type.BaseString":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Assert",{extend:qx.dev.unit.TestCase,members:{testQxWidget:function(){var e=new qx.ui.core.Widget;this.assertQxWidget(e);e.dispose();var t=new qx.ui.container.Composite;this.assertQxWidget(t);t.dispose();this.assertException(function(){qx.core.Assert.assertQxWidget(!0)},qx.core.AssertionError,null,"1");this.assertException(function(){qx.core.Assert.assertQxWidget({})},qx.core.AssertionError,null,"2");var i=new qx.core.Object;this.assertException(function(){qx.core.Assert.assertQxWidget(i)},qx.core.AssertionError,null,"3");i.dispose()},testQxObject:function(){var e=new qx.core.Object;this.assertQxObject(e);e.dispose();var t=new qx.ui.core.Widget;this.assertQxObject(t);t.dispose();this.assertException(function(){qx.core.Assert.assertQxObject(!0)},qx.core.AssertionError,null,"1");this.assertException(function(){qx.core.Assert.assertQxObject({})},qx.core.AssertionError,null,"2");this.assertException(function(){qx.core.Assert.assertQxObject(new qx.type.BaseString)},qx.core.AssertionError,null,"2")},testCSSColor:function(){this.assertCssColor("red","red");this.assertCssColor("black","black");this.assertCssColor("aqua","rgb(0,255,255)");this.assertCssColor("rgb(159,123,147)","rgb(159,123,147)");this.assertException(function(){qx.core.Assert.assertCssColor("red",!0)},qx.core.AssertionError,null,"1");this.assertException(function(){qx.core.Assert.assertCssColor("red","reed")},qx.core.AssertionError,null,"2");this.assertException(function(){qx.core.Assert.assertCssColor("red","rgb(15,45,56)")},qx.core.AssertionError,null,"3");this.assertException(function(){qx.core.Assert.assertCssColor("grey","grey")},Error,null,"4")},testAssertElement:function(){this.assertElement(document.body);this.assertElement(document.createElement("div"));this.assertException(function(){qx.core.Assert.assertElement("test")},qx.core.AssertionError,null,"1");this.assertException(function(){qx.core.Assert.assertElement({})},qx.core.AssertionError,null,"2");this.assertException(function(){qx.core.Assert.assertElement(!0)},qx.core.AssertionError,null,"2");this.assertException(function(){qx.core.Assert.assertElement(window)},qx.core.AssertionError,null,"4")},testAssertArgumentsCount:function(){this.assertException(function(){!function(e,t){qx.core.Assert.assertArgumentsCount(arguments,2,2)}("1","2","3","4","5")},qx.core.AssertionError,/but found '5' arguments\./g)},testAssertEventFired:function(){var e=new qx.core.Object;this.assertEventFired(e,"xyz",function(){this.fireEvent("xyz")});this.assertException(function(){qx.core.Assert.assertEventFired(e,"xyz",function(){this.fireEvent("xyz1")})},qx.core.AssertionError)},testAssertEqualsFloat:function(){this.assertEqualsFloat(1,1);this.assertEqualsFloat(.3,.30000000000000004);this.assertException(function(){qx.core.Assert.assertEqualsFloat(1,1.0000001)},qx.core.AssertionError);this.assertException(function(){qx.core.Assert.assertEqualsFloat(1,9e-7)},qx.core.AssertionError);this.assertException(function(){qx.core.Assert.assertEqualsFloat(1.5,1.6)},qx.core.AssertionError,"Expected '1.5' to be equal with '1.6'!")},testAssertNotEqualsFloat:function(){this.assertNotEqualsFloat(1,1.0000001);this.assertNotEqualsFloat(1.5,1.6);this.assertNotEqualsFloat(1,9e-7);this.assertException(function(){qx.core.Assert.assertNotEqualsFloat(1,1)},qx.core.AssertionError);this.assertException(function(){qx.core.Assert.assertNotEqualsFloat(.3,.30000000000000004)},qx.core.AssertionError);this.assertException(function(){qx.core.Assert.assertNotEqualsFloat(1.5,1.5)},qx.core.AssertionError,"Expected '1.5' to be not equal with '1.5'!")}}});qx.test.core.Assert.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MLayoutHandling",{members:{setLayout:function(e){this._setLayout(e)},getLayout:function(){return this._getLayout()}},statics:{remap:function(e){e.getLayout=e._getLayout;e.setLayout=e._setLayout}}});qx.ui.core.MLayoutHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{defer:"runtime",require:!0},"qx.ui.core.MLayoutHandling":{defer:"runtime",require:!0},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.container.Composite",{extend:qx.ui.core.Widget,include:[qx.ui.core.MChildrenHandling,qx.ui.core.MLayoutHandling],construct:function(e){qx.ui.core.Widget.constructor.call(this);null!=e&&this._setLayout(e)},events:{addChildWidget:"qx.event.type.Data",removeChildWidget:"qx.event.type.Data"},members:{_afterAddChild:function(e){this.fireNonBubblingEvent("addChildWidget",qx.event.type.Data,[e])},_afterRemoveChild:function(e){this.fireNonBubblingEvent("removeChildWidget",qx.event.type.Data,[e])}},defer:function(e,t){qx.ui.core.MChildrenHandling.remap(t);qx.ui.core.MLayoutHandling.remap(t)}});qx.ui.container.Composite.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.io.remote.RequestQueue":{},"qx.event.GlobalError":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"qx.debug.io.remote":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.Request",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e,t,i){qx.core.Object.constructor.call(this);this.__requestHeaders={};this.__urlParameters={};this.__dataParameters={};this.__formFields={};void 0!==e&&this.setUrl(e);void 0!==t&&this.setMethod(t);void 0!==i&&this.setResponseType(i);this.setProhibitCaching(!0);this.__seqNum=++qx.io.remote.Request.__seqNum},events:{created:"qx.event.type.Event",configured:"qx.event.type.Event",sending:"qx.event.type.Event",receiving:"qx.event.type.Event",completed:"qx.io.remote.Response",aborted:"qx.event.type.Event",failed:"qx.io.remote.Response",timeout:"qx.io.remote.Response"},statics:{__seqNum:0,methodAllowsRequestBody:function(e){return"POST"==e||"PUT"==e}},properties:{url:{check:"String",init:""},method:{check:["GET","POST","PUT","HEAD","DELETE"],apply:"_applyMethod",init:"GET"},asynchronous:{check:"Boolean",init:!0},data:{check:"String",nullable:!0},username:{check:"String",nullable:!0},password:{check:"String",nullable:!0},state:{check:["configured","queued","sending","receiving","completed","aborted","timeout","failed"],init:"configured",apply:"_applyState",event:"changeState"},responseType:{check:["text/plain","text/javascript","application/json","application/xml","text/html"],init:"text/plain",apply:"_applyResponseType"},timeout:{check:"Integer",nullable:!0},prohibitCaching:{check:function(e){return"boolean"==typeof e||"no-url-params-on-post"===e},init:!0,apply:"_applyProhibitCaching"},crossDomain:{check:"Boolean",init:!1},fileUpload:{check:"Boolean",init:!1},transport:{check:"qx.io.remote.Exchange",nullable:!0},useBasicHttpAuth:{check:"Boolean",init:!1},parseJson:{check:"Boolean",init:!0}},members:{__requestHeaders:null,__urlParameters:null,__dataParameters:null,__formFields:null,__seqNum:null,send:function(){qx.io.remote.RequestQueue.getInstance().add(this)},abort:function(){qx.io.remote.RequestQueue.getInstance().abort(this)},reset:function(){switch(this.getState()){case"sending":case"receiving":this.error("Aborting already sent request!");case"queued":this.abort()}},isConfigured:function(){return"configured"===this.getState()},isQueued:function(){return"queued"===this.getState()},isSending:function(){return"sending"===this.getState()},isReceiving:function(){return"receiving"===this.getState()},isCompleted:function(){return"completed"===this.getState()},isAborted:function(){return"aborted"===this.getState()},isTimeout:function(){return"timeout"===this.getState()},isFailed:function(){return"failed"===this.getState()},__forwardEvent:qx.event.GlobalError.observeMethod(function(e){var t=e.clone();t.setTarget(this);this.dispatchEvent(t)}),_onqueued:function(e){this.setState("queued");this.__forwardEvent(e)},_onsending:function(e){this.setState("sending");this.__forwardEvent(e)},_onreceiving:function(e){this.setState("receiving");this.__forwardEvent(e)},_oncompleted:function(e){this.setState("completed");this.__forwardEvent(e);this.dispose()},_onaborted:function(e){this.setState("aborted");this.__forwardEvent(e);this.dispose()},_ontimeout:function(e){this.setState("timeout");this.__forwardEvent(e);this.dispose()},_onfailed:function(e){this.setState("failed");this.__forwardEvent(e);this.dispose()},_applyState:function(e,t){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("State: "+e)},_applyProhibitCaching:function(e,t){if(e){"no-url-params-on-post"!==e||"POST"!=this.getMethod()?this.setParameter("nocache",(new Date).valueOf()):this.removeParameter("nocache");this.setRequestHeader("Pragma","no-cache");this.setRequestHeader("Cache-Control","no-cache")}else{this.removeParameter("nocache");this.removeRequestHeader("Pragma");this.removeRequestHeader("Cache-Control")}},_applyMethod:function(e,t){qx.io.remote.Request.methodAllowsRequestBody(e)?this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):this.removeRequestHeader("Content-Type");var i=this.getProhibitCaching();this._applyProhibitCaching(i,i)},_applyResponseType:function(e,t){this.setRequestHeader("X-Qooxdoo-Response-Type",e)},setRequestHeader:function(e,t){this.__requestHeaders[e]=t},removeRequestHeader:function(e){delete this.__requestHeaders[e]},getRequestHeader:function(e){return this.__requestHeaders[e]||null},getRequestHeaders:function(){return this.__requestHeaders},setParameter:function(e,t,i){i?this.__dataParameters[e]=t:this.__urlParameters[e]=t},removeParameter:function(e,t){t?delete this.__dataParameters[e]:delete this.__urlParameters[e]},getParameter:function(e,t){return t?this.__dataParameters[e]||null:this.__urlParameters[e]||null},getParameters:function(e){return e?this.__dataParameters:this.__urlParameters},setFormField:function(e,t){this.__formFields[e]=t},removeFormField:function(e){delete this.__formFields[e]},getFormField:function(e){return this.__formFields[e]||null},getFormFields:function(){return this.__formFields},getSequenceNumber:function(){return this.__seqNum}},destruct:function(){this.setTransport(null);this.__requestHeaders=this.__urlParameters=this.__dataParameters=this.__formFields=null}});qx.io.remote.Request.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{usage:"dynamic",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.scroll.ScrollBar":{}},environment:{provided:["qx.nativeScrollBars"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.core.Environment.add("qx.nativeScrollBars",!1);qx.Mixin.define("qx.ui.core.scroll.MScrollBarFactory",{members:{_createScrollBar:function(e){return new qx.ui.core.scroll.ScrollBar(e)}}});qx.ui.core.scroll.MScrollBarFactory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.io.remote.Request":{require:!0},"qx.ui.core.scroll.MScrollBarFactory":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.client.Locale":{},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Plugin":{},"qx.bom.client.Flash":{},"qx.bom.client.Transport":{},"qx.bom.client.Html":{},"qx.bom.client.Stylesheet":{},"qx.bom.client.Xml":{},"qx.bom.client.Css":{},"qx.bom.client.PhoneGap":{},"qx.bom.client.Event":{},"qx.bom.client.EcmaScript":{},"qx.bom.client.Device":{},"qx.event.GlobalError":{},"qx.bom.client.Scroll":{},"qx.bom.client.CssAnimation":{},"qx.bom.client.CssTransform":{},"qx.bom.client.CssTransition":{}},environment:{provided:["affe"],required:{affe:{},"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"},"browser.quirksmode":{className:"qx.bom.client.Browser"},locale:{className:"qx.bom.client.Locale"},"locale.variant":{className:"qx.bom.client.Locale"},"os.name":{className:"qx.bom.client.OperatingSystem"},"os.version":{className:"qx.bom.client.OperatingSystem"},"plugin.quicktime":{className:"qx.bom.client.Plugin"},"plugin.quicktime.version":{className:"qx.bom.client.Plugin"},"plugin.skype":{className:"qx.bom.client.Plugin"},"plugin.windowsmedia":{className:"qx.bom.client.Plugin"},"plugin.windowsmedia.version":{className:"qx.bom.client.Plugin"},"plugin.divx":{className:"qx.bom.client.Plugin"},"plugin.divx.version":{className:"qx.bom.client.Plugin"},"plugin.silverlight":{className:"qx.bom.client.Plugin"},"plugin.silverlight.version":{className:"qx.bom.client.Plugin"},"plugin.flash":{className:"qx.bom.client.Flash"},"plugin.flash.version":{className:"qx.bom.client.Flash"},"plugin.flash.express":{className:"qx.bom.client.Flash"},"plugin.flash.strictsecurity":{className:"qx.bom.client.Flash"},"plugin.pdf":{className:"qx.bom.client.Plugin"},"plugin.pdf.version":{className:"qx.bom.client.Plugin"},"io.maxrequests":{className:"qx.bom.client.Transport"},"io.ssl":{className:"qx.bom.client.Transport"},"io.xhr":{className:"qx.bom.client.Transport"},"html.webworker":{className:"qx.bom.client.Html"},"html.geolocation":{className:"qx.bom.client.Html"},"html.audio":{className:"qx.bom.client.Html"},"html.audio.ogg":{className:"qx.bom.client.Html"},"html.audio.mp3":{className:"qx.bom.client.Html"},"html.audio.wav":{className:"qx.bom.client.Html"},"html.audio.aif":{className:"qx.bom.client.Html"},"html.audio.au":{className:"qx.bom.client.Html"},"html.video":{className:"qx.bom.client.Html"},"html.video.ogg":{className:"qx.bom.client.Html"},"html.video.h264":{className:"qx.bom.client.Html"},"html.video.webm":{className:"qx.bom.client.Html"},"html.storage.local":{className:"qx.bom.client.Html"},"html.storage.session":{className:"qx.bom.client.Html"},"html.storage.userdata":{className:"qx.bom.client.Html"},"html.classlist":{className:"qx.bom.client.Html"},"html.xpath":{className:"qx.bom.client.Html"},"html.xul":{className:"qx.bom.client.Html"},"html.canvas":{className:"qx.bom.client.Html"},"html.svg":{className:"qx.bom.client.Html"},"html.vml":{className:"qx.bom.client.Html"},"html.console":{className:"qx.bom.client.Html"},"html.stylesheet.createstylesheet":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.insertrule":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.deleterule":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.addimport":{className:"qx.bom.client.Stylesheet"},"html.stylesheet.removeimport":{className:"qx.bom.client.Stylesheet"},"html.element.contains":{className:"qx.bom.client.Html"},"html.element.compareDocumentPosition":{className:"qx.bom.client.Html"},"html.element.textcontent":{},"html.image.naturaldimensions":{className:"qx.bom.client.Html"},"html.history.state":{className:"qx.bom.client.Html"},"html.selection":{className:"qx.bom.client.Html"},"html.node.isequalnode":{className:"qx.bom.client.Html"},"xml.implementation":{className:"qx.bom.client.Xml"},"xml.domparser":{className:"qx.bom.client.Xml"},"xml.selectsinglenode":{className:"qx.bom.client.Xml"},"xml.selectnodes":{className:"qx.bom.client.Xml"},"xml.getelementsbytagnamens":{className:"qx.bom.client.Xml"},"xml.domproperties":{className:"qx.bom.client.Xml"},"xml.attributens":{className:"qx.bom.client.Xml"},"xml.createnode":{className:"qx.bom.client.Xml"},"xml.getqualifieditem":{className:"qx.bom.client.Xml"},"xml.createelementns":{className:"qx.bom.client.Xml"},"plugin.gears":{className:"qx.bom.client.Plugin"},"plugin.activex":{className:"qx.bom.client.Plugin"},"css.boxmodel":{className:"qx.bom.client.Css"},"css.placeholder":{className:"qx.bom.client.Css"},"css.rgba":{className:"qx.bom.client.Css"},"css.boxshadow":{className:"qx.bom.client.Css"},"css.borderradius":{className:"qx.bom.client.Css"},"css.borderimage":{className:"qx.bom.client.Css"},"css.borderimage.standardsyntax":{className:"qx.bom.client.Css"},"css.textoverflow":{className:"qx.bom.client.Css"},"css.userselect":{className:"qx.bom.client.Css"},"css.userselect.none":{className:"qx.bom.client.Css"},"css.usermodify":{className:"qx.bom.client.Css"},"css.appearance":{className:"qx.bom.client.Css"},"css.boxsizing":{className:"qx.bom.client.Css"},"css.inlineblock":{className:"qx.bom.client.Css"},"css.opacity":{className:"qx.bom.client.Css"},"css.gradient.linear":{className:"qx.bom.client.Css"},"css.gradient.filter":{className:"qx.bom.client.Css"},"css.gradient.radial":{className:"qx.bom.client.Css"},"css.gradient.legacywebkit":{className:"qx.bom.client.Css"},"css.alphaimageloaderneeded":{className:"qx.bom.client.Css"},"css.pointerevents":{className:"qx.bom.client.Css"},phonegap:{className:"qx.bom.client.PhoneGap"},"phonegap.notification":{className:"qx.bom.client.PhoneGap"},"event.touch":{className:"qx.bom.client.Event"},"event.help":{className:"qx.bom.client.Event"},"event.hashchange":{className:"qx.bom.client.Event"},"event.dispatchevent":{className:"qx.bom.client.Event"},"event.customevent":{className:"qx.bom.client.Event"},"event.mouseevent":{className:"qx.bom.client.Event"},"ecmascript.error.stacktrace":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.indexof":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.lastindexof":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.foreach":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.filter":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.map":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.some":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.every":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.reduce":{className:"qx.bom.client.EcmaScript"},"ecmascript.array.reduceright":{className:"qx.bom.client.EcmaScript"},"ecmascript.function.bind":{className:"qx.bom.client.EcmaScript"},"ecmascript.object.keys":{className:"qx.bom.client.EcmaScript"},"ecmascript.date.now":{className:"qx.bom.client.EcmaScript"},"ecmascript.error.toString":{className:"qx.bom.client.EcmaScript"},"ecmascript.string.trim":{className:"qx.bom.client.EcmaScript"},"ecmascript.string.endsWith":{className:"qx.bom.client.EcmaScript"},"ecmascript.string.startsWith":{className:"qx.bom.client.EcmaScript"},"device.name":{className:"qx.bom.client.Device"},"device.type":{className:"qx.bom.client.Device"},"device.pixelRatio":{className:"qx.bom.client.Device"},"qx.allowUrlSettings":{},"qx.allowUrlVariants":{},"qx.application":{},"qx.debug.dispose.level":{},"qx.globalErrorHandling":{className:"qx.event.GlobalError"},"qx.debug.io.remote":{},"qx.debug.io.remote.data":{},"qx.mobile.nativescroll":{className:"qx.bom.client.Scroll"},"css.animation":{className:"qx.bom.client.CssAnimation"},"css.transform":{className:"qx.bom.client.CssTransform"},"css.transition":{className:"qx.bom.client.CssTransition"},"css.transform.3d":{className:"qx.bom.client.CssTransform"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Environment",{extend:qx.test.ui.LayoutTestCase,members:{testGet:function(){qx.core.Environment.getChecks().affe=function(){return"affe"};this.assertEquals("affe",qx.core.Environment.get("affe"));delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testGetAsync:function(){qx.core.Environment.getAsyncChecks().affe=function(e,t){window.setTimeout(function(){e.call(t,"affe")},0)};qx.core.Environment.getAsync("affe",function(e){this.resume(function(){this.assertEquals("affe",e);delete qx.core.Environment.getAsyncChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},this)},this);this.wait()},testSelect:function(){qx.core.Environment.getChecks().affe=function(){return"affe"};var e;e=qx.core.Environment.select("affe",{affe:"affe"});this.assertEquals(e,"affe");delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testSelectDefault:function(){qx.core.Environment.getChecks().affe=function(){return"affe"};var e;e=qx.core.Environment.select("affe",{default:"affe"});this.assertEquals(e,"affe");delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testSelectAsync:function(){qx.core.Environment.addAsync("affe",function(e,t){window.setTimeout(function(){e.call(t,"AFFE")},0)});qx.core.Environment.selectAsync("affe",{affe:function(e){this.resume(function(){delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe");this.assertEquals("AFFE",e)},this)}},this);this.wait()},testCache:function(){qx.core.Environment.getChecks().affe=function(){return"affe"};this.assertEquals("affe",qx.core.Environment.get("affe"));delete qx.core.Environment.getChecks().affe;this.assertEquals("affe",qx.core.Environment.get("affe"));qx.core.Environment.invalidateCacheKey("affe")},testCacheInvalidation:function(){qx.core.Environment.getChecks().affe=function(){return"affe"};this.assertEquals("affe",qx.core.Environment.get("affe"));qx.core.Environment.invalidateCacheKey("affe");qx.core.Environment.getChecks().affe=function(){return"affe2"};this.assertEquals("affe2",qx.core.Environment.get("affe"));delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testAddFunction:function(){qx.core.Environment.add("affe",function(){return"AFFE"});this.assertEquals("AFFE",qx.core.Environment.get("affe"));delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testAddValue:function(){qx.core.Environment.add("affe","AFFE");this.assertEquals("AFFE",qx.core.Environment.get("affe"));delete qx.core.Environment.getChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},testAddAsyncFunction:function(){qx.core.Environment.addAsync("affe",function(e,t){window.setTimeout(function(){e.call(t,"AFFE")},0)});qx.core.Environment.getAsync("affe",function(e){this.resume(function(){this.assertEquals("AFFE",e);delete qx.core.Environment.getAsyncChecks().affe;qx.core.Environment.invalidateCacheKey("affe")},this)},this);this.wait()},testFilter:function(){qx.core.Environment.getChecks().affe1=function(){return!0};qx.core.Environment.getChecks().affe2=function(){return!1};qx.core.Environment.getChecks().affe3=function(){return!0};var e=qx.core.Environment.filter({affe1:1,affe2:2,affe3:3});this.assertEquals(2,e.length);this.assertEquals(1,e[0]);this.assertEquals(3,e[1]);delete qx.core.Environment.getChecks().affe1;delete qx.core.Environment.getChecks().affe2;delete qx.core.Environment.getChecks().affe3;qx.core.Environment.invalidateCacheKey("affe1");qx.core.Environment.invalidateCacheKey("affe2");qx.core.Environment.invalidateCacheKey("affe3")},testEngineName:function(){this.assertNotEquals("",qx.core.Environment.get("engine.name"))},testEngineVersion:function(){this.assertNotEquals("",qx.core.Environment.get("engine.version"))},testBrowser:function(){this.assertNotEquals("",qx.core.Environment.get("browser.name"));this.assertNotEquals("",qx.core.Environment.get("browser.version"));qx.core.Environment.get("browser.documentmode");this.assertBoolean(qx.core.Environment.get("browser.quirksmode"))},testLocale:function(){this.assertNotEquals("",qx.core.Environment.get("locale"))},testVariant:function(){qx.core.Environment.get("locale.variant")},testOS:function(){this.assertString(qx.core.Environment.get("os.name"));this.assertString(qx.core.Environment.get("os.version"))},testQuicktime:function(){this.assertBoolean(qx.core.Environment.get("plugin.quicktime"));qx.core.Environment.get("plugin.quicktime.version")},testSkype:function(){this.assertBoolean(qx.core.Environment.get("plugin.skype"))},testWmv:function(){this.assertBoolean(qx.core.Environment.get("plugin.windowsmedia"));qx.core.Environment.get("plugin.windowsmedia.version")},testDivx:function(){this.assertBoolean(qx.core.Environment.get("plugin.divx"));qx.core.Environment.get("plugin.divx.version")},testSilverlight:function(){this.assertBoolean(qx.core.Environment.get("plugin.silverlight"));qx.core.Environment.get("plugin.silverlight.version")},testFlash:function(){this.assertBoolean(qx.core.Environment.get("plugin.flash"));qx.core.Environment.get("plugin.flash.version");this.assertBoolean(qx.core.Environment.get("plugin.flash.express"));this.assertBoolean(qx.core.Environment.get("plugin.flash.strictsecurity"))},testPdf:function(){this.assertBoolean(qx.core.Environment.get("plugin.pdf"));qx.core.Environment.get("plugin.pdf.version")},testIO:function(){qx.core.Environment.get("io.maxrequests");this.assertBoolean(qx.core.Environment.get("io.ssl"))},testIOXhr:function(){var e=qx.core.Environment.get("io.xhr");this.assertString(e);window.XMLHttpRequest&&"file:"!==window.location.protocol&&this.assertEquals("xhr",e)},testHtml:function(){this.assertBoolean(qx.core.Environment.get("html.webworker"));this.assertBoolean(qx.core.Environment.get("html.geolocation"));this.assertBoolean(qx.core.Environment.get("html.audio"));this.assertString(qx.core.Environment.get("html.audio.ogg"));this.assertString(qx.core.Environment.get("html.audio.mp3"));this.assertString(qx.core.Environment.get("html.audio.wav"));this.assertString(qx.core.Environment.get("html.audio.aif"));this.assertString(qx.core.Environment.get("html.audio.au"));this.assertBoolean(qx.core.Environment.get("html.video"));this.assertString(qx.core.Environment.get("html.video.ogg"));this.assertString(qx.core.Environment.get("html.video.h264"));this.assertString(qx.core.Environment.get("html.video.webm"));this.assertBoolean(qx.core.Environment.get("html.storage.local"));this.assertBoolean(qx.core.Environment.get("html.storage.session"));this.assertBoolean(qx.core.Environment.get("html.storage.userdata"));this.assertBoolean(qx.core.Environment.get("html.classlist"));this.assertBoolean(qx.core.Environment.get("html.xpath"));this.assertBoolean(qx.core.Environment.get("html.xul"));this.assertBoolean(qx.core.Environment.get("html.canvas"));this.assertBoolean(qx.core.Environment.get("html.svg"));this.assertBoolean(qx.core.Environment.get("html.vml"));this.assertBoolean(qx.core.Environment.get("html.console"));this.assertBoolean(qx.core.Environment.get("html.stylesheet.createstylesheet"));this.assertBoolean(qx.core.Environment.get("html.stylesheet.insertrule"));this.assertBoolean(qx.core.Environment.get("html.stylesheet.deleterule"));this.assertBoolean(qx.core.Environment.get("html.stylesheet.addimport"));this.assertBoolean(qx.core.Environment.get("html.stylesheet.removeimport"));this.assertBoolean(qx.core.Environment.get("html.element.contains"));this.assertBoolean(qx.core.Environment.get("html.element.compareDocumentPosition"));this.assertBoolean(qx.core.Environment.get("html.element.textcontent"));this.assertBoolean(qx.core.Environment.get("html.image.naturaldimensions"));this.assertBoolean(qx.core.Environment.get("html.history.state"));this.assertString(qx.core.Environment.get("html.selection"));this.assertBoolean(qx.core.Environment.get("html.node.isequalnode"))},testXml:function(){this.assertBoolean(qx.core.Environment.get("xml.implementation"));this.assertBoolean(qx.core.Environment.get("xml.domparser"));this.assertBoolean(qx.core.Environment.get("xml.selectsinglenode"));this.assertBoolean(qx.core.Environment.get("xml.selectnodes"));this.assertBoolean(qx.core.Environment.get("xml.getelementsbytagnamens"));this.assertBoolean(qx.core.Environment.get("xml.domproperties"));this.assertBoolean(qx.core.Environment.get("xml.attributens"));this.assertBoolean(qx.core.Environment.get("xml.createnode"));this.assertBoolean(qx.core.Environment.get("xml.getqualifieditem"));this.assertBoolean(qx.core.Environment.get("xml.createelementns"))},testGears:function(){this.assertBoolean(qx.core.Environment.get("plugin.gears"))},testActiveX:function(){this.assertBoolean(qx.core.Environment.get("plugin.activex"))},testCss:function(){this.assertNotEquals("",qx.core.Environment.get("css.boxmodel"));this.assertBoolean(qx.core.Environment.get("css.placeholder"));this.assertBoolean(qx.core.Environment.get("css.rgba"));var e=qx.core.Environment.get("css.boxshadow");this.assert("string"==typeof e||null===e);var t=qx.core.Environment.get("css.borderradius");this.assert("string"==typeof t||null===t);var i=qx.core.Environment.get("css.borderimage");this.assert("string"==typeof i||null===i);var n=qx.core.Environment.get("css.borderimage.standardsyntax");this.assert("boolean"==typeof n||null===n);var s=qx.core.Environment.get("css.textoverflow");this.assert("string"==typeof s||null===s);var r=qx.core.Environment.get("css.userselect");this.assert("string"==typeof r||null===r);var o=qx.core.Environment.get("css.userselect.none");this.assert("string"==typeof o||null===o);var a=qx.core.Environment.get("css.usermodify");this.assert("string"==typeof a||null===a);var l=qx.core.Environment.get("css.appearance");this.assert("string"==typeof l||null===l);var u=qx.core.Environment.get("css.boxsizing");this.assert("string"==typeof u||null===u);var c=qx.core.Environment.get("css.inlineblock");this.assert("string"==typeof c||null===c);this.assertBoolean(qx.core.Environment.get("css.opacity"));var d=qx.core.Environment.get("css.gradient.linear");this.assert("string"==typeof d||null===d);this.assertBoolean(qx.core.Environment.get("css.gradient.filter"));var h=qx.core.Environment.get("css.gradient.radial");this.assert("string"==typeof h||null===h);this.assertBoolean(qx.core.Environment.get("css.gradient.legacywebkit"));this.assertBoolean(qx.core.Environment.get("css.alphaimageloaderneeded"));this.assertBoolean(qx.core.Environment.get("css.pointerevents"))},testPhoneGap:function(){this.assertBoolean(qx.core.Environment.get("phonegap"));this.assertBoolean(qx.core.Environment.get("phonegap.notification"))},testEvent:function(){this.assertBoolean(qx.core.Environment.get("event.touch"));this.assertBoolean(qx.core.Environment.get("event.help"));this.assertBoolean(qx.core.Environment.get("event.hashchange"));this.assertBoolean(qx.core.Environment.get("event.dispatchevent"));this.assertBoolean(qx.core.Environment.get("event.customevent"));this.assertBoolean(qx.core.Environment.get("event.mouseevent"))},testEcmaScript:function(){var e=qx.core.Environment.get("ecmascript.error.stacktrace");this.assert("string"==typeof e||null===e);this.assertBoolean(qx.core.Environment.get("ecmascript.array.indexof"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.lastindexof"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.foreach"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.filter"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.map"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.some"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.every"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.reduce"));this.assertBoolean(qx.core.Environment.get("ecmascript.array.reduceright"));this.assertBoolean(qx.core.Environment.get("ecmascript.function.bind"));this.assertBoolean(qx.core.Environment.get("ecmascript.object.keys"));this.assertBoolean(qx.core.Environment.get("ecmascript.date.now"));this.assertBoolean(qx.core.Environment.get("ecmascript.error.toString"));this.assertBoolean(qx.core.Environment.get("ecmascript.string.trim"));this.assertBoolean(qx.core.Environment.get("ecmascript.string.endsWith"));this.assertBoolean(qx.core.Environment.get("ecmascript.string.startsWith"))},testDataUrl:function(){qx.core.Environment.getAsync("html.dataurl",function(e){this.resume(function(){this.assertBoolean(e)},this)},this);this.wait()},testDevice:function(){this.assertString(qx.core.Environment.get("device.name"))},testDeviceType:function(){this.assertString(qx.core.Environment.get("device.type"))},testDevicePixelRatio:function(){this.assertNumber(qx.core.Environment.get("device.pixelRatio"))},testQx:function(){this.assertBoolean(qx.core.Environment.get("qx.allowUrlSettings"),"1");this.assertBoolean(qx.core.Environment.get("qx.allowUrlVariants"),"2");this.assertString(qx.core.Environment.get("qx.application"),"3");this.assertNumber(qx.core.Environment.get("qx.debug.dispose.level"),"5");this.assertBoolean(qx.core.Environment.get("qx.globalErrorHandling"),"6");this.assertBoolean(qx.core.Environment.get("qx.debug.io.remote"),"7");this.assertBoolean(qx.core.Environment.get("qx.debug.io.remote.data"),"8");this.assertBoolean(!1,"9");this.assertNumber(0,"10");this.assertBoolean(!0,"11");this.assertBoolean(!1,"12");this.assertBoolean(!0,"13");this.assertBoolean(qx.core.Environment.get("qx.mobile.nativescroll"),"15");this.assertBoolean(!0,"17")},testAnimationTransformTransition:function(){qx.core.Environment.get("css.animation");qx.core.Environment.get("css.transform");qx.core.Environment.get("css.transition");this.assertBoolean(qx.core.Environment.get("css.transform.3d"))}}});qx.test.core.Environment.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Timer":{construct:!0},"qx.bom.client.Transport":{require:!0},"qx.io.remote.Exchange":{},"qx.lang.Array":{},"qx.event.Registration":{},"qx.event.type.Event":{}},environment:{provided:[],required:{"io.maxrequests":{load:!0,className:"qx.bom.client.Transport"},"qx.debug.io.remote":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.RequestQueue",{type:"singleton",extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(){qx.core.Object.constructor.call(this);this.__queue=[];this.__active=[];this.__totalRequests=0;this.__timer=new qx.event.Timer(500);this.__timer.addListener("interval",this._oninterval,this)},properties:{enabled:{init:!0,check:"Boolean",apply:"_applyEnabled"},maxTotalRequests:{check:"Integer",nullable:!0},maxConcurrentRequests:{check:"Integer",init:qx.core.Environment.get("io.maxrequests")},defaultTimeout:{check:"Integer",init:5e3}},members:{__queue:null,__active:null,__totalRequests:null,__timer:null,getRequestQueue:function(){return this.__queue},getActiveQueue:function(){return this.__active},_debug:function(){if(qx.core.Environment.get("qx.debug.io.remote")){var e=this.__active.length+"/"+(this.__queue.length+this.__active.length);this.debug("Progress: "+e);window.status="Request-Queue Progress: "+e}},_check:function(){this._debug();0==this.__active.length&&0==this.__queue.length&&this.__timer.stop();if(this.getEnabled()&&!(0==this.__queue.length||this.__queue[0].isAsynchronous()&&this.__active.length>=this.getMaxConcurrentRequests()||null!=this.getMaxTotalRequests()&&this.__totalRequests>=this.getMaxTotalRequests())){var e=this.__queue.shift(),t=new qx.io.remote.Exchange(e);this.__totalRequests++;this.__active.push(t);this._debug();t.addListener("sending",this._onsending,this);t.addListener("receiving",this._onreceiving,this);t.addListener("completed",this._oncompleted,this);t.addListener("aborted",this._oncompleted,this);t.addListener("timeout",this._oncompleted,this);t.addListener("failed",this._oncompleted,this);t._start=(new Date).valueOf();t.send();this.__queue.length>0&&this._check()}},_remove:function(e){qx.lang.Array.remove(this.__active,e);e.dispose();this._check()},__activeCount:0,_onsending:function(e){if(qx.core.Environment.get("qx.debug.io.remote")){this.__activeCount++;e.getTarget()._counted=!0;this.debug("ActiveCount: "+this.__activeCount)}e.getTarget().getRequest()._onsending(e)},_onreceiving:function(e){e.getTarget().getRequest()._onreceiving(e)},_oncompleted:function(e){if(qx.core.Environment.get("qx.debug.io.remote")&&e.getTarget()._counted){this.__activeCount--;this.debug("ActiveCount: "+this.__activeCount)}var t=e.getTarget().getRequest(),i="_on"+e.getType();this._remove(e.getTarget());try{t[i]&&t[i](e)}catch(e){this.error("Request "+t+" handler "+i+" threw an error: ",e);try{if(t._onaborted){var n=qx.event.Registration.createEvent("aborted",qx.event.type.Event);t._onaborted(n)}}catch(e){}}},_oninterval:function(e){var t=this.__active;if(0!=t.length){for(var i,n,s,r,o=(new Date).valueOf(),a=this.getDefaultTimeout(),l=t.length-1;l>=0;l--)if((n=(i=t[l]).getRequest()).isAsynchronous()){if(0==(s=n.getTimeout()))continue;null==s&&(s=a);if((r=o-i._start)>s){this.warn("Timeout: transport "+i.toHashCode());this.warn(r+"ms > "+s+"ms");i.timeout()}}}else this.__timer.stop()},_applyEnabled:function(e,t){e&&this._check();this.__timer.setEnabled(e)},add:function(e){e.setState("queued");e.isAsynchronous()?this.__queue.push(e):this.__queue.unshift(e);this._check();this.getEnabled()&&this.__timer.start()},abort:function(e){var t=e.getTransport();t?t.abort():this.__queue.includes(e)&&qx.lang.Array.remove(this.__queue,e)}},destruct:function(){this._disposeArray("__active");this._disposeObjects("__timer");this.__queue=null}});qx.io.remote.RequestQueue.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.core.scroll.IScrollBar",{events:{scroll:"qx.event.type.Data",scrollAnimationEnd:"qx.event.type.Event"},properties:{orientation:{},maximum:{},position:{},knobFactor:{}},members:{scrollTo:function(e,t){this.assertNumber(e)},scrollBy:function(e,t){this.assertNumber(e)},scrollBySteps:function(e,t){this.assertNumber(e)}}});qx.ui.core.scroll.IScrollBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.scroll.IScrollBar":{require:!0},"qx.ui.core.scroll.ScrollSlider":{},"qx.ui.form.RepeatButton":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.scroll.ScrollBar",{extend:qx.ui.core.Widget,implement:qx.ui.core.scroll.IScrollBar,construct:function(e){qx.ui.core.Widget.constructor.call(this);this._createChildControl("button-begin");this._createChildControl("slider").addListener("resize",this._onResizeSlider,this);this._createChildControl("button-end");null!=e?this.setOrientation(e):this.initOrientation();this.addListener("track",function(e){e.stopPropagation()},this)},events:{scrollAnimationEnd:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"scrollbar"},orientation:{check:["horizontal","vertical"],init:"horizontal",apply:"_applyOrientation"},maximum:{check:"PositiveInteger",apply:"_applyMaximum",init:100},position:{check:"qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getMaximum()",init:0,apply:"_applyPosition",event:"scroll"},singleStep:{check:"Integer",init:20},pageStep:{check:"Integer",init:10,apply:"_applyPageStep"},knobFactor:{check:"PositiveNumber",apply:"_applyKnobFactor",nullable:!0}},members:{__offset:2,__originalMinSize:0,_computeSizeHint:function(){var e=qx.ui.core.scroll.ScrollBar.prototype._computeSizeHint.base.call(this);if("horizontal"===this.getOrientation()){this.__originalMinSize=e.minWidth;e.minWidth=0}else{this.__originalMinSize=e.minHeight;e.minHeight=0}return e},renderLayout:function(e,t,i,n){var s=qx.ui.core.scroll.ScrollBar.prototype.renderLayout.base.call(this,e,t,i,n),r="horizontal"===this.getOrientation();if(this.__originalMinSize>=(r?i:n)){this.getChildControl("button-begin").setVisibility("hidden");this.getChildControl("button-end").setVisibility("hidden")}else{this.getChildControl("button-begin").setVisibility("visible");this.getChildControl("button-end").setVisibility("visible")}return s},_createChildControlImpl:function(e,t){var i;switch(e){case"slider":(i=new qx.ui.core.scroll.ScrollSlider).setPageStep(100);i.setFocusable(!1);i.addListener("changeValue",this._onChangeSliderValue,this);i.addListener("slideAnimationEnd",this._onSlideAnimationEnd,this);this._add(i,{flex:1});break;case"button-begin":(i=new qx.ui.form.RepeatButton).setFocusable(!1);i.addListener("execute",this._onExecuteBegin,this);this._add(i);break;case"button-end":(i=new qx.ui.form.RepeatButton).setFocusable(!1);i.addListener("execute",this._onExecuteEnd,this);this._add(i)}return i||qx.ui.core.scroll.ScrollBar.prototype._createChildControlImpl.base.call(this,e)},_applyMaximum:function(e){this.getChildControl("slider").setMaximum(e)},_applyPosition:function(e){this.getChildControl("slider").setValue(e)},_applyKnobFactor:function(e){this.getChildControl("slider").setKnobFactor(e)},_applyPageStep:function(e){this.getChildControl("slider").setPageStep(e)},_applyOrientation:function(e,t){var i=this._getLayout();i&&i.dispose();if("horizontal"===e){this._setLayout(new qx.ui.layout.HBox);this.setAllowStretchX(!0);this.setAllowStretchY(!1);this.replaceState("vertical","horizontal");this.getChildControl("button-begin").replaceState("up","left");this.getChildControl("button-end").replaceState("down","right")}else{this._setLayout(new qx.ui.layout.VBox);this.setAllowStretchX(!1);this.setAllowStretchY(!0);this.replaceState("horizontal","vertical");this.getChildControl("button-begin").replaceState("left","up");this.getChildControl("button-end").replaceState("right","down")}this.getChildControl("slider").setOrientation(e)},scrollTo:function(e,t){this.getChildControl("slider").slideTo(e,t)},scrollBy:function(e,t){this.getChildControl("slider").slideBy(e,t)},scrollBySteps:function(e,t){var i=this.getSingleStep();this.getChildControl("slider").slideBy(e*i,t)},updatePosition:function(e){this.getChildControl("slider").updatePosition(e)},stopScrollAnimation:function(){this.getChildControl("slider").stopSlideAnimation()},_onExecuteBegin:function(e){this.scrollBy(-this.getSingleStep(),50)},_onExecuteEnd:function(e){this.scrollBy(this.getSingleStep(),50)},_onSlideAnimationEnd:function(){this.fireEvent("scrollAnimationEnd")},_onChangeSliderValue:function(e){this.setPosition(e.getData())},_onResizeSlider:function(e){var t=this.getChildControl("slider").getChildControl("knob"),i=t.getSizeHint(),n=!1,s=this.getChildControl("slider").getInnerSize();"vertical"==this.getOrientation()?s.height<i.minHeight+this.__offset&&(n=!0):s.width<i.minWidth+this.__offset&&(n=!0);n?t.exclude():t.show()}}});qx.ui.core.scroll.ScrollBar.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.bom.client.OperatingSystem":{require:!0,defer:"runtime"},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["plugin.flash","plugin.flash.version","plugin.flash.express","plugin.flash.strictsecurity"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Flash",{statics:{isAvailable:function(){return parseFloat(qx.bom.client.Flash.getVersion())>0},getVersion:function(){if(navigator.plugins&&"object"===_typeof(navigator.plugins["Shockwave Flash"])){var e=[0,0,0],t=navigator.plugins["Shockwave Flash"].description;if(void 0!==t){t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1");e[0]=parseInt(t.replace(/^(.*)\..*$/,"$1"),10);e[1]=parseInt(t.replace(/^.*\.(.*)\s.*$/,"$1"),10);e[2]=/r/.test(t)?parseInt(t.replace(/^.*r(.*)$/,"$1"),10):0}return e.join(".")}if(window.ActiveXObject){e=[0,0,0];var i=!1;try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(t){try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=[6,0,21];n.AllowScriptAccess="always"}catch(t){6==e[0]&&(i=!0)}if(!i)try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}if(!i&&"object"==_typeof(n)){var s=n.GetVariable("$version");if(void 0!==s){s=s.split(" ")[1].split(",");e[0]=parseInt(s[0],10);e[1]=parseInt(s[1],10);e[2]=parseInt(s[2],10)}}return e.join(".")}return""},getExpressInstall:function(){var e=qx.bom.client.Flash.getVersion();if(""==e)return!1;var t=qx.bom.client.OperatingSystem.getName();return("win"==t||"osx"==t)&&qx.bom.client.Flash.__supportsVersion("6.0.65",e)},getStrictSecurityModel:function(){var e=qx.bom.client.Flash.getVersion();return""!=e&&(e.split(".")[0]<10?qx.bom.client.Flash.__supportsVersion("9.0.151",e):qx.bom.client.Flash.__supportsVersion("10.0.12",e))},_cachedSupportsVersion:{},__supportsVersion:function(e,t){var i=e.split("."),n=t||qx.bom.client.Flash.getVersion();n=n.split(".");for(var s=0;s<i.length;s++){var r=parseInt(n[s],10)-parseInt(i[s],10);if(r>0)return!0;if(r<0)return!1}return!0}},defer:function(e){qx.core.Environment.add("plugin.flash",e.isAvailable);qx.core.Environment.add("plugin.flash.version",e.getVersion);qx.core.Environment.add("plugin.flash.express",e.getExpressInstall);qx.core.Environment.add("plugin.flash.strictsecurity",e.getStrictSecurityModel)}});qx.bom.client.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Environment":{defer:"runtime"}},environment:{provided:["phonegap","phonegap.notification"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.PhoneGap",{statics:{getPhoneGap:function(){return"cordova"in window||"Cordova"in window||"PhoneGap"in window},getNotification:function(){return"notification"in navigator}},defer:function(e){qx.core.Environment.add("phonegap",e.getPhoneGap);qx.core.Environment.add("phonegap.notification",e.getNotification)}});qx.bom.client.PhoneGap.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Scroll":{},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Browser":{},"qx.bom.client.Event":{}},environment:{provided:["os.scrollBarOverlayed","qx.mobile.nativescroll"],required:{"os.name":{className:"qx.bom.client.OperatingSystem"},"browser.version":{className:"qx.bom.client.Browser"},"browser.name":{className:"qx.bom.client.Browser"},"os.version":{className:"qx.bom.client.OperatingSystem"},"event.mspointer":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.client.Scroll",{statics:{scrollBarOverlayed:function(){var e=qx.bom.element.Scroll.getScrollbarWidth(),t="osx"===qx.bom.client.OperatingSystem.getName();return 0===e&&t&&!1},getNativeScroll:function(){if("ios"==qx.core.Environment.get("os.name")&&parseInt(qx.core.Environment.get("browser.version"),10)>7)return!0;if("firefox"==qx.core.Environment.get("browser.name"))return!0;if("android"==qx.core.Environment.get("os.name")){var e=qx.core.Environment.get("os.version").split(".");if(e[0]>4||e.length>1&&e[0]>3&&e[1]>3)return!0}return!!qx.core.Environment.get("event.mspointer")}},defer:function(e){qx.core.Environment.add("os.scrollBarOverlayed",e.scrollBarOverlayed);qx.core.Environment.add("qx.mobile.nativescroll",e.getNativeScroll)}});qx.bom.client.Scroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.io.remote.transport.Iframe":{},"qx.io.remote.transport.Script":{},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Object":{},"qx.log.Logger":{},"qx.io.remote.transport.XmlHttp":{},"qx.event.Registration":{},"qx.io.remote.Response":{}},environment:{provided:[],required:{"qx.debug.io.remote":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.Exchange",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.setRequest(e);e.setTransport(this)},events:{sending:"qx.event.type.Event",receiving:"qx.event.type.Event",completed:"qx.io.remote.Response",aborted:"qx.event.type.Event",failed:"qx.io.remote.Response",timeout:"qx.io.remote.Response"},statics:{typesOrder:["qx.io.remote.transport.XmlHttp","qx.io.remote.transport.Iframe","qx.io.remote.transport.Script"],typesReady:!1,typesAvailable:{},typesSupported:{},registerType:function(e,t){qx.io.remote.Exchange.typesAvailable[t]=e},initTypes:function(){if(!qx.io.remote.Exchange.typesReady){for(var e in qx.io.remote.Exchange.typesAvailable){var t=qx.io.remote.Exchange.typesAvailable[e];t.isSupported()&&(qx.io.remote.Exchange.typesSupported[e]=t)}qx.io.remote.Exchange.typesReady=!0;if(qx.lang.Object.isEmpty(qx.io.remote.Exchange.typesSupported))throw new Error("No supported transport types were found!")}},canHandle:function(e,t,i){if(!e.handles.responseTypes.includes(i))return!1;for(var n in t)if(!e.handles[n])return!1;return!0},_nativeMap:{0:"created",1:"configured",2:"sending",3:"receiving",4:"completed"},wasSuccessful:function(e,t,i){if(i)switch(e){case null:case 0:return!0;case-1:return t<4;default:return void 0===e}else switch(e){case-1:qx.core.Environment.get("qx.debug.io.remote")&&t>3&&qx.log.Logger.debug(this,"Failed with statuscode: -1 at readyState "+t);return t<4;case 200:case 304:return!0;case 201:case 202:case 203:case 204:case 205:return!0;case 206:qx.core.Environment.get("qx.debug.io.remote")&&4===t&&qx.log.Logger.debug(this,"Failed with statuscode: 206 (Partial content while being complete!)");return 4!==t;case 300:case 301:case 302:case 303:case 305:case 400:case 401:case 402:case 403:case 404:case 405:case 406:case 407:case 408:case 409:case 410:case 411:case 412:case 413:case 414:case 415:case 500:case 501:case 502:case 503:case 504:case 505:qx.core.Environment.get("qx.debug.io.remote")&&qx.log.Logger.debug(this,"Failed with typical HTTP statuscode: "+e);return!1;case 12002:case 12007:case 12029:case 12030:case 12031:case 12152:case 13030:qx.core.Environment.get("qx.debug.io.remote")&&qx.log.Logger.debug(this,"Failed with MSHTML specific HTTP statuscode: "+e);return!1;default:if(e>206&&e<300)return!0;qx.log.Logger.debug(this,"Unknown status code: "+e+" ("+t+")");return!1}},statusCodeToString:function(e){switch(e){case-1:return"Not available";case 0:return window.location.href.toLowerCase().startsWith("file:")?"Unknown status code. Possibly due to application URL using 'file:' protocol?":"Unknown status code. Possibly due to a cross-domain request?";case 200:return"Ok";case 304:return"Not modified";case 206:return"Partial content";case 204:return"No content";case 300:return"Multiple choices";case 301:return"Moved permanently";case 302:return"Moved temporarily";case 303:return"See other";case 305:return"Use proxy";case 400:return"Bad request";case 401:return"Unauthorized";case 402:return"Payment required";case 403:return"Forbidden";case 404:return"Not found";case 405:return"Method not allowed";case 406:return"Not acceptable";case 407:return"Proxy authentication required";case 408:return"Request time-out";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length required";case 412:return"Precondition failed";case 413:return"Request entity too large";case 414:return"Request-URL too large";case 415:return"Unsupported media type";case 500:return"Server error";case 501:return"Not implemented";case 502:return"Bad gateway";case 503:return"Out of resources";case 504:return"Gateway time-out";case 505:return"HTTP version not supported";case 12002:return"Server timeout";case 12029:case 12030:case 12031:return"Connection dropped";case 12152:return"Connection closed by server";case 13030:return"MSHTML-specific HTTP status code";default:return"Unknown status code"}}},properties:{request:{check:"qx.io.remote.Request",nullable:!0},implementation:{check:"qx.io.remote.transport.Abstract",nullable:!0,apply:"_applyImplementation"},state:{check:["configured","sending","receiving","completed","aborted","timeout","failed"],init:"configured",event:"changeState",apply:"_applyState"}},members:{send:function(){var e=this.getRequest();if(!e)return this.error("Please attach a request object first");qx.io.remote.Exchange.initTypes();var t,i,n=qx.io.remote.Exchange.typesOrder,s=qx.io.remote.Exchange.typesSupported,r=e.getResponseType(),o={};e.getAsynchronous()?o.asynchronous=!0:o.synchronous=!0;e.getCrossDomain()&&(o.crossDomain=!0);e.getFileUpload()&&(o.fileUpload=!0);for(var a in e.getFormFields()){o.programmaticFormFields=!0;break}for(var l=0,u=n.length;l<u;l++)if(t=s[n[l]]){if(!qx.io.remote.Exchange.canHandle(t,o,r))continue;try{qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Using implementation: "+t.classname);i=new t;this.setImplementation(i);i.setUseBasicHttpAuth(e.getUseBasicHttpAuth());i.send();return!0}catch(e){this.error("Request handler throws error");this.error(e);return!1}}this.error("There is no transport implementation available to handle this request: "+e)},abort:function(){var e=this.getImplementation();if(e){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Abort: implementation "+e.toHashCode());e.abort()}else{qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Abort: forcing state to be aborted");this.setState("aborted")}},timeout:function(){var e=this.getImplementation();if(e){var t="";for(var i in e.getParameters())t+="&"+i+"="+e.getParameters()[i];this.warn("Timeout: implementation "+e.toHashCode()+", "+e.getUrl()+" ["+e.getMethod()+"], "+t);e.timeout()}else{this.warn("Timeout: forcing state to timeout");this.setState("timeout")}this.__disableRequestTimeout()},__disableRequestTimeout:function(){var e=this.getRequest();e&&e.setTimeout(0)},_onsending:function(e){this.setState("sending")},_onreceiving:function(e){this.setState("receiving")},_oncompleted:function(e){this.setState("completed")},_onabort:function(e){this.setState("aborted")},_onfailed:function(e){this.setState("failed")},_ontimeout:function(e){this.setState("timeout")},_applyImplementation:function(e,t){if(t){t.removeListener("sending",this._onsending,this);t.removeListener("receiving",this._onreceiving,this);t.removeListener("completed",this._oncompleted,this);t.removeListener("aborted",this._onabort,this);t.removeListener("timeout",this._ontimeout,this);t.removeListener("failed",this._onfailed,this)}if(e){var i=this.getRequest();e.setUrl(i.getUrl());e.setMethod(i.getMethod());e.setAsynchronous(i.getAsynchronous());e.setUsername(i.getUsername());e.setPassword(i.getPassword());e.setParameters(i.getParameters(!1));e.setFormFields(i.getFormFields());e.setRequestHeaders(i.getRequestHeaders());e instanceof qx.io.remote.transport.XmlHttp&&e.setParseJson(i.getParseJson());var n=i.getData();if(null===n){var s=i.getParameters(!0),r=[];for(var o in s){var a=s[o];if(a instanceof Array)for(var l=0;l<a.length;l++)r.push(encodeURIComponent(o)+"="+encodeURIComponent(a[l]));else r.push(encodeURIComponent(o)+"="+encodeURIComponent(a))}r.length>0&&e.setData(r.join("&"))}else e.setData(n);e.setResponseType(i.getResponseType());e.addListener("sending",this._onsending,this);e.addListener("receiving",this._onreceiving,this);e.addListener("completed",this._oncompleted,this);e.addListener("aborted",this._onabort,this);e.addListener("timeout",this._ontimeout,this);e.addListener("failed",this._onfailed,this)}},_applyState:function(e,t){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("State: "+t+" => "+e);switch(e){case"sending":this.fireEvent("sending");break;case"receiving":this.fireEvent("receiving");break;case"completed":case"aborted":case"timeout":case"failed":var i=this.getImplementation();if(!i)break;this.__disableRequestTimeout();if(this.hasListener(e)){var n=qx.event.Registration.createEvent(e,qx.io.remote.Response);if("completed"==e){var s=i.getResponseContent();n.setContent(s);if(null===s){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Altered State: "+e+" => failed");e="failed"}}else"failed"==e&&n.setContent(i.getResponseContent());n.setStatusCode(i.getStatusCode());n.setResponseHeaders(i.getResponseHeaders());this.dispatchEvent(n)}this.setImplementation(null);i.dispose()}}},environment:{"qx.debug.io.remote":!1,"qx.debug.io.remote.data":!1},destruct:function(){var e=this.getImplementation();if(e){this.setImplementation(null);e.dispose()}this.setRequest(null)}});qx.io.remote.Exchange.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IForm",{events:{changeEnabled:"qx.event.type.Data",changeValid:"qx.event.type.Data",changeInvalidMessage:"qx.event.type.Data",changeRequired:"qx.event.type.Data"},members:{setEnabled:function(e){return 1==arguments.length},getEnabled:function(){},setRequired:function(e){return 1==arguments.length},getRequired:function(){},setValid:function(e){return 1==arguments.length},getValid:function(){},setInvalidMessage:function(e){return 1==arguments.length},getInvalidMessage:function(){},setRequiredInvalidMessage:function(e){return 1==arguments.length},getRequiredInvalidMessage:function(){}}});qx.ui.form.IForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.INumberForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.INumberForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IRange",{members:{setMinimum:function(e){return 1==arguments.length},getMinimum:function(){},setMaximum:function(e){return 1==arguments.length},getMaximum:function(){},setSingleStep:function(e){return 1==arguments.length},getSingleStep:function(){},setPageStep:function(e){return 1==arguments.length},getPageStep:function(){}}});qx.ui.form.IRange.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.locale.Manager":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.form.MForm",{construct:function(){qx.locale.Manager.getInstance().addListener("changeLocale",this.__onChangeLocale,this)},properties:{valid:{check:"Boolean",init:!0,apply:"_applyValid",event:"changeValid"},required:{check:"Boolean",init:!1,event:"changeRequired"},invalidMessage:{check:"String",init:"",event:"changeInvalidMessage"},requiredInvalidMessage:{check:"String",nullable:!0,event:"changeInvalidMessage"}},members:{_applyValid:function(e,t){e?this.removeState("invalid"):this.addState("invalid")},__onChangeLocale:function(e){var t=this.getInvalidMessage();t&&t.translate&&this.setInvalidMessage(t.translate());var i=this.getRequiredInvalidMessage();i&&i.translate&&this.setRequiredInvalidMessage(i.translate())}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this.__onChangeLocale,this)}});qx.ui.form.MForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.INumberForm":{require:!0},"qx.ui.form.IRange":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.layout.Canvas":{construct:!0},"qx.theme.manager.Decoration":{},"qx.bom.element.Location":{},"qx.event.Timer":{},"qx.bom.AnimationFrame":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.Slider",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IForm,qx.ui.form.INumberForm,qx.ui.form.IRange],include:[qx.ui.form.MForm],construct:function(e){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.Canvas);this.addListener("keypress",this._onKeyPress);this.addListener("roll",this._onRoll);this.addListener("pointerdown",this._onPointerDown);this.addListener("pointerup",this._onPointerUp);this.addListener("losecapture",this._onPointerUp);this.addListener("resize",this._onUpdate);this.addListener("contextmenu",this._onStopEvent);this.addListener("tap",this._onStopEvent);this.addListener("dbltap",this._onStopEvent);null!=e?this.setOrientation(e):this.initOrientation()},events:{changeValue:"qx.event.type.Data",slideAnimationEnd:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"slider"},focusable:{refine:!0,init:!0},orientation:{check:["horizontal","vertical"],init:"horizontal",apply:"_applyOrientation"},value:{check:"typeof value==='number'&&value>=this.getMinimum()&&value<=this.getMaximum()",init:0,apply:"_applyValue",nullable:!0},minimum:{check:"Integer",init:0,apply:"_applyMinimum",event:"changeMinimum"},maximum:{check:"Integer",init:100,apply:"_applyMaximum",event:"changeMaximum"},singleStep:{check:"Integer",init:1},pageStep:{check:"Integer",init:10},knobFactor:{check:"Number",apply:"_applyKnobFactor",nullable:!0}},members:{__sliderLocation:null,__knobLocation:null,__knobSize:null,__dragMode:null,__dragOffset:null,__trackingMode:null,__trackingDirection:null,__trackingEnd:null,__timer:null,__dragTimer:null,__lastValueEvent:null,__dragValue:null,__scrollAnimationframe:null,_forwardStates:{invalid:!0},renderLayout:function(e,t,i,n){qx.ui.form.Slider.prototype.renderLayout.base.call(this,e,t,i,n);this._updateKnobPosition()},_createChildControlImpl:function(e,t){var i;switch(e){case"knob":(i=new qx.ui.core.Widget).addListener("resize",this._onUpdate,this);i.addListener("pointerover",this._onPointerOver);i.addListener("pointerout",this._onPointerOut);this._add(i)}return i||qx.ui.form.Slider.prototype._createChildControlImpl.base.call(this,e)},_onPointerOver:function(e){this.addState("hovered")},_onPointerOut:function(e){this.removeState("hovered")},_onRoll:function(e){if("wheel"==e.getPointerType()){var t="horizontal"===this.getOrientation()?"x":"y",i=e.getDelta()[t],n=i>0?1:i<0?-1:0;this.slideBy(n*this.getSingleStep());e.stop()}},_onKeyPress:function(e){var t="horizontal"===this.getOrientation(),i=t?"Left":"Up",n=t?"Right":"Down";switch(e.getKeyIdentifier()){case n:this.slideForward();break;case i:this.slideBack();break;case"PageDown":this.slidePageForward(100);break;case"PageUp":this.slidePageBack(100);break;case"Home":this.slideToBegin(200);break;case"End":this.slideToEnd(200);break;default:return}e.stop()},_onPointerDown:function(e){if(!this.__dragMode){var t=this.__isHorizontal,i=this.getChildControl("knob"),n=t?"left":"top",s=t?e.getDocumentLeft():e.getDocumentTop(),r=this.getDecorator();r=qx.theme.manager.Decoration.getInstance().resolve(r);if(t)var o=r?r.getInsets().left:0,a=(this.getPaddingLeft()||0)+o;else o=r?r.getInsets().top:0,a=(this.getPaddingTop()||0)+o;var l=this.__sliderLocation=qx.bom.element.Location.get(this.getContentElement().getDomElement())[n];l+=a;var u=this.__knobLocation=qx.bom.element.Location.get(i.getContentElement().getDomElement())[n];if(e.getTarget()===i){this.__dragMode=!0;if(!this.__dragTimer){this.__dragTimer=new qx.event.Timer(100);this.__dragTimer.addListener("interval",this._fireValue,this)}this.__dragTimer.start();this.__dragOffset=s+l-u;i.addState("pressed")}else{this.__trackingMode=!0;this.__trackingDirection=s<=u?-1:1;this.__computeTrackingEnd(e);this._onInterval();if(!this.__timer){this.__timer=new qx.event.Timer(100);this.__timer.addListener("interval",this._onInterval,this)}this.__timer.start()}this.addListener("pointermove",this._onPointerMove);this.capture();e.stopPropagation()}},_onPointerUp:function(e){if(this.__dragMode){this.releaseCapture();delete this.__dragMode;this.__dragTimer.stop();this._fireValue();delete this.__dragOffset;this.getChildControl("knob").removeState("pressed");if("pointerup"===e.getType()){var t,i,n;if(this.__isHorizontal){t=e.getDocumentLeft()-(this._valueToPosition(this.getValue())+this.__sliderLocation);n=qx.bom.element.Location.get(this.getContentElement().getDomElement()).top;i=e.getDocumentTop()-(n+this.getChildControl("knob").getBounds().top)}else{t=e.getDocumentTop()-(this._valueToPosition(this.getValue())+this.__sliderLocation);n=qx.bom.element.Location.get(this.getContentElement().getDomElement()).left;i=e.getDocumentLeft()-(n+this.getChildControl("knob").getBounds().left)}(i<0||i>this.__knobSize||t<0||t>this.__knobSize)&&this.getChildControl("knob").removeState("hovered")}}else if(this.__trackingMode){this.__timer.stop();this.releaseCapture();delete this.__trackingMode;delete this.__trackingDirection;delete this.__trackingEnd}this.removeListener("pointermove",this._onPointerMove);"pointerup"===e.getType()&&e.stopPropagation()},_onPointerMove:function(e){if(this.__dragMode){var t=(this.__isHorizontal?e.getDocumentLeft():e.getDocumentTop())-this.__dragOffset;this.slideTo(this._positionToValue(t))}else this.__trackingMode&&this.__computeTrackingEnd(e);e.stopPropagation()},_onInterval:function(e){var t=this.getValue()+this.__trackingDirection*this.getPageStep();t<this.getMinimum()?t=this.getMinimum():t>this.getMaximum()&&(t=this.getMaximum());var i=-1==this.__trackingDirection;(i&&t<=this.__trackingEnd||!i&&t>=this.__trackingEnd)&&(t=this.__trackingEnd);this.slideTo(t)},_onUpdate:function(e){var t=this.getInnerSize(),i=this.getChildControl("knob").getBounds(),n=this.__isHorizontal?"width":"height";this._updateKnobSize();this.__slidingSpace=t[n]-i[n];this.__knobSize=i[n];this._updateKnobPosition()},__isHorizontal:!1,__slidingSpace:0,__computeTrackingEnd:function(e){var t=this.__isHorizontal?e.getDocumentLeft():e.getDocumentTop(),i=this.__sliderLocation,n=this.__knobLocation,s=this.__knobSize,r=t-i;t>=n&&(r-=s);var o=this._positionToValue(r),a=this.getMinimum(),l=this.getMaximum();if(o<a)o=a;else if(o>l)o=l;else{var u=this.getValue(),c=this.getPageStep(),d=this.__trackingDirection<0?"floor":"ceil";o=u+Math[d]((o-u)/c)*c}(null==this.__trackingEnd||-1==this.__trackingDirection&&o<=this.__trackingEnd||1==this.__trackingDirection&&o>=this.__trackingEnd)&&(this.__trackingEnd=o)},_positionToValue:function(e){var t=this.__slidingSpace;if(null==t||0==t)return 0;var i=e/t;i<0?i=0:i>1&&(i=1);var n=this.getMaximum()-this.getMinimum();return this.getMinimum()+Math.round(n*i)},_valueToPosition:function(e){var t=this.__slidingSpace;if(null==t)return 0;var i=this.getMaximum()-this.getMinimum();if(0==i)return 0;var n=(e=e-this.getMinimum())/i;n<0?n=0:n>1&&(n=1);return Math.round(t*n)},_updateKnobPosition:function(){this._setKnobPosition(this._valueToPosition(this.getValue()))},_setKnobPosition:function(e){var t=this.getChildControl("knob"),i=this.getDecorator();i=qx.theme.manager.Decoration.getInstance().resolve(i);var n=t.getContentElement();if(this.__isHorizontal){i&&i.getPadding()&&(e+=i.getPadding().left);e+=this.getPaddingLeft()||0;n.setStyle("left",e+"px",!0)}else{i&&i.getPadding()&&(e+=i.getPadding().top);e+=this.getPaddingTop()||0;n.setStyle("top",e+"px",!0)}},_updateKnobSize:function(){var e=this.getKnobFactor();if(null!=e){var t=this.getInnerSize();null!=t&&(this.__isHorizontal?this.getChildControl("knob").setWidth(Math.round(e*t.width)):this.getChildControl("knob").setHeight(Math.round(e*t.height)))}},slideToBegin:function(e){this.slideTo(this.getMinimum(),e)},slideToEnd:function(e){this.slideTo(this.getMaximum(),e)},slideForward:function(){this.slideBy(this.getSingleStep())},slideBack:function(){this.slideBy(-this.getSingleStep())},slidePageForward:function(e){this.slideBy(this.getPageStep(),e)},slidePageBack:function(e){this.slideBy(-this.getPageStep(),e)},slideBy:function(e,t){this.slideTo(this.getValue()+e,t)},slideTo:function(e,t){this.stopSlideAnimation();t?this.__animateTo(e,t):this.updatePosition(e)},updatePosition:function(e){this.setValue(this.__normalizeValue(e))},stopSlideAnimation:function(){if(this.__scrollAnimationframe){this.__scrollAnimationframe.cancelSequence();this.__scrollAnimationframe=null}},__normalizeValue:function(e){return e=e<this.getMinimum()?this.getMinimum():e>this.getMaximum()?this.getMaximum():this.getMinimum()+Math.round((e-this.getMinimum())/this.getSingleStep())*this.getSingleStep()},__animateTo:function(e,t){e=this.__normalizeValue(e);var i=this.getValue();this.__scrollAnimationframe=new qx.bom.AnimationFrame;this.__scrollAnimationframe.on("frame",function(n){this.setValue(parseInt(n/t*(e-i)+i))},this);this.__scrollAnimationframe.on("end",function(){this.setValue(e);this.__scrollAnimationframe=null;this.fireEvent("slideAnimationEnd")},this);this.__scrollAnimationframe.startSequence(t)},_applyOrientation:function(e,t){var i=this.getChildControl("knob");this.__isHorizontal="horizontal"===e;if(this.__isHorizontal){this.removeState("vertical");i.removeState("vertical");this.addState("horizontal");i.addState("horizontal");i.setLayoutProperties({top:0,right:null,bottom:0})}else{this.removeState("horizontal");i.removeState("horizontal");this.addState("vertical");i.addState("vertical");i.setLayoutProperties({right:0,bottom:null,left:0})}this._updateKnobPosition()},_applyKnobFactor:function(e,t){null!=e?this._updateKnobSize():this.__isHorizontal?this.getChildControl("knob").resetWidth():this.getChildControl("knob").resetHeight()},_applyValue:function(e,t){if(null!=e){this._updateKnobPosition();this.__dragMode?this.__dragValue=[e,t]:this.fireEvent("changeValue",qx.event.type.Data,[e,t])}else this.resetValue()},_fireValue:function(){if(this.__dragValue){var e=this.__dragValue;this.__dragValue=null;this.fireEvent("changeValue",qx.event.type.Data,e)}},_applyMinimum:function(e,t){this.getValue()<e&&this.setValue(e);this._updateKnobPosition()},_applyMaximum:function(e,t){this.getValue()>e&&this.setValue(e);this._updateKnobPosition()}}});qx.ui.form.Slider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Slider":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.scroll.ScrollSlider",{extend:qx.ui.form.Slider,construct:function(e){qx.ui.form.Slider.constructor.call(this,e);this.removeListener("keypress",this._onKeyPress);this.removeListener("roll",this._onRoll)},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"knob":(i=qx.ui.core.scroll.ScrollSlider.prototype._createChildControlImpl.base.call(this,e)).addListener("dblclick",function(e){e.stopPropagation()})}return i||qx.ui.core.scroll.ScrollSlider.prototype._createChildControlImpl.base.call(this,e)},getSizeHint:function(e){var t=qx.ui.core.scroll.ScrollSlider.prototype.getSizeHint.base.call(this);"horizontal"===this.getOrientation()?t.width=0:t.height=0;return t}}});qx.ui.core.scroll.ScrollSlider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.layout.Atom":{construct:!0},"qx.ui.basic.Label":{},"qx.ui.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.basic.Atom",{extend:qx.ui.core.Widget,construct:function(e,t){this.assertArgumentsCount(arguments,0,2);qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.Atom);null!=e&&this.setLabel(e);void 0!==t&&this.setIcon(t)},properties:{appearance:{refine:!0,init:"atom"},label:{apply:"_applyLabel",nullable:!0,check:"String",event:"changeLabel"},rich:{check:"Boolean",init:!1,apply:"_applyRich"},icon:{check:"String",apply:"_applyIcon",nullable:!0,themeable:!0,event:"changeIcon"},gap:{check:"Integer",nullable:!1,event:"changeGap",apply:"_applyGap",themeable:!0,init:4},show:{init:"both",check:["both","label","icon"],themeable:!0,inheritable:!0,apply:"_applyShow",event:"changeShow"},iconPosition:{init:"left",check:["top","right","bottom","left","top-left","bottom-left","top-right","bottom-right"],themeable:!0,apply:"_applyIconPosition"},center:{init:!1,check:"Boolean",themeable:!0,apply:"_applyCenter"}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"label":(i=new qx.ui.basic.Label(this.getLabel())).setAnonymous(!0);i.setRich(this.getRich());i.setSelectable(this.getSelectable());this._add(i);null!=this.getLabel()&&"icon"!==this.getShow()||i.exclude();break;case"icon":(i=new qx.ui.basic.Image(this.getIcon())).setAnonymous(!0);this._addAt(i,0);null!=this.getIcon()&&"label"!==this.getShow()||i.exclude()}return i||qx.ui.basic.Atom.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{focused:!0,hovered:!0},_handleLabel:function(){null==this.getLabel()||"icon"===this.getShow()?this._excludeChildControl("label"):this._showChildControl("label")},_handleIcon:function(){null==this.getIcon()||"label"===this.getShow()?this._excludeChildControl("icon"):this._showChildControl("icon")},_applyLabel:function(e,t){var i=this.getChildControl("label",!0);i&&i.setValue(e);this._handleLabel()},_applyRich:function(e,t){var i=this.getChildControl("label",!0);i&&i.setRich(e)},_applyIcon:function(e,t){var i=this.getChildControl("icon",!0);i&&i.setSource(e);this._handleIcon()},_applyGap:function(e,t){this._getLayout().setGap(e)},_applyShow:function(e,t){this._handleLabel();this._handleIcon()},_applyIconPosition:function(e,t){this._getLayout().setIconPosition(e)},_applyCenter:function(e,t){this._getLayout().setCenter(e)},_applySelectable:function(e,t){qx.ui.basic.Atom.prototype._applySelectable.base.call(this,e,t);this.getChildControl("label",!0)&&this.getChildControl("label").setSelectable(e)}}});qx.ui.basic.Atom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.Class":{},"qx.util.PropertyUtil":{}},environment:{provided:[],required:{"qx.command.bindEnabled":{load:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MExecutable",{events:{execute:"qx.event.type.Event"},properties:{command:{check:"qx.ui.command.Command",apply:"_applyCommand",event:"changeCommand",nullable:!0}},members:{__executableBindingIds:null,__semaphore:!1,__executeListenerId:null,_bindableProperties:qx.core.Environment.select("qx.command.bindEnabled",{true:["enabled","label","icon","toolTipText","value","menu"],false:["label","icon","toolTipText","value","menu"]}),execute:function(){var e=this.getCommand();if(e)if(this.__semaphore)this.__semaphore=!1;else{this.__semaphore=!0;e.execute(this)}this.fireEvent("execute")},__onCommandExecute:function(e){if(this.isEnabled()){if(this.__semaphore){this.__semaphore=!1;return}if(this.isEnabled()){this.__semaphore=!0;this.execute()}}},_applyCommand:function(e,t){null!=t&&t.removeListenerById(this.__executeListenerId);null!=e&&(this.__executeListenerId=e.addListener("execute",this.__onCommandExecute,this));var i,n=this.__executableBindingIds;null==n&&(this.__executableBindingIds=n={});for(var s=0;s<this._bindableProperties.length;s++){var r=this._bindableProperties[s];if(null!=t&&!t.isDisposed()&&null!=n[r]){t.removeBinding(n[r]);n[r]=null}if(null!=e&&qx.Class.hasProperty(this.constructor,r)){if(null==e.get(r)){if(null==(i=this.get(r))){this.$$resyncNeeded=!0;this.syncAppearance();i=qx.util.PropertyUtil.getThemeValue(this,r)}}else i=null;n[r]=e.bind(r,this,r);i&&this.set(r,i)}}}},destruct:function(){this._applyCommand(null,this.getCommand());this.__executableBindingIds=null}});qx.ui.core.MExecutable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IExecutable",{events:{execute:"qx.event.type.Data"},members:{setCommand:function(e){return 1==arguments.length},getCommand:function(){},execute:function(){}}});qx.ui.form.IExecutable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0},"qx.ui.layout.Util":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Atom",{extend:qx.ui.layout.Abstract,properties:{gap:{check:"Integer",init:4,apply:"_applyLayoutChange"},iconPosition:{check:["left","top","right","bottom","top-left","bottom-left","top-right","bottom-right"],init:"left",apply:"_applyLayoutChange"},center:{check:"Boolean",init:!1,apply:"_applyLayoutChange"}},members:{verifyLayoutProperty:function(e,t,i){this.assert(!1,"The property '"+t+"' is not supported by the Atom layout!")},renderLayout:function(e,t,i){var n,s,r,o=i.left,a=i.top,l=qx.ui.layout.Util,u=this.getIconPosition(),c=this._getLayoutChildren(),d=c.length,h=this.getGap(),g=this.getCenter();if(-1!=["bottom","right","top-right","bottom-right"].indexOf(u))var m=d-1,f=-1,p=-1;else m=0,f=d,p=1;if("top"==u||"bottom"==u){if(g){for(var _=0,x=m;x!=f;x+=p)if((s=c[x].getSizeHint().height)>0){_+=s;x!=m&&(_+=h)}a+=Math.round((t-_)/2)}var q=a;for(x=m;x!=f;x+=p){C=(r=c[x]).getSizeHint();n=Math.min(C.maxWidth,Math.max(e,C.minWidth));s=C.height;o=l.computeHorizontalAlignOffset("center",n,e)+i.left;r.renderLayout(o,q,n,s);s>0&&(q=a+s+h)}}else{var v=e,b=null,y=0;for(x=m;x!=f;x+=p)if((n=(r=c[x]).getSizeHint().width)>0){!b&&r instanceof qx.ui.basic.Label?b=r:v-=n;y++}if(y>1){v-=(y-1)*h}if(b){var C=b.getSizeHint(),w=Math.max(C.minWidth,Math.min(v,C.maxWidth));v-=w}g&&v>0&&(o+=Math.round(v/2));for(x=m;x!=f;x+=p){C=(r=c[x]).getSizeHint();s=Math.min(C.maxHeight,Math.max(t,C.minHeight));n=r===b?w:C.width;var E="middle";"top-left"==u||"top-right"==u?E="top":"bottom-left"!=u&&"bottom-right"!=u||(E="bottom");q=a+l.computeVerticalAlignOffset(E,C.height,t);r.renderLayout(o,q,n,s);n>0&&(o+=n+h)}}},_computeSizeHint:function(){var e,t=this._getLayoutChildren(),i=t.length;if(1===i){var n;e={width:(n=t[0].getSizeHint()).width,height:n.height,minWidth:n.minWidth,minHeight:n.minHeight}}else{var s=0,r=0,o=0,a=0,l=this.getIconPosition(),u=this.getGap();if("top"===l||"bottom"===l){for(var c=0,d=0;d<i;d++){n=t[d].getSizeHint();r=Math.max(r,n.width);s=Math.max(s,n.minWidth);if(n.height>0){a+=n.height;o+=n.minHeight;c++}}if(c>1){a+=h=(c-1)*u;o+=h}}else{for(c=0,d=0;d<i;d++){n=t[d].getSizeHint();a=Math.max(a,n.height);o=Math.max(o,n.minHeight);if(n.width>0){r+=n.width;s+=n.minWidth;c++}}if(c>1){var h;r+=h=(c-1)*u;s+=h}}e={minWidth:s,width:r,minHeight:o,height:a}}return e}}});qx.ui.layout.Atom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Atom":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.IExecutable":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.Button",{extend:qx.ui.basic.Atom,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],construct:function(e,t,i){qx.ui.basic.Atom.constructor.call(this,e,t);null!=i&&this.setCommand(i);this.addListener("pointerover",this._onPointerOver);this.addListener("pointerout",this._onPointerOut);this.addListener("pointerdown",this._onPointerDown);this.addListener("pointerup",this._onPointerUp);this.addListener("tap",this._onTap);this.addListener("keydown",this._onKeyDown);this.addListener("keyup",this._onKeyUp);this.addListener("dblclick",function(e){e.stopPropagation()})},properties:{appearance:{refine:!0,init:"button"},focusable:{refine:!0,init:!0}},members:{_forwardStates:{focused:!0,hovered:!0,pressed:!0,disabled:!0},press:function(){this.hasState("abandoned")||this.addState("pressed")},release:function(){this.hasState("pressed")&&this.removeState("pressed")},reset:function(){this.removeState("pressed");this.removeState("abandoned");this.removeState("hovered")},_onPointerOver:function(e){if(this.isEnabled()&&e.getTarget()===this){if(this.hasState("abandoned")){this.removeState("abandoned");this.addState("pressed")}this.addState("hovered")}},_onPointerOut:function(e){if(this.isEnabled()&&e.getTarget()===this){this.removeState("hovered");if(this.hasState("pressed")){this.removeState("pressed");this.addState("abandoned")}}},_onPointerDown:function(e){if(e.isLeftPressed()){e.stopPropagation();this.capture();this.removeState("abandoned");this.addState("pressed")}},_onPointerUp:function(e){this.releaseCapture();var t=this.hasState("pressed"),i=this.hasState("abandoned");t&&this.removeState("pressed");i&&this.removeState("abandoned");e.stopPropagation()},_onTap:function(e){this.execute();e.stopPropagation()},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case"Enter":case"Space":this.removeState("abandoned");this.addState("pressed");e.stopPropagation()}},_onKeyUp:function(e){switch(e.getKeyIdentifier()){case"Enter":case"Space":if(this.hasState("pressed")){this.removeState("abandoned");this.removeState("pressed");this.execute();e.stopPropagation()}}}}});qx.ui.form.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Button":{construct:!0,require:!0},"qx.event.AcceleratingTimer":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.RepeatButton",{extend:qx.ui.form.Button,construct:function(e,t){qx.ui.form.Button.constructor.call(this,e,t);this.__timer=new qx.event.AcceleratingTimer;this.__timer.addListener("interval",this._onInterval,this)},events:{execute:"qx.event.type.Event",press:"qx.event.type.Event",release:"qx.event.type.Event"},properties:{interval:{check:"Integer",init:100},firstInterval:{check:"Integer",init:500},minTimer:{check:"Integer",init:20},timerDecrease:{check:"Integer",init:2}},members:{__executed:null,__timer:null,press:function(){if(this.isEnabled()){this.hasState("pressed")||this.__startInternalTimer();this.removeState("abandoned");this.addState("pressed")}},release:function(e){if(this.isEnabled()){this.hasState("pressed")&&(this.__executed||this.execute());this.removeState("pressed");this.removeState("abandoned");this.__stopInternalTimer()}},_applyEnabled:function(e,t){qx.ui.form.RepeatButton.prototype._applyEnabled.base.call(this,e,t);if(!e){this.isCapturing()&&this.releaseCapture();this.removeState("pressed");this.removeState("abandoned");this.__stopInternalTimer()}},_onPointerOver:function(e){if(this.isEnabled()&&e.getTarget()===this){if(this.hasState("abandoned")){this.removeState("abandoned");this.addState("pressed");this.__timer.start()}this.addState("hovered")}},_onPointerOut:function(e){if(this.isEnabled()&&e.getTarget()===this){this.removeState("hovered");if(this.hasState("pressed")){this.removeState("pressed");this.addState("abandoned");this.__timer.stop()}}},_onPointerDown:function(e){if(e.isLeftPressed()){this.capture();this.__startInternalTimer();e.stopPropagation()}},_onPointerUp:function(e){this.releaseCapture();if(!this.hasState("abandoned")){this.addState("hovered");this.hasState("pressed")&&!this.__executed&&this.execute()}this.__stopInternalTimer();e.stopPropagation()},_onTap:function(e){},_onKeyUp:function(e){switch(e.getKeyIdentifier()){case"Enter":case"Space":if(this.hasState("pressed")){this.__executed||this.execute();this.removeState("pressed");this.removeState("abandoned");e.stopPropagation();this.__stopInternalTimer()}}},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case"Enter":case"Space":this.removeState("abandoned");this.addState("pressed");e.stopPropagation();this.__startInternalTimer()}},_onInterval:function(e){this.__executed=!0;this.fireEvent("execute")},__startInternalTimer:function(){this.fireEvent("press");this.__executed=!1;this.__timer.set({interval:this.getInterval(),firstInterval:this.getFirstInterval(),minimum:this.getMinTimer(),decrease:this.getTimerDecrease()}).start();this.removeState("abandoned");this.addState("pressed")},__stopInternalTimer:function(){this.fireEvent("release");this.__timer.stop();this.removeState("abandoned");this.removeState("pressed")}},destruct:function(){this._disposeObjects("__timer")}});qx.ui.form.RepeatButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{construct:!0,require:!0},"qx.ui.layout.Util":{},"qx.theme.manager.Decoration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.HBox",{extend:qx.ui.layout.Abstract,construct:function(e,t,i){qx.ui.layout.Abstract.constructor.call(this);e&&this.setSpacing(e);t&&this.setAlignX(t);i&&this.setSeparator(i)},properties:{alignX:{check:["left","center","right"],init:"left",apply:"_applyLayoutChange"},alignY:{check:["top","middle","bottom"],init:"top",apply:"_applyLayoutChange"},spacing:{check:"Integer",init:0,apply:"_applyLayoutChange"},separator:{check:"Decorator",nullable:!0,apply:"_applyLayoutChange"},reversed:{check:"Boolean",init:!1,apply:"_applyReversed"}},members:{__widths:null,__flexs:null,__enableFlex:null,__children:null,_applyReversed:function(){this._invalidChildrenCache=!0;this._applyLayoutChange()},__rebuildCache:function(){var e,t=this._getLayoutChildren(),i=t.length,n=!1,s=this.__widths&&this.__widths.length!=i&&this.__flexs&&this.__widths,r=s?this.__widths:new Array(i),o=s?this.__flexs:new Array(i);this.getReversed()&&(t=t.concat().reverse());for(var a=0;a<i;a++){null!=(e=t[a].getLayoutProperties()).width&&(r[a]=parseFloat(e.width)/100);if(null!=e.flex){o[a]=e.flex;n=!0}else o[a]=0}if(!s){this.__widths=r;this.__flexs=o}this.__enableFlex=n;this.__children=t;delete this._invalidChildrenCache},verifyLayoutProperty:function(e,t,i){this.assert("flex"===t||"width"===t,"The property '"+t+"' is not supported by the HBox layout!");if("width"==t)this.assertMatch(i,qx.ui.layout.Util.PERCENT_VALUE);else{this.assertNumber(i);this.assert(i>=0)}},renderLayout:function(e,t,i){this._invalidChildrenCache&&this.__rebuildCache();var n,s,r,o=this.__children,a=o.length,l=qx.ui.layout.Util,u=this.getSpacing(),c=this.getSeparator();if(c)var d=l.computeHorizontalSeparatorGaps(o,u,c);else d=l.computeHorizontalGaps(o,u,!0);var h=[],g=d;for(n=0;n<a;n+=1){r=this.__widths[n];x=o[n].getSizeHint();(b=null!=r?Math.floor((e-d)*r):x.width)<x.minWidth?b=x.minWidth:b>x.maxWidth&&(b=x.maxWidth);h.push(b);g+=b}if(this.__enableFlex&&g!=e){var m,f,p={};for(n=0;n<a;n+=1)if((m=this.__flexs[n])>0){x=o[n].getSizeHint();p[n]={min:x.minWidth,value:h[n],max:x.maxWidth,flex:m}}var _=l.computeFlexOffsets(p,e,g);for(n in _){f=_[n].offset;h[n]+=f;g+=f}}var x,q,v,b,y,C,w,E=o[0].getMarginLeft();if(g<e&&"left"!=this.getAlignX()){E=e-g;"center"===this.getAlignX()&&(E=Math.round(E/2))}u=this.getSpacing();this._clearSeparators();if(c)var S=qx.theme.manager.Decoration.getInstance().resolve(c).getInsets(),T=S.left+S.right;for(n=0;n<a;n+=1){s=o[n];b=h[n];x=s.getSizeHint();C=s.getMarginTop();w=s.getMarginBottom();v=Math.max(x.minHeight,Math.min(t-C-w,x.maxHeight));q=l.computeVerticalAlignOffset(s.getAlignY()||this.getAlignY(),v,t,C,w);if(n>0)if(c){E+=y+u;this._renderSeparator(c,{left:E+i.left,top:i.top,width:T,height:t});E+=T+u+s.getMarginLeft()}else E+=l.collapseMargins(u,y,s.getMarginLeft());s.renderLayout(E+i.left,q+i.top,b,v);E+=b;y=s.getMarginRight()}},_computeSizeHint:function(){this._invalidChildrenCache&&this.__rebuildCache();for(var e,t,i,n=qx.ui.layout.Util,s=this.__children,r=0,o=0,a=0,l=0,u=0,c=0,d=s.length;c<d;c+=1){o+=(t=(e=s[c]).getSizeHint()).width;var h=this.__flexs[c],g=this.__widths[c];h?r+=t.minWidth:g?a=Math.max(a,Math.round(t.minWidth/g)):r+=t.width;i=e.getMarginTop()+e.getMarginBottom();t.height+i>u&&(u=t.height+i);t.minHeight+i>l&&(l=t.minHeight+i)}r+=a;var m=this.getSpacing(),f=this.getSeparator();if(f)var p=n.computeHorizontalSeparatorGaps(s,m,f);else p=n.computeHorizontalGaps(s,m,!0);return{minWidth:r+p,width:o+p,minHeight:l,height:u}}},destruct:function(){this.__widths=this.__flexs=this.__children=null}});qx.ui.layout.HBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{construct:!0,require:!0},"qx.ui.layout.Util":{},"qx.theme.manager.Decoration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.VBox",{extend:qx.ui.layout.Abstract,construct:function(e,t,i){qx.ui.layout.Abstract.constructor.call(this);e&&this.setSpacing(e);t&&this.setAlignY(t);i&&this.setSeparator(i)},properties:{alignY:{check:["top","middle","bottom"],init:"top",apply:"_applyLayoutChange"},alignX:{check:["left","center","right"],init:"left",apply:"_applyLayoutChange"},spacing:{check:"Integer",init:0,apply:"_applyLayoutChange"},separator:{check:"Decorator",nullable:!0,apply:"_applyLayoutChange"},reversed:{check:"Boolean",init:!1,apply:"_applyReversed"}},members:{__heights:null,__flexs:null,__enableFlex:null,__children:null,_applyReversed:function(){this._invalidChildrenCache=!0;this._applyLayoutChange()},__rebuildCache:function(){var e,t=this._getLayoutChildren(),i=t.length,n=!1,s=this.__heights&&this.__heights.length!=i&&this.__flexs&&this.__heights,r=s?this.__heights:new Array(i),o=s?this.__flexs:new Array(i);this.getReversed()&&(t=t.concat().reverse());for(var a=0;a<i;a++){null!=(e=t[a].getLayoutProperties()).height&&(r[a]=parseFloat(e.height)/100);if(null!=e.flex){o[a]=e.flex;n=!0}else o[a]=0}if(!s){this.__heights=r;this.__flexs=o}this.__enableFlex=n;this.__children=t;delete this._invalidChildrenCache},verifyLayoutProperty:function(e,t,i){this.assert("flex"===t||"height"===t,"The property '"+t+"' is not supported by the VBox layout!");if("height"==t)this.assertMatch(i,qx.ui.layout.Util.PERCENT_VALUE);else{this.assertNumber(i);this.assert(i>=0)}},renderLayout:function(e,t,i){this._invalidChildrenCache&&this.__rebuildCache();var n,s,r,o=this.__children,a=o.length,l=qx.ui.layout.Util,u=this.getSpacing(),c=this.getSeparator();if(c)var d=l.computeVerticalSeparatorGaps(o,u,c);else d=l.computeVerticalGaps(o,u,!0);var h=[],g=d;for(n=0;n<a;n+=1){r=this.__heights[n];x=o[n].getSizeHint();(b=null!=r?Math.floor((t-d)*r):x.height)<x.minHeight?b=x.minHeight:b>x.maxHeight&&(b=x.maxHeight);h.push(b);g+=b}if(this.__enableFlex&&g!=t){var m,f,p={};for(n=0;n<a;n+=1)if((m=this.__flexs[n])>0){x=o[n].getSizeHint();p[n]={min:x.minHeight,value:h[n],max:x.maxHeight,flex:m}}var _=l.computeFlexOffsets(p,t,g);for(n in _){f=_[n].offset;h[n]+=f;g+=f}}var x,q,v,b,y,C,w,E=o[0].getMarginTop();if(g<t&&"top"!=this.getAlignY()){E=t-g;"middle"===this.getAlignY()&&(E=Math.round(E/2))}this._clearSeparators();if(c)var S=qx.theme.manager.Decoration.getInstance().resolve(c).getInsets(),T=S.top+S.bottom;for(n=0;n<a;n+=1){s=o[n];b=h[n];x=s.getSizeHint();C=s.getMarginLeft();w=s.getMarginRight();v=Math.max(x.minWidth,Math.min(e-C-w,x.maxWidth));q=l.computeHorizontalAlignOffset(s.getAlignX()||this.getAlignX(),v,e,C,w);if(n>0)if(c){E+=y+u;this._renderSeparator(c,{top:E+i.top,left:i.left,height:T,width:e});E+=T+u+s.getMarginTop()}else E+=l.collapseMargins(u,y,s.getMarginTop());s.renderLayout(q+i.left,E+i.top,v,b);E+=b;y=s.getMarginBottom()}},_computeSizeHint:function(){this._invalidChildrenCache&&this.__rebuildCache();for(var e,t,i,n=qx.ui.layout.Util,s=this.__children,r=0,o=0,a=0,l=0,u=0,c=0,d=s.length;c<d;c+=1){o+=(t=(e=s[c]).getSizeHint()).height;var h=this.__flexs[c],g=this.__heights[c];h?r+=t.minHeight:g?a=Math.max(a,Math.round(t.minHeight/g)):r+=t.height;i=e.getMarginLeft()+e.getMarginRight();t.width+i>u&&(u=t.width+i);t.minWidth+i>l&&(l=t.minWidth+i)}r+=a;var m=this.getSpacing(),f=this.getSeparator();if(f)var p=n.computeVerticalSeparatorGaps(s,m,f);else p=n.computeVerticalGaps(s,m,!0);return{minHeight:r+p,height:o+p,minWidth:l,width:u}}},destruct:function(){this.__heights=this.__flexs=this.__children=null}});qx.ui.layout.VBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}},environment:{provided:[],required:{"qx.debug.io.remote":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.transport.Abstract",{type:"abstract",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.setRequestHeaders({});this.setParameters({});this.setFormFields({})},events:{created:"qx.event.type.Event",configured:"qx.event.type.Event",sending:"qx.event.type.Event",receiving:"qx.event.type.Event",completed:"qx.event.type.Event",aborted:"qx.event.type.Event",failed:"qx.event.type.Event",timeout:"qx.event.type.Event"},properties:{url:{check:"String",nullable:!0},method:{check:"String",nullable:!0,init:"GET"},asynchronous:{check:"Boolean",nullable:!0,init:!0},data:{check:"String",nullable:!0},username:{check:"String",nullable:!0},password:{check:"String",nullable:!0},state:{check:["created","configured","sending","receiving","completed","aborted","timeout","failed"],init:"created",event:"changeState",apply:"_applyState"},requestHeaders:{check:"Object",nullable:!0},parameters:{check:"Object",nullable:!0},formFields:{check:"Object",nullable:!0},responseType:{check:"String",nullable:!0},useBasicHttpAuth:{check:"Boolean",nullable:!0}},members:{send:function(){throw new Error("send is abstract")},abort:function(){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Aborting...");this.setState("aborted")},timeout:function(){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Timeout...");this.setState("timeout")},failed:function(){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Failed...");this.setState("failed")},setRequestHeader:function(e,t){throw new Error("setRequestHeader is abstract")},getResponseHeader:function(e){throw new Error("getResponseHeader is abstract")},getResponseHeaders:function(){throw new Error("getResponseHeaders is abstract")},getStatusCode:function(){throw new Error("getStatusCode is abstract")},getStatusText:function(){throw new Error("getStatusText is abstract")},getResponseText:function(){throw new Error("getResponseText is abstract")},getResponseXml:function(){throw new Error("getResponseXml is abstract")},getFetchedLength:function(){throw new Error("getFetchedLength is abstract")},_applyState:function(e,t){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("State: "+e);switch(e){case"created":this.fireEvent("created");break;case"configured":this.fireEvent("configured");break;case"sending":this.fireEvent("sending");break;case"receiving":this.fireEvent("receiving");break;case"completed":this.fireEvent("completed");break;case"aborted":this.fireEvent("aborted");break;case"failed":this.fireEvent("failed");break;case"timeout":this.fireEvent("timeout")}return!0}},destruct:function(){this.setRequestHeaders(null);this.setParameters(null);this.setFormFields(null)}});qx.io.remote.transport.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.io.remote.transport.Abstract":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{construct:!0,defer:"runtime"},"qx.bom.Iframe":{construct:!0},"qx.bom.element.Style":{construct:!0},"qx.dom.Element":{construct:!0,defer:"runtime"},"qx.dom.Node":{construct:!0},"qx.event.Registration":{construct:!0,defer:"runtime"},"qx.lang.Function":{construct:!0},"qx.bom.Event":{construct:!0,defer:"runtime"},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.io.remote.Exchange":{defer:"runtime"},"qx.lang.Json":{},"qx.util.ResourceManager":{defer:"runtime"}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine",defer:!0},"qx.debug.io.remote":{},"qx.debug.io.remote.data":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.transport.Iframe",{extend:qx.io.remote.transport.Abstract,implement:[qx.core.IDisposable],construct:function(){qx.io.remote.transport.Abstract.constructor.call(this);var e,t=(new Date).valueOf(),i="frame_"+t,n="form_"+t;"mshtml"==qx.core.Environment.get("engine.name")&&(e="javascript:void(0)");this.__frame=qx.bom.Iframe.create({id:i,name:i,src:e});qx.bom.element.Style.set(this.__frame,"display","none");this.__form=qx.dom.Element.create("form",{id:n,name:n,target:i});qx.bom.element.Style.set(this.__form,"display","none");qx.dom.Element.insertEnd(this.__form,qx.dom.Node.getBodyElement(document));this.__data=qx.dom.Element.create("textarea",{id:"_data_",name:"_data_"});qx.dom.Element.insertEnd(this.__data,this.__form);qx.dom.Element.insertEnd(this.__frame,qx.dom.Node.getBodyElement(document));qx.event.Registration.addListener(this.__frame,"load",this._onload,this);this.__onreadystatechangeWrapper=qx.lang.Function.listener(this._onreadystatechange,this);qx.bom.Event.addNativeListener(this.__frame,"readystatechange",this.__onreadystatechangeWrapper)},statics:{handles:{synchronous:!1,asynchronous:!0,crossDomain:!1,fileUpload:!0,programmaticFormFields:!0,responseTypes:["text/plain","text/javascript","application/json","application/xml","text/html"]},isSupported:function(){return!0},_numericMap:{uninitialized:1,loading:2,loaded:2,interactive:3,complete:4}},members:{__data:null,__lastReadyState:0,__form:null,__frame:null,__onreadystatechangeWrapper:null,send:function(){var e=this.getMethod(),t=this.getUrl(),i=this.getParameters(!1),n=[];for(var s in i){if((o=i[s])instanceof Array)for(var r=0;r<o.length;r++)n.push(encodeURIComponent(s)+"="+encodeURIComponent(o[r]));else n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}n.length>0&&(t+=(t.indexOf("?")>=0?"&":"?")+n.join("&"));if(null===this.getData()){i=this.getParameters(!0),n=[];for(var s in i){var o;if((o=i[s])instanceof Array)for(r=0;r<o.length;r++)n.push(encodeURIComponent(s)+"="+encodeURIComponent(o[r]));else n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}n.length>0&&this.setData(n.join("&"))}var a=this.getFormFields();for(var s in a){var l=document.createElement("textarea");l.name=s;l.appendChild(document.createTextNode(a[s]));this.__form.appendChild(l)}this.__form.action=t;this.__form.method=e;this.__data.appendChild(document.createTextNode(this.getData()));this.__form.submit();this.setState("sending")},_onload:qx.event.GlobalError.observeMethod(function(e){"opera"==qx.core.Environment.get("engine.name")&&""==this.getIframeHtmlContent()||this.__form.src||this._switchReadyState(qx.io.remote.transport.Iframe._numericMap.complete)}),_onreadystatechange:qx.event.GlobalError.observeMethod(function(e){this._switchReadyState(qx.io.remote.transport.Iframe._numericMap[this.__frame.readyState])}),_switchReadyState:function(e){switch(this.getState()){case"completed":case"aborted":case"failed":case"timeout":this.warn("Ignore Ready State Change");return}for(;this.__lastReadyState<e;)this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState])},setRequestHeader:function(e,t){},getResponseHeader:function(e){return null},getResponseHeaders:function(){return{}},getStatusCode:function(){return 200},getStatusText:function(){return""},getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__frame)},getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__frame)},getIframeBody:function(){return qx.bom.Iframe.getBody(this.__frame)},getIframeTextContent:function(){var e=this.getIframeBody();return e?e.firstChild?e.firstChild.tagName&&"pre"==e.firstChild.tagName.toLowerCase()?e.firstChild.innerHTML:e.innerHTML:"":null},getIframeHtmlContent:function(){var e=this.getIframeBody();return e?e.innerHTML:null},getFetchedLength:function(){return 0},getResponseContent:function(){if("completed"!==this.getState()){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Transfer not complete, ignoring content!");return null}qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Returning content for responseType: "+this.getResponseType());var e=this.getIframeTextContent();switch(this.getResponseType()){case"text/plain":qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);return e;case"text/html":e=this.getIframeHtmlContent();qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);return e;case"application/json":e=this.getIframeHtmlContent();qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);try{return e&&e.length>0?qx.lang.Json.parse(e):null}catch(t){return this.error("Could not execute json: ("+e+")",t)}case"text/javascript":e=this.getIframeHtmlContent();qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);try{return e&&e.length>0?window.eval(e):null}catch(t){return this.error("Could not execute javascript: ("+e+")",t)}case"application/xml":e=this.getIframeDocument();qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);return e;default:this.warn("No valid responseType specified ("+this.getResponseType()+")!");return null}}},defer:function(){qx.io.remote.Exchange.registerType(qx.io.remote.transport.Iframe,"qx.io.remote.transport.Iframe")},destruct:function(){if(this.__frame){qx.event.Registration.removeListener(this.__frame,"load",this._onload,this);qx.bom.Event.removeNativeListener(this.__frame,"readystatechange",this.__onreadystatechangeWrapper);"gecko"==qx.core.Environment.get("engine.name")&&(this.__frame.src=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif"));qx.dom.Element.remove(this.__frame)}this.__form&&qx.dom.Element.remove(this.__form);this.__frame=this.__form=this.__data=null}});qx.io.remote.transport.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.io.remote.transport.Abstract":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.io.remote.Exchange":{defer:"runtime"}},environment:{provided:[],required:{"qx.debug.io.remote":{},"qx.debug.io.remote.data":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.transport.Script",{extend:qx.io.remote.transport.Abstract,implement:[qx.core.IDisposable],construct:function(){qx.io.remote.transport.Abstract.constructor.call(this);var e=++qx.io.remote.transport.Script.__uniqueId;e>=2e9&&(qx.io.remote.transport.Script.__uniqueId=e=1);this.__element=null;this.__uniqueId=e},statics:{__uniqueId:0,_instanceRegistry:{},ScriptTransport_PREFIX:"_ScriptTransport_",ScriptTransport_ID_PARAM:"_ScriptTransport_id",ScriptTransport_DATA_PARAM:"_ScriptTransport_data",handles:{synchronous:!1,asynchronous:!0,crossDomain:!0,fileUpload:!1,programmaticFormFields:!1,responseTypes:["text/plain","text/javascript","application/json"]},isSupported:function(){return!0},_numericMap:{uninitialized:1,loading:2,loaded:2,interactive:3,complete:4},_requestFinished:qx.event.GlobalError.observeMethod(function(e,t){var i=qx.io.remote.transport.Script._instanceRegistry[e];if(null==i)qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Request finished for an unknown instance (probably aborted or timed out before)");else{i._responseContent=t;i._switchReadyState(qx.io.remote.transport.Script._numericMap.complete)}})},members:{__lastReadyState:0,__element:null,__uniqueId:null,send:function(){var e=this.getUrl();e+=(e.indexOf("?")>=0?"&":"?")+qx.io.remote.transport.Script.ScriptTransport_ID_PARAM+"="+this.__uniqueId;var t=this.getParameters(),i=[];for(var n in t){0==n.indexOf(qx.io.remote.transport.Script.ScriptTransport_PREFIX)&&this.error("Illegal parameter name. The following prefix is used internally by qooxdoo): "+qx.io.remote.transport.Script.ScriptTransport_PREFIX);var s=t[n];if(s instanceof Array)for(var r=0;r<s.length;r++)i.push(encodeURIComponent(n)+"="+encodeURIComponent(s[r]));else i.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}i.length>0&&(e+="&"+i.join("&"));var o=this.getData();null!=o&&(e+="&"+qx.io.remote.transport.Script.ScriptTransport_DATA_PARAM+"="+encodeURIComponent(o));qx.io.remote.transport.Script._instanceRegistry[this.__uniqueId]=this;this.__element=document.createElement("script");this.__element.charset="utf-8";this.__element.src=e;qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Request: "+e);document.body.appendChild(this.__element)},_switchReadyState:function(e){switch(this.getState()){case"completed":case"aborted":case"failed":case"timeout":this.warn("Ignore Ready State Change");return}for(;this.__lastReadyState<e;)this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState])},setRequestHeader:function(e,t){},getResponseHeader:function(e){return null},getResponseHeaders:function(){return{}},getStatusCode:function(){return 200},getStatusText:function(){return""},getFetchedLength:function(){return 0},getResponseContent:function(){if("completed"!==this.getState()){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Transfer not complete, ignoring content!");return null}qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Returning content for responseType: "+this.getResponseType());switch(this.getResponseType()){case"text/plain":case"application/json":case"text/javascript":qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+this._responseContent);var e=this._responseContent;return 0===e?0:e||null;default:this.warn("No valid responseType specified ("+this.getResponseType()+")!");return null}}},defer:function(){qx.io.remote.Exchange.registerType(qx.io.remote.transport.Script,"qx.io.remote.transport.Script")},destruct:function(){if(this.__element){delete qx.io.remote.transport.Script._instanceRegistry[this.__uniqueId];document.body.removeChild(this.__element)}this.__element=this._responseContent=null}});qx.io.remote.transport.Script.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.io.remote.transport.Abstract":{require:!0},"qx.core.IDisposable":{require:!0},"qx.bom.client.Engine":{require:!0},"qx.xml.Document":{},"qx.lang.Function":{},"qx.bom.client.Browser":{},"qx.event.Timer":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.io.remote.Exchange":{defer:"runtime"},"qx.lang.Json":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"qx.debug.io.remote.data":{},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"qx.debug.io.remote":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.transport.XmlHttp",{extend:qx.io.remote.transport.Abstract,implement:[qx.core.IDisposable],statics:{handles:{synchronous:!0,asynchronous:!0,crossDomain:!1,fileUpload:!1,programmaticFormFields:!1,responseTypes:["text/plain","text/javascript","application/json","application/xml","text/html"]},createRequestObject:qx.core.Environment.select("engine.name",{default:function(){return new XMLHttpRequest},mshtml:function(){return window.ActiveXObject&&qx.xml.Document.XMLHTTP?new ActiveXObject(qx.xml.Document.XMLHTTP):window.XMLHttpRequest?new XMLHttpRequest:void 0}}),isSupported:function(){return!!this.createRequestObject()},__timeout:0,setTimeout:function(e){this.__timeout=e},getTimeout:function(){return this.__timeout}},properties:{parseJson:{check:"Boolean",init:!0}},members:{__localRequest:!1,__lastReadyState:0,__request:null,getRequest:function(){if(null===this.__request){this.__request=qx.io.remote.transport.XmlHttp.createRequestObject();this.__request.onreadystatechange=qx.lang.Function.bind(this._onreadystatechange,this)}return this.__request},send:function(){this.__lastReadyState=0;var e=this.getRequest(),t=this.getMethod(),i=this.getAsynchronous(),n=this.getUrl(),s="file:"===window.location.protocol&&!/^http(s){0,1}\:/.test(n);this.__localRequest=s;var r=this.getParameters(!1),o=[];for(var a in r){if((u=r[a])instanceof Array)for(var l=0;l<u.length;l++)o.push(encodeURIComponent(a)+"="+encodeURIComponent(u[l]));else o.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}o.length>0&&(n+=(n.indexOf("?")>=0?"&":"?")+o.join("&"));if(null===this.getData()){r=this.getParameters(!0),o=[];for(var a in r){var u;if((u=r[a])instanceof Array)for(l=0;l<u.length;l++)o.push(encodeURIComponent(a)+"="+encodeURIComponent(u[l]));else o.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}o.length>0&&this.setData(o.join("&"))}try{if(this.getUsername())if(this.getUseBasicHttpAuth()){e.open(t,n,i);e.setRequestHeader("Authorization","Basic "+function(e){var t,i,n,s,r,o,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;do{t=e.charCodeAt(c++);i=e.charCodeAt(c++);n=e.charCodeAt(c++);s=t>>2;r=(3&t)<<4|i>>4;o=(15&i)<<2|n>>6;a=63&n;isNaN(i)?o=a=64:isNaN(n)&&(a=64);u+=l.charAt(s)+l.charAt(r)+l.charAt(o)+l.charAt(a)}while(c<e.length);return u}(this.getUsername()+":"+this.getPassword()))}else e.open(t,n,i,this.getUsername(),this.getPassword());else e.open(t,n,i)}catch(e){this.error("Failed with exception: "+e);this.failed();return}var c=qx.io.remote.transport.XmlHttp.getTimeout();c&&i&&(e.timeout=c);var d=this.getRequestHeaders();for(var a in d)e.setRequestHeader(a,d[a]);try{qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Request: "+this.getData());s&&i&&"mshtml"==qx.core.Environment.get("engine.name")&&9==qx.core.Environment.get("engine.version")&&9==qx.core.Environment.get("browser.documentmode")?qx.event.Timer.once(function(){e.send(this.getData())},this,0):e.send(this.getData())}catch(e){if(s)this.failedLocally();else{this.error("Failed to send data to URL '"+n+"': "+e,"send");this.failed()}return}i||this._onreadystatechange()},failedLocally:function(){if("failed"!==this.getState()){this.warn("Could not load from file: "+this.getUrl());this.failed()}},_onreadystatechange:qx.event.GlobalError.observeMethod(function(e){switch(this.getState()){case"completed":case"aborted":case"failed":case"timeout":qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Ignore Ready State Change");return}var t=this.getReadyState();if(4!=t||qx.io.remote.Exchange.wasSuccessful(this.getStatusCode(),t,this.__localRequest)){3==t&&1==this.__lastReadyState&&this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]);for(;this.__lastReadyState<t;)this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState])}else{"configured"===this.getState()&&this.setState("sending");this.failed()}}),getReadyState:function(){var e=null;try{e=this.getRequest().readyState}catch(e){}return e},setRequestHeader:function(e,t){this.getRequestHeaders()[e]=t},getResponseHeader:function(e){var t=null;try{t=this.getRequest().getResponseHeader(e)||null}catch(e){}return t},getStringResponseHeaders:function(){var e=null;try{var t=this.getRequest().getAllResponseHeaders();t&&(e=t)}catch(e){}return e},getResponseHeaders:function(){var e=this.getStringResponseHeaders(),t={};if(e)for(var i=e.split(/[\r\n]+/g),n=0,s=i.length;n<s;n++){var r=i[n].match(/^([^:]+)\s*:\s*(.+)$/i);r&&(t[r[1]]=r[2])}return t},getStatusCode:function(){var e=-1;try{1223===(e=this.getRequest().status)&&(e=204)}catch(e){}return e},getStatusText:function(){var e="";try{e=this.getRequest().statusText}catch(e){}return e},getResponseText:function(){var e=null;try{e=this.getRequest().responseText}catch(t){e=null}return e},getResponseXml:function(){var e=null,t=this.getStatusCode(),i=this.getReadyState();if(qx.io.remote.Exchange.wasSuccessful(t,i,this.__localRequest))try{e=this.getRequest().responseXML}catch(e){}if("object"!=_typeof(e)||null==e)throw new Error("Response was not a valid xml document ["+this.getRequest().responseText+"]");if(!e.documentElement){var n=String(this.getRequest().responseText).replace(/<\?xml[^\?]*\?>/,"");e.loadXML(n)}if(!e.documentElement)throw new Error("Missing Document Element!");if("parseerror"==e.documentElement.tagName)throw new Error("XML-File is not well-formed!");return e},getFetchedLength:function(){var e=this.getResponseText();return"string"==typeof e?e.length:0},getResponseContent:function(){var e=this.getState();if("completed"!==e&&"failed"!=e){qx.core.Environment.get("qx.debug.io.remote")&&this.warn("Transfer not complete or failed, ignoring content!");return null}qx.core.Environment.get("qx.debug.io.remote")&&this.debug("Returning content for responseType: "+this.getResponseType());var t=this.getResponseText();if("failed"==e){qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Failed: "+t);return t}switch(this.getResponseType()){case"text/plain":case"text/html":qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+t);return t;case"application/json":qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+t);try{if(t&&t.length>0){return i=this.getParseJson()?0===(i=qx.lang.Json.parse(t))?0:i||null:t}return null}catch(e){this.error("Could not execute json: ["+t+"]",e);return"<pre>Could not execute json: \n"+t+"\n</pre>"}case"text/javascript":qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+t);try{if(t&&t.length>0){var i;return 0===(i=window.eval(t))?0:i||null}return null}catch(e){this.error("Could not execute javascript: ["+t+"]",e);return null}case"application/xml":t=this.getResponseXml();qx.core.Environment.get("qx.debug.io.remote.data")&&this.debug("Response: "+t);return 0===t?0:t||null;default:this.warn("No valid responseType specified ("+this.getResponseType()+")!");return null}},_applyState:function(e,t){qx.core.Environment.get("qx.debug.io.remote")&&this.debug("State: "+e);switch(e){case"created":this.fireEvent("created");break;case"configured":this.fireEvent("configured");break;case"sending":this.fireEvent("sending");break;case"receiving":this.fireEvent("receiving");break;case"completed":this.fireEvent("completed");break;case"failed":this.fireEvent("failed");break;case"aborted":this.getRequest().abort();this.fireEvent("aborted");break;case"timeout":this.getRequest().abort();this.fireEvent("timeout")}}},defer:function(){qx.io.remote.Exchange.registerType(qx.io.remote.transport.XmlHttp,"qx.io.remote.transport.XmlHttp")},destruct:function(){var e=this.getRequest();if(e){e.onreadystatechange=function(){};switch(e.readyState){case 1:case 2:case 3:e.abort()}}this.__request=null}});qx.io.remote.transport.XmlHttp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Event":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.remote.Response",{extend:qx.event.type.Event,properties:{state:{check:"Integer",nullable:!0},statusCode:{check:"Integer",nullable:!0},content:{nullable:!0},responseHeaders:{check:"Object",nullable:!0,apply:"_applyResponseHeaders"}},members:{__lowerHeaders:null,clone:function(e){var t=qx.io.remote.Response.prototype.clone.base.call(this,e);t.setType(this.getType());t.setState(this.getState());t.setStatusCode(this.getStatusCode());t.setContent(this.getContent());t.setResponseHeaders(this.getResponseHeaders());return t},getResponseHeader:function(e){return this.__lowerHeaders&&this.__lowerHeaders[e.toLowerCase()]||null},_applyResponseHeaders:function(e,t){var i={};if(null!==e){Object.keys(e).forEach(function(t){i[t.toLowerCase()]=e[t]});this.__lowerHeaders=i}}}});qx.io.remote.Response.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Timer":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.AcceleratingTimer",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(){qx.core.Object.constructor.call(this);this.__timer=new qx.event.Timer(this.getInterval());this.__timer.addListener("interval",this._onInterval,this)},events:{interval:"qx.event.type.Event"},properties:{interval:{check:"Integer",init:100},firstInterval:{check:"Integer",init:500},minimum:{check:"Integer",init:20},decrease:{check:"Integer",init:2}},members:{__timer:null,__currentInterval:null,start:function(){this.__timer.setInterval(this.getFirstInterval());this.__timer.start()},stop:function(){this.__timer.stop();this.__currentInterval=null},_onInterval:function(){this.__timer.stop();null==this.__currentInterval&&(this.__currentInterval=this.getInterval());this.__currentInterval=Math.max(this.getMinimum(),this.__currentInterval-this.getDecrease());this.__timer.setInterval(this.__currentInterval);this.__timer.start();this.fireEvent("interval")}},destruct:function(){this._disposeObjects("__timer")}});qx.event.AcceleratingTimer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.EventEmitterDummy",{extend:qx.core.Object,events:{plain:"qx.event.type.Event",error:"qx.__12345__",data:"qx.event.type.Data",eventName:"qx.event.type.Data"}});qx.test.core.EventEmitterDummy.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.InheritanceDummy",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.children=[]},properties:{enabled:{inheritable:!0},width_:{inheritable:!0,themeable:!0},height_:{inheritable:!0,themeable:!0},left_:{inheritable:!0,themeable:!0},top_:{inheritable:!0,themeable:!0}},members:{add:function(e){this.children.push(e);e.parent=this;e.$$refreshInheritables()},_getChildren:function(){return this.children},getLayoutParent:function(){return this.parent}}});qx.test.core.InheritanceDummy.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Object":{},"qx.core.IDisposable":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.MemoryManagement",{extend:qx.dev.unit.TestCase,members:{testEnvSetting:function(){var e=qx.Class.define(null,{extend:qx.core.Object,implement:[qx.core.IDisposable]}),t=qx.Class.define(null,{extend:qx.core.Object});this.assertTrue(!0);var i=new e,n=new t;this.assertIdentical(i,qx.core.ObjectRegistry.fromHashCode(i.toHashCode()));this.assertNull(qx.core.ObjectRegistry.fromHashCode(n.toHashCode()))}}});qx.test.core.MemoryManagement.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.core.Object":{},"qx.test.core.EventEmitterDummy":{},"qx.log.Logger":{},"qx.event.type.Event":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Object",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,events:{test:"qx.event.type.Event",test2:"qx.event.type.Event"},members:{testHasListener:function(){var e=function(){};this.assertFalse(this.hasListener("testHasListener",!1));this.assertFalse(this.hasListener("testHasListener2",!1));this.addListener("testHasListener",e,this,!1);this.assertTrue(this.hasListener("testHasListener",!1));this.assertFalse(this.hasListener("testHasListener2",!1));this.addListener("testHasListener2",e,this,!1);this.assertTrue(this.hasListener("testHasListener",!1));this.assertTrue(this.hasListener("testHasListener2",!1));this.removeListener("testHasListener",e,this,!1);this.removeListener("testHasListener2",e,this,!1);this.assertFalse(this.hasListener("testHasListener",!1));this.assertFalse(this.hasListener("testHasListener2",!1))},testAddListener:function(){var e=function(){};this.addListener("testAddListener",e,this,!1);this.assertTrue(this.hasListener("testAddListener",!1));this.removeListener("testAddListener",e,this,!1);this.assertFalse(this.hasListener("testAddListener",!1))},testAddListenerOnce:function(){var e=function(){};this.addListenerOnce("testAddListenerOnce",e,this,!1);this.assertTrue(this.hasListener("testAddListenerOnce",!1));this.removeListener("testAddListenerOnce",e,this,!1);this.assertFalse(this.hasListener("testAddListenerOnce",!1))},testAddListenerOnceWithSameListener:function(){var e=0,t=function(){e++};this.addListenerOnce("test",t);this.addListenerOnce("test2",t);this.fireEvent("test");this.assertEquals(1,e);this.fireEvent("test");this.assertEquals(1,e)},testAddListenerOnceWithDifferentContext:function(){var e=0,t=function(){e++};this.addListenerOnce("test",t,{name:"context1"});this.addListenerOnce("test",t,{name:"context2"});this.fireEvent("test");this.assertEquals(2,e)},testRemoveListenerById:function(){var e=this.addListener("testRemoveListenerById",function(){},this,!1);this.assertTrue(this.hasListener("testRemoveListenerById",!1));this.removeListenerById(e);this.assertFalse(this.hasListener("testRemoveListenerById",!1))},testRemoveListenerOnceById:function(){var e=this.addListenerOnce("testRemoveListenerOnceById",function(){},this,!1);this.assertTrue(this.hasListener("testRemoveListenerOnceById",!1));this.removeListenerById(e);this.assertFalse(this.hasListener("testRemoveListenerOnceById",!1))},testUserData:function(){var e=new qx.core.Object;this.assertNull(e.getUserData("foo"));e.setUserData("foo","bar");this.assertEquals("bar",e.getUserData("foo"));this.assertNull(e.getUserData("bar"));e.dispose()},testRemoveListenerByIdAsync:function(){var e=!1,t=this.addListener("testRemoveListenerByIdAsync",function(){e=!0},this);this.removeListenerById(t);this.fireEvent("testRemoveListenerByIdAsync");var i=this;window.setTimeout(function(){i.resume(function(){this.assertFalse(e,"Event has been executed.")},i)},3e3);this.wait()},testFireDataEvent:function(){var e=this,t=[];t.push({value:"a",old:"b"});t.push({value:"a",old:""});t.push({value:1,old:0});t.push({value:12,old:-123});t.push({value:!0,old:!1});t.push({value:!1,old:!0});t.push({value:/^a/,old:null});t.push({value:["a"],old:[]});for(var i=new qx.test.core.EventEmitterDummy,n=0;n<t.length;n++)this.assertEventFired(i,"eventName",function(){i.fireDataEvent("eventName",t[n].value,t[n].old)},function(i){e.assertEquals(t[n].value,i.getData());e.assertEquals(t[n].old,i.getOldData())});i.dispose()},testFireEventTypeCheck:function(){if(this.isDebugOn()){var e=new qx.test.core.EventEmitterDummy;e.addListener("plain",function(){});e.addListener("error",function(){});e.addListener("data",function(){});var t=qx.log.Logger.error,i=0;qx.log.Logger.error=function(){i+=1};e.fireEvent("plain",qx.event.type.Event);this.assertEquals(0,i);e.fireEvent("error",qx.event.type.Event);this.assertEquals(1,i);e.fireEvent("data",qx.event.type.Event);this.assertEquals(2,i);e.fireEvent("data",qx.event.type.Data);this.assertEquals(2,i);qx.log.Logger.error=t;e.dispose()}},testDisposeObject:function(){var e;(e=new qx.core.Object).o=new qx.core.Object;e._disposeObjects("o");this.assertNull(e.o);e._disposeObjects("x");qx.Class.define("qx.test.Single",{extend:qx.core.Object,type:"singleton"});e.dispose();(e=new qx.core.Object).s=qx.test.Single.getInstance();this.assertException(function(){e._disposeObjects("s")});qx.Class.undefine("qx.test.Single");e.dispose()},testDisposeBindingWithChain:function(){qx.Class.define("qx.test.Single",{extend:qx.core.Object,properties:{a:{event:"changeA",nullable:!0}}});var e=new qx.test.Single,t=new qx.test.Single,i=new qx.test.Single;e.bind("a.a",t,"a");e.setA(i);this.assertEquals(1,e.getBindings().length);e.dispose();this.assertEquals(0,e.getBindings().length);this.assertEventNotFired(t,"changeA",function(){i.setA("affe")});t.dispose();i.dispose();qx.Class.undefine("qx.test.Single")},testDisposeBindingWithSelfChain:function(){qx.Class.define("qx.test.Single",{extend:qx.core.Object,properties:{a:{event:"changeA",nullable:!0},b:{event:"changeB",nullable:!0,apply:"applyB"}},members:{applyB:function(){},init:function(){this.bind("a.a",this,"b")}}});var e=new qx.test.Single,t=new qx.test.Single,i=this.spy(e,"applyB");e.init();e.setA(t);this.assertEquals(1,e.getBindings().length);e.dispose();t.setA("affe");this.assertEquals(0,e.getBindings().length);this.assertCalledOnce(i);t.dispose();qx.Class.undefine("qx.test.Single")},testDisposeBinding:function(){qx.Class.define("qx.test.Single",{extend:qx.core.Object,properties:{a:{event:"changeA",nullable:!0},b:{event:"changeB",nullable:!0}}});var e=new qx.test.Single,t=new qx.test.Single;e.bind("a",t,"a");e.bind("a",e,"b");t.bind("a",e,"a");this.assertEquals(3,e.getBindings().length);this.assertEquals(2,t.getBindings().length);e.dispose();t.dispose();qx.Class.undefine("qx.test.Single");this.assertEquals(0,e.getBindings().length);this.assertEquals(0,t.getBindings().length)},testDisposeSingletonObject:function(){qx.Class.define("qx.test.Single",{extend:qx.core.Object,type:"singleton"});var e=new qx.core.Object;e.o=new qx.core.Object;e.s=qx.test.Single.getInstance();e._disposeSingletonObjects("o","s");this.assertTrue(null==e.o);this.assertTrue(null==e.s);qx.Class.undefine("qx.test.Single");e.dispose()},testIsPropertyInitialized:function(){qx.Class.define("qx.test.MyClass",{extend:qx.core.Object,properties:{a:{},b:{init:!1}}});var e=new qx.test.MyClass;this.assertFalse(e.isPropertyInitialized("a"));e.setA(!1);this.assertTrue(e.isPropertyInitialized("a"));this.assertTrue(e.isPropertyInitialized("b"));qx.Class.undefine("qx.test.MyClass");e.dispose()}}});qx.test.core.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.core.Object":{},"qx.ui.form.TextField":{},"qx.core.Id":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.ObjectId",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{testGetObject:function(){qx.Class.define("demo.MyClass",{extend:qx.core.Object,members:{_createQxObjectImpl:function(e){switch(e){case"txt":return new qx.ui.form.TextField}return demo.MyClass.prototype._createQxObjectImpl.base.call(this,e)}}});var e=new demo.MyClass,t=qx.core.Id.getInstance();t.register(e,"test");var i=e.getQxObject("txt");this.assertTrue(i===e.getQxObject("txt"));this.assertTrue("txt"===i.getQxObjectId());this.assertTrue(t.getQxObject("test")===e);this.assertTrue(t.getQxObject("test/txt")===i);e.removeOwnedQxObject(i);var n=e.getQxObject("txt");this.assertTrue(i!==n);this.assertTrue(n===e.getQxObject("txt"));i.setQxObjectId("txt-orig");e.addOwnedQxObject(i);this.assertTrue(i===e.getQxObject("txt-orig"));var s=new demo.MyClass;s.addOwnedQxObject(i);this.assertTrue(void 0===e.getQxObject("txt-orig"));this.assertTrue(s.getQxObject("txt-orig")===i);t.unregister("test");this.assertTrue(!t.getQxObject("test"))}}});qx.test.core.ObjectId.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.IStringForm":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.theme.manager.Color":{},"qx.ui.style.Stylesheet":{defer:"runtime"},"qx.bom.client.Css":{construct:!0},"qx.locale.Manager":{construct:!0,defer:"runtime"},"qx.html.Input":{},"qx.util.ResourceManager":{},"qx.theme.manager.Font":{},"qx.bom.webfonts.WebFont":{},"qx.bom.Font":{},"qx.html.Element":{},"qx.bom.Label":{},"qx.ui.core.queue.Layout":{},"qx.event.type.Data":{},"qx.lang.Type":{},"qx.html.Label":{},"qx.bom.Stylesheet":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"},"engine.version":{className:"qx.bom.client.Engine"},"css.placeholder":{construct:!0,className:"qx.bom.client.Css"},"browser.documentmode":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.AbstractField",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IStringForm,qx.ui.form.IForm],include:[qx.ui.form.MForm],type:"abstract",statics:{__stylesheet:null,__addPlaceholderRules:function(){var e,t=qx.core.Environment.get("engine.name"),i=qx.core.Environment.get("browser.name"),n=qx.theme.manager.Color.getInstance().resolve("text-placeholder");if("gecko"==t){e=parseFloat(qx.core.Environment.get("engine.version"))>=19?"input::-moz-placeholder, textarea::-moz-placeholder":"input:-moz-placeholder, textarea:-moz-placeholder";qx.ui.style.Stylesheet.getInstance().addRule(e,"color: "+n+" !important")}else if("webkit"==t&&"edge"!=i){e="input.qx-placeholder-color::-webkit-input-placeholder, textarea.qx-placeholder-color::-webkit-input-placeholder";qx.ui.style.Stylesheet.getInstance().addRule(e,"color: "+n)}else if("mshtml"==t||"edge"==i){e=["input.qx-placeholder-color","-ms-input-placeholder, textarea.qx-placeholder-color","-ms-input-placeholder"].join("edge"==i?"::":":");qx.ui.style.Stylesheet.getInstance().addRule(e,"color: "+n+" !important")}}},construct:function(e){qx.ui.core.Widget.constructor.call(this);this.__useQxPlaceholder=!qx.core.Environment.get("css.placeholder");null!=e&&this.setValue(e);this.getContentElement().addListener("change",this._onChangeContent,this);if(this.__useQxPlaceholder)this.addListener("syncAppearance",this._syncPlaceholder,this);else{qx.ui.form.AbstractField.__addPlaceholderRules();this.getContentElement().addClass("qx-placeholder-color")}qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this)},events:{input:"qx.event.type.Data",changeValue:"qx.event.type.Data"},properties:{textAlign:{check:["left","center","right"],nullable:!0,themeable:!0,apply:"_applyTextAlign"},readOnly:{check:"Boolean",apply:"_applyReadOnly",event:"changeReadOnly",init:!1},selectable:{refine:!0,init:!0},focusable:{refine:!0,init:!0},maxLength:{apply:"_applyMaxLength",check:"PositiveInteger",init:1/0},liveUpdate:{check:"Boolean",init:!1},placeholder:{check:"String",nullable:!0,apply:"_applyPlaceholder"},filter:{check:"RegExp",nullable:!0,init:null}},members:{__nullValue:!0,_placeholder:null,__oldValue:null,__oldInputValue:null,__useQxPlaceholder:!0,__font:null,__webfontListenerId:null,getFocusElement:function(){var e=this.getContentElement();if(e)return e},_createInputElement:function(){return new qx.html.Input("text")},renderLayout:function(e,t,i,n){var s=this._updateInsets,r=qx.ui.form.AbstractField.prototype.renderLayout.base.call(this,e,t,i,n);if(r){var o=r.size||s;if(o||r.local||r.margin)var a=i,l=n;var u=this.getContentElement();if(s&&this.__useQxPlaceholder&&this.__useQxPlaceholder){var c=this.getInsets();this._getPlaceholderElement().setStyles({paddingTop:c.top+"px",paddingRight:c.right+"px",paddingBottom:c.bottom+"px",paddingLeft:c.left+"px"})}if(o||r.margin){if(this.__useQxPlaceholder){c=this.getInsets();this._getPlaceholderElement().setStyles({width:a-c.left-c.right+"px",height:l-c.top-c.bottom+"px"})}u.setStyles({width:a+"px",height:l+"px"});this._renderContentElement(l,u)}r.position&&this.__useQxPlaceholder&&this._getPlaceholderElement().setStyles({left:e+"px",top:t+"px"})}},_renderContentElement:function(e,t){},_createContentElement:function(){var e=this._createInputElement();e.setSelectable(this.getSelectable());e.setEnabled(this.getEnabled());e.addListener("input",this._onHtmlInput,this);e.setAttribute("spellcheck","false");e.addClass("qx-abstract-field");"mshtml"==qx.core.Environment.get("engine.name")&&8==qx.core.Environment.get("browser.documentmode")&&e.setStyles({backgroundImage:"url("+qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif")+")"});return e},_applyEnabled:function(e,t){qx.ui.form.AbstractField.prototype._applyEnabled.base.call(this,e,t);this.getContentElement().setEnabled(e);if(this.__useQxPlaceholder)e?this._showPlaceholder():this._removePlaceholder();else{this.getContentElement().setAttribute("placeholder",e?this.getPlaceholder():"")}},__textSize:{width:16,height:16},_getContentHint:function(){return{width:10*this.__textSize.width,height:this.__textSize.height||16}},_applyFont:function(e,t){if(t&&this.__font&&this.__webfontListenerId){this.__font.removeListenerById(this.__webfontListenerId);this.__webfontListenerId=null}var i;if(e){this.__font=qx.theme.manager.Font.getInstance().resolve(e);this.__font instanceof qx.bom.webfonts.WebFont&&(this.__webfontListenerId=this.__font.addListener("changeStatus",this._onWebFontStatusChange,this));i=this.__font.getStyles()}else i=qx.bom.Font.getDefaultStyles();null!=this.getTextColor()&&delete i.color;if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<11){qx.html.Element.flush();this.getContentElement().setStyles(i,!0)}else this.getContentElement().setStyles(i);if(this.__useQxPlaceholder){delete i.color;this._getPlaceholderElement().setStyles(i)}e?this.__textSize=qx.bom.Label.getTextSize("A",i):delete this.__textSize;qx.ui.core.queue.Layout.add(this)},_applyTextColor:function(e,t){e?this.getContentElement().setStyle("color",qx.theme.manager.Color.getInstance().resolve(e)):this.getContentElement().removeStyle("color")},_applyMaxLength:function(e,t){e?this.getContentElement().setAttribute("maxLength",e):this.getContentElement().removeAttribute("maxLength")},tabFocus:function(){qx.ui.form.AbstractField.prototype.tabFocus.base.call(this);this.selectAllText()},_getTextSize:function(){return this.__textSize},_onHtmlInput:function(e){var t=e.getData(),i=!0;this.__nullValue=!1;this.__oldInputValue&&this.__oldInputValue===t&&(i=!1);if(null!=this.getFilter()){var n=this._validateInput(t);if(n!=t){i=this.__oldInputValue!==n;t=n;this.getContentElement().setValue(t)}}if(i){this.fireDataEvent("input",t,this.__oldInputValue);this.__oldInputValue=t;this.getLiveUpdate()&&this.__fireChangeValueEvent(t)}},_onWebFontStatusChange:function(e){if(!0===e.getData().valid){var t=this.__font.getStyles();this.__textSize=qx.bom.Label.getTextSize("A",t);qx.ui.core.queue.Layout.add(this)}},__fireChangeValueEvent:function(e){var t=this.__oldValue;this.__oldValue=e;t!=e&&this.fireNonBubblingEvent("changeValue",qx.event.type.Data,[e,t])},setValue:function(e){if(this.isDisposed())return null;if(null===e){if(this.__nullValue)return e;e="";this.__nullValue=!0}else{this.__nullValue=!1;this.__useQxPlaceholder&&this._removePlaceholder()}if(qx.lang.Type.isString(e)){var t=this.getContentElement();if(t.getValue()!=e){var i=t.getValue();t.setValue(e);var n=this.__nullValue?null:e;this.__oldValue=i;this.__fireChangeValueEvent(n);this.__oldInputValue=this.__oldValue}this.__useQxPlaceholder&&this._showPlaceholder();return e}throw new Error("Invalid value type: "+e)},getValue:function(){return this.isDisposed()||this.__nullValue?null:this.getContentElement().getValue()},resetValue:function(){this.setValue(null)},_onChangeContent:function(e){this.__nullValue=null===e.getData();this.__fireChangeValueEvent(e.getData())},getTextSelection:function(){return this.getContentElement().getTextSelection()},getTextSelectionLength:function(){return this.getContentElement().getTextSelectionLength()},getTextSelectionStart:function(){return this.getContentElement().getTextSelectionStart()},getTextSelectionEnd:function(){return this.getContentElement().getTextSelectionEnd()},setTextSelection:function(e,t){this.getContentElement().setTextSelection(e,t)},clearTextSelection:function(){this.getContentElement().clearTextSelection()},selectAllText:function(){this.setTextSelection(0)},setLayoutParent:function(e){qx.ui.form.AbstractField.prototype.setLayoutParent.base.call(this,e);if(this.__useQxPlaceholder)if(e)this.getLayoutParent().getContentElement().add(this._getPlaceholderElement());else{var t=this._getPlaceholderElement();t.getParent().remove(t)}},_showPlaceholder:function(){var e=this.getValue()||"";null==this.getPlaceholder()||""!=e||this.hasState("focused")||this.hasState("disabled")||(this.hasState("showingPlaceholder")?this._syncPlaceholder():this.addState("showingPlaceholder"))},_onPointerDownPlaceholder:function(){window.setTimeout(function(){this.focus()}.bind(this),0)},_removePlaceholder:function(){if(this.hasState("showingPlaceholder")){this.__useQxPlaceholder&&this._getPlaceholderElement().setStyle("visibility","hidden");this.removeState("showingPlaceholder")}},_syncPlaceholder:function(){this.hasState("showingPlaceholder")&&this.__useQxPlaceholder&&this._getPlaceholderElement().setStyle("visibility","visible")},_getPlaceholderElement:function(){if(null==this._placeholder){this._placeholder=new qx.html.Label;var e=qx.theme.manager.Color.getInstance();this._placeholder.setStyles({zIndex:11,position:"absolute",color:e.resolve("text-placeholder"),whiteSpace:"normal",cursor:"text",visibility:"hidden"});this._placeholder.addListener("pointerdown",this._onPointerDownPlaceholder,this)}return this._placeholder},_onChangeLocale:function(e){var t=this.getPlaceholder();t&&t.translate&&this.setPlaceholder(t.translate())},_onChangeTheme:function(){qx.ui.form.AbstractField.prototype._onChangeTheme.base.call(this);if(this._placeholder){this._placeholder.dispose();this._placeholder=null}if(!this.__useQxPlaceholder&&qx.ui.form.AbstractField.__stylesheet){qx.bom.Stylesheet.removeSheet(qx.ui.form.AbstractField.__stylesheet);qx.ui.form.AbstractField.__stylesheet=null;qx.ui.form.AbstractField.__addPlaceholderRules()}},_validateInput:function(e){var t=e,i=this.getFilter();if(null!==i){t="";for(var n=e.search(i),s=e;n>=0&&s.length>0;){t+=s.charAt(n);n=(s=s.substring(n+1,s.length)).search(i)}}return t},_applyPlaceholder:function(e,t){if(this.__useQxPlaceholder){this._getPlaceholderElement().setValue(e);if(null!=e){this.addListener("focusin",this._removePlaceholder,this);this.addListener("focusout",this._showPlaceholder,this);this._showPlaceholder()}else{this.removeListener("focusin",this._removePlaceholder,this);this.removeListener("focusout",this._showPlaceholder,this);this._removePlaceholder()}}else if(this.getEnabled()){this.getContentElement().setAttribute("placeholder",e);"firefox"===qx.core.Environment.get("browser.name")&&parseFloat(qx.core.Environment.get("browser.version"))<36&&"textarea"===this.getContentElement().getNodeName()&&!this.getContentElement().getDomElement()&&this.addListenerOnce("appear",function(){this.getContentElement().getDomElement().removeAttribute("placeholder");this.getContentElement().getDomElement().setAttribute("placeholder",e)},this)}},_applyTextAlign:function(e,t){this.getContentElement().setStyle("textAlign",e)},_applyReadOnly:function(e,t){this.getContentElement().setAttribute("readOnly",e);if(e){this.addState("readonly");this.setFocusable(!1)}else{this.removeState("readonly");this.setFocusable(!0)}}},defer:function(e){qx.ui.style.Stylesheet.getInstance().addRule(".qx-abstract-field","border: none;padding: 0;margin: 0;display : block;background : transparent;outline: none;appearance: none;position: absolute;autoComplete: off;resize: none;border-radius: 0;")},destruct:function(){if(this._placeholder){this._placeholder.removeListener("pointerdown",this._onPointerDownPlaceholder,this);var e=this._placeholder.getParent();e&&e.remove(this._placeholder);this._placeholder.dispose()}this._placeholder=this.__font=null;qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this);this.__font&&this.__webfontListenerId&&this.__font.removeListenerById(this.__webfontListenerId);this.getContentElement().removeListener("input",this._onHtmlInput,this)}});qx.ui.form.AbstractField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.AbstractField":{require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.client.Device":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"},"device.type":{className:"qx.bom.client.Device"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.TextField",{extend:qx.ui.form.AbstractField,properties:{appearance:{refine:!0,init:"textfield"},allowGrowY:{refine:!0,init:!1},allowShrinkY:{refine:!0,init:!1}},members:{_renderContentElement:function(e,t){"mshtml"==qx.core.Environment.get("engine.name")&&(parseInt(qx.core.Environment.get("engine.version"),10)<9||qx.core.Environment.get("browser.documentmode")<9)&&t.setStyles({"line-height":e+"px"})},_createContentElement:function(){var e=qx.ui.form.TextField.prototype._createContentElement.base.call(this),t=qx.core.Environment.get("device.type");"tablet"!=t&&"mobile"!=t||e.addListener("keypress",this._onKeyPress,this);return e},_onKeyPress:function(e){if("Enter"==e.getKeyIdentifier())if(this.isFocusable())this.blur();else{this.setFocusable(!0);this.blur();this.setFocusable(!1)}}},destruct:function(){this.getContentElement().removeListener("keypress",this._onKeyPress,this)}});qx.ui.form.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0},"qx.bom.Input":{},"qx.bom.client.Engine":{require:!0}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine",load:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Input",{extend:qx.html.Element,construct:function(e,t,i){if("select"===e||"textarea"===e)var n=e;else n="input";qx.html.Element.constructor.call(this,n,t,i);this.__type=e},members:{__type:null,__selectable:null,__enabled:null,_createDomElement:function(){return qx.bom.Input.create(this.__type)},_applyProperty:function(e,t){qx.html.Input.prototype._applyProperty.base.call(this,e,t);var i=this.getDomElement();if("value"===e)qx.bom.Input.setValue(i,t);else if("wrap"===e){qx.bom.Input.setWrap(i,t);this.setStyle("overflow",i.style.overflow,!0);this.setStyle("overflowX",i.style.overflowX,!0);this.setStyle("overflowY",i.style.overflowY,!0)}},setEnabled:function(e){this.__enabled=e;this.setAttribute("disabled",!1===e);"webkit"==qx.core.Environment.get("engine.name")&&(e?this.setStyles({userModify:null,userSelect:this.__selectable?null:"none"}):this.setStyles({userModify:"read-only",userSelect:"none"}))},setSelectable:qx.core.Environment.select("engine.name",{webkit:function(e){this.__selectable=e;qx.html.Input.prototype.setSelectable.base.call(this,this.__enabled&&e)},default:function(e){qx.html.Input.prototype.setSelectable.base.call(this,e)}}),setValue:function(e){var t=this.getDomElement();t?t.value!=e&&qx.bom.Input.setValue(t,e):this._setProperty("value",e);return this},getValue:function(){var e=this.getDomElement();return e?qx.bom.Input.getValue(e):this._getProperty("value")||""},setWrap:function(e,t){if("textarea"!==this.__type)throw new Error("Text wrapping is only support by textareas!");this._setProperty("wrap",e,t);return this},getWrap:function(){if("textarea"===this.__type)return this._getProperty("wrap");throw new Error("Text wrapping is only support by textareas!")}}});qx.html.Input.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.lang.Object":{},"qx.dom.Element":{},"qx.lang.Type":{},"qx.bom.client.Engine":{require:!0}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine",load:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Input",{statics:{__types:{text:1,textarea:1,select:1,checkbox:1,radio:1,password:1,hidden:1,submit:1,image:1,file:1,search:1,reset:1,button:1},create:function(e,t,i){qx.core.Assert.assertKeyInMap(e,this.__types,"Unsupported input type.");var n;t=t?qx.lang.Object.clone(t):{};if("textarea"===e||"select"===e)n=e;else{n="input";t.type=e}return qx.dom.Element.create(n,t,i)},setValue:function(e,t){var i=e.nodeName.toLowerCase(),n=e.type,s=qx.lang.Type;"number"==typeof t&&(t+="");if("checkbox"===n||"radio"===n)s.isArray(t)?e.checked=t.includes(e.value):e.checked=e.value==t;else if("select"===i){for(var r,o,a=s.isArray(t),l=e.options,u=0,c=l.length;u<c;u++){null==(o=(r=l[u]).getAttribute("value"))&&(o=r.text);r.selected=a?t.includes(o):t==o}a&&0==t.length&&(e.selectedIndex=-1)}else if("text"!==n&&"textarea"!==n||"mshtml"!=qx.core.Environment.get("engine.name"))e.value=t;else{e.$$inValueSet=!0;e.value=t;e.$$inValueSet=null}},getValue:function(e){var t=e.nodeName.toLowerCase();if("option"===t)return(e.attributes.value||{}).specified?e.value:e.text;if("select"===t){var i=e.selectedIndex;if(i<0)return null;for(var n,s=[],r=e.options,o="select-one"==e.type,a=qx.bom.Input,l=o?i:0,u=o?i+1:r.length;l<u;l++){var c=r[l];if(c.selected){n=a.getValue(c);if(o)return n;s.push(n)}}return s}return(e.value||"").replace(/\r/g,"")},setWrap:qx.core.Environment.select("engine.name",{mshtml:function(e,t){var i=t?"soft":"off",n=t?"auto":"";e.wrap=i;e.style.overflowY=n},gecko:function(e,t){var i=t?"soft":"off",n=t?"":"auto";e.setAttribute("wrap",i);e.style.overflow=n},webkit:function(e,t){var i=t?"soft":"off",n=t?"":"auto";e.setAttribute("wrap",i);e.style.overflow=n},default:function(e,t){e.style.whiteSpace=t?"normal":"nowrap"}})}});qx.bom.Input.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Property":{},"qx.test.core.PropertyHelper":{},"qx.test.core.InheritanceDummy":{},"qx.core.Object":{construct:!0},"qx.Interface":{},"qx.data.Array":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Property",{extend:qx.dev.unit.TestCase,members:{testBasic:function(){this.assertNotUndefined(qx.core.Property);var e=new qx.test.core.PropertyHelper;this.assertNotUndefined(e,"instance");this.assertFunction(e.setPublicProp,"public setter");this.assertFunction(e.getPublicProp,"public getter");this.assertFunction(e.resetPublicProp,"public reset");this.assertUndefined(e.togglePublicProp,"public toggler");this.assertUndefined(e.setThemedPublicProp,"public themed");this.assertFunction(e.toggleBooleanProp,"boolean toggler");e.dispose()},testBuiltinTypes:function(){this.assertNotUndefined(qx.core.Property);var e=new qx.test.core.PropertyHelper;this.assertNotUndefined(e,"instance");this.assertIdentical("Hello",e.setStringProp("Hello"),"string property, set");this.assertIdentical("Hello",e.getStringProp(),"string property, get");this.assertIdentical(!0,e.setBooleanProp(!0),"boolean property, set");this.assertIdentical(!0,e.getBooleanProp(),"boolean property, get");this.assertIdentical(!1,e.setBooleanProp(!1),"boolean property, set");this.assertIdentical(!1,e.getBooleanProp(),"boolean property, get");this.assertIdentical(3,e.setNumberProp(3),"number property, set");this.assertIdentical(3,e.getNumberProp(),"number property, get");this.assertIdentical(3.14,e.setNumberProp(3.14),"number property, set");this.assertIdentical(3.14,e.getNumberProp(),"number property, get");var t={};this.assertIdentical(t,e.setObjectProp(t),"object property, set");this.assertIdentical(t,e.getObjectProp(),"object property, get");t=new Object;this.assertIdentical(t,e.setObjectProp(t),"object property, set");this.assertIdentical(t,e.getObjectProp(),"object property, get");var i=[];this.assertIdentical(i,e.setArrayProp(i),"array property, set");this.assertIdentical(i,e.getArrayProp(),"array property, get");i=new Array;this.assertIdentical(i,e.setArrayProp(i),"array property, set");this.assertIdentical(i,e.getArrayProp(),"array property, get");e.dispose()},testInheritance:function(){this.assertNotUndefined(qx.core.Property);var e=new qx.test.core.InheritanceDummy,t=new qx.test.core.InheritanceDummy,i=new qx.test.core.InheritanceDummy,n=new qx.test.core.InheritanceDummy,s=new qx.test.core.InheritanceDummy,r=new qx.test.core.InheritanceDummy,o=new qx.test.core.InheritanceDummy;e.add(t);e.add(i);e.add(n);i.add(s);i.add(r);i.add(o);this.assertTrue(e.setEnabled(!0),"a1");this.assertTrue(e.getEnabled(),"a2");this.assertTrue(t.getEnabled(),"a3");this.assertTrue(i.getEnabled(),"a4");this.assertTrue(n.getEnabled(),"a5");this.assertTrue(s.getEnabled(),"a6");this.assertTrue(r.getEnabled(),"a7");this.assertTrue(o.getEnabled(),"a8");this.assertFalse(i.setEnabled(!1),"b1");this.assertFalse(i.getEnabled(),"b2");this.assertFalse(s.getEnabled(),"b3");this.assertFalse(r.getEnabled(),"b4");this.assertFalse(o.getEnabled(),"b5");i.resetEnabled();this.assertTrue(i.getEnabled(),"c2");this.assertTrue(s.getEnabled(),"c3");this.assertTrue(r.getEnabled(),"c4");this.assertTrue(o.getEnabled(),"c5");e.dispose();t.dispose();i.dispose();n.dispose();s.dispose();r.dispose();o.dispose()},testParent:function(){var e=new qx.test.core.InheritanceDummy,t=new qx.test.core.InheritanceDummy,i=new qx.test.core.InheritanceDummy,n=new qx.test.core.InheritanceDummy;this.assertIdentical(e.getEnabled(),null,"d1");this.assertIdentical(t.getEnabled(),null,"d2");this.assertIdentical(i.getEnabled(),null,"d3");this.assertIdentical(n.getEnabled(),null,"d4");e.add(t);this.assertTrue(e.setEnabled(!0),"a1");this.assertFalse(n.setEnabled(!1),"a2");this.assertTrue(e.getEnabled(),"b1");this.assertTrue(t.getEnabled(),"b2");this.assertIdentical(i.getEnabled(),null,"b3");this.assertFalse(n.getEnabled(),"b4");e.add(i);e.add(n);this.assertTrue(e.getEnabled(),"c1");this.assertTrue(t.getEnabled(),"c2");this.assertTrue(i.getEnabled(),"c3");this.assertFalse(n.getEnabled(),"c4");e.dispose();t.dispose();i.dispose();n.dispose()},testMultiValues:function(){this.assertNotUndefined(qx.core.Property);var e=new qx.test.core.PropertyHelper;this.assertNotUndefined(e,"instance");this.assertIdentical(e.getInitProp(),"foo","a1");this.assertIdentical(e.setInitProp("hello"),"hello","a2");this.assertIdentical(e.getInitProp(),"hello","a3");this.assertIdentical(e.resetInitProp(),void 0,"a4");this.assertIdentical(e.getInitProp(),"foo","a5");this.assertIdentical(e.getNullProp(),"bar","b1");this.assertIdentical(e.setNullProp("hello"),"hello","b2");this.assertIdentical(e.getNullProp(),"hello","b3");this.assertIdentical(e.setNullProp(null),null,"b4");this.assertIdentical(e.getNullProp(),null,"b5");this.assertIdentical(e.resetNullProp(),void 0,"b6");this.assertIdentical(e.getNullProp(),"bar","b7");this.assertIdentical(e.setThemedAppearanceProp("black"),"black","c1");this.assertIdentical(e.getAppearanceProp(),"black","c2");this.assertIdentical(e.setAppearanceProp("white"),"white","c3");this.assertIdentical(e.getAppearanceProp(),"white","c4");this.assertIdentical(e.resetAppearanceProp(),void 0,"c5");this.assertIdentical(e.getAppearanceProp(),"black","c6");this.assertIdentical(e.getNoProp(),null,"c1");e.dispose()},testInitApply:function(){var e=new qx.test.core.PropertyHelper;this.assertNotUndefined(e,"instance");this.assertUndefined(e.lastApply);e.setInitApplyProp1("juhu");this.assertJsonEquals(["juhu","juhu"],e.lastApply);e.lastApply=void 0;e.setInitApplyProp1("juhu");this.assertUndefined(e.lastApply);e.lastApply=void 0;e.setInitApplyProp1("kinners");this.assertJsonEquals(["kinners","juhu"],e.lastApply);e.lastApply=void 0;this.assertUndefined(e.lastApply);e.setInitApplyProp2(null);this.assertJsonEquals([null,null],e.lastApply);e.lastApply=void 0;e.dispose()},testInit:function(){var e=this,t=new qx.test.core.PropertyHelper(function(t){t.initInitApplyProp1();e.assertJsonEquals(["juhu",null],t.lastApply);t.lastApply=void 0;t.initInitApplyProp2();e.assertJsonEquals([null,null],t.lastApply);t.lastApply=void 0});this.assertNotUndefined(t,"instance");t.dispose()},testDefinesThanSubClassWithInterface:function(){delete qx.test.A;delete qx.test.B;delete qx.test.IForm;qx.Class.define("qx.test.A",{extend:qx.core.Object,properties:{enabled:{}}});var e=new qx.test.A;qx.Interface.define("qx.test.IForm",{members:{setEnabled:function(e){}}});qx.Class.define("qx.test.B",{extend:qx.test.A,implement:qx.test.IForm});var t=new qx.test.B;t.setEnabled(!0);e.dispose();t.dispose()},testPropertyNamedClassname:function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:{classname:{}}});delete qx.test.clName},testWrongPropertyDefinitions:function(){this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:new Date})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:[1,2,3]})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;var e=new qx.core.Object;this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:e})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;e.dispose();this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:new RegExp})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:null})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:!0})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName;this.assertException(function(){qx.Class.define("qx.test.clName",{extend:qx.core.Object,properties:123})},Error,new RegExp(".*Invalid.*"),"123");delete qx.test.clName},testRecursive:function(){qx.Class.define("qx.Node",{extend:qx.core.Object,construct:function(){this._min=0},properties:{value:{apply:"applyValue"}},members:{applyValue:function(e,t){e<this._min&&this.setValue(this._min)}}});var e=new qx.Node;e.setValue(100);this.assertEquals(100,e.getValue());e.setValue(-100);this.assertEquals(0,e.getValue());e.dispose()},testEventWithInitOldData:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Boolean",init:!1,event:"changeProp"}}});var e=new qx.TestProperty;this.assertFalse(e.getProp());var t=this;this.assertEventFired(e,"changeProp",function(){e.setProp(!0)},function(e){t.assertTrue(e.getData(),"Wrong data in the event!");t.assertFalse(e.getOldData(),"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testEventWithoutInitOldData:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Boolean",nullable:!0,event:"changeProp"}}});var e=new qx.TestProperty;this.assertNull(e.getProp());var t=this;this.assertEventFired(e,"changeProp",function(){e.setProp(!0)},function(e){t.assertTrue(e.getData(),"Wrong data in the event!");t.assertNull(e.getOldData(),"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testEventWithInitAndInheritableOldData:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Boolean",init:!1,inheritable:!0,event:"changeProp"}}});var e=new qx.TestProperty;this.assertFalse(e.getProp());var t=this;this.assertEventFired(e,"changeProp",function(){e.setProp(!0)},function(e){t.assertTrue(e.getData(),"Wrong data in the event!");t.assertFalse(e.getOldData(),"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testEventWithoutInitAndInheritableOldData:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Boolean",nullable:!0,inheritable:!0,event:"changeProp"}}});var e=new qx.TestProperty;this.assertNull(e.getProp());var t=this;this.assertEventFired(e,"changeProp",function(){e.setProp(!0)},function(e){t.assertTrue(e.getData(),"Wrong data in the event!");t.assertNull(e.getOldData(),"Wrong old data in the event!")},"Change event not fired!");e.dispose()},__isNegativeZero:function(e){return 0===e&&1/e<0},__isPositiveZero:function(e){return 0===e&&1/e>0},testWrongIsEqualDefinitions:function(){var e=new RegExp("Invalid type for 'isEqual'.*"),t=new qx.core.Object;[new Date,[1,2,3],{},t,new RegExp,null,!0,!1,123].forEach(function(t,i){var n="case["+i+"] ("+String(t)+")";this.assertException(function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",isEqual:t}}});(new qx.TestProperty).set({prop:0})},Error,e,n);delete qx.TestProperty},this);t.dispose()},testIsEqualInline:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:"Object.is(a, b)"}}});var e=new qx.TestProperty;e.setProp(0);var t=this;this.assertEventNotFired(e,"changeProp",function(){e.setProp(0);e.setProp(0)},function(e){},"'changeProp' event fired!");this.assertEventFired(e,"changeProp",function(){e.setProp(-0)},function(e){var i=t.__isNegativeZero(e.getData()),n=t.__isPositiveZero(e.getOldData());t.assertTrue(i,"Wrong data in the event!");t.assertTrue(n,"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testIsEqualFunction:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:function(e,t){return Object.is(e,t)}}}});var e=new qx.TestProperty;e.setProp(0);var t=this;this.assertEventNotFired(e,"changeProp",function(){e.setProp(0);e.setProp(0)},function(e){},"'changeProp' event fired!");this.assertEventFired(e,"changeProp",function(){e.setProp(-0)},function(e){var i=t.__isNegativeZero(e.getData()),n=t.__isPositiveZero(e.getOldData());t.assertTrue(i,"Wrong data in the event!");t.assertTrue(n,"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testIsEqualMember:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:"__fooBar"}},members:{__fooBar:function(e,t){return Object.is(e,t)}}});var e=new qx.TestProperty;e.setProp(0);var t=this;this.assertEventNotFired(e,"changeProp",function(){e.setProp(0);e.setProp(0)},function(e){},"'changeProp' event fired!");this.assertEventFired(e,"changeProp",function(){e.setProp(-0)},function(e){var i=t.__isNegativeZero(e.getData()),n=t.__isPositiveZero(e.getOldData());t.assertTrue(i,"Wrong data in the event!");t.assertTrue(n,"Wrong old data in the event!")},"Change event not fired!");e.dispose()},testIsEqualInlineContext:function(){var e,t;qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:"(this.__checkCtx(a,b))"}},members:{__checkCtx:function(t,i){e=this}}});t=(new qx.TestProperty).set({prop:4711});this.assertIdentical(t,e);t.dispose()},testIsEqualFunctionContext:function(){var e,t;qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:function(t,i){e=this}}}});t=(new qx.TestProperty).set({prop:4711});this.assertIdentical(t,e);t.dispose()},testIsEqualMemberContext:function(){var e,t;qx.Class.define("qx.TestProperty",{extend:qx.core.Object,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:"__checkCtx"}},members:{__checkCtx:function(t,i){e=this}}});t=(new qx.TestProperty).set({prop:4711});this.assertIdentical(t,e);t.dispose()},testIsEqualBaseClassMember:function(){var e,t;qx.Class.define("qx.Super",{extend:qx.core.Object,members:{__checkCtx:function(t,i){e=this}}});qx.Class.define("qx.TestProperty",{extend:qx.Super,properties:{prop:{check:"Number",nullable:!0,event:"changeProp",isEqual:"__checkCtx"}}});t=(new qx.TestProperty).set({prop:4711});this.assertIdentical(t,e);t.dispose()},testTransform:function(){qx.Class.define("qx.TestProperty",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.initPropTwo(new qx.data.Array)},properties:{prop:{check:"qx.data.Array",nullable:!0,event:"changeProp",transform:"__transform"},propTwo:{check:"qx.data.Array",nullable:!0,event:"changePropTwo",transform:"__transform",deferredInit:!0}},members:{__transform:function(e,t){if(void 0===t)return e;e?t.replace(e):t.removeAll();return t}}});var e=new qx.TestProperty,t=new qx.data.Array;e.setProp(t);this.assertIdentical(t,e.getProp());t.push("1");var i=new qx.data.Array;i.push("2");i.push("3");e.setProp(i);this.assertIdentical(t,e.getProp());this.assertArrayEquals(["2","3"],t.toArray());var n=e.getPropTwo();e.setPropTwo(i);this.assertIdentical(n,e.getPropTwo());this.assertArrayEquals(["2","3"],n.toArray())}}});qx.test.core.Property.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.PropertyHelper",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);e&&e(this)},properties:{publicProp:{nullable:!0},stringProp:{check:"String",nullable:!0},booleanProp:{check:"Boolean",nullable:!0},numberProp:{check:"Number",nullable:!0},objectProp:{check:"Object",nullable:!0},arrayProp:{check:"Array",nullable:!0},mapProp:{check:"Map",nullable:!0},noProp:{check:"String",nullable:!0},initProp:{init:"foo"},initApplyProp1:{check:"String",init:"juhu",apply:"_applyInitApplyProp"},initApplyProp2:{check:"String",init:null,nullable:!0,apply:"_applyInitApplyProp"},nullProp:{init:"bar",nullable:!0},appearanceProp:{themeable:!0,nullable:!0},fullProp:{init:100,themeable:!0}},members:{_applyInitApplyProp:function(e,t){this.lastApply=[e,t]}}});qx.test.core.PropertyHelper.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Target",{extend:qx.dev.unit.TestCase,members:{testEvents:function(){qx.Class.define("qx.Event",{extend:qx.core.Object,events:{click:"qx.event.type.Event"}});var e=new qx.Event;e.addListener("click",function(){});e.dispose()}}});qx.test.core.Target.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.core.Object":{},"qx.util.Validate":{},"qx.core.ValidationError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.core.Validation",{extend:qx.dev.unit.TestCase,construct:function(){qx.dev.unit.TestCase.constructor.call(this);qx.Class.define("qx.Model",{extend:qx.core.Object,properties:{custom:{init:"Some String",check:"String",validate:"__validateCustom"},number:{init:18,validate:qx.util.Validate.number()},range:{init:1.8,validate:qx.util.Validate.range(1,2)},array:{init:"male",validate:qx.util.Validate.inArray(["male","female"])},email:{init:"martin.wittemann@1und1.de",validate:qx.util.Validate.email()},string:{init:"Some String!",validate:qx.util.Validate.string()},url:{init:"http://www.1und1.de",validate:qx.util.Validate.url()},color:{init:"black",validate:qx.util.Validate.color()},regExp:{init:"test",validate:qx.util.Validate.regExp(/^abc/)}},members:{__validateCustom:function(e){if(e.length<4)throw new qx.core.ValidationError("Validation Error: String must be longer than three characters. ("+e+")")}}});this.__model=new qx.Model},members:{testNumber:function(){var e=this.__model;this.assertException(function(){e.setNumber("test")},qx.core.ValidationError,null,"A String is no number.");this.assertException(function(){e.setNumber(new Date)},qx.core.ValidationError,null,"A Date is no number.");this.assertException(function(){e.setNumber(this)},qx.core.ValidationError,null,"this is no number.");e.setNumber(12);this.assertEquals(12,e.getNumber());e.setNumber(-20);this.assertEquals(-20,e.getNumber());e.setNumber(12.15);this.assertEquals(12.15,e.getNumber())},testEmail:function(){var e=this.__model;this.assertException(function(){e.setEmail("test")},qx.core.ValidationError,null,"test is a mailadress?");this.assertException(function(){e.setEmail("@affe.de")},qx.core.ValidationError,null,"@affe.de is never a mailadress!");this.assertException(function(){e.setEmail("hans@@wurst.de")},qx.core.ValidationError,null,"Are two @ allowed?");this.assertException(function(){e.setEmail("m@a.d")},qx.core.ValidationError,null,"m@a.d?");e.setEmail("affe@zoo.de");this.assertEquals("affe@zoo.de",e.getEmail(),"affe@zoo.de should work!");e.setEmail("mensch@db.info");this.assertEquals("mensch@db.info",e.getEmail(),"mensch@db.info should work!");e.setEmail("ichbineinelangemailadresse@undhabeinelangedomainnochdazu.de");this.assertEquals("ichbineinelangemailadresse@undhabeinelangedomainnochdazu.de",e.getEmail(),"ichbineinelangemailadresse@undhabeinelangedomainnochdazu.de should work!")},testString:function(){var e=this.__model;this.assertException(function(){e.setString(1)},qx.core.ValidationError,null,"A number is not a string!");this.assertException(function(){e.setString(this)},qx.core.ValidationError,null,"This test is not a string!");this.assertException(function(){e.setString(!0)},qx.core.ValidationError,null,"A boolean is not a string!");this.assertException(function(){e.setString(new Date)},qx.core.ValidationError,null,"A Date-Object is not a string!");e.setString("affe@zoo.de");this.assertEquals("affe@zoo.de",e.getString(),"affe@zoo.de as string should work!");e.setString("");this.assertEquals("",e.getString(),"An empty string should work!")},testUrl:function(){var e=this.__model;this.assertException(function(){e.setUrl(1)},qx.core.ValidationError,null,"A number is not an url!");this.assertException(function(){e.setUrl(!1)},qx.core.ValidationError,null,"A boolean is not an url!");this.assertException(function(){e.setUrl("i am an url")},qx.core.ValidationError,null,"'i am an url' as a string is not an url!");this.assertException(function(){e.setUrl("http:/iamaurl")},qx.core.ValidationError,null,"'http://iamaurl' is not an url!");e.setUrl("http://www.1und1.de");this.assertEquals("http://www.1und1.de",e.getUrl(),"http://www.1und1.de as string should work!");e.setUrl("http://web.de");this.assertEquals("http://web.de",e.getUrl(),"http://web.de as string should work!");e.setUrl("http://www.apple.com/de/");this.assertEquals("http://www.apple.com/de/",e.getUrl(),"http://www.apple.com/de/ as string should work!");e.setUrl("http://www.fake.url:8080/de/1546");this.assertEquals("http://www.fake.url:8080/de/1546",e.getUrl(),"http://www.fake.url:8080/de/1546 as string should work!")},testColor:function(){var e=this.__model;this.assertException(function(){e.setColor(1)},qx.core.ValidationError,null,"A number is not a color!");this.assertException(function(){e.setColor("")},qx.core.ValidationError,null,"A empty string is not a color!");this.assertException(function(){e.setColor("FFFFFF")},qx.core.ValidationError,null,"FFFFFF (missing #) is not a color!");this.assertException(function(){e.setColor("bluecolor")},qx.core.ValidationError,null,"'bluecolor' is not a color!");this.assertException(function(){e.setColor("#FFFFGG")},qx.core.ValidationError,null,"#FFFFGG is not a color!");e.setColor("black");this.assertEquals("black",e.getColor(),"black is a css color");e.setColor("#000000");this.assertEquals("#000000",e.getColor(),"#000000 is a RGB color");e.setColor("#FFFFFF");this.assertEquals("#FFFFFF",e.getColor(),"#FFFFFF is a css color")},testRange:function(){var e=this.__model;this.assertException(function(){e.setRange(.999999999)},qx.core.ValidationError,null,"A 0.999999999 is not between 1 and 2.");this.assertException(function(){e.setRange(2.000000001)},qx.core.ValidationError,null,"A 2.000000001 is not between 1 and 2.");e.setRange(1);this.assertEquals(1,e.getRange(),"1 is in the range of 1 and 2.");e.setRange(2);this.assertEquals(2,e.getRange(),"2 is in the range of 1 and 2.");e.setRange(1.5);this.assertEquals(1.5,e.getRange(),"1.5 is in the range of 1 and 2.")},testInArray:function(){var e=this.__model;this.assertException(function(){e.setArray(.999999999)},qx.core.ValidationError,null,"A 0.999999999 is not in ['male', 'female']");this.assertException(function(){e.setArray("malle")},qx.core.ValidationError,null,"'malle' is not in ['male', 'female']");this.assertException(function(){e.setArray("")},qx.core.ValidationError,null,"A empty string is not in ['male', 'female']");e.setArray("male");this.assertEquals("male",e.getArray(),"male is in!");e.setArray("female");this.assertEquals("female",e.getArray(),"female is in!")},testCustom:function(){var e=this.__model;this.assertException(function(){e.setCustom("")},qx.core.ValidationError,null,"'' is too short");this.assertException(function(){e.setCustom("1")},qx.core.ValidationError,null,"'1' is too short");this.assertException(function(){e.setCustom("12")},qx.core.ValidationError,null,"'12' is too short");this.assertException(function(){e.setCustom("123")},qx.core.ValidationError,null,"'123' is too short");e.setCustom("male");this.assertEquals("male",e.getCustom(),"male is long enough!")},testRegExp:function(){var e=this.__model;this.assertException(function(){e.setRegExp("AFFE!")},qx.core.ValidationError,null,"'AFFE!' does not fit /[0-9]*/.");this.assertException(function(){e.setRegExp("_dfds_")},qx.core.ValidationError,null,"_dfds_ does not fit /[0-9]*/.");this.assertException(function(){e.setRegExp("$%&!&/%")},qx.core.ValidationError,null,"$%&!&/% does not fit /[0-9]*/.");e.setRegExp("abc");this.assertEquals("abc",e.getRegExp(),"abc fits!");e.setRegExp("abcdefg");this.assertEquals("abcdefg",e.getRegExp(),"abcdefg fits!")}}});qx.test.core.Validation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.locale.Manager":{},"qx.core.ValidationError":{},"qx.util.ColorUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.Validate",{statics:{number:function(e){return function(t){qx.util.Validate.checkNumber(t,null,e)}},checkNumber:function(e,t,i){i=i||qx.locale.Manager.tr("%1 is not a number.",e);if("number"!=typeof e&&!(e instanceof Number)||!isFinite(e))throw new qx.core.ValidationError("Validation Error",i)},email:function(e){return function(t){qx.util.Validate.checkEmail(t,null,e)}},checkEmail:function(e,t,i){i=i||qx.locale.Manager.tr("'%1' is not an email address.",e||"");if(!1===/^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/.test(e))throw new qx.core.ValidationError("Validation Error",i)},string:function(e){return function(t){qx.util.Validate.checkString(t,null,e)}},checkString:function(e,t,i){i=i||qx.locale.Manager.tr("%1 is not a string.",e);if("string"!=typeof e&&!(e instanceof String))throw new qx.core.ValidationError("Validation Error",i)},url:function(e){return function(t){qx.util.Validate.checkUrl(t,null,e)}},checkUrl:function(e,t,i){i=i||qx.locale.Manager.tr("%1 is not an url.",e);if(!/([A-Za-z0-9])+:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e))throw new qx.core.ValidationError("Validation Error",i)},color:function(e){return function(t){qx.util.Validate.checkColor(t,null,e)}},checkColor:function(e,t,i){try{qx.util.ColorUtil.stringToRgb(e)}catch(t){var n=i||qx.locale.Manager.tr("%1 is not a color! %2",e,t);throw new qx.core.ValidationError("Validation Error",n)}},range:function(e,t,i){return function(n){var s=i||qx.locale.Manager.tr("%1 is not in the range from [%2, %3].",n,e,t);if(n<e||n>t)throw new qx.core.ValidationError("Validation Error",s)}},inArray:function(e,t){return function(i){var n=t||qx.locale.Manager.tr("%1 is not in %2",i,e);if(-1===e.indexOf(i))throw new qx.core.ValidationError("Validation Error",n)}},regExp:function(e,t){return function(i){var n=t||qx.locale.Manager.tr("%1 does not fit %2.",i,e);if(!e.test(i))throw new qx.core.ValidationError("Validation Error",n)}}}});qx.util.Validate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.data.Array":{},"qx.data.marshal.Json":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.DataArray",{extend:qx.dev.unit.TestCase,members:{__a:null,setUp:function(){this.__a=new qx.data.Array("one","two","three")},tearDown:function(){this.__a.dispose()},testConstructor:function(){var e=new qx.data.Array;this.assertEquals(0,e.length,"Length does not fit an an empty array!");e.dispose();e=new qx.data.Array(10);this.assertEquals(10,e.length,"Length does not fit an an empty array!");e.dispose();e=new qx.data.Array("one","two","three");this.assertEquals(3,e.length,"Length does not fit an an empty array!");e.dispose();e=new qx.data.Array(1,2,3);this.assertEquals(3,e.length,"Length does not fit an an empty array!");e.dispose();e=new qx.data.Array(["one","two","three"]);this.assertEquals(3,e.length,"Length does not fit an an empty array!");e.dispose();this.assertException(function(){new qx.data.Array(!0)},Error,null,"Boolean not supported!");this.assertException(function(){new qx.data.Array({})},Error,null,"Objects not supported!");this.assertException(function(){new qx.data.Array(function(){})},Error,null,"Functions not supported!")},testGetItem:function(){this.assertEquals("one",this.__a.getItem(0),"IndexAt does not work at position 0");this.assertEquals("two",this.__a.getItem(1),"IndexAt does not work at position 1");this.assertEquals("three",this.__a.getItem(2),"IndexAt does not work at position 2");this.assertUndefined(this.__a.getItem(-1),"There should be no element at -1");this.assertUndefined(this.__a.getItem(3),"There should be no element at 3")},testSetItem:function(){this.__a.setItem(0,"eins");this.assertEquals("eins",this.__a.getItem(0),"IndexAt does not work at position 0");this.__a.setItem(3,"drei");this.assertEquals("drei",this.__a.getItem(3),"IndexAt does not work at position 0")},testJoin:function(){this.assertEquals("one, two, three",this.__a.join(", "),"Join does not work")},testReverse:function(){this.__a.reverse();this.assertEquals("one",this.__a.getItem(2),"Reverse does not work");var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.reverse()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event.");t.assertEquals(2,e.getData().end,"Wrong end index in the event.");t.assertEquals("order",e.getData().type,"Wrong type in the event.")},"Change event not fired!");e.dispose()},testSort:function(){this.__a.sort();this.assertEquals("one three two",this.__a.join(" "),"Simple sort does not work");this.__a.sort(function(e,t){return e>t?-1:1});this.assertEquals("two three one",this.__a.join(" "),"Own sort does not work");var e=new qx.data.Array(2,7,5),t=this;this.assertEventFired(e,"change",function(){e.sort()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event.");t.assertEquals(2,e.getData().end,"Wrong end index in the event.");t.assertEquals("order",e.getData().type,"Wrong type in the event.")},"Change event not fired!");e.dispose()},testConcat:function(){var e=this.__a.concat(["four","five"]);this.assertEquals("one two three four five",e.join(" "),"Concat does not work");e.dispose();e=this.__a.concat(new qx.data.Array(["four","five"]));this.assertEquals("one two three four five",e.join(" "),"Concat does not work");e.dispose()},testSlice:function(){var e=this.__a.slice(0,1);this.assertEquals("one",e.getItem(0),"Slice does not work");e.dispose();e=this.__a.slice(1,2);this.assertEquals("two",e.getItem(0),"Slice does not work");e.dispose();e=this.__a.slice(0,2);this.assertEquals("one",e.getItem(0),"Slice does not work");e.dispose();e=this.__a.slice(0,2);this.assertEquals("two",e.getItem(1),"Slice does not work");e.dispose()},testReplace:function(){var e=0,t=this.__a.addListener("change",function(){e++});this.__a.replace(["one","two","three"]);this.assertEquals(0,e);this.__a.replace(["one","three"]);this.assertEquals(1,e);this.assertArrayEquals(["one","three"],this.__a.toArray());this.__a.replace(new qx.data.Array(["two","four"]));this.assertEquals(2,e);this.assertArrayEquals(["two","four"],this.__a.toArray());this.__a.removeListenerById(t)},testPop:function(){this.assertEquals("three",this.__a.pop(),"Pop does not work.");this.assertEquals(2,this.__a.length,"Wrong length after pop");this.assertEquals("two",this.__a.pop(),"Pop does not work.");this.assertEquals("one",this.__a.pop(),"Pop does not work.");this.assertEquals(0,this.__a.length,"Wrong length after pop")},testPush:function(){this.assertEquals(4,this.__a.push("four"),"Push does not give the right length back.");this.assertEquals("one two three four",this.__a.join(" "),"Single push does not work.");this.assertEquals(4,this.__a.length,"Single push does not work.");this.__a.dispose();this.__a=new qx.data.Array;this.__a.push(1,2,3);this.assertEquals("1 2 3",this.__a.join(" "),"Multiple push does not work.")},testShift:function(){this.assertEquals("one",this.__a.shift(),"Shift does not work.");this.assertEquals("two three",this.__a.join(" "),"Shift does not work.");this.assertEquals("two",this.__a.shift(),"Shift does not work.");this.assertEquals(1,this.__a.length,"Shift does not work.")},testShiftWithEventPropagation:function(){var e=qx.data.marshal.Json.createModel({bar:[1,2,3,4,5]},!0);this.assertEquals(1,e.getBar().shift());e.dispose()},testUnshift:function(){this.assertEquals(4,this.__a.unshift("zero"),"Unshift does not return the proper length.");this.assertEquals("zero one two three",this.__a.join(" "),"Unshift does not work!");this.assertEquals(6,this.__a.unshift("-2","-1"),"Unshift does not return the proper length.");this.assertEquals("-2 -1 zero one two three",this.__a.join(" "),"Unshift does not work!")},testSplice:function(){var e,t=(e=new qx.data.Array(1,2,3,4,5,6,7,8)).splice(4,e.length-1);this.assertEquals("5 6 7 8",t.join(" "),"Splice does not work");t.dispose();this.assertEquals("1 2 3 4",e.join(" "),"Splice does not work");t=e.splice(1,2);this.assertEquals("2 3",t.join(" "),"Splice does not work");t.dispose();this.assertEquals("1 4",e.join(" "),"Splice does not work");e.dispose();t=(e=new qx.data.Array(1,2,3,4,5)).splice(2,0,"a","b");this.assertEquals("",t.join(" "),"Splice does not work");t.dispose();this.assertEquals("1 2 a b 3 4 5",e.join(" "),"Splice does not work");t=e.splice(2,2,"c",3);this.assertEquals("a b",t.join(" "),"Splice does not work");t.dispose();this.assertEquals("1 2 c 3 3 4 5",e.join(" "),"Splice does not work");t=e.splice(1);this.assertInstance(t,qx.data.Array,"Wrong return type");t.dispose();e.dispose()},testToArray:function(){this.assertEquals("one two three",this.__a.toArray().join(" "),"toArray does not work!");this.assertInstance(this.__a.toArray(),Array,"toArray does not work!")},testLengthEvent:function(){var e=this,t=new qx.data.Array(1,2,3);this.assertEventFired(t,"changeLength",function(){t.pop()},function(t){e.assertEquals(2,t.getData());e.assertEquals(3,t.getOldData())},"ChangeLength event not fired!");t.dispose()},testToString:function(){this.assertEquals(this.__a.toArray().toString(),this.__a.toString(),"toString does not work!")},testContains:function(){this.assertTrue(this.__a.contains("one"),"contains does not work!");this.assertTrue(this.__a.contains("two"),"contains does not work!");this.assertTrue(this.__a.contains("three"),"contains does not work!")},testIndexOf:function(){this.assertEquals(0,this.__a.indexOf("one"),"indexOf does not work!");this.assertEquals(1,this.__a.indexOf("two"),"indexOf does not work!");this.assertEquals(2,this.__a.indexOf("three"),"indexOf does not work!")},testLastIndexOf:function(){this.__a.push("one");this.__a.push("two");this.__a.push("three");this.assertEquals(3,this.__a.lastIndexOf("one"),"lastIndexOf does not work!");this.assertEquals(4,this.__a.lastIndexOf("two"),"lastIndexOf does not work!");this.assertEquals(5,this.__a.lastIndexOf("three"),"lastIndexOf does not work!")},testCopy:function(e){var t=this.__a.copy();this.__a.setItem(0,"0");this.__a.setItem(1,"1");this.__a.setItem(2,"2");this.assertEquals("one",t.getItem(0),"Copy does not work");this.assertEquals("two",t.getItem(1),"Copy does not work");this.assertEquals("three",t.getItem(2),"Copy does not work");t.dispose()},testInsertAt:function(){this.__a.insertAt(1,"eins");this.__a.insertAt(3,"drei");this.assertEquals("one",this.__a.getItem(0),"insertAt does not work");this.assertEquals("eins",this.__a.getItem(1),"insertAt does not work");this.assertEquals("two",this.__a.getItem(2),"insertAt does not work");this.assertEquals("drei",this.__a.getItem(3),"insertAt does not work");this.assertEquals("three",this.__a.getItem(4),"insertAt does not work")},testInsertBefore:function(){this.__a.insertBefore("two","eins");this.__a.insertBefore("three","drei");this.assertEquals("one",this.__a.getItem(0),"insertBefore does not work");this.assertEquals("eins",this.__a.getItem(1),"insertBefore does not work");this.assertEquals("two",this.__a.getItem(2),"insertBefore does not work");this.assertEquals("drei",this.__a.getItem(3),"insertBefore does not work");this.assertEquals("three",this.__a.getItem(4),"insertBefore does not work")},testInsertAfter:function(){this.__a.insertAfter("one","eins");this.__a.insertAfter("two","drei");this.assertEquals("one",this.__a.getItem(0),"insertAfter does not work");this.assertEquals("eins",this.__a.getItem(1),"insertAfter does not work");this.assertEquals("two",this.__a.getItem(2),"insertAfter does not work");this.assertEquals("drei",this.__a.getItem(3),"insertAfter does not work");this.assertEquals("three",this.__a.getItem(4),"insertAfter does not work")},testRemoveAt:function(){var e=this.__a.removeAt(1);this.assertEquals("two",e,"no return type");this.assertEquals("one",this.__a.getItem(0),"removeAt does not work");this.assertEquals("three",this.__a.getItem(1),"removeAt does not work")},testRemoveAll:function(){var e=this;this.assertEventFired(e.__a,"changeLength",function(){e.__a.removeAll()},function(t){e.assertEquals(0,e.__a.getLength(),"length not 0")},"Change event not fired!");this.__a.push("a");this.__a.push("b");this.assertEventFired(e.__a,"change",function(){var t=e.__a.removeAll();e.assertEquals(2,t.length);e.assertEquals("a",t[0]);e.assertEquals("b",t[1])},function(t){e.assertEquals(0,t.getData().start,"Wrong start index in the event.");e.assertEquals(1,t.getData().end,"Wrong end index in the event.");e.assertEquals("remove",t.getData().type,"Wrong type in the event.");e.assertEquals("a",t.getData().removed[0]);e.assertEquals("b",t.getData().removed[1])},"Change event not fired!");this.assertEquals(0,this.__a.length,"RemoveAll does not work.")},testAppend:function(){var e=new qx.data.Array("4","5");this.__a.append(e.toArray());this.assertEquals("one",this.__a.getItem(0),"append does not work");this.assertEquals("two",this.__a.getItem(1),"append does not work");this.assertEquals("three",this.__a.getItem(2),"append does not work");this.assertEquals("4",this.__a.getItem(3),"append does not work");this.assertEquals("5",this.__a.getItem(4),"append does not work");e.dispose();e=new qx.data.Array(["sechs"]);this.__a.append(e);this.assertEquals("sechs",this.__a.getItem(5),"append does not work");e.dispose()},testExclude:function(){var e;(e=new qx.data.Array(["one","two","three","four","five"])).exclude(["two","four"]);this.assertArrayEquals(e.toArray(),["one","three","five"]);(e=new qx.data.Array(["one","two","three","four","five"])).exclude(new qx.data.Array(["one","three","five"]));this.assertArrayEquals(e.toArray(),["two","four"])},testRemove:function(){this.__a.remove("two");this.assertEquals("one",this.__a.getItem(0),"removeAt does not work");this.assertEquals("three",this.__a.getItem(1),"removeAt does not work")},testEquals:function(){var e=new qx.data.Array("one","two","three");this.assertTrue(this.__a.equals(e),"equals does not work.");e.dispose();this.assertTrue(this.__a.equals(["one","two","three"]),"equals does not work.")},testSum:function(){var e=new qx.data.Array(1,2,3);this.assertEquals(6,e.sum(),"sum does not work.");e.dispose()},testMax:function(){var e=new qx.data.Array(1,2,3);this.assertEquals(3,e.max(),"max does not work.");e.dispose()},testMin:function(){var e=new qx.data.Array(1,2,-3);this.assertEquals(-3,e.min(),"min does not work.");e.dispose()},testPopEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.pop()},function(e){t.assertEquals(1,e.getData().start,"Wrong start index in the event.");t.assertEquals(1,e.getData().end,"Wrong end index in the event.");t.assertEquals("remove",e.getData().type,"Wrong type in the event.");t.assertEquals(3,e.getData().removed[0],"Wrong removed array in the event.")},"Change event not fired!");e.dispose()},testPushEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.push(4)},function(e){t.assertEquals(3,e.getData().start,"Wrong start index in the event.");t.assertEquals(3,e.getData().end,"Wrong end index in the event.");t.assertEquals("add",e.getData().type,"Wrong type in the event.");t.assertEquals(4,e.getData().added[0],"Wrong item array in the event.")},"Change event not fired!");e.dispose()},testAppendEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.append([4,5])},function(e){t.assertEquals(3,e.getData().start,"Wrong start index in the event.");t.assertEquals(4,e.getData().end,"Wrong end index in the event.");t.assertEquals("add",e.getData().type,"Wrong type in the event.");t.assertEquals(4,e.getData().added[0],"Wrong item array in the event.");t.assertEquals(5,e.getData().added[1],"Wrong item array in the event.")},"Change event not fired!");e.dispose()},testShiftEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.shift()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event.");t.assertEquals(1,e.getData().end,"Wrong end index in the event.");t.assertEquals("remove",e.getData().type,"Wrong type in the event.");t.assertEquals(1,e.getData().removed[0],"Wrong item in the event.")},"Change event not fired!");e.dispose()},testUnshiftEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.unshift(0)},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event.");t.assertEquals(3,e.getData().end,"Wrong end index in the event.");t.assertEquals("add",e.getData().type,"Wrong type in the event.");t.assertEquals(0,e.getData().added[0],"Wrong item in the event.")},"Change event not fired!");e.dispose()},testSpliceEvent:function(){var e=new qx.data.Array("a","b","c","d","e"),t=this;this.assertEventFired(e,"change",function(){e.splice(1,2).dispose()},function(e){t.assertEquals(1,e.getData().start,"Wrong start index in the event (remove).");t.assertEquals(2,e.getData().end,"Wrong end index in the event (remove).");t.assertEquals("remove",e.getData().type,"Wrong type in the event (remove).");t.assertEquals("b",e.getData().removed[0],"Wrong item in the event (remove).");t.assertEquals("c",e.getData().removed[1],"Wrong item in the event (remove).");t.assertEquals(2,e.getData().removed.length,"Wrong item in the event (remove).");t.assertEquals(0,e.getData().added.length,"Wrong item in the event (remove).")},"Change event not fired!");e.dispose();e=new qx.data.Array("a","b","c");this.assertEventFired(e,"change",function(){e.splice(0,0,"x").dispose()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event. (add)");t.assertEquals(1,e.getData().end,"Wrong end index in the event. (add)");t.assertEquals("add",e.getData().type,"Wrong type in the event. (add)");t.assertEquals("x",e.getData().added[0],"Wrong items in the event. (add)");t.assertEquals(1,e.getData().added.length,"Wrong amount of items in the event. (add)");t.assertEquals(0,e.getData().removed.length,"Wrong amount of items in the event. (add)")},"Change event not fired!");e.dispose();e=new qx.data.Array("a","b","c");this.assertEventFired(e,"change",function(){e.splice(0,1,"x").dispose()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event. (add/remove)");t.assertEquals(0,e.getData().end,"Wrong end index in the event. (add/remove)");t.assertEquals("add/remove",e.getData().type,"Wrong type in the event. (add/remove)");t.assertEquals("x",e.getData().added[0],"Wrong items in the event. (add/remove)");t.assertEquals(1,e.getData().added.length,"Wrong amount of items in the event. (add/remove)");t.assertEquals("a",e.getData().removed[0],"Wrong items in the event. (add/remove)");t.assertEquals(1,e.getData().removed.length,"Wrong amount of items in the event. (add/remove)")},"Change event not fired!");e.dispose();e=new qx.data.Array("a","b","c");this.assertEventFired(e,"change",function(){e.splice(0,3,"x","y","z").dispose()},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event. (replace)");t.assertEquals(2,e.getData().end,"Wrong end index in the event. (replace)");t.assertEquals("add/remove",e.getData().type,"Wrong type in the event. (replace)");t.assertEquals("x",e.getData().added[0],"Wrong items in the event. (replace)");t.assertEquals("y",e.getData().added[1],"Wrong items in the event. (replace)");t.assertEquals("z",e.getData().added[2],"Wrong items in the event. (replace)");t.assertEquals(3,e.getData().added.length,"Wrong amount of items in the event. (replace)");t.assertEquals("a",e.getData().removed[0],"Wrong items in the event. (replace)");t.assertEquals("b",e.getData().removed[1],"Wrong items in the event. (replace)");t.assertEquals("c",e.getData().removed[2],"Wrong items in the event. (replace)");t.assertEquals(3,e.getData().removed.length,"Wrong amount of items in the event. (replace)")},"Change event not fired!");e.dispose()},testSpliceBubbleEvent:function(){var e=new qx.data.Array("a","b","c","d","e"),t=this;this.assertEventFired(e,"changeBubble",function(){e.splice(1,2).dispose()},function(e){var i=e.getData();t.assertEquals(0,i.value.length,"Wrong amount of item(s) added in the bubble event (remove).");t.assertEquals(2,i.old.length,"Wrong amount of item(s) removed in the bubble event (remove).");t.assertEquals("1-2",i.name,"Wrong name in the bubble event (remove).")},"changeBubble event not fired!");e.dispose();e=new qx.data.Array("a","b","c");this.assertEventFired(e,"changeBubble",function(){e.splice(0,0,"x").dispose()},function(e){var i=e.getData();t.assertEquals(1,i.value.length,"Wrong amount of item(s) added in the bubble event (add).");t.assertEquals(0,i.old.length,"Wrong amount of item(s) removed in the bubble event (add).");t.assertEquals("0",i.name,"Wrong name in the bubble event (add).")},"changeBubble event not fired!");e.dispose();e=new qx.data.Array("a","b","c");this.assertEventFired(e,"changeBubble",function(){e.splice(0,1,"x").dispose()},function(e){var i=e.getData();t.assertEquals(1,i.value.length,"Wrong amount of item(s) added in the bubble event (add/remove).");t.assertEquals(1,i.old.length,"Wrong amount of item(s) removed in the bubble event (add/remove).");t.assertEquals("0",i.name,"Wrong name in the bubble event (add/remove).")},"changeBubble event not fired!");e.dispose()},testSpliceEventNoChange:function(){var e=new qx.data.Array(1,2,3);this.assertEventNotFired(e,"change",function(){e.splice(0,0).dispose()},"Change event fired!");e.dispose()},testSpliceEventEqualContent:function(){var e=new qx.data.Array(1,2,3);this.assertEventNotFired(e,"change",function(){e.splice(0,2,1,2).dispose()},"Change event fired!");e.dispose()},testSpliceBubbleEventNoChange:function(){var e=new qx.data.Array(1,2,3);this.assertEventNotFired(e,"changeBubble",function(){e.splice(0,0).dispose()},"Change bubble event fired!");e.dispose()},testSpliceBubbleEventEqualContent:function(){var e=new qx.data.Array(1,2,3);this.assertEventNotFired(e,"changeBubble",function(){e.splice(0,2,1,2).dispose()},"Change bubble event fired!");e.dispose()},testSetItemEvent:function(){var e=new qx.data.Array(1,2,3),t=this;this.assertEventFired(e,"change",function(){e.setItem(0,4)},function(e){t.assertEquals(0,e.getData().start,"Wrong start index in the event.");t.assertEquals(0,e.getData().end,"Wrong end index in the event.");t.assertEquals("add/remove",e.getData().type,"Wrong type in the event.");t.assertEquals(4,e.getData().added[0],"Wrong item in the event.");t.assertEquals(1,e.getData().added.length,"Wrong item in the event.");t.assertEquals(1,e.getData().removed[0],"Wrong item in the event.");t.assertEquals(1,e.getData().removed.length,"Wrong item in the event.")},"Change event not fired!");this.assertEventNotFired(e,"change",function(){e.setItem(0,4)},"Change event fired!");e.dispose()},testForEach:function(){var e=this,t=0,i={},n=!1;this.__a.forEach(function(s,r,o){n=!0;e.assertEquals(this,i);e.assertEquals(t,r);e.assertEquals(e.__a,o);if(0!=t)if(1!=t){if(2!=t)throw new Error("Wrong call in the handler.");t++;e.assertEquals("three",s)}else{t++;e.assertEquals("two",s)}else{t++;e.assertEquals("one",s)}},i);this.assertTrue(n)},testNotAutoDisposeItems:function(){var e=new qx.core.Object;this.__a.push(e);this.__a.dispose();this.assertFalse(e.isDisposed());e.dispose()},testAutoDisposeItems:function(){var e=new qx.core.Object;this.__a.push(e);this.__a.setAutoDisposeItems(!0);this.__a.dispose();this.assertTrue(e.isDisposed())},testFilter:function(){var e=this,t=this.__a.filter(function(t,i,n){e.assertEquals(e,this);e.assertString(t);e.assertNumber(i);e.assertEquals(e.__a.toArray(),n);return"one"==t||"three"==t},this);this.assertEquals(2,t.length);this.assertEquals("one",t.getItem(0));this.assertEquals("three",t.getItem(1));t.dispose()},testMap:function(){var e=this,t=this.__a.map(function(t,i,n){e.assertEquals(e,this);e.assertString(t);e.assertNumber(i);e.assertEquals(e.__a.toArray(),n);return t+"!"},this);this.assertEquals(3,t.length);this.assertEquals("one!",t.getItem(0));this.assertEquals("two!",t.getItem(1));this.assertEquals("three!",t.getItem(2));t.dispose()},testSome:function(){var e=this;this.assertTrue(this.__a.some(function(t,i,n){e.assertEquals(e,this);e.assertString(t);e.assertNumber(i);e.assertEquals(e.__a.toArray(),n);return"one"==t},this));this.assertFalse(this.__a.some(function(e,t,i){return"xxx"==e},this))},testEvery:function(){var e=this;this.assertTrue(this.__a.every(function(t,i,n){e.assertEquals(e,this);e.assertString(t);e.assertNumber(i);e.assertEquals(e.__a.toArray(),n);return["one","two","three"].indexOf(t)>=0},this));this.assertFalse(this.__a.every(function(e,t,i){return"one"==e},this))},testReduce:function(){var e=this,t=this.__a.reduce(function(t,i,n,s){e.assertString(t);e.assertString(i);e.assertNumber(n);e.assertEquals(e.__a.toArray(),s);return t+i},"---");this.assertEquals("---onetwothree",t)},testReduceRight:function(){var e=this,t=this.__a.reduceRight(function(t,i,n,s){e.assertString(t);e.assertString(i);e.assertNumber(n);e.assertEquals(e.__a.toArray(),s);return t+i},"---");this.assertEquals("---threetwoone",t)}}});qx.test.data.DataArray.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.DataArrayWithChangeBubble",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{testObject:null,array:null,setUp:function(){this.testObject=qx.data.marshal.Json.createModel({name:"test",data:["A","B","C"]},!0);this.array=this.testObject.getData()},tearDown:function(){this.array.dispose();this.testObject.dispose();this.array=this.testObject=null},testRootArray:function(){var e=[{b:10}];e=qx.data.marshal.Json.createModel(e,!0);var t=this;this.assertEventFired(e,"changeBubble",function(){e.getItem(0).setB("affee")},function(i){t.assertEquals("[0].b",i.getData().name);t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getItem(0),i.getData().item)});e.dispose()},testAppend:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","C","D","E","F"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["D","E","F"],t.getData().value);e.assertEquals("data[3-5]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.append(["D","E","F"]);this.assertCalledOnce(t);this.assertArrayEquals(["A","B","C","D","E","F"],this.array.toArray(),"Changes are not applied!")},testAppendOne:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","C","D"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["D"],t.getData().value);e.assertEquals("data[3]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.append(["D"]);this.assertCalledOnce(t);this.assertArrayEquals(["A","B","C","D"],this.array.toArray(),"Changes are not applied!")},testBubbleAfterAppend:function(){var e=this,t=qx.data.marshal.Json.createModel([{a:"0"},{a:"1"}],!0),i=this.spy(function(t){e.assertEquals("affe",t.getData().value);e.assertEquals("[3].a",t.getData().name,"Indexing is wrong!")}),n=qx.data.marshal.Json.createModel([{a:"2"},{a:"3"}],!0);t.append(n);t.addListener("changeBubble",i,this);t.getItem(3).setA("affe");this.assertCalledOnce(i);this.assertEquals(4,t.length,"Length of the model is wrong!")},testInsertAfter:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","BB","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["BB"],t.getData().value);e.assertEquals("data[2]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.insertAfter("B","BB");this.assertCalledOnce(t);this.assertArrayEquals(["A","B","BB","C"],this.array.toArray(),"Changes are not applied!")},testInsertAt:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","BB","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["BB"],t.getData().value);e.assertEquals("data[2]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.insertAt(2,"BB");this.assertCalledOnce(t);this.assertArrayEquals(["A","B","BB","C"],this.array.toArray(),"Changes are not applied!")},testInsertBefore:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","BB","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["BB"],t.getData().value);e.assertEquals("data[2]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.insertBefore("C","BB");this.assertCalledOnce(t);this.assertArrayEquals(["A","B","BB","C"],this.array.toArray(),"Changes are not applied!")},testPop:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[2]",t.getData().name);e.assertArrayEquals(["C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.pop();this.assertCalledOnce(t);this.assertArrayEquals(["A","B"],this.array.toArray(),"Changes are not applied!")},testPush:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","C","D"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["D"],t.getData().value);e.assertEquals("data[3]",t.getData().name);e.assertArrayEquals([],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.push("D");this.assertCalledOnce(t);this.assertArrayEquals(["A","B","C","D"],this.array.toArray(),"Changes are not applied!")},testRemove:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[1]",t.getData().name);e.assertArrayEquals(["B"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.remove("B");this.assertCalledOnce(t);this.assertArrayEquals(["A","C"],this.array.toArray(),"Changes are not applied!")},testRemoveAll:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals([],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[0-2]",t.getData().name);e.assertArrayEquals(["A","B","C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.removeAll();this.assertCalledOnce(t);this.assertArrayEquals([],this.array.toArray(),"Changes are not applied!")},testRemoveAt:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[1]",t.getData().name);e.assertArrayEquals(["B"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.removeAt(1);this.assertCalledOnce(t);this.assertArrayEquals(["A","C"],this.array.toArray(),"Changes are not applied!")},testReverse:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["C","B","A"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["C","B","A"],t.getData().value);e.assertEquals("data[0-2]",t.getData().name);e.assertArrayEquals(["A","B","C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.reverse();this.assertCalledOnce(t);this.assertArrayEquals(["C","B","A"],this.array.toArray(),"Changes are not applied!")},testSetItem:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","BB","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["BB"],t.getData().value);e.assertEquals("data[1]",t.getData().name);e.assertArrayEquals(["B"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.setItem(1,"BB");this.assertCalledOnce(t);this.assertArrayEquals(["A","BB","C"],this.array.toArray(),"Changes are not applied!")},testShift:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["B","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[0]",t.getData().name);e.assertArrayEquals(["A"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.shift();this.assertCalledOnce(t);this.assertArrayEquals(["B","C"],this.array.toArray(),"Changes are not applied!")},testSort:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["C","B","A"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["C","B","A"],t.getData().value);e.assertEquals("data[0-2]",t.getData().name);e.assertArrayEquals(["A","B","C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.sort(function(e,t){return e<t?1:e>t?-1:0});this.assertCalledOnce(t);this.assertArrayEquals(["C","B","A"],this.array.toArray(),"Changes are not applied!")},testSortSecondTime:function(){var e=this,t=0,i=this.spy(function(i){e.assertEquals(0,t,"Handler was fired more than one times.");e.assertArrayEquals(["C","B","A"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["C","B","A"],i.getData().value);e.assertEquals("data[0-2]",i.getData().name);e.assertArrayEquals(["A","B","C"],i.getData().old);e.assertEquals(e.array,i.getData().item);t++});this.testObject.addListener("changeBubble",i,this);this.array.sort(function(e,t){return e<t?1:e>t?-1:0});this.assertCalledOnce(i);this.assertArrayEquals(["C","B","A"],this.array.toArray(),"Changes are not applied!");this.array.sort(function(e,t){return e<t?1:e>t?-1:0})},testSplice:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A","B","D","E","F"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["D","E","F"],t.getData().value);e.assertEquals("data[2-4]",t.getData().name);e.assertArrayEquals(["C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.splice(2,3,"D","E","F").dispose();this.assertCalledOnce(t);this.assertArrayEquals(["A","B","D","E","F"],this.array.toArray(),"Changes are not applied!")},testSpliceRemoveOnly:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["A"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals([],t.getData().value);e.assertEquals("data[1-2]",t.getData().name);e.assertArrayEquals(["B","C"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.splice(1,2).dispose();this.assertCalledOnce(t);this.assertArrayEquals(["A"],this.array.toArray(),"Changes are not applied!")},testUnshift:function(){var e=this,t=this.spy(function(t){e.assertArrayEquals(["D","A","B","C"],e.array.toArray(),"Changes are not applied when handler is executed!");e.assertArrayEquals(["D"],t.getData().value);e.assertEquals("data[0]",t.getData().name);e.assertArrayEquals(["A"],t.getData().old);e.assertEquals(e.array,t.getData().item)});this.testObject.addListener("changeBubble",t,this);this.array.unshift("D");this.assertCalledOnce(t);this.assertArrayEquals(["D","A","B","C"],this.array.toArray(),"Changes are not applied!")},testShiftAndSet:function(){var e=qx.data.marshal.Json.createModel([{foo:"one"},{foo:"two"},{foo:"three"}],!0);e.shift();var t=this,i=this.spy(function(e){t.assertEquals("zwei",e.getData().value);t.assertEquals("[0].foo",e.getData().name);t.assertEquals("two",e.getData().old)});e.addListener("changeBubble",i,this);e.getItem(0).setFoo("zwei")},testReverseAndSet:function(){var e=qx.data.marshal.Json.createModel([{foo:"one"},{foo:"two"},{foo:"three"}],!0);e.reverse();var t=this,i=this.spy(function(e){t.assertEquals("drei",e.getData().value);t.assertEquals("[0].foo",e.getData().name);t.assertEquals("three",e.getData().old)});e.addListener("changeBubble",i,this);e.getItem(0).setFoo("drei")},testUnshiftAndSet:function(){var e=qx.data.marshal.Json.createModel([{foo:"one"},{foo:"two"},{foo:"three"}],!0);e.unshift(qx.data.marshal.Json.createModel({foo:"zero"},!0));var t=this,i=this.spy(function(e){t.assertEquals("eins",e.getData().value);t.assertEquals("[1].foo",e.getData().name);t.assertEquals("one",e.getData().old)});e.addListener("changeBubble",i,this);e.getItem(1).setFoo("eins")},testSortAndSet:function(){var e=qx.data.marshal.Json.createModel([{foo:"one",n:1},{foo:"two",n:2},{foo:"three",n:0}],!0);e.sort(function(e,t){return e.getN()<t.getN()?-1:e.getN()>t.getN()?1:0});var t=this,i=this.spy(function(e){t.assertEquals("drei",e.getData().value);t.assertEquals("[0].foo",e.getData().name);t.assertEquals("three",e.getData().old)});e.addListener("changeBubble",i,this);e.getItem(0).setFoo("drei")},testSpliceAndSet:function(){var e=qx.data.marshal.Json.createModel([{foo:"one"},{foo:"two"},{foo:"three"}],!0);e.splice(0,0,qx.data.marshal.Json.createModel({foo:"zero"},!0));var t=this,i=this.spy(function(e){t.assertEquals("eins",e.getData().value);t.assertEquals("[1].foo",e.getData().name);t.assertEquals("one",e.getData().old)});e.addListener("changeBubble",i,this);e.getItem(1).setFoo("eins")}}});qx.test.data.DataArrayWithChangeBubble.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.form.Form":{},"qx.ui.form.TextField":{},"qx.ui.form.CheckBox":{},"qx.data.marshal.Json":{},"qx.data.controller.Form":{},"qx.ui.form.SelectBox":{},"qx.ui.form.ListItem":{},"qx.ui.form.List":{},"qx.data.controller.List":{},"qx.ui.form.Spinner":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.Form",{extend:qx.dev.unit.TestCase,members:{__form:null,__tf1:null,__tf2:null,__cb:null,__model:null,setUp:function(){this.__form=new qx.ui.form.Form;this.__tf1=new qx.ui.form.TextField;this.__tf2=new qx.ui.form.TextField("init");this.__cb=new qx.ui.form.CheckBox;this.__model=qx.data.marshal.Json.createModel({tf1:null,tf2:null,cb:null});this.__form.add(this.__tf1,"label1",null,"tf1");this.__form.add(this.__tf2,"label2",null,"tf2");this.__form.add(this.__cb,"label3",null,"cb")},tearDown:function(){this.__form.dispose();this.__model.dispose();this.__tf1.dispose();this.__tf2.destroy();this.__cb.destroy()},testSetModelNull:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.__tf1.setValue("1111");this.__tf2.setValue("2222");this.__cb.setValue(!0);e.setModel(null);this.assertNull(this.__tf1.getValue());this.assertNull(this.__tf2.getValue());this.assertFalse(this.__cb.getValue());e.dispose()},testInitialResetter:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.__tf2.setValue("affe");this.__form.reset();this.assertEquals(null,this.__tf2.getValue());e.dispose()},testUnidirectionalDeep:function(){this.__form.dispose();this.__form=new qx.ui.form.Form;this.__form.add(this.__tf1,"label1",null,"a.tf1");this.__form.add(this.__tf2,"label2",null,"a.tf2");var e=new qx.data.controller.Form(null,this.__form,!0),t=e.createModel();t.getA().setTf1("affe");this.assertEquals("affe",this.__tf1.getValue());this.__tf2.setValue("affee");this.assertEquals("init",t.getA().getTf2());e.updateModel();this.assertEquals("affee",t.getA().getTf2());e.dispose();t.dispose()},testUnidirectionalSelectionOptions:function(){var e=new qx.data.controller.Form(this.__model,this.__form,!0),t=new qx.ui.form.SelectBox,i=new qx.ui.form.ListItem("a").set({model:"a"}),n=new qx.ui.form.ListItem("b").set({model:"b"});t.add(i);t.add(n);this.__form.add(t,"Sb");e.setModel(null);e.addBindingOptions("Sb",{converter:function(e){return e&&e.substr(0,1)}},{converter:function(e){return e+"-item"}});var s=e.createModel();this.assertEquals("a-item",s.getSb());t.setSelection([n]);this.assertEquals("a-item",s.getSb());e.updateModel();this.assertEquals("b-item",s.getSb());t.dispose();e.dispose();s.dispose()},testUnidirectionalOptions:function(){var e=new qx.data.controller.Form(this.__model,this.__form,!0);e.addBindingOptions("tf1",{converter:function(e){return e&&e.substr(0,e.length-1)}},{converter:function(e){return e+"a"}});this.__tf1.setValue("affe");this.assertEquals(null,this.__model.getTf1());e.updateModel();this.assertEquals("affea",this.__model.getTf1());e.dispose()},testUnidirectionalSelection:function(){var e=new qx.data.controller.Form(this.__model,this.__form,!0),t=new qx.ui.form.SelectBox,i=new qx.ui.form.ListItem("a").set({model:"a"}),n=new qx.ui.form.ListItem("b").set({model:"b"});t.add(i);t.add(n);this.__form.add(t,"Sb");var s=e.createModel();this.assertEquals("a",s.getSb());t.setSelection([n]);this.assertEquals("a",s.getSb());e.updateModel();this.assertEquals("b",s.getSb());t.dispose();e.dispose();s.dispose()},testUnidirectional:function(){var e=new qx.data.controller.Form(this.__model,this.__form,!0);this.__model.setTf1("affe");this.assertEquals("affe",this.__tf1.getValue());this.__tf2.setValue("affee");this.assertEquals(null,this.__model.getTf2());e.updateModel();this.assertEquals("affee",this.__model.getTf2());e.dispose()},testCreateEmpty:function(){var e=new qx.data.controller.Form;this.assertNull(e.getModel());this.assertNull(e.getTarget());e.dispose()},testCreateWithModel:function(){var e=new qx.data.controller.Form(this.__model);this.assertEquals(this.__model,e.getModel());this.assertNull(e.getTarget());e.dispose()},testCreateWithForm:function(){var e=new qx.data.controller.Form(null,this.__form);this.assertEquals(this.__form,e.getTarget());this.assertNull(e.getModel());e.dispose()},testCreateWithBoth:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.assertEquals(this.__form,e.getTarget());this.assertEquals(this.__model,e.getModel());e.dispose()},testBindingCreate:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.__tf1.setValue("1");this.__tf2.setValue("2");this.__cb.setValue(!0);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());this.__tf1.setValue("11");this.__tf2.setValue("21");this.__cb.setValue(!1);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());this.__model.setTf1("a");this.__model.setTf2("b");this.__model.setCb(!0);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());e.dispose()},testBindingChangeModel:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.__tf1.setValue("1");this.__tf2.setValue("2");this.__cb.setValue(!0);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());var t=qx.data.marshal.Json.createModel({tf1:null,tf2:null,cb:null});e.setModel(t);this.__tf1.setValue("11");this.__tf2.setValue("22");this.__cb.setValue(!1);this.assertEquals(this.__tf1.getValue(),t.getTf1());this.assertEquals(this.__tf2.getValue(),t.getTf2());this.assertEquals(this.__cb.getValue(),t.getCb());this.assertEquals("1",this.__model.getTf1());this.assertEquals("2",this.__model.getTf2());this.assertEquals(!0,this.__model.getCb());t.dispose();e.dispose()},testBindingChangeForm:function(){var e=new qx.data.controller.Form(this.__model,this.__form);this.__tf1.setValue("1");this.__tf2.setValue("2");this.__cb.setValue(!0);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());var t=new qx.ui.form.Form,i=new qx.ui.form.TextField,n=new qx.ui.form.TextField("init"),s=new qx.ui.form.CheckBox;t.add(i,"tf1");t.add(n,"tf2");t.add(s,"cb");e.setTarget(t);i.setValue("11");n.setValue("22");s.setValue(!1);this.assertEquals(i.getValue(),this.__model.getTf1());this.assertEquals(n.getValue(),this.__model.getTf2());this.assertEquals(s.getValue(),this.__model.getCb());this.assertEquals(this.__tf1.getValue(),"1");this.assertEquals(this.__tf2.getValue(),"2");this.assertEquals(this.__cb.getValue(),!0);t.dispose();i.destroy();n.destroy();s.destroy();e.dispose()},testBindingDeep:function(){var e=qx.data.marshal.Json.createModel({a:{tf1:null},b:{c:{tf2:null}},cb:null}),t=new qx.ui.form.Form,i=new qx.ui.form.TextField,n=new qx.ui.form.TextField,s=new qx.ui.form.CheckBox;t.add(i,"label1",null,"a.tf1");t.add(n,"label2",null,"b.c.tf2");t.add(s,"label3",null,"cb");var r=new qx.data.controller.Form(e,t);e.getA().setTf1("1");e.getB().getC().setTf2("2");e.setCb(!0);this.assertEquals(i.getValue(),e.getA().getTf1());this.assertEquals(n.getValue(),e.getB().getC().getTf2());this.assertEquals(s.getValue(),e.getCb());i.setValue("11");n.setValue("22");s.setValue(!1);this.assertEquals(i.getValue(),e.getA().getTf1());this.assertEquals(n.getValue(),e.getB().getC().getTf2());this.assertEquals(s.getValue(),e.getCb());r.dispose();e.dispose();t.dispose();i.destroy();n.destroy();s.destroy()},testBindingModelSelection:function(){var e=new qx.ui.form.SelectBox,t=new qx.ui.form.ListItem("a");t.setModel("1");var i=new qx.ui.form.ListItem("b");i.setModel("2");e.add(t);e.add(i);this.__form.add(e,"sb");var n=qx.data.marshal.Json.createModel({tf1:null,tf2:null,cb:null,sb:null}),s=new qx.data.controller.Form(n,this.__form);e.setSelection([t]);this.assertEquals(e.getSelection()[0].getModel(),n.getSb());n.setSb("2");this.assertEquals(e.getSelection()[0].getModel(),n.getSb());s.dispose();n.dispose();i.destroy();t.destroy();e.destroy()},testModelCreation:function(){this.__tf1.setValue("A");this.__tf2.setValue("B");this.__cb.setValue(!0);var e=new qx.data.controller.Form(null,this.__form);e.addBindingOptions("tf1",{converter:function(e){return e&&e.substr(0,1)}},{converter:function(e){return e+"-"}});var t=e.createModel();this.assertEquals("A",this.__tf1.getValue());this.assertEquals("B",this.__tf2.getValue());this.assertTrue(this.__cb.getValue());this.assertEquals("A-",t.getTf1());this.assertEquals("B",t.getTf2());this.assertTrue(t.getCb());this.__tf1.setValue("1");this.__tf2.setValue("2");this.__cb.setValue(!0);this.assertEquals(this.__tf1.getValue()+"-",t.getTf1());this.assertEquals(this.__tf2.getValue(),t.getTf2());this.assertEquals(this.__cb.getValue(),t.getCb());this.__tf1.setValue("11");this.__tf2.setValue("21");this.__cb.setValue(!1);this.assertEquals(this.__tf1.getValue()+"-",t.getTf1());this.assertEquals(this.__tf2.getValue(),t.getTf2());this.assertEquals(this.__cb.getValue(),t.getCb());this.__model.setTf1("a");this.__model.setTf2("b");this.__model.setCb(!0);this.assertEquals(this.__tf1.getValue()+"-",t.getTf1());this.assertEquals(this.__tf2.getValue(),t.getTf2());this.assertEquals(this.__cb.getValue(),t.getCb());e.dispose();t.dispose()},testModelCreationDeep:function(){var e=new qx.ui.form.Form,t=new qx.ui.form.TextField("A"),i=new qx.ui.form.TextField("B");e.add(t,null,null,"a.b1");e.add(i,null,null,"a.b2.c");var n=new qx.data.controller.Form(null,e),s=n.createModel(!0);this.assertEquals("A",s.getA().getB1());this.assertEquals("B",s.getA().getB2().getC());s.dispose();n.dispose();t.destroy();i.destroy();e.dispose()},testModelCreationWithList:function(){var e=new qx.ui.form.Form,t=new qx.ui.form.List,i=new qx.ui.form.ListItem("A"),n=new qx.ui.form.ListItem("B");t.add(i);t.add(n);i.setModel("A");n.setModel("B");t.setSelection([]);e.add(t,"list");var s=new qx.data.controller.Form(null,e),r=s.createModel();this.assertNull(r.getList());t.setSelection([i]);this.assertEquals("A",r.getList());r.dispose();s.dispose();t.destroy();i.destroy();n.destroy();e.dispose()},testModelCreationSpecialCaracter:function(){var e=new qx.ui.form.Form,t=new qx.ui.form.TextField("A");e.add(t,"a&b-c+d*e/f|g!h i.,:?;!~+-*/%{}()[]<>=^&|@/\\");var i=new qx.data.controller.Form(null,e),n=i.createModel(!0);this.assertEquals("A",n.getAbcdefghi());n.dispose();i.dispose();t.destroy();e.dispose()},testModelCreationWithListController:function(){var e=new qx.ui.form.SelectBox,t=qx.data.marshal.Json.createModel([{name:"a"},{name:"b"}]),i=new qx.data.controller.List(t,e,"name");this.__form.add(e,"sb");i.getSelection().setItem(0,t.getItem(1));var n=new qx.data.controller.Form(null,this.__form),s=n.createModel();this.assertEquals(t.getItem(1),s.getSb());i.getSelection().setItem(0,t.getItem(0));this.assertEquals(e.getSelection()[0].getModel(),s.getSb());s.setSb(t.getItem(1));this.assertEquals(e.getSelection()[0].getModel(),s.getSb());n.dispose();i.dispose();t.dispose();s.dispose();e.destroy()},testModelCreationWithModelSelection:function(){var e=new qx.ui.form.SelectBox,t=new qx.ui.form.ListItem("a");t.setModel("1");var i=new qx.ui.form.ListItem("b");i.setModel("2");e.add(t);e.add(i);e.setSelection([t]);this.__form.add(e,"sb");e.setSelection([i]);var n=new qx.data.controller.Form(null,this.__form),s=n.createModel();this.assertEquals("2",s.getSb());e.setSelection([t]);this.assertEquals(e.getSelection()[0].getModel(),s.getSb());s.setSb("2");this.assertEquals(e.getSelection()[0].getModel(),s.getSb());n.dispose();s.dispose();i.destroy();t.destroy();e.destroy()},testRemoveTarget:function(){var e=new qx.ui.form.SelectBox,t=new qx.ui.form.ListItem("a");t.setModel("1");var i=new qx.ui.form.ListItem("b");i.setModel("2");e.add(t);e.add(i);this.__form.add(e,"sb");this.__form.add(this.__tf1,"tf1");var n=qx.data.marshal.Json.createModel({tf1:null,tf2:null,cb:null,sb:null}),s=new qx.data.controller.Form(n,this.__form);e.setSelection([t]);this.assertEquals(e.getSelection()[0].getModel(),n.getSb());n.setSb("2");this.assertEquals(e.getSelection()[0].getModel(),n.getSb());this.assertEquals(this.__tf1.getValue(),n.getTf1());this.__tf1.setValue("11");this.assertEquals(this.__tf1.getValue(),n.getTf1());n.setTf1("a");this.assertEquals(this.__tf1.getValue(),n.getTf1());s.setTarget(null);n.setTf1("affe");n.setSb("1");this.assertEquals("a",this.__tf1.getValue());this.assertEquals("2",e.getSelection()[0].getModel());this.__tf1.setValue("viele affen");e.setSelection([t]);this.assertEquals("affe",n.getTf1());this.assertEquals("1",n.getSb());s.dispose();n.dispose();i.destroy();t.destroy();e.destroy()},testOptions:function(){var e=new qx.data.controller.Form(this.__model,this.__form);e.addBindingOptions("tf1",{converter:function(e){return e&&e.substring(1)}},{converter:function(e){return"X"+e}});this.__tf1.setValue("1");this.__tf2.setValue("2");this.assertEquals("X"+this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.__tf1.setValue("11");this.__tf2.setValue("21");this.assertEquals("X"+this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.__model.setTf1("Xa");this.__model.setTf2("b");this.assertEquals(this.__tf1.getValue(),this.__model.getTf1().substring(1));this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());e.dispose()},testConnectionWithListControllerSelection:function(){var e=qx.data.marshal.Json.createModel([{name:"a",age:1},{name:"b",age:2},{name:"c",age:3}]),t=new qx.ui.form.List,i=new qx.data.controller.List(e,t,"name"),n=new qx.ui.form.Form,s=new qx.ui.form.TextField,r=new qx.ui.form.Spinner;n.add(s,"Name",null,"name");n.add(r,"Age",null,"age");var o=new qx.data.controller.Form(null,n);i.bind("selection[0]",o,"model");var a=t.getSelectables();t.setSelection([a[0]]);this.assertEquals("a",e.getItem(0).getName());this.assertEquals("b",e.getItem(1).getName());this.assertEquals("c",e.getItem(2).getName());this.assertEquals(1,e.getItem(0).getAge());this.assertEquals(2,e.getItem(1).getAge());this.assertEquals(3,e.getItem(2).getAge());a=t.getSelectables();t.setSelection([a[1]]);this.assertEquals("a",e.getItem(0).getName());this.assertEquals("b",e.getItem(1).getName());this.assertEquals("c",e.getItem(2).getName());this.assertEquals(1,e.getItem(0).getAge());this.assertEquals(2,e.getItem(1).getAge());this.assertEquals(3,e.getItem(2).getAge());a=t.getSelectables();t.setSelection([a[0]]);this.assertEquals("a",e.getItem(0).getName());this.assertEquals("b",e.getItem(1).getName());this.assertEquals("c",e.getItem(2).getName());this.assertEquals(1,e.getItem(0).getAge());this.assertEquals(2,e.getItem(1).getAge());this.assertEquals(3,e.getItem(2).getAge());for(var l=0;l<e.length;l++)e.getItem(l).dispose();e.dispose();t.dispose();i.dispose();n.dispose();o.dispose();s.dispose();r.dispose()},testDispose:function(){new qx.data.controller.Form(this.__model,this.__form).dispose();this.__model.setTf1("AFFE");this.assertNotEquals("AFFE",this.__tf1.getValue())},testBindingCreateMissingOne:function(){var e=new qx.ui.form.TextField;this.__form.add(e,"Unknown");var t=new qx.data.controller.Form(this.__model,this.__form);this.__tf1.setValue("1");this.__tf2.setValue("2");this.__cb.setValue(!0);this.assertEquals(this.__tf1.getValue(),this.__model.getTf1());this.assertEquals(this.__tf2.getValue(),this.__model.getTf2());this.assertEquals(this.__cb.getValue(),this.__model.getCb());e.destroy();t.dispose()}}});qx.test.data.controller.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.form.validation.Manager":{},"qx.ui.form.Resetter":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.Form",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__groups=[];this._buttons=[];this._buttonOptions=[];this._validationManager=this._createValidationManager();this._resetter=this._createResetter()},events:{change:"qx.event.type.Event"},members:{__groups:null,_validationManager:null,_groupCounter:0,_buttons:null,_buttonOptions:null,_resetter:null,add:function(e,t,i,n,s,r){this.__isFirstAdd()&&this.__groups.push({title:null,items:[],labels:[],names:[],options:[],headerOptions:{}});this.__groups[this._groupCounter].items.push(e);this.__groups[this._groupCounter].labels.push(t);this.__groups[this._groupCounter].options.push(r);null==n&&(n=t.replace(/\s+|&|-|\+|\*|\/|\||!|\.|,|:|\?|;|~|%|\{|\}|\(|\)|\[|\]|<|>|=|\^|@|\\/g,""));this.__groups[this._groupCounter].names.push(n);this._validationManager.add(e,i,s);this._resetter.add(e);this.fireEvent("change")},addGroupHeader:function(e,t){this.__isFirstAdd()||this._groupCounter++;this.__groups.push({title:e,items:[],labels:[],names:[],options:[],headerOptions:t});this.fireEvent("change")},addButton:function(e,t){this._buttons.push(e);this._buttonOptions.push(t||null);this.fireEvent("change")},__isFirstAdd:function(){return 0===this.__groups.length},remove:function(e){for(var t=0;t<this.__groups.length;t++)for(var i=this.__groups[t],n=0;n<i.items.length;n++){if(i.items[n]===e){i.items.splice(n,1);i.labels.splice(n,1);i.names.splice(n,1);i.options.splice(n,1);this._validationManager.remove(e);this._resetter.remove(e);this.fireEvent("change");return!0}}return!1},removeGroupHeader:function(e){for(var t=0;t<this.__groups.length;t++){var i=this.__groups[t];if(i.title===e){var n;if(0==t){if(1==this.__groups.length){i.title=null;i.headerOptions={};this.fireEvent("change");return!0}n=this.__groups[t+1]}else n=this.__groups[t-1];n.items=n.items.concat(i.items);n.labels=n.labels.concat(i.labels);n.names=n.names.concat(i.names);n.options=n.options.concat(i.options);this.__groups.splice(t,1);this._groupCounter--;this.fireEvent("change");return!0}}return!1},removeButton:function(e){for(var t=0;t<this._buttons.length;t++){if(this._buttons[t]===e){this._buttons.splice(t,1);this._buttonOptions.splice(t,1);this.fireEvent("change");return!0}}return!1},getItems:function(){for(var e={},t=0;t<this.__groups.length;t++)for(var i=this.__groups[t],n=0;n<i.names.length;n++){e[i.names[n]]=i.items[n]}return e},getItem:function(e){for(var t=0;t<this.__groups.length;t++)for(var i=this.__groups[t],n=0;n<i.names.length;n++)if(i.names[n]===e)return i.items[n];return null},reset:function(){this._resetter.reset();this._validationManager.reset()},redefineResetter:function(){this._resetter.redefine()},redefineResetterItem:function(e){this._resetter.redefineItem(e)},validate:function(){return this._validationManager.validate()},getValidationManager:function(){return this._validationManager},getGroups:function(){return this.__groups},getButtons:function(){return this._buttons},getButtonOptions:function(){return this._buttonOptions},_createValidationManager:function(){return new qx.ui.form.validation.Manager},_createResetter:function(){return new qx.ui.form.Resetter}},destruct:function(){this.__groups=this._buttons=this._buttonOptions=null;this._validationManager.dispose();this._resetter.dispose()}});qx.ui.form.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IBooleanForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IBooleanForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.RadioGroup":{}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IRadioItem",{events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){},getValue:function(){},setGroup:function(e){this.assertInstance(e,qx.ui.form.RadioGroup)},getGroup:function(){}}});qx.ui.form.IRadioItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Atom":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.IBooleanForm":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.form.IRadioItem":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.ToggleButton",{extend:qx.ui.basic.Atom,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IBooleanForm,qx.ui.form.IExecutable,qx.ui.form.IRadioItem],construct:function(e,t){qx.ui.basic.Atom.constructor.call(this,e,t);this.addListener("pointerover",this._onPointerOver);this.addListener("pointerout",this._onPointerOut);this.addListener("pointerdown",this._onPointerDown);this.addListener("pointerup",this._onPointerUp);this.addListener("keydown",this._onKeyDown);this.addListener("keyup",this._onKeyUp);this.addListener("execute",this._onExecute,this)},properties:{appearance:{refine:!0,init:"button"},focusable:{refine:!0,init:!0},value:{check:"Boolean",nullable:!0,event:"changeValue",apply:"_applyValue",init:!1},group:{check:"qx.ui.form.RadioGroup",nullable:!0,apply:"_applyGroup"},triState:{check:"Boolean",apply:"_applyTriState",nullable:!0,init:null}},members:{_applyGroup:function(e,t){t&&t.remove(this);e&&e.add(this)},_applyValue:function(e,t){e?this.addState("checked"):this.removeState("checked");this.isTriState()&&(null===e?this.addState("undetermined"):null===t&&this.removeState("undetermined"))},_applyTriState:function(e,t){this._applyValue(this.getValue())},_onExecute:function(e){this.toggleValue()},_onPointerOver:function(e){if(e.getTarget()===this){this.addState("hovered");if(this.hasState("abandoned")){this.removeState("abandoned");this.addState("pressed")}}},_onPointerOut:function(e){if(e.getTarget()===this){this.removeState("hovered");if(this.hasState("pressed")){this.getValue()||this.removeState("pressed");this.addState("abandoned")}}},_onPointerDown:function(e){if(e.isLeftPressed()){this.capture();this.removeState("abandoned");this.addState("pressed");e.stopPropagation()}},_onPointerUp:function(e){this.releaseCapture();this.hasState("abandoned")?this.removeState("abandoned"):this.hasState("pressed")&&this.execute();this.removeState("pressed");e.stopPropagation()},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case"Enter":case"Space":this.removeState("abandoned");this.addState("pressed");e.stopPropagation()}},_onKeyUp:function(e){if(this.hasState("pressed"))switch(e.getKeyIdentifier()){case"Enter":case"Space":this.removeState("abandoned");this.execute();this.removeState("pressed");e.stopPropagation()}}}});qx.ui.form.ToggleButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.form.MModelProperty",{properties:{model:{nullable:!0,event:"changeModel",apply:"_applyModel",dereference:!0}},members:{_applyModel:function(e,t){}}});qx.ui.form.MModelProperty.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IModel",{events:{changeModel:"qx.event.type.Data"},members:{setModel:function(e){},getModel:function(){},resetModel:function(){}}});qx.ui.form.IModel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.ToggleButton":{construct:!0,require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModel":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.CheckBox",{extend:qx.ui.form.ToggleButton,include:[qx.ui.form.MForm,qx.ui.form.MModelProperty],implement:[qx.ui.form.IForm,qx.ui.form.IModel],construct:function(e){this.assertArgumentsCount(arguments,0,1);qx.ui.form.ToggleButton.constructor.call(this,e);this.setValue(!1)},properties:{appearance:{refine:!0,init:"checkbox"},allowGrowX:{refine:!0,init:!1}},members:{_forwardStates:{invalid:!0,focused:!0,undetermined:!0,checked:!0,hovered:!0},_bindableProperties:["enabled","label","toolTipText","value","menu"]}});qx.ui.form.CheckBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.ui.core.ISingleSelection":{},"qx.data.marshal.Json":{},"qx.data.SingleValueBinding":{},"qx.data.controller.Object":{},"qx.ui.form.IModelSelection":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.controller.Form",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e,t,i){qx.core.Object.constructor.call(this);this._selfUpdate=!!i;this.__bindingOptions={};null!=e&&this.setModel(e);null!=t&&this.setTarget(t)},properties:{model:{check:"qx.core.Object",apply:"_applyModel",event:"changeModel",nullable:!0,dereference:!0},target:{check:"qx.ui.form.Form",apply:"_applyTarget",event:"changeTarget",nullable:!0,init:null,dereference:!0}},members:{__objectController:null,__bindingOptions:null,addBindingOptions:function(e,t,i){this.__bindingOptions[e]=[t,i];if(null!=this.getModel()&&null!=this.getTarget()){var n=this.getTarget().getItems()[e],s=this.__isModelSelectable(n)?"modelSelection[0]":"value";this.__objectController.removeTarget(n,s,e);this.__objectController.addTarget(n,s,e,!this._selfUpdate,t,i)}},createModel:function(e){var t=this.getTarget();if(null==t)throw new Error("No target is set.");var i=t.getItems(),n={};for(var s in i)for(var r=s.split("."),o=n,a=0;a<r.length;a++)if(a+1==r.length){var l=i[s].constructor,u=null;u=qx.Class.hasInterface(l,qx.ui.core.ISingleSelection)?i[s].getModelSelection().getItem(0)||null:i[s].getValue();this.__bindingOptions[s]&&this.__bindingOptions[s][1]&&(u=this.__bindingOptions[s][1].converter(u));o[r[a]]=u}else{o[r[a]]||(o[r[a]]={});o=o[r[a]]}var c=qx.data.marshal.Json.createModel(n,e);this.setModel(c);return c},updateModel:function(){if(this._selfUpdate&&this.getModel()&&this.getTarget()){var e=this.getTarget().getItems();for(var t in e){var i=e[t],n=this.__isModelSelectable(i)?"modelSelection[0]":"value",s=this.__bindingOptions[t];s=s&&this.__bindingOptions[t][1];qx.data.SingleValueBinding.updateTarget(i,n,this.getModel(),t,s)}}},_applyTarget:function(e,t){null!=t&&this.__tearDownBinding(t);null!=this.getModel()&&null!=e&&this.__setUpBinding()},_applyModel:function(e,t){null!=this.__objectController&&null==e&&this.__objectController.setModel(null);if(null!=this.__objectController&&null!=this.getTarget()){var i=this.getTarget().getItems();for(var n in i){var s=i[n],r=this.__isModelSelectable(s)?"modelSelection[0]":"value";this.__objectController.removeTarget(s,r,n)}}null!=this.__objectController&&this.__objectController.setModel(e);if(null!=this.getTarget()){this.getTarget().getValidationManager().reset();null!=e&&this.__setUpBinding()}},__setUpBinding:function(){null==this.__objectController&&(this.__objectController=new qx.data.controller.Object(this.getModel()));var e=this.getTarget().getItems();for(var t in e){var i=e[t],n=this.__isModelSelectable(i)?"modelSelection[0]":"value",s=this.__bindingOptions[t];try{null==s?this.__objectController.addTarget(i,n,t,!this._selfUpdate):this.__objectController.addTarget(i,n,t,!this._selfUpdate,s[0],s[1])}catch(e){this.warn("Could not bind property "+t+" of "+this.getModel()+":\n"+e.stack)}}this.getTarget().redefineResetter()},__tearDownBinding:function(e){if(null!=this.__objectController){var t=e.getItems();for(var i in t){var n=t[i],s=this.__isModelSelectable(n)?"modelSelection[0]":"value";this.__objectController.removeTarget(n,s,i)}}},__isModelSelectable:function(e){return qx.Class.hasInterface(e.constructor,qx.ui.core.ISingleSelection)&&qx.Class.hasInterface(e.constructor,qx.ui.form.IModelSelection)}},destruct:function(){this.__objectController&&this.__objectController.dispose()}});qx.data.controller.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MRemoteChildrenHandling",{members:{__forward:function(e,t,i,n){var s=this.getChildrenContainer();s===this&&(e="_"+e);return s[e](t,i,n)},getChildren:function(){return this.__forward("getChildren")},hasChildren:function(){return this.__forward("hasChildren")},add:function(e,t){return this.__forward("add",e,t)},remove:function(e){return this.__forward("remove",e)},removeAll:function(){return this.__forward("removeAll")},indexOf:function(e){return this.__forward("indexOf",e)},addAt:function(e,t,i){this.__forward("addAt",e,t,i)},addBefore:function(e,t,i){this.__forward("addBefore",e,t,i)},addAfter:function(e,t,i){this.__forward("addAfter",e,t,i)},removeAt:function(e){return this.__forward("removeAt",e)}}});qx.ui.core.MRemoteChildrenHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.form.List":{},"qx.ui.popup.Popup":{},"qx.ui.layout.VBox":{},"qx.bom.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.AbstractSelectBox",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.form.MForm],implement:[qx.ui.form.IForm],type:"abstract",construct:function(){qx.ui.core.Widget.constructor.call(this);var e=new qx.ui.layout.HBox;this._setLayout(e);e.setAlignY("middle");this.addListener("keypress",this._onKeyPress);this.addListener("blur",this._onBlur,this);this.addListener("resize",this._onResize,this)},properties:{focusable:{refine:!0,init:!0},width:{refine:!0,init:120},maxListHeight:{check:"Number",apply:"_applyMaxListHeight",nullable:!0,init:200},format:{check:"Function",init:function(e){return this._defaultFormat(e)},nullable:!0}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"list":(i=(new qx.ui.form.List).set({focusable:!1,keepFocus:!0,height:null,width:null,maxHeight:this.getMaxListHeight(),selectionMode:"one",quickSelection:!0})).addListener("changeSelection",this._onListChangeSelection,this);i.addListener("pointerdown",this._onListPointerDown,this);i.getChildControl("pane").addListener("tap",this.close,this);break;case"popup":(i=new qx.ui.popup.Popup(new qx.ui.layout.VBox)).setAutoHide(!1);i.setKeepActive(!0);i.add(this.getChildControl("list"));i.addListener("changeVisibility",this._onPopupChangeVisibility,this)}return i||qx.ui.form.AbstractSelectBox.prototype._createChildControlImpl.base.call(this,e)},_applyMaxListHeight:function(e,t){this.getChildControl("list").setMaxHeight(e)},getChildrenContainer:function(){return this.getChildControl("list")},open:function(){var e=this.getChildControl("popup");e.placeToWidget(this,!0);e.show()},close:function(){this.getChildControl("popup").hide()},toggle:function(){this.getChildControl("popup").isVisible()?this.close():this.open()},_defaultFormat:function(e){var t=e?e.getLabel():"";if(!!e&&e.getRich()){t=t.replace(/<[^>]+?>/g,"");t=qx.bom.String.unescape(t)}return t},_onBlur:function(e){this.close()},_onKeyPress:function(e){var t=e.getKeyIdentifier(),i=this.getChildControl("popup");if(!i.isHidden()||"PageDown"!=t&&"PageUp"!=t)if(i.isHidden()||"Escape"!=t)this.getChildControl("list").handleKeyPress(e);else{this.close();e.stop()}else e.stopPropagation()},_onResize:function(e){this.getChildControl("popup").setMinWidth(e.getData().width)},_onListChangeSelection:function(e){throw new Error("Abstract method: _onListChangeSelection()")},_onListPointerDown:function(e){throw new Error("Abstract method: _onListPointerDown()")},_onPopupChangeVisibility:function(e){"visible"==e.getData()?this.addState("popupOpen"):this.removeState("popupOpen")}}});qx.ui.form.AbstractSelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.core.ISingleSelection",{events:{changeSelection:"qx.event.type.Data"},members:{getSelection:function(){return!0},setSelection:function(e){return 1==arguments.length},resetSelection:function(){return!0},isSelected:function(e){return 1==arguments.length},isSelectionEmpty:function(){return!0},getSelectables:function(e){return 1==arguments.length}}});qx.ui.core.ISingleSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IModelSelection",{members:{setModelSelection:function(e){},getModelSelection:function(){}}});qx.ui.form.IModelSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{},"qx.ui.core.SingleSelectionManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MSingleSelectionHandling",{events:{changeValue:"qx.event.type.Data",changeSelection:"qx.event.type.Data"},members:{__manager:null,setValue:function(e){if(null===e){this.resetSelection();return null}if(e instanceof qx.ui.core.Widget){this.__getManager().setSelected(e);return null}return new TypeError("Given argument is not null or a {qx.ui.core.Widget}.")},getValue:function(){return this.__getManager().getSelected()||null},resetValue:function(){this.__getManager().resetSelected()},getSelection:function(){var e=this.__getManager().getSelected();return e?[e]:[]},setSelection:function(e){switch(e.length){case 0:this.resetSelection();break;case 1:this.__getManager().setSelected(e[0]);break;default:throw new Error("Could only select one item, but the selection array contains "+e.length+" items!")}},resetSelection:function(){this.__getManager().resetSelected()},isSelected:function(e){return this.__getManager().isSelected(e)},isSelectionEmpty:function(){return this.__getManager().isSelectionEmpty()},getSelectables:function(e){return this.__getManager().getSelectables(e)},_onChangeSelected:function(e){var t=e.getData(),i=e.getOldData();this.fireDataEvent("changeValue",t,i);t=null==t?[]:[t];i=null==i?[]:[i];this.fireDataEvent("changeSelection",t,i)},__getManager:function(){if(null==this.__manager){var e=this;this.__manager=new qx.ui.core.SingleSelectionManager({getItems:function(){return e._getItems()},isItemSelectable:function(t){return e._isItemSelectable?e._isItemSelectable(t):t.isVisible()}});this.__manager.addListener("changeSelected",this._onChangeSelected,this)}this.__manager.setAllowEmptySelection(this._isAllowEmptySelection());return this.__manager}},destruct:function(){this._disposeObjects("__manager")}});qx.ui.core.MSingleSelectionHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.data.Array":{construct:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.form.MModelSelection",{construct:function(){this.__modelSelection=new qx.data.Array;this.__modelSelection.addListener("change",this.__onModelSelectionArrayChange,this);this.addListener("changeSelection",this.__onModelSelectionChange,this)},events:{changeModelSelection:"qx.event.type.Data"},members:{__modelSelection:null,__inSelectionChange:!1,__onModelSelectionChange:function(){if(!this.__inSelectionChange){for(var e=this.getSelection(),t=[],i=0;i<e.length;i++){var n=e[i],s=n.getModel?n.getModel():null;null!==s&&t.push(s)}try{this.setModelSelection(t)}catch(e){throw new Error("Could not set the model selection. Maybe your models are not unique? "+e)}}},__onModelSelectionArrayChange:function(){this.__inSelectionChange=!0;for(var e=this.getSelectables(!0),t=[],i=this.__modelSelection.toArray(),n=0;n<i.length;n++)for(var s=i[n],r=0;r<e.length;r++){var o=e[r];if(s===(o.getModel?o.getModel():null)){t.push(o);break}}this.setSelection(t);this.__inSelectionChange=!1;var a=this.getSelection();qx.lang.Array.equals(a,t)||this.__onModelSelectionChange()},getModelSelection:function(){return this.__modelSelection},setModelSelection:function(e){if(e){this.assertArray(e,"Please use an array as parameter.");e.unshift(this.__modelSelection.getLength());e.unshift(0);this.__modelSelection.splice.apply(this.__modelSelection,e).dispose()}else this.__modelSelection.removeAll()}},destruct:function(){this._disposeObjects("__modelSelection")}});qx.ui.form.MModelSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.AbstractSelectBox":{construct:!0,require:!0},"qx.ui.core.ISingleSelection":{require:!0},"qx.ui.form.IModelSelection":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.core.MSingleSelectionHandling":{require:!0},"qx.ui.form.MModelSelection":{require:!0},"qx.ui.core.Spacer":{},"qx.ui.basic.Atom":{},"qx.ui.basic.Image":{},"qx.bom.Viewport":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.SelectBox",{extend:qx.ui.form.AbstractSelectBox,implement:[qx.ui.core.ISingleSelection,qx.ui.form.IModelSelection,qx.ui.form.IField],include:[qx.ui.core.MSingleSelectionHandling,qx.ui.form.MModelSelection],construct:function(){qx.ui.form.AbstractSelectBox.constructor.call(this);this._createChildControl("atom");this._createChildControl("spacer");this._createChildControl("arrow");this.addListener("pointerover",this._onPointerOver,this);this.addListener("pointerout",this._onPointerOut,this);this.addListener("tap",this._onTap,this);this.addListener("keyinput",this._onKeyInput,this);this.addListener("changeSelection",this.__onChangeSelection,this)},properties:{appearance:{refine:!0,init:"selectbox"},rich:{init:!1,check:"Boolean",apply:"_applyRich"}},members:{__preSelectedItem:null,_applyRich:function(e,t){this.getChildControl("atom").setRich(e)},_defaultFormat:function(e){if(e){"function"==typeof e.isRich&&e.isRich()&&this.setRich(!0);return e.getLabel()}return null},_createChildControlImpl:function(e,t){var i;switch(e){case"spacer":i=new qx.ui.core.Spacer;this._add(i,{flex:1});break;case"atom":(i=new qx.ui.basic.Atom(" ")).setCenter(!1);i.setAnonymous(!0);this._add(i,{flex:1});break;case"arrow":(i=new qx.ui.basic.Image).setAnonymous(!0);this._add(i)}return i||qx.ui.form.SelectBox.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{focused:!0},_getItems:function(){return this.getChildrenContainer().getChildren()},_isAllowEmptySelection:function(){return"one"!==this.getChildrenContainer().getSelectionMode()},__onChangeSelection:function(e){var t=e.getData()[0],i=this.getChildControl("list");i.getSelection()[0]!=t&&(t?i.setSelection([t]):i.resetSelection());this.__updateIcon();this.__updateLabel()},__updateIcon:function(){var e=this.getChildControl("list").getSelection()[0],t=this.getChildControl("atom"),i=e?e.getIcon():"";null==i?t.resetIcon():t.setIcon(i)},__updateLabel:function(){var e=this.getChildControl("list").getSelection()[0],t=this.getChildControl("atom"),i=e?e.getLabel():"",n=this.getFormat();null!=n&&e&&(i=n.call(this,e));i&&i.translate&&(i=i.translate());null==i?t.resetLabel():t.setLabel(i)},_onPointerOver:function(e){if(this.isEnabled()&&e.getTarget()===this){if(this.hasState("abandoned")){this.removeState("abandoned");this.addState("pressed")}this.addState("hovered")}},_onPointerOut:function(e){if(this.isEnabled()&&e.getTarget()===this){this.removeState("hovered");if(this.hasState("pressed")){this.removeState("pressed");this.addState("abandoned")}}},_onTap:function(e){this.toggle()},_onKeyPress:function(e){var t=e.getKeyIdentifier();if("Enter"==t||"Space"==t){if(this.__preSelectedItem){this.setSelection([this.__preSelectedItem]);this.__preSelectedItem=null}this.toggle()}else qx.ui.form.SelectBox.prototype._onKeyPress.base.call(this,e)},_onKeyInput:function(e){var t=e.clone();t.setTarget(this._list);t.setBubbles(!1);this.getChildControl("list").dispatchEvent(t)},_onListPointerDown:function(e){if(this.__preSelectedItem){this.setSelection([this.__preSelectedItem]);this.__preSelectedItem=null}},_onListChangeSelection:function(e){var t=e.getData(),i=e.getOldData();if(i&&i.length>0){i[0].removeListener("changeIcon",this.__updateIcon,this);i[0].removeListener("changeLabel",this.__updateLabel,this)}if(t.length>0){var n=this.getChildControl("popup"),s=this.getChildControl("list").getSelectionContext();if(!n.isVisible()||"quick"!=s&&"key"!=s){this.setSelection([t[0]]);this.__preSelectedItem=null}else this.__preSelectedItem=t[0];t[0].addListener("changeIcon",this.__updateIcon,this);t[0].addListener("changeLabel",this.__updateLabel,this)}else this.resetSelection()},_onPopupChangeVisibility:function(e){qx.ui.form.SelectBox.prototype._onPopupChangeVisibility.base.call(this,e);var t=this.getChildControl("popup");if(t.isVisible()){var i=t.getLayoutLocation(this),n=qx.bom.Viewport.getHeight(),s=i.top,r=n-i.bottom,o=s>r?s:r,a=this.getMaxListHeight();l=this.getChildControl("list");null==a||a>o?l.setMaxHeight(o):a<o&&l.setMaxHeight(a)}else{var l;(l=this.getChildControl("list")).hasChildren()&&l.setSelection(this.getSelection())}}},destruct:function(){this.__preSelectedItem=null}});qx.ui.form.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Atom":{construct:!0,require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.form.MModelProperty":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.ListItem",{extend:qx.ui.basic.Atom,implement:[qx.ui.form.IModel],include:[qx.ui.form.MModelProperty],construct:function(e,t,i){qx.ui.basic.Atom.constructor.call(this,e,t);null!=i&&this.setModel(i);this.addListener("pointerover",this._onPointerOver,this);this.addListener("pointerout",this._onPointerOut,this)},events:{action:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"listitem"}},members:{_forwardStates:{focused:!0,hovered:!0,selected:!0,dragover:!0},_onPointerOver:function(){this.addState("hovered")},_onPointerOut:function(){this.removeState("hovered")}},destruct:function(){this.removeListener("pointerover",this._onPointerOver,this);this.removeListener("pointerout",this._onPointerOut,this)}});qx.ui.form.ListItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.scroll.MRoll",{members:{_cancelRoll:null,_addRollHandling:function(){this.addListener("roll",this._onRoll,this);this.addListener("pointerdown",this._onPointerDownForRoll,this)},_removeRollHandling:function(){this.removeListener("roll",this._onRoll,this);this.removeListener("pointerdown",this._onPointerDownForRoll,this)},_onPointerDownForRoll:function(e){this._cancelRoll=e.getPointerId()},_onRoll:function(e){if("mouse"!=e.getPointerType())if(this._cancelRoll&&e.getMomentum()){e.stopMomentum();this._cancelRoll=null}else{this._cancelRoll=null;var t=this._isChildControlVisible("scrollbar-x"),i=this._isChildControlVisible("scrollbar-y"),n=i?this.getChildControl("scrollbar-y",!0):null,s=t?this.getChildControl("scrollbar-x",!0):null,r=e.getDelta().y,o=e.getDelta().x,a=!i,l=!t;if(n){0!==r&&n.scrollBy(parseInt(r,10));var u=n.getPosition(),c=n.getMaximum();(r<0&&u<=0||r>0&&u>=c)&&(a=!0)}if(s){0!==o&&s.scrollBy(parseInt(o,10));u=s.getPosition(),c=s.getMaximum();(o<0&&u<=0||o>0&&u>=c)&&(l=!0)}l&&a&&e.stopMomentum();(a||0!==o)&&(l||0!==r)&&(l&&a||0===o||0===r)||e.stop()}}}});qx.ui.core.scroll.MRoll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.DragDropScrolling":{construct:!0},"qx.Class":{},"qx.ui.core.scroll.MScrollBarFactory":{},"qx.ui.core.Widget":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MDragDropScrolling",{construct:function(){var e=this;this instanceof qx.ui.core.DragDropScrolling&&(e=this._getWidget());e.addListener("drag",this.__onDrag,this);e.addListener("dragend",this.__onDragend,this);this.__xDirs=["left","right"];this.__yDirs=["top","bottom"]},properties:{dragScrollThresholdX:{check:"Integer",init:30},dragScrollThresholdY:{check:"Integer",init:30},dragScrollSlowDownFactor:{check:"Float",init:.1}},members:{__dragScrollTimer:null,__xDirs:null,__yDirs:null,_findScrollableParent:function(e){var t=e;if(null===t)return null;for(;t.getLayoutParent();){t=t.getLayoutParent();if(this._isScrollable(t))return t}return null},_isScrollable:function(e){return qx.Class.hasMixin(e.constructor,qx.ui.core.scroll.MScrollBarFactory)},_getBounds:function(e){var t=e.getContentLocation();e.getScrollAreaContainer&&(t=e.getScrollAreaContainer().getContentLocation());return t},_getEdgeType:function(e,t,i){return-1*e.left<=t&&e.left<0?"left":-1*e.top<=i&&e.top<0?"top":e.right<=t&&e.right>0?"right":e.bottom<=i&&e.bottom>0?"bottom":null},_getAxis:function(e){if(-1!==this.__xDirs.indexOf(e))return"x";if(-1!==this.__yDirs.indexOf(e))return"y";throw new Error("Invalid edge type given ("+e+"). Must be: 'left', 'right', 'top' or 'bottom'")},_getThresholdByEdgeType:function(e){return-1!==this.__xDirs.indexOf(e)?this.getDragScrollThresholdX():-1!==this.__yDirs.indexOf(e)?this.getDragScrollThresholdY():void 0},_isScrollbarVisible:function(e,t){return!(!e||!e._isChildControlVisible)&&e._isChildControlVisible("scrollbar-"+t)},_isScrollbarExceedingMaxPos:function(e,t,i){var n;return!e||((n=e.getPosition()+i)>e.getMaximum()||n<0)},_calculateThresholdExceedance:function(e,t){var i=t-Math.abs(e);return e<0?-1*i:i},_calculateScrollAmount:function(e,t){return Math.floor(e/100*t*this.getDragScrollSlowDownFactor())},_scrollBy:function(e,t,i){var n=e.getChildControl("scrollbar-"+t,!0);if(n){var s=n.getBounds(),r="x"===t?s.width:s.height,o=this._calculateScrollAmount(r,i);this._isScrollbarExceedingMaxPos(n,t,o)&&this.__dragScrollTimer.stop();n.scrollBy(o)}},__onDrag:function(e){this.__dragScrollTimer&&this.__dragScrollTimer.stop();var t;if(t=e.getOriginalTarget()instanceof qx.ui.core.Widget?e.getOriginalTarget():qx.ui.core.Widget.getWidgetByElement(e.getOriginalTarget())){var i;i=this._isScrollable(t)?t:this._findScrollableParent(t);for(;i;){var n,s,r=this._getBounds(i),o=e.getDocumentLeft(),a=e.getDocumentTop(),l={left:r.left-o,right:r.right-o,top:r.top-a,bottom:r.bottom-a},u=0;if(n=this._getEdgeType(l,this.getDragScrollThresholdX(),this.getDragScrollThresholdY())){s=this._getAxis(n);if(this._isScrollbarVisible(i,s)){u=this._calculateThresholdExceedance(l[n],this._getThresholdByEdgeType(n));this.__dragScrollTimer&&this.__dragScrollTimer.dispose();this.__dragScrollTimer=new qx.event.Timer(50);this.__dragScrollTimer.addListener("interval",function(e,t,i){this._scrollBy(e,t,i)}.bind(this,i,s,u));this.__dragScrollTimer.start();e.stopPropagation();return}i=this._findScrollableParent(i)}else i=this._findScrollableParent(i)}}},__onDragend:function(e){this.__dragScrollTimer&&this.__dragScrollTimer.stop()}},destruct:function(){this.__dragScrollTimer&&this.__dragScrollTimer.dispose()}});qx.ui.core.MDragDropScrolling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.core.MDragDropScrolling":{require:!0},"qx.core.Init":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.DragDropScrolling",{extend:qx.core.Object,include:[qx.ui.core.MDragDropScrolling],construct:function(e){qx.core.Object.constructor.call(this);this._widget=e},members:{_widget:null,_getWidget:function(){return this._widget||qx.core.Init.getApplication().getRoot()}}});qx.ui.core.DragDropScrolling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.scroll.MScrollBarFactory":{require:!0},"qx.ui.core.scroll.MRoll":{require:!0},"qx.ui.core.MDragDropScrolling":{require:!0},"qx.bom.client.Scroll":{construct:!0},"qx.ui.layout.Canvas":{construct:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.core.scroll.ScrollPane":{},"qx.ui.core.queue.Manager":{}},environment:{provided:[],required:{"os.scrollBarOverlayed":{construct:!0,className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.scroll.AbstractScrollArea",{extend:qx.ui.core.Widget,include:[qx.ui.core.scroll.MScrollBarFactory,qx.ui.core.scroll.MRoll,qx.ui.core.MDragDropScrolling],type:"abstract",statics:{DEFAULT_SCROLLBAR_WIDTH:14},construct:function(){qx.ui.core.Widget.constructor.call(this);if(qx.core.Environment.get("os.scrollBarOverlayed"))this._setLayout(new qx.ui.layout.Canvas);else{var e=new qx.ui.layout.Grid;e.setColumnFlex(0,1);e.setRowFlex(0,1);this._setLayout(e)}var t=2*qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH+14;this.set({minHeight:t,minWidth:t});this._addRollHandling()},events:{scrollAnimationXEnd:"qx.event.type.Event",scrollAnimationYEnd:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"scrollarea"},scrollbarX:{check:["auto","on","off"],init:"auto",themeable:!0,apply:"_computeScrollbars"},scrollbarY:{check:["auto","on","off"],init:"auto",themeable:!0,apply:"_computeScrollbars"},scrollbar:{group:["scrollbarX","scrollbarY"]}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"pane":(i=new qx.ui.core.scroll.ScrollPane).addListener("update",this._computeScrollbars,this);i.addListener("scrollX",this._onScrollPaneX,this);i.addListener("scrollY",this._onScrollPaneY,this);qx.core.Environment.get("os.scrollBarOverlayed")?this._add(i,{edge:0}):this._add(i,{row:0,column:0});break;case"scrollbar-x":(i=this._createScrollBar("horizontal")).setMinWidth(0);i.exclude();i.addListener("scroll",this._onScrollBarX,this);i.addListener("changeVisibility",this._onChangeScrollbarXVisibility,this);i.addListener("scrollAnimationEnd",this._onScrollAnimationEnd.bind(this,"X"));if(qx.core.Environment.get("os.scrollBarOverlayed")){i.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this._add(i,{bottom:0,right:0,left:0})}else this._add(i,{row:1,column:0});break;case"scrollbar-y":(i=this._createScrollBar("vertical")).setMinHeight(0);i.exclude();i.addListener("scroll",this._onScrollBarY,this);i.addListener("changeVisibility",this._onChangeScrollbarYVisibility,this);i.addListener("scrollAnimationEnd",this._onScrollAnimationEnd.bind(this,"Y"));if(qx.core.Environment.get("os.scrollBarOverlayed")){i.setMinWidth(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this._add(i,{right:0,bottom:0,top:0})}else this._add(i,{row:0,column:1});break;case"corner":(i=new qx.ui.core.Widget).setWidth(0);i.setHeight(0);i.exclude();qx.core.Environment.get("os.scrollBarOverlayed")||this._add(i,{row:1,column:1})}return i||qx.ui.core.scroll.AbstractScrollArea.prototype._createChildControlImpl.base.call(this,e)},getPaneSize:function(){return this.getChildControl("pane").getInnerSize()},getItemTop:function(e){return this.getChildControl("pane").getItemTop(e)},getItemBottom:function(e){return this.getChildControl("pane").getItemBottom(e)},getItemLeft:function(e){return this.getChildControl("pane").getItemLeft(e)},getItemRight:function(e){return this.getChildControl("pane").getItemRight(e)},scrollToX:function(e,t){qx.ui.core.queue.Manager.flush();this.getChildControl("scrollbar-x").scrollTo(e,t)},scrollByX:function(e,t){qx.ui.core.queue.Manager.flush();this.getChildControl("scrollbar-x").scrollBy(e,t)},getScrollX:function(){var e=this.getChildControl("scrollbar-x",!0);return e?e.getPosition():0},scrollToY:function(e,t){qx.ui.core.queue.Manager.flush();this.getChildControl("scrollbar-y").scrollTo(e,t)},scrollByY:function(e,t){qx.ui.core.queue.Manager.flush();this.getChildControl("scrollbar-y").scrollBy(e,t)},getScrollY:function(){var e=this.getChildControl("scrollbar-y",!0);return e?e.getPosition():0},stopScrollAnimationX:function(){var e=this.getChildControl("scrollbar-x",!0);e&&e.stopScrollAnimation()},stopScrollAnimationY:function(){var e=this.getChildControl("scrollbar-y",!0);e&&e.stopScrollAnimation()},_onScrollAnimationEnd:function(e){this.fireEvent("scrollAnimation"+e+"End")},_onScrollBarX:function(e){this.getChildControl("pane").scrollToX(e.getData())},_onScrollBarY:function(e){this.getChildControl("pane").scrollToY(e.getData())},_onScrollPaneX:function(e){var t=this.getChildControl("scrollbar-x");t&&t.updatePosition(e.getData())},_onScrollPaneY:function(e){var t=this.getChildControl("scrollbar-y");t&&t.updatePosition(e.getData())},_onChangeScrollbarXVisibility:function(e){var t=this._isChildControlVisible("scrollbar-x"),i=this._isChildControlVisible("scrollbar-y");t||this.scrollToX(0);t&&i?this._showChildControl("corner"):this._excludeChildControl("corner")},_onChangeScrollbarYVisibility:function(e){var t=this._isChildControlVisible("scrollbar-x"),i=this._isChildControlVisible("scrollbar-y");i||this.scrollToY(0);t&&i?this._showChildControl("corner"):this._excludeChildControl("corner")},_computeScrollbars:function(){var e=this.getChildControl("pane");if(e.getChildren()[0]){var t=this.getInnerSize(),i=e.getInnerSize(),n=e.getScrollSize();if(i&&n){var s=this.getScrollbarX(),r=this.getScrollbarY();if("auto"===s&&"auto"===r){var o=n.width>t.width,a=n.height>t.height;!o&&!a||o&&a||(o?a=n.height>i.height:a&&(o=n.width>i.width))}else{o="on"===s,a="on"===r;n.width>(o?i.width:t.width)&&"auto"===s&&(o=!0);n.height>(o?i.height:t.height)&&"auto"===r&&(a=!0)}if(o){var l=this.getChildControl("scrollbar-x");l.show();l.setMaximum(Math.max(0,n.width-i.width));l.setKnobFactor(0===n.width?0:i.width/n.width)}else this._excludeChildControl("scrollbar-x");if(a){var u=this.getChildControl("scrollbar-y");u.show();u.setMaximum(Math.max(0,n.height-i.height));u.setKnobFactor(0===n.height?0:i.height/n.height)}else this._excludeChildControl("scrollbar-y")}}else{this._excludeChildControl("scrollbar-x");this._excludeChildControl("scrollbar-y")}}}});qx.ui.core.scroll.AbstractScrollArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.core.ISingleSelection":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.core.IMultiSelection",{extend:qx.ui.core.ISingleSelection,members:{selectAll:function(){return!0},addToSelection:function(e){return 1==arguments.length},removeFromSelection:function(e){return 1==arguments.length}}});qx.ui.core.IMultiSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MMultiSelectionHandling",{construct:function(){var e=this.SELECTION_MANAGER,t=this.__manager=new e(this);this.addListener("pointerdown",t.handlePointerDown,t);this.addListener("tap",t.handleTap,t);this.addListener("pointerover",t.handlePointerOver,t);this.addListener("pointermove",t.handlePointerMove,t);this.addListener("losecapture",t.handleLoseCapture,t);this.addListener("keypress",t.handleKeyPress,t);this.addListener("addItem",t.handleAddItem,t);this.addListener("removeItem",t.handleRemoveItem,t);t.addListener("changeSelection",this._onSelectionChange,this)},events:{changeValue:"qx.event.type.Data",changeSelection:"qx.event.type.Data"},properties:{selectionMode:{check:["single","multi","additive","one"],init:"single",apply:"_applySelectionMode"},dragSelection:{check:"Boolean",init:!1,apply:"_applyDragSelection"},quickSelection:{check:"Boolean",init:!1,apply:"_applyQuickSelection"}},members:{__manager:null,__inOnSelectionChange:!1,setValue:function(e){if(null===e){this.__manager.clearSelection();return null}for(var t=0,i=e.length;t<i;t++)if(!(e[t]instanceof qx.ui.core.Widget))return new TypeError("Some items in provided argument are not widgets");try{this.setSelection(e);return null}catch(e){return e}},getValue:function(){return this.__manager.getSelection()},resetValue:function(){this.__manager.clearSelection()},selectAll:function(){this.__manager.selectAll()},isSelected:function(e){if(!qx.ui.core.Widget.contains(this,e))throw new Error("Could not test if "+e+" is selected, because it is not a child element!");return this.__manager.isItemSelected(e)},addToSelection:function(e){if(!qx.ui.core.Widget.contains(this,e))throw new Error("Could not add + "+e+" to selection, because it is not a child element!");this.__manager.addItem(e)},removeFromSelection:function(e){if(!qx.ui.core.Widget.contains(this,e))throw new Error("Could not remove "+e+" from selection, because it is not a child element!");this.__manager.removeItem(e)},selectRange:function(e,t){this.__manager.selectItemRange(e,t)},resetSelection:function(){this.__manager.clearSelection()},setSelection:function(e){if(!this.__inOnSelectionChange){for(var t=0;t<e.length;t++)if(!qx.ui.core.Widget.contains(this,e[t]))throw new Error("Could not select "+e[t]+", because it is not a child element!");if(0===e.length)this.resetSelection();else{var i=this.getSelection();qx.lang.Array.equals(i,e)||this.__manager.replaceSelection(e)}}},getSelection:function(){return this.__manager.getSelection()},getSortedSelection:function(){return this.__manager.getSortedSelection()},isSelectionEmpty:function(){return this.__manager.isSelectionEmpty()},getSelectionContext:function(){return this.__manager.getSelectionContext()},_getManager:function(){return this.__manager},getSelectables:function(e){return this.__manager.getSelectables(e)},invertSelection:function(){this.__manager.invertSelection()},_getLeadItem:function(){var e=this.__manager.getMode();return"single"===e||"one"===e?this.__manager.getSelectedItem():this.__manager.getLeadItem()},_applySelectionMode:function(e,t){this.__manager.setMode(e)},_applyDragSelection:function(e,t){this.__manager.setDrag(e)},_applyQuickSelection:function(e,t){this.__manager.setQuick(e)},_onSelectionChange:function(e){if(!this.__inOnSelectionChange){this.__inOnSelectionChange=!0;try{this.fireDataEvent("changeSelection",e.getData(),e.getOldData());this.fireDataEvent("changeValue",e.getData(),e.getOldData())}finally{this.__inOnSelectionChange=!1}}}},destruct:function(){this._disposeObjects("__manager")}});qx.ui.core.MMultiSelectionHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Object":{},"qx.bom.client.OperatingSystem":{},"qx.event.Timer":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.selection.Abstract",{type:"abstract",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__selection={}},events:{changeSelection:"qx.event.type.Data"},properties:{mode:{check:["single","multi","additive","one"],init:"single",apply:"_applyMode"},drag:{check:"Boolean",init:!1},quick:{check:"Boolean",init:!1}},members:{__scrollStepX:0,__scrollStepY:0,__scrollTimer:null,__frameScroll:null,__lastRelX:null,__lastRelY:null,__frameLocation:null,__dragStartX:null,__dragStartY:null,__inCapture:null,__pointerX:null,__pointerY:null,__moveDirectionX:null,__moveDirectionY:null,__selectionModified:null,__selectionContext:null,__leadItem:null,__selection:null,__anchorItem:null,__pointerDownOnSelected:null,_userInteraction:!1,__oldScrollTop:null,getSelectionContext:function(){return this.__selectionContext},selectAll:function(){var e=this.getMode();if("single"==e||"one"==e)throw new Error("Can not select all items in selection mode: "+e);this._selectAllItems();this._fireChange()},selectItem:function(e){this._setSelectedItem(e);var t=this.getMode();if("single"!==t&&"one"!==t){this._setLeadItem(e);this._setAnchorItem(e)}this._scrollItemIntoView(e);this._fireChange()},addItem:function(e){var t=this.getMode();if("single"===t||"one"===t)this._setSelectedItem(e);else{null==this._getAnchorItem()&&this._setAnchorItem(e);this._setLeadItem(e);this._addToSelection(e)}this._scrollItemIntoView(e);this._fireChange()},removeItem:function(e){this._removeFromSelection(e);if("one"===this.getMode()&&this.isSelectionEmpty()){if(this._applyDefaultSelection()==e)return}this.getLeadItem()==e&&this._setLeadItem(null);this._getAnchorItem()==e&&this._setAnchorItem(null);this._fireChange()},selectItemRange:function(e,t){var i=this.getMode();if("single"==i||"one"==i)throw new Error("Can not select multiple items in selection mode: "+i);this._selectItemRange(e,t);this._setAnchorItem(e);this._setLeadItem(t);this._scrollItemIntoView(t);this._fireChange()},clearSelection:function(){if("one"==this.getMode()){if(null!=this._applyDefaultSelection(!0))return}this._clearSelection();this._setLeadItem(null);this._setAnchorItem(null);this._fireChange()},replaceSelection:function(e){var t=this.getMode();if("one"!=t&&"single"!==t)this._replaceMultiSelection(e);else{if(e.length>1)throw new Error("Could not select more than one items in mode: "+t+"!");1==e.length?this.selectItem(e[0]):this.clearSelection()}},getSelectedItem:function(){var e=this.getMode();if("single"===e||"one"===e){var t=this._getSelectedItem();return void 0!=t?t:null}throw new Error("The method getSelectedItem() is only supported in 'single' and 'one' selection mode!")},getSelection:function(){return Object.values(this.__selection)},getSortedSelection:function(){var e=this.getSelectables(),t=Object.values(this.__selection);t.sort(function(t,i){return e.indexOf(t)-e.indexOf(i)});return t},isItemSelected:function(e){var t=this._selectableToHashCode(e);return void 0!==this.__selection[t]},isSelectionEmpty:function(){return qx.lang.Object.isEmpty(this.__selection)},invertSelection:function(){var e=this.getMode();if("single"===e||"one"===e)throw new Error("The method invertSelection() is only supported in 'multi' and 'additive' selection mode!");for(var t=this.getSelectables(),i=0;i<t.length;i++)this._toggleInSelection(t[i]);this._fireChange()},_setLeadItem:function(e){var t=this.__leadItem;null!==t&&this._styleSelectable(t,"lead",!1);null!==e&&this._styleSelectable(e,"lead",!0);this.__leadItem=e},getLeadItem:function(){return this.__leadItem},_setAnchorItem:function(e){var t=this.__anchorItem;null!=t&&this._styleSelectable(t,"anchor",!1);null!=e&&this._styleSelectable(e,"anchor",!0);this.__anchorItem=e},_getAnchorItem:function(){return null!==this.__anchorItem?this.__anchorItem:null},_isSelectable:function(e){throw new Error("Abstract method call: _isSelectable()")},_getSelectableFromPointerEvent:function(e){var t=e.getTarget();return t&&this._isSelectable(t)?t:null},_selectableToHashCode:function(e){throw new Error("Abstract method call: _selectableToHashCode()")},_styleSelectable:function(e,t,i){throw new Error("Abstract method call: _styleSelectable()")},_capture:function(){throw new Error("Abstract method call: _capture()")},_releaseCapture:function(){throw new Error("Abstract method call: _releaseCapture()")},_getLocation:function(){throw new Error("Abstract method call: _getLocation()")},_getDimension:function(){throw new Error("Abstract method call: _getDimension()")},_getSelectableLocationX:function(e){throw new Error("Abstract method call: _getSelectableLocationX()")},_getSelectableLocationY:function(e){throw new Error("Abstract method call: _getSelectableLocationY()")},_getScroll:function(){throw new Error("Abstract method call: _getScroll()")},_scrollBy:function(e,t){throw new Error("Abstract method call: _scrollBy()")},_scrollItemIntoView:function(e){throw new Error("Abstract method call: _scrollItemIntoView()")},getSelectables:function(e){throw new Error("Abstract method call: getSelectables()")},_getSelectableRange:function(e,t){throw new Error("Abstract method call: _getSelectableRange()")},_getFirstSelectable:function(){throw new Error("Abstract method call: _getFirstSelectable()")},_getLastSelectable:function(){throw new Error("Abstract method call: _getLastSelectable()")},_getRelatedSelectable:function(e,t){throw new Error("Abstract method call: _getRelatedSelectable()")},_getPage:function(e,t){throw new Error("Abstract method call: _getPage()")},_applyMode:function(e,t){this._setLeadItem(null);this._setAnchorItem(null);this._clearSelection();"one"===e&&this._applyDefaultSelection(!0);this._fireChange()},handlePointerOver:function(e){if(null==this.__oldScrollTop||this.__oldScrollTop==this._getScroll().top){if("mouse"==e.getPointerType()){this._userInteraction=!0;if(this.getQuick()){var t=this.getMode();if("one"===t||"single"===t){var i=this._getSelectableFromPointerEvent(e);if(null!==i){this._setSelectedItem(i);this._fireChange("quick");this._userInteraction=!1}else this._userInteraction=!1}else this._userInteraction=!1}else this._userInteraction=!1}}else this.__oldScrollTop=null},handlePointerDown:function(e){this._userInteraction=!0;var t=this._getSelectableFromPointerEvent(e);if(null!==t){var i=e.isCtrlPressed()||"osx"==qx.core.Environment.get("os.name")&&e.isMetaPressed(),n=e.isShiftPressed();if(!this.isItemSelected(t)||n||i||this.getDrag()){this.__pointerDownOnSelected=null;this._scrollItemIntoView(t);var s=this.getMode();if(this.getDrag()&&"single"!==s&&"one"!==s&&!n&&!i&&"mouse"==e.getPointerType()){this._setAnchorItem(t);this._setLeadItem(t);this.__frameLocation=this._getLocation();this.__frameScroll=this._getScroll();this.__dragStartX=e.getDocumentLeft()+this.__frameScroll.left;this.__dragStartY=e.getDocumentTop()+this.__frameScroll.top;this.__inCapture=!0;this._capture()}this._fireChange("tap");this._userInteraction=!1}else{this.__pointerDownOnSelected=t;this._userInteraction=!1}}else this._userInteraction=!1},handleTap:function(e){this._userInteraction=!0;var t=e.isCtrlPressed()||"osx"==qx.core.Environment.get("os.name")&&e.isMetaPressed(),i=e.isShiftPressed();if(!t&&!i&&null!=this.__pointerDownOnSelected){this._userInteraction=!1;var n;if(null===(n=this._getSelectableFromPointerEvent(e))||!this.isItemSelected(n))return}if(null!==(n=this._getSelectableFromPointerEvent(e))){switch(this.getMode()){case"single":case"one":this._setSelectedItem(n);break;case"additive":this._setLeadItem(n);this._setAnchorItem(n);this._toggleInSelection(n);break;case"multi":this._setLeadItem(n);if(i){var s=this._getAnchorItem();if(null===s){s=this._getFirstSelectable();this._setAnchorItem(s)}this._selectItemRange(s,n,t)}else if(t){this._setAnchorItem(n);this._toggleInSelection(n)}else{this._setAnchorItem(n);this._setSelectedItem(n)}}this._userInteraction=!1;this._cleanup()}else this._userInteraction=!1},handleLoseCapture:function(e){this._cleanup()},handlePointerMove:function(e){if(this.__inCapture){this.__pointerX=e.getDocumentLeft();this.__pointerY=e.getDocumentTop();this._userInteraction=!0;var t=this.__pointerX+this.__frameScroll.left;t>this.__dragStartX?this.__moveDirectionX=1:t<this.__dragStartX?this.__moveDirectionX=-1:this.__moveDirectionX=0;var i=this.__pointerY+this.__frameScroll.top;i>this.__dragStartY?this.__moveDirectionY=1:i<this.__dragStartY?this.__moveDirectionY=-1:this.__moveDirectionY=0;var n=this.__frameLocation;this.__pointerX<n.left?this.__scrollStepX=this.__pointerX-n.left:this.__pointerX>n.right?this.__scrollStepX=this.__pointerX-n.right:this.__scrollStepX=0;this.__pointerY<n.top?this.__scrollStepY=this.__pointerY-n.top:this.__pointerY>n.bottom?this.__scrollStepY=this.__pointerY-n.bottom:this.__scrollStepY=0;if(!this.__scrollTimer){this.__scrollTimer=new qx.event.Timer(100);this.__scrollTimer.addListener("interval",this._onInterval,this)}this.__scrollTimer.start();this._autoSelect();e.stopPropagation();this._userInteraction=!1}},handleAddItem:function(e){var t=e.getData();"one"===this.getMode()&&this.isSelectionEmpty()&&this.addItem(t)},handleRemoveItem:function(e){this.removeItem(e.getData())},_cleanup:function(){if(this.getDrag()||!this.__inCapture){this.__selectionModified&&this._fireChange("tap");delete this.__inCapture;delete this.__lastRelX;delete this.__lastRelY;this._releaseCapture();this.__scrollTimer&&this.__scrollTimer.stop()}},_onInterval:function(e){this._scrollBy(this.__scrollStepX,this.__scrollStepY);this.__frameScroll=this._getScroll();this._autoSelect()},_autoSelect:function(){var e=this._getDimension(),t=Math.max(0,Math.min(this.__pointerX-this.__frameLocation.left,e.width))+this.__frameScroll.left,i=Math.max(0,Math.min(this.__pointerY-this.__frameLocation.top,e.height))+this.__frameScroll.top;if(this.__lastRelX!==t||this.__lastRelY!==i){this.__lastRelX=t;this.__lastRelY=i;for(var n,s,r=this._getAnchorItem(),o=r,a=this.__moveDirectionX;0!==a;){if(null!==(n=a>0?this._getRelatedSelectable(o,"right"):this._getRelatedSelectable(o,"left"))){s=this._getSelectableLocationX(n);if(a>0&&s.left<=t||a<0&&s.right>=t){o=n;continue}}break}for(var l,u,c=this.__moveDirectionY;0!==c;){if(null!==(l=c>0?this._getRelatedSelectable(o,"under"):this._getRelatedSelectable(o,"above"))){u=this._getSelectableLocationY(l);if(c>0&&u.top<=i||c<0&&u.bottom>=i){o=l;continue}}break}var d=this.getMode();if("multi"===d)this._selectItemRange(r,o);else if("additive"===d){this.isItemSelected(r)?this._selectItemRange(r,o,!0):this._deselectItemRange(r,o);this._setAnchorItem(o)}this._fireChange("drag")}},__navigationKeys:{Home:1,Down:1,Right:1,PageDown:1,End:1,Up:1,Left:1,PageUp:1},handleKeyPress:function(e){this._userInteraction=!0;var t,i,n=e.getKeyIdentifier(),s=this.getMode(),r=e.isCtrlPressed()||"osx"==qx.core.Environment.get("os.name")&&e.isMetaPressed(),o=e.isShiftPressed(),a=!1;if("A"===n&&r){if("single"!==s&&"one"!==s){this._selectAllItems();a=!0}}else if("Escape"===n){if("single"!==s&&"one"!==s){this._clearSelection();a=!0}}else if("Space"===n){var l=this.getLeadItem();if(null!=l&&!o){r||"additive"===s?this._toggleInSelection(l):this._setSelectedItem(l);a=!0}}else if(this.__navigationKeys[n]){a=!0;if(null!==(t="single"===s||"one"==s?this._getSelectedItem():this.getLeadItem()))switch(n){case"Home":i=this._getFirstSelectable();break;case"End":i=this._getLastSelectable();break;case"Up":i=this._getRelatedSelectable(t,"above");break;case"Down":i=this._getRelatedSelectable(t,"under");break;case"Left":i=this._getRelatedSelectable(t,"left");break;case"Right":i=this._getRelatedSelectable(t,"right");break;case"PageUp":i=this._getPage(t,!0);break;case"PageDown":i=this._getPage(t,!1)}else switch(n){case"Home":case"Down":case"Right":case"PageDown":i=this._getFirstSelectable();break;case"End":case"Up":case"Left":case"PageUp":i=this._getLastSelectable()}if(null!==i){switch(s){case"single":case"one":this._setSelectedItem(i);break;case"additive":this._setLeadItem(i);break;case"multi":if(o){var u=this._getAnchorItem();null===u&&this._setAnchorItem(u=this._getFirstSelectable());this._setLeadItem(i);this._selectItemRange(u,i,r)}else{this._setAnchorItem(i);this._setLeadItem(i);r||this._setSelectedItem(i)}}this.__oldScrollTop=this._getScroll().top;this._scrollItemIntoView(i)}}if(a){e.stop();this._fireChange("key")}this._userInteraction=!1},_selectAllItems:function(){for(var e=this.getSelectables(),t=0,i=e.length;t<i;t++)this._addToSelection(e[t])},_clearSelection:function(){var e=this.__selection;for(var t in e)this._removeFromSelection(e[t]);this.__selection={}},_selectItemRange:function(e,t,i){var n=this._getSelectableRange(e,t);if(!i){var s=this.__selection,r=this.__rangeToMap(n);for(var o in s)r[o]||this._removeFromSelection(s[o])}for(var a=0,l=n.length;a<l;a++)this._addToSelection(n[a])},_deselectItemRange:function(e,t){for(var i=this._getSelectableRange(e,t),n=0,s=i.length;n<s;n++)this._removeFromSelection(i[n])},__rangeToMap:function(e){for(var t,i={},n=0,s=e.length;n<s;n++){t=e[n];i[this._selectableToHashCode(t)]=t}return i},_getSelectedItem:function(){for(var e in this.__selection)return this.__selection[e];return null},_setSelectedItem:function(e){if(this._isSelectable(e)){var t=this.__selection;if(!t[this._selectableToHashCode(e)]||t.length>=2){this._clearSelection();this._addToSelection(e)}}},_addToSelection:function(e){var t=this._selectableToHashCode(e);if(null==this.__selection[t]&&this._isSelectable(e)){this.__selection[t]=e;this._styleSelectable(e,"selected",!0);this.__selectionModified=!0}},_toggleInSelection:function(e){var t=this._selectableToHashCode(e);if(null==this.__selection[t]){this.__selection[t]=e;this._styleSelectable(e,"selected",!0)}else{delete this.__selection[t];this._styleSelectable(e,"selected",!1)}this.__selectionModified=!0},_removeFromSelection:function(e){var t=this._selectableToHashCode(e);if(null!=this.__selection[t]){delete this.__selection[t];this._styleSelectable(e,"selected",!1);this.__selectionModified=!0}},_replaceMultiSelection:function(e){if(0!==e.length){for(var t,i=!1,n={},s=0,r=e.length;s<r;s++){t=e[s];this._isSelectable(t)&&(n[u=this._selectableToHashCode(t)]=t)}var o=e[0],a=t,l=this.__selection;for(var u in l)if(n[u])delete n[u];else{t=l[u];delete l[u];this._styleSelectable(t,"selected",!1);i=!0}for(var u in n){t=l[u]=n[u];this._styleSelectable(t,"selected",!0);i=!0}if(!i)return!1;this._scrollItemIntoView(a);this._setLeadItem(o);this._setAnchorItem(o);this.__selectionModified=!0;this._fireChange()}else this.clearSelection()},_fireChange:function(e){if(this.__selectionModified){this.__selectionContext=e||null;this.fireDataEvent("changeSelection",this.getSelection());delete this.__selectionModified}},_applyDefaultSelection:function(e){if(!0===e||"one"===this.getMode()&&this.isSelectionEmpty()){var t=this._getFirstSelectable();null!=t&&this.selectItem(t);return t}return null}},destruct:function(){this._disposeObjects("__scrollTimer");this.__selection=this.__pointerDownOnSelected=this.__anchorItem=null;this.__leadItem=null}});qx.ui.core.selection.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.selection.Abstract":{construct:!0,require:!0},"qx.bom.element.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.selection.Widget",{extend:qx.ui.core.selection.Abstract,construct:function(e){qx.ui.core.selection.Abstract.constructor.call(this);this.__widget=e},members:{__widget:null,_isSelectable:function(e){return this._isItemSelectable(e)&&e.getLayoutParent()===this.__widget},_selectableToHashCode:function(e){return e.toHashCode()},_styleSelectable:function(e,t,i){i?e.addState(t):e.removeState(t)},_capture:function(){this.__widget.capture()},_releaseCapture:function(){this.__widget.releaseCapture()},_isItemSelectable:function(e){return this._userInteraction?e.isVisible()&&e.isEnabled():e.isVisible()},_getWidget:function(){return this.__widget},_getLocation:function(){var e=this.__widget.getContentElement().getDomElement();return e?qx.bom.element.Location.get(e):null},_getDimension:function(){return this.__widget.getInnerSize()},_getSelectableLocationX:function(e){var t=e.getBounds();if(t)return{left:t.left,right:t.left+t.width}},_getSelectableLocationY:function(e){var t=e.getBounds();if(t)return{top:t.top,bottom:t.top+t.height}},_getScroll:function(){return{left:0,top:0}},_scrollBy:function(e,t){},_scrollItemIntoView:function(e){this.__widget.scrollChildIntoView(e)},getSelectables:function(e){var t=!1;if(!e){t=this._userInteraction;this._userInteraction=!0}for(var i,n=this.__widget.getChildren(),s=[],r=0,o=n.length;r<o;r++){i=n[r];this._isItemSelectable(i)&&s.push(i)}this._userInteraction=t;return s},_getSelectableRange:function(e,t){if(e===t)return[e];for(var i,n=this.__widget.getChildren(),s=[],r=!1,o=0,a=n.length;o<a;o++){if((i=n[o])===e||i===t){if(r){s.push(i);break}r=!0}r&&this._isItemSelectable(i)&&s.push(i)}return s},_getFirstSelectable:function(){for(var e=this.__widget.getChildren(),t=0,i=e.length;t<i;t++)if(this._isItemSelectable(e[t]))return e[t];return null},_getLastSelectable:function(){for(var e=this.__widget.getChildren(),t=e.length-1;t>0;t--)if(this._isItemSelectable(e[t]))return e[t];return null},_getRelatedSelectable:function(e,t){var i,n="vertical"===this.__widget.getOrientation(),s=this.__widget.getChildren(),r=s.indexOf(e);if(n&&"above"===t||!n&&"left"===t)for(var o=r-1;o>=0;o--){i=s[o];if(this._isItemSelectable(i))return i}else if(n&&"under"===t||!n&&"right"===t)for(o=r+1;o<s.length;o++){i=s[o];if(this._isItemSelectable(i))return i}return null},_getPage:function(e,t){return t?this._getFirstSelectable():this._getLastSelectable()}},destruct:function(){this.__widget=null}});qx.ui.core.selection.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.selection.Widget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.selection.ScrollArea",{extend:qx.ui.core.selection.Widget,members:{_isSelectable:function(e){return this._isItemSelectable(e)&&e.getLayoutParent()===this._getWidget().getChildrenContainer()},_getDimension:function(){return this._getWidget().getPaneSize()},_getScroll:function(){var e=this._getWidget();return{left:e.getScrollX(),top:e.getScrollY()}},_scrollBy:function(e,t){var i=this._getWidget();i.scrollByX(e);i.scrollByY(t)},_getPage:function(e,t){var i=this.getSelectables(),n=i.length,s=i.indexOf(e);if(-1===s)throw new Error("Invalid lead item: "+e);var r,o=this._getWidget(),a=o.getScrollY(),l=o.getInnerSize().height;if(t)for(var u=a,c=s;;){for(;c>=0;c--)if(o.getItemTop(i[c])<u){r=c;break}if(null==r){var d=this._getFirstSelectable();return d==e?null:d}if(!(r>=s))return i[r];u-=l+a-o.getItemBottom(e);r=null}else{var h=l+a;for(c=s;;){for(;c<n;c++)if(o.getItemBottom(i[c])>h){r=c;break}if(null==r){var g=this._getLastSelectable();return g==e?null:g}if(!(r<=s))return i[r];h+=o.getItemTop(e)-a;r=null}}}}});qx.ui.core.selection.ScrollArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{construct:!0,require:!0},"qx.lang.Object":{},"qx.ui.layout.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Grid",{extend:qx.ui.layout.Abstract,construct:function(e,t){qx.ui.layout.Abstract.constructor.call(this);this.__rowData=[];this.__colData=[];e&&this.setSpacingX(e);t&&this.setSpacingY(t)},properties:{spacingX:{check:"Integer",init:0,apply:"_applyLayoutChange"},spacingY:{check:"Integer",init:0,apply:"_applyLayoutChange"}},members:{__grid:null,__rowData:null,__colData:null,__colSpans:null,__rowSpans:null,__maxRowIndex:null,__maxColIndex:null,__rowHeights:null,__colWidths:null,verifyLayoutProperty:function(e,t,i){this.assert(1=={row:1,column:1,rowSpan:1,colSpan:1}[t],"The property '"+t+"' is not supported by the Grid layout!");this.assertInteger(i);this.assert(i>=0,"Value must be positive")},__buildGrid:function(){for(var e=[],t=[],i=[],n=-1,s=-1,r=this._getLayoutChildren(),o=0,a=r.length;o<a;o++){var l=r[o],u=l.getLayoutProperties(),c=u.row,d=u.column;u.colSpan=u.colSpan||1;u.rowSpan=u.rowSpan||1;if(null==c||null==d)throw new Error("The layout properties 'row' and 'column' of the child widget '"+l+"' must be defined!");if(e[c]&&e[c][d])throw new Error("Cannot add widget '"+l+"'!. There is already a widget '"+e[c][d]+"' in this cell ("+c+", "+d+") for '"+this+"'");for(var h=d;h<d+u.colSpan;h++)for(var g=c;g<c+u.rowSpan;g++){void 0==e[g]&&(e[g]=[]);e[g][h]=l;s=Math.max(s,h);n=Math.max(n,g)}u.rowSpan>1&&i.push(l);u.colSpan>1&&t.push(l)}for(g=0;g<=n;g++)void 0==e[g]&&(e[g]=[]);this.__grid=e;this.__colSpans=t;this.__rowSpans=i;this.__maxRowIndex=n;this.__maxColIndex=s;this.__rowHeights=null;this.__colWidths=null;delete this._invalidChildrenCache},_setRowData:function(e,t,i){var n=this.__rowData[e];if(n)n[t]=i;else{this.__rowData[e]={};this.__rowData[e][t]=i}},_setColumnData:function(e,t,i){var n=this.__colData[e];if(n)n[t]=i;else{this.__colData[e]={};this.__colData[e][t]=i}},setSpacing:function(e){this.setSpacingY(e);this.setSpacingX(e);return this},setColumnAlign:function(e,t,i){this.assertInteger(e,"Invalid parameter 'column'");this.assertInArray(t,["left","center","right"]);this.assertInArray(i,["top","middle","bottom"]);this._setColumnData(e,"hAlign",t);this._setColumnData(e,"vAlign",i);this._applyLayoutChange();return this},getColumnAlign:function(e){var t=this.__colData[e]||{};return{vAlign:t.vAlign||"top",hAlign:t.hAlign||"left"}},setRowAlign:function(e,t,i){this.assertInteger(e,"Invalid parameter 'row'");this.assertInArray(t,["left","center","right"]);this.assertInArray(i,["top","middle","bottom"]);this._setRowData(e,"hAlign",t);this._setRowData(e,"vAlign",i);this._applyLayoutChange();return this},getRowAlign:function(e){var t=this.__rowData[e]||{};return{vAlign:t.vAlign||"top",hAlign:t.hAlign||"left"}},getCellWidget:function(e,t){this._invalidChildrenCache&&this.__buildGrid();return(e=this.__grid[e]||{})[t]||null},getRowCount:function(){this._invalidChildrenCache&&this.__buildGrid();return this.__maxRowIndex+1},getColumnCount:function(){this._invalidChildrenCache&&this.__buildGrid();return this.__maxColIndex+1},getCellAlign:function(e,t){var i="top",n="left",s=this.__rowData[e],r=this.__colData[t],o=this.__grid[e][t];if(o)var a={vAlign:o.getAlignY(),hAlign:o.getAlignX()};else a={};a.vAlign?i=a.vAlign:s&&s.vAlign?i=s.vAlign:r&&r.vAlign&&(i=r.vAlign);a.hAlign?n=a.hAlign:r&&r.hAlign?n=r.hAlign:s&&s.hAlign&&(n=s.hAlign);return{vAlign:i,hAlign:n}},setColumnFlex:function(e,t){this._setColumnData(e,"flex",t);this._applyLayoutChange();return this},getColumnFlex:function(e){var t=this.__colData[e]||{};return void 0!==t.flex?t.flex:0},setRowFlex:function(e,t){this._setRowData(e,"flex",t);this._applyLayoutChange();return this},getRowFlex:function(e){var t=this.__rowData[e]||{};return void 0!==t.flex?t.flex:0},setColumnMaxWidth:function(e,t){this._setColumnData(e,"maxWidth",t);this._applyLayoutChange();return this},getColumnMaxWidth:function(e){var t=this.__colData[e]||{};return void 0!==t.maxWidth?t.maxWidth:1/0},setColumnWidth:function(e,t){this._setColumnData(e,"width",t);this._applyLayoutChange();return this},getColumnWidth:function(e){var t=this.__colData[e]||{};return void 0!==t.width?t.width:null},setColumnMinWidth:function(e,t){this._setColumnData(e,"minWidth",t);this._applyLayoutChange();return this},getColumnMinWidth:function(e){return(this.__colData[e]||{}).minWidth||0},setRowMaxHeight:function(e,t){this._setRowData(e,"maxHeight",t);this._applyLayoutChange();return this},getRowMaxHeight:function(e){return(this.__rowData[e]||{}).maxHeight||1/0},setRowHeight:function(e,t){this._setRowData(e,"height",t);this._applyLayoutChange();return this},getRowHeight:function(e){var t=this.__rowData[e]||{};return void 0!==t.height?t.height:null},setRowMinHeight:function(e,t){this._setRowData(e,"minHeight",t);this._applyLayoutChange();return this},getRowMinHeight:function(e){return(this.__rowData[e]||{}).minHeight||0},__getOuterSize:function(e){var t=e.getSizeHint(),i=e.getMarginLeft()+e.getMarginRight(),n=e.getMarginTop()+e.getMarginBottom();return{height:t.height+n,width:t.width+i,minHeight:t.minHeight+n,minWidth:t.minWidth+i,maxHeight:t.maxHeight+n,maxWidth:t.maxWidth+i}},_fixHeightsRowSpan:function(e){for(var t=this.getSpacingY(),i=0,n=this.__rowSpans.length;i<n;i++){for(var s=this.__rowSpans[i],r=this.__getOuterSize(s),o=s.getLayoutProperties(),a=o.row,l=t*(o.rowSpan-1),u=l,c={},d=0;d<o.rowSpan;d++){var h=o.row+d,g=e[h],m=this.getRowFlex(h);m>0&&(c[h]={min:g.minHeight,value:g.height,max:g.maxHeight,flex:m});l+=g.height;u+=g.minHeight}if(l<r.height)if(qx.lang.Object.isEmpty(c)){var f=t*(o.rowSpan-1),p=r.height-f,_=Math.floor(p/o.rowSpan),x=0,q=0;for(C=0;C<o.rowSpan;C++){var v=e[a+C].height;x+=v;v<_&&q++}var b=Math.floor((p-x)/q);for(C=0;C<o.rowSpan;C++)e[a+C].height<_&&(e[a+C].height+=b)}else for(var y=qx.ui.layout.Util.computeFlexOffsets(c,r.height,l),C=0;C<o.rowSpan;C++){var w=y[a+C]?y[a+C].offset:0;e[a+C].height+=w}if(u<r.minHeight)for(y=qx.ui.layout.Util.computeFlexOffsets(c,r.minHeight,u),d=0;d<o.rowSpan;d++){w=y[a+d]?y[a+d].offset:0;e[a+d].minHeight+=w}}},_fixWidthsColSpan:function(e){for(var t=this.getSpacingX(),i=0,n=this.__colSpans.length;i<n;i++){for(var s,r=this.__colSpans[i],o=this.__getOuterSize(r),a=r.getLayoutProperties(),l=a.column,u=t*(a.colSpan-1),c=u,d={},h=0;h<a.colSpan;h++){var g=a.column+h,m=e[g],f=this.getColumnFlex(g);f>0&&(d[g]={min:m.minWidth,value:m.width,max:m.maxWidth,flex:f});u+=m.width;c+=m.minWidth}if(u<o.width){var p=qx.ui.layout.Util.computeFlexOffsets(d,o.width,u);for(h=0;h<a.colSpan;h++){s=p[l+h]?p[l+h].offset:0;e[l+h].width+=s}}if(c<o.minWidth)for(p=qx.ui.layout.Util.computeFlexOffsets(d,o.minWidth,c),h=0;h<a.colSpan;h++){s=p[l+h]?p[l+h].offset:0;e[l+h].minWidth+=s}}},_getRowHeights:function(){if(null!=this.__rowHeights)return this.__rowHeights;for(var e=[],t=this.__maxRowIndex,i=this.__maxColIndex,n=0;n<=t;n++){for(var s=0,r=0,o=0;o<=i;o++){var a=this.__grid[n][o];if(a){if(!((a.getLayoutProperties().rowSpan||0)>1)){var l=this.__getOuterSize(a);s=this.getRowFlex(n)>0?Math.max(s,l.minHeight):Math.max(s,l.height);r=Math.max(r,l.height)}}}s=Math.max(s,this.getRowMinHeight(n));var u=this.getRowMaxHeight(n);if(null!==this.getRowHeight(n))r=this.getRowHeight(n);else r=Math.max(s,Math.min(r,u));e[n]={minHeight:s,height:r,maxHeight:u}}this.__rowSpans.length>0&&this._fixHeightsRowSpan(e);this.__rowHeights=e;return e},_getColWidths:function(){if(null!=this.__colWidths)return this.__colWidths;for(var e=[],t=this.__maxColIndex,i=this.__maxRowIndex,n=0;n<=t;n++){for(var s,r=0,o=0,a=0;a<=i;a++){var l=this.__grid[a][n];if(l){if(!((l.getLayoutProperties().colSpan||0)>1)){var u=this.__getOuterSize(l);o=Math.max(o,u.minWidth);r=Math.max(r,u.width)}}}o=Math.max(o,this.getColumnMinWidth(n));s=this.getColumnMaxWidth(n);if(null!==this.getColumnWidth(n))r=this.getColumnWidth(n);else r=Math.max(o,Math.min(r,s));e[n]={minWidth:o,width:r,maxWidth:s}}this.__colSpans.length>0&&this._fixWidthsColSpan(e);this.__colWidths=e;return e},_getColumnFlexOffsets:function(e){var t=this.getSizeHint(),i=e-t.width;if(0==i)return{};for(var n=this._getColWidths(),s={},r=0,o=n.length;r<o;r++){var a=n[r],l=this.getColumnFlex(r);l<=0||a.width==a.maxWidth&&i>0||a.width==a.minWidth&&i<0||(s[r]={min:a.minWidth,value:a.width,max:a.maxWidth,flex:l})}return qx.ui.layout.Util.computeFlexOffsets(s,e,t.width)},_getRowFlexOffsets:function(e){var t=this.getSizeHint(),i=e-t.height;if(0==i)return{};for(var n=this._getRowHeights(),s={},r=0,o=n.length;r<o;r++){var a=n[r],l=this.getRowFlex(r);l<=0||a.height==a.maxHeight&&i>0||a.height==a.minHeight&&i<0||(s[r]={min:a.minHeight,value:a.height,max:a.maxHeight,flex:l})}return qx.ui.layout.Util.computeFlexOffsets(s,e,t.height)},renderLayout:function(e,t,i){this._invalidChildrenCache&&this.__buildGrid();for(var n,s=qx.ui.layout.Util,r=this.getSpacingX(),o=this.getSpacingY(),a=this._getColWidths(),l=this._getColumnFlexOffsets(e),u=[],c=this.__maxColIndex,d=this.__maxRowIndex,h=0;h<=c;h++){n=l[h]?l[h].offset:0;u[h]=a[h].width+n}for(var g=this._getRowHeights(),m=this._getRowFlexOffsets(t),f=[],p=0;p<=d;p++){n=m[p]?m[p].offset:0;f[p]=g[p].height+n}var _=0;for(h=0;h<=c;h++){var x=0;for(p=0;p<=d;p++){var q=this.__grid[p][h];if(q){var v=q.getLayoutProperties();if(v.row===p&&v.column===h){for(var b=r*(v.colSpan-1),y=0;y<v.colSpan;y++)b+=u[h+y];var C=o*(v.rowSpan-1);for(y=0;y<v.rowSpan;y++)C+=f[p+y];var w=q.getSizeHint(),E=q.getMarginTop(),S=q.getMarginLeft(),T=q.getMarginBottom(),I=q.getMarginRight(),A=Math.max(w.minWidth,Math.min(b-S-I,w.maxWidth)),D=Math.max(w.minHeight,Math.min(C-E-T,w.maxHeight)),B=this.getCellAlign(p,h),L=_+s.computeHorizontalAlignOffset(B.hAlign,A,b,S,I),M=x+s.computeVerticalAlignOffset(B.vAlign,D,C,E,T);q.renderLayout(L+i.left,M+i.top,A,D);x+=f[p]+o}else x+=f[p]+o}else x+=f[p]+o}_+=u[h]+r}},invalidateLayoutCache:function(){qx.ui.layout.Grid.prototype.invalidateLayoutCache.base.call(this);this.__colWidths=null;this.__rowHeights=null},_computeSizeHint:function(){this._invalidChildrenCache&&this.__buildGrid();for(var e=this._getColWidths(),t=0,i=0,n=0,s=e.length;n<s;n++){var r=e[n];this.getColumnFlex(n)>0?t+=r.minWidth:t+=r.width;i+=r.width}var o=this._getRowHeights(),a=0,l=0;for(n=0,s=o.length;n<s;n++){var u=o[n];this.getRowFlex(n)>0?a+=u.minHeight:a+=u.height;l+=u.height}var c=this.getSpacingX()*(e.length-1),d=this.getSpacingY()*(o.length-1);return{minWidth:t+c,width:i+c,minHeight:a+d,height:l+d}}},destruct:function(){this.__grid=this.__rowData=this.__colData=this.__colSpans=this.__rowSpans=this.__colWidths=this.__rowHeights=null}});qx.ui.layout.Grid.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.scroll.AbstractScrollArea":{construct:!0,require:!0},"qx.ui.core.IMultiSelection":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IModelSelection":{require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.core.MMultiSelectionHandling":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelSelection":{require:!0},"qx.ui.core.selection.ScrollArea":{require:!0},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.List",{extend:qx.ui.core.scroll.AbstractScrollArea,implement:[qx.ui.core.IMultiSelection,qx.ui.form.IForm,qx.ui.form.IField,qx.ui.form.IModelSelection],include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MMultiSelectionHandling,qx.ui.form.MForm,qx.ui.form.MModelSelection],construct:function(e){qx.ui.core.scroll.AbstractScrollArea.constructor.call(this);this.__content=this._createListItemContainer();this.__content.addListener("addChildWidget",this._onAddChild,this);this.__content.addListener("removeChildWidget",this._onRemoveChild,this);this.getChildControl("pane").add(this.__content);e?this.setOrientation("horizontal"):this.initOrientation();this.addListener("keypress",this._onKeyPress);this.addListener("keyinput",this._onKeyInput);this.__pressedString=""},events:{addItem:"qx.event.type.Data",removeItem:"qx.event.type.Data"},properties:{appearance:{refine:!0,init:"list"},focusable:{refine:!0,init:!0},width:{refine:!0,init:100},height:{refine:!0,init:200},orientation:{check:["horizontal","vertical"],init:"vertical",apply:"_applyOrientation"},spacing:{check:"Integer",init:0,apply:"_applySpacing",themeable:!0},enableInlineFind:{check:"Boolean",init:!0}},members:{__pressedString:null,__lastKeyPress:null,__content:null,SELECTION_MANAGER:qx.ui.core.selection.ScrollArea,getChildrenContainer:function(){return this.__content},_onAddChild:function(e){this.fireDataEvent("addItem",e.getData())},_onRemoveChild:function(e){this.fireDataEvent("removeItem",e.getData())},handleKeyPress:function(e){this._onKeyPress(e)||this._getManager().handleKeyPress(e)},_createListItemContainer:function(){return new qx.ui.container.Composite},_applyOrientation:function(e,t){var i=this.__content,n=i.getLayout(),s="horizontal"===e,r=s?new qx.ui.layout.HBox:new qx.ui.layout.VBox;i.setLayout(r);i.setAllowGrowX(!s);i.setAllowGrowY(s);this._applySpacing(this.getSpacing());n&&n.dispose()},_applySpacing:function(e,t){this.__content.getLayout().setSpacing(e)},_onKeyPress:function(e){if("Enter"==e.getKeyIdentifier()&&!e.isAltPressed()){for(var t=this.getSelection(),i=0;i<t.length;i++)t[i].fireEvent("action");return!0}return!1},_onKeyInput:function(e){if(this.getEnableInlineFind()){var t=this.getSelectionMode();if("single"===t||"one"===t){(new Date).valueOf()-this.__lastKeyPress>1e3&&(this.__pressedString="");this.__pressedString+=e.getChar();var i=this.findItemByLabelFuzzy(this.__pressedString);i&&this.setSelection([i]);this.__lastKeyPress=(new Date).valueOf()}}},findItemByLabelFuzzy:function(e){e=e.toLowerCase();for(var t=this.getChildren(),i=0,n=t.length;i<n;i++){var s=t[i].getLabel();if(s&&0==s.toLowerCase().indexOf(e))return t[i]}return null},findItem:function(e,t){!1!==t&&(e=e.toLowerCase());for(var i,n=this.getChildren(),s=0,r=n.length;s<r;s++){var o;if((i=n[s]).isRich()){var a=i.getChildControl("label",!0);if(a){var l=a.getContentElement().getDomElement();l&&(o=qx.bom.element.Attribute.get(l,"text"))}}else o=i.getLabel();if(null!=o){o.translate&&(o=o.translate());!1!==t&&(o=o.toLowerCase());if(o.toString()==e.toString())return i}}return null}},destruct:function(){this._disposeObjects("__content")}});qx.ui.form.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.Class":{construct:!0},"qx.data.Array":{construct:!0},"qx.ui.core.IMultiSelection":{},"qx.ui.core.ISingleSelection":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.data.controller.MSelection",{construct:function(){if(!qx.Class.hasProperty(this.constructor,"target"))throw new Error("Target property is needed.");if(null==this.getSelection()){this.__ownSelection=new qx.data.Array;this.setSelection(this.__ownSelection)}},properties:{selection:{check:"qx.data.Array",event:"changeSelection",apply:"_applySelection",init:null}},events:{changeSelection:"qx.event.type.Data",changeValue:"qx.event.type.Data"},members:{_modifingSelection:0,__selectionListenerId:null,__selectionArrayListenerId:null,__ownSelection:null,setValue:function(e){null===e?this.resetSelection():this.setSelection(e);return null},getValue:function(){return this.getSelection()},resetValue:function(){this.resetSelection()},_applySelection:function(e,t){if(void 0!=this.__selectionArrayListenerId&&void 0!=t){t.removeListenerById(this.__selectionArrayListenerId);this.__selectionArrayListenerId=null}e&&(this.__selectionArrayListenerId=e.addListener("change",this.__changeSelectionArray,this));this._updateSelection()},__changeSelectionArray:function(){this._updateSelection()},_changeTargetSelection:function(){if(null!=this.getTarget()&&(this.__targetSupportsMultiSelection()||this.__targetSupportsSingleSelection())&&!this._inSelectionModification()){var e=this.getTarget().getSelection(),t=this.getSelection();if(null==t){t=new qx.data.Array;this.__ownSelection=t;this.setSelection(t)}for(var i=[0,t.getLength()],n=0;n<e.length;n++){var s=e[n].getModel();null!==s&&i.push(s)}t.splice.apply(t,i).dispose();this.fireDataEvent("changeSelection",this.getSelection())}},_addChangeTargetListener:function(e,t){void 0!=this.__selectionListenerId&&void 0!=t&&t.removeListenerById(this.__selectionListenerId);null!=e&&(this.__targetSupportsMultiSelection()||this.__targetSupportsSingleSelection())&&(this.__selectionListenerId=e.addListener("changeSelection",this._changeTargetSelection,this))},_updateSelection:function(){if(this.getTarget()&&this.getSelection()){this._startSelectionModification();if(this.__targetSupportsMultiSelection()){for(var e=[],t=0;t<this.getSelection().length;t++){var i=this.getSelection().getItem(t),n=this.__getSelectableForModel(i);null!=n&&e.push(n)}this.getTarget().setSelection(e);e=this.getTarget().getSelection();var s=[];for(t=0;t<e.length;t++)s[t]=e[t].getModel();for(t=this.getSelection().length-1;t>=0;t--)s.includes(this.getSelection().getItem(t))||this.getSelection().splice(t,1).dispose()}else if(this.__targetSupportsSingleSelection()){var r=this.getSelection().getItem(this.getSelection().length-1);if(void 0!==r){this.__selectItem(r);this.getSelection().splice(0,this.getSelection().getLength()-1).dispose()}else this.getTarget().resetSelection()}this._endSelectionModification();this.fireDataEvent("changeValue",this.getSelection())}},__targetSupportsMultiSelection:function(){var e=this.getTarget().constructor;return qx.Class.implementsInterface(e,qx.ui.core.IMultiSelection)},__targetSupportsSingleSelection:function(){var e=this.getTarget().constructor;return qx.Class.implementsInterface(e,qx.ui.core.ISingleSelection)},__selectItem:function(e){var t=this.__getSelectableForModel(e);null!=t&&(this.__targetSupportsMultiSelection()?this.getTarget().addToSelection(t):this.__targetSupportsSingleSelection()&&this.getTarget().setSelection([t]))},__getSelectableForModel:function(e){for(var t=this.getTarget().getSelectables(!0),i=0;i<t.length;i++)if(t[i].getModel()==e)return t[i];return null},_startSelectionModification:function(){this._modifingSelection++},_endSelectionModification:function(){this._modifingSelection>0&&this._modifingSelection--},_inSelectionModification:function(){return this._modifingSelection>0}},destruct:function(){this.__ownSelection&&this.__ownSelection.dispose()}});qx.data.controller.MSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.data.controller.ISelection",{members:{setSelection:function(e){},getSelection:function(){},resetSelection:function(){}}});qx.data.controller.ISelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.controller.MSelection":{require:!0},"qx.data.controller.ISelection":{require:!0},"qx.ui.core.queue.Widget":{},"qx.ui.form.ListItem":{},"qx.data.Array":{},"qx.lang.Object":{},"qx.lang.Function":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.controller.List",{extend:qx.core.Object,include:qx.data.controller.MSelection,implement:qx.data.controller.ISelection,construct:function(e,t,i){qx.core.Object.constructor.call(this);this.__lookupTable=[];this.__boundProperties=[];this.__boundPropertiesReverse=[];this.__onUpdate={};null!=i&&this.setLabelPath(i);null!=e&&this.setModel(e);null!=t&&this.setTarget(t)},properties:{model:{check:"qx.data.IListData",apply:"_applyModel",event:"changeModel",nullable:!0,dereference:!0},target:{apply:"_applyTarget",event:"changeTarget",nullable:!0,init:null,dereference:!0},labelPath:{check:"String",apply:"_applyLabelPath",nullable:!0},iconPath:{check:"String",apply:"_applyIconPath",nullable:!0},labelOptions:{apply:"_applyLabelOptions",nullable:!0},iconOptions:{apply:"_applyIconOptions",nullable:!0},delegate:{apply:"_applyDelegate",event:"changeDelegate",init:null,nullable:!0},allowNull:{apply:"_applyAllowNull",event:"changeAllowNull",init:!1,nullable:!1,check:"Boolean"},nullValueTitle:{apply:"_applyNullValueTitle",event:"changeNullValueTitle",init:null,nullable:!0,check:"String"},nullValueIcon:{apply:"_applyNullValueIcon",event:"changeNullValueIcon",init:null,nullable:!0,check:"String"}},members:{__changeModelListenerId:null,__lookupTable:null,__onUpdate:null,__boundProperties:null,__boundPropertiesReverse:null,__syncTargetSelection:null,__syncModelSelection:null,update:function(){this.__changeModelLength();this.__renewBindings();this._updateSelection()},_applyDelegate:function(e,t){this._setConfigureItem(e,t);this._setFilter(e,t);this._setCreateItem(e,t);this._setBindItem(e,t)},_applyIconOptions:function(e,t){this.__renewBindings()},_applyLabelOptions:function(e,t){this.__renewBindings()},_applyIconPath:function(e,t){this.__renewBindings()},_applyLabelPath:function(e,t){this.__renewBindings()},_applyAllowNull:function(e,t){this.__refreshModel()},_applyNullValueTitle:function(e,t){this.__refreshModel()},_applyNullValueIcon:function(e,t){this.__refreshModel()},__refreshModel:function(){this.getModel()&&this.getTarget()&&this.update()},_applyModel:function(e,t){void 0!=t&&void 0!=this.__changeModelListenerId&&t.removeListenerById(this.__changeModelListenerId);void 0!=this.getSelection()&&this.getSelection().length>0&&this.getSelection().splice(0,this.getSelection().length).dispose();if(null!=e){this.__changeModelListenerId=e.addListener("change",this.__changeModel,this);this.__buildUpLookupTable();this.__changeModelLength();if(null==t)this._changeTargetSelection();else{this.__syncTargetSelection=!0;qx.ui.core.queue.Widget.add(this)}}else{var i=this.getTarget();if(null!=i)for(var n=i.getChildren().length,s=0;s<n;s++)this.__removeItem()}},_applyTarget:function(e,t){this._addChangeTargetListener(e,t);if(void 0!=t){for(var i=t.removeAll(),n=0;n<i.length;n++)i[n].destroy();this.removeAllBindings()}if(null!=e&&null!=this.getModel())for(n=0;n<this.__lookupTable.length;n++)this.__addItem(this.__lookup(n))},__inChangeModel:!1,__changeModel:function(){if(!this.__inChangeModel){this.__inChangeModel=!0;this.__syncModelSelection=!0;qx.ui.core.queue.Widget.add(this);this.update();this.__inChangeModel=!1}},syncWidget:function(){this.__syncTargetSelection&&this._changeTargetSelection();this.__syncModelSelection&&this._updateSelection();this.__syncModelSelection=this.__syncTargetSelection=null},__changeModelLength:function(){if(null!=this.getTarget()){this.__buildUpLookupTable();var e=this.__lookupTable.length,t=this.getTarget().getChildren().length;if(e>t)for(var i=t;i<e;i++)this.__addItem(this.__lookup(i));else if(e<t)for(i=t;i>e;i--)this.__removeItem();this.__buildUpLookupTable();this.__syncTargetSelection=!0;qx.ui.core.queue.Widget.add(this)}},__moveChangeListenerAtTheEnd:function(){var e=this.getModel();if(null!=e){e.removeListenerById(this.__changeModelListenerId);this.__changeModelListenerId=e.addListener("change",this.__changeModel,this)}},_createItem:function(){var e=this.getDelegate();if(null!=e&&null!=e.createItem)var t=e.createItem();else t=new qx.ui.form.ListItem;null!=e&&null!=e.configureItem&&e.configureItem(t);return t},__addItem:function(e){var t=this._createItem();this._bindListItem(t,e);this.getTarget().add(t)},__removeItem:function(){this._startSelectionModification();var e=this.getTarget().getChildren(),t=e.length-1,i=e[t];this._removeBindingsFrom(i);this.getTarget().removeAt(t);i.destroy();this._endSelectionModification()},getVisibleModels:function(){var e=[],t=this.getTarget();if(null!=t)for(var i=t.getChildren(),n=0;n<i.length;n++)e.push(i[n].getModel());return new qx.data.Array(e)},_bindListItem:function(e,t){if(t<0){e.setLabel(this.getNullValueTitle()||"");e.setIcon(this.getNullValueIcon());e.setModel(null)}else{var i=this.getDelegate();null!=i&&null!=i.bindItem?i.bindItem(this,e,t):this.bindDefaultProperties(e,t)}},bindDefaultProperties:function(e,t){this.bindProperty("","model",null,e,t);this.bindProperty(this.getLabelPath(),"label",this.getLabelOptions(),e,t);null!=this.getIconPath()&&this.bindProperty(this.getIconPath(),"icon",this.getIconOptions(),e,t)},bindProperty:function(e,t,i,n,s){if(null!=i){i=qx.lang.Object.clone(i);this.__onUpdate[t]=i.onUpdate;delete i.onUpdate}else{i={};this.__onUpdate[t]=null}i.onUpdate=qx.lang.Function.bind(this._onBindingSet,this,s);i.ignoreConverter="model";var r="model["+s+"]";null!=e&&""!=e&&(r+="."+e);var o=this.bind(r,n,t,i);n.setUserData(t+"BindingId",o);this.__boundProperties.includes(t)||this.__boundProperties.push(t)},bindPropertyReverse:function(e,t,i,n,s){var r="model["+s+"]";null!=e&&""!=e&&(r+="."+e);var o=n.bind(t,this,r,i);n.setUserData(e+"ReverseBindingId",o);this.__boundPropertiesReverse.includes(e)||this.__boundPropertiesReverse.push(e)},_onBindingSet:function(e,t,i){if(null!=this.getModel()&&!this._inSelectionModification())for(var n=0;n<this.__boundProperties.length;n++)null!=this.__onUpdate[this.__boundProperties[n]]&&this.__onUpdate[this.__boundProperties[n]]()},_removeBindingsFrom:function(e){for(var t=0;t<this.__boundProperties.length;t++){if(null!=(i=e.getUserData(this.__boundProperties[t]+"BindingId"))){this.removeBinding(i);e.setUserData(this.__boundProperties[t]+"BindingId",null)}}for(t=0;t<this.__boundPropertiesReverse.length;t++){var i;if(null!=(i=e.getUserData(this.__boundPropertiesReverse[t]+"ReverseBindingId"))){e.removeBinding(i);e.getUserData(this.__boundPropertiesReverse[t]+"ReverseBindingId",null)}}},__renewBindings:function(){if(null!=this.getTarget()&&null!=this.getModel()){for(var e=this.getTarget().getChildren(),t=0;t<e.length;t++){this._removeBindingsFrom(e[t]);this._bindListItem(e[t],this.__lookup(t))}this.__moveChangeListenerAtTheEnd()}},_setConfigureItem:function(e,t){if(null!=e&&null!=e.configureItem&&null!=this.getTarget())for(var i=this.getTarget().getChildren(),n=0;n<i.length;n++)e.configureItem(i[n])},_setBindItem:function(e,t){if(null!=e&&null!=e.bindItem){if(null!=t&&null!=t.bindItem&&e.bindItem==t.bindItem)return;this.__renewBindings()}},_setCreateItem:function(e,t){if(null!=this.getTarget()&&null!=this.getModel()&&null!=e&&null!=e.createItem){this._startSelectionModification();for(var i=this.getTarget().getChildren(),n=0,s=i.length;n<s;n++)this._removeBindingsFrom(i[n]);var r=this.getTarget().removeAll();for(n=0;n<r.length;n++)r[n].destroy();this.update();this._endSelectionModification();this._updateSelection()}},_setFilter:function(e,t){null!=e&&null!=e.filter||null==t||null==t.filter||this.__removeFilter();if(null!=this.getTarget()&&null!=this.getModel()&&null!=e&&null!=e.filter){this._startSelectionModification();for(var i=this.getTarget().getChildren(),n=0,s=i.length;n<s;n++)this._removeBindingsFrom(i[n]);var r=this.__lookupTable;this.__buildUpLookupTable();if(r.length>this.__lookupTable.length)for(var o=r.length;o>this.__lookupTable.length;o--)this.getTarget().removeAt(o-1).destroy();else if(r.length<this.__lookupTable.length)for(o=r.length;o<this.__lookupTable.length;o++){var a=this._createItem();this.getTarget().add(a)}var l=this.getTarget().getChildren();for(n=0;n<l.length;n++)this._bindListItem(l[n],this.__lookup(n));this.__moveChangeListenerAtTheEnd();this._endSelectionModification();this._updateSelection()}},__removeFilter:function(){this.__buildUpLookupTable();this.__changeModelLength();this.__renewBindings();this.__syncModelSelection=!0;qx.ui.core.queue.Widget.add(this)},__buildUpLookupTable:function(){var e=this.getModel();if(null!=e){var t=this.getDelegate();if(null!=t)var i=t.filter;this.__lookupTable=[];this.isAllowNull()&&this.__lookupTable.push(-1);for(var n=0;n<e.getLength();n++)(null==i||i(e.getItem(n)))&&this.__lookupTable.push(n)}},__lookup:function(e){return this.__lookupTable[e]}},destruct:function(){this.__lookupTable=this.__onUpdate=this.__boundProperties=null;this.__boundPropertiesReverse=null;qx.ui.core.queue.Widget.remove(this)}});qx.data.controller.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MContentPadding",{properties:{contentPaddingTop:{check:"Integer",init:0,apply:"_applyContentPadding",themeable:!0},contentPaddingRight:{check:"Integer",init:0,apply:"_applyContentPadding",themeable:!0},contentPaddingBottom:{check:"Integer",init:0,apply:"_applyContentPadding",themeable:!0},contentPaddingLeft:{check:"Integer",init:0,apply:"_applyContentPadding",themeable:!0},contentPadding:{group:["contentPaddingTop","contentPaddingRight","contentPaddingBottom","contentPaddingLeft"],mode:"shorthand",themeable:!0}},members:{__contentPaddingSetter:{contentPaddingTop:"setPaddingTop",contentPaddingRight:"setPaddingRight",contentPaddingBottom:"setPaddingBottom",contentPaddingLeft:"setPaddingLeft"},__contentPaddingThemedSetter:{contentPaddingTop:"setThemedPaddingTop",contentPaddingRight:"setThemedPaddingRight",contentPaddingBottom:"setThemedPaddingBottom",contentPaddingLeft:"setThemedPaddingLeft"},__contentPaddingResetter:{contentPaddingTop:"resetPaddingTop",contentPaddingRight:"resetPaddingRight",contentPaddingBottom:"resetPaddingBottom",contentPaddingLeft:"resetPaddingLeft"},_applyContentPadding:function(e,t,i,n){var s=this._getContentPaddingTarget();if(null==e){s[this.__contentPaddingResetter[i]]()}else if("setThemed"==n||"resetThemed"==n){s[this.__contentPaddingThemedSetter[i]](e)}else{s[this.__contentPaddingSetter[i]](e)}}}});qx.ui.core.MContentPadding.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.INumberForm":{require:!0},"qx.ui.form.IRange":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.event.type.Focus":{construct:!0},"qx.ui.form.TextField":{},"qx.ui.form.RepeatButton":{},"qx.locale.Number":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.Spinner",{extend:qx.ui.core.Widget,implement:[qx.ui.form.INumberForm,qx.ui.form.IRange,qx.ui.form.IForm],include:[qx.ui.core.MContentPadding,qx.ui.form.MForm],construct:function(e,t,i){qx.ui.core.Widget.constructor.call(this);var n=new qx.ui.layout.Grid;n.setColumnFlex(0,1);n.setRowFlex(0,1);n.setRowFlex(1,1);this._setLayout(n);this.addListener("keydown",this._onKeyDown,this);this.addListener("keyup",this._onKeyUp,this);this.addListener("roll",this._onRoll,this);qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this);var s=this._createChildControl("textfield");this._createChildControl("upbutton");this._createChildControl("downbutton");null!=e&&this.setMinimum(e);null!=i&&this.setMaximum(i);void 0!==t?this.setValue(t):this.initValue();this.addListener("focusin",function(e){s.fireNonBubblingEvent("focusin",qx.event.type.Focus)},this);this.addListener("focusout",function(e){s.fireNonBubblingEvent("focusout",qx.event.type.Focus)},this)},properties:{appearance:{refine:!0,init:"spinner"},focusable:{refine:!0,init:!0},singleStep:{check:"Number",init:1},pageStep:{check:"Number",init:10},minimum:{check:"Number",apply:"_applyMinimum",init:0,event:"changeMinimum"},value:{check:"this._checkValue(value)",nullable:!0,apply:"_applyValue",init:0,event:"changeValue"},maximum:{check:"Number",apply:"_applyMaximum",init:100,event:"changeMaximum"},wrap:{check:"Boolean",init:!1,apply:"_applyWrap"},editable:{check:"Boolean",init:!0,apply:"_applyEditable"},numberFormat:{check:"qx.util.format.NumberFormat",apply:"_applyNumberFormat",nullable:!0},allowShrinkY:{refine:!0,init:!1}},members:{__lastValidValue:null,__pageUpMode:!1,__pageDownMode:!1,_createChildControlImpl:function(e,t){var i;switch(e){case"textfield":(i=new qx.ui.form.TextField).setFilter(this._getFilterRegExp());i.addState("inner");i.setWidth(40);i.setFocusable(!1);i.addListener("changeValue",this._onTextChange,this);this._add(i,{column:0,row:0,rowSpan:2});break;case"upbutton":(i=new qx.ui.form.RepeatButton).addState("inner");i.setFocusable(!1);i.addListener("execute",this._countUp,this);this._add(i,{column:1,row:0});break;case"downbutton":(i=new qx.ui.form.RepeatButton).addState("inner");i.setFocusable(!1);i.addListener("execute",this._countDown,this);this._add(i,{column:1,row:1})}return i||qx.ui.form.Spinner.prototype._createChildControlImpl.base.call(this,e)},_getFilterRegExp:function(){var e,t,i;i=null!==this.getNumberFormat()?this.getNumberFormat().getLocale():qx.locale.Manager.getInstance().getLocale();e=qx.locale.Number.getDecimalSeparator(i);t=qx.locale.Number.getGroupSeparator(i);var n="",s="";if(null!==this.getNumberFormat()){n=this.getNumberFormat().getPrefix()||"";s=this.getNumberFormat().getPostfix()||""}return new RegExp("[0-9"+qx.lang.String.escapeRegexpChars(e)+qx.lang.String.escapeRegexpChars(t)+qx.lang.String.escapeRegexpChars(n)+qx.lang.String.escapeRegexpChars(s)+"-]")},_forwardStates:{focused:!0,invalid:!0},tabFocus:function(){var e=this.getChildControl("textfield");e.getFocusElement().focus();e.selectAllText()},_applyMinimum:function(e,t){this.getMaximum()<e&&this.setMaximum(e);this.getValue()<e?this.setValue(e):this._updateButtons()},_applyMaximum:function(e,t){this.getMinimum()>e&&this.setMinimum(e);this.getValue()>e?this.setValue(e):this._updateButtons()},_applyEnabled:function(e,t){qx.ui.form.Spinner.prototype._applyEnabled.base.call(this,e,t);this._updateButtons()},_checkValue:function(e){return"number"==typeof e&&e>=this.getMinimum()&&e<=this.getMaximum()},_applyValue:function(e,t){var i=this.getChildControl("textfield");this._updateButtons();this.__lastValidValue=e;null!==e?this.getNumberFormat()?i.setValue(this.getNumberFormat().format(e)):i.setValue(e+""):i.setValue("")},_applyEditable:function(e,t){var i=this.getChildControl("textfield");i&&i.setReadOnly(!e)},_applyWrap:function(e,t){this._updateButtons()},_applyNumberFormat:function(e,t){this.getChildControl("textfield").setFilter(this._getFilterRegExp());t&&t.removeListener("changeNumberFormat",this._onChangeNumberFormat,this);var i=this.getNumberFormat();null!==i&&i.addListener("changeNumberFormat",this._onChangeNumberFormat,this);this._applyValue(this.__lastValidValue,void 0)},_getContentPaddingTarget:function(){return this.getChildControl("textfield")},_updateButtons:function(){var e=this.getChildControl("upbutton"),t=this.getChildControl("downbutton"),i=this.getValue();if(this.getEnabled())if(this.getWrap()){e.setEnabled(!0);t.setEnabled(!0)}else{null!==i&&i<this.getMaximum()?e.setEnabled(!0):e.setEnabled(!1);null!==i&&i>this.getMinimum()?t.setEnabled(!0):t.setEnabled(!1)}else{e.setEnabled(!1);t.setEnabled(!1)}},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case"PageUp":this.__pageUpMode=!0;case"Up":this.getChildControl("upbutton").press();break;case"PageDown":this.__pageDownMode=!0;case"Down":this.getChildControl("downbutton").press();break;default:return}e.stopPropagation();e.preventDefault()},_onKeyUp:function(e){switch(e.getKeyIdentifier()){case"PageUp":this.getChildControl("upbutton").release();this.__pageUpMode=!1;break;case"Up":this.getChildControl("upbutton").release();break;case"PageDown":this.getChildControl("downbutton").release();this.__pageDownMode=!1;break;case"Down":this.getChildControl("downbutton").release()}},_onRoll:function(e){if("wheel"==e.getPointerType()){var t=e.getDelta().y;t<0?this._countUp():t>0&&this._countDown();e.stop()}},_onTextChange:function(e){var t,i=this.getChildControl("textfield");if(this.getNumberFormat())try{t=this.getNumberFormat().parse(i.getValue())}catch(e){}void 0===t&&(t=parseFloat(i.getValue()));if(isNaN(t))this._applyValue(this.__lastValidValue,void 0);else{t>this.getMaximum()?t=this.getMaximum():t<this.getMinimum()&&(t=this.getMinimum());t===this.__lastValidValue?this._applyValue(this.__lastValidValue):this.setValue(t)}},_onChangeLocale:function(e){if(null!==this.getNumberFormat()){this.setNumberFormat(this.getNumberFormat());var t=this.getChildControl("textfield");t.setFilter(this._getFilterRegExp());t.setValue(this.getNumberFormat().format(this.getValue()))}},_onChangeNumberFormat:function(e){var t=this.getChildControl("textfield");t.setFilter(this._getFilterRegExp());t.setValue(this.getNumberFormat().format(this.getValue()))},_countUp:function(){if(this.__pageUpMode)var e=this.getValue()+this.getPageStep();else e=this.getValue()+this.getSingleStep();if(this.getWrap()&&e>this.getMaximum()){var t=this.getMaximum()-e;e=this.getMinimum()-t-1}this.gotoValue(e)},_countDown:function(){if(this.__pageDownMode)var e=this.getValue()-this.getPageStep();else e=this.getValue()-this.getSingleStep();if(this.getWrap()&&e<this.getMinimum()){var t=this.getMinimum()+e;e=this.getMaximum()+t+1}this.gotoValue(e)},gotoValue:function(e){return this.setValue(Math.min(this.getMaximum(),Math.max(this.getMinimum(),e)))},focus:function(){qx.ui.form.Spinner.prototype.focus.base.call(this);this.getChildControl("textfield").getFocusElement().focus()}},destruct:function(){var e=this.getNumberFormat();e&&e.removeListener("changeNumberFormat",this._onChangeNumberFormat,this);qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this)}});qx.ui.form.Spinner.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.locale.Manager":{construct:!0},"qx.lang.Type":{},"qx.lang.Object":{},"qx.core.ValidationError":{},"qx.type.BaseError":{},"qx.ui.form.validation.AsyncValidator":{},"qx.ui.form.IForm":{},"qx.ui.core.ISingleSelection":{},"qx.data.controller.ISelection":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.validation.Manager",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__formItems=[];this.__asyncResults={};this.setRequiredFieldMessage(qx.locale.Manager.tr("This field is required"))},events:{changeValid:"qx.event.type.Data",complete:"qx.event.type.Event"},properties:{validator:{check:"value instanceof Function || qx.Class.isSubClassOf(value.constructor, qx.ui.form.validation.AsyncValidator)",init:null,nullable:!0},invalidMessage:{check:"String",init:""},requiredFieldMessage:{check:"String",init:""},context:{nullable:!0}},members:{__formItems:null,__valid:null,__asyncResults:null,__syncValid:null,add:function(e,t,i){if(!this.__supportsInvalid(e))throw new Error("Added widget not supported.");if(this.__supportsSingleSelection(e)&&!e.getValue&&null!=t)throw new Error("Widgets supporting selection can only be validated in the form validator");var n={item:e,validator:t,valid:null,context:i};this.__formItems.push(n)},remove:function(e){for(var t=this.__formItems,i=0,n=t.length;i<n;i++)if(e===t[i].item){t.splice(i,1);return e}return null},getItems:function(){for(var e=[],t=0;t<this.__formItems.length;t++)e.push(this.__formItems[t].item);return e},validate:function(){var e=!0;this.__syncValid=!0;for(var t=[],i=0;i<this.__formItems.length;i++){var n=this.__formItems[i].item,s=this.__formItems[i].validator;t.push(n);if(null!=s){e=(r=this._validateItem(this.__formItems[i],n.getValue()))&&e;null!=r&&(this.__syncValid=r&&this.__syncValid)}else{var r=this._validateRequired(n);e=e&&r;this.__syncValid=r&&this.__syncValid}}var o=this.__validateForm(t);qx.lang.Type.isBoolean(o)&&(this.__syncValid=o&&this.__syncValid);e=o&&e;this._setValid(e);qx.lang.Object.isEmpty(this.__asyncResults)&&this.fireEvent("complete");return e},_validateRequired:function(e){if(e.getRequired()){var t;if(this.__supportsSingleSelection(e))t=!!e.getSelection()[0];else if(this.__supportsDataBindingSelection(e))t=e.getSelection().getLength()>0;else{var i=e.getValue();t=!!i||0===i}e.setValid(t);var n=e.getRequiredInvalidMessage(),s=n||this.getRequiredFieldMessage();e.setInvalidMessage(s);return t}return!0},_validateItem:function(e,t){var i=e.item,n=e.context,s=e.validator;if(this.__isAsyncValidator(s)){this.__asyncResults[i.toHashCode()]=null;s.validate(i,i.getValue(),this,n);return null}var r=null;try{void 0===(r=s.call(n||this,t,i))&&(r=!0)}catch(e){if(!(e instanceof qx.core.ValidationError))throw e;r=!1;if(e.message&&e.message!=qx.type.BaseError.DEFAULTMESSAGE)var o=e.message;else o=e.getComment();i.setInvalidMessage(o)}i.setValid(r);e.valid=r;return r},__validateForm:function(e){var t=this.getValidator(),i=this.getContext()||this;if(null==t)return!0;this.setInvalidMessage("");if(this.__isAsyncValidator(t)){this.__asyncResults[this.toHashCode()]=null;t.validateForm(e,this,i);return null}try{var n=t.call(i,e,this);void 0===n&&(n=!0)}catch(e){if(!(e instanceof qx.core.ValidationError))throw e;n=!1;if(e.message&&e.message!=qx.type.BaseError.DEFAULTMESSAGE)var s=e.message;else s=e.getComment();this.setInvalidMessage(s)}return n},__isAsyncValidator:function(e){var t=!1;qx.lang.Type.isFunction(e)||(t=qx.Class.isSubClassOf(e.constructor,qx.ui.form.validation.AsyncValidator));return t},__supportsInvalid:function(e){var t=e.constructor;return qx.Class.hasInterface(t,qx.ui.form.IForm)},__supportsSingleSelection:function(e){var t=e.constructor;return qx.Class.hasInterface(t,qx.ui.core.ISingleSelection)},__supportsDataBindingSelection:function(e){var t=e.constructor;return qx.Class.hasInterface(t,qx.data.controller.ISelection)},_setValid:function(e){this._showToolTip(e);var t=this.__valid;this.__valid=e;t!=e&&this.fireDataEvent("changeValid",e,t)},_showToolTip:function(e){if(qx.ui.tooltip&&qx.ui.tooltip.Manager){var t=qx.ui.tooltip.Manager.getInstance().getSharedErrorTooltip();if(e)t.exclude();else for(var i=0;i<this.__formItems.length;i++){var n=this.__formItems[i].item;if(!n.isValid()){n;if(!n.getContentLocation)return;if(!1===n.isSeeable())continue;t.setLabel(n.getInvalidMessage());if("mouse"==t.getPlaceMethod()){var s=n.getContentLocation(),r=s.top-t.getOffsetTop();t.placeToPoint({left:s.right,top:r})}else t.placeToWidget(n);t.show();return}}}},getValid:function(){return this.__valid},isValid:function(){return this.getValid()},getInvalidMessages:function(){for(var e=[],t=0;t<this.__formItems.length;t++){var i=this.__formItems[t].item;i.getValid()||e.push(i.getInvalidMessage())}""!=this.getInvalidMessage()&&e.push(this.getInvalidMessage());return e},getInvalidFormItems:function(){for(var e=[],t=0;t<this.__formItems.length;t++){var i=this.__formItems[t].item;i.getValid()||e.push(i)}return e},reset:function(){for(var e=0;e<this.__formItems.length;e++){this.__formItems[e].item.setValid(!0)}this.__valid=null;this._showToolTip(!0)},setItemValid:function(e,t){this.__asyncResults[e.toHashCode()]=t;e.setValid(t);this.__checkValidationComplete()},setFormValid:function(e){this.__asyncResults[this.toHashCode()]=e;this.__checkValidationComplete()},__checkValidationComplete:function(){var e=this.__syncValid;for(var t in this.__asyncResults){var i=this.__asyncResults[t];e=i&&e;if(null==i)return}this._setValid(e);this.__asyncResults={};this.fireEvent("complete")}},destruct:function(){this._showToolTip(!0);this.__formItems=null}});qx.ui.form.validation.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.form.IField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.Resetter",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__items=[]},members:{__items:null,add:function(e){this.__typeCheck(e);this.__items.push({item:e,init:e.getValue()})},remove:function(e){this.__typeCheck(e);for(var t=0;t<this.__items.length;t++){if(this.__items[t].item===e){this.__items.splice(t,1);return!0}}return!1},reset:function(){for(var e,t,i=[],n=0;n<this.__items.length;n++)(t=(e=this.__items[n]).item.setValue(e.init))&&t instanceof Error&&i.push(t);return i.length?new Error(i.join(", ")):null},resetItem:function(e){this.__typeCheck(e);for(var t=0;t<this.__items.length;t++){var i=this.__items[t];if(i.item===e)return e.setValue(i.init)}throw new Error("The given field has not been added.")},redefine:function(){for(var e=0;e<this.__items.length;e++){var t=this.__items[e].item;this.__items[e].init=t.getValue()}},redefineItem:function(e){this.__typeCheck(e);for(var t,i=0;i<this.__items.length;i++)if(this.__items[i].item===e){(t=this.__items[i]).init=t.item.getValue();return}throw new Error("The given field has not been added.")},__typeCheck:function(e){if(!qx.Class.hasInterface(e.constructor,qx.ui.form.IField))throw new TypeError("Field "+e+" not supported for resetting.")}},destruct:function(){this.__items=null}});qx.ui.form.Resetter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.core.ISingleSelection":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModelSelection":{require:!0},"qx.ui.core.MSingleSelectionHandling":{require:!0},"qx.ui.form.MModelSelection":{require:!0},"qx.lang.String":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.RadioGroup",{extend:qx.core.Object,implement:[qx.ui.core.ISingleSelection,qx.ui.form.IField,qx.ui.form.IForm,qx.ui.form.IModelSelection],include:[qx.ui.core.MSingleSelectionHandling,qx.ui.form.MModelSelection],construct:function(e){qx.core.Object.constructor.call(this);this.__items=[];this.addListener("changeSelection",this.__onChangeSelection,this);null!=e&&this.add.apply(this,arguments)},properties:{groupedProperty:{check:"String",apply:"_applyGroupedProperty",event:"changeGroupedProperty",init:"value"},groupProperty:{check:"String",event:"changeGroupProperty",init:"group"},enabled:{check:"Boolean",apply:"_applyEnabled",event:"changeEnabled",init:!0},wrap:{check:"Boolean",init:!0},allowEmptySelection:{check:"Boolean",init:!1,apply:"_applyAllowEmptySelection"},valid:{check:"Boolean",init:!0,apply:"_applyValid",event:"changeValid"},required:{check:"Boolean",init:!1,event:"changeRequired"},invalidMessage:{check:"String",init:"",event:"changeInvalidMessage",apply:"_applyInvalidMessage"},requiredInvalidMessage:{check:"String",nullable:!0,event:"changeInvalidMessage"}},members:{__items:null,getItems:function(){return this.__items},add:function(e){for(var t,i=this.__items,n=this.getGroupedProperty(),s=qx.lang.String.firstUp(n),r=0,o=arguments.length;r<o;r++){t=arguments[r];if(!i.includes(t)){t.addListener("change"+s,this._onItemChangeChecked,this);i.push(t);t.set(this.getGroupProperty(),this);t.get(n)&&this.setSelection([t])}}!this.isAllowEmptySelection()&&i.length>0&&!this.getSelection()[0]&&this.setSelection([i[0]])},remove:function(e){var t=this.__items,i=this.getGroupedProperty(),n=qx.lang.String.firstUp(i);if(t.includes(e)){qx.lang.Array.remove(t,e);e.get(this.getGroupProperty())===this&&e.reset(this.getGroupProperty());e.removeListener("change"+n,this._onItemChangeChecked,this);e.get(i)&&this.resetSelection()}},getChildren:function(){return this.__items},_onItemChangeChecked:function(e){var t=e.getTarget(),i=this.getGroupedProperty();t.get(i)?this.setSelection([t]):this.getSelection()[0]==t&&this.resetSelection()},_applyGroupedProperty:function(e,t){for(var i,n=qx.lang.String.firstUp(t),s=qx.lang.String.firstUp(e),r=0;r<this.__items.length;r++){(i=this.__items[r]).removeListener("change"+n,this._onItemChangeChecked,this);i.removeListener("change"+s,this._onItemChangeChecked,this)}},_applyInvalidMessage:function(e,t){for(var i=0;i<this.__items.length;i++)this.__items[i].setInvalidMessage(e)},_applyValid:function(e,t){for(var i=0;i<this.__items.length;i++)this.__items[i].setValid(e)},_applyEnabled:function(e,t){var i=this.__items;if(null==e)for(var n=0,s=i.length;n<s;n++)i[n].resetEnabled();else for(n=0,s=i.length;n<s;n++)i[n].setEnabled(e)},_applyAllowEmptySelection:function(e,t){!e&&this.isSelectionEmpty()&&this.resetSelection()},selectNext:function(){var e=this.getSelection()[0],t=this.__items,i=t.indexOf(e);if(-1!=i){var n=0,s=t.length;i=this.getWrap()?(i+1)%s:Math.min(i+1,s-1);for(;n<s&&!t[i].getEnabled();){i=(i+1)%s;n++}this.setSelection([t[i]])}},selectPrevious:function(){var e=this.getSelection()[0],t=this.__items,i=t.indexOf(e);if(-1!=i){var n=0,s=t.length;i=this.getWrap()?(i-1+s)%s:Math.max(i-1,0);for(;n<s&&!t[i].getEnabled();){i=(i-1+s)%s;n++}this.setSelection([t[i]])}},_getItems:function(){return this.getItems()},_isAllowEmptySelection:function(){return this.isAllowEmptySelection()},_isItemSelectable:function(e){return-1!=this.__items.indexOf(e)},__onChangeSelection:function(e){var t=e.getData()[0],i=e.getOldData()[0],n=this.getGroupedProperty();i&&i.set(n,!1);t&&t.set(n,!0)}},destruct:function(){this._disposeArray("__items")}});qx.ui.form.RadioGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.ObjectRegistry":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.controller.Object",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.__bindings={};this.__targets=[];null!=e&&this.setModel(e)},properties:{model:{check:"qx.core.Object",event:"changeModel",apply:"_applyModel",nullable:!0,dereference:!0}},members:{__targets:null,__bindings:null,_applyModel:function(e,t){for(var i=0;i<this.__targets.length;i++){var n=this.__targets[i][0],s=this.__targets[i][1],r=this.__targets[i][2],o=this.__targets[i][3],a=this.__targets[i][4],l=this.__targets[i][5];void 0==t||t.isDisposed()||this.__removeTargetFrom(n,s,r,t);if(void 0!=e)this.__addTarget(n,s,r,o,a,l);else{if(n.isDisposed()||qx.core.ObjectRegistry.inShutDown)continue;if(-1==s.indexOf("["))n["reset"+qx.lang.String.firstUp(s)]();else{var u=s.indexOf("["),c=parseInt(s.substring(u+1,s.length-1),10);s=s.substring(0,u);var d=n["get"+qx.lang.String.firstUp(s)]();"last"==c&&(c=d.length);d&&d.setItem(c,null)}}}},addTarget:function(e,t,i,n,s,r){this.__targets.push([e,t,i,n,s,r]);this.__addTarget(e,t,i,n,s,r)},__addTarget:function(e,t,i,n,s,r){if(null!=this.getModel()){var o=this.getModel().bind(i,e,t,s),a=null;n&&(a=e.bind(t,this.getModel(),i,r));var l=e.toHashCode();void 0==this.__bindings[l]&&(this.__bindings[l]=[]);this.__bindings[l].push([o,a,t,i,s,r])}},removeTarget:function(e,t,i){this.__removeTargetFrom(e,t,i,this.getModel());for(var n=0;n<this.__targets.length;n++)this.__targets[n][0]==e&&this.__targets[n][1]==t&&this.__targets[n][2]==i&&this.__targets.splice(n,1)},__removeTargetFrom:function(e,t,i,n){if(e instanceof qx.core.Object){var s=this.__bindings[e.toHashCode()];if(void 0!=s&&0!=s.length)for(var r=0;r<s.length;r++)if(s[r][2]==t&&s[r][3]==i){var o=s[r][0];n.removeBinding(o);null!=s[r][1]&&e.removeBinding(s[r][1]);s.splice(r,1);return}}}},destruct:function(){null==this.getModel()||this.getModel().isDisposed()||this.setModel(null)}});qx.data.controller.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.core.MPlacement":{require:!0},"qx.core.Init":{},"qx.ui.popup.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.popup.Popup",{extend:qx.ui.container.Composite,include:qx.ui.core.MPlacement,construct:function(e){qx.ui.container.Composite.constructor.call(this,e);this.initVisibility()},properties:{appearance:{refine:!0,init:"popup"},visibility:{refine:!0,init:"excluded"},autoHide:{check:"Boolean",init:!0}},members:{show:function(){null==this.getLayoutParent()&&qx.core.Init.getApplication().getRoot().add(this);qx.ui.popup.Popup.prototype.show.base.call(this)},_applyVisibility:function(e,t){qx.ui.popup.Popup.prototype._applyVisibility.base.call(this,e,t);var i=qx.ui.popup.Manager.getInstance();"visible"===e?i.add(this):i.remove(this)}},destruct:function(){qx.ui.popup.Manager.getInstance().isDisposed()||qx.ui.popup.Manager.getInstance().remove(this)}});qx.ui.popup.Popup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.Assert":{construct:!0},"qx.ui.core.ISingleSelectionProvider":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.SingleSelectionManager",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);qx.core.Assert.assertInterface(e,qx.ui.core.ISingleSelectionProvider,"Invalid selectionProvider!");this.__selectionProvider=e},events:{changeSelected:"qx.event.type.Data"},properties:{allowEmptySelection:{check:"Boolean",init:!0,apply:"__applyAllowEmptySelection"}},members:{__selected:null,__selectionProvider:null,getSelected:function(){return this.__selected},setSelected:function(e){if(!this.__isChildElement(e))throw new Error("Could not select "+e+", because it is not a child element!");this.__setSelected(e)},resetSelected:function(){this.__setSelected(null)},isSelected:function(e){if(!this.__isChildElement(e))throw new Error("Could not check if "+e+" is selected, because it is not a child element!");return this.__selected===e},isSelectionEmpty:function(){return null==this.__selected},getSelectables:function(e){for(var t=this.__selectionProvider.getItems(),i=[],n=0;n<t.length;n++)this.__selectionProvider.isItemSelectable(t[n])&&i.push(t[n]);if(!e)for(n=i.length-1;n>=0;n--)i[n].getEnabled()||i.splice(n,1);return i},__applyAllowEmptySelection:function(e,t){e||this.__setSelected(this.__selected)},__setSelected:function(e){var t=this.__selected,i=e;if(null==i||t!==i){if(!this.isAllowEmptySelection()&&null==i){var n=this.getSelectables(!0)[0];n&&(i=n)}this.__selected=i;this.fireDataEvent("changeSelected",i,t)}},__isChildElement:function(e){for(var t=this.__selectionProvider.getItems(),i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}},destruct:function(){this.__selectionProvider.toHashCode?this._disposeObjects("__selectionProvider"):this.__selectionProvider=null;this._disposeObjects("__selected")}});qx.ui.core.SingleSelectionManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.LayoutItem":{construct:!0,require:!0},"qx.ui.core.queue.Dispose":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.Spacer",{extend:qx.ui.core.LayoutItem,construct:function(e,t){qx.ui.core.LayoutItem.constructor.call(this);this.setWidth(null!=e?e:0);this.setHeight(null!=t?t:0)},members:{checkAppearanceNeeds:function(){},addChildrenToQueue:function(e){},destroy:function(){if(!this.$$disposed){var e=this.$$parent;e&&e._remove(this);qx.ui.core.queue.Dispose.add(this)}}}});qx.ui.core.Spacer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.layout.Grow":{construct:!0},"qx.bom.AnimationFrame":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.scroll.ScrollPane",{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.constructor.call(this);this.set({minWidth:0,minHeight:0});this._setLayout(new qx.ui.layout.Grow);this.addListener("resize",this._onUpdate);var e=this.getContentElement();e.addListener("scroll",this._onScroll,this);e.addListener("appear",this._onAppear,this)},events:{update:"qx.event.type.Event",scrollAnimationEnd:"qx.event.type.Event"},properties:{scrollX:{check:"qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxX()",apply:"_applyScrollX",transform:"_transformScrollX",event:"scrollX",init:0},scrollY:{check:"qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxY()",apply:"_applyScrollY",transform:"_transformScrollY",event:"scrollY",init:0}},members:{__frame:null,add:function(e){var t=this._getChildren()[0];if(t){this._remove(t);t.removeListener("resize",this._onUpdate,this)}if(e){this._add(e);e.addListener("resize",this._onUpdate,this)}},remove:function(e){if(e){this._remove(e);e.removeListener("resize",this._onUpdate,this)}},getChildren:function(){return this._getChildren()},_onUpdate:function(e){this.fireEvent("update")},_onScroll:function(e){var t=this.getContentElement();this.setScrollX(t.getScrollX());this.setScrollY(t.getScrollY())},_onAppear:function(e){var t=this.getContentElement(),i=this.getScrollX();i!=t.getScrollX()&&t.scrollToX(i);var n=this.getScrollY();n!=t.getScrollY()&&t.scrollToY(n)},getItemTop:function(e){var t=0;do{t+=e.getBounds().top;e=e.getLayoutParent()}while(e&&e!==this);return t},getItemBottom:function(e){return this.getItemTop(e)+e.getBounds().height},getItemLeft:function(e){var t,i=0;do{i+=e.getBounds().left;(t=e.getLayoutParent())&&(i+=t.getInsets().left);e=t}while(e&&e!==this);return i},getItemRight:function(e){return this.getItemLeft(e)+e.getBounds().width},getScrollSize:function(){return this.getChildren()[0].getBounds()},getScrollMaxX:function(){var e=this.getInnerSize(),t=this.getScrollSize();return e&&t?Math.max(0,t.width-e.width):0},getScrollMaxY:function(){var e=this.getInnerSize(),t=this.getScrollSize();return e&&t?Math.max(0,t.height-e.height):0},scrollToX:function(e,t){var i=this.getScrollMaxX();e<0?e=0:e>i&&(e=i);this.stopScrollAnimation();if(t){var n=this.getScrollX();this.__frame=new qx.bom.AnimationFrame;this.__frame.on("end",function(){this.setScrollX(e);this.__frame=null;this.fireEvent("scrollAnimationEnd")},this);this.__frame.on("frame",function(i){var s=parseInt(i/t*(e-n)+n);this.setScrollX(s)},this);this.__frame.startSequence(t)}else this.setScrollX(e)},scrollToY:function(e,t){var i=this.getScrollMaxY();e<0?e=0:e>i&&(e=i);this.stopScrollAnimation();if(t){var n=this.getScrollY();this.__frame=new qx.bom.AnimationFrame;this.__frame.on("end",function(){this.setScrollY(e);this.__frame=null;this.fireEvent("scrollAnimationEnd")},this);this.__frame.on("frame",function(i){var s=parseInt(i/t*(e-n)+n);this.setScrollY(s)},this);this.__frame.startSequence(t)}else this.setScrollY(e)},scrollByX:function(e,t){this.scrollToX(this.getScrollX()+e,t)},scrollByY:function(e,t){this.scrollToY(this.getScrollY()+e,t)},stopScrollAnimation:function(){if(this.__frame){this.__frame.cancelSequence();this.__frame=null}},_applyScrollX:function(e){this.getContentElement().scrollToX(e)},_transformScrollX:function(e){return Math.round(e)},_applyScrollY:function(e){this.getContentElement().scrollToY(e)},_transformScrollY:function(e){return Math.round(e)}}});qx.ui.core.scroll.ScrollPane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.locale.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.locale.Number",{statics:{getDecimalSeparator:function(e){return qx.locale.Manager.getInstance().localize("cldr_number_decimal_separator",[],e)},getGroupSeparator:function(e){return qx.locale.Manager.getInstance().localize("cldr_number_group_separator",[],e)},getPercentFormat:function(e){return qx.locale.Manager.getInstance().localize("cldr_number_percent_format",[],e)}}});qx.locale.Number.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.validation.AsyncValidator",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.__validatorFunction=e},members:{__validatorFunction:null,__item:null,__manager:null,__usedForForm:null,validate:function(e,t,i,n){this.__usedForForm=!1;this.__item=e;this.__manager=i;this.__validatorFunction.call(n||this,this,t)},validateForm:function(e,t,i){this.__usedForForm=!0;this.__manager=t;this.__validatorFunction.call(i,e,this)},setValid:function(e,t){if(this.__usedForForm){void 0!==t&&this.__manager.setInvalidMessage(t);this.__manager.setFormValid(e)}else{void 0!==t&&this.__item.setInvalidMessage(t);this.__manager.setItemValid(this.__item,e)}}},destruct:function(){this.__manager=this.__item=null}});qx.ui.form.validation.AsyncValidator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.Registration":{construct:!0},"qx.bom.Element":{construct:!0},"qx.ui.popup.Popup":{},"qx.lang.Array":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.popup.Manager",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__objects=[];qx.event.Registration.addListener(document.documentElement,"pointerdown",this.__onPointerDown,this,!0);qx.bom.Element.addListener(window,"blur",this.hideAll,this)},members:{__objects:null,add:function(e){if(!(e instanceof qx.ui.popup.Popup))throw new Error("Object is no popup: "+e);this.__objects.push(e);this.__updateIndexes()},remove:function(e){if(!(e instanceof qx.ui.popup.Popup))throw new Error("Object is no popup: "+e);qx.lang.Array.remove(this.__objects,e);this.__updateIndexes()},hideAll:function(){for(var e=this.__objects.length,t={};e--;)(t=this.__objects[e]).getAutoHide()&&t.exclude()},__updateIndexes:function(){for(var e=1e7,t=0;t<this.__objects.length;t++)this.__objects[t].setZIndex(e++)},__onPointerDown:function(e){for(var t=qx.ui.core.Widget.getWidgetByElement(e.getTarget()),i=this.__objects,n=0;n<i.length;n++){var s=i[n];s.getAutoHide()&&t!=s&&!qx.ui.core.Widget.contains(s,t)&&s.exclude()}}},destruct:function(){qx.event.Registration.removeListener(document.documentElement,"pointerdown",this.__onPointerDown,this,!0);this._disposeArray("__objects")}});qx.ui.popup.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.core.ISingleSelectionProvider",{members:{getItems:function(){},isItemSelectable:function(e){}}});qx.ui.core.ISingleSelectionProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Grow",{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:function(e,t,i){this.assert(!1,"The property '"+t+"' is not supported by the Grow layout!")},renderLayout:function(e,t,i){for(var n,s,r,o,a=this._getLayoutChildren(),l=0,u=a.length;l<u;l++){(r=e)<(s=(n=a[l]).getSizeHint()).minWidth?r=s.minWidth:r>s.maxWidth&&(r=s.maxWidth);(o=t)<s.minHeight?o=s.minHeight:o>s.maxHeight&&(o=s.maxHeight);n.renderLayout(i.left,i.top,r,o)}},_computeSizeHint:function(){for(var e,t=this._getLayoutChildren(),i=0,n=0,s=0,r=0,o=1/0,a=1/0,l=0,u=t.length;l<u;l++){e=t[l].getSizeHint();i=Math.max(i,e.width);n=Math.max(n,e.height);s=Math.max(s,e.minWidth);r=Math.max(r,e.minHeight);o=Math.min(o,e.maxWidth);a=Math.min(a,e.maxHeight)}return{width:i,height:n,minWidth:s,minHeight:r,maxWidth:o,maxHeight:a}}}});qx.ui.layout.Grow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.core.Widget":{},"qx.ui.form.IArrayForm":{},"qx.ui.form.IForm":{},"qx.ui.form.MForm":{},"qx.data.controller.Form":{},"qx.ui.form.Form":{},"qx.data.marshal.Json":{},"qx.ui.form.TextField":{},"qx.util.DisposeUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.FormWithArrayAndModel",{extend:qx.dev.unit.TestCase,members:{__arrayField:null,__modelField:null,__form:null,__model:null,setUp:function(){qx.Class.define("qx.test.data.controller.fixture.ArrayField",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IArrayForm,qx.ui.form.IForm],include:[qx.ui.form.MForm],events:{changeValue:"qx.event.type.Data"},members:{__value:null,setValue:function(e){var t=this.__value;this.__value=e;this.fireDataEvent("changeValue",e,t)},getValue:function(){return this.__value},resetValue:function(){this.__value=null}}});qx.Class.define("qx.test.data.controller.fixture.ModelField",{extend:qx.data.controller.Form,implement:[qx.ui.form.IArrayForm,qx.ui.form.IForm],include:[qx.ui.form.MForm],events:{changeValue:"qx.event.type.Data",changeEnabled:"qx.event.type.Data"},members:{setEnabled:function(){},getEnabled:function(){return!0},setValue:function(e){this.setModel(e)},getValue:function(){return this.getModel()},resetValue:function(){this.resetModel()},_applyModel:function(e,t){qx.test.data.controller.fixture.ModelField.prototype._applyModel.base.call(this,e,t);this.fireDataEvent("changeValue",e,t)}}});this.__arrayField=new qx.test.data.controller.fixture.ArrayField;this.__modelField=new qx.test.data.controller.fixture.ModelField;this.__form=new qx.ui.form.Form;this.__form.add(this.__arrayField,"One",null,"f1");this.__form.add(this.__modelField,"Two",null,"f2");this.__model=qx.data.marshal.Json.createModel({f1:null,f2:null,f3:null})},tearDown:function(){this._disposeObjects("__arrayField","__modelField","__form","__model");qx.Class.undefine("qx.test.data.controller.fixture.ArrayField");qx.Class.undefine("qx.test.data.controller.fixture.ModelField")},__makeAddressForm:function(){var e=new qx.ui.form.TextField,t=new qx.ui.form.TextField,i=new qx.ui.form.Form;i.add(e,"houseNr");i.add(t,"streetName");qx.util.DisposeUtil.disposeTriggeredBy(e,i);qx.util.DisposeUtil.disposeTriggeredBy(t,i);return i},"test self update: array":function(){var e=qx.data.marshal.Json.createModel([{c1:"1a1",c2:"1a2"},{c1:"1b1",c2:"1b2"}]);e.setAutoDisposeItems(!0);this.__arrayField.setValue(e);var t=new qx.data.controller.Form(this.__model,this.__form,!0);this.assertNull(this.__arrayField.getValue());this.assertNull(this.__model.getF1());this.__arrayField.setValue(e);t.updateModel();this.assertIdentical(e,this.__model.getF1());t.dispose();e.dispose()},"test self update: model":function(){var e=this.__makeAddressForm();this.__modelField.setTarget(e);var t=new qx.data.controller.Form(this.__model,this.__form,!0);this.assertNull(this.__arrayField.getValue());this.assertNull(this.__modelField.getValue());this.__modelField.createModel(!1);e.getItem("houseNr").setValue("42");e.getItem("streetName").setValue("Nowhere Ln");t.updateModel();this.assertIdentical("42",this.__model.getF2().getHouseNr());this.assertIdentical("Nowhere Ln",this.__model.getF2().getStreetName());t.dispose();e.dispose()},"test updating view":function(){var e=qx.data.marshal.Json.createModel([{c1:"2a1",c2:"2a2"},{c1:"2b1",c2:"2b2"}]);e.setAutoDisposeItems(!0);this.__arrayField.setValue(e);var t=new qx.data.controller.Form(this.__model,this.__form);this.assertNull(this.__arrayField.getValue());this.assertNull(this.__model.getF1());this.__arrayField.setValue(e);this.assertIdentical(e,this.__model.getF1());t.dispose();e.dispose()},"test updating model: array field":function(){var e=qx.data.marshal.Json.createModel([{c1:"2a1",c2:"2a2"},{c1:"2b1",c2:"2b2"}]);e.setAutoDisposeItems(!0);var t=new qx.data.controller.Form(this.__model,this.__form);this.__model.setF1(e);this.assertIdentical(e,this.__arrayField.getValue());t.dispose();e.dispose()},"test updating model: model field":function(){var e=this.__makeAddressForm();this.__modelField.setTarget(e);var t=new qx.data.controller.Form(this.__model,this.__form);this.assertNull(this.__arrayField.getValue());this.assertNull(this.__modelField.getValue());this.__modelField.createModel(!1);this.assertIdentical(this.__modelField.getModel(),this.__model.getF2());t.dispose();e.dispose()}}});qx.test.data.controller.FormWithArrayAndModel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IArrayForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IArrayForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.io.ImageLoader":{},"qx.ui.form.List":{},"qx.data.Array":{},"qx.data.controller.List":{},"qx.ui.form.SelectBox":{},"qx.data.marshal.Json":{},"qx.ui.form.ComboBox":{},"qx.ui.basic.Label":{},"qx.ui.form.CheckBox":{},"qx.core.Object":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.List",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,members:{__list:null,__controller:null,__data:null,__model:null,setUp:function(){this.stub(qx.io.ImageLoader,"load");this.__list=new qx.ui.form.List},tearDown:function(){this.__controller&&this.__controller.dispose();this.__model&&this.__model.dispose();for(var e=0;e<this.__list.getChildren().length;e++)this.__list.getChildren()[e].destroy();this.__list.destroy();this.flush();this.__controller=null;this.__model=null;this.__data=null;qx.test.data.controller.List.prototype.tearDown.base.call(this);this.getSandbox().restore()},__setUpString:function(e){this.__data=["a","b","c","d","e"];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List(this.__model,this.__list)},testChangeSelectionOnPush:function(){var e=new qx.ui.form.SelectBox,t=new qx.data.Array(["a","b","c"]),i=new qx.data.controller.List(t,e),n=!1;i.getSelection().addListener("change",function(){n=!0});t.push("d");this.wait(function(){this.assertFalse(n,"Change event has been fired.");e.destroy();t.dispose();i.dispose()},200,this)},testNumberModel:function(){var e=new qx.ui.form.SelectBox,t=qx.data.marshal.Json.createModel([1,0]),i=new qx.data.controller.List(t,e);i.getSelection().push(0);this.assertEquals(1,i.getSelection().length);this.assertEquals(0,i.getSelection().getItem(0));e.destroy();t.dispose();i.dispose()},testModelChangeCombobox:function(){var e=new qx.data.Array(["A","B"]),t=new qx.ui.form.ComboBox,i=new qx.data.controller.List(this.__model,t);i.setModel(e);this.assertEquals("A",t.getChildControl("list").getChildren()[0].getLabel());this.assertEquals("B",t.getChildControl("list").getChildren()[1].getLabel());e.dispose();t.dispose();i.dispose()},testStringArray:function(){this.__setUpString();for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}},testEmptyList:function(){this.__setUpString();this.__controller.setModel(null);this.assertEquals(0,this.__list.getChildren().length)},testStringElementRemove:function(){this.__setUpString();this.__data.shift();this.__model.shift();for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}this.assertEquals(this.__data.length,this.__list.getChildren().length,"Wrong length!")},testStringElementAdd:function(){this.__setUpString();this.__data.unshift("A");this.__model.unshift("A");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}this.assertEquals(this.__data.length,this.__list.getChildren().length,"Wrong length!")},testChangeElement:function(){this.__setUpString();this.__data[0]="A";this.__model.setItem(0,"A");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}},testChangeModelSmaller:function(){this.__setUpString();this.__model.dispose();this.__data=["f","g","h","i"];this.__model=new qx.data.Array(this.__data);this.__controller.setModel(this.__model);for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}this.assertEquals(this.__data.length,this.__list.getChildren().length,"Wrong length!")},testChangeModelBigger:function(){this.__setUpString();this.__model.dispose();this.__data=["f","g","h","i","j","k"];this.__model=new qx.data.Array(this.__data);this.__controller.setModel(this.__model);for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}this.assertEquals(this.__data.length,this.__list.getChildren().length,"Wrong length!")},testChangeTarget:function(){this.__setUpString();var e=new qx.ui.form.List;this.__controller.setTarget(e);for(var t=0;t<this.__data.length;t++){var i=e.getChildren()[t].getLabel();this.assertEquals(this.__data[t],i,"Binding "+t+" is wrong!")}this.assertEquals(0,this.__list.getChildren().length,"Wrong length!");e.dispose()},testReverse:function(){this.__setUpString();this.__data.reverse();this.__model.reverse();for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}},testBooleanArray:function(){this.__data=[!0,!1,!1];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List(this.__model,this.__list);for(var e=["true","false","false"],t=0;t<e.length;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(e[t],i,"Boolean-Binding "+t+" is wrong!")}},testNumberArray:function(){this.__data=[10,20,-1,50];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List(this.__model,this.__list);for(var e=["10","20","-1","50"],t=0;t<e.length;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(e[t],i,"Boolean-Binding "+t+" is wrong!")}},testSelectBox:function(){this.__data=["10","20","-1","50"];this.__model=new qx.data.Array(this.__data);var e=new qx.ui.form.SelectBox;this.__controller=new qx.data.controller.List(this.__model,e);for(var t=0;t<this.__data.length;t++){var i=e.getChildren()[t].getLabel();this.assertEquals(this.__data[t],i,"SelectBox-Binding "+t+" is wrong!")}e.dispose()},testComboBox:function(){this.__data=["10","20","-1","50"];this.__model=new qx.data.Array(this.__data);var e=new qx.ui.form.ComboBox;this.__controller=new qx.data.controller.List(this.__model,e);for(var t=0;t<this.__data.length;t++){var i=e.getChildren()[t].getLabel();this.assertEquals(this.__data[t],i,"ComboBox-Binding "+t+" is wrong!")}e.dispose()},testResetSelectionSingle:function(){this.__setUpString();var e=new qx.ui.form.SelectBox;this.__controller.setTarget(e);var t=new qx.data.Array(["x","y","z"]);this.__controller.getSelection().push("b");this.__controller.setModel(t);this.wait(100,function(){this.assertEquals("x",this.__controller.getSelection().getItem(0));t.dispose();e.destroy()},this)},testSelectionSingle:function(){this.__setUpString();this.__list.addToSelection(this.__list.getChildren()[0]);this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.");this.__list.addToSelection(this.__list.getChildren()[1]);this.assertEquals(this.__model.getItem(1),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.")},testSelectionSingleRemoveFirst:function(){this.__setUpString();var e=this.__model;this.__list.setSelectionMode("one");var t=this.__controller.getSelection();this.assertEquals(e.getItem(0),this.__list.getSelection()[0].getModel());this.assertEventFired(t,"change",function(){e.removeAt(0)})},testSelectionMultiple:function(){this.__setUpString();this.__list.setSelectionMode("multi");this.__list.addToSelection(this.__list.getChildren()[1]);this.__list.addToSelection(this.__list.getChildren()[2]);this.assertEquals(this.__model.getItem(1),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(this.__model.getItem(2),this.__controller.getSelection().getItem(1),"Selection does not work.");this.assertEquals(2,this.__controller.getSelection().length,"Selection length is wrong.")},testSelectionBackSingle:function(){this.__setUpString();this.__controller.getSelection().push(this.__model.getItem(0));this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"addToSelection does not work.")},testSelectionBackMultiple:function(){this.__setUpString();this.__list.setSelectionMode("multi");this.__controller.getSelection().push(this.__model.getItem(1));this.__controller.getSelection().push(this.__model.getItem(2));this.assertEquals(this.__model.getItem(1),this.__controller.getSelection().getItem(0),"addToSelection does not work.");this.assertEquals(this.__model.getItem(2),this.__controller.getSelection().getItem(1),"addToSelection does not work.")},testSelectionArrayChange:function(){this.__setUpString();this.__controller.setSelection(new qx.data.Array([this.__model.getItem(0)]));this.assertEquals(this.__model.getItem(0),this.__list.getSelection()[0].getLabel(),"Change the selection array does not work.");this.__controller.getSelection().dispose()},testSelectionArrayChangeItem:function(){this.__setUpString();this.__controller.getSelection().push(this.__model.getItem(0));this.assertEquals(this.__model.getItem(0),this.__list.getSelection()[0].getLabel(),"Change the selection array does not work.")},testSelectionArrayReverse:function(){this.__setUpString();this.__controller.getSelection().push(this.__model.getItem(0));this.assertEquals(this.__model.getItem(0),this.__list.getSelection()[0].getLabel(),"Change the selection array does not work.");this.__model.reverse();var e=this;this.wait(100,function(){e.assertEquals(e.__model.getItem(e.__model.getLength()-1),e.__list.getSelection()[0].getLabel(),"Can not handle reverse.")})},testSelectionAfterDelete:function(){this.__setUpString();this.__controller.getSelection().push("b");this.__model.shift();this.assertTrue(this.__controller.getSelection().contains("b"),"Selection array wrong!");this.wait(100,function(){this.assertEquals("b",this.__list.getSelection()[0].getLabel(),"Remove from selection does not work!")},this)},testSelectionAfterDeleteEmpty:function(){this.__setUpString();this.__controller.getSelection().push("c");this.__model.splice(2,1);this.wait(100,function(){this.assertEquals(0,this.__controller.getSelection().length,"Remove from selection does not work!")},this)},testResetBug:function(){this.__setUpString();var e=new qx.ui.basic.Label;this.__controller.bind("selection[0]",e,"value");this.__controller.getSelection().push("c");this.__model.shift();this.__model.shift();this.assertEquals("c",e.getValue(),"Label has not the right value.");this.__model.shift();var t=this;this.wait(100,function(){t.assertNull(e.getValue(),"Label does still contain something!")},this)},testDates:function(){this.__data=[new Date(0),new Date(100)];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List(this.__model,this.__list);for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].toString(),t,"Date-Binding "+e+" is wrong!")}},testConversionLabel:function(){this.__setUpString();var e={converter:function(e){return e+" Converted"}};this.__controller.setLabelOptions(e);for(var t=0;t<this.__data.length;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(this.__data[t]+" Converted",i,"Binding "+t+" is wrong!")}},testOnUpdateLabel:function(){this.__data=["a","b","c","d","e"];this.__model=new qx.data.Array(this.__data);var e={},t=!1;e.onUpdate=function(){t=!0};this.__controller=new qx.data.controller.List(this.__model,this.__list);this.__controller.setLabelOptions(e);this.__data.pop();this.__model.pop();for(var i=0;i<this.__data.length;i++){var n=this.__list.getChildren()[i].getLabel();this.assertEquals(this.__data[i],n,"Binding "+i+" is wrong!")}this.assertTrue(t,"onUpdate not executed")},testSelectBoxSelectionSingle:function(){this.__data=["10","20","-1","50"];this.__model=new qx.data.Array(this.__data);var e=new qx.ui.form.SelectBox;this.__controller=new qx.data.controller.List(this.__model,e);this.__controller.getSelection().push("10");this.assertEquals("10",e.getSelection()[0].getLabel(),"Wrong selection");e.dispose()},testSelectionWithModelChange:function(){this.__setUpString();this.__list.addToSelection(this.__list.getChildren()[0]);this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"Selection does not work.");this.__controller.setModel(new qx.data.Array(["x","y","z"]));this.assertEquals(0,this.__controller.getSelection().length,"Selection is not empty.");this.__controller.getSelection().push("x");this.assertEquals("x",this.__controller.getSelection().getItem(0),"Selection is wrong.");this.__controller.getModel().dispose()},testSelectionWithModelChangeSelectBox:function(){this.__data=["a","b","c","d","e"];this.__model=new qx.data.Array(this.__data);var e=new qx.ui.form.SelectBox;this.__controller=new qx.data.controller.List(this.__model,e);this.assertEquals(this.__model.getItem(0),e.getSelection()[0].getModel());this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"Selection does not work.");this.__controller.setModel(new qx.data.Array(["x","y","z"]));this.__controller.getSelection().push("y");this.assertEquals(1,this.__controller.getSelection().length,"Selection has a wrong length.");this.assertEquals("y",this.__controller.getSelection().getItem(0),"Selection is wrong.");this.__controller.setModel(new qx.data.Array(["1","2","3"]));this.__controller.addListener("changeSelection",function(){this.resume(function(){this.assertEquals(1,this.__controller.getSelection().length,"Selection has a wrong length.");this.assertEquals("1",this.__controller.getSelection().getItem(0),"Selection does not work.");e.dispose()},this)},this);this.wait()},testFilterApply:function(){this.__setUpString();var e={filter:function(e){return"b"==e||"c"==e||"d"==e}};this.__controller.setDelegate(e);for(var t=0;t<this.__data.length-2;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(this.__data[t+1],i,"Binding "+t+" is wrong!")}},testFilterChange:function(){this.__setUpString();var e={filter:function(e){return"b"==e||"c"==e||"d"==e}},t={filter:function(e){return"a"==e||"b"==e||"c"==e}};this.__controller.setDelegate(e);this.__controller.setDelegate(t);for(var i=0;i<this.__data.length-2;i++){var n=this.__list.getChildren()[i].getLabel();this.assertEquals(this.__data[i],n,"Binding "+i+" is wrong!")}},testFilterChangeModel:function(){this.__setUpString();var e={filter:function(e){return"B"==e||"C"==e||"D"==e}};this.__controller.setDelegate(e);this.assertEquals(0,this.__list.getChildren().length,"Some list items created.");var t=new qx.data.Array("A","B","C","D","E");this.__controller.setModel(t);this.assertEquals(3,this.__list.getChildren().length,"Wrong number of list items");this.assertEquals("B",this.__list.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("C",this.__list.getChildren()[1].getLabel(),"Binding is wrong!");this.assertEquals("D",this.__list.getChildren()[2].getLabel(),"Binding is wrong!");t.dispose()},testFilterReverseModel:function(){this.__setUpString();var e={filter:function(e){return"a"==e||"b"==e||"c"==e}};this.__controller.setDelegate(e);this.assertEquals(3,this.__list.getChildren().length,"Some list items created.");this.assertEquals("a",this.__list.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("b",this.__list.getChildren()[1].getLabel(),"Binding is wrong!");this.assertEquals("c",this.__list.getChildren()[2].getLabel(),"Binding is wrong!");this.__model.reverse();this.assertEquals(3,this.__list.getChildren().length,"Some list items created.");this.assertEquals("c",this.__list.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("b",this.__list.getChildren()[1].getLabel(),"Binding is wrong!");this.assertEquals("a",this.__list.getChildren()[2].getLabel(),"Binding is wrong!")},testFilterRemove:function(){this.__setUpString();var e={filter:function(e){return"a"==e||"b"==e||"c"==e}};this.__controller.setDelegate(e);this.assertEquals(3,this.__list.getChildren().length,"Some list items created.");this.assertEquals("a",this.__list.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("b",this.__list.getChildren()[1].getLabel(),"Binding is wrong!");this.assertEquals("c",this.__list.getChildren()[2].getLabel(),"Binding is wrong!");this.__controller.setDelegate(null);this.assertEquals(5,this.__list.getChildren().length,"Some list items created.");this.assertEquals("a",this.__list.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("b",this.__list.getChildren()[1].getLabel(),"Binding is wrong!");this.assertEquals("c",this.__list.getChildren()[2].getLabel(),"Binding is wrong!");this.assertEquals("d",this.__list.getChildren()[3].getLabel(),"Binding is wrong!");this.assertEquals("e",this.__list.getChildren()[4].getLabel(),"Binding is wrong!")},testFilterChangeTarget:function(){this.__setUpString();var e=new qx.ui.form.List,t={filter:function(e){return"b"==e||"d"==e}};this.__controller.setDelegate(t);this.assertEquals(2,this.__list.getChildren().length,"Wrong number of list items");this.__controller.setTarget(null);this.assertEquals(0,this.__list.getChildren().length,"Wrong number of list items");this.__controller.setTarget(e);this.assertEquals(2,e.getChildren().length,"Wrong number of list items");this.assertEquals("b",e.getChildren()[0].getLabel(),"Binding is wrong!");this.assertEquals("d",e.getChildren()[1].getLabel(),"Binding is wrong!");this.__controller.dispose();e.dispose()},testFilterWithSelection:function(){this.__setUpString();var e={filter:function(e){return"a"==e||"e"==e}};this.__controller.setDelegate(e);this.__list.addToSelection(this.__list.getChildren()[0]);this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.");this.__list.addToSelection(this.__list.getChildren()[1]);this.assertEquals(this.__model.getItem(4),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.")},testFilterAfterSelection:function(){this.__setUpString();this.__list.addToSelection(this.__list.getChildren()[1]);var e={filter:function(e){return"b"==e||"c"==e||"d"==e}};this.__controller.setDelegate(e);this.assertEquals("b",this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals("b",this.__list.getSelection()[0].getLabel(),"Selection does not work.")},testDelegateLate:function(){this.__setUpString();var e={configureItem:function(e){e.setRich(!0)}};this.__controller.setDelegate(e);for(var t=0;t<this.__data.length;t++){var i=this.__list.getChildren()[t];this.assertTrue(i.getRich(),"Delegate "+t+" is wrong!")}},testDelegateFirst:function(){this.__data=["a","b","c","d","e"];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List;var e={configureItem:function(e){e.setRich(!0)}};this.__controller.setDelegate(e);this.__controller.setTarget(this.__list);this.__controller.setModel(this.__model);for(var t=0;t<this.__data.length;t++){var i=this.__list.getChildren()[t];this.assertTrue(i.getRich(),"Delegate "+t+" is wrong!")}},testDelegateBindItem:function(){this.__data=[!0,!0,!1,!0,!1];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List;var e={createItem:function(){return new qx.ui.form.CheckBox},bindItem:function(e,t,i){e.bindProperty(null,"enabled",null,t,i)}};this.__controller.setDelegate(e);this.__controller.setTarget(this.__list);this.__controller.setModel(this.__model);for(var t=0;t<this.__data.length;t++){this.assertEquals("qx.ui.form.CheckBox",this.__list.getChildren()[t].classname);var i=this.__list.getChildren()[t].getEnabled();this.assertEquals(this.__data[t],i,"Binding "+t+" is wrong!")}},testDelegateBindItemLate:function(){this.__data=[!0,!0,!1,!0,!1];this.__model=new qx.data.Array(this.__data);this.__controller=new qx.data.controller.List;this.__controller.setTarget(this.__list);this.__controller.setModel(this.__model);var e={createItem:function(){return new qx.ui.form.CheckBox},bindItem:function(e,t,i){e.bindProperty(null,"enabled",null,t,i)}};this.__controller.setDelegate(e);for(var t=0;t<this.__data.length;t++){this.assertEquals("qx.ui.form.CheckBox",this.__list.getChildren()[t].classname);var i=this.__list.getChildren()[t].getEnabled();this.assertEquals(this.__data[t],i,"Binding "+t+" is wrong!")}},testDelegateBindDefaultProperties:function(){this.__setUpString();this.__controller.setModel(null);var e={bindItem:function(e,t,i){e.bindDefaultProperties(t,i)}};this.__controller.setDelegate(e);this.__controller.setModel(this.__model);for(var t=0;t<this.__data.length;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(this.__data[t],i,"Binding "+t+" is wrong!")}},testDelegateBindDefaultPropertiesLate:function(){this.__setUpString();var e={bindItem:function(e,t,i){e.bindDefaultProperties(t,i)}};this.__controller.setDelegate(e);for(var t=0;t<this.__data.length;t++){this.__model.setItem(t,t+"");var i=this.__list.getChildren()[t].getLabel();this.assertEquals(t+"",i,"Binding "+t+" is wrong!")}},testSelectionSequence:function(){this.__setUpString();this.__list.setSelectionMode("multi");var e=new qx.ui.form.List,t=new qx.data.controller.List(null,e);this.__list.addToSelection(this.__list.getChildren()[4]);this.__list.addToSelection(this.__list.getChildren()[3]);t.setModel(this.__controller.getSelection());for(var i=[],n=0;n<e.getChildren().length;n++)i.push(e.getChildren()[n].getLabel());this.assertNotEquals(-1,i.indexOf("e"),"e is not in the selection list.");this.assertNotEquals(-1,i.indexOf("d"),"d is not in the selection list.");e.addToSelection(e.getChildren()[1]);this.assertEquals(e.getChildren()[1].getLabel(),t.getSelection().getItem(0),"d not selected in the second list.");this.__model.pop();this.wait(100,function(){this.assertEquals("d",e.getChildren()[0].getLabel(),"d is not in the selection list anymore.");this.flush();e.dispose();t.dispose()},this)},testGetVisibleModels:function(){this.__setUpString();var e={filter:function(e){return"b"==e||"c"==e||"d"==e}};this.__controller.setDelegate(e);var t=this.__controller.getVisibleModels();this.assertEquals(t.classname,"qx.data.Array");this.assertEquals(3,t.getLength());this.assertEquals("b",t.getItem(0));this.assertEquals("c",t.getItem(1));this.assertEquals("d",t.getItem(2));t.dispose()},testBindIconWithStringArray:function(){this.__setUpString();this.__controller.setIconPath("");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getIcon();this.assertEquals(this.__data[e],t,"Binding "+e+" is wrong!")}},testScrollBySelection:function(){this.__setUpString();this.__list.setHeight(40);this.getRoot().add(this.__list);var e=this.__list.getSelectables();this.__list.setSelection([e[0]]);this.__list.scrollByY(40);this.__list.addToSelection(e[2]);this.assertEquals(40,this.__list.getScrollY())},testScrollBySelectionMulti:function(){this.__setUpString();this.__list.setHeight(40);this.__list.setSelectionMode("multi");this.getRoot().add(this.__list);var e=this.__list.getSelectables();this.__list.setSelection([e[0]]);this.__list.scrollByY(40);this.__list.addToSelection(e[2]);this.assertEquals(40,this.__list.getScrollY())},testBug1947:function(){qx.Class.define("qx.demo.Kid",{extend:qx.core.Object,properties:{name:{check:"String",event:"changeName",init:null}}});var e=new qx.demo.Kid;qx.Class.define("qx.demo.Parent",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.setKid(e)},properties:{name:{check:"String",event:"changeName",init:null},kid:{check:"qx.demo.Kid",event:"changeKid"}}});var t=new qx.demo.Parent;t.setName("parentA");t.getKid().setName("kidA");var i=new qx.demo.Parent;i.setName("parentB");i.getKid().setName("kidB");var n=new qx.data.Array;n.push(t);n.push(i);var s=new qx.ui.form.List,r=new qx.data.controller.List(n,s,"name"),o=new qx.ui.basic.Label;o.setDecorator("main");r.bind("selection[0].Kid.Name",o,"value");r.getSelection().push(t);t.dispose();i.dispose();e.dispose();s.dispose();r.dispose();o.dispose();n.dispose()},testBug1988:function(){qx.Class.define("qx.demo.Kid",{extend:qx.core.Object,properties:{name:{check:"String",event:"changeName",init:null,nullable:!0}}});qx.Class.define("qx.demo.Parent",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.setKid(new qx.demo.Kid)},properties:{name:{check:"String",event:"changeName",init:null},kid:{check:"qx.demo.Kid",event:"changeKid"}}});var e=new qx.demo.Parent;e.setName("parentA");e.getKid().setName("kidA");var t=new qx.demo.Parent;t.setName("parentB");var i=new qx.data.Array;i.push(e);i.push(t);var n=new qx.ui.form.List,s=new qx.data.controller.List(i,n,"name"),r=new qx.ui.basic.Label;s.bind("selection[0].kid.name",r,"value");n.addToSelection(n.getChildren()[0]);this.assertEquals("kidA",r.getValue(),"Wrong name in the label.");n.addToSelection(n.getChildren()[1]);this.assertNull(r.getValue(),"Label has not been reseted.");e.getKid().dispose();e.dispose();t.getKid().dispose();t.dispose();n.dispose();s.dispose();r.dispose();i.dispose()},testSpliceAll:function(){this.__setUpString();this.__model.splice(0,5,"A","B","C","D","E");this.assertEquals("E",this.__list.getChildren()[4].getLabel())}}});qx.test.data.controller.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.AbstractSelectBox":{construct:!0,require:!0},"qx.ui.form.IStringForm":{require:!0},"qx.event.type.Focus":{construct:!0},"qx.ui.form.TextField":{},"qx.ui.form.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.ComboBox",{extend:qx.ui.form.AbstractSelectBox,implement:[qx.ui.form.IStringForm],construct:function(){qx.ui.form.AbstractSelectBox.constructor.call(this);var e=this._createChildControl("textfield");this._createChildControl("button");this.addListener("tap",this._onTap);this.addListener("focusin",function(t){e.fireNonBubblingEvent("focusin",qx.event.type.Focus)},this);this.addListener("focusout",function(t){e.fireNonBubblingEvent("focusout",qx.event.type.Focus)},this)},properties:{appearance:{refine:!0,init:"combobox"},placeholder:{check:"String",nullable:!0,apply:"_applyPlaceholder"}},events:{changeValue:"qx.event.type.Data"},members:{__preSelectedItem:null,__onInputId:null,_applyPlaceholder:function(e,t){this.getChildControl("textfield").setPlaceholder(e)},_createChildControlImpl:function(e,t){var i;switch(e){case"textfield":(i=new qx.ui.form.TextField).setFocusable(!1);i.addState("inner");i.addListener("changeValue",this._onTextFieldChangeValue,this);i.addListener("blur",this.close,this);this._add(i,{flex:1});break;case"button":(i=new qx.ui.form.Button).setFocusable(!1);i.setKeepActive(!0);i.addState("inner");i.addListener("execute",this.toggle,this);this._add(i);break;case"list":(i=qx.ui.form.ComboBox.prototype._createChildControlImpl.base.call(this,e)).setSelectionMode("single")}return i||qx.ui.form.ComboBox.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{focused:!0,invalid:!0},tabFocus:function(){var e=this.getChildControl("textfield");e.getFocusElement().focus();e.selectAllText()},focus:function(){qx.ui.form.ComboBox.prototype.focus.base.call(this);this.getChildControl("textfield").getFocusElement().focus()},setValue:function(e){var t=this.getChildControl("textfield");t.getValue()!=e&&t.setValue(e)},getValue:function(){return this.getChildControl("textfield").getValue()},resetValue:function(){this.getChildControl("textfield").setValue(null)},_onKeyPress:function(e){var t=this.getChildControl("popup"),i=e.getKeyIdentifier();if("Down"==i&&e.isAltPressed()){this.getChildControl("button").addState("selected");this.toggle();e.stopPropagation()}else if("Enter"==i){if(t.isVisible()){this._setPreselectedItem();this.resetAllTextSelection();this.close();e.stop()}}else t.isVisible()&&qx.ui.form.ComboBox.prototype._onKeyPress.base.call(this,e)},_onTap:function(e){this.close()},_onListPointerDown:function(e){this._setPreselectedItem()},_setPreselectedItem:function(){if(this.__preSelectedItem){var e=this.__preSelectedItem.getLabel();null!=this.getFormat()&&(e=this.getFormat().call(this,this.__preSelectedItem));e&&e.translate&&(e=e.translate());this.setValue(e);this.__preSelectedItem=null}},_onListChangeSelection:function(e){var t=e.getData();if(t.length>0){var i=this.getChildControl("list").getSelectionContext();if("quick"==i||"key"==i)this.__preSelectedItem=t[0];else{var n=t[0].getLabel();null!=this.getFormat()&&(n=this.getFormat().call(this,t[0]));n&&n.translate&&(n=n.translate());this.setValue(n);this.__preSelectedItem=null}}},_onPopupChangeVisibility:function(e){qx.ui.form.ComboBox.prototype._onPopupChangeVisibility.base.call(this,e);if(this.getChildControl("popup").isVisible()){var t=this.getChildControl("list"),i=this.getValue(),n=null;i&&(n=t.findItem(i));n?t.setSelection([n]):t.resetSelection()}else"visible"==e.getOldData()&&this.tabFocus();this.getChildControl("button").removeState("selected")},_onTextFieldChangeValue:function(e){var t=e.getData(),i=this.getChildControl("list");if(null!=t){var n=i.findItem(t,!1);n?i.setSelection([n]):i.resetSelection()}else i.resetSelection();this.fireDataEvent("changeValue",t,e.getOldData())},getTextSelection:function(){return this.getChildControl("textfield").getTextSelection()},getTextSelectionLength:function(){return this.getChildControl("textfield").getTextSelectionLength()},setTextSelection:function(e,t){this.getChildControl("textfield").setTextSelection(e,t)},clearTextSelection:function(){this.getChildControl("textfield").clearTextSelection()},selectAllText:function(){this.getChildControl("textfield").selectAllText()},resetAllTextSelection:function(){this.clearTextSelection();this.selectAllText()}}});qx.ui.form.ComboBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.ui.core.Widget":{},"qx.ui.form.IModel":{},"qx.ui.form.MModelProperty":{},"qx.ui.form.List":{},"qx.data.Array":{},"qx.data.controller.List":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.ListReverse",{extend:qx.test.ui.LayoutTestCase,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Class.define("qx.test.ListItem",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IModel],include:[qx.ui.form.MModelProperty],properties:{label:{check:"String",init:"label",event:"changeLabel"},icon:{check:"String",init:"icon",event:"changeIcon"},child:{check:"qx.test.ListItem",event:"changeChild",nullable:!0},children:{event:"changeChildren",nullable:!0}}})},members:{__list:null,__controller:null,__data:null,__model:null,__delegate:null,setUp:function(){this.__list=new qx.ui.form.List;this.__data=[];for(var e=0;e<5;e++)this.__data.push("item"+e);this.__model=new qx.data.Array(this.__data);this.__delegate={createItem:function(){return new qx.test.ListItem}};this.__controller=new qx.data.controller.List},tearDown:function(){this.flush();this.__controller.dispose();this.__controller=null;this.__model.dispose();this.__model=null;this.__data=null;this.__list.dispose()},testStringListModel:function(){this.__delegate.bindItem=function(e,t,i){e.bindDefaultProperties(t,i);e.bindProperty("","label",null,t,i);e.bindPropertyReverse("","label",null,t,i);e.bindPropertyReverse("","icon",null,t,i)};this.__controller.set({target:this.__list,delegate:this.__delegate,iconPath:"",model:this.__model});for(var e=this.__list.getChildren(),t=0;t<e.length;t++){this.__model.setItem(t,"abc"+t);this.assertEquals("abc"+t,e[t].getLabel())}for(t=0;t<e.length;t++){e[t].setLabel("affe"+t);this.assertEquals(e[t].getLabel(),this.__model.getItem(t))}for(t=0;t<e.length;t++){e[t].setIcon("AFFE"+t);this.assertEquals(e[t].getIcon(),this.__model.getItem(t))}this.__delegate.bindItem=function(e,t,i){e.bindProperty("","label",null,t,i)};this.__controller.update();for(t=0;t<e.length;t++){e[t].setIcon("123-"+t);this.assertEquals("AFFE"+t,this.__model.getItem(t))}},testStringListModelInitModelPrior:function(){this.__delegate.bindItem=function(e,t,i){e.bindProperty("","icon",null,t,i);e.bindPropertyReverse("","icon",null,t,i)};this.__controller.set({target:this.__list,delegate:this.__delegate,iconPath:"",model:this.__model});for(var e=this.__list.getChildren(),t=0;t<e.length;t++)this.assertEquals("item"+t,e[t].getIcon())},testStringListModelInitTargetPrior:function(){this.__delegate.bindItem=function(e,t,i){e.bindPropertyReverse("","icon",null,t,i);e.bindProperty("","icon",null,t,i)};this.__controller.set({target:this.__list,delegate:this.__delegate,iconPath:"",model:this.__model});for(var e=this.__list.getChildren(),t=0;t<e.length;t++)this.assertEquals("icon",e[t].getIcon())},testStringListModelDeepTarget:function(){this.__delegate.bindItem=function(e,t,i){e.bindProperty("","child.label",null,t,i);e.bindPropertyReverse("","child.label",null,t,i)};this.__delegate.configureItem=function(e){e.setChild(new qx.test.ListItem)};this.__controller.set({target:this.__list,delegate:this.__delegate,iconPath:"",model:this.__model});for(var e=this.__list.getChildren(),t=0;t<e.length;t++){this.__model.setItem(t,"abc"+t);this.assertEquals("abc"+t,e[t].getChild().getLabel())}for(t=0;t<e.length;t++){e[t].getChild().setLabel("affe"+t);this.assertEquals(e[t].getChild().getLabel(),this.__model.getItem(t))}for(t=0;t<e.length;t++){e[t].getChild().dispose();e[t].setChild(null)}},testStringListModelArrayTarget:function(){this.__delegate.bindItem=function(e,t,i){e.bindProperty("","children[0].label",null,t,i);e.bindPropertyReverse("","children[0].label",null,t,i)};this.__delegate.configureItem=function(e){var t=new qx.data.Array(new qx.test.ListItem,new qx.test.ListItem);e.setChildren(t)};this.__controller.set({target:this.__list,delegate:this.__delegate,iconPath:"",model:this.__model});for(var e=this.__list.getChildren(),t=0;t<e.length;t++){this.__model.setItem(t,"abc"+t);this.assertEquals("abc"+t,e[t].getChildren().getItem(0).getLabel())}for(t=0;t<e.length;t++){e[t].getChildren().getItem(0).setLabel("affe"+t);this.assertEquals(e[t].getChildren().getItem(0).getLabel(),this.__model.getItem(t))}for(t=0;t<e.length;t++){e[t].getChildren().reverse();this.assertEquals(e[t].getChildren().getItem(0).getLabel(),this.__model.getItem(t))}for(t=0;t<e.length;t++){e[t].getChildren().getItem(0)&&e[t].getChildren().getItem(0).dispose();e[t].getChildren().setItem(0,null);e[t].getChildren().getItem(1)&&e[t].getChildren().getItem(1).dispose();e[t].getChildren().setItem(1,null);e[t].setChildren(null)}}}});qx.test.data.controller.ListReverse.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.core.Object":{construct:!0},"qx.ui.form.List":{},"qx.data.Array":{},"qx.data.controller.List":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.ListWithObjects",{extend:qx.test.ui.LayoutTestCase,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Class.define("qx.test.ListWithObject",{extend:qx.core.Object,properties:{name:{check:"String",event:"changeName"},icon:{check:"String",init:"Juhu",event:"changeIcon"}}})},members:{__list:null,__controller:null,__data:null,__model:null,setUp:function(){this.__list=new qx.ui.form.List;this.__data=[];for(var e=0;e<5;e++){var t=new qx.test.ListWithObject;t.setName("name"+e);t.setIcon("icon"+e);this.__data.push(t)}this.__model=new qx.data.Array(this.__data)},tearDown:function(){this.flush();this.__controller.dispose();this.__controller=null;this.__model.setAutoDisposeItems(!0);this.__model.dispose();this.__model=null;this.__data=null;this.__list.dispose()},testRead:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}},testChangeLablePath:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}this.__controller.setLabelPath("icon");for(e=0;e<this.__data.length;e++){t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getIcon(),t,"Binding "+e+" is wrong!")}},testSelection:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__list.addToSelection(this.__list.getChildren()[0]);this.assertEquals(this.__model.getItem(0),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.");this.__list.addToSelection(this.__list.getChildren()[1]);this.assertEquals(this.__model.getItem(1),this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.")},testSelectionBackMultiple:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__list.setSelectionMode("multi");this.__controller.getSelection().push(this.__model.getItem(1));this.__controller.getSelection().push(this.__model.getItem(2));this.assertEquals(this.__model.getItem(1),this.__controller.getSelection().getItem(0),"addToSelection does not work.");this.assertEquals(this.__model.getItem(2),this.__controller.getSelection().getItem(1),"addToSelection does not work.")},testChangeModelSmaller:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__data=[];for(var e=0;e<2;e++){var t=new qx.test.ListWithObject;t.setName("name");t.setIcon("icon");this.__data.push(t)}this.__model.setAutoDisposeItems(!0);this.__model.dispose();this.__model=new qx.data.Array(this.__data);this.__controller.setModel(this.__model);for(e=0;e<this.__data.length;e++){var i=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),i,"Binding "+e+" is wrong!")}this.assertEquals(this.__data.length,this.__list.getChildren().length,"Wrong length!")},testIcon:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setIconPath("icon");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}for(e=0;e<this.__data.length;e++){var i=this.__list.getChildren()[e].getIcon();this.assertEquals(this.__data[e].getIcon(),i,"Binding "+e+" is wrong!")}},testChangeIconPath:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setIconPath("icon");for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getIcon();this.assertEquals(this.__data[e].getIcon(),t,"Binding "+e+" is wrong!")}this.__controller.setIconPath("name");for(e=0;e<this.__data.length;e++){t=this.__list.getChildren()[e].getIcon();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}},testConversionLabelAndIcon:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setIconPath("icon");this.__controller.setLabelOptions({converter:function(e){return"Dr. "+e}});this.__controller.setIconOptions({converter:function(e){return e+".png"}});for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals("Dr. "+this.__data[e].getName(),t,"Binding "+e+" is wrong!")}for(e=0;e<this.__data.length;e++){var i=this.__list.getChildren()[e].getIcon();this.assertEquals(this.__data[e].getIcon()+".png",i,"Binding "+e+" is wrong!")}},testSetModelLate:function(){this.__controller=new qx.data.controller.List(null,this.__list,"name");this.__controller.setModel(this.__model);for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}},testSetTargetLate:function(){this.__controller=new qx.data.controller.List(this.__model,null,"name");this.__controller.setTarget(this.__list);for(var e=0;e<this.__data.length;e++){var t=this.__list.getChildren()[e].getLabel();this.assertEquals(this.__data[e].getName(),t,"Binding "+e+" is wrong!")}},testFilter:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setIconPath("icon");var e={filter:function(e){return"name2"==e.getName()}};this.__controller.setDelegate(e);this.assertEquals(1,this.__list.getChildren().length,"Too much list items.");var t=this.__list.getChildren()[0].getLabel();this.assertEquals("name2",t,"Label binding is wrong!");var i=this.__list.getChildren()[0].getIcon();this.assertEquals("icon2",i,"Icon binding is wrong!")},testOnUpdateLabel:function(){var e={},t=!1;e.onUpdate=function(){t=!0};this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setLabelOptions(e);this.__data.pop().dispose();this.__model.pop().dispose();for(var i=0;i<this.__data.length;i++){var n=this.__list.getChildren()[i].getLabel();this.assertEquals(this.__data[i].getName(),n,"Binding "+i+" is wrong!")}this.assertTrue(t,"onUpdate not executed")},testDeepSelection:function(){qx.Class.define("qx.demo.Kid",{extend:qx.core.Object,properties:{name:{check:"String",event:"changeName",init:null}}});qx.Class.define("qx.demo.Parent",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.setKid(new qx.demo.Kid)},properties:{name:{check:"String",event:"changeName",init:null},kid:{check:"qx.demo.Kid",event:"changeKid"}}});var e=new qx.demo.Parent;e.setName("parentA");e.getKid().setName("kidA");var t=new qx.demo.Parent;t.setName("parentB");t.getKid().setName("kidB");var i=new qx.demo.Parent;i.setName("parentC");i.getKid().setName("kidC");var n=new qx.data.Array;n.push(e);n.push(t);n.push(i);this.__controller=new qx.data.controller.List(n,this.__list,"name");this.assertEquals(i.getName(),this.__list.getChildren()[2].getModel().getName(),"Wrong model stored before the splice.");var s=n.splice(n.indexOf(t),1);s.getItem(0).getKid().dispose();s.setAutoDisposeItems(!0);s.dispose();this.assertEquals("parentC",this.__list.getChildren()[1].getLabel(),"Wrong name of the parent.");this.assertEquals(i,this.__list.getChildren()[1].getModel(),"Wrong model stored after the splice.");for(var r=0;r<n.length;r++)n.getItem(r).getKid().dispose();n.setAutoDisposeItems(!0);n.dispose()},testModelProperty:function(){this.__controller=new qx.data.controller.List(null,this.__list,"name");var e={filter:function(e){return"name0"!=e.getName()&&"name2"!=e.getName()},bindItem:function(e,t,i){e.bindProperty("","model",null,t,i)}};this.__controller.setDelegate(e);this.__controller.setModel(this.__model);this.assertEquals(3,this.__list.getChildren().length);this.assertEquals(this.__model.getItem(1),this.__list.getChildren()[0].getModel());this.assertEquals(this.__model.getItem(3),this.__list.getChildren()[1].getModel());this.assertEquals(this.__model.getItem(4),this.__list.getChildren()[2].getModel());var t=(new qx.test.ListWithObject).set({name:"name5",icon:"icon5"});this.__model.push(t);this.assertEquals(this.__model.getItem(5),this.__list.getChildren()[3].getModel());t.dispose()},testModelPropertyBinding:function(){this.__controller=new qx.data.controller.List(null,this.__list,"name");var e={bindItem:function(e,t,i){e.bindProperty("icon","model",null,t,i)}};this.__controller.setDelegate(e);this.__controller.setModel(this.__model);for(var t=0;t<this.__list.getChildren().length;t++){var i=this.__list.getChildren()[t];this.assertEquals("icon"+t,i.getModel())}this.__controller.getSelection().push("icon1");this.assertEquals("icon1",this.__list.getSelection()[0].getModel())},testModelInConverter:function(){this.__controller=new qx.data.controller.List(this.__model,this.__list,"name");this.__controller.setLabelOptions({converter:function(e,t){return t.getIcon()}});var e=new qx.test.ListWithObject;e.setName("namex");e.setIcon("iconx");this.__model.push(e);for(var t=0;t<this.__data.length;t++){var i=this.__list.getChildren()[t].getLabel();this.assertEquals(this.__data[t].getIcon(),i,"Binding "+t+" is wrong!")}i=this.__list.getChildren()[this.__data.length].getLabel();this.assertEquals("iconx",i,"New binding is wrong!")}}});qx.test.data.controller.ListWithObjects.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.basic.Label":{},"qx.ui.core.Widget":{},"qx.data.controller.Object":{},"qx.ui.form.SelectBox":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.Object",{extend:qx.dev.unit.TestCase,members:{__label1:null,__label2:null,__model:null,__controller:null,setUp:function(){this.__label1=new qx.ui.basic.Label;this.__label2=new qx.ui.basic.Label;this.__model=new qx.ui.core.Widget;this.__controller=new qx.data.controller.Object(this.__model)},tearDown:function(){this.__model.dispose();this.__label2.dispose();this.__label1.dispose();this.__controller.dispose()},testOneToOne:function(){this.__controller.addTarget(this.__label1,"value","zIndex");this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding does not work!")},testOneToTwo:function(){this.__controller.addTarget(this.__label1,"value","zIndex");this.__controller.addTarget(this.__label2,"value","zIndex");this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("10",this.__label2.getValue(),"Binding2 does not work!")},testChangeModel:function(){this.__controller.addTarget(this.__label1,"value","zIndex");this.__controller.addTarget(this.__label2,"value","zIndex");this.__model.setZIndex(10);var e=new qx.ui.core.Widget;e.setZIndex(20);this.__model.dispose();this.__controller.setModel(e);this.assertEquals("20",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("20",this.__label2.getValue(),"Binding2 does not work!");e.dispose()},testRemoveOneBinding:function(){this.__model.setZIndex(20);this.__controller.addTarget(this.__label1,"value","zIndex");this.__controller.addTarget(this.__label2,"value","zIndex");this.assertEquals("20",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("20",this.__label2.getValue(),"Binding2 does not work!");this.__controller.removeTarget(this.__label1,"value","zIndex");this.__model.setZIndex(5);this.assertEquals("20",this.__label1.getValue(),"Binding1 has not been removed!");this.assertEquals("5",this.__label2.getValue(),"Binding2 has been removed!")},testRemoveUnexistantTarget:function(){this.__controller.removeTarget(this.__label1,"value","zIndex");this.__controller.removeTarget(null,"AFFE","AFFEN");this.__controller.addTarget(this.__label1,"value","zIndex");this.__controller.removeTarget(this.__label1,"value","zIndex");this.__controller.removeTarget(null,"AFFE","AFFEN")},testTowToTwo:function(){this.__controller.addTarget(this.__label1,"value","zIndex");this.__controller.addTarget(this.__label2,"value","visibility");this.__model.setZIndex(11);this.__model.setVisibility("visible");this.assertEquals("11",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("visible",this.__label2.getValue(),"Binding2 does not work!");this.__model.setZIndex(15);this.__model.setVisibility("hidden");this.assertEquals("15",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("hidden",this.__label2.getValue(),"Binding2 does not work!")},testOneToOneBi:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!0);this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding does not work!");this.__label1.setValue("20");this.assertEquals(20,this.__model.getZIndex(),"Reverse-Binding does not work!")},testOneToTwoBi:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!0);this.__controller.addTarget(this.__label2,"value","zIndex",!0);this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("10",this.__label2.getValue(),"Binding2 does not work!");this.__label1.setValue("100");this.assertEquals(100,this.__model.getZIndex(),"Reverse Binding does not work!");this.assertEquals("100",this.__label2.getValue(),"Binding2 does not work!");this.__label2.setValue("200");this.assertEquals(200,this.__model.getZIndex(),"Reverse Binding does not work!");this.assertEquals("200",this.__label1.getValue(),"Binding1 does not work!")},testChangeModelBi:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!0);this.__controller.addTarget(this.__label2,"value","zIndex",!0);this.__model.setZIndex(10);var e=new qx.ui.core.Widget;e.setZIndex(20);this.__controller.setModel(e);this.assertEquals("20",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("20",this.__label2.getValue(),"Binding2 does not work!");this.__label2.setValue("11");this.assertEquals("11",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals(11,e.getZIndex(),"Reverse-Binding does not work!");this.assertEquals(10,this.__model.getZIndex(),"Binding has not been removed.");e.dispose()},testConverting:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!1,{converter:function(e){return e>10?"A":"B"}});this.__model.setZIndex(11);this.assertEquals("A",this.__label1.getValue(),"Converter does not work!");this.__model.setZIndex(5);this.assertEquals("B",this.__label1.getValue(),"Converter does not work!")},testConvertingBi:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!0,{converter:function(e){return e>10?"A":"B"}},{converter:function(e){return"A"==e?11:10}});this.__model.setZIndex(11);this.assertEquals("A",this.__label1.getValue(),"Converter does not work!");this.__model.setZIndex(5);this.assertEquals("B",this.__label1.getValue(),"Converter does not work!");this.__label1.setValue("A");this.assertEquals(11,this.__model.getZIndex(),"Back-Converter does not work!");this.__label1.setValue("B");this.assertEquals(10,this.__model.getZIndex(),"Back-Converter does not work!")},testChangeModelCon:function(){var e={converter:function(e){return e>10?"A":"B"}};this.__controller.addTarget(this.__label1,"value","zIndex",!1,e);this.__controller.addTarget(this.__label2,"value","zIndex",!1,e);this.__model.setZIndex(3);var t=new qx.ui.core.Widget;t.setZIndex(20);this.__controller.setModel(t);this.assertEquals("A",this.__label1.getValue(),"Binding1 does not work!");this.assertEquals("A",this.__label2.getValue(),"Binding2 does not work!");t.dispose()},testSetLateModel:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Object;this.__controller.setModel(this.__model);this.__controller.addTarget(this.__label1,"value","zIndex");this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding does not work!")},testSetModelNull:function(){this.__controller.addTarget(this.__label1,"value","zIndex");this.__label1.setValue("test");this.__controller.setModel(null);this.assertNull(this.__label1.getValue());this.__controller.setModel(this.__model);this.__model.setZIndex(10);this.assertEquals("10",this.__label1.getValue(),"Binding does not work!")},testCreateWithoutModel:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Object;this.__controller.addTarget(this.__label1,"value","zIndex");this.__model.setZIndex(10);this.__controller.setModel(this.__model);this.assertEquals("10",this.__label1.getValue(),"Binding does not work!")},testTargetArrayBi:function(){for(var e=new qx.ui.form.SelectBox,t=0;t<10;t++)e.add(new qx.ui.form.ListItem("item "+t).set({model:t}));this.__controller.addTarget(e,"modelSelection[0]","zIndex",!0);e.setSelection([e.getSelectables()[6]]);this.assertEquals(6,this.__model.getZIndex());this.__model.setZIndex(3);this.assertEquals(3,e.getSelection()[0].getModel());e.dispose()},testDispose:function(){this.__controller.addTarget(this.__label1,"value","zIndex",!0);this.__label1.setZIndex(7);this.__controller.dispose();this.__model.setZIndex(10);this.assertEquals(null,this.__label1.getValue(),"Binding does not work!");this.__label1.setValue("20");this.assertEquals(10,this.__model.getZIndex(),"Reverse-Binding does not work!")}}});qx.test.data.controller.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.dev.unit.MMock":{require:!0},"qx.core.Object":{construct:!0},"qx.data.Array":{construct:!0},"qx.io.ImageLoader":{},"qx.ui.tree.Tree":{},"qx.data.controller.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.ui.core.queue.Dispose":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.controller.Tree",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,construct:function(){qx.dev.unit.TestCase.constructor.call(this);qx.Class.define("qx.test.TreeNode",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.setChildren(new qx.data.Array);this.setAltChildren(new qx.data.Array)},properties:{children:{check:"qx.data.Array",event:"changeChild",nullable:!0},altChildren:{check:"qx.data.Array",event:"changeChild",nullable:!0},name:{check:"String",init:"root",event:"changeName"},name2:{check:"String",init:"root2",event:"changeName"},icon:{check:"String",event:"changeIcon",nullable:!0},icon2:{check:"String",event:"changeIcon2",nullable:!0},color:{check:"String",event:"changeColor",init:"green",nullable:!0}},destruct:function(){if(this.getChildren()){this.getChildren().setAutoDisposeItems(!0);this.getChildren().dispose()}if(this.getAltChildren()){this.getAltChildren().setAutoDisposeItems(!0);this.getAltChildren().dispose()}}})},members:{__tree:null,__model:null,__controller:null,__a:null,__b:null,__c:null,setUp:function(){this.stub(qx.io.ImageLoader,"load");this.__tree=new qx.ui.tree.Tree;this.__model=new qx.test.TreeNode;this.__a=new qx.test.TreeNode;this.__a.set({name:"a",name2:"a2",icon:"icon a",icon2:"icon a2",color:"red"});this.__b=new qx.test.TreeNode;this.__b.set({name:"b",name2:"b2",icon:"icon b",icon2:"icon b2",color:"blue"});this.__c=new qx.test.TreeNode;this.__c.set({name:"c",name2:"c2",icon:"icon c",icon2:"icon c2",color:"white"});this.__model.getChildren().push(this.__a,this.__b,this.__c);this.__model.getAltChildren().push(this.__c,this.__b,this.__a);this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,"children","name");this.__controller.setIconPath("icon")},tearDown:function(){this.__controller.dispose();this.__model.dispose();this.__tree.dispose();this.getSandbox().restore()},testRemoveBindingsRecursive:function(){this.__model.getChildren().remove(this.__c);this.__a.getChildren().push(this.__c);var e=this.__tree.getRoot().getChildren()[0].getChildren()[0];this.assertNotNull(e,"Third node does not exist");this.assertEquals("c",e.getLabel());this.__a.getChildren().remove(this.__c);this.__c.setName("affe");this.assertEquals("c",e.getLabel());this.wait(100,function(){this.assertTrue(e.isDisposed())},this)},testModelChange:function(){this.__controller.setModel(null);this.__controller.setModel(this.__model);var e=new qx.test.TreeNode;e.setName("d");var t=this.__model;this.wait(100,function(){t.getChildren().push(e)})},testFolderCreation:function(){this.assertNotNull(this.__tree.getRoot(),"Root node does not exist");this.assertNotNull(this.__tree.getRoot().getChildren()[0],"First node does not exist");this.assertNotNull(this.__tree.getRoot().getChildren()[1],"Second node does not exist");this.assertNotNull(this.__tree.getRoot().getChildren()[2],"Third node does not exist")},testFolderLabelInitial:function(){this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testFolderLabelChangeName:function(){this.__model.setName("ROOT");this.__a.setName("A");this.__b.setName("B");this.__c.setName("C");this.assertEquals("ROOT",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("A",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("B",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("C",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testFolderLabelPropertyChange:function(){this.__controller.setLabelPath("name2");this.assertEquals("root2",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a2",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b2",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c2",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testChildPush:function(){var e=new qx.test.TreeNode;e.setName("d");this.__model.getChildren().push(e);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertEquals("d",this.__tree.getRoot().getChildren()[3].getLabel(),"New node has a wrong name")},testChildPop:function(){this.__model.getChildren().pop();this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertUndefined(this.__tree.getRoot().getChildren()[2],"There is still a third node!")},testChildShift:function(){this.__model.getChildren().shift();this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertUndefined(this.__tree.getRoot().getChildren()[2],"There is still a third node!")},testChildUnshift:function(){var e=new qx.test.TreeNode;e.setName("d");this.__model.getChildren().unshift(e);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("d",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[3].getLabel(),"Fourth node has a wrong name")},testTreeDeep:function(){this.__model.getChildren().pop();this.__model.getChildren().pop();this.__model.getChildren().pop();this.__model.getChildren().push(this.__a);this.__a.getChildren().push(this.__b);this.__b.getChildren().push(this.__c);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[0].getChildren()[0].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[0].getChildren()[0].getChildren()[0].getLabel(),"Third node has a wrong name")},testBig:function(){var e=new qx.test.TreeNode;e.setName("aa");var t=new qx.test.TreeNode;t.setName("bb");var i=new qx.test.TreeNode;i.setName("cc");var n=new qx.test.TreeNode;n.setName("bbb");var s=new qx.test.TreeNode;s.setName("AA");t.getChildren().push(n);this.__b.getChildren().push(t);this.__a.getChildren().push(e,s);this.__c.getChildren().push(i);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"a node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"b node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"c node has a wrong name");this.assertEquals("aa",this.__tree.getRoot().getChildren()[0].getChildren()[0].getLabel(),"aa node has a wrong name");this.assertEquals("AA",this.__tree.getRoot().getChildren()[0].getChildren()[1].getLabel(),"AA node has a wrong name");this.assertEquals("bb",this.__tree.getRoot().getChildren()[1].getChildren()[0].getLabel(),"bb node has a wrong name");this.assertEquals("cc",this.__tree.getRoot().getChildren()[2].getChildren()[0].getLabel(),"cc node has a wrong name");this.assertEquals("bbb",this.__tree.getRoot().getChildren()[1].getChildren()[0].getChildren()[0].getLabel(),"bbb node has a wrong name")},testChildReverse:function(){this.__model.getChildren().reverse();this.assertEquals("a",this.__tree.getRoot().getChildren()[2].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[0].getLabel(),"Third node has a wrong name")},testChangeChildPath:function(){this.__controller.setChildPath("altChildren");this.assertEquals("c",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testChangeTarget:function(){var e=new qx.ui.tree.Tree;this.__controller.setTarget(e);this.assertEquals("a",e.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",e.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",e.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertNull(this.__tree.getRoot(),"Former tree is not empty.");e.dispose()},testChangeModel:function(){var e=new qx.test.TreeNode,t=new qx.test.TreeNode;t.setName("A");var i=new qx.test.TreeNode;i.setName("B");e.getChildren().push(t,i);this.__controller.setModel(e);this.assertEquals("A",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("B",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.__controller.setModel(null);e.dispose()},testIconPath:function(){this.assertEquals(null,this.__tree.getRoot().getIcon(),"Root node has a wrong icon");this.assertEquals("icon a",this.__tree.getRoot().getChildren()[0].getIcon(),"First node has a wrong icon");this.assertEquals("icon b",this.__tree.getRoot().getChildren()[1].getIcon(),"Second node has a wrong icon");this.assertEquals("icon c",this.__tree.getRoot().getChildren()[2].getIcon(),"Third node has a wrong icon")},testIconPathChange:function(){this.__controller.setIconPath("icon2");this.assertEquals(null,this.__tree.getRoot().getIcon(),"Root node has a wrong icon");this.assertEquals("icon a2",this.__tree.getRoot().getChildren()[0].getIcon(),"First node has a wrong icon");this.assertEquals("icon b2",this.__tree.getRoot().getChildren()[1].getIcon(),"Second node has a wrong icon");this.assertEquals("icon c2",this.__tree.getRoot().getChildren()[2].getIcon(),"Third node has a wrong icon")},testIconChange:function(){this.__model.setIcon("AFFE");this.__a.setIcon("ICON A");this.__b.setIcon("ICON B");this.__c.setIcon("ICON C");this.assertEquals("AFFE",this.__tree.getRoot().getIcon(),"Root node has a wrong icon");this.assertEquals("ICON A",this.__tree.getRoot().getChildren()[0].getIcon(),"First node has a wrong icon");this.assertEquals("ICON B",this.__tree.getRoot().getChildren()[1].getIcon(),"Second node has a wrong icon");this.assertEquals("ICON C",this.__tree.getRoot().getChildren()[2].getIcon(),"Third node has a wrong icon")},testSelection:function(){this.__tree.getRoot().setOpen(!0);this.__tree.addToSelection(this.__tree.getRoot().getChildren()[0]);this.assertEquals(this.__a,this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.");this.__tree.addToSelection(this.__tree.getRoot().getChildren()[1]);this.assertEquals(this.__b,this.__controller.getSelection().getItem(0),"Selection does not work.");this.assertEquals(1,this.__controller.getSelection().length,"Selection length is wrong.")},testSelectionBackMultiple:function(){this.__tree.getRoot().setOpen(!0);this.__tree.setSelectionMode("multi");this.__controller.getSelection().push(this.__a);this.__controller.getSelection().push(this.__b);this.assertEquals(this.__a,this.__controller.getSelection().getItem(0),"Add to selection does not work.");this.assertEquals(this.__b,this.__controller.getSelection().getItem(1),"Add to selection does not work.")},testSelectionAfterDelete:function(){this.__tree.getRoot().setOpen(!0);this.__controller.getSelection().push(this.__c);var e=this.__model.getChildren().splice(2,1);e.setAutoDisposeItems(!0);e.dispose();this.assertEquals(0,this.__controller.getSelection().length,"Remove from selection does not work!");this.__controller.getSelection().push(this.__b);(e=this.__model.getChildren().shift()).dispose();this.assertTrue(this.__controller.getSelection().contains(this.__b),"Selection array wrong!");this.assertEquals("b",this.__tree.getSelection()[0].getLabel(),"Remove from selection does not work!")},testSelectInvisible:function(){this.__controller.getSelection().push(this.__c);this.assertEquals(1,this.__controller.getSelection().length,"Adding of an non visible element should not work.")},testLabelOptions:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,"children","name");this.__controller.setLabelOptions({converter:function(e,t){return e+t.getName2()}});this.assertEquals("rootroot2",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("aa2",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("bb2",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("cc2",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testIconOptions:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,"children","name");this.__controller.setIconPath("icon");this.__controller.setIconOptions({converter:function(e,t){return null!=e?e+t.getName():null}});this.assertNull(this.__tree.getRoot().getIcon(),"Root node has a wrong icon");this.assertEquals("icon aa",this.__tree.getRoot().getChildren()[0].getIcon(),"First node has a wrong icon");this.assertEquals("icon bb",this.__tree.getRoot().getChildren()[1].getIcon(),"Second node has a wrong icon");this.assertEquals("icon cc",this.__tree.getRoot().getChildren()[2].getIcon(),"Third node has a wrong icon")},testItemWithoutChildren:function(){qx.Class.define("qx.test.TreeEndNode",{extend:qx.core.Object,properties:{name:{check:"String",init:"root",event:"changeName"},icon:{check:"String",event:"changeIcon",nullable:!0}}});var e=new qx.test.TreeEndNode;e.setName("ENDE");this.__model.getChildren().push(e);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertEquals("ENDE",this.__tree.getRoot().getChildren()[3].getLabel(),"Fourth node has a wrong name")},testSetLateModel:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(null,this.__tree,"children","name");this.__controller.setModel(this.__model);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testSetLateTarget:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,null,"children","name");this.__controller.setTarget(this.__tree);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testSetLateTargetAndModel:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(null,null,"children","name");this.__controller.setTarget(this.__tree);this.__controller.setModel(this.__model);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.__controller.dispose();this.__controller=new qx.data.controller.Tree(null,null,"children","name");this.__controller.setModel(this.__model);this.__controller.setTarget(this.__tree);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testSetLateChildPath:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,null,"name");this.__controller.setChildPath("children");this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testSetLateLabelPath:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,"children");this.__controller.setLabelPath("name");this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testSetLateAll:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree;this.__controller.setLabelPath("name");this.__controller.setChildPath("children");this.__controller.setModel(this.__model);this.__controller.setTarget(this.__tree);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testDelegateConfigure:function(){var e=new qx.core.Object;e.configureItem=function(e){e.setUserData("a",!0)};this.__controller.setDelegate(e);this.assertTrue(this.__tree.getRoot().getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[0].getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[1].getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[2].getUserData("a"),"Delegation not working.");this.__controller.setDelegate(null);e.dispose()},testDelegateConfigureLate:function(){this.__controller.dispose();var e=new qx.data.controller.Tree(null,this.__tree,"children","name");e.setDelegate({configureItem:function(e){e.setUserData("a",!0)}});e.setModel(this.__model);this.assertTrue(this.__tree.getRoot().getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[0].getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[1].getUserData("a"),"Delegation not working.");this.assertTrue(this.__tree.getRoot().getChildren()[2].getUserData("a"),"Delegation not working.");e.dispose()},testDelegateCreateLate:function(){var e={createItem:function(){var e=new qx.ui.tree.TreeFolder;e.setUserData("my",!0);return e}};this.__controller.setDelegate(e);this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertTrue(this.__tree.getRoot().getUserData("my"),"Default folders found.");this.assertTrue(this.__tree.getRoot().getChildren()[0].getUserData("my"),"Default folders found.");this.assertTrue(this.__tree.getRoot().getChildren()[1].getUserData("my"),"Default folders found.");this.assertTrue(this.__tree.getRoot().getChildren()[2].getUserData("my"),"Default folders found.")},testDelegateCreateFirst:function(){this.__controller.dispose();this.__controller=new qx.data.controller.Tree;var e={createItem:function(){var e=new qx.ui.tree.TreeFolder;e.setUserData("my",!0);return e}},t=new qx.ui.tree.Tree;this.__controller.setDelegate(e);this.__controller.setChildPath("children");this.__controller.setLabelPath("name");this.__controller.setModel(this.__model);this.__controller.setTarget(t);this.assertEquals("root",t.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",t.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",t.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",t.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertTrue(t.getRoot().getUserData("my"),"Default folders found.");this.assertTrue(t.getRoot().getChildren()[0].getUserData("my"),"Default folders found.");this.assertTrue(t.getRoot().getChildren()[1].getUserData("my"),"Default folders found.");this.assertTrue(t.getRoot().getChildren()[2].getUserData("my"),"Default folders found.");t.destroy()},testDelegateBindLate:function(){this.__controller.setDelegate({bindItem:function(e,t,i){e.bindDefaultProperties(t,i);e.bindProperty("color","textColor",null,t,i)}});this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertEquals("green",this.__tree.getRoot().getTextColor(),"Root node has a wrong name");this.assertEquals("red",this.__tree.getRoot().getChildren()[0].getTextColor(),"First node has a wrong name");this.assertEquals("blue",this.__tree.getRoot().getChildren()[1].getTextColor(),"Second node has a wrong name");this.assertEquals("white",this.__tree.getRoot().getChildren()[2].getTextColor(),"Third node has a wrong name");this.__model.setColor("black");this.assertEquals("black",this.__tree.getRoot().getTextColor(),"Root node has a wrong name")},testDelegateBindFirst:function(){var e=new qx.ui.tree.Tree;this.__controller.setDelegate({bindItem:function(e,t,i){e.bindDefaultProperties(t,i);e.bindProperty("color","textColor",null,t,i)}});this.__controller.setChildPath("children");this.__controller.setLabelPath("name");this.__controller.setModel(this.__model);this.__controller.setTarget(e);this.assertEquals("root",e.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",e.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",e.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",e.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name");this.assertEquals("green",e.getRoot().getTextColor(),"Root node has a wrong name");this.assertEquals("red",e.getRoot().getChildren()[0].getTextColor(),"First node has a wrong name");this.assertEquals("blue",e.getRoot().getChildren()[1].getTextColor(),"Second node has a wrong name");this.assertEquals("white",e.getRoot().getChildren()[2].getTextColor(),"Third node has a wrong name");this.__model.setColor("black");this.assertEquals("black",e.getRoot().getTextColor(),"Root node has a wrong name");e.dispose()},testDelegateBindPropertyReverse:function(){var e={bindItem:function(e,t,i){e.bindProperty("name","appearance",null,t,i);e.bindPropertyReverse("name","appearance",null,t,i);e.bindPropertyReverse("color","backgroundColor",null,t,i)}};this.__controller.setDelegate(e);this.assertEquals("root",this.__tree.getRoot().getAppearance(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getAppearance(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getAppearance(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getAppearance(),"Third node has a wrong name");this.__tree.getRoot().setAppearance("ROOT");this.assertEquals("ROOT",this.__model.getName(),"Reverse binding not ok!");this.__tree.getRoot().getChildren()[0].setBackgroundColor("#123456");this.assertEquals("#123456",this.__a.getColor(),"Reverse binding not ok!");e.bindItem=function(e,t,i){e.bindProperty("name","appearance",null,t,i)};this.__controller.setDelegate(null);this.__controller.setDelegate(e);this.__tree.getRoot().setAppearance("123");this.assertEquals("ROOT",this.__model.getName(),"Removing not ok");this.__tree.getRoot().getChildren()[0].setBackgroundColor("#654321");this.assertEquals("#123456",this.__a.getColor(),"Removing not ok")},testDelegateAddItem:function(){var e=new qx.test.TreeNode;e.setName("new");this.__controller.setDelegate({createItem:function(){return new qx.ui.tree.TreeFolder}});qx.ui.core.queue.Dispose.flush();this.__model.getChildren().push(e)},testResetModel:function(){this.__controller.resetModel();this.assertNull(this.__tree.getRoot(),"Tree is not empty.")},testChangeChildrenArray:function(){var e=new qx.data.Array,t=new qx.test.TreeNode;t.setName("new");e.push(t);var i=this.__a.getChildren();this.__a.setChildren(e);i.dispose();this.assertNotUndefined(this.__tree.getRoot(),"Root node does not exist");this.assertNotUndefined(this.__tree.getRoot().getChildren()[0],"First node does not exist");this.assertNotUndefined(this.__tree.getRoot().getChildren()[0].getChildren()[0],"New node does not exist");this.assertEquals("new",this.__tree.getRoot().getChildren()[0].getChildren()[0].getLabel())},testInheritedChildren:function(){qx.Class.define("qx.test.MyTreeNode",{extend:qx.test.TreeNode});this.__tree.dispose();this.__model.dispose();this.__a.dispose();this.__b.dispose();this.__c.dispose();this.__tree=new qx.ui.tree.Tree;this.__model=new qx.test.MyTreeNode;this.__a=new qx.test.MyTreeNode;this.__a.set({name:"a",name2:"a2",icon:"icon a",icon2:"icon a2",color:"red"});this.__b=new qx.test.MyTreeNode;this.__b.set({name:"b",name2:"b2",icon:"icon b",icon2:"icon b2",color:"blue"});this.__c=new qx.test.MyTreeNode;this.__c.set({name:"c",name2:"c2",icon:"icon c",icon2:"icon c2",color:"white"});this.__model.getChildren().push(this.__a,this.__b,this.__c);this.__model.getAltChildren().push(this.__c,this.__b,this.__a);this.__controller.dispose();this.__controller=new qx.data.controller.Tree(this.__model,this.__tree,"children","name");this.assertEquals("root",this.__tree.getRoot().getLabel(),"Root node has a wrong name");this.assertEquals("a",this.__tree.getRoot().getChildren()[0].getLabel(),"First node has a wrong name");this.assertEquals("b",this.__tree.getRoot().getChildren()[1].getLabel(),"Second node has a wrong name");this.assertEquals("c",this.__tree.getRoot().getChildren()[2].getLabel(),"Third node has a wrong name")},testRemoveEvents:function(){for(var e=[],t=0;t<50;++t){e[t]=new qx.test.TreeNode;0!=t&&e[parseInt(Math.random()*t,10)].getChildren().push(e[t])}var i=new qx.ui.tree.Tree,n=new qx.data.controller.Tree(e[0],i,"children","name");for(t=0;t<e.length;++t)e[t].getChildren().removeAll();n.dispose();i.dispose();for(t=0;t<e.length;++t)e[t].dispose()},testBindItemDouble:function(){var e={bindItem:function(e,t,i){e.bindProperty("color","textColor",null,t,i);e.bindProperty("color","textColor",null,t,i)}},t=this;this.assertException(function(){t.__controller.setDelegate(e)},Error,/textColor/.g)},testBindItemDoubleReverse:function(){var e={bindItem:function(e,t,i){e.bindPropertyReverse("color","textColor",null,t,i);e.bindPropertyReverse("color","textColor",null,t,i)}},t=this;this.assertException(function(){t.__controller.setDelegate(e)},Error,/textColor/.g)}}});qx.test.data.controller.Tree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.selection.ScrollArea":{require:!0},"qx.ui.tree.core.AbstractTreeItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.selection.SelectionManager",{extend:qx.ui.core.selection.ScrollArea,members:{_getSelectableLocationY:function(e){var t=e.getBounds();if(t){var i=this._getWidget().getItemTop(e);return{top:i,bottom:i+t.height}}},_isSelectable:function(e){return this._isItemSelectable(e)&&e instanceof qx.ui.tree.core.AbstractTreeItem},_getSelectableFromPointerEvent:function(e){return this._getWidget().getTreeItem(e.getTarget())},getSelectables:function(e){var t=!1;if(!e){t=this._userInteraction;this._userInteraction=!0}var i=this._getWidget(),n=[];if(null!=i.getRoot())for(var s=i.getRoot().getItems(!0,!!e,i.getHideRoot()),r=0;r<s.length;r++)this._isSelectable(s[r])&&n.push(s[r]);this._userInteraction=t;return n},_getSelectableRange:function(e,t){if(e===t)return[e];var i=this.getSelectables(),n=i.indexOf(e),s=i.indexOf(t);return n<0||s<0?[]:n<s?i.slice(n,s+1):i.slice(s,n+1)},_getFirstSelectable:function(){return this.getSelectables()[0]||null},_getLastSelectable:function(){var e=this.getSelectables();return e.length>0?e[e.length-1]:null},_getRelatedSelectable:function(e,t){var i=this._getWidget(),n=null;switch(t){case"above":n=i.getPreviousNodeOf(e,!1);break;case"under":n=i.getNextNodeOf(e,!1)}return n?this._isSelectable(n)?n:this._getRelatedSelectable(n,t):null}}});qx.ui.tree.selection.SelectionManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.scroll.AbstractScrollArea":{construct:!0,require:!0},"qx.ui.core.IMultiSelection":{require:!0},"qx.ui.form.IModelSelection":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.core.MMultiSelectionHandling":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.ui.form.MModelSelection":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.container.Composite":{construct:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.tree.selection.SelectionManager":{require:!0},"qx.ui.tree.core.AbstractTreeItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.Tree",{extend:qx.ui.core.scroll.AbstractScrollArea,implement:[qx.ui.core.IMultiSelection,qx.ui.form.IModelSelection,qx.ui.form.IField,qx.ui.form.IForm],include:[qx.ui.core.MMultiSelectionHandling,qx.ui.core.MContentPadding,qx.ui.form.MModelSelection,qx.ui.form.MForm],construct:function(){qx.ui.core.scroll.AbstractScrollArea.constructor.call(this);this.__content=new qx.ui.container.Composite(new qx.ui.layout.VBox).set({allowShrinkY:!1,allowGrowX:!0});this.getChildControl("pane").add(this.__content);this.initOpenMode();this.initRootOpenClose();this.addListener("changeSelection",this._onChangeSelection,this);this.addListener("keypress",this._onKeyPress,this)},events:{addItem:"qx.event.type.Data",removeItem:"qx.event.type.Data"},properties:{openMode:{check:["tap","dbltap","none"],init:"dbltap",apply:"_applyOpenMode",event:"changeOpenMode",themeable:!0},root:{check:"qx.ui.tree.core.AbstractTreeItem",init:null,nullable:!0,event:"changeRoot",apply:"_applyRoot"},hideRoot:{check:"Boolean",init:!1,apply:"_applyHideRoot"},rootOpenClose:{check:"Boolean",init:!1,apply:"_applyRootOpenClose"},appearance:{refine:!0,init:"tree"},focusable:{refine:!0,init:!0}},members:{__content:null,SELECTION_MANAGER:qx.ui.tree.selection.SelectionManager,getChildrenContainer:function(){return this.__content},_applyRoot:function(e,t){var i=this.getChildrenContainer();if(t&&!t.isDisposed()){i.remove(t);t.hasChildren()&&i.remove(t.getChildrenContainer())}if(e){i.add(e);e.hasChildren()&&i.add(e.getChildrenContainer());e.setVisibility(this.getHideRoot()?"excluded":"visible");e.recursiveAddToWidgetQueue()}},_applyHideRoot:function(e,t){var i=this.getRoot();if(i){i.setVisibility(e?"excluded":"visible");i.recursiveAddToWidgetQueue()}},_applyRootOpenClose:function(e,t){var i=this.getRoot();i&&i.recursiveAddToWidgetQueue()},_getContentPaddingTarget:function(){return this.__content},getNextNodeOf:function(e,t){if((!1!==t||e.isOpen())&&e.hasChildren())return e.getChildren()[0];for(;e;){var i=e.getParent();if(!i)return null;var n=i.getChildren(),s=n.indexOf(e);if(s>-1&&s<n.length-1)return n[s+1];e=i}return null},getPreviousNodeOf:function(e,t){var i=e.getParent();if(!i)return null;if(this.getHideRoot()){if(i==this.getRoot()&&i.getChildren()[0]==e)return null}else if(e==this.getRoot())return null;var n=i.getChildren(),s=n.indexOf(e);if(s>0){for(var r=n[s-1];(!1!==t||r.isOpen())&&r.hasChildren();){var o=r.getChildren();r=o[o.length-1]}return r}return i},getNextSiblingOf:function(e){if(e==this.getRoot())return null;var t=e.getParent().getChildren(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null},getPreviousSiblingOf:function(e){if(e==this.getRoot())return null;var t=e.getParent().getChildren(),i=t.indexOf(e);return i>0?t[i-1]:null},getItems:function(e,t){return null!=this.getRoot()?this.getRoot().getItems(e,t,this.getHideRoot()):[]},getChildren:function(){return null!=this.getRoot()?[this.getRoot()]:[]},getTreeItem:function(e){for(;e;){if(e==this)return null;if(e instanceof qx.ui.tree.core.AbstractTreeItem)return e;e=e.getLayoutParent()}return null},_applyOpenMode:function(e,t){"tap"==t?this.removeListener("tap",this._onOpen,this):"dbltap"==t&&this.removeListener("dbltap",this._onOpen,this);"tap"==e?this.addListener("tap",this._onOpen,this):"dbltap"==e&&this.addListener("dbltap",this._onOpen,this)},_onOpen:function(e){var t=this.getTreeItem(e.getTarget());if(t&&t.isOpenable()){t.setOpen(!t.isOpen());e.stopPropagation()}},_onChangeSelection:function(e){for(var t=e.getData(),i=0;i<t.length;i++)for(var n=t[i];null!=n.getParent();)(n=n.getParent()).setOpen(!0)},_onKeyPress:function(e){var t=this._getLeadItem();if(null!==t)switch(e.getKeyIdentifier()){case"Left":t.isOpenable()&&t.isOpen()?t.setOpen(!1):t.getParent()&&this.setSelection([t.getParent()]);break;case"Right":t.isOpenable()&&!t.isOpen()&&t.setOpen(!0);break;case"Enter":case"Space":t.isOpenable()&&t.toggleOpen()}}},destruct:function(){this._disposeObjects("__content")}});qx.ui.tree.Tree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.controller.MSelection":{require:!0},"qx.data.controller.ISelection":{require:!0},"qx.core.ObjectRegistry":{},"qx.ui.tree.TreeFolder":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.controller.Tree",{extend:qx.core.Object,include:qx.data.controller.MSelection,implement:[qx.data.controller.ISelection],construct:function(e,t,i,n){qx.core.Object.constructor.call(this);this.__bindings={};this.__boundProperties=[];this.__childrenRef={a:1};null!=i&&this.setChildPath(i);null!=n&&this.setLabelPath(n);null!=e&&this.setModel(e);null!=t&&this.setTarget(t)},properties:{model:{check:"qx.core.Object",apply:"_applyModel",event:"changeModel",nullable:!0,dereference:!0},target:{apply:"_applyTarget",event:"changeTarget",init:null,nullable:!0,dereference:!0},childPath:{check:"String",apply:"_applyChildPath",nullable:!0},labelPath:{check:"String",apply:"_applyLabelPath",nullable:!0},iconPath:{check:"String",apply:"_applyIconPath",nullable:!0},labelOptions:{apply:"_applyLabelOptions",nullable:!0},iconOptions:{apply:"_applyIconOptions",nullable:!0},delegate:{apply:"_applyDelegate",init:null,nullable:!0}},members:{__childrenRef:null,__bindings:null,__boundProperties:null,__oldChildrenPath:null,_applyDelegate:function(e,t){this._setConfigureItem(e,t);this._setCreateItem(e,t);this._setBindItem(e,t)},_applyIconOptions:function(e,t){this.__renewBindings()},_applyLabelOptions:function(e,t){this.__renewBindings()},_applyTarget:function(e,t){void 0!=t&&this.__emptyTarget(t);null!=this.getModel()&&this.__buildTree();this._addChangeTargetListener(e,t)},_applyModel:function(e,t){this.__buildTree()},_applyChildPath:function(e,t){this.__oldChildrenPath=t;this.__buildTree();this.__oldChildrenPath=null},_applyIconPath:function(e,t){this.__renewBindings()},_applyLabelPath:function(e,t){this.__buildTree()},__changeModelChildren:function(e){var t=e.getTarget();qx.core.ObjectRegistry.register(t);var i=this.__childrenRef[t.toHashCode()].treeNode,n=this.__childrenRef[t.toHashCode()].modelNode;this.__updateTreeChildren(i,n);this._updateSelection()},__changeChildrenArray:function(e){var t=e.getData(),i=e.getOldData(),n=this.__childrenRef[i.toHashCode()];i.removeListenerById(n.changeListenerId);this.debug("1: removing children="+i.toHashCode()+" from this="+this.toHashCode());delete this.__childrenRef[i.toHashCode()];n.modelNode.removeListenerById(n.changeChildernListenerId);var s=n.modelNode,r=qx.Class.getPropertyDefinition(n.modelNode.constructor,this.getChildPath()).event,o=s.addListener(r,this.__changeChildrenArray,this),a=n.treeNode;this.debug("1: adding children="+t.toHashCode()+" to this="+this.toHashCode());this.__childrenRef[t.toHashCode()]={modelNode:s,treeNode:a,changeListenerId:n.changeListenerId,changeChildernListenerId:o};this.__updateTreeChildren(a,s);this._updateSelection()},_createItem:function(){var e=this.getDelegate();if(null!=e&&null!=e.createItem)var t=e.createItem();else t=new qx.ui.tree.TreeFolder;null!=e&&null!=e.configureItem&&e.configureItem(t);return t},__buildTree:function(){if(null!=this.getTarget()&&null!=this.getChildPath()&&!(null==this.getLabelPath()&&null==this.getDelegate()||null==this.getLabelPath()&&null!=this.getDelegate()&&null==this.getDelegate().bindItem)){this.__emptyTarget();if(null!=this.getModel()){var e=this._createItem();e.setModel(this.getModel());this.__addBinding(this.getModel(),e);this.__updateTreeChildren(e,this.getModel());this.getTarget().setRoot(e)}}},__updateTreeChildren:function(e,t){if(void 0!=t["get"+qx.lang.String.firstUp(this.getChildPath())]){var i=t["get"+qx.lang.String.firstUp(this.getChildPath())]();if(void 0==this.__childrenRef[i.toHashCode()]){var n=i.addListener("change",this.__changeModelChildren,this),s=qx.Class.getPropertyDefinition(t.constructor,this.getChildPath()).event,r=t.addListener(s,this.__changeChildrenArray,this);this.debug("2: adding children="+i.toHashCode()+" to this="+this.toHashCode());this.__childrenRef[i.toHashCode()]={modelNode:t,treeNode:e,changeListenerId:n,changeChildernListenerId:r}}for(var o=0;o<i.length;o++)if(null==e.getChildren()[o]||i.getItem(o)!=e.getChildren()[o].getModel()){for(var a=o;a<e.getChildren().length;a++)if(e.getChildren()[a].getModel()===i.getItem(o)){var l=a;break}if(void 0!=l){var u=e.getChildren()[l];if(this.getTarget().isSelected(u))var c=!0;e.removeAt(l);e.addAt(u,o);c&&this.getTarget().addToSelection(u)}else{var d=this._createItem();d.setModel(i.getItem(o));e.addAt(d,o);this.__addBinding(i.getItem(o),d);this.__updateTreeChildren(d,i.getItem(o))}}for(o=e.getChildren().length-1;o>=i.length;o--){var h=e.getChildren()[o];this.__removeFolder(h,e)}}},__emptyTarget:function(e){null==e&&(e=this.getTarget());if(null!=e){var t=e.getRoot();if(null!=t){e.setRoot(null);this.__removeAllFolders(t);var i=t.getModel();i&&this.__removeBinding(i);t.destroy();this.debug("erasing all children from this="+this.toHashCode());this.__childrenRef={b:2}}}},__removeAllFolders:function(e){for(var t=e.getChildren()||[],i=t.length-1;i>=0;i--){t[i].getChildren().length>0&&this.__removeAllFolders(t[i]);this.__removeFolder(t[i],e)}},__removeFolder:function(e,t){var i=e.getModel(),n=this.__oldChildrenPath||this.getChildPath(),s="get"+qx.lang.String.firstUp(n);if(void 0!=i[s]){var r=i[s]();this.debug("2: removing children="+r.toHashCode()+" from this="+this.toHashCode());var o=this.__childrenRef[r.toHashCode()];r.removeListenerById(o.changeListenerId);i.removeListenerById(o.changeChildernListenerId);this.__removeAllFolders(e);delete this.__childrenRef[r.toHashCode()]}this.__removeBinding(i);t.remove(e);e.destroy()},bindProperty:function(e,t,i,n,s){var r=s.bind(e,n,t,i);null==this.__bindings[t]&&(this.__bindings[t]={});var o=this.__bindings[t];qx.core.ObjectRegistry.register(s);if(o[s.toHashCode()]){if(o[s.toHashCode()].id)throw new Error("Can not bind the same target property '"+t+"' twice.");o[s.toHashCode()].id=r}else o[s.toHashCode()]={id:r,reverseId:null,treeNode:n};this.__boundProperties.includes(t)||this.__boundProperties.push(t)},bindPropertyReverse:function(e,t,i,n,s){var r=n.bind(t,s,e,i);null==this.__bindings[t]&&(this.__bindings[t]={});var o=this.__bindings[t];qx.core.ObjectRegistry.register(s);if(o[s.toHashCode()]){if(o[s.toHashCode()].reverseId)throw new Error("Can not reverse bind the same target property '"+e+"' twice.");o[s.toHashCode()].reverseId=r}else o[s.toHashCode()]={id:null,reverseId:r,treeNode:n};this.__boundProperties.includes(t)||this.__boundProperties.push(t)},bindDefaultProperties:function(e,t){this.bindProperty(this.getLabelPath(),"label",this.getLabelOptions(),e,t);null!=this.getIconPath()&&this.bindProperty(this.getIconPath(),"icon",this.getIconOptions(),e,t)},__renewBindings:function(){var e;for(var t in this.__bindings){e=t;break}for(var i in this.__bindings[e]){var n=this.__bindings[e][i].treeNode,s=qx.core.ObjectRegistry.fromHashCode(i);this.__removeBinding(s);this.__addBinding(s,n)}},__addBinding:function(e,t){var i=this.getDelegate();null!=i&&null!=i.bindItem?i.bindItem(this,t,e):this.bindDefaultProperties(t,e)},__removeBinding:function(e){for(var t=0;t<this.__boundProperties.length;t++){var i=this.__boundProperties[t],n=this.__bindings[i][e.toHashCode()];if(null!=n){if(n.id){e.removeBinding(n.id);n.id=null}if(n.reverseId){n.treeNode.removeBinding(n.reverseId);n.reverseId=null}delete this.__bindings[i][e.toHashCode()]}}},_setConfigureItem:function(e,t){if(null!=e&&null!=e.configureItem&&null!=this.getTarget()&&null!=this.getModel())for(var i=this.getTarget().getRoot().getItems(!0,!0,!1),n=0;n<i.length;n++)e.configureItem(i[n])},_setCreateItem:function(e,t){if(null!=this.getTarget()&&null!=this.getModel()&&null!=e&&null!=e.createItem&&!(t&&t.createItem&&e&&e.createItem&&t.createItem==e.createItem)){this._startSelectionModification();this.__emptyTarget();this.__buildTree();this._endSelectionModification();this._updateSelection()}},_setBindItem:function(e,t){if(null!=e&&null!=e.bindItem){if(null!=t&&null!=t.bindItem&&e.bindItem==t.bindItem)return;this.__buildTree()}}},destruct:function(){this.getTarget()&&!this.getTarget().isDisposed()&&this.setTarget(null);null==this.getModel()||this.getModel().isDisposed()||this.setModel(null);this.__bindings=this.__childrenRef=this.__boundProperties=null}});qx.data.controller.Tree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.basic.Label":{},"qx.ui.basic.Image":{},"qx.ui.tree.core.FolderOpenButton":{},"qx.ui.core.Spacer":{},"qx.util.PropertyUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.core.AbstractItem",{extend:qx.ui.core.Widget,type:"abstract",include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IModel],construct:function(e){qx.ui.core.Widget.constructor.call(this);null!=e&&this.setLabel(e);this._setLayout(new qx.ui.layout.HBox);this._addWidgets();this.initOpen()},properties:{open:{check:"Boolean",init:!1,event:"changeOpen",apply:"_applyOpen"},openSymbolMode:{check:["always","never","auto"],init:"auto",event:"changeOpenSymbolMode",apply:"_applyOpenSymbolMode"},indent:{check:"Integer",init:19,apply:"_applyIndent",event:"changeIndent",themeable:!0},icon:{check:"String",apply:"_applyIcon",event:"changeIcon",nullable:!0,themeable:!0},iconOpened:{check:"String",apply:"_applyIconOpened",event:"changeIconOpened",nullable:!0,themeable:!0},label:{check:"String",apply:"_applyLabel",event:"changeLabel",init:""}},members:{__labelAdded:null,__iconAdded:null,__spacer:null,_addWidgets:function(){throw new Error("Abstract method call.")},_createChildControlImpl:function(e,t){var i;switch(e){case"label":i=(new qx.ui.basic.Label).set({alignY:"middle",anonymous:!0,value:this.getLabel()});break;case"icon":i=(new qx.ui.basic.Image).set({alignY:"middle",anonymous:!0,source:this.getIcon()});break;case"open":(i=(new qx.ui.tree.core.FolderOpenButton).set({alignY:"middle"})).addListener("changeOpen",this._onChangeOpen,this);i.addListener("resize",this._updateIndent,this)}return i||qx.ui.tree.core.AbstractItem.prototype._createChildControlImpl.base.call(this,e)},addWidget:function(e,t){this._add(e,t)},addSpacer:function(){this.__spacer?this._remove(this.__spacer):this.__spacer=new qx.ui.core.Spacer;this._add(this.__spacer)},addOpenButton:function(){this._add(this.getChildControl("open"))},_onChangeOpen:function(e){this.isOpenable()&&this.setOpen(e.getData())},addIcon:function(){var e=this.getChildControl("icon");this.__iconAdded&&this._remove(e);this._add(e);this.__iconAdded=!0},addLabel:function(e){var t=this.getChildControl("label");this.__labelAdded&&this._remove(t);e?this.setLabel(e):t.setValue(this.getLabel());this._add(t);this.__labelAdded=!0},_applyIcon:function(e,t){this.__getUserValueIconOpened()&&this.isOpen()||this.__setIconSource(e)},_applyIconOpened:function(e,t){this.isOpen()&&(this.__getUserValueIcon()&&this.__getUserValueIconOpened()?this.__setIconSource(e):!this.__getUserValueIcon()&&this.__getUserValueIconOpened()&&this.__setIconSource(e))},_applyLabel:function(e,t){var i=this.getChildControl("label",!0);i&&i.setValue(e)},_applyOpen:function(e,t){var i,n=this.getChildControl("open",!0);n&&n.setOpen(e);(i=e?this.__getUserValueIconOpened()?this.getIconOpened():null:this.getIcon())&&this.__setIconSource(i);e?this.addState("opened"):this.removeState("opened")},__getUserValueIcon:function(){return qx.util.PropertyUtil.getUserValue(this,"icon")},__getUserValueIconOpened:function(){return qx.util.PropertyUtil.getUserValue(this,"iconOpened")},__setIconSource:function(e){var t=this.getChildControl("icon",!0);t&&t.setSource(e)},isOpenable:function(){var e=this.getOpenSymbolMode();return"always"===e||"auto"===e&&this.hasChildren()},_shouldShowOpenSymbol:function(){throw new Error("Abstract method call.")},_applyOpenSymbolMode:function(e,t){this._updateIndent()},_updateIndent:function(){var e=0,t=this.getChildControl("open",!0);if(t)if(this._shouldShowOpenSymbol()){t.show();var i=t.getBounds();if(!i)return;e=i.width}else t.exclude();this.__spacer&&this.__spacer.setWidth((this.getLevel()+1)*this.getIndent()-e)},_applyIndent:function(e,t){this._updateIndent()},getLevel:function(){throw new Error("Abstract method call.")},syncWidget:function(e){this._updateIndent()},hasChildren:function(){throw new Error("Abstract method call.")}},destruct:function(){this._disposeObjects("__spacer")}});qx.ui.tree.core.AbstractItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.tree.core.AbstractItem":{construct:!0,require:!0},"qx.ui.core.scroll.ScrollPane":{},"qx.ui.container.Composite":{},"qx.ui.layout.VBox":{},"qx.ui.core.queue.Widget":{},"qx.event.type.Data":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.core.AbstractTreeItem",{extend:qx.ui.tree.core.AbstractItem,type:"abstract",construct:function(e){qx.ui.tree.core.AbstractItem.constructor.call(this,e);this.__children=[]},properties:{parent:{check:"qx.ui.tree.core.AbstractTreeItem",nullable:!0}},members:{__children:null,__childrenContainer:null,getTree:function(){for(var e=this;e.getParent();)e=e.getParent();var t=e.getLayoutParent()?e.getLayoutParent().getLayoutParent():0;return t&&t instanceof qx.ui.core.scroll.ScrollPane?t.getLayoutParent():null},_applyOpen:function(e,t){this.hasChildren()&&this.getChildrenContainer().setVisibility(e?"visible":"excluded");qx.ui.tree.core.AbstractTreeItem.prototype._applyOpen.base.call(this,e,t)},_shouldShowOpenSymbol:function(){if(!this.getChildControl("open",!0))return!1;var e=this.getTree();if(!e.getRootOpenClose())if(e.getHideRoot()){if(e.getRoot()==this.getParent())return!1}else if(e.getRoot()==this)return!1;return this.isOpenable()},_updateIndent:function(){this.getTree()&&qx.ui.tree.core.AbstractTreeItem.prototype._updateIndent.base.call(this)},getLevel:function(){var e=this.getTree();if(e){for(var t=this,i=-1;t;){t=t.getParent();i+=1}e.getHideRoot()&&(i-=1);e.getRootOpenClose()||(i-=1);return i}},addState:function(e){qx.ui.tree.core.AbstractTreeItem.prototype.addState.base.call(this,e);for(var t=this._getChildren(),i=0,n=t.length;i<n;i++){t[i].addState&&t[i].addState(e)}},removeState:function(e){qx.ui.tree.core.AbstractTreeItem.prototype.removeState.base.call(this,e);for(var t=this._getChildren(),i=0,n=t.length;i<n;i++){t[i].removeState&&t[i].removeState(e)}},getChildrenContainer:function(){this.__childrenContainer||(this.__childrenContainer=new qx.ui.container.Composite(new qx.ui.layout.VBox).set({visibility:this.isOpen()?"visible":"excluded"}));return this.__childrenContainer},hasChildrenContainer:function(){return this.__childrenContainer},getParentChildrenContainer:function(){return this.getParent()?this.getParent().getChildrenContainer():this.getLayoutParent()?this.getLayoutParent():null},getChildren:function(){return this.__children},hasChildren:function(){return!!this.__children&&this.__children.length>0},getItems:function(e,t,i){if(!1!==i)var n=[];else n=[this];if(this.hasChildren()&&(!1!==t||this.isOpen())){var s=this.getChildren();if(!1===e)n=n.concat(s);else for(var r=0,o=s.length;r<o;r++)n=n.concat(s[r].getItems(e,t,!1))}return n},recursiveAddToWidgetQueue:function(){for(var e=this.getItems(!0,!0,!1),t=0,i=e.length;t<i;t++)qx.ui.core.queue.Widget.add(e[t])},__addChildrenToParent:function(){this.getParentChildrenContainer()&&this.getParentChildrenContainer()._addAfter(this.getChildrenContainer(),this)},add:function(e){for(var t=this.getChildrenContainer(),i=this.getTree(),n=0,s=arguments.length;n<s;n++){var r=arguments[n],o=r.getParent();o&&o.remove(r);r.setParent(this);var a=this.hasChildren();t.add(r);r.hasChildren()&&t.add(r.getChildrenContainer());this.__children.push(r);a||this.__addChildrenToParent();if(i){r.recursiveAddToWidgetQueue();i.fireNonBubblingEvent("addItem",qx.event.type.Data,[r])}}i&&qx.ui.core.queue.Widget.add(this)},addAt:function(e,t){this.assert(t<=this.__children.length&&t>=0,"Invalid child index: "+t);if(t!=this.__children.length){var i=e.getParent();i&&i.remove(e);var n=this.getChildrenContainer();e.setParent(this);var s=this.hasChildren(),r=this.__children[t];n.addBefore(e,r);e.hasChildren()&&n.addAfter(e.getChildrenContainer(),e);qx.lang.Array.insertAt(this.__children,e,t);s||this.__addChildrenToParent();if(this.getTree()){e.recursiveAddToWidgetQueue();qx.ui.core.queue.Widget.add(this)}}else this.add(e)},addBefore:function(e,t){this.assert(this.__children.indexOf(t)>=0);var i=e.getParent();i&&i.remove(e);this.addAt(e,this.__children.indexOf(t))},addAfter:function(e,t){this.assert(this.__children.indexOf(t)>=0);var i=e.getParent();i&&i.remove(e);this.addAt(e,this.__children.indexOf(t)+1)},addAtBegin:function(e){this.addAt(e,0)},remove:function(e){for(var t=0,i=arguments.length;t<i;t++){var n=arguments[t];if(-1==this.__children.indexOf(n)){this.warn("Cannot remove treeitem '"+n+"'. It is not a child of this tree item.");return}var s=this.getChildrenContainer();if(n.hasChildrenContainer()){var r=n.getChildrenContainer();s.getChildren().indexOf(r)>=0&&s.remove(r)}qx.lang.Array.remove(this.__children,n);n.setParent(null);s.remove(n)}var o=this.getTree();o&&o.fireNonBubblingEvent("removeItem",qx.event.type.Data,[n]);qx.ui.core.queue.Widget.add(this)},removeAt:function(e){var t=this.__children[e];t&&this.remove(t)},removeAll:function(){for(var e=this.__children.concat(),t=this.__children.length-1;t>=0;t--)this.remove(this.__children[t]);return e}},destruct:function(){this._disposeArray("__children");this._disposeObjects("__childrenContainer")}});qx.ui.tree.core.AbstractTreeItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.tree.core.AbstractTreeItem":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.TreeFolder",{extend:qx.ui.tree.core.AbstractTreeItem,properties:{appearance:{refine:!0,init:"tree-folder"}},members:{_addWidgets:function(){this.addSpacer();this.addOpenButton();this.addIcon();this.addLabel()}}});qx.ui.tree.TreeFolder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Image":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.core.FolderOpenButton",{extend:qx.ui.basic.Image,include:qx.ui.core.MExecutable,construct:function(){qx.ui.basic.Image.constructor.call(this);this.initOpen();this.addListener("tap",this._onTap);this.addListener("pointerdown",this._stopPropagation,this);this.addListener("pointerup",this._stopPropagation,this)},properties:{open:{check:"Boolean",init:!1,event:"changeOpen",apply:"_applyOpen"}},members:{_applyOpen:function(e,t){e?this.addState("opened"):this.removeState("opened");this.execute()},_stopPropagation:function(e){e.stopPropagation()},_onTap:function(e){this.toggleOpen();e.stopPropagation()}}});qx.ui.tree.core.FolderOpenButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.marshal.Json":{},"qx.lang.String":{},"qx.locale.Manager":{},"qx.core.Object":{},"qx.data.marshal.MEventBubbling":{},"qx.data.Array":{},"qx.util.OOUtil":{},"qx.core.ValidationError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.marshal.Json",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__marshaler:null,__data:null,__propertyNames:null,setUp:function(){this.__marshaler=new qx.data.marshal.Json;this.__data={s:"String",n:12,b:!0};this.__propertyNames=["s","n","b"]},tearDown:function(){this.__marshaler.dispose();qx.data.model={};for(var e in qx.Class.$$registry)-1!=e.search("qx.data.model")&&delete qx.Class.$$registry[e]},test$$member:function(){this.__marshaler.toClass({$$a:"b"});this.assertTrue(qx.Class.isDefined("qx.data.model.$$a"),"Class not created.");var e=qx.Class.getByName("qx.data.model.$$a");for(var t in e.$$properties){this.assertEquals("$$a",t,"Property $$a does have the wrong name.");this.assertEquals("change"+qx.lang.String.firstUp("$$a"),e.$$properties[t].event,"event has a wrong name.")}qx.Class.undefine("qx.data.model.$$a")},testLocalizedString:function(){var e=qx.locale.Manager.tr("test one"),t={a:e};this.__marshaler.toClass(t);var i=this.__marshaler.toModel(t);this.assertEquals(e,i.getA());i.dispose();qx.Class.undefine("qx.data.model.a")},testClassCreationSingle:function(){this.__marshaler.toClass(this.__data);this.assertTrue(qx.Class.isDefined("qx.data.model.b|n|s"),"Class not created.");var e=qx.Class.getByName("qx.data.model.b|n|s"),t=0;for(var i in e.$$properties){this.assertEquals(this.__propertyNames[t],i,"Property "+t+"does have the wrong name.");this.assertEquals("change"+qx.lang.String.firstUp(this.__propertyNames[t]),e.$$properties[i].event,"event has a wrong name.");t++}},testClassCreationArray:function(){this.__data={a:["a","b","c"]};this.__marshaler.toClass(this.__data);this.assertTrue(qx.Class.isDefined("qx.data.model.a"),"Class not created.");var e=qx.Class.getByName("qx.data.model.a");this.assertNotNull(e.$$properties.a,"Property does not exist.")},testClassCreationObject:function(){this.__data={a:{b:"test"}};this.__marshaler.toClass(this.__data);this.assertTrue(qx.Class.isDefined("qx.data.model.a"),"Class not created.");this.assertTrue(qx.Class.isDefined("qx.data.model.b"),"Class not created.");var e=qx.Class.getByName("qx.data.model.a"),t=qx.Class.getByName("qx.data.model.b");this.assertNotNull(e.$$properties.a,"Property does not exist.");this.assertNotNull(t.$$properties.b,"Property does not exist.")},testClassCreationArrayWithObject:function(){this.__data={a:[{b:"test"},{b:"test"}]};this.__marshaler.toClass(this.__data);this.assertTrue(qx.Class.isDefined("qx.data.model.a"),"Class not created.");this.assertTrue(qx.Class.isDefined("qx.data.model.b"),"Class not created.");var e=qx.Class.getByName("qx.data.model.a"),t=qx.Class.getByName("qx.data.model.b");this.assertNotNull(e.$$properties.a,"Property does not exist.");this.assertNotNull(t.$$properties.b,"Property does not exist.")},testClassCreationAllSmoke:function(){this.__data={a:[{b:"test",c:["f","x","e"]},{b:"test",affe:!1}],t:{f:null,r:152,q:!0}};this.__marshaler.toClass(this.__data)},testModelWithNumber:function(){this.__data={a:10,b:-15,c:105e9};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals(10,e.getA(),"getA does not work.");this.assertEquals(-15,e.getB(),"getB does not work.");this.assertEquals(105e9,e.getC(),"getC does not work.");e.dispose()},testModelWithBoolean:function(){this.__data={a:!0,b:!1};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals(!0,e.getA(),"getA does not work.");this.assertEquals(!1,e.getB(),"getB does not work.");e.dispose()},testModelWithString:function(){this.__data={a:"affe",b:"AFFE"};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals("affe",e.getA(),"getA does not work.");this.assertEquals("AFFE",e.getB(),"getB does not work.");e.dispose()},testModelWithPrimitive:function(){this.__data={a:"affe",b:!0,c:156};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals("affe",e.getA(),"getA does not work.");this.assertEquals(!0,e.getB(),"getB does not work.");this.assertEquals(156,e.getC(),"getC does not work.");e.dispose()},testModelWithArrayPrimitive:function(){this.__data={a:["affe","affen","AFFE"]};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data),t=e.getA();this.assertNotNull(t,"Nothing stored in the property a.");this.assertEquals("qx.data.Array",t.classname,"Its not an data array.");this.assertEquals("affe",t.getItem(0),"Item 0 is wrong");this.assertEquals("affen",t.getItem(1),"Item 1 is wrong");this.assertEquals("AFFE",t.getItem(2),"Item 2 is wrong");e.dispose()},testModelWithArrayArray:function(){this.__data={a:[[!0,!1],[10,15]]};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data),t=e.getA();this.assertNotNull(t,"Nothing stored in the property a.");this.assertEquals("qx.data.Array",t.classname,"Its not an data array.");var i=t.getItem(0);this.assertEquals("qx.data.Array",i.classname,"Its not an data array.");this.assertEquals(!0,i.getItem(0),"Item 0 is wrong");this.assertEquals(!1,i.getItem(1),"Item 1 is wrong");var n=t.getItem(1);this.assertEquals("qx.data.Array",n.classname,"Its not an data array.");this.assertEquals(10,n.getItem(0),"Item 0 is wrong");this.assertEquals(15,n.getItem(1),"Item 1 is wrong");e.dispose()},testModelWithObjectPrimitive:function(){this.__data={a:{b:!0,bb:!1},aa:{c:15,cc:-89}};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data),t=e.getA();this.assertNotNull(t,"Nothing stored in the property a.");this.assertEquals(!0,t.getB(),"b is not set");this.assertEquals(!1,t.getBb(),"bb is not set");var i=e.getAa();this.assertNotNull(i,"Nothing stored in the property a.");this.assertEquals(15,i.getC(),"c is not set");this.assertEquals(-89,i.getCc(),"cc is not set");e.dispose()},testModelWithObjectArray:function(){this.__data={a:{b:["affe","AFFE"]}};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data),t=e.getA();this.assertNotNull(t,"Nothing stored in the property a.");var i=t.getB();this.assertNotNull(i,"Nothing stored in the property b.");this.assertEquals("qx.data.Array",i.classname,"b is not an data array");this.assertEquals("affe",i.getItem(0),"Item 0 is wrong.");this.assertEquals("AFFE",i.getItem(1),"Item 1 is wrong.");e.dispose()},testModelWithArrayObject:function(){this.__data={a:[{a:15},{a:!0}]};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data),t=e.getA();this.assertNotNull(t,"Nothing stored in the property a.");this.assertEquals("qx.data.Array",t.classname,"b is not an data array");this.assertEquals(15,t.getItem(0).getA(),"Item 0 is wrong.");this.assertEquals(!0,t.getItem(1).getA(),"Item 1 is wrong.");this.assertEquals(e.classname,t.getItem(0).classname,"Differen classes");this.assertEquals(e.classname,t.getItem(1).classname,"Differen classes");this.assertEquals(t.getItem(0).classname,t.getItem(1).classname,"Differen classes");e.dispose()},testModelWithObjectObject:function(){this.__data={a:{a:{a:"affe"}}};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals("affe",e.getA().getA().getA(),"No affe is there!");e.dispose()},testModelWithAllSmoke:function(){this.__data={a:[{aa:["affe"],ab:!1,ac:[]},{},!0,15,"affe"],b:"Affe",c:{ca:156,cb:[null,null],cc:!0}};this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertNotNull(e,"No model set.");e.dispose()},testBubbleEventsDepth1:function(){this.__data={a:10,b:-15,c:105e9};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.setA(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals(10,i.getData().old,"Not the right old value in the event.");t.assertEquals("a",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e,i.getData().item,"Not the right item in the event.")},"Change event not fired!");this.assertEventFired(e,"changeBubble",function(){e.setB(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals(-15,i.getData().old,"Not the right old value in the event.");t.assertEquals("b",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e,i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsDepth2:function(){this.__data={a:{b:10,c:20}};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().setB(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals(10,i.getData().old,"Not the right old value in the event.");t.assertEquals("a.b",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.getA().dispose();this.assertEventFired(e,"changeBubble",function(){e.setA(!0)},function(i){t.assertEquals(!0,i.getData().value,"Not the right value in the event.");t.assertEquals("a",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e,i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsDepth3:function(){this.__data={a:{b:{c:10}}};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().getB().setC(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals(10,i.getData().old,"Not the right old value in the event.");t.assertEquals("a.b.c",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA().getB(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayDepth1:function(){this.__data={a:[12,23,34]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().setItem(0,1)},function(i){t.assertEquals(1,i.getData().value,"Not the right value in the event.");t.assertEquals("a[0]",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayDepth2:function(){this.__data={a:[{b:10},{b:11}]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().getItem(0).setB(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals("a[0].b",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA().getItem(0),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayDepthAlot:function(){this.__data={a:[[[[{b:10}]]]]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().getItem(0).getItem(0).getItem(0).getItem(0).setB(0)},function(i){t.assertEquals(0,i.getData().value,"Not the right value in the event.");t.assertEquals("a[0][0][0][0].b",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA().getItem(0).getItem(0).getItem(0).getItem(0),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayDepthAlotMix:function(){this.__data={a:[{b:[[{c:{d:[0,1]}}]]}]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().getItem(0).getB().getItem(0).getItem(0).getC().getD().setItem(1,12)},function(i){t.assertEquals(12,i.getData().value,"Not the right value in the event.");t.assertEquals("a[0].b[0][0].c.d[1]",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA().getItem(0).getB().getItem(0).getItem(0).getC().getD(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayLong:function(){this.__data={a:[0,1,2,3,4,5,6,7,8,9,10]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data),t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().setItem(10,"AFFE")},function(i){t.assertEquals("AFFE",i.getData().value,"Not the right value in the event.");t.assertEquals("a[10]",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsArrayReorder:function(){this.__data={a:[11,1,2,3,4,5,6,7,8,9,10]};this.__marshaler.toClass(this.__data,!0);var e=this.__marshaler.toModel(this.__data);e.getA().sort();var t=this;this.assertEventFired(e,"changeBubble",function(){e.getA().setItem(0,"AFFE")},function(i){t.assertEquals("AFFE",i.getData().value,"Not the right value in the event.");t.assertEquals("a[0]",i.getData().name,"Not the right name in the event.");t.assertString(i.getData().name,"name is not a String.");t.assertEquals(e.getA(),i.getData().item,"Not the right item in the event.")},"Change event not fired!");e.dispose()},testBubbleEventsWithRemove:function(){qx.Class.define("qx.Test",{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,properties:{fonts:{event:"changeFonts",check:"qx.data.Array",apply:"_applyEventPropagation"}}});var e=new qx.Test,t=new qx.data.Array;e.setFonts(t);e.getFonts().push("one","two","three");e.addListener("changeBubble",function(e){this.assertEquals("fonts[0-2]",e.getData().name,"Wrong name");this.assertString(e.getData().name,"name is not a String.");this.assertArrayEquals(["one","two","three"],e.getData().old,"Wrong old data");this.assertEquals(0,e.getData().value.length,"Wrong data")},this);e.getFonts().removeAll();this.assertEquals(0,e.getFonts().length,"The remove did not work.");t.dispose();e.dispose()},"test model with and without bubble":function(){var e={pi:1},t=qx.data.marshal.Json.createModel(e,!1),i=qx.data.marshal.Json.createModel(e),n=qx.data.marshal.Json.createModel(e,!0),s=qx.data.marshal.Json.createModel(e,!1);this.assertFalse(qx.util.OOUtil.supportsEvent(t,"changeBubble"));this.assertFalse(qx.util.OOUtil.supportsEvent(i,"changeBubble"));this.assertTrue(qx.util.OOUtil.supportsEvent(n,"changeBubble"));this.assertTrue(qx.util.OOUtil.supportsEvent(s,"changeBubble"));[n,s].forEach(function(e){this.assertEventFired(e,"changeBubble",function(){e.setPi(0)},function(t){var i=t.getData();this.assertEquals(0,i.value,"Not the right value in the event.");this.assertEquals(1,i.old,"Not the right old value in the event.");this.assertEquals("pi",i.name,"Not the right name in the event.");this.assertEquals(e,i.item,"Not the right item in the event.")}.bind(this),"Change event not fired!")},this)},"test toClass() toModel() match/mismatch":function(){var e={foo:"foo",bar:"bar"},t=new qx.data.marshal.Json;t.toClass(e,!1);this.assertException(function(){t.toModel(e,!0)},Error,"Class 'qx.data.model.bar|foo' found, but it does not support changeBubble event.");t.toClass(e,!0);t.toModel(e,!1);var i={foo2:"foo",bar2:"bar"};t.toClass(i);t.toModel(i);t.toModel(i,!1);this.assertException(function(){t.toModel(i,!0)},Error,"Class 'qx.data.model.bar2|foo2' found, but it does not support changeBubble event.")},testAddValidationRule:function(){var e,t=function(e){if(e<10)throw new qx.core.ValidationError("NNN")},i=function(e){if(e.length>10)throw new qx.core.ValidationError("SSS")},n={getValidationRule:function(n,s){if("n"==s)return t;if("s"==s)return i;e=n}};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(n);this.__marshaler.toClass(this.__data);var s=this.__marshaler.toModel(this.__data);this.assertEquals("b|n|s",e);s.setS("123456789");s.setN(20);this.assertException(function(){s.setS("01234567890123456789")},qx.core.ValidationError);this.assertException(function(){s.setN(1)},qx.core.ValidationError);s.dispose()},testCustomValidator:function(){var e={getJsonHash:function(e,t){return Object.keys(e).sort().map(function(e){return qx.lang.String.firstUp(e)}).join("")+(!0===t?"#":"")}};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(e);this.__marshaler.toClass({custom:1,props:!0});this.assertTrue(qx.Class.isDefined("qx.data.model.CustomProps"),"Class not created.")},testQooxdooObject:function(){var e=new qx.core.Object;this.__data={a:{b:e}};this.__marshaler.toClass(this.__data);var t=this.__marshaler.toModel(this.__data);this.assertEquals(e,t.getA().getB(),"wrong qx object!");t.dispose()},testDisposeListModel:function(){var e=qx.data.marshal.Json.createModel([{name:"a"}]),t=e.getItem(0);e.dispose();this.assertTrue(t.isDisposed())},testValidIdentifier:function(){var e={"#affe":1};this.assertException(function(){qx.data.marshal.Json.createModel(e).dispose()},null,"The key '#affe' is not a valid JavaScript identifier.","1");e={1:1,true:!1};qx.data.marshal.Json.createModel(e).dispose();e={"''''":1};this.assertException(function(){qx.data.marshal.Json.createModel(e).dispose()},null,"The key '''''' is not a valid JavaScript identifier.","3");e={"§AFFE":1};this.assertException(function(){qx.data.marshal.Json.createModel(e).dispose()},null,"The key '§AFFE' is not a valid JavaScript identifier.","4");e={"ja!":1};this.assertException(function(){qx.data.marshal.Json.createModel(e).dispose()},null,"The key 'ja!' is not a valid JavaScript identifier.","5")},testGetModelClass:function(){qx.Class.define("qx.test.model.C",{extend:qx.core.Object,properties:{s:{event:"s"},b:{event:"b"},n:{event:"n"}}});var e=this,t={getModelClass:function(t){e.assertEquals("b|n|s",t);return qx.test.model.C}};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass(this.__data);var i=this.__marshaler.toModel(this.__data);this.assertTrue(i instanceof qx.test.model.C);this.assertEquals("String",i.getS());this.assertEquals(12,i.getN());this.assertTrue(i.getB());i.dispose();qx.Class.undefine("qx.test.model.C")},testGetModelClassDepth:function(){var e=0,t={getModelClass:function(t,n,s,r){e++;if("a"==t){this.assertEquals(i,n);this.assertNull(s);this.assertEquals(0,r)}else if("b"==t){this.assertEquals(i.a,n);this.assertEquals("a",s);this.assertEquals(1,r)}else if("c"==t){this.assertEquals(i.a.b[0],n);this.assertEquals("b[0]",s);this.assertEquals(3,r)}else this.fail("Unknown property in the marshaler.")}.bind(this)};this.__marshaler.dispose();var i={a:{b:[{c:1}]}};this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass(i);this.assertEquals(3,e);var n=this.__marshaler.toModel(i);this.assertEquals(6,e);n.dispose()},testGetModelClassIgnore:function(){qx.Class.define("qx.test.model.C",{extend:qx.core.Object,properties:{b:{event:"b"}}});var e=this,t={getModelClass:function(t){e.assertEquals("b|n|s",t);return qx.test.model.C}};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass(this.__data);var i=this.__marshaler.toModel(this.__data);this.assertTrue(i instanceof qx.test.model.C);this.assertUndefined(i.getS);this.assertUndefined(i.getN);this.assertTrue(i.getB());i.dispose();qx.Class.undefine("qx.test.model.C")},testGetModelSuperClass:function(){var e=0,t={getModelSuperClass:function(t,i,n){e++;if("a"==t){this.assertNull(i);this.assertEquals(0,n)}else if("b"==t){this.assertEquals("a",i);this.assertEquals(1,n)}else if("c"==t){this.assertEquals("b[0]",i);this.assertEquals(3,n)}else this.fail("Unknown property in the marshaler.")}.bind(this)};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass({a:{b:[{c:1}]}});this.assertEquals(3,e)},testGetModelMixins:function(){var e=0,t={getModelMixins:function(t,i,n){e++;if("a"==t){this.assertNull(i);this.assertEquals(0,n)}else if("b"==t){this.assertEquals("a",i);this.assertEquals(1,n)}else if("c"==t){this.assertEquals("b[0]",i);this.assertEquals(3,n)}else this.fail("Unknown property in the marshaler.")}.bind(this)};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass({a:{b:[{c:1}]}});this.assertEquals(3,e)},testGetPropertyMapping:function(){this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json({getPropertyMapping:function(e,t){return e+e+e}});this.__marshaler.toClass(this.__data);var e=this.__marshaler.toModel(this.__data);this.assertEquals("String",e.getSss());this.assertEquals(12,e.getNnn());this.assertTrue(e.getBbb());e.dispose()},testIgnoreParent:function(){var e=0,t={ignore:function(t,i,n){e++;if("a"==t){this.assertNull(i);this.assertEquals(0,n)}else if("b"==t){this.assertEquals("a",i);this.assertEquals(1,n)}else if("c"==t){this.assertEquals("b[0]",i);this.assertEquals(3,n)}else this.fail("Unknown property in the marshaler.")}.bind(this)};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);this.__marshaler.toClass({a:{b:[{c:1}]}});this.assertEquals(3,e)},testIgnoreDepth:function(){this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json({ignore:function(e,t,i){return i>=1}});var e={a:[0],b:{x:1},c:{y:2}};this.__marshaler.toClass(e);var t=this.__marshaler.toModel(e);this.assertEquals(0,t.getA()[0]);this.assertEquals(1,t.getB().x);this.assertEquals(2,t.getC().y);t.dispose()},testIgnoreProperties:function(){this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json({ignore:function(e,t,i){return"x"==e}});var e={a:[],b:{x:1},c:{y:2}};this.__marshaler.toClass(e);var t=this.__marshaler.toModel(e);this.assertInstance(t.getA(),qx.data.Array);this.assertEquals(1,t.getB().x);this.assertInstance(t.getC(),qx.core.Object);this.assertEquals(2,t.getC().getY());t.dispose()},testBubbleSpliceRemoveAndAdd:function(){var e=qx.data.marshal.Json.createModel([{label:"Desktop"}],!0),t=this.spy();e.addListener("changeBubble",t);e.splice(1,1,e.getItem(0));this.assertCalledOnce(t);e.getItem(0).setLabel("pistole");this.assertCalledTwice(t)},testGetArrayClassSimple:function(){qx.Class.define("qx.test.Array",{extend:qx.data.Array});var e={getArrayClass:function(e,t){this.assertNull(e);this.assertEquals(0,t,"'depth' property is wrong");return qx.test.Array}.bind(this)};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(e);var t=["a","b"];this.__marshaler.toClass(t);var i=this.__marshaler.toModel(t);this.assertInstance(i,qx.test.Array);i.dispose();qx.Class.undefine("qx.test.Array")},testGetArrayClassAdvanced:function(){qx.Class.define("qx.test.Array",{extend:qx.data.Array});var e=0,t={getArrayClass:function(t,i){e++;if("a"==t){this.assertEquals(1,i,"'depth' property is wrong");return null}if("b"==t){this.assertEquals(1,i,"'depth' property is wrong");return qx.test.Array}if("e"==t){this.assertEquals(2,i,"'depth' property is wrong");return qx.test.Array}if("f"==t){this.assertEquals(2,i,"'depth' property is wrong");return null}this.fail("Unknown 'parentProperty' in the marshaler.")}.bind(this)};this.__marshaler.dispose();this.__marshaler=new qx.data.marshal.Json(t);var i={a:[],b:[],c:{d:"d",e:[],f:[]}};this.__marshaler.toClass(i);var n=this.__marshaler.toModel(i);this.assertInstance(n.getA(),qx.data.Array);this.assertInstance(n.getB(),qx.test.Array);this.assertInstance(n.getC().getE(),qx.test.Array);this.assertInstance(n.getC().getF(),qx.data.Array);this.assertEquals(4,e);n.dispose();qx.Class.undefine("qx.test.Array")}}});qx.test.data.marshal.Json.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.core.Object":{},"qx.data.Array":{construct:!0},"qx.test.data.singlevalue.TextFieldDummy":{},"qx.data.SingleValueBinding":{},"qx.log.Logger":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.singlevalue.Array",{extend:qx.dev.unit.TestCase,construct:function(){qx.dev.unit.TestCase.constructor.call(this);qx.Class.define("qx.test.data.singlevalue.Array_MultiBinding",{extend:qx.core.Object,construct:function(){this.setArray(new qx.data.Array(["one","two","three"]))},destruct:function(){this.getArray().dispose();var e=this.getChildren();null!=e&&e.dispose()},properties:{child:{check:"qx.test.data.singlevalue.Array_MultiBinding",event:"changeChild",nullable:!0},children:{check:"qx.data.Array",event:"changeChildren",nullable:!0,init:null},name:{check:"String",event:"changeName",nullable:!0},array:{init:null,event:"changeArray"}}})},members:{__a:null,__b1:null,__b2:null,__label:null,setUp:function(){this.__a=(new qx.test.data.singlevalue.Array_MultiBinding).set({name:"a",children:new qx.data.Array});this.__b1=(new qx.test.data.singlevalue.Array_MultiBinding).set({name:"b1",children:new qx.data.Array});this.__b2=(new qx.test.data.singlevalue.Array_MultiBinding).set({name:"b2",children:new qx.data.Array});this.__label=new qx.test.data.singlevalue.TextFieldDummy;qx.data.SingleValueBinding.removeAllBindings()},tearDown:function(){this.__b1.dispose();this.__b2.dispose();this.__a.dispose();this.__label.dispose()},testChangeItem:function(){qx.data.SingleValueBinding.bind(this.__a,"array[0]",this.__label,"value");this.assertEquals("one",this.__label.getValue(),"Array[0] binding does not work!");this.__a.getArray().setItem(0,"ONE");this.assertEquals("ONE",this.__label.getValue(),"Array[0] binding does not work!")},testChangeArray:function(){qx.data.SingleValueBinding.bind(this.__a,"array[0]",this.__label,"value");this.__a.getArray().dispose();this.__a.setArray(new qx.data.Array(1,2,3));qx.log.Logger.debug(this.__a.getArray().getItem(0));this.assertEquals("1",this.__label.getValue(),"Changing the array does not work!")},testLast:function(){qx.data.SingleValueBinding.bind(this.__a,"array[last]",this.__label,"value");this.assertEquals("three",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().setItem(2,"THREE");this.assertEquals("THREE",this.__label.getValue(),"Array[last] binding does not work!")},testPushPop:function(){qx.data.SingleValueBinding.bind(this.__a,"array[last]",this.__label,"value");this.assertEquals("three",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().pop();this.assertEquals("two",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().push("new");this.assertEquals("new",this.__label.getValue(),"Array[last] binding does not work!")},testShiftUnshift:function(){qx.data.SingleValueBinding.bind(this.__a,"array[0]",this.__label,"value");this.assertEquals("one",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().shift();this.assertEquals("two",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().unshift("new");this.assertEquals("new",this.__label.getValue(),"Array[last] binding does not work!")},testChildArray:function(){this.__a.setChild(this.__b1);this.__b1.getArray().dispose();this.__b1.setArray(new qx.data.Array("eins","zwei","drei"));this.__b2.getArray().dispose();this.__b2.setArray(new qx.data.Array("1","2","3"));qx.data.SingleValueBinding.bind(this.__a,"child.array[0]",this.__label,"value");this.assertEquals("eins",this.__label.getValue(),"child.array[0] binding does not work!");this.__a.setChild(this.__b2);this.assertEquals("1",this.__label.getValue(),"child.array[0] binding does not work!");this.__b1.getArray().dispose();this.__b2.getArray().dispose()},testChildren:function(){this.__a.getChildren().push(this.__b1);this.__a.getChildren().push(this.__b2);qx.data.SingleValueBinding.bind(this.__a,"children[0].name",this.__label,"value");this.assertEquals("b1",this.__label.getValue(),"children[0].name binding does not work!");this.__a.getChildren().shift();this.assertEquals("b2",this.__label.getValue(),"children[0].name binding does not work!");this.__b2.setName("AFFE");this.assertEquals("AFFE",this.__label.getValue(),"children[0].name binding does not work!")},test2Arrays:function(){this.__a.getChildren().push(this.__b1);this.__b1.getChildren().push(this.__b2);qx.data.SingleValueBinding.bind(this.__a,"children[0].children[0].name",this.__label,"value");this.assertEquals("b2",this.__label.getValue(),"children[0].children[0].name binding does not work!");this.__b2.setName("OHJE");this.assertEquals("OHJE",this.__label.getValue(),"children[0].name binding does not work!")},testSplice:function(){qx.data.SingleValueBinding.bind(this.__a,"array[0]",this.__label,"value");var e=this.__a.getArray().splice(0,1,"eins");this.assertEquals("eins",this.__label.getValue(),"Array[last] binding does not work!");e.dispose()},testWrongInput:function(){var e=this.__a,t=this.__label;this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[affe]",t,"value")},Error,null,"Affe not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[]",t,"value")},Error,null,"'' not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[0][0]",t,"value")},Error,null,"array[][] not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[1.5]",t,"value")},Error,null,"1.5 not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[[affe]]",t,"value")},Error,null,"'[[affe]]' not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[{name: 'a'}]",t,"value")},Error,null,"'[affe]' not an array value.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"array[null]",t,"value")},Error,null,"'null' not an array value.")},testLateBinding:function(){this.__a.getArray().dispose();this.__a.setArray(new qx.data.Array);qx.data.SingleValueBinding.bind(this.__a,"array[last]",this.__label,"value");this.assertNull(this.__label.getValue(),"Late binding does not work!");this.__a.getArray().push("1");this.assertEquals("1",this.__label.getValue(),"Late binding does not work!");this.__a.getArray().push("2");this.assertEquals("2",this.__label.getValue(),"Late binding does not work!")},testRemoveArrayItem:function(){qx.data.SingleValueBinding.bind(this.__a,"array[last]",this.__label,"value");this.assertEquals("three",this.__label.getValue(),"Array[last] binding does not work!");this.__a.getArray().pop();this.__a.getArray().pop();this.__a.getArray().pop();this.assertNull(this.__label.getValue(),"Array[last] binding does not work!")},testBidirectional:function(){var e=new qx.test.data.singlevalue.Array_MultiBinding;e.setChild(new qx.test.data.singlevalue.Array_MultiBinding);e.bind("name",e,"child.array[0]");e.bind("child.array[0]",e,"name");e.setName("affe");this.assertEquals("affe",e.getChild().getArray().getItem(0),"affe not set in the model array.");e.getChild().getArray().setItem(0,"stadtaffe");this.assertEquals("stadtaffe",e.getName(),"stadtaffe not set in the model.");e.setName(null);this.assertEquals(null,e.getChild().getArray().getItem(0),"model array not reseted to initial.");e.getChild().getArray().setItem(0,null);this.assertEquals(null,e.getName(),"model not reseted.");e.getChild().dispose();e.dispose()},testDirect:function(){qx.data.SingleValueBinding.bind(this.__a.getArray(),"[0]",this.__label,"value");this.assertEquals("one",this.__label.getValue(),"[0] binding does not work!");this.__a.getArray().setItem(0,"ONE");this.assertEquals("ONE",this.__label.getValue(),"[0] binding does not work!")},testDirectTarget:function(){this.__label.setValue("affe");qx.data.SingleValueBinding.bind(this.__label,"value",this.__a.getArray(),"[0]");this.assertEquals("affe",this.__a.getArray().getItem(0),"[0] binding does not work!");this.__label.setValue("AFFE");this.assertEquals("AFFE",this.__a.getArray().getItem(0),"[0] binding does not work!")},testChildrenDirect:function(){this.__a.getChildren().push(this.__b1);this.__a.getChildren().push(this.__b2);qx.data.SingleValueBinding.bind(this.__a.getChildren(),"[0].name",this.__label,"value");this.assertEquals("b1",this.__label.getValue(),"[0].name binding does not work!");this.__a.getChildren().shift();this.assertEquals("b2",this.__label.getValue(),"[0].name binding does not work!");this.__b2.setName("AFFE");this.assertEquals("AFFE",this.__label.getValue(),"[0].name binding does not work!")},testTargetChildren:function(){this.__a.getChildren().push(this.__b1);this.__a.getChildren().push(this.__b2);this.__label.setValue("l");qx.data.SingleValueBinding.bind(this.__label,"value",this.__a.getChildren(),"[0].name");this.assertEquals("l",this.__a.getChildren().getItem(0).getName(),"[0].name binding does not work!");this.__a.getChildren().shift();this.assertEquals("l",this.__a.getChildren().getItem(0).getName(),"[0].name binding does not work!")}}});qx.test.data.singlevalue.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.singlevalue.TextFieldDummy",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);null!=e&&this.setValue(e)},properties:{appearance:{check:"String",event:"changeAppearance",init:""},enabled:{check:"Boolean",event:"changeEnabled",init:!0},zIndex:{check:"Integer",event:"changeZIndex",nullable:!0},floatt:{event:"changeFloatt"},value:{check:"String",event:"changeValue",nullable:!0},backgroundColor:{check:"String",event:"changeBackgroundColor",init:""}}});qx.test.data.singlevalue.TextFieldDummy.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.dev.unit.MMock":{require:!0},"qx.core.Object":{},"qx.test.data.singlevalue.TextFieldDummy":{},"qx.data.Array":{},"qx.data.SingleValueBinding":{},"qx.data.marshal.Json":{},"qx.core.AssertionError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.singlevalue.Deep",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],construct:function(){qx.dev.unit.TestCase.constructor.call(this);qx.Class.define("qx.test.MultiBinding",{extend:qx.core.Object,properties:{child:{check:"qx.test.MultiBinding",event:"changeChild",nullable:!0},childWithout:{check:"qx.test.MultiBinding",nullable:!0},name:{check:"String",nullable:!0,init:"Juhu",event:"changeName"},array:{init:null,event:"changeArray"},lab:{event:"changeLable"}},destruct:function(){this.getLab()&&this.getLab().dispose();this.getArray()&&this.getArray().dispose()}})},members:{__a:null,__b1:null,__b2:null,__label:null,setUp:function(){this.__a=(new qx.test.MultiBinding).set({name:"a",lab:new qx.test.data.singlevalue.TextFieldDummy(""),array:new qx.data.Array(["one","two","three"])});this.__b1=(new qx.test.MultiBinding).set({name:"b1",lab:new qx.test.data.singlevalue.TextFieldDummy(""),array:new qx.data.Array(["one","two","three"])});this.__b2=(new qx.test.MultiBinding).set({name:"b2",lab:new qx.test.data.singlevalue.TextFieldDummy(""),array:new qx.data.Array(["one","two","three"])});this.__label=new qx.test.data.singlevalue.TextFieldDummy;qx.data.SingleValueBinding.removeAllBindings()},tearDown:function(){this.__b1.dispose();this.__b2.dispose();this.__a.dispose();this.__label.dispose()},testConverterChainBroken:function(){var e=qx.data.marshal.Json.createModel({a:{a:1},b:2}),t=0;e.bind("a.a",e,"b",{converter:function(e){t++;return 3}});this.assertEquals(1,t);this.assertEquals(3,e.getB());e.getA().setA(null);this.assertEquals(2,t);this.assertEquals(3,e.getB());e.setA(null);this.assertEquals(3,t);this.assertEquals(3,e.getB());e.dispose()},testConverterChainBrokenInitialNull:function(){var e=qx.data.marshal.Json.createModel({a:null}),t=qx.data.marshal.Json.createModel({a:null}),i=this.spy(function(){return 123});e.bind("a.b",t,"a",{converter:i});this.assertCalledOnce(i);this.assertCalledWith(i,void 0,void 0,e,t);this.assertEquals(123,t.getA());e.dispose();t.dispose()},testDepthOf2:function(){this.__a.setChild(this.__b1);qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");this.__b1.setName("B1");this.assertEquals("B1",this.__label.getValue(),"Deep binding does not work with updating the first parameter.");this.__a.setChild(this.__b2);this.assertEquals("b2",this.__label.getValue(),"Deep binding does not work with updating the first parameter.");this.__a.setChild(null);this.assertNull(this.__label.getValue(),"Binding does not work with null.")},testDepthOf3:function(e){var t=(new qx.test.MultiBinding).set({name:"c1"}),i=(new qx.test.MultiBinding).set({name:"c2"});this.__a.setChild(this.__b1);this.__b1.setChild(t);this.__b2.setChild(i);qx.data.SingleValueBinding.bind(this.__a,"child.child.name",this.__label,"value");t.setName("C1");this.assertEquals("C1",this.__label.getValue(),"Deep binding does not work with updating the third parameter.");this.__a.setChild(this.__b2);this.assertEquals("c2",this.__label.getValue(),"Deep binding does not work with updating the second parameter.");this.__a.setChild(null);this.assertNull(this.__label.getValue(),"Deep binding does not work with first null child.");this.__b1.setChild(null);this.__a.setChild(this.__b1);this.assertNull(this.__label.getValue(),"Deep binding does not work with second null child.");this.__b1.setChild(t);this.assertEquals("C1",this.__label.getValue(),"Deep binding does not work with updating the third parameter.")},testDepthOf5:function(e){var t=(new qx.test.MultiBinding).set({name:"c"}),i=(new qx.test.MultiBinding).set({name:"d"}),n=(new qx.test.MultiBinding).set({name:"e"});this.__a.setChild(this.__b1);this.__b1.setChild(t);t.setChild(i);i.setChild(n);qx.data.SingleValueBinding.bind(this.__a,"child.child.child.child.name",this.__label,"value");this.assertEquals("e",this.__label.getValue(),"Deep binding does not work with updating the third parameter.")},testWrongDeep:function(){this.__a.setChild(this.__b1);var e=this.__a,t=this.__label;this.assertException(function(){qx.data.SingleValueBinding.bind(e,"chiild.name",t,"value")},qx.core.AssertionError,null,"Wrong property name.");this.assertException(function(){qx.data.SingleValueBinding.bind(e,"affe",t,"value")},qx.core.AssertionError,null,"Wrong property name.")},testSingle:function(){qx.data.SingleValueBinding.bind(this.__a,"name",this.__label,"value");this.assertEquals("a",this.__label.getValue(),"Single property names don't work!");this.__a.setName("A");this.assertEquals("A",this.__label.getValue(),"Single property names don't work!")},testDebug:function(e){this.__a.setChild(this.__b1);var t=qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");qx.data.SingleValueBinding.showBindingInLog(this.__a,t)},testRemove:function(){this.__a.setChild(this.__b1);var e=qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");this.__b1.setName("A");this.assertEquals("A",this.__label.getValue(),"Single property names don't work!");qx.data.SingleValueBinding.removeBindingFromObject(this.__a,e);this.__a.setName("A2");this.assertEquals("A",this.__label.getValue(),"Removing does not work!");qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");qx.data.SingleValueBinding.bind(this.__a,"child.name",this.__label,"value");qx.data.SingleValueBinding.removeAllBindings()},testArrayDeep:function(){this.__a.getArray().dispose();this.__a.setArray(new qx.data.Array([this.__b1]));this.__b1.setChild(this.__b2);this.__b2.setChild(this.__b1);qx.data.SingleValueBinding.bind(this.__a,"array[0].child.name",this.__label,"value");this.assertEquals("b2",this.__label.getValue(),"Deep binding does not work.");this.__a.getArray().pop();this.assertNull(this.__label.getValue(),"Deep binding does not work.");this.__a.getArray().push(this.__b2);this.assertEquals("b1",this.__label.getValue(),"Deep binding does not work.");this.__b1.setName("B1");this.assertEquals("B1",this.__label.getValue(),"Deep binding does not work.")},testDeepTarget:function(){qx.data.SingleValueBinding.bind(this.__a,"name",this.__b1,"lab.value");this.assertEquals("a",this.__b1.getLab().getValue(),"Deep binding on the target does not work.")},testDeepTarget2:function(){this.__b2.setChild(this.__b1);qx.data.SingleValueBinding.bind(this.__a,"name",this.__b2,"child.lab.value");this.assertEquals("a",this.__b1.getLab().getValue(),"Deep binding on the target does not work.")},testDeepTargetNull:function(){qx.data.SingleValueBinding.bind(this.__a,"name",this.__b2,"child.lab.value");this.assertEquals("",this.__b1.getLab().getValue(),"Deep binding on the target does not work.")},testDeepTargetArray:function(){this.__a.getArray().dispose();this.__a.setArray(new qx.data.Array([this.__b1]));qx.data.SingleValueBinding.bind(this.__a,"name",this.__a,"array[0].lab.value");this.assertEquals("a",this.__b1.getLab().getValue(),"Deep binding on the target does not work.")},testDeepTargetArrayLast:function(){this.__a.getArray().dispose();this.__a.setArray(new qx.data.Array([this.__b1]));qx.data.SingleValueBinding.bind(this.__a,"name",this.__a,"array[last].lab.value");this.assertEquals("a",this.__b1.getLab().getValue(),"Deep binding on the target does not work.")},testDeepTargetChange:function(){var e=this.__b1.getLab(),t=new qx.test.data.singlevalue.TextFieldDummy("x");qx.data.SingleValueBinding.bind(this.__a,"name",this.__b1,"lab.value");this.__b1.setLab(t);this.assertEquals("a",this.__b1.getLab().getValue());this.__a.setName("l");this.assertEquals("a",e.getValue());this.assertEquals("l",this.__b1.getLab().getValue());t.dispose();e.dispose()},testDeepTargetChangeConverter:function(){var e=this.__b1.getLab(),t=new qx.test.data.singlevalue.TextFieldDummy("x");qx.data.SingleValueBinding.bind(this.__a,"name",this.__b1,"lab.value",{converter:function(e){return e+"..."}});this.__b1.setLab(t);this.assertEquals("a...",this.__b1.getLab().getValue());this.__a.setName("l");this.assertEquals("a...",e.getValue());this.assertEquals("l...",this.__b1.getLab().getValue());t.dispose();e.dispose()},testDeepTargetChange3:function(){this.__a.setChild(this.__b1);this.__b1.setChild(this.__b2);this.__b2.setChild(this.__b1);qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"child.child.lab.value");this.__label.setValue("123");this.assertEquals("123",this.__b2.getLab().getValue());this.__a.setChild(this.__b2);this.assertEquals("123",this.__b1.getLab().getValue());this.__label.setValue("456");this.assertEquals("123",this.__b2.getLab().getValue());this.assertEquals("456",this.__b1.getLab().getValue())},testDeepTargetChange3Remove:function(){this.__a.setChild(this.__b1);this.__b1.setChild(this.__b2);this.__b2.setChild(this.__b1);var e=qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"child.child.lab.value");this.__label.setValue("123");this.assertEquals("123",this.__b2.getLab().getValue(),"0");qx.data.SingleValueBinding.removeBindingFromObject(this.__label,e);this.__a.setChild(this.__b2);this.assertEquals("",this.__b1.getLab().getValue(),"listener still there");this.__label.setValue("456");this.assertEquals("123",this.__b2.getLab().getValue(),"1");this.assertEquals("",this.__b1.getLab().getValue(),"2")},testDeepTargetChangeArray:function(){qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"array[0]");this.__label.setValue("123");this.assertEquals("123",this.__a.getArray().getItem(0));var e=new qx.data.Array([0,1,0]),t=this.__a.getArray();this.__a.setArray(e);this.assertEquals("123",this.__a.getArray().getItem(0),"initial set");this.__label.setValue("456");this.assertEquals("456",e.getItem(0));this.assertEquals("123",t.getItem(0));t.dispose();e.dispose()},testDeepTargetChangeArrayLast:function(){qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"array[last]");this.__label.setValue("123");this.assertEquals("123",this.__a.getArray().getItem(2));var e=new qx.data.Array([0,1,0]),t=this.__a.getArray();this.__a.setArray(e);this.assertEquals("123",this.__a.getArray().getItem(2),"initial set");this.__label.setValue("456");this.assertEquals("456",e.getItem(2));this.assertEquals("123",t.getItem(2));t.dispose();e.dispose()},testDeepTargetChange3Array:function(){this.__a.setChild(this.__b1);this.__b1.setChild(this.__b2);this.__b2.setChild(this.__b1);qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"child.child.array[0]");this.__label.setValue("123");this.assertEquals("123",this.__b2.getArray().getItem(0));this.__a.setChild(this.__b2);this.assertEquals("123",this.__b1.getArray().getItem(0));this.__label.setValue("456");this.assertEquals("456",this.__b1.getArray().getItem(0));this.assertEquals("123",this.__b2.getArray().getItem(0),"binding still exists")},testDeepTargetChangeMiddleArray:function(){var e=this.__a.getArray(),t=new qx.data.Array([this.__b1,this.__b2]);this.__a.setArray(t);e.dispose();qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"array[0].lab.value");this.__label.setValue("123");this.assertEquals("123",this.__b1.getLab().getValue());t.reverse();this.assertEquals("123",this.__b2.getLab().getValue());this.__label.setValue("456");this.assertEquals("456",this.__b2.getLab().getValue());this.assertEquals("123",this.__b1.getLab().getValue())},testDeepTargetChangeMiddleArrayLast:function(){var e=this.__a.getArray(),t=new qx.data.Array([this.__b2,this.__b1]);this.__a.setArray(t);e.dispose();qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"array[last].lab.value");this.__label.setValue("123");this.assertEquals("123",this.__b1.getLab().getValue());t.reverse();this.assertEquals("123",this.__b2.getLab().getValue());this.__label.setValue("456");this.assertEquals("456",this.__b2.getLab().getValue());this.assertEquals("123",this.__b1.getLab().getValue())},testDeepTargetChangeWithoutEvent:function(){this.__a.setChildWithout(this.__b1);qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"childWithout.name");this.__label.setValue("123");this.assertEquals("123",this.__b1.getName());this.__a.setChildWithout(this.__b2);this.assertEquals("b2",this.__b2.getName());this.__label.setValue("456");this.assertEquals("456",this.__b2.getName());this.assertEquals("123",this.__b1.getName())},testDeepTargetChangeWithoutEvent3:function(){this.__a.setChild(this.__b1);this.__b1.setChildWithout(this.__b2);this.__b2.setChildWithout(this.__b1);qx.data.SingleValueBinding.bind(this.__label,"value",this.__a,"child.childWithout.name");this.__label.setValue("123");this.assertEquals("123",this.__b2.getName());this.__a.setChild(this.__b2);this.assertEquals("123",this.__b1.getName());this.__b2.setChildWithout(this.__a);this.assertEquals("a",this.__a.getName());this.__label.setValue("456");this.assertEquals("456",this.__a.getName());this.assertEquals("123",this.__b1.getName())},testDeepTargetChange3ResetNotNull:function(){this.__a.setChild(this.__b1);this.__b1.setChild(this.__b2);this.__b2.setChild(this.__b1);this.__a.setName(null);qx.data.SingleValueBinding.bind(this.__a,"name",this.__a,"child.child.name");this.assertEquals(this.__a.getName(),this.__b2.getName());this.__a.setName("nnnnn");this.assertEquals(this.__a.getName(),this.__b2.getName());this.__a.setName(null);this.assertEquals(this.__a.getName(),this.__b2.getName())},testRemoveIncompleteBinding:function(){var e=qx.data.marshal.Json.createModel({a:null}),t=qx.data.marshal.Json.createModel({}),i=qx.data.marshal.Json.createModel({result:null});try{e.bind("a.b",i,"result");e.setA(t);e.removeAllBindings()}catch(e){this.error(e);this.assertTrue(!1,e.message)}(e=qx.data.marshal.Json.createModel({a:null})).setA(t);try{e.bind("a.b",i,"result");e.removeAllBindings()}catch(e){this.error(e);this.assertTrue(!1,e.message)}}}});qx.test.data.singlevalue.Deep.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.data.marshal.Json":{},"qx.data.SingleValueBinding":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.singlevalue.Resolve",{extend:qx.dev.unit.TestCase,members:{testResolveDepth1:function(){var e=qx.data.marshal.Json.createModel({a:12});this.assertEquals(12,qx.data.SingleValueBinding.resolvePropertyChain(e,"a"));e.dispose()},testResolveDepth2:function(){var e=qx.data.marshal.Json.createModel({a:{b:12}});this.assertEquals(12,qx.data.SingleValueBinding.resolvePropertyChain(e,"a.b"));e.dispose()},testResolveDepthHuge:function(){var e=qx.data.marshal.Json.createModel({a:{b:{c:{d:{e:{f:12}}}}}});this.assertEquals(12,qx.data.SingleValueBinding.resolvePropertyChain(e,"a.b.c.d.e.f"));e.dispose()},testResolveArrayIndex:function(){var e=new qx.data.Array([23]);this.assertEquals(23,qx.data.SingleValueBinding.resolvePropertyChain(e,"[0]"))},testResolveWithArray:function(){var e=qx.data.marshal.Json.createModel({a:{b:[{c:12}]}});this.assertEquals(12,qx.data.SingleValueBinding.resolvePropertyChain(e,"a.b[0].c"));e.dispose()},testResolveNestedArray:function(){var e=qx.data.marshal.Json.createModel({a:[[23]]});this.assertEquals(23,qx.data.SingleValueBinding.resolvePropertyChain(e,"a[0][0]"));e.dispose()},testResolveNotExistant:function(){var e=qx.data.marshal.Json.createModel({a:12});this.assertException(function(){this.assertEquals(12,qx.data.SingleValueBinding.resolvePropertyChain(e,"b"))});e.dispose()}}});qx.test.data.singlevalue.Resolve.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.test.data.singlevalue.TextFieldDummy":{},"qx.data.SingleValueBinding":{},"qx.core.AssertionError":{},"qx.core.Object":{},"qx.util.Validate":{},"qx.data.Conversion":{},"qx.lang.Type":{},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.singlevalue.Simple",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MRequirements,members:{__a:null,__b:null,setUp:function(){this.__a=new qx.test.data.singlevalue.TextFieldDummy;this.__b=new qx.test.data.singlevalue.TextFieldDummy},tearDown:function(){qx.data.SingleValueBinding.removeAllBindingsForObject(this.__a);qx.data.SingleValueBinding.removeAllBindingsForObject(this.__b);this.__a.dispose();this.__b.dispose()},testStringPropertyBinding:function(){qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");this.__a.setAppearance("affe");this.assertEquals("affe",this.__b.getAppearance(),"String binding does not work!");var e=new qx.test.data.singlevalue.TextFieldDummy;e.setAppearance("Jonny");qx.data.SingleValueBinding.bind(e,"appearance",this.__b,"appearance");this.assertEquals("Jonny",this.__b.getAppearance(),"String binding does not work!");qx.data.SingleValueBinding.removeAllBindingsForObject(e);e.dispose()},testBooleanPropertyBinding:function(){qx.data.SingleValueBinding.bind(this.__a,"enabled",this.__b,"enabled");this.__a.setEnabled(!1);this.assertFalse(this.__b.getEnabled(),"Boolean binding does not work!")},testNumberPropertyBinding:function(){qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex");this.__a.setZIndex(2456);this.assertEquals(2456,this.__b.getZIndex(),"Number binding does not work!")},testColorPropertyBinding:function(){qx.data.SingleValueBinding.bind(this.__a,"backgroundColor",this.__b,"backgroundColor");this.__a.setBackgroundColor("red");this.assertEquals("red",this.__b.getBackgroundColor(),"Color binding does not work!")},testWrongPropertyNames:function(){var e=this.__a,t=this.__b;this.assertException(function(){qx.data.SingleValueBinding.bind(e,"BacccccckgroundColor",t,"backgroundColor")},qx.core.AssertionError,null,"Not a wrong property name? (source)")},testWrongEventType:function(){var e=this.__a,t=this.__b;this.assertException(function(){qx.data.SingleValueBinding.bind(e,"affe",t,"backgroundColor")},null,null,"Not a wrong event name? (source)")},testDefaultConversion:function(){this.__a.setAppearance("0");qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"zIndex");this.__a.setAppearance("4879");this.assertEquals(4879,this.__b.getZIndex(),"String --\x3e Number does not work!");this.__a.setZIndex(568);qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"appearance");this.__a.setZIndex(1234);this.assertEquals("1234",this.__b.getAppearance(),"Number --\x3e String does not work!");qx.data.SingleValueBinding.bind(this.__a,"enabled",this.__b,"appearance");this.__a.setEnabled(!0);this.assertEquals("true",this.__b.getAppearance(),"Boolean --\x3e String does not work!");var e=new qx.test.data.singlevalue.TextFieldDummy;e.setFloatt(0);qx.data.SingleValueBinding.bind(e,"floatt",this.__b,"appearance");e.setFloatt(13.5);this.assertEquals("13.5",this.__b.getAppearance(),"Float --\x3e String does not work!");qx.data.SingleValueBinding.removeAllBindingsForObject(e);e.dispose()},testRemoveBinding:function(){qx.data.SingleValueBinding.removeAllBindings();var e=qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");this.__a.setAppearance("hans");this.assertEquals("hans",this.__b.getAppearance(),"String binding does not work!");qx.data.SingleValueBinding.removeBindingFromObject(this.__a,e);this.__a.setAppearance("hans2");this.assertEquals("hans",this.__b.getAppearance(),"Did not remove the binding!");var t=qx.data.SingleValueBinding.getAllBindingsForObject(this.__a);this.assertEquals(0,t.length,"Binding still in the registry!");var i=this.__a;this.assertException(function(){qx.data.SingleValueBinding.removeBindingFromObject(i,null)},Error,null,"No exception thrown.")},testGetAllBindingsForObject:function(){qx.data.SingleValueBinding.removeAllBindings();var e=qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance"),t=qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex");this.__a.setAppearance("hans");this.assertEquals("hans",this.__b.getAppearance(),"String binding does not work!");this.__a.setZIndex(89);this.assertEquals(89,this.__b.getZIndex(),"Number binding does not work!");var i=qx.data.SingleValueBinding.getAllBindingsForObject(this.__a);this.assertEquals(2,i.length,"There are more than 2 bindings!");this.assertEquals(e,i[0][0],"Binding 1 not in the array.");this.assertEquals(t,i[1][0],"Binding 2 not in the array.");var n=qx.data.SingleValueBinding.getAllBindingsForObject(this);this.assertEquals(0,n.length,"There are bindings for this?")},testRemoveAllBindingsForObject:function(){qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex");this.__a.setAppearance("hans");this.assertEquals("hans",this.__b.getAppearance(),"String binding does not work!");this.__a.setZIndex(89);this.assertEquals(89,this.__b.getZIndex(),"Number binding does not work!");qx.data.SingleValueBinding.removeAllBindingsForObject(this.__a);this.__a.setAppearance("hans2");this.assertEquals("hans",this.__b.getAppearance(),"String binding not removed!");this.__a.setZIndex(892);this.assertEquals(89,this.__b.getZIndex(),"Number binding not removed!");var e=qx.data.SingleValueBinding.getAllBindingsForObject(this.__a);this.assertEquals(0,e.length,"Still bindings there!");var t=new qx.core.Object;qx.data.SingleValueBinding.removeAllBindings();t.dispose();this.assertException(function(){qx.data.SingleValueBinding.removeAllBindingsForObject(null)},qx.core.AssertionError,null,"Null is not possible!")},testGetAllBindings:function(){qx.data.SingleValueBinding.removeAllBindings();var e=qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance"),t=qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex"),i=qx.data.SingleValueBinding.bind(this.__b,"zIndex",this.__a,"zIndex"),n=qx.data.SingleValueBinding.getAllBindings(),s=[this.__a.toHashCode(),this.__b.toHashCode()],r=0;for(var o in n){this.assertInArray(o,s,"This hash should be in!");r++}this.assertEquals(2,r,"Too much or too less objects in the array!");this.assertEquals(e,n[this.__a.toHashCode()][0][0],"This id should be in!");this.assertEquals(t,n[this.__a.toHashCode()][1][0],"This id should be in!");this.assertEquals(i,n[this.__b.toHashCode()][0][0],"This id should be in!");this.assertEquals(2,n[this.__a.toHashCode()].length,"Not the right amount in the data!");this.assertEquals(1,n[this.__b.toHashCode()].length,"Not the right amount in the data!")},testDebugStuff:function(){var e=qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex");qx.data.SingleValueBinding.bind(this.__b,"appearance",this.__a,"appearance");qx.data.SingleValueBinding.bind(this.__b,"zIndex",this.__a,"zIndex");qx.data.SingleValueBinding.showBindingInLog(this.__a,e);qx.data.SingleValueBinding.showAllBindingsInLog()},testMixinSupport:function(){qx.data.SingleValueBinding.removeAllBindings();var e=this.__a.bind("appearance",this.__b,"appearance");this.__a.setAppearance("hulk");this.assertEquals("hulk",this.__b.getAppearance(),"String binding does not work!");this.__a.removeBinding(e);this.__a.setAppearance("hulk2");this.assertEquals("hulk",this.__b.getAppearance(),"Unbinding does not work!");e=this.__a.bind("changeAppearance",this.__b,"appearance");var t=this.__a.bind("zIndex",this.__b,"zIndex"),i=this.__a.getBindings();this.assertEquals(e,i[0][0],"First binding is not there.");this.assertEquals(t,i[1][0],"Second binding is not there.");this.__a.removeAllBindings();i=this.__a.getBindings();this.assertEquals(0,i.length,"Still bindings there?")},testDebugListenerMessages:function(){qx.data.SingleValueBinding.DEBUG_ON=!0;qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");this.__a.setAppearance("affe");this.assertEquals("affe",this.__b.getAppearance(),"String binding does not work!");var e=new qx.test.data.singlevalue.TextFieldDummy;e.setAppearance("Jonny");qx.data.SingleValueBinding.bind(e,"appearance",this.__b,"appearance");this.assertEquals("Jonny",this.__b.getAppearance(),"String binding does not work!");qx.data.SingleValueBinding.removeAllBindingsForObject(e);e.dispose()},testFallback:function(){this.__a.bind("value",this.__b,"value");this.__a.setValue("affe");this.assertEquals(this.__a.getValue(),this.__b.getValue(),"change event binding is not working.");this.__a.bind("changeZIndex",this.__b,"zIndex");this.__a.setZIndex(123);this.assertEquals(this.__a.getZIndex(),this.__b.getZIndex(),"Event binding is not working.")},testNullWithConverter:function(){qx.Class.define("qx.Test",{extend:qx.core.Object,members:{__a:null,setA:function(e){this.__a=e},getA:function(){return this.__a}}});var e=new qx.Test;this.__a.setZIndex(null);this.__a.bind("zIndex",e,"a",{converter:function(e){return null==e?"affe":e+""}});this.assertEquals("affe",e.getA(),"Converter will not be executed.");this.__a.setZIndex(10);this.assertEquals(this.__a.getZIndex()+"",e.getA(),"Wrong start binding.");this.__a.setZIndex(null);this.assertEquals("affe",e.getA(),"Converter will not be executed.");e.dispose()},testCallbacksOnInitialSet:function(){qx.Class.define("qx.Target",{extend:qx.core.Object,properties:{value:{init:"Some String!",validate:qx.util.Validate.string()}}});var e=new qx.Target,t=!1,i=!1,n=this,s={onUpdate:function(i,s,r){t=!0;n.assertEquals(i,n.__a,"Wrong source object.");n.assertEquals(s,e,"Wrong target object.");n.assertEquals(r,"affe","Wrong value.")},onSetFail:function(){i=!0}};this.__a.setValue("affe");this.__a.bind("value",e,"value",s);this.assertEquals("affe",e.getValue(),"Binding not set anyway!");this.assertTrue(t,"onUpdate not called.");this.assertFalse(i,"onSetFail called?!");this.__a.removeAllBindings();t=!1;i=!1;this.__a.setZIndex(10);this.__a.bind("zIndex",e,"value",s);this.assertTrue(i,"onSetFail not called.");this.assertFalse(t,"onUpdate called?!");e.dispose()},testConversionClass:function(){qx.Class.define("qx.test.TwoProperties",{extend:qx.core.Object,properties:{a:{event:"changeA",nullable:!0},b:{event:"changeB",nullable:!0}}});var e=new qx.test.TwoProperties,t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TOSTRINGOPTIONS);e.setA(10);this.assertEquals("10",e.getB(),"Number -> String");qx.data.SingleValueBinding.removeBindingFromObject(e,t);t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TOSTRINGOPTIONS);e.setA(!0);this.assertEquals("true",e.getB(),"Boolean -> String");qx.data.SingleValueBinding.removeBindingFromObject(e,t);t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TOSTRINGOPTIONS);e.setA(new Date);this.assertTrue(qx.lang.Type.isString(e.getB()),"Date -> String");qx.data.SingleValueBinding.removeBindingFromObject(e,t);t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TONUMBEROPTIONS);e.setA("123");this.assertEquals(123,e.getB(),"String -> Number");qx.data.SingleValueBinding.removeBindingFromObject(e,t);t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TOBOOLEANOPTIONS);e.setA("123");this.assertEquals(!0,e.getB(),"String -> Boolean");qx.data.SingleValueBinding.removeBindingFromObject(e,t);t=qx.data.SingleValueBinding.bind(e,"a",e,"b",qx.data.Conversion.TOBOOLEANOPTIONS);e.setA(0);this.assertEquals(!1,e.getB(),"Number -> Boolean");qx.data.SingleValueBinding.removeBindingFromObject(e,t);e.dispose()},testResetNotNull:function(){qx.Class.define("qx.test.SVB",{extend:qx.core.Object,properties:{x:{nullable:!0,init:"affe",event:"changeX"}}});var e=new qx.test.SVB,t=new qx.test.SVB;e.bind("x",t,"x");e.setX("x");this.assertEquals(e.getX(),t.getX());e.setX(null);this.assertEquals(e.getX(),t.getX());qx.data.SingleValueBinding.removeAllBindingsForObject(e);qx.data.SingleValueBinding.removeAllBindingsForObject(t);e.dispose();t.dispose();qx.Class.undefine("qx.test.SVB")},testResetNotNullInit:function(){qx.Class.define("qx.test.SVB",{extend:qx.core.Object,properties:{x:{nullable:!0,init:"affe",event:"changeX"}}});var e=new qx.test.SVB,t=new qx.test.SVB;e.setX(null);t.setX("x");qx.data.SingleValueBinding.bind(e,"x",t,"x");this.assertEquals(e.getX(),t.getX());qx.data.SingleValueBinding.removeAllBindingsForObject(e);qx.data.SingleValueBinding.removeAllBindingsForObject(t);e.dispose();t.dispose();qx.Class.undefine("qx.test.SVB")},testChangeEventMissing:function(){qx.Class.define("qx.test.SVB",{extend:qx.core.Object,properties:{x:{nullable:!0,init:"affe"}}});var e=new qx.test.SVB,t=new qx.test.SVB;this.assertException(function(){qx.data.SingleValueBinding.bind(e,"x",t,"x")},qx.core.AssertionError,"Binding property x of object qx.test.SVB");qx.data.SingleValueBinding.removeAllBindingsForObject(e);qx.data.SingleValueBinding.removeAllBindingsForObject(t);e.dispose();t.dispose();qx.Class.undefine("qx.test.SVB")},testConverterParam:function(){var e=this,t={converter:function(t,i,n,s){e.assertEquals(e.__a,n);e.assertEquals(e.__b,s);return t}};qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance",t);this.__a.setAppearance("affe");this.assertEquals("affe",this.__b.getAppearance(),"String binding does not work!")},testWrongArguments:function(){this.require(["qx.debug"]);this.assertException(function(){qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,void 0)},qx.core.AssertionError,"");this.assertException(function(){qx.data.SingleValueBinding.bind(this.__a,"appearance",void 0,"appearance")},qx.core.AssertionError,"");this.assertException(function(){qx.data.SingleValueBinding.bind(this.__a,void 0,this.__b,"appearance")},qx.core.AssertionError,"");this.assertException(function(){qx.data.SingleValueBinding.bind(void 0,"appearance",this.__b,"appearance")},qx.core.AssertionError,"")},testRemoveRelatedBindings:function(){var e=new qx.test.data.singlevalue.TextFieldDummy;qx.data.SingleValueBinding.bind(this.__a,"appearance",this.__b,"appearance");qx.data.SingleValueBinding.bind(this.__a,"zIndex",this.__b,"zIndex");qx.data.SingleValueBinding.bind(this.__b,"zIndex",this.__a,"zIndex");qx.data.SingleValueBinding.bind(e,"appearance",this.__a,"appearance");qx.data.SingleValueBinding.bind(e,"appearance",this.__b,"appearance");var t=qx.data.SingleValueBinding.getAllBindingsForObject(this.__a),i=qx.data.SingleValueBinding.getAllBindingsForObject(this.__b);this.assertEquals(4,t.length,"There are more than 4 bindings!");this.assertEquals(4,i.length,"There are more than 3 bindings!");qx.data.SingleValueBinding.removeRelatedBindings(this.__a,this.__b);t=qx.data.SingleValueBinding.getAllBindingsForObject(this.__a);this.assertEquals(1,t.length,"There must be one binding!");this.assertTrue(t[0][1]===e,"Source object of the binding must be object 'c'!");i=qx.data.SingleValueBinding.getAllBindingsForObject(this.__b);this.assertEquals(1,i.length,"There must be one binding!");this.assertTrue(t[0][1]===e,"Source object of the binding must be object 'c'!")},testNonExistingSetup:function(){var e=qx.data.marshal.Json.createModel({b:{},target:null});qx.data.SingleValueBinding.bind(e,"b.c",e,"target");this.assertNull(e.getTarget());e.setB(qx.data.marshal.Json.createModel({c:"txt"}));this.assertEquals("txt",e.getTarget())},testNonExistingSetupDeep:function(){var e=qx.data.marshal.Json.createModel({b:{c:{d:{e:{}}}},target:null});qx.data.SingleValueBinding.bind(e,"b.c.d.e.f",e,"target");this.assertNull(e.getTarget());e.getB().setC(qx.data.marshal.Json.createModel({d:{e:{f:"txt"}}}));this.assertEquals("txt",e.getTarget())},testNonExistingChange:function(){var e=qx.data.marshal.Json.createModel({b:{c:"txt"},bb:{},target:null});qx.data.SingleValueBinding.bind(e,"b.c",e,"target");this.assertEquals("txt",e.getTarget());e.setB(e.getBb());this.assertNull(e.getTarget())},testNonExistingChangeDeep:function(){var e=qx.data.marshal.Json.createModel({b:{c:{d:{e:{f:"txt"}}}},target:null});qx.data.SingleValueBinding.bind(e,"b.c.d.e.f",e,"target");this.assertEquals("txt",e.getTarget());e.getB().setC(qx.data.marshal.Json.createModel({d:{e:{}}}));this.assertNull(e.getTarget());e.getB().setC(qx.data.marshal.Json.createModel({d:{}}));this.assertNull(e.getTarget())}}});qx.test.data.singlevalue.Simple.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.Conversion",{statics:{toString:function(e){return e+""},TOSTRINGOPTIONS:{converter:null},toNumber:function(e){return parseFloat(e)},TONUMBEROPTIONS:{converter:null},toBoolean:function(e){return!!e},TOBOOLEANOPTIONS:{converter:null}},defer:function(){qx.data.Conversion.TOSTRINGOPTIONS.converter=qx.data.Conversion.toString;qx.data.Conversion.TONUMBEROPTIONS.converter=qx.data.Conversion.toNumber;qx.data.Conversion.TOBOOLEANOPTIONS.converter=qx.data.Conversion.toBoolean}});qx.data.Conversion.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Function":{construct:!0},"qx.lang.Type":{},"qx.Bootstrap":{},"qx.Promise":{},"qx.lang.String":{},"qx.type.BaseError":{},"qx.lang.Object":{},"qx.event.type.Data":{},"qx.util.Request":{},"qx.core.Assert":{},"qx.util.Serializer":{},"qx.lang.Json":{},"qx.util.Uri":{}},environment:{provided:[],required:{"qx.debug.io":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.request.AbstractRequest",{type:"abstract",extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);void 0!==e&&this.setUrl(e);this.__requestHeaders={};var t=this._transport=this._createTransport();this._setPhase("unsent");this.__onReadyStateChangeBound=qx.lang.Function.bind(this._onReadyStateChange,this);this.__onLoadBound=qx.lang.Function.bind(this._onLoad,this);this.__onLoadEndBound=qx.lang.Function.bind(this._onLoadEnd,this);this.__onAbortBound=qx.lang.Function.bind(this._onAbort,this);this.__onTimeoutBound=qx.lang.Function.bind(this._onTimeout,this);this.__onErrorBound=qx.lang.Function.bind(this._onError,this);t.onreadystatechange=this.__onReadyStateChangeBound;t.onload=this.__onLoadBound;t.onloadend=this.__onLoadEndBound;t.onabort=this.__onAbortBound;t.ontimeout=this.__onTimeoutBound;t.onerror=this.__onErrorBound},events:{readyStateChange:"qx.event.type.Event",success:"qx.event.type.Event",load:"qx.event.type.Event",loadEnd:"qx.event.type.Event",abort:"qx.event.type.Event",timeout:"qx.event.type.Event",error:"qx.event.type.Event",statusError:"qx.event.type.Event",parseError:"qx.event.type.Data",fail:"qx.event.type.Event",changeResponse:"qx.event.type.Data",changePhase:"qx.event.type.Data"},properties:{url:{check:"String"},timeout:{check:"Number",nullable:!0,init:0},requestData:{check:function(e){return qx.lang.Type.isString(e)||qx.Class.isSubClassOf(e.constructor,qx.core.Object)||qx.lang.Type.isObject(e)||qx.lang.Type.isArray(e)||"Blob"==qx.Bootstrap.getClass(e)||"ArrayBuffer"==qx.Bootstrap.getClass(e)||"FormData"==qx.Bootstrap.getClass(e)},nullable:!0},authentication:{check:"qx.io.request.authentication.IAuthentication",nullable:!0}},members:{__onReadyStateChangeBound:null,__onLoadBound:null,__onLoadEndBound:null,__onAbortBound:null,__onTimeoutBound:null,__onErrorBound:null,__response:null,__abort:null,__phase:null,__requestHeaders:null,__requestHeadersDeprecated:null,_transport:null,_parserFailed:!1,_createTransport:function(){throw new Error("Abstract method call")},_getConfiguredUrl:function(){},_getConfiguredRequestHeaders:function(){},_getParsedResponse:function(){throw new Error("Abstract method call")},_getMethod:function(){return"GET"},_isAsync:function(){return!0},send:function(){var e,t,i,n,s=this._transport;e=this._getConfiguredUrl();/\#/.test(e)&&(e=e.replace(/\#.*/,""));s.timeout=this.getTimeout();t=this._getMethod();i=this._isAsync();qx.core.Environment.get("qx.debug.io")&&this.debug("Open low-level request with method: "+t+", url: "+e+", async: "+i);s.open(t,e,i);this._setPhase("opened");n=this.getRequestData();-1==["ArrayBuffer","Blob","FormData"].indexOf(qx.Bootstrap.getClass(n))&&(n=this._serializeData(n));this._setRequestHeaders();qx.core.Environment.get("qx.debug.io")&&this.debug("Send low-level request");"GET"==t?s.send():s.send(n);this._setPhase("sent")},sendWithPromise:function(e){e=e||this;var t=this;return new qx.Promise(function(e,i){var n=[],s=t.addListener("success",function(i){n.forEach(t.removeListenerById.bind(t));e(t)},this);n.push(s);var r=t.addListener("statusError",function(e){n.forEach(t.removeListenerById.bind(t));var s=qx.lang.String.format("%1: %2.",[t.getStatus(),t.getStatusText()]),r=new qx.type.BaseError("statusError",s);i(r)},this);n.push(r);var o=t.addListener("timeout",function(e){n.forEach(t.removeListenerById.bind(t));var s=qx.lang.String.format("Request failed with timeout after %1 ms.",[t.getTimeout()]),r=new qx.type.BaseError("timeout",s);i(r)},this);n.push(o);var a=t.addListener("parseError",function(e){n.forEach(t.removeListenerById.bind(t));var s=new qx.type.BaseError("parseError","Error parsing the response.");i(s)},this);n.push(a);var l=t.addListener("abort",function(e){n.forEach(t.removeListenerById.bind(t));var s=new qx.type.BaseError("abort","Request aborted.");i(s)},this);n.push(l);var u=t.addListener("error",function(e){n.forEach(t.removeListenerById.bind(t));var s=new qx.type.BaseError("error","Request failed.");i(s)},this);n.push(u);t.send()},e).finally(function(){4!==t.getReadyState()&&t.abort()})},abort:function(){qx.core.Environment.get("qx.debug.io")&&this.debug("Abort request");this.__abort=!0;this.__phase="abort";this._transport.abort()},_setRequestHeaders:function(){var e=this._transport,t=this._getAllRequestHeaders();for(var i in t)e.setRequestHeader(i,t[i])},_getAllRequestHeaders:function(){var e={};qx.lang.Object.mergeWith(e,this._getConfiguredRequestHeaders());qx.lang.Object.mergeWith(e,this.__getAuthRequestHeaders());qx.lang.Object.mergeWith(e,this.__requestHeadersDeprecated);qx.lang.Object.mergeWith(e,this.__requestHeaders);return e},__getAuthRequestHeaders:function(){var e=this.getAuthentication(),t={};if(e){e.getAuthHeaders().forEach(function(e){t[e.key]=e.value});return t}},setRequestHeader:function(e,t){this.__requestHeaders[e]=t},getRequestHeader:function(e){return this.__requestHeaders[e]},removeRequestHeader:function(e){this.__requestHeaders[e]&&delete this.__requestHeaders[e]},getTransport:function(){return this._transport},getReadyState:function(){return this._transport.readyState},getPhase:function(){return this.__phase},getStatus:function(){return this._transport.status},getStatusText:function(){return this._transport.statusText},getResponseText:function(){return this._transport.responseText},getAllResponseHeaders:function(){return this._transport.getAllResponseHeaders()},getResponseHeader:function(e){return this._transport.getResponseHeader(e)},overrideResponseContentType:function(e){return this._transport.overrideMimeType(e)},getResponseContentType:function(){return this.getResponseHeader("Content-Type")},isDone:function(){return 4===this.getReadyState()},getResponse:function(){return this.__response},_setResponse:function(e){var t=e;if(this.__response!==e){this.__response=e;this.fireEvent("changeResponse",qx.event.type.Data,[this.__response,t])}},_onReadyStateChange:function(){var e=this.getReadyState();qx.core.Environment.get("qx.debug.io")&&this.debug("Fire readyState: "+e);this.fireEvent("readyStateChange");if(!this.__abort){3===e&&this._setPhase("loading");this.isDone()&&this.__onReadyStateDone()}},__onReadyStateDone:function(){qx.core.Environment.get("qx.debug.io")&&this.debug("Request completed with HTTP status: "+this.getStatus());this._setPhase("load");if(qx.util.Request.isSuccessful(this.getStatus())){qx.core.Environment.get("qx.debug.io")&&this.debug("Response is of type: '"+this.getResponseContentType()+"'");this._setResponse(this._getParsedResponse());this._parserFailed?this.fireEvent("fail"):this._fireStatefulEvent("success")}else{try{this._setResponse(this._getParsedResponse())}catch(e){}if(0!==this.getStatus()){this._fireStatefulEvent("statusError");this.fireEvent("fail")}}},_onLoad:function(){this.fireEvent("load")},_onLoadEnd:function(){this.fireEvent("loadEnd")},_onAbort:function(){this._fireStatefulEvent("abort")},_onTimeout:function(){this._fireStatefulEvent("timeout");this.fireEvent("fail")},_onError:function(){this.fireEvent("error");this.fireEvent("fail")},_fireStatefulEvent:function(e){qx.core.Assert.assertString(e);this._setPhase(e);this.fireEvent(e)},_setPhase:function(e){var t=this.__phase;qx.core.Assert.assertString(e);qx.core.Assert.assertMatch(e,/^(unsent)|(opened)|(sent)|(loading)|(load)|(success)|(abort)|(timeout)|(statusError)$/);this.__phase=e;this.fireDataEvent("changePhase",e,t)},_serializeData:function(e){var t=void 0!==this.getMethod&&"POST"==this.getMethod(),i=/application\/.*\+?json/.test(this.getRequestHeader("Content-Type"));return e?qx.lang.Type.isString(e)?e:qx.Class.isSubClassOf(e.constructor,qx.core.Object)?qx.util.Serializer.toUriParameter(e):i&&(qx.lang.Type.isObject(e)||qx.lang.Type.isArray(e))?qx.lang.Json.stringify(e):qx.lang.Type.isObject(e)?qx.util.Uri.toParameter(e,t):null:null}},environment:{"qx.debug.io":!1},destruct:function(){var e=this._transport;if(this._transport){e.onreadystatechange=e.onload=e.onloadend=e.onabort=e.ontimeout=e.onerror=function(){};window.setTimeout(function(){e.dispose()},0)}}});qx.io.request.AbstractRequest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.io.request.AbstractRequest":{construct:!0,require:!0},"qx.lang.Type":{},"qx.bom.request.Xhr":{},"qx.util.Uri":{},"qx.util.Request":{},"qx.util.ResponseParser":{}},environment:{provided:[],required:{"qx.debug.io":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.request.Xhr",{extend:qx.io.request.AbstractRequest,construct:function(e,t){void 0!==t&&this.setMethod(t);qx.io.request.AbstractRequest.constructor.call(this,e);this._parser=this._createResponseParser()},events:{readyStateChange:"qx.event.type.Event",success:"qx.event.type.Event",load:"qx.event.type.Event",statusError:"qx.event.type.Event"},properties:{method:{init:"GET"},async:{check:"Boolean",init:!0},accept:{check:"String",nullable:!0},cache:{check:function(e){return qx.lang.Type.isBoolean(e)||qx.lang.Type.isString(e)},init:!0}},members:{_parser:null,_createTransport:function(){return new qx.bom.request.Xhr},_getConfiguredUrl:function(){var e,t=this.getUrl();if("GET"===this.getMethod()&&this.getRequestData()){e=this._serializeData(this.getRequestData());t=qx.util.Uri.appendParamsToUrl(t,e)}!1===this.getCache()&&(t=qx.util.Uri.appendParamsToUrl(t,{nocache:(new Date).valueOf()}));return t},_getConfiguredRequestHeaders:function(){var e={},t=qx.util.Request.methodAllowsRequestBody(this.getMethod());qx.util.Request.isCrossDomain(this.getUrl())||(e["X-Requested-With"]="XMLHttpRequest");qx.lang.Type.isString(this.getCache())&&(e["Cache-Control"]=this.getCache());this.getRequestData()&&t&&(e["Content-Type"]="application/x-www-form-urlencoded");if(this.getAccept()){qx.core.Environment.get("qx.debug.io")&&this.debug("Accepting: '"+this.getAccept()+"'");e.Accept=this.getAccept()}return e},_getMethod:function(){return this.getMethod()},_isAsync:function(){return this.isAsync()},_createResponseParser:function(){return new qx.util.ResponseParser},_getParsedResponse:function(){var e="blob"===this._transport.responseType?this._transport.response:this._transport.responseText,t=this.getResponseContentType()||"",i="";try{i=this._parser.parse(e,t);this._parserFailed=!1}catch(t){this._parserFailed=!0;this.fireDataEvent("parseError",{error:t,response:e})}return i},setParser:function(e){return this._parser.setParser(e)}}});qx.io.request.Xhr.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.io.request.Xhr":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.store.Json":{},"qx.util.ResourceManager":{},"qx.util.AliasManager":{},"qx.core.Object":{},"qx.Mixin":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.test.data.store.Json",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__store:null,__data:null,__propertyNames:null,setUp:function setUp(){this.__store=new qx.data.store.Json;this.__data=eval("({s: 'String', n: 12, b: true})");this.__propertyNames=["s","n","b"];this.url=qx.util.ResourceManager.getInstance().toUri("qx/test/primitive.json")},setUpFakeRequest:function(){var e=this.request=new qx.io.request.Xhr(this.url);e.send=e.setParser=function(){};e.dispose=qx.io.request.Xhr.prototype.dispose;this.stub(qx.io.request,"Xhr").returns(this.stub(e))},tearDown:function(){this.getSandbox().restore();if(this.request){"function"==typeof this.request.dispose.restore&&this.request.dispose.restore();this.request.dispose()}this.__store.dispose();qx.data.model={};for(var e in qx.Class.$$registry)-1!=e.search("qx.data.model")&&delete qx.Class.$$registry[e]},testConfigureNewTransportConstructor:function(){new qx.data.store.Json(this.url,null,!1).dispose()},testLoadUrl:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertEquals("String",e.getString(),"The model is not created how it should!")},this)},this);var e=this.url;this.__store.setUrl(e);this.wait()},testProgressStates:function(){var e=this.url,t=[];this.__store.addListener("changeState",function(e){var i=e.getData();t.push(i);"completed"==i&&this.resume(function(){this.assertArrayEquals(["configured","sending","receiving","completed"],t)})},this);this.__store.setUrl(e);this.wait()},testLoadResource:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertEquals("String",e.getString(),"The model is not created how it should!")},this)},this);this.__store.setUrl("qx/test/primitive.json");this.wait()},testParseErrorForResource:function(){this.__store.addListener("parseError",function(e){this.resume(function(){this.assertString(e.getData().response,"Parse error object does not contain response!");this.assertObject(e.getData().error,"Parse error object does not contain parser exception!")},this)},this);this.__store.setUrl("qx/test/failing.json");this.wait()},testLoadAlias:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertEquals("String",e.getString(),"The model is not created how it should!");qx.util.AliasManager.getInstance().remove("testLoadResource")},this)},this);qx.util.AliasManager.getInstance().add("testLoadResource","qx/test");this.__store.setUrl("testLoadResource/primitive.json");this.wait()},testDispose:function(){this.__store.setUrl(this.url);this.__store.dispose()},testWholePrimitive:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertEquals("String",e.getString(),"The model is not created how it should!");this.assertEquals(12,e.getNumber(),"The model is not created how it should!");this.assertEquals(!0,e.getBoolean(),"The model is not created how it should!");this.assertNull(e.getNull(),"The model is not created how it should!")},this)},this);var e=this.url;this.__store.setUrl(e);this.wait()},testWholeArray:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getArray(),"The model is not created how it should!");this.assertEquals("qx.data.Array",e.getArray().classname,"Wrong array class.");this.assertEquals("a",e.getArray().getItem(0),"Wrong content of the array.");this.assertEquals("b",e.getArray().getItem(1),"Wrong content of the array.");this.assertEquals("c",e.getArray().getItem(2),"Wrong content of the array.")},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/test/array.json");this.__store.setUrl(e);this.wait()},testWholeObject:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(e);this.wait()},testOwnClassWith:function(){qx.Class.define("qx.test.AB",{extend:qx.core.Object,properties:{a:{check:"String",event:"changeA"},b:{check:"String",event:"changeB"}}});var e={getModelClass:function(e){return"a|b"==e||"a|b♥"==e?qx.Class.getByName("qx.test.AB"):null}};this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertEquals("qx.test.AB",e.getO().classname,"Not the given class used!");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var t=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(t);this.wait()},testOwnClassWithout:function(){this.__store=new qx.data.store.Json(null,{getModelClass:function(e){return null}});this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(e);this.wait()},testOwnSuperclassWith:function(){qx.Class.define("qx.test.O",{extend:qx.core.Object});var e={getModelSuperClass:function(e){return qx.test.O}};this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertTrue(qx.Class.isSubClassOf(e.constructor,qx.test.O));this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertTrue(qx.Class.isSubClassOf(e.getO().constructor,qx.test.O));this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var t=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(t);this.wait()},testOwnSuperclassWithout:function(){qx.Class.define("qx.test.O",{extend:qx.core.Object});this.__store=new qx.data.store.Json(null,{getModelSuperClass:function(e){return null}});this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(e);this.wait()},testOwnMixinWithout:function(){this.__store=new qx.data.store.Json(null,{getModelMixins:function(e){return null}});this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(e);this.wait()},testOwnMixinWith:function(){qx.Mixin.define("qx.test.M",{members:{a:function(){return!0}}});var e={getModelMixins:function(e){return qx.test.M}};this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertTrue(e.a(),"Mixin not included.");this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertTrue(e.getO().a(),"Mixin not included.");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var t=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(t);this.wait()},testOwnMixinWithMultiple:function(){qx.Mixin.define("qx.test.M1",{members:{a:function(){return!0}}});qx.Mixin.define("qx.test.M2",{members:{b:function(){return!0}}});var e={getModelMixins:function(e){return[qx.test.M1,qx.test.M2]}};this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertTrue(e.a(),"Mixin not included.");this.assertTrue(e.b(),"Mixin not included.");this.assertNotNull(e.getO(),"The model is not created how it should!");this.assertTrue(e.getO().a(),"Mixin not included.");this.assertEquals("a",e.getO().getA(),"Wrong content of the object.");this.assertEquals("b",e.getO().getB(),"Wrong content of the object.")},this)},this);var t=qx.util.ResourceManager.getInstance().toUri("qx/test/object.json");this.__store.setUrl(t);this.wait()},testManipulatePrimitive:function(){var e={manipulateData:function(e){return e}};this.spy(e,"manipulateData");this.__store.dispose();this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){this.assertCalled(e.manipulateData)},this)},this);var t=this.url;this.__store.setUrl(t);this.wait()},testConfigureRequestPrimitive:function(){var e,t=this;e={configureRequest:function(e){t.assertInstance(e,qx.io.request.Xhr)}};this.spy(e,"configureRequest");this.__store.dispose();this.__store=new qx.data.store.Json(null,e);this.__store.addListener("loaded",function(){this.resume(function(){this.assertCalled(e.configureRequest)},this)},this);var i=this.url;this.__store.setUrl(i);this.wait()},testDisposeOldModel:function(){this.__store.addListener("loaded",function(){this.resume(function(){var t=this.__store.getModel();this.assertNotEquals(e,t);this.assertTrue(e.isDisposed())},this)},this);var e=new qx.core.Object;this.__store.setModel(e);var t=this.url;this.__store.setUrl(t);this.wait()},testDisposeRequest:function(){this.setUpFakeRequest();this.__store.setUrl(this.url);this.__store.dispose();this.assertCalled(this.request.dispose)},testDisposeRequestDone:function(){this.setUpFakeRequest();var e=this.url;this.__store.addListener("loaded",function(){this.resume(function(){this.__store.dispose();this.assertCalled(this.request.dispose)},this)},this);this.__store.setUrl(e)},testErrorEvent:function(){this.__store.addListener("error",function(e){this.resume(function(){this.assertNotNull(e)},this)},this);this.__store.setUrl("not-found");this.wait()},"test Internal Server Error":function(){this.useFakeServer();var e=this.getServer();e.respondWith("GET","/foo",[500,{"Content-Type":"application/json"},"SERVER ERROR"]);this.__store.addListener("error",function(e){this.resume(function(){this.assertTrue("statusError"==e.getData().getPhase())})},this);qx.event.Timer.once(function(){this.__store.setUrl("/foo");e.respond()},this,500);this.wait(1e3)}}});qx.test.data.store.Json.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.PropertyUtil":{},"qx.lang.String":{},"qx.lang.Type":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.Serializer",{statics:{toUriParameter:function(e,t,i){var n="",s=qx.util.PropertyUtil.getAllProperties(e.constructor);for(var r in s)if(void 0==s[r].group){var o=e["get"+qx.lang.String.firstUp(r)]();if(qx.lang.Type.isArray(o))for(var a=qx.data&&qx.data.IListData&&qx.Class.hasInterface(o&&o.constructor,qx.data.IListData),l=0;l<o.length;l++){var u=a?o.getItem(l):o[l];n+=this.__toUriParameter(r,u,t)}else qx.lang.Type.isDate(o)&&null!=i?n+=this.__toUriParameter(r,i.format(o),t):n+=this.__toUriParameter(r,o,t)}return n.substring(0,n.length-1)},__toUriParameter:function(e,t,i){t&&"Class"==t.$$type&&(t=t.classname);!t||"Interface"!=t.$$type&&"Mixin"!=t.$$type||(t=t.name);if(t instanceof qx.core.Object&&null!=i){if(void 0===(n=encodeURIComponent(i(t))))var n=encodeURIComponent(t)}else n=encodeURIComponent(t);return encodeURIComponent(e)+"="+n+"&"},toNativeObject:function(e,t,i){var n;if(null==e)return null;if(qx.data&&qx.data.IListData&&qx.Class.hasInterface(e.constructor,qx.data.IListData)){n=[];for(var s=0;s<e.getLength();s++)n.push(qx.util.Serializer.toNativeObject(e.getItem(s),t,i));return n}if(qx.lang.Type.isArray(e)){n=[];for(s=0;s<e.length;s++)n.push(qx.util.Serializer.toNativeObject(e[s],t,i));return n}if("Class"==e.$$type)return e.classname;if("Interface"==e.$$type||"Mixin"==e.$$type)return e.name;if(e instanceof qx.core.Object){if(null!=t){var r=t(e);if(void 0!=r)return r}n={};var o=qx.util.PropertyUtil.getAllProperties(e.constructor);for(var a in o)if(void 0==o[a].group){var l=e["get"+qx.lang.String.firstUp(a)]();n[a]=qx.util.Serializer.toNativeObject(l,t,i)}return n}if(qx.lang.Type.isDate(e)&&null!=i)return i.format(e);if(qx.locale&&qx.locale.LocalizedString&&e instanceof qx.locale.LocalizedString)return e.toString();if(qx.lang.Type.isObject(e)){n={};for(var u in e)n[u]=qx.util.Serializer.toNativeObject(e[u],t,i);return n}return e},toJson:function(e,t,i){var n="";if(null==e)return"null";if(qx.data&&qx.data.IListData&&qx.Class.hasInterface(e.constructor,qx.data.IListData)){n+="[";for(var s=0;s<e.getLength();s++)n+=qx.util.Serializer.toJson(e.getItem(s),t,i)+",";"["!=n&&(n=n.substring(0,n.length-1));return n+"]"}if(qx.lang.Type.isArray(e)){n+="[";for(s=0;s<e.length;s++)n+=qx.util.Serializer.toJson(e[s],t,i)+",";"["!=n&&(n=n.substring(0,n.length-1));return n+"]"}if("Class"==e.$$type)return'"'+e.classname+'"';if("Interface"==e.$$type||"Mixin"==e.$$type)return'"'+e.name+'"';if(e instanceof qx.core.Object){if(null!=t){var r=t(e);if(void 0!=r)return'"'+r+'"'}n+="{";var o=qx.util.PropertyUtil.getAllProperties(e.constructor);for(var a in o)if(void 0==o[a].group){var l=e["get"+qx.lang.String.firstUp(a)]();n+='"'+a+'":'+qx.util.Serializer.toJson(l,t,i)+","}"{"!=n&&(n=n.substring(0,n.length-1));return n+"}"}qx.locale&&qx.locale.LocalizedString&&e instanceof qx.locale.LocalizedString&&(e=e.toString());if(qx.lang.Type.isDate(e)&&null!=i)return'"'+i.format(e)+'"';if(qx.lang.Type.isObject(e)){n+="{";for(var u in e)n+='"'+u+'":'+qx.util.Serializer.toJson(e[u],t,i)+",";"{"!=n&&(n=n.substring(0,n.length-1));return n+"}"}return qx.lang.Type.isString(e)?'"'+(e=(e=(e=(e=(e=(e=(e=e.replace(/([\\])/g,"\\\\")).replace(/(["])/g,'\\"')).replace(/([\r])/g,"\\r")).replace(/([\f])/g,"\\f")).replace(/([\n])/g,"\\n")).replace(/([\t])/g,"\\t")).replace(/([\b])/g,"\\b"))+'"':qx.lang.Type.isDate(e)||qx.lang.Type.isRegExp(e)?'"'+e+'"':e+""}}});qx.util.Serializer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.marshal.Json":{construct:!0},"qx.util.AliasManager":{},"qx.util.ResourceManager":{},"qx.io.request.Xhr":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.store.Json",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);this._marshaler=new qx.data.marshal.Json(t);this._delegate=t;null!=e&&this.setUrl(e)},events:{loaded:"qx.event.type.Data",parseError:"qx.event.type.Data",error:"qx.event.type.Data"},properties:{model:{nullable:!0,event:"changeModel"},state:{check:["configured","queued","sending","receiving","completed","aborted","timeout","failed"],init:"configured",event:"changeState"},url:{check:"String",apply:"_applyUrl",event:"changeUrl",nullable:!0}},members:{_marshaler:null,_delegate:null,__request:null,_applyUrl:function(e,t){if(null!=e){e=qx.util.AliasManager.getInstance().resolve(e);e=qx.util.ResourceManager.getInstance().toUri(e);this._createRequest(e)}},_getRequest:function(){return this.__request},_setRequest:function(e){this.__request=e},_createRequest:function(e){if(this.__request){this.__request.dispose();this.__request=null}var t=new qx.io.request.Xhr(e);this._setRequest(t);t.setAccept("application/json");t.setParser("json");t.addListener("success",this._onSuccess,this);t.addListener("parseError",this._onParseError,this);var i=this._delegate;i&&qx.lang.Type.isFunction(i.configureRequest)&&this._delegate.configureRequest(t);t.addListener("changePhase",this._onChangePhase,this);t.addListener("fail",this._onFail,this);t.send()},_onChangePhase:function(e){var t;(t={opened:"configured",sent:"sending",loading:"receiving",success:"completed",abort:"aborted",timeout:"timeout",statusError:"failed"}[e.getData()])&&this.setState(t)},_onFail:function(e){var t=e.getTarget();this.fireDataEvent("error",t)},_onParseError:function(e){this.fireDataEvent("parseError",e.getData())},_onSuccess:function(e){if(!this.isDisposed()){var t=e.getTarget().getResponse(),i=this._delegate;i&&qx.lang.Type.isFunction(i.manipulateData)&&(t=this._delegate.manipulateData(t));this._marshaler.toClass(t,!0);var n=this.getModel();this.setModel(this._marshaler.toModel(t));n&&n.dispose&&n.dispose();this.fireDataEvent("loaded",this.getModel());if(this.__request){this.__request.dispose();this.__request=null}}},reload:function(){var e=this.getUrl();null!=e&&this._createRequest(e)}},destruct:function(){null!=this.__request&&this._disposeObjects("__request");this._disposeSingletonObjects("_marshaler");this._delegate=null}});qx.data.store.Json.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.store.Jsonp":{},"qx.util.ResourceManager":{},"qx.io.request.Jsonp":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.store.Jsonp",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{__store:null,setUp:function(){this.require(["php"]);this.__store=new qx.data.store.Jsonp;this.url=qx.util.ResourceManager.getInstance().toUri("qx/test/jsonp_primitive.php")},tearDown:function(){this.getSandbox().restore();this.__store.dispose();if(this.request){delete this.request.dispose;this.request.dispose()}qx.data.model={};for(var e in qx.Class.$$registry)-1!=e.search("qx.data.model")&&delete qx.Class.$$registry[e]},isLocal:function(){return"file:"==window.location.protocol},setUpFakeRequest:function(){var e=this.request=new qx.io.request.Jsonp;e.send=e.dispose=function(){};this.stub(qx.io.request,"Jsonp").returns(this.stub(e))},testSetCallbackParam:function(){this.setUpFakeRequest();var e=new qx.data.store.Jsonp;e.setCallbackParam("myCallback");e.setUrl("/url");this.assertCalledWith(this.request.setCallbackParam,"myCallback");e.dispose()},testSetCallbackName:function(){this.setUpFakeRequest();var e=new qx.data.store.Jsonp;e.setCallbackName("myCallback");e.setUrl("/url");this.assertCalledWith(this.request.setCallbackName,"myCallback");e.dispose()},testWholePrimitive:function(){this.__store.addListener("loaded",function(){this.resume(function(){var e=this.__store.getModel();this.assertEquals("String",e.getString(),"The model is not created how it should!");this.assertEquals(12,e.getNumber(),"The model is not created how it should!");this.assertEquals(!0,e.getBoolean(),"The model is not created how it should!");this.assertNull(e.getNull(),"The model is not created how it should!")},this)},this);var e=this.url;this.__store.setUrl(e);this.wait()},testManipulatePrimitive:function(){var e=!1,t={manipulateData:function(t){e=!0;return t}},i=new qx.data.store.Jsonp(null,t,"callback");i.addListener("loaded",function(){this.resume(function(){this.assertTrue(e)},this)},this);var n=this.url;i.setUrl(n);this.wait();i.dispose()},testConfigureRequestPrimitive:function(){var e,t=this;e={configureRequest:function(e){t.assertInstance(e,qx.io.request.Jsonp)}};this.spy(e,"configureRequest");var i=new qx.data.store.Jsonp(null,e,"callback");i.addListener("loaded",function(){this.resume(function(){this.assertCalled(e.configureRequest)},this)},this);var n=this.url;i.setUrl(n);this.wait()},testDisposeRequest:function(){this.setUpFakeRequest();new qx.data.store.Jsonp(this.url).dispose();this.assertCalled(this.request.dispose)},testDisposeRequestDone:function(){this.setUpFakeRequest();var e=this.url;this.__store.addListener("loaded",function(){this.resume(function(){this.__store.dispose();this.assertCalled(this.request.dispose)},this)},this);this.__store.setUrl(e)},testErrorEvent:function(){if("ie"!=qx.core.Environment.get("browser.name")&&"opera"!=qx.core.Environment.get("browser.name")){this.__store.addListener("error",function(){this.resume(function(){},this)},this);this.__store.setUrl("affe");this.wait()}}}});qx.test.data.store.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.data.store.Json":{construct:!0,require:!0},"qx.io.request.Jsonp":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.store.Jsonp",{extend:qx.data.store.Json,construct:function(e,t,i){void 0!=i&&this.setCallbackParam(i);qx.data.store.Json.constructor.call(this,e,t)},properties:{callbackParam:{check:"String",init:"callback",nullable:!0},callbackName:{check:"String",nullable:!0}},members:{_createRequest:function(e){this._getRequest()&&this._getRequest().dispose();var t=new qx.io.request.Jsonp;this._setRequest(t);t.setCallbackParam(this.getCallbackParam());t.setCallbackName(this.getCallbackName());t.setUrl(e);t.addListener("success",this._onSuccess,this);var i=this._delegate;i&&qx.lang.Type.isFunction(i.configureRequest)&&this._delegate.configureRequest(t);t.addListener("changePhase",this._onChangePhase,this);t.addListener("fail",this._onFail,this);t.send()}}});qx.data.store.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.io.request.AbstractRequest":{require:!0},"qx.bom.request.Jsonp":{},"qx.util.Uri":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.request.Jsonp",{extend:qx.io.request.AbstractRequest,events:{success:"qx.event.type.Event",load:"qx.event.type.Event",statusError:"qx.event.type.Event"},properties:{cache:{check:"Boolean",init:!0}},members:{_createTransport:function(){return new qx.bom.request.Jsonp},_getConfiguredUrl:function(){var e,t=this.getUrl();if(this.getRequestData()){e=this._serializeData(this.getRequestData());t=qx.util.Uri.appendParamsToUrl(t,e)}this.getCache()||(t=qx.util.Uri.appendParamsToUrl(t,{nocache:(new Date).valueOf()}));return t},_getParsedResponse:function(){return this._transport.responseJson},setCallbackParam:function(e){this._transport.setCallbackParam(e)},setCallbackName:function(e){this._transport.setCallbackName(e)}}});qx.io.request.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.client.Html":{},"qx.bom.Storage":{},"qx.data.store.Offline":{},"qx.data.marshal.Json":{}},environment:{provided:[],required:{"html.storage.local":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.store.Offline",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{__store:null,__testKey:"qx-unit-test",hasLocalStorage:function(){return qx.core.Environment.get("html.storage.local")},hasQxDebug:function(){return!0},setUp:function(){this.require(["localStorage"])},tearDown:function(){this.getSandbox().restore();this.__store&&this.__store.dispose();qx.bom.Storage.getLocal().removeItem(this.__testKey)},__initDefaultStore:function(){this.__store=new qx.data.store.Offline(this.__testKey,"local")},__createDefaultModel:function(){return qx.data.marshal.Json.createModel({a:"a"},!0)},testCreate:function(){this.require(["qxDebug"]);var e;this.assertException(function(){e=new qx.data.store.Offline});e=new qx.data.store.Offline(this.__testKey);this.assertEquals(e._storage,qx.bom.Storage.getLocal());e.dispose();this.__initDefaultStore();this.assertEquals(this.__testKey,this.__store.getKey())},testCreateWithDelegate:function(){var e={},t=this.spy(qx.data.marshal,"Json"),i=new qx.data.store.Offline(this.__testKey,"local",e);this.assertCalledWith(t,e);i.dispose()},testCheckEmptyModel:function(){this.__initDefaultStore();this.assertNull(this.__store.getModel());var e=this.__createDefaultModel();this.__store.setModel(e);this.__store.setModel(null);this.wait(1e3,function(){this.assertNull(this.__store.getModel());e.dispose()}.bind(this))},testSetModel:function(){this.__initDefaultStore();var e=this.__createDefaultModel();this.__store.setModel(e);this.wait(1e3,function(){this.assertEquals("a",this.__store.getModel().getA());e.dispose()}.bind(this))},testSetModelDebounce:function(){this.__initDefaultStore();var e=this.spy(this.__store._storage,"setItem"),t=this.__createDefaultModel();this.__store.setModel(t);t.setA("b");t.setA("c");this.wait(1e3,function(){this.assertCalledOnce(e)},this)},testChangeModel:function(){this.__initDefaultStore();var e=this.__createDefaultModel();this.__store.setModel(e);this.wait(1e3,function(){this.assertEquals("a",this.__store.getModel().getA());e.setA("A");this.assertEquals("A",this.__store.getModel().getA());e.dispose()}.bind(this))},testModelWriteRead:function(){this.__initDefaultStore();var e=this.__createDefaultModel();this.__store.setModel(e);this.wait(1e3,function(){this.assertEquals("a",this.__store.getModel().getA());this.__store.dispose();e.dispose();this.__initDefaultStore();this.assertNotNull(this.__store.getModel());this.assertEquals("a",this.__store.getModel().getA())}.bind(this))},testModelRead:function(){this.stub(qx.bom.Storage.getLocal(),"getItem").returns({b:"b"});this.__initDefaultStore();this.assertNotUndefined(this.__store.getModel());this.assertFunction(this.__store.getModel().getB);this.assertEquals("b",this.__store.getModel().getB())},testUpdateModel:function(){this.__initDefaultStore();var e=this.__createDefaultModel();this.__store.setModel(e);this.wait(1e3,function(){this.assertEquals("a",this.__store.getModel().getA());this.__store.dispose();e.dispose();this.__initDefaultStore();this.assertNotNull(this.__store.getModel());this.__store.getModel().setA("b");this.wait(1e3,function(){this.assertEquals("b",this.__store.getModel().getA(),"1");this.__store.dispose();this.__initDefaultStore();this.assertNotNull(this.__store.getModel());this.assertEquals("b",this.__store.getModel().getA(),"2")}.bind(this))}.bind(this))},testReplaceModel:function(){this.__initDefaultStore();var e=this.__createDefaultModel();this.__store.setModel(e);var t=qx.data.marshal.Json.createModel({x:"x"},!0);this.__store.setModel(t);this.wait(1e3,function(){this.__initDefaultStore();this.assertNotNull(this.__store.getModel());this.assertFunction(this.__store.getModel().getX);this.assertEquals("x",this.__store.getModel().getX());this.__store.dispose();e.dispose();t.dispose()}.bind(this))},testBigModel:function(){var e=qx.data.marshal.Json.createModel({a:[{b:1,C:!0},12.567,"a"]},!0);this.__initDefaultStore();this.__store.setModel(e);this.wait(1e3,function(){this.assertEquals(1,this.__store.getModel().getA().getItem(0).getB());this.assertEquals(!0,this.__store.getModel().getA().getItem(0).getC());this.assertEquals("a",this.__store.getModel().getA().getItem(2));e.dispose()}.bind(this))}}});qx.test.data.store.Offline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.Storage":{construct:!0},"qx.util.Function":{construct:!0},"qx.data.marshal.Json":{construct:!0},"qx.util.Serializer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.store.Offline",{extend:qx.core.Object,construct:function(e,t,i){qx.core.Object.constructor.call(this);try{this.assertNotUndefined(e)}catch(e){this.dispose();throw e}this._storage="session"==t?qx.bom.Storage.getSession():qx.bom.Storage.getLocal();this._storeModel=qx.util.Function.debounce(this.__storeModel.bind(this),qx.data.store.Offline.STORE_MODEL_DELAY);this._marshaler=new qx.data.marshal.Json(i);this._key=e;this._initializeModel()},properties:{model:{nullable:!0,event:"changeModel",apply:"_applyModel"}},statics:{STORE_MODEL_DELAY:400},members:{_storage:null,__modelListenerId:null,__storeModel:function(){var e=qx.util.Serializer.toNativeObject(this.getModel());this._storage.setItem(this._key,e)},_applyModel:function(e,t){if(t){t.removeListenerById(this.__modelListenerId);t.dispose();this.__modelListenerId=null}if(e){this.__modelListenerId=e.addListener("changeBubble",this._storeModel,this);this._storeModel()}else this._storage.removeItem(this._key)},_storeModel:null,_initializeModel:function(){this._setModel(this._storage.getItem(this._key))},_setModel:function(e){this._marshaler.toClass(e,!0);this.getModel()&&this.getModel().dispose();var t=this._marshaler.toModel(e,!0);void 0===t&&(t=null);this.setModel(t)},getKey:function(){return this._key}},destruct:function(){this.getModel()&&this.getModel().dispose();this._marshaler&&this._marshaler.dispose()}});qx.data.store.Offline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Array":{},"qx.log.Logger":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.Function",{statics:{debounce:function(e,t,i){var n=!1,s=null,r=null;return function(){r=qx.lang.Array.fromArguments(arguments);var o=this;if(null===s){s=window.setInterval(function(){if(!n){window.clearInterval(s);s=null;o&&o.isDisposed&&o.isDisposed()?qx.log.Logger.warn("The context object '"+o+"' of the debounced call is already disposed."):e.apply(o,r)}n=!1},t);i&&e.apply(o,r)}n=!0}},throttle:function(e,t,i){void 0===i&&(i={});var n,s,r,o=null,a=0,l=function(){a=!1===i.leading?0:new Date;o=null;r=e.apply(n,s)};return function(){var u=new Date;a||!1!==i.leading||(a=u);var c=t-(u-a);n=this;s=arguments;if(c<=0){window.clearTimeout(o);o=null;a=u;r=e.apply(n,s)}else o||!1===i.trailing||(o=window.setTimeout(l,c));return r}}}});qx.util.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.data.marshal.Json":{},"qx.data.store.Rest":{},"qx.io.rest.Resource":{},"qx.io.request.Xhr":{},"qx.io.request.AbstractRequest":{},"qx.core.AssertionError":{},"qx.dev.unit.RequirementError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.store.Rest",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{setUp:function(){this.setUpDoubleRequest();var e=this.marshal=new qx.data.marshal.Json;e=this.shallowStub(e,qx.data.marshal.Json);this.injectStub(qx.data.marshal,"Json",e);e.toModel.returns({});this.setUpResource();this.store=new qx.data.store.Rest(this.res,"index")},setUpResource:function(){this.res&&this.res.dispose();return this.res=new qx.io.rest.Resource({index:{method:"GET",url:"/photos"}})},setUpDoubleRequest:function(){var e=this.req=new qx.io.request.Xhr;this.res;e=this.shallowStub(e,qx.io.request.AbstractRequest);this.stub(e,"dispose");this.injectStub(qx.io.request,"Xhr",e);return e},tearDown:function(){this.getSandbox().restore();this.req.dispose();this.marshal.dispose();this.res.dispose();this.store.dispose()},"test: construct with res and action name":function(){var e=this.store;this.assertIdentical(e.getResource(),this.res);this.assertIdentical(e.getActionName(),"index")},"test: construct throws with missing res":function(){this.require(["debug"]);var e;this.assertException(function(){e=new qx.data.store.Rest(null,"index")},Error,/property res/);e&&e.dispose()},"test: construct throws with erroneous res":function(){this.require(["debug"]);var e;this.assertException(function(){e=new qx.data.store.Rest({},"index")},qx.core.AssertionError);e&&e.dispose()},"test: construct throws with missing action":function(){this.require(["debug"]);var e,t=this.res;this.assertException(function(){e=new qx.data.store.Rest(t,null)},Error,/property actionName/);e&&e.dispose()},"test: add listener for actionSuccess to res":function(){var e,t=this.res;this.stub(t,"addListener");e=new qx.data.store.Rest(t,"index");this.assertCalled(t.addListener);e.dispose()},"test: marshal response":function(){var e=this.res,t=(this.store,this.marshal),i={key:"value"};e.index();this.respond(i);this.assertCalledWith(t.toModel,i)},"test: populates model property with marshaled response":function(){qx.data.marshal.Json.restore();var e=this.setUpResource(),t=new qx.data.store.Rest(e,"index");e.index();this.respond({name:"Affe"});t.dispose()},"test: fires changeModel":function(){qx.data.marshal.Json.restore();var e=this.setUpResource(),t=new qx.data.store.Rest(e,"index"),i=this;e.index();this.assertEventFired(t,"changeModel",function(){i.respond({name:"Affe"})});t.dispose();e.dispose()},"test: configure request with delegate":function(){var e=this.res,t=this.req,i=this.spy(function(e){e.setUserData("affe",!0)}),n={configureRequest:i},s=new qx.data.store.Rest(e,"index",n);this.assertNotCalled(t.send);e.index();this.assertCalledWith(i,t);this.assertTrue(t.getUserData("affe"));this.assertCalled(t.send);s.dispose()},"test: manipulate data with delegate before marshaling":function(){var e=this.res,t={name:"Tiger"},i=this.spy(function(e){e.name="Maus";return e}),n={manipulateData:i},s=new qx.data.store.Rest(e,"index",n);e.index();this.respond(t);this.assertCalledWith(i,t);this.assertCalledWith(this.marshal.toModel,{name:"Maus"});s.dispose()},hasDebug:function(){return!0},respond:function(e){var t=this.req;e=e||"";t.getPhase.returns("success");t.getResponse.returns(e);t.fireEvent("success")},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.data.store.Rest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.data.marshal.Json":{construct:!0},"qx.lang.Type":{construct:!0},"qx.lang.Function":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.data.store.Rest",{extend:qx.core.Object,construct:function(e,t,i){qx.core.Object.constructor.call(this);try{this.setResource(e);this.setActionName(t)}catch(e){this.dispose();throw e}this._delegate=i;this._marshaler=new qx.data.marshal.Json(i);i&&qx.lang.Type.isFunction(i.configureRequest)&&this.__configureRequest();this.__onActionSuccessBound=qx.lang.Function.bind(this.__onActionSuccess,this);this.__addListeners()},properties:{resource:{check:"qx.io.rest.Resource"},actionName:{check:"String"},model:{nullable:!0,event:"changeModel"}},members:{_marshaler:null,_delegate:null,__onActionSuccessBound:null,__configureRequest:function(){var e=this.getResource(),t=this._delegate;e.configureRequest(t.configureRequest)},__addListeners:function(){var e=this.getResource(),t=this.getActionName();e&&t&&e.addListener(this.getActionName()+"Success",this.__onActionSuccessBound)},__onActionSuccess:function(e){var t,i=e.getData(),n=this._marshaler,s=this.getModel(),r=this._delegate;if(i){r&&r.manipulateData&&(i=r.manipulateData(i));n.toClass(i,!0);(t=n.toModel(i))&&this.setModel(t)}s&&s.dispose&&s.dispose()}},destruct:function(){var e=this.getModel();e&&"function"==typeof e.dispose&&e.dispose();this._marshaler&&this._marshaler.dispose()}});qx.data.store.Rest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.core.Assert":{construct:!0},"qx.bom.rest.Resource":{},"qx.event.type.Rest":{},"qx.io.request.Xhr":{},"qx.lang.Function":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.rest.Resource",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__longPollHandlers={};this.__pollTimers={};this.__routes={};this._resource=this._tailorResource(this._getResource());try{if(void 0!==e){qx.core.Assert.assertMap(e);this.__mapFromDescription(e)}}catch(e){this.dispose();throw e}},events:{success:"qx.event.type.Rest",actionSuccess:"qx.event.type.Rest",error:"qx.event.type.Rest",actionError:"qx.event.type.Rest"},statics:{POLL_THROTTLE_LIMIT:100,POLL_THROTTLE_COUNT:30,REQUIRED:!0,placeholdersFromUrl:function(e){return qx.bom.rest.Resource.placeholdersFromUrl(e)}},members:{_resource:null,__longPollHandlers:null,__pollTimers:null,__routes:null,_getResource:function(e){return new qx.bom.rest.Resource(e)},_tailorResource:function(e){e.setRequestFactory(this._getRequest);e.setRequestHandler({onsuccess:{callback:function(e,t){return function(){var i=[e.getResponse(),null,!1,e,t,e.getPhase()];this.fireEvent(t+"Success",qx.event.type.Rest,i);this.fireEvent("success",qx.event.type.Rest,i)}},context:this},onfail:{callback:function(e,t){return function(){var i=[e.getResponse(),null,!1,e,t,e.getPhase()];this.fireEvent(t+"Error",qx.event.type.Rest,i);this.fireEvent("error",qx.event.type.Rest,i)}},context:this},onloadend:{callback:function(e,t){return function(){e.dispose()}},context:this}});return e},configureRequest:function(e){this._resource.configureRequest(e)},_getRequest:function(){return new qx.io.request.Xhr},map:function(e,t,i,n){this.__addAction(e,t,i,n);this._resource.map(e,t,i,n)},__addAction:function(e,t,i,n){this.__routes[e]=[t,i,n];"get"==e&&(this[e]=void 0);if(void 0!==this[e]&&null!==this[e]&&!0!==this[e].action)throw new Error("Method with name of action ("+e+") already exists");this.__declareEvent(e+"Success");this.__declareEvent(e+"Error");this[e]=qx.lang.Function.bind(function(){Array.prototype.unshift.call(arguments,e);return this.invoke.apply(this,arguments)},this);this[e].action=!0},invoke:function(e,t,i){t=null==t?{}:t;this.__routes[e].params=t;return this._resource.invoke(e,t,i)},setBaseUrl:function(e){this._resource.setBaseUrl(e)},abort:function(e){this._resource.abort(e)},refresh:function(e){this._resource.refresh(e)},poll:function(e,t,i,n){this.__pollTimers[e]&&this.__pollTimers[e].dispose();void 0===i&&(i=this.__routes[e].params);n&&this.invoke(e,i);var s=this.__pollTimers[e]=new qx.event.Timer(t);s.addListener("interval",function(){var t=this.getRequestsByAction(e),s=t?t[0]:null;n||s?s&&(s.isDone()||s.isDisposed())&&this.refresh(e):this.invoke(e,i)},this._resource);s.start();return s},longPoll:function(e){var t,i=this,n=0;var s=this.__longPollHandlers[e]=this.addListener(e+"Success",function(){if(!i.isDisposed()&&!function(){var e=t&&new Date-t<i._getThrottleLimit();if(e&&(n+=1)>i._getThrottleCount()){i.debug("Received successful response more than "+i._getThrottleCount()+" times subsequently, each within "+i._getThrottleLimit()+" ms. Throttling.");return!0}e||(n=0);return!1}()){t=new Date;i.refresh(e)}});this.invoke(e);return s},_getRequestConfig:function(e,t){return this._resource._getRequestConfig(e,t)},_getThrottleLimit:function(){return qx.io.rest.Resource.POLL_THROTTLE_LIMIT},_getThrottleCount:function(){return qx.io.rest.Resource.POLL_THROTTLE_COUNT},__mapFromDescription:function(e){Object.keys(e).forEach(function(t){var i=e[t],n=i.method,s=i.url,r=i.check;qx.core.Assert.assertString(n,"Method must be string for route '"+t+"'");qx.core.Assert.assertString(s,"URL must be string for route '"+t+"'");this.map(t,n,s,r)},this)},__declareEvent:function(e){this.constructor.$$events||(this.constructor.$$events={});this.constructor.$$events[e]||(this.constructor.$$events[e]="qx.event.type.Rest")}},destruct:function(){var e;if(this.__pollTimers)for(e in this.__pollTimers){var t=this.__pollTimers[e];t.stop();t.dispose()}if(this.__longPollHandlers)for(e in this.__longPollHandlers){var i=this.__longPollHandlers[e];this.removeListenerById(i)}this._resource.destruct();this._resource=this.__routes=this.__pollTimers=this.__longPollHandlers=null}});qx.io.rest.Resource.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Data":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.type.Rest",{extend:qx.event.type.Data,properties:{request:{check:"qx.io.request.AbstractRequest"},action:{check:"String"},phase:{check:"String"},id:{check:"Number"}},members:{init:function(e,t,i,n,s,r){qx.event.type.Rest.prototype.init.base.call(this,e,t,i);this.setRequest(n);this.setAction(s);this.setPhase(r);this.setId(parseInt(n.toHashCode(),10));return this},clone:function(e){var t=qx.event.type.Rest.prototype.clone.base.call(this,e);t.setAction(this.getAction());t.setPhase(this.getPhase());t.setRequest(this.getRequest());return t}}});qx.event.type.Rest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.io.rest.Resource":{},"qx.data.store.Rest":{},"qx.util.ResponseParser":{},"qx.ui.basic.Label":{},"qx.dev.unit.RequirementError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.data.store.RestWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.test.io.MRemoteTest],members:{setUp:function(){var e=this.getUrl("qx/test/primitive.json"),t=this.res=new qx.io.rest.Resource({index:{method:"GET",url:e}});this.store=new qx.data.store.Rest(t,"index");t.configureRequest(function(e){e.setParser(qx.util.ResponseParser.PARSER.json)});this.require(["http"])},tearDown:function(){this.res.dispose();this.store.dispose()},"test: populate store with response of resource action":function(){var e=this.res,t=this.store;e.addListener("success",function(){this.resume(function(){this.assertEquals("String",t.getModel().getString())},this)},this);e.index();this.wait()},"test: bind model property":function(){var e=this.res,t=this.store,i=new qx.ui.basic.Label;e.addListener("success",function(){this.resume(function(){this.assertEquals("String",i.getValue())},this)},this);e.index();t.bind("model.string",i,"value");this.wait()},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.data.store.RestWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.core.Object":{},"qx.dev.Debug":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dev.Debug",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{hasDisposeDebug:function(){return!1},testDisposeProfilingCheckFunction:function(){this.require(["disposeDebug"]);var e=new qx.core.Object,t=e.toHashCode(),i=new qx.core.Object,n=qx.dev.Debug.stopDisposeProfiling(function(e){return e.toHashCode()!=t});this.assertArray(n);this.assertEquals(1,n.length);this.assertEquals(i,n[0].object);this.assertMatch(n[0].stackTrace.join(" "),this.classname);e.dispose();i.dispose()}}});qx.test.dev.Debug.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.log.Logger":{},"qx.lang.Object":{},"qx.lang.Type":{},"qx.data.IListData":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.Debug",{statics:{disposeProfilingActive:!1,debugObject:function(e,t,i){qx.log.Logger.debug(this,qx.dev.Debug.debugObjectToString(e,t,i,!1))},debugObjectToString:function(e,t,i,n){i||(i=10);var s=n?"</span><br>":"\n",r=function(e){var t;if(n)t="<span style='padding-left:"+8*e+"px;'>";else{t="";for(var i=0;i<e;i++)t+="  "}return t},o="";t&&(o+=r(0)+t+s);if(e instanceof Array)o+=r(0)+"Array, length="+e.length+":"+s;else if("object"==_typeof(e)){var a=0;for(var l in e)a++;o+=r(0)+"Object, count="+a+":"+s}o+=r(0)+"------------------------------------------------------------"+s;try{!function e(t,i,n){if(i>n)o+=r(i)+"*** TOO MUCH RECURSION: not displaying ***"+s;else if("object"==_typeof(t))for(var a in t)if("object"==_typeof(t[a]))try{if(t[a]instanceof Array)o+=r(i)+a+": Array"+s;else{if(null===t[a]){o+=r(i)+a+": null"+s;continue}if(void 0===t[a]){o+=r(i)+a+": undefined"+s;continue}o+=r(i)+a+": Object"+s}e(t[a],i+1,n)}catch(e){o+=r(i)+a+": EXCEPTION expanding property"+s}else o+=r(i)+a+": "+t[a]+s;else o+=r(i)+t+s}(e,0,i)}catch(e){o+=r(0)+"*** EXCEPTION ("+e+") ***"+s}return o+=r(0)+"============================================================"+s},getFunctionName:function(e,t){var i=e.self;if(!i)return null;for(;e.wrapper;)e=e.wrapper;switch(t){case"construct":return e==i?"construct":null;case"members":return qx.lang.Object.getKeyFromValue(i,e);case"statics":return qx.lang.Object.getKeyFromValue(i.prototype,e);default:return e==i?"construct":qx.lang.Object.getKeyFromValue(i.prototype,e)||qx.lang.Object.getKeyFromValue(i,e)||null}},debugProperties:function(e,t,i,n){null==t&&(t=10);null==n&&(n=1);var s="";s=i?"<br>":"\r\n";var r="";if(qx.lang.Type.isNumber(e)||qx.lang.Type.isString(e)||qx.lang.Type.isBoolean(e)||null==e||t<=0)return e;if(qx.Class.hasInterface(e.constructor,qx.data.IListData)){for(var o=0;o<e.length;o++){for(var a=0;a<n;a++)r+="-";r+="index("+o+"): "+this.debugProperties(e.getItem(o),t-1,i,n+1)+s}return r+s}if(null!=e.constructor){var l=e.constructor.$$properties;for(var u in l){r+=s;for(a=0;a<n;a++)r+="-";r+=" "+u+": "+this.debugProperties(e["get"+qx.lang.String.firstUp(u)](),t-1,i,n+1)}return r}return""},startDisposeProfiling:function(){},stopDisposeProfiling:function(){},showDisposeProfiling:function(){}}});qx.dev.Debug.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.StackTrace":{},"qx.bom.client.EcmaScript":{},"qx.core.Assert":{},"qx.type.BaseError":{},"qx.core.GlobalError":{},"qx.core.WindowError":{},"qx.dev.unit.RequirementError":{},"qx.lang.Function":{}},environment:{provided:[],required:{"ecmascript.error.stacktrace":{className:"qx.bom.client.EcmaScript"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dev.StackTrace",{extend:qx.dev.unit.TestCase,members:{tearDown:function(){qx.dev.StackTrace.FILENAME_TO_CLASSNAME=null;qx.dev.StackTrace.FORMAT_STACKTRACE=null},testGetStackTraceFromError:function(){qx.core.Environment.get("ecmascript.error.stacktrace")||this.skip("Test skipped since the client doesn't provide stack traces");var e=[];try{throw new Error("Expected exception")}catch(t){e=qx.dev.StackTrace.getStackTraceFromError(t)}qx.core.Assert.assertNotEquals(0,e.length,"No stack trace information returned!")},testGetStackTraceFromErrorQx:function(){qx.core.Environment.get("ecmascript.error.stacktrace")||this.skip("Test skipped since the client doesn't provide stack traces");for(var e=[qx.type.BaseError,qx.core.GlobalError,qx.core.WindowError,qx.dev.unit.RequirementError],t=0,i=e.length;t<i;t++){var n,s=e[t];n=s.toString().indexOf("GlobalError")>0?new s(new Error):new s;try{throw n}catch(e){var r=qx.dev.StackTrace.getStackTraceFromError(e);this.assertNotIdentical(0,r.length,"Didn't get stack trace from "+s.toString())}}},testFilenameConverterDefault:function(){for(var e=new Error("Just a test"),t=qx.dev.StackTrace.getStackTraceFromError(e),i=0,n=t.length;i<n;i++)this.assertMatch(t[i],/((?:test\.dev\.StackTrace)|(?:dev\.unit)|(?:testrunner\.js)|(?:tests\.js)|(?:qooxdoo-adapter\.js))/)},testFilenameConverterCustom:function(){qx.dev.StackTrace.FILENAME_TO_CLASSNAME=qx.lang.Function.bind(function(e){this.assertString(e);return"FOO"},this);for(var e=new Error("Just a test"),t=qx.dev.StackTrace.getStackTraceFromError(e),i=0,n=t.length;i<n;i++)this.assertMatch(t[i],/FOO/)},testFormatStackTrace:function(){qx.dev.StackTrace.FORMAT_STACKTRACE=qx.lang.Function.bind(function(e){this.assertArray(e);for(var t=0,i=e.length;t<i;t++)e[t]="BAR "+e[t];return e},this);for(var e=new Error("Just a test"),t=qx.dev.StackTrace.getStackTraceFromError(e),i=0,n=t.length;i<n;i++)this.assertMatch(t[i],/^BAR/)}}});qx.test.dev.StackTrace.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.RequirementError":{},"qx.core.Environment":{}},environment:{provided:["qx.test.requirement.syncTrue","qx.test.requirement.syncFalse"],required:{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dev.unit.Requirements",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],members:{hasFulfilledReq:function(){return!0},hasUnfulfilledReq:function(){return!1},testRequirementPass:function(){try{this.require(["fulfilledReq"])}catch(e){this.fail("Check for fulfilled requirement failed!")}},testRequirementFail:function(){var e=this;this.assertException(function(){e.require(["fulfilledReq","unfulfilledReq"])},qx.dev.unit.RequirementError)},testMissingCheck:function(){var e=this;this.assertException(function(){e.require(["monkeyCheese"])},Error,/Unable to verify requirement/)},testEnvironmentPass:function(){qx.core.Environment.add("qx.test.requirement.syncTrue",function(){return!0});try{this.require(["fulfilledReq","qx.test.requirement.syncTrue"])}catch(e){this.fail("Check for environment key failed!")}delete qx.core.Environment.getChecks()["qx.test.requirement.syncTrue"]},testEnvironmentFail:function(){qx.core.Environment.add("qx.test.requirement.syncFalse",function(){return!1});var e=this;this.assertException(function(){e.require(["fulfilledReq","qx.test.requirement.syncFalse"])},qx.dev.unit.RequirementError);delete qx.core.Environment.getChecks()["qx.test.requirement.syncFalse"]},testEnvironmentAsync:function(){qx.core.Environment.getAsyncChecks()["qx.test.requirement.async"]=function(){return!1};var e=this;this.assertException(function(){e.require(["qx.test.requirement.async"])},Error,/Asynchronous environment checks are not supported/);delete qx.core.Environment.getAsyncChecks()["qx.test.requirement.async"]}}});qx.test.dev.unit.Requirements.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.Sinon":{},"qx.core.Object":{},"qx.bom.client.Browser":{},"qx.bom.client.Transport":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"},"io.xhr":{className:"qx.bom.client.Transport"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dev.unit.Sinon",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{sinon:null,setUp:function(){this.sinon=qx.dev.unit.Sinon.getSinon();qx.Class.define("qx.test.Animal",{extend:qx.core.Object,members:{getKind:function(){return"Animal"}}});qx.Class.define("qx.test.Affe",{extend:qx.test.Animal,members:{scratch:function(){return!0}}});qx.Class.define("qx.test.Gibbon",{extend:qx.test.Affe,members:{climb:function(){return!0}}})},"test: get sinon":function(){var e=this.sinon;this.assertObject(e,"Sinon not found");this.assertFunction(e.spy,"No spy");this.assertFunction(e.stub,"No stub");this.assertFunction(e.mock,"No mock");this.assertFunction(e.useFakeTimers,"No fake timers");this.assertFunction(e.useFakeXMLHttpRequest,"No fake XHR")},"test: fail":function(){var e=this.sinon;this.assertException(function(){e.fail()})},"test: spy":function(){var e=this.sinon.spy();e();this.assertTrue(e.called)},"test: spy conveniently":function(){var e=this.spy();e();this.assertTrue(e.called)},"test: stub":function(){var e=this.sinon.stub();e.returns("Affe");this.assertEquals("Affe",e())},"test: stub conveniently":function(){var e=this.stub();e.returns("Affe");this.assertEquals("Affe",e())},"test: stub property":function(){qx.test.PROP=!1;this.stub(qx.test,"PROP",!0);this.assertEquals(!0,qx.test.PROP);qx.test.PROP=void 0},"test: stub property in isolation":function(){qx.test.PROP=!1;this.stub(qx.test,"PROP",!0);this.getSandbox().restore();this.assertEquals(!1,qx.test.PROP);qx.test.PROP=void 0},"test: stub environment setting":function(){this.stub(qx.core.Environment,"get").withArgs("browser.name").returns("My Browser");this.assertEquals("My Browser",qx.core.Environment.get("browser.name"))},"test: stub environment setting in isolation":function(){var e=qx.core.Environment.get("browser.name"),t=qx.core.Environment.get("browser.version");this.stub(qx.core.Environment,"get").withArgs("browser.name").returns("My Browser");this.getSandbox().restore();this.assertEquals(e,qx.core.Environment.get("browser.name"));this.assertEquals(t,qx.core.Environment.get("browser.version"))},"test: mock":function(){var e={method:function(){}},t=this.sinon.mock(e);t.expects("method").once();e.method();t.verify()},"test: mock verify throws":function(){var e=this.sinon.mock({method:function(){}});e.expects("method").once();this.assertException(function(){e.verify()})},"test: mock unexpected use throws":function(){var e={method:function(){}};this.sinon.mock(e).expects("method").never();this.assertException(function(){e.method()},Error,/Unexpected call/)},"test: assert":function(){var e=this.sinon.spy();e();this.assertCalled(e)},"test: fake XHR":function(){this.require(["xhr"]);this.useFakeXMLHttpRequest();var e=window.XMLHttpRequest;new e;var t=this.getRequests()[0];this.assertFunction(e.restore,"restore");this.assertFunction(t.open,"open");this.assertFunction(t.send,"send")},"test: fake server":function(){this.useFakeServer();var e=this.getServer();this.assertFunction(e.respond);this.assertFunction(e.respondWith)},"test: respond":function(){this.require(["xhr"]);this.useFakeServer();var e=new(0,window.XMLHttpRequest),t=this.getServer();t.respondWith("GET","found",[200,{},"FOUND"]);e.open("GET","found");e.send();t.respond();this.assertEquals(200,e.status);this.assertEquals("FOUND",e.responseText)},"test: respond with invalid XML":function(){this.require(["xhr"]);this.useFakeXMLHttpRequest();var e=new(0,window.XMLHttpRequest),t=this.getRequests()[0];e.open();e.send();t.respond(200,{"Content-Type":"application/xml"},"INVALID")},"test: sandbox and restore":function(){var e=function(){},t={a:function(){}},i=(this.spy(e),this.stub(t,"a"),this.useFakeXMLHttpRequest(),window.XMLHttpRequest||window.ActiveXObject("Microsoft.XMLHTTP"));this.getSandbox().restore();this.assertUndefined(e.called);this.assertUndefined(t.a.called);this.assertUndefined(i.restore)},"test: deep stub":function(){var e=new qx.test.Affe;(e=this.deepStub(e)).getKind();this.assertCalled(e.getKind);e.dispose()},"test: shallow stub":function(){var e=new qx.test.Gibbon;(e=this.shallowStub(e,qx.test.Affe)).climb();e.scratch();this.assertCalled(e.climb);this.assertCalled(e.scratch);this.assertEquals("Animal",e.getKind(),"Must return original");this.assertUndefined(e.getKind.called,"Must not be stubbed");e.dispose()},"test: inject stub of original":function(){this.injectStub(qx.test,"Affe");var e=new qx.test.Affe;e.scratch.returns(!1);this.assertFalse(e.scratch());e.dispose()},"test: inject stub of original and return":function(){var e=this.injectStub(qx.test,"Affe"),t=new qx.test.Affe;e.scratch.returns(!1);this.assertFalse(t.scratch());t.dispose()},"test: inject custom stub":function(){this.injectStub(qx.test,"Affe",this.stub({dance:function(){}}));var e=new qx.test.Affe;e.dance();this.assertCalled(e.dance)},"test: inject custom stub and return":function(){var e=this.injectStub(qx.test,"Affe",this.stub({dance:function(){}}));(new qx.test.Affe).dance();this.assertCalled(e.dance)},"test: reveal mock of original and return":function(){var e=this.revealMock(qx.test,"Affe"),t=new qx.test.Affe;e.expects("scratch").once();t.scratch();e.verify();t.dispose()},"test: reveal mock of custom and return":function(){var e=this.revealMock(qx.test,"Affe",{dance:function(){}}),t=new qx.test.Affe;e.expects("dance").once();t.dance();e.verify()},hasXhr:function(){return"xhr"===qx.core.Environment.get("io.xhr")},tearDown:function(){this.getSandbox().restore();this.sinon=null;qx.Class.undefine("qx.test.Affe");qx.Class.undefine("qx.test.Animal");qx.Class.undefine("qx.test.Gibbon")}}});qx.test.dev.unit.Sinon.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dev.unit.TestCase",{extend:qx.dev.unit.TestCase,members:{testSkip:function(){this.skip();this.fail("Executed code after calling skip()!")},testResumeHandler:function(){this.__do(this.resumeHandler(function(e){this.assertEquals(e,"foo");return"bar"},this));this.wait()},__do:function(e){window.setTimeout(this.__doSuccess.bind(this,e),0)},__doSuccess:function(e){var t=e("foo");this.assertEquals(t,"bar")}}});qx.test.dev.unit.TestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dom.Element",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");e.id="el";this._el=e;document.body.appendChild(e)},tearDown:function(){document.body.removeChild(this._el)},testCreate:function(){var e=qx.dom.Element.create("div",{name:"juhu"},window);this.assertElement(e);this.assertEquals("juhu",qx.bom.element.Attribute.get(e,"name"))},testEmpty:function(){this._el.innerHTML="Juhu";qx.dom.Element.empty(this._el);this.assertEquals("",this._el.innerHTML)}}});qx.test.dom.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.element.Style":{},"qx.dom.Hierarchy":{},"qx.bom.Iframe":{},"qx.util.ResourceManager":{},"qx.util.Uri":{},"qx.event.Registration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dom.Hierarchy",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__renderedElement=qx.dom.Element.create("div");document.body.appendChild(this.__renderedElement);this.__unRenderedElement=qx.dom.Element.create("div");this.__notDisplayedElement=qx.dom.Element.create("div");document.body.appendChild(this.__notDisplayedElement);qx.bom.element.Style.set(this.__notDisplayedElement,"display","none");this.__childOfNotDisplayedElement=qx.dom.Element.create("div");this.__notDisplayedElement.appendChild(this.__childOfNotDisplayedElement)},tearDown:function(){if(this.__childElement){this.__renderedElement.removeChild(this.__childElement);this.__childElement=null}if(this.__siblingElement){document.body.removeChild(this.__siblingElement);this.__siblingElement=null}document.body.removeChild(this.__renderedElement);this.__renderedElement=null;this.__unRenderedElement=null;document.body.removeChild(this.__notDisplayedElement);this.__notDisplayedElement=null;if(this.__iframe){document.body.removeChild(this.__iframe);this.__iframe=null}},testIsRendered:function(){this.assertTrue(qx.dom.Hierarchy.isRendered(this.__renderedElement));this.assertFalse(qx.dom.Hierarchy.isRendered(this.__unRenderedElement));this.assertTrue(qx.dom.Hierarchy.isRendered(this.__notDisplayedElement));this.assertTrue(qx.dom.Hierarchy.isRendered(this.__childOfNotDisplayedElement))},testIsRenderedIframe:function(){this.__iframe=qx.bom.Iframe.create();var e=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html");e=qx.util.Uri.getAbsolute(e);qx.bom.Iframe.setSource(this.__iframe,e);document.body.appendChild(this.__iframe);qx.event.Registration.addListener(this.__iframe,"load",function(e){this.resume(function(){this.assertTrue(qx.dom.Hierarchy.isRendered(this.__iframe))},this)},this);this.wait(1e4)},testContains:function(){this.assertTrue(qx.dom.Hierarchy.contains(document.body,this.__renderedElement));this.__childElement=qx.dom.Element.create("div");this.__renderedElement.appendChild(this.__childElement);this.assertTrue(qx.dom.Hierarchy.contains(this.__renderedElement,this.__childElement));this.assertFalse(qx.dom.Hierarchy.contains(this.__childElement,this.__renderedElement));this.__siblingElement=qx.dom.Element.create("div");document.body.appendChild(this.__siblingElement);this.assertFalse(qx.dom.Hierarchy.contains(this.__renderedElement,this.__siblingElement))},testGetCommonParent:function(){this.__siblingElement=qx.dom.Element.create("div");document.body.appendChild(this.__siblingElement);this.assertEquals(document.body,qx.dom.Hierarchy.getCommonParent(this.__renderedElement,this.__siblingElement));this.__childElement=qx.dom.Element.create("div");this.__renderedElement.appendChild(this.__childElement);this.assertEquals(this.__renderedElement,qx.dom.Hierarchy.getCommonParent(this.__renderedElement,this.__childElement))}}});qx.test.dom.Hierarchy.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Node":{},"qx.xml.Document":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.dom.Node",{extend:qx.dev.unit.TestCase,members:{setUp:function(){},tearDown:function(){},testBlockNodes:function(){for(var e,t=["body","h1","h2","h3","h4","h5","div","blockquote","hr","form","textarea","fieldset","iframe","ul","ol","li","dl","dt","dd","p","quote","pre","table","thead","tbody","tfoot","tr","td","th","iframe","address"],i=[],n=0,s=t.length;n<s;n++){e=document.createElement(t[n]);document.body.appendChild(e);i.push(e);this.info("Testing node "+qx.dom.Node.getName(e));this.assertTrue(qx.dom.Node.isBlockNode(e))}for(n=0,s=i.length;n<s;n++)document.body.removeChild(i[n])},testInlineNodes:function(){for(var e,t=["a","span","abbr","acronym","dfn","object","param","em","strong","code","b","i","tt","samp","kbd","var","big","small","br","bdo","cite","del","ins","q","sub","sup","img","map"],i=[],n=0,s=t.length;n<s;n++){e=document.createElement(t[n]);document.body.appendChild(e);i.push(e);this.info("Testing node "+qx.dom.Node.getName(e));this.assertFalse(qx.dom.Node.isBlockNode(e))}for(n=0,s=i.length;n<s;n++)document.body.removeChild(i[n])},testTextNodes:function(){var e=document.createElement("div"),t=document.createTextNode("schokobaer");e.appendChild(t);var i=document.createElement("span");e.appendChild(i);var n=document.createTextNode("vanillebaer");i.appendChild(n);document.body.appendChild(e);var s=qx.xml.Document.fromString("<Root><foo></foo></Root>"),r=s.createCDATASection("karamelbaer");s.getElementsByTagName("foo")[0].appendChild(r);this.assertEquals("vanillebaer",qx.dom.Node.getText(n),"Failed to get the right value for one text node.");this.assertEquals("schokobaervanillebaer",qx.dom.Node.getText(e),"Failed to get the right value for text of an element.");this.assertEquals("karamelbaer",qx.dom.Node.getText(s.getElementsByTagName("foo")[0].firstChild),"Failed to get the text of a CData text node.")},testGetWindow:function(){var e=document.createElement("div");document.body.appendChild(e);var t=document.createElement("div"),i=document.createTextNode("affe");this.assertEquals(window,qx.dom.Node.getWindow(e));this.assertEquals(window,qx.dom.Node.getWindow(t));this.assertEquals(window,qx.dom.Node.getWindow(i))}}});qx.test.dom.Node.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.test.event.MockBubblingHandler":{},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.event.Registration":{},"qx.event.type.Event":{},"qx.core.AssertionError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.Bubbling",{extend:qx.dev.unit.TestCase,events:{nonBubble:"qx.event.type.Event"},members:{setUp:function(){var e=qx.dom.Element.create("div",{id:"root"});document.body.appendChild(e);e.innerHTML="<div id='c_1'><div id='c_1_1'></div></div><div id='c_2'>";this.c_1=document.getElementById("c_1");this.c_1_1=document.getElementById("c_1_1");this.c_2=document.getElementById("c_2")},tearDown:function(){var e=qx.event.Registration;e.removeAllListeners(this.c_1);e.removeAllListeners(this.c_1_1);e.removeAllListeners(this.c_2);document.body.removeChild(document.getElementById("root"))},testBubbling:function(){var e,t=qx.event.Registration;t.addListener(this.c_1,"bubble",function(){e.push("c_1a")},this);t.addListener(this.c_1,"bubble",function(){e.push("c_1b")},this);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1a")},this);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1b")},this);t.addListener(this.c_2,"bubble",function(){e.push("c_2a")},this);t.addListener(this.c_2,"bubble",function(){e.push("c_2b")},this);e=[];t.fireEvent(this.c_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1b"],e);e=[];t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1_1a","c_1_1b","c_1a","c_1b"],e);e=[];t.fireEvent(this.c_2,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_2a","c_2b"],e)},testContext:function(){var e,t,i=qx.event.Registration;i.addListener(this.c_1,"bubble",function(){e.push("c_1");t.push(this)});i.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1a");t.push(this)});i.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1b");t.push(this)},this);e=[];t=[];i.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1_1a","c_1_1b","c_1"],e);this.assertEquals(3,t.length);this.assertEquals(this.c_1_1,t[0]);this.assertEquals(this,t[1]);this.assertEquals(this.c_1,t[2])},testCapture:function(){var e,t=qx.event.Registration;t.addListener(this.c_1,"bubble",function(){e.push("c_1a")},this,!0);t.addListener(this.c_1,"bubble",function(){e.push("c_1b")},this);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1a")},this,!0);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1b")},this);t.addListener(this.c_2,"bubble",function(){e.push("c_2a")},this,!0);t.addListener(this.c_2,"bubble",function(){e.push("c_2b")},this);e=[];t.fireEvent(this.c_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1b"],e);e=[];t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1_1a","c_1_1b","c_1b"],e);e=[];t.fireEvent(this.c_2,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_2a","c_2b"],e)},_stopPropagation:function(e){e.stopPropagation()},testStopPropagation:function(){var e,t=qx.event.Registration;t.addListener(this.c_1,"bubble",this._stopPropagation,this,!0);t.addListener(this.c_1,"bubble",function(){e.push("c_1a")},this,!0);t.addListener(this.c_1,"bubble",function(){e.push("c_1b")},this);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1a")},this,!0);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1b")},this);t.addListener(this.c_2,"bubble",function(){e.push("c_2a")},this,!0);t.addListener(this.c_2,"bubble",function(){e.push("c_2b")},this);e=[];t.fireEvent(this.c_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a"],e);e=[];t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a"],e);e=[];t.fireEvent(this.c_2,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_2a","c_2b"],e);t.removeListener(this.c_1,"bubble",this._stopPropagation,this,!0);t.addListener(this.c_1_1,"bubble",this._stopPropagation,this,!0);e=[];t.fireEvent(this.c_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1b"],e);e=[];t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1_1a"],e);e=[];t.fireEvent(this.c_2,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_2a","c_2b"],e);t.removeListener(this.c_1_1,"bubble",this._stopPropagation,this,!0);t.addListener(this.c_1_1,"bubble",this._stopPropagation,this,!1);e=[];t.fireEvent(this.c_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1b"],e);e=[];t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_1a","c_1_1a","c_1_1b"],e);e=[];t.fireEvent(this.c_2,"bubble",qx.event.type.Event,[!0,!0]);this.assertJsonEquals(["c_2a","c_2b"],e)},_preventDefault:function(e){e.preventDefault()},testPreventDefault:function(){var e,t=qx.event.Registration;t.addListener(this.c_1,"bubble",function(){e.push("c_1a")},this);t.addListener(this.c_1_1,"bubble",function(){e.push("c_1_1a")},this);e=[];var i=t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertTrue(i);this.assertJsonEquals(["c_1_1a","c_1a"],e);t.addListener(this.c_1,"bubble",this._preventDefault,this);e=[];i=t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertFalse(i);this.assertJsonEquals(["c_1_1a","c_1a"],e);t.addListener(this.c_1_1,"bubble",this._stopPropagation,this);e=[];i=t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertTrue(i);this.assertJsonEquals(["c_1_1a"],e);t.removeListener(this.c_1_1,"bubble",this._stopPropagation,this);t.removeListener(this.c_1,"bubble",this._preventDefault,this);t.addListener(this.c_1_1,"bubble",this._preventDefault,this);e=[];i=t.fireEvent(this.c_1_1,"bubble",qx.event.type.Event,[!0,!0]);this.assertFalse(i);this.assertJsonEquals(["c_1_1a","c_1a"],e);this.addListener("nonBubble",this._preventDefault,this);i=t.fireEvent(this,"nonBubble",qx.event.type.Event,[!1,!0]);this.assertFalse(i);this.removeListener("nonBubble",this._preventDefault,this);this.addListener("nonBubble",this._preventDefault,this);var n=this;this.isDebugOn()&&this.assertException(function(){t.fireEvent(n,"nonBubble",qx.event.type.Event,[!1,!1])},qx.core.AssertionError,"Cannot prevent default action on a non cancelable event.*");this.removeListener("nonBubble",this._preventDefault,this);i=t.fireEvent(this,"nonBubble",qx.event.type.Event,[!1,!0]);this.assertTrue(i)}}});qx.test.event.Bubbling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.MockBubblingHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,statics:{PRIORITY:qx.event.Registration.PRIORITY_LAST},members:{canHandleEvent:function(e,t){return void 0!==e.nodeType},registerEvent:function(e,t,i){},unregisterEvent:function(e,t,i){}},defer:function(e){qx.event.Registration.addHandler(e)}});qx.test.event.MockBubblingHandler.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.event.Emitter":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.test.event.Emitter",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{__ee:null,setUp:function(){this.__ee=new qx.event.Emitter},testOnOff:function(){var e=this.spy();this.__ee.on("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e);this.assertCalledOn(e,this);this.__ee.off("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e)},testOnOffById:function(){var e=this.spy(),t=this.__ee.on("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.offById(t);this.__ee.emit("test");this.assertCalledOnce(e)},testOffReturnId:function(){var e=this.spy();this.__ee.on("test",e,this);var t=this.__ee.on("test2",e,this),i=this.__ee.off("test2",e,this);this.assertEquals(t,i)},testAddRemove:function(){var e=this.spy();this.__ee.addListener("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.removeListener("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e)},testAddAsyncFunction:function testAddAsyncFunction(){this.require(["asyncFunctions"]);var f=eval("f = async function(){};");this.__ee.addListener("test",f,this);this.__ee.emit("test");this.__ee.removeListener("test",f,this);this.__ee.emit("test")},testAddRemoveById:function(){var e=this.spy(),t=this.__ee.addListener("test",e,this);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.removeListenerById(t);this.__ee.emit("test");this.assertCalledOnce(e)},testOnTwoListeners:function(){var e=this.spy(),t=this.spy();this.__ee.on("test",e);this.__ee.on("test",t);this.__ee.emit("test");this.assertCalledOnce(e);this.assertCalledOnce(t);this.__ee.off("test",e);this.__ee.emit("test");this.assertCalledOnce(e);this.assertCalledTwice(t)},testTwoEvents:function(){var e=this.spy(),t=this.spy();this.__ee.on("test1",e);this.__ee.on("test2",t);this.__ee.emit("test1");this.assertCalledOnce(e);this.assertNotCalled(t);this.__ee.emit("test2");this.assertCalledOnce(e);this.assertCalledOnce(t)},testOnce:function(){var e=this.spy();this.__ee.once("test",e);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.emit("test");this.assertCalledOnce(e)},testAddListenerOnce:function(){var e=this.spy();this.__ee.addListenerOnce("test",e);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.emit("test");this.assertCalledOnce(e)},testOnAny:function(){var e=this.spy();this.__ee.on("*",e);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.emit("test2");this.assertCalledTwice(e)},testAddListenerAny:function(){var e=this.spy();this.__ee.addListener("*",e);this.__ee.emit("test");this.assertCalledOnce(e);this.__ee.emit("test2");this.assertCalledTwice(e)},testEmitData:function(){var e=this.spy();this.__ee.on("test",e);this.__ee.emit("test",123);this.assertCalledWith(e,123)},testEmitOrder:function(){var e=0;this.__ee.on("test",function(){e++;this.assertEquals(1,e)},this);this.__ee.on("test",function(){e++;this.assertEquals(2,e)},this);this.__ee.emit("test");this.assertEquals(2,e)}}});qx.test.event.Emitter.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.event.GlobalError":{},"qx.core.WindowError":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"qx.globalErrorHandling":{className:"qx.event.GlobalError"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.GlobalError",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MRequirements,members:{hasGlobalErrorHandling:function(){return!!qx.core.Environment.get("qx.globalErrorHandling")},hasNoGlobalErrorHandling:function(){return!this.hasGlobalErrorHandling()},setUp:function(){this.errorHandler=qx.event.GlobalError;this.called=!1;this.calledParams=[];this.errorHandler.setErrorHandler(this.onError,this)},tearDown:function(){this.errorHandler.setErrorHandler(null);window.onerror&&(window.onerror=null)},onError:function(e){this.assertEquals(1,arguments.length);this.called=!0;this.calledParams.push(e)},testObserveMethod:function(){this.require(["GlobalErrorHandling"]);var e=this.errorHandler.observeMethod(function(){throw new Error("fail")});this.assertFalse(this.called);e();this.assertTrue(this.called)},testDontWrapIfSettingIsOff:function(){this.require(["NoGlobalErrorHandling"]);var e=function(){},t=this.errorHandler.observeMethod(e);this.assertIdentical(e,t)},testWrappedParameterAndReturnValue:function(){this.require(["GlobalErrorHandling"]);var e=function(e,t,i){return[e,t,i]},t=this.errorHandler.observeMethod(e);this.assertJsonEquals(e(1,"2",!0),t(1,"2",!0))},testObserveMethodButNoHandler:function(){this.require(["GlobalErrorHandling"]);var e=this.errorHandler.observeMethod(function(){throw new Error("fail")});this.errorHandler.setErrorHandler(null,null);this.assertException(e);this.errorHandler.setErrorHandler(this.onError,this);e()},testHandlerContext:function(){this.require(["GlobalErrorHandling"]);var e=null;this.errorHandler.setErrorHandler(function(t){e=this},this);this.errorHandler.observeMethod(function(){throw new Error("fail")})();this.assertEquals(this,e)},testHandleError:function(){this.require(["GlobalErrorHandling"]);var e=new Error("New Error");this.errorHandler.handleError(e);this.assertTrue(this.called);this.assertEquals(e,this.calledParams[0])},testOnWindowError:function(){this.require(["GlobalErrorHandling"]);this.errorHandler.setErrorHandler(null);var e=!1;this.errorHandler.setErrorHandler(function(t){this.resume(function(){e=!0;this.assertInstance(t,qx.core.WindowError);this.assertMatch(t.toString(),"Doofer Fehler");this.assertString(t.getUri());this.assertInteger(t.getLineNumber())},this)},this);window.setTimeout(function(){throw new Error("Doofer Fehler")},0);var t=this;window.setTimeout(function(){e||t.resume(function(){"opera"==qx.core.Environment.get("engine.name")||"webkit"==qx.core.Environment.get("engine.name")?this.warn("window.onerror is not supported by Opera and Webkit"):this.fail("window.onerror should be supported! Note: this test fails in IE if the debugger is active!")},t)},100);this.wait(500)},testOnWindowErrorWrapped:function(){this.require(["GlobalErrorHandling"]);this.errorHandler.setErrorHandler(null);var e=!1,t=!1,i=this,n=null,s=null,r=null;window.onerror=function(e,o,a){t=!0;i.assertMatch(e,"Doofer Fehler");i.assertString(o);i.assertInteger(a);n=e;s=o;r=a};this.errorHandler.setErrorHandler(function(i){this.resume(function(){e=!0;this.assertTrue(t,"native handler not called.");this.assertInstance(i,qx.core.WindowError);this.assertEquals(n,i.toString());this.assertEquals(s,i.getUri());this.assertEquals(r,i.getLineNumber())},this)},this);window.setTimeout(function(){throw new Error("Doofer Fehler")},0);i=this;window.setTimeout(function(){e||i.resume(function(){"opera"==qx.core.Environment.get("engine.name")||"webkit"==qx.core.Environment.get("engine.name")?this.warn("window.onerror is not supported by Opera and Webkit"):this.fail("window.onerror should be supported! Note: this test fails in IE if the debugger is active!")},i)},100);this.wait(500)}}});qx.test.event.GlobalError.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.event.Messaging":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.Messaging",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__m:null,setUp:function(){this.__m=new qx.event.Messaging},testTwoChannels:function(){var e=this.spy(),t=this.spy(),i={a:12},n={data:"test"};this.__m.on("GET","/get",e,i);this.__m.emit("GET","/get",null,n);this.assertCalledOnce(e);this.assertCalledOn(e,i);this.assertCalledWith(e,{customData:n,params:{},path:"/get"});this.assertNotCalled(t);this.__m.on("POST","/post",t,i);this.__m.emit("POST","/post",null,n);this.assertCalledOnce(t);this.assertCalledOn(t,i);this.assertCalledWith(t,{customData:n,params:{},path:"/post"});this.assertCalledOnce(e)},testGet:function(){var e=this.spy(),t={a:12},i={data:"test"};this.__m.on("get","/",e,t);this.__m.emit("get","/",null,i);this.assertCalledOnce(e);this.assertCalledOn(e,t);this.assertCalledWith(e,{customData:i,params:{},path:"/"})},testRegExp:function(){var e=this.spy(),t={a:12},i={data:"abcdef"};this.__m.on("xyz",/^xyz/g,e,t);this.__m.emit("xyz","xyzabc",null,i);this.__m.emit("xyz","abcxyz",null,i);this.assertCalledOnce(e);this.assertCalledOn(e,t);this.assertCalledWith(e,{customData:i,params:{},path:"xyzabc"})},testGetAll:function(){var e=this.spy();this.__m.on("a",/.*/,e);this.__m.emit("a","xyzabc");this.__m.emit("a","abcxyz");this.assertCalledTwice(e)},testAny:function(){var e=this.spy();this.__m.onAny(/.*/,e);this.__m.emit("a","xyzabc");this.__m.emit("b","abcxyz");this.assertCalledTwice(e)},testTwice:function(){var e=this.spy(),t={a:12},i={data:"test"};this.__m.on("GET","/",e,t);this.__m.emit("GET","/",null,i);this.__m.emit("GET","/",null,i);this.assertCalledTwice(e);this.assertCalledOn(e,t);this.assertCalledWith(e,{customData:i,params:{},path:"/"})},testParam:function(){var e=this.spy(),t={a:12};this.__m.on("POST","/{id}/affe",e,t);this.__m.emit("POST","/123456/affe",{data:"test"});this.assertCalledOnce(e);this.assertCalledOn(e,t);this.assertCalledWith(e,{customData:void 0,params:{id:"123456",data:"test"},path:"/123456/affe"})},testMultipleParam:function(){var e=this.spy();this.__m.on("POST","/{id}-{name}/affe",e);this.__m.emit("POST","/123456-xyz/affe",{data:"test"});this.assertCalledOnce(e);this.assertCalledWith(e,{customData:void 0,params:{id:"123456",name:"xyz",data:"test"},path:"/123456-xyz/affe"})},testRemove:function(){var e=this.spy(),t=this.__m.on("GET","/",e);this.__m.emit("GET","/");this.assertCalledOnce(e);this.__m.remove(t);this.__m.emit("GET","/");this.assertCalledOnce(e)},testHas:function(){this.__m.on("GET","/affe",function(){});this.__m.on("POST","/affe",function(){});this.assertTrue(this.__m.has("GET","/affe"));this.assertTrue(this.__m.has("POST","/affe"));this.assertFalse(this.__m.has("get","/affe"));this.assertFalse(this.__m.has("GET","/banane"));this.assertFalse(this.__m.has("PUT","/affe"));this.assertFalse(this.__m.has("banane","/affe"))}}});qx.test.event.Messaging.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.MockHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,statics:{PRIORITY:qx.event.Registration.PRIORITY_FIRST,SUPPORTED_TYPES:null,TARGET_CHECK:qx.event.IEventHandler.TARGET_OBJECT,IGNORE_CAN_HANDLE:!1},members:{calls:[],canHandleEvent:function(e,t){this.calls.push(["canHandleEvent",e,t]);return t.startsWith("$test")},registerEvent:function(e,t,i){this.calls.push(["registerEvent",e,t,i])},unregisterEvent:function(e,t,i){this.calls.push(["unregisterEvent",e,t,i])}},defer:function(e){qx.event.Registration.addHandler(e)}});qx.test.event.MockHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.Registration":{},"qx.test.event.MockHandler":{},"qx.event.type.Event":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.Registration",{extend:qx.dev.unit.TestCase,events:{$test:"qx.event.type.Event"},members:{testAddRemoveListener:function(){var e="$test",t=qx.event.Registration,i=t.getManager(this).findHandler(this,e);this.assertInstance(i,qx.test.event.MockHandler);var n=[!1,!1],s=function(e){n[0]=!0},r=function(e){n[1]=!0};i.calls=[];t.addListener(this,e,s,this,!1);this.assertEquals(1,i.calls.length);this.assertArrayEquals(["registerEvent",this,e,!1],i.calls[0]);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!0,!1],n);i.calls=[];n=[!1,!1];t.addListener(this,e,r,this,!1);this.assertEquals(0,i.calls.length);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!0,!0],n);i.calls=[];n=[!1,!1];t.removeListener(this,e,s,this,!1);this.assertEquals(0,i.calls.length);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!1,!0],n);i.calls=[];n=[!1,!1];t.removeListener(this,e,r,this,!1);this.assertEquals(1,i.calls.length);this.assertArrayEquals(["unregisterEvent",this,e,!1],i.calls[0]);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!1,!1],n)},testAddRemoveListenerById:function(){var e="$test",t=qx.event.Registration,i=t.getManager(this).findHandler(this,e),n=[!1,!1],s=t.addListener(this,e,function(e){n[0]=!0},this,!1);this.assertNotNull(s);var r=t.addListener(this,e,function(e){n[1]=!0},this,!1);this.assertNotNull(r);i.calls=[];n=[!1,!1];t.removeListenerById(this,s);this.assertEquals(0,i.calls.length);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!1,!0],n);i.calls=[];n=[!1,!1];t.removeListenerById(this,r);this.assertEquals(1,i.calls.length);this.assertArrayEquals(["unregisterEvent",this,e,!1],i.calls[0]);t.fireEvent(this,e,qx.event.type.Event,[]);this.assertArrayEquals([!1,!1],n)},"test addListenerOnce: same callback":function(){qx.Class.define("Foo",{extend:qx.core.Object,events:{bar:"qx.event.type.Event"},members:{fireBar:function(){this.fireDataEvent("bar")}}});var e=new Foo,t=new Foo,i={};i[e.toHashCode()]=0;i[t.toHashCode()]=0;var n=function(e){i[this.toHashCode()]++};e.addListenerOnce("bar",n,e);t.addListenerOnce("bar",n,t);e.fireBar();t.fireBar();e.fireBar();t.fireBar();this.assertEquals(1,i[e.toHashCode()]);this.assertEquals(1,i[t.toHashCode()])}}});qx.test.event.Registration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.GlobalError":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.Timer",{extend:qx.dev.unit.TestCase,members:{tearDown:function(){qx.event.GlobalError.setErrorHandler(null)},testGlobalErrorHandling:function(){qx.event.GlobalError.setErrorHandler(function(){this.resume(function(){})},this);qx.event.Timer.once(function(){throw new Error("fail")},this,0);this.wait(100)},testStartStop:function(){var e=0,t=new qx.event.Timer(50);t.addListener("interval",function(){2===++e&&t.stop()});t.start();this.wait(250,function(){this.assertFalse(0===e,"Timer did not fire interval event");this.assertFalse(1===e,"Timer did not fire interval event repeatedly, fired only once");this.assertIdentical(2,e,"Timer fired more interval events than expected (could not be stopped after second run)")}.bind(this))},testNoStartByDefault:function(){var e=0;new qx.event.Timer(1).addListener("interval",function(){e++});this.wait(250,function(){this.assertIdentical(0,e,"New timer did fire interval event without explicitly being started by calling start() or by setting enabled property to true")}.bind(this))},testStaticOnce:function(){var e=0;qx.event.Timer.once(function(){e++},this,1);this.wait(250,function(){this.assertIdentical(1,e,"Static method once() is expected to start automatically and to run exactly once")}.bind(this))}}});qx.test.event.Timer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.Utils":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.Utils",{extend:qx.dev.unit.TestCase,members:{testQxPromiseNotDefined:function(){this.assertTrue(!0)},testNoPromises:function(){var e=qx.event.Utils,t={},i="",n=this,s=!1;e.catch(t,function(){n.assertTrue(!1)});e.then(t,function(){return i+="A"});e.then(t,function(e){n.assertEquals("A",e);return i+="B"});e.then(t,function(){i+="C"});e.then(t,function(){n.assertEquals("ABC",i);s=!0});this.assertTrue(s)},testSomeDelayedPromises:function(){var e=qx.event.Utils,t={},i="",n=this;e.then(t,function(){i+="A"});e.then(t,function(){return new qx.Promise(function(e){setTimeout(function(){e(i+="B")},200)})});e.then(t,function(e){n.assertEquals("AB",e);i+="C"});e.then(t,function(){n.assertEquals("ABC",i);n.resume()});n.wait()},testSomeInstantPromises:function(){var e=qx.event.Utils,t={},i="",n=this;e.then(t,function(){i+="A"});e.then(t,function(){i+="B";return qx.Promise.resolve(i)});e.then(t,function(e){n.assertEquals("AB",e);i+="C"});e.then(t,function(){n.assertEquals("ABC",i);n.resume()});n.wait()},testSomeInstantPromises2:function(){var e=qx.event.Utils,t={},i="",n=this;e.then(t,function(){i+="A"});e.then(t,function(){i+="B";return qx.Promise.resolve()});e.then(t,function(){return new qx.Promise(function(e){setTimeout(function(){e(i+="C")},200)})});e.then(t,function(e){n.assertEquals("ABC",e);n.assertEquals("ABC",i);n.resume()});n.wait()},testSomeAbort:function(){var e=qx.event.Utils,t={},i="",n=this,s=!1;e.then(t,function(){i+="A"});e.then(t,function(){return e.ABORT});e.then(t,function(){i+="C"});e.then(t,function(){n.assertTrue(!1)});e.catch(t,function(){n.assertEquals("A",i);s=!0});this.assertTrue(s)},testSomeReject:function(){var e=qx.event.Utils,t={},i="",n=this;e.then(t,function(){i+="A"});e.then(t,function(){return new qx.Promise(function(e,t){setTimeout(function(){t()},200)})});e.then(t,function(){i+="C"});e.then(t,function(){n.assertTrue(!1)});e.catch(t,function(){n.assertEquals("A",i);n.resume()});n.wait()},testResolveAndReject:function(){var e=qx.event.Utils,t={},i="",n=this;e.then(t,function(){i+="A"});e.then(t,function(){return new qx.Promise(function(e){setTimeout(function(){i+="B";e()},200)})});e.then(t,function(){return new qx.Promise(function(e,t){setTimeout(function(){t()},200)})});e.then(t,function(){n.assertTrue(!1)});e.catch(t,function(){n.assertEquals("AB",i);n.resume()});n.wait()},testSeries1:function(){var e=qx.event.Utils,t={},i="",n=this;e.catch(t,function(){n.assertTrue(!1)});e.then(t,function(){return e.series(["A","B","C","D"],function(e){if("C"===e)return new qx.Promise(function(t,n){setTimeout(function(){i+=e;t()},200)});i+=e;return null})});e.then(t,function(){n.assertEquals("ABCD",i);n.resume();return null});n.wait()},testSeriesAbort:function(){var e=qx.event.Utils,t={},i="",n=this;e.catch(t,function(){n.assertEquals("AB",i);n.resume()});e.then(t,function(){return e.series(["A","B","C","D"],function(t){if("B"===t)return new qx.Promise(function(e,n){setTimeout(function(){i+=t;e()},200)});if("C"===t)return e.ABORT;i+=t;return null})});e.then(t,function(){n.assertTrue(!1)});n.wait()},testNativePromiseReturns:function(){if(void 0!==Promise){var e=this,t=new Promise(function(e){setTimeout(e,100)});t=(t=t.then(function(){return new Promise(function(e){setTimeout(e,100)}).then(function(){return!0})})).then(function(){e.resume()});this.wait()}else this.skip("Skipping because native Promise is not defined")},testPromiseReturns:function(){var e=this,t=new qx.Promise(function(e){setTimeout(function(){console.log("testPromiseReturns:: resolving p");e()},100)});t=(t=t.then(function(){return new qx.Promise(function(e){setTimeout(function(){console.log("testPromiseReturns:: resolving p2");e()},100)}).then(function(){console.log("testPromiseReturns:: resolving post p2")})})).then(function(){console.log("testPromiseReturns:: outer then, resuming test");e.resume()});this.wait()},testSeriesReject:function(){var e=qx.event.Utils,t={},i="",n=this;e.catch(t,function(){n.assertEquals("AB",i);n.resume()});e.then(t,function(){return e.series(["A","B","C","D"],function(e){if("C"===e)return new qx.Promise(function(e,t){setTimeout(function(){t()},200)});i+=e;return null})});e.then(t,function(){n.assertTrue(!1)});n.wait()},testSeriesRejectNested:function(){var e=qx.event.Utils,t={},i="",n=this;e.catch(t,function(){n.assertEquals("ABC1",i);n.resume()});e.then(t,function(){return e.series(["A","B","C","D"],function(t){if("C"===t){i+=t;return e.series([1,2,3,4],function(e){if(2==e)return new qx.Promise(function(e,t){setTimeout(function(){t()},200)});i+=e;return null})}i+=t;return null})});e.then(t,function(){n.assertTrue(!1);return null});n.wait()},testSeriesNested:function(){var e=qx.event.Utils,t={},i="",n=this;e.catch(t,function(){n.assertTrue(!1)});e.then(t,function(){return e.series(["A","B","C","D"],function(t){if("C"===t){i+=t;return e.series([1,2,3,4],function(e){if(2==e)return new qx.Promise(function(t,n){setTimeout(function(){i+=e;t()},200)});i+=e;return null})}i+=t;return null})});e.then(t,function(){n.assertEquals("ABC1234D",i);n.resume();return null});n.wait()},testTrack:function(){var e=function(e,t){return function(){return new qx.Promise(function(t){setTimeout(function(){n+=e;t()},300)})}},t=function(){var t={};i.then(t,e("A"));i.then(t,e("B"));i.then(t,e("C"));return t.promise},i=qx.event.Utils,n="",s=this,r=!0;!function(){var e={};i.track(e,t);i.then(e,function(){s.assertEquals("ABC",n);r=!0});s.assertTrue(r)}()}}});qx.test.event.Utils.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.test.event.dispatch.TestingHandler":{},"qx.event.dispatch.MouseCapture":{},"qx.event.dispatch.DomBubbling":{},"qx.event.dispatch.Direct":{},"qx.event.Registration":{},"qx.test.event.dispatch.TestingWindow":{},"qx.event.Manager":{},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.dispatch.MouseCapture",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=qx.dom.Element.create("div",{id:"root"});document.body.appendChild(e);e.innerHTML="<div id='c_1'><div id='c_1_1'></div></div><div id='c_2'>";this.c_1=document.getElementById("c_1");this.c_1_1=document.getElementById("c_1_1");this.c_2=document.getElementById("c_2");var t={removeManager:function(){},getHandlers:function(){return[qx.test.event.dispatch.TestingHandler]},getDispatchers:function(){return[qx.event.dispatch.MouseCapture,qx.event.dispatch.DomBubbling,qx.event.dispatch.Direct]},fireEvent:function(e,t,n,s){var r=qx.event.Registration.createEvent(t,n,s);return i.dispatchEvent(e,r)}};this.window=new qx.test.event.dispatch.TestingWindow;var i=this.manager=new qx.event.Manager(this.window,t);this.capture=this.manager.getDispatcher(qx.event.dispatch.MouseCapture);this.called=[];this.manager.addListener(this.c_1,"mousemove",this.logEvent,this);this.manager.addListener(this.c_1_1,"mousemove",this.logEvent,this);this.manager.addListener(this.c_2,"mousemove",this.logEvent,this)},tearDown:function(){var e=qx.event.Registration;e.removeAllListeners(this.c_1);e.removeAllListeners(this.c_1_1);e.removeAllListeners(this.c_2);document.body.removeChild(document.getElementById("root"));this.manager.dispose();this.window.dispose()},logEvent:function(e){this.called.push(e.getCurrentTarget().id)},onLoseCapture:function(){this.called.push("losecapture")},fire:function(e,t,i){var n=qx.event.Registration.createEvent(t,qx.event.type.Event,[!1!==i]);this.manager.dispatchEvent(e,n)},testNoCapture:function(){this.fire(this.c_1_1,"mousemove");this.assertEquals("c_1_1,c_1",this.called.join(","))},testContainerCapture:function(){this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.assertEquals("c_1",this.called.join(","));this.called=[];this.fire(this.c_1_1,"mousemove");this.assertEquals("c_1",this.called.join(","));this.called=[];this.fire(this.c_2,"mousemove");this.assertEquals("c_1",this.called.join(","))},testNoContainerCapture:function(){this.capture.activateCapture(this.c_1,!1);this.called=[];this.fire(this.c_1,"mousemove");this.assertEquals("c_1",this.called.join(","));this.called=[];this.fire(this.c_1_1,"mousemove");this.assertEquals("c_1_1,c_1",this.called.join(","));this.called=[];this.fire(this.c_2,"mousemove");this.assertEquals("c_1",this.called.join(","))},testCaptureBubbling:function(){this.capture.activateCapture(this.c_1_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.assertEquals("c_1_1,c_1",this.called.join(","))},testLoseCaptureOnClick:function(){this.manager.addListener(this.c_1,"losecapture",this.onLoseCapture,this);this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.fire(this.c_2,"click");this.assertEquals("c_1,losecapture",this.called.join(","))},testLoseCaptureOnWindowBlur:function(){this.manager.addListener(this.c_1,"losecapture",this.onLoseCapture,this);this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.fire(this.window,"blur",!1);this.assertEquals("c_1,losecapture",this.called.join(","))},testLoseCaptureOnWindowFocus:function(){this.manager.addListener(this.c_1,"losecapture",this.onLoseCapture,this);this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.fire(this.window,"focus",!1);this.assertEquals("c_1,losecapture",this.called.join(","))},testLoseCaptureOnWindowScroll:function(){this.manager.addListener(this.c_1,"losecapture",this.onLoseCapture,this);this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.fire(this.window,"scroll",!1);this.assertEquals("c_1,losecapture",this.called.join(","))},testLoseCaptureOnCaptureChange:function(){this.manager.addListener(this.c_1,"losecapture",this.onLoseCapture,this);this.capture.activateCapture(this.c_1,!0);this.called=[];this.fire(this.c_1,"mousemove");this.capture.activateCapture(this.c_2,!0);this.assertEquals("c_1,losecapture",this.called.join(","))}}});qx.test.event.dispatch.MouseCapture.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.IEventHandler":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.dispatch.TestingHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,members:{canHandleEvent:function(){return!0},registerEvent:function(){},unregisterEvent:function(){}}});qx.test.event.dispatch.TestingHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.dispatch.TestingWindow",{extend:qx.core.Object,events:{unload:"qx.event.type.Event",onunload:"qx.event.type.Event"},members:{addEventListener:function(e,t,i){return this.addListener(e,t,this,i)},attachEvent:function(e,t){return this.addListener(e,t)}}});qx.test.event.dispatch.TestingWindow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.log.appender.RingBuffer":{},"qx.log.Logger":{},"qx.event.Registration":{},"qx.bom.Element":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.dispatch.MouseEventOnDocument",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.root=qx.dom.Element.create("div",{id:"root"});document.body.appendChild(this.root);this.ringAppender=new qx.log.appender.RingBuffer;qx.log.Logger.register(this.ringAppender)},tearDown:function(){qx.log.Logger.unregister(this.ringAppender);qx.log.Logger.clear();this.ringAppender=null;var e=qx.event.Registration;e.removeAllListeners(document);e.removeAllListeners(window);e.removeAllListeners(this.root);document.body.removeChild(document.getElementById("root"))},testMouseEventsOnDocument:function(){this.doWork(document)},testMouseEventsOnWindow:function(){this.doWork(window)},testMouseEventsOnDomNode:function(){this.doWork(this.root)},doWork:function(e){this.ringAppender.clear();for(var t=["mousemove","click","mousedown","mouseup"],i=0;i<t.length;i++)qx.bom.Element.addListener(e,t[i],function(){});var n=this.ringAppender.getAllLogEvents().length;this.assertTrue(0===n,n+" events in ['mousemove','click','mousedown','mouseup'] generated a warning when added to target "+e)}}});qx.test.event.dispatch.MouseEventOnDocument.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.Registration":{usage:"dynamic",require:!0},"qx.event.handler.Offline":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.handler.Offline",{extend:qx.dev.unit.TestCase,members:{__handler:qx.event.Registration.getManager(window).getHandler(qx.event.handler.Offline),testIsOnline:function(){this.assertBoolean(this.__handler.isOnline())}}});qx.test.event.handler.Offline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Object":{},"qx.event.message.Bus":{},"qx.event.message.Message":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.message.Bus",{extend:qx.dev.unit.TestCase,members:{__subscriberOne:null,__subscriberTwo:null,__subscriberThree:null,setUp:function(){this.__subscriberOne=new qx.core.Object;this.__subscriberTwo=new qx.core.Object;this.__subscriberThree=new qx.core.Object},tearDown:function(){this.__subscriberOne.dispose();this.__subscriberTwo.dispose();this.__subscriberThree.dispose();var e=qx.event.message.Bus.getSubscriptions();for(var t in e)delete e[t];this.assertJsonEquals({},qx.event.message.Bus.getSubscriptions())},testDispatch:function(){var e=qx.event.message.Bus,t=0,i=this;e.subscribe("*",function(e){t++;i.assertEquals("MyMessage",e.getName());i.assertEquals(10,e.getData())},this.__subscriberOne);e.subscribe("MyMessage2",function(e){i.assertFalse(!0,"Wrong subscriber called!")},this.__subscriberTwo);e.subscribe("MyMessage",function(e){t++;i.assertEquals("MyMessage",e.getName());i.assertEquals(10,e.getData())},this.__subscriberThree);var n=new qx.event.message.Message("MyMessage",10);this.assertTrue(e.dispatch(n),"Message not dispatched");this.assertEquals(2,t,"Wrong callbacks!");n.dispose()},testDispatchWithDisposed:function(){var e=qx.event.message.Bus,t=0,i=this;e.subscribe("*",function(e){t++;i.assertEquals("MyMessage",e.getName());i.assertEquals(10,e.getData())},this.__subscriberOne);this.__subscriberTwo.dispose();e.subscribe("MyMessage",function(e){i.assertFalse(!0,"Wrong subscriber called!")},this.__subscriberTwo);e.subscribe("MyMessage",function(e){t++;i.assertEquals("MyMessage",e.getName());i.assertEquals(10,e.getData())},this.__subscriberThree);var n=new qx.event.message.Message("MyMessage",10);this.assertTrue(e.dispatch(n),"Message not dispatched");this.assertEquals(2,t,"Wrong callbacks!");n.dispose()},testWildcard:function(){var e=!1,t=!1;var i=qx.event.message.Bus.getInstance();i.subscribe("*",function(){e=!0},this);i.subscribe("mess*",function(){t=!0},this);var n=new qx.event.message.Message("message",!0);this.assertTrue(i.dispatch(n),"Message not dispatched");this.assertTrue(e,"Handler1 (filter '*') was not called for message 'message'.");this.assertTrue(t,"Handler2 (filter 'mess*') was not called for message 'message'.");e=!1;t=!1;var s=new qx.event.message.Message("massage",!0);this.assertTrue(i.dispatch(s),"Message not dispatched");this.assertTrue(e,"Handler1 (filter '*') was not called for message 'massage'.");this.assertFalse(t,"Handler2 (filter 'mess*') was wrongly called for message 'massage'.");n.dispose();s.dispose()},testUnsubscribe:function(){var e=!1;function t(){e=!0}var i=qx.event.message.Bus.getInstance();i.subscribe("message",t,this);i.unsubscribe("message",function(){},this);var n=new qx.event.message.Message("message",!0);this.assertTrue(i.dispatch(n),"Message not dispatched");this.assertTrue(e,"Handler was not called.");e=!1;i.unsubscribe("message",t,this);var s=new qx.event.message.Message("message",!0);this.assertFalse(i.dispatch(s),"Message not dispatched");this.assertFalse(e,"Handler was called although unsubscribed.");n.dispose();s.dispose()},testUnsubscribeAll:function(){var e=!1;var t=qx.event.message.Bus.getInstance();t.subscribe("message",function(){e=!0},this);var i=new qx.event.message.Message("message",!0);this.assertTrue(t.dispatch(i),"Message not dispatched");this.assertTrue(e,"Handler was not called.");e=!1;t.unsubscribe("message");var n=new qx.event.message.Message("message",!0);this.assertFalse(t.dispatch(n),"Message not dispatched");this.assertFalse(e,"Handler was called although unsubscribed.");i.dispose();n.dispose()},testWrongDispatch:function(){var e=!1;function t(){e=!0}var i=qx.event.message.Bus.getInstance();i.subscribe("message",t,this);i.subscribe("massage",t,this);var n=new qx.event.message.Message("trash",!0);this.assertFalse(i.dispatch(n),"Message was dispatched");this.assertFalse(e,"Handler was called.");n.dispose()}}});qx.test.event.message.Bus.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.message.Message":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.message.Bus",{type:"singleton",extend:qx.core.Object,statics:{getSubscriptions:function(){return this.getInstance().getSubscriptions()},subscribe:function(e,t,i){return this.getInstance().subscribe(e,t,i)},checkSubscription:function(e,t,i){return this.getInstance().checkSubscription(e,t,i)},unsubscribe:function(e,t,i){return this.getInstance().unsubscribe(e,t,i)},dispatch:function(e){return this.getInstance().dispatch.apply(this.getInstance(),arguments)},dispatchByName:function(e,t){return this.getInstance().dispatchByName.apply(this.getInstance(),arguments)}},construct:function(){this.__subscriptions={}},members:{__subscriptions:null,getSubscriptions:function(){return this.__subscriptions},subscribe:function(e,t,i){if(!e||"function"!=typeof t){this.error("Invalid parameters! "+[e,t,i]);return!1}var n=this.getSubscriptions();if(this.checkSubscription(e)){if(this.checkSubscription(e,t,i)){this.warn("Object method already subscribed to "+e);return!1}n[e].push({subscriber:t,context:i||null});return!0}n[e]=[{subscriber:t,context:i||null}];return!0},checkSubscription:function(e,t,i){var n=this.getSubscriptions();if(!n[e]||0===n[e].length)return!1;if(t){for(var s=0;s<n[e].length;s++)if(n[e][s].subscriber===t&&n[e][s].context===(i||null))return!0;return!1}return!0},unsubscribe:function(e,t,i){var n=this.getSubscriptions(),s=n[e];if(s){if(!t){n[e]=null;delete n[e];return!0}i||(i=null);var r,o=s.length;do{if((r=s[--o]).subscriber===t&&r.context===i){s.splice(o,1);if(0===s.length){n[e]=null;delete n[e]}return!0}}while(o)}return!1},dispatch:function(e){var t=this.getSubscriptions(),i=e.getName(),n=!1;for(var s in t){var r=s.indexOf("*");if(r>-1){if(0===r||s.substr(0,r)===i.substr(0,r)){this.__callSubscribers(t[s],e);n=!0}}else if(s===i){this.__callSubscribers(t[i],e);n=!0}}return n},dispatchByName:function(e,t){var i=new qx.event.message.Message(e,t),n=this.dispatch(i);i.dispose();i=null;return n},__callSubscribers:function(e,t){e=e.slice();for(var i=0;i<e.length;i++){var n=e[i].subscriber,s=e[i].context;if(s&&s.isDisposed)if(s.isDisposed()){e.splice(i,1);i--}else n.call(s,t);else n.call(s,t)}}}});qx.event.message.Bus.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.message.Message",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);null!=e&&this.setName(e);null!=t&&this.setData(t)},properties:{name:{check:"String"},data:{init:null,nullable:!0},sender:{check:"Object",nullable:!0}},destruct:function(){this.setData(null);this.setSender(null)}});qx.event.message.Message.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.type.Dom":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.type.Dom",{extend:qx.dev.unit.TestCase,members:{testClone:function(){var e={shiftKey:!0,ctrlKey:!0,altKey:!0,metaKey:!0},t=(new qx.event.type.Dom).init(e,document.body,document.body,!0,!0),i={shift:t.isShiftPressed(),ctrl:t.isCtrlPressed(),alt:t.isAltPressed(),meta:t.isMetaPressed()},n=t.clone();qx.lang.Object.empty(e);this.assertEquals(i.shift,n.isShiftPressed());this.assertEquals(i.ctrl,n.isCtrlPressed());this.assertEquals(i.alt,n.isAltPressed());this.assertEquals(i.meta,n.isMetaPressed());t.dispose();n.dispose()}}});qx.test.event.type.Dom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.type.Event",{extend:qx.dev.unit.TestCase,members:{"test: stop() should prevent default and stop propagation":function(){var e=(new qx.event.type.Event).init(!0,!0);this.assertFalse(e.getPropagationStopped());this.assertFalse(e.getDefaultPrevented());e.stop();this.assertTrue(e.getPropagationStopped());this.assertTrue(e.getDefaultPrevented());e.dispose()},"test: stop() cannot prevent default on non cancelable events":function(){var e=(new qx.event.type.Event).init(!0,!1);this.assertFalse(e.getDefaultPrevented());e.stop();this.assertFalse(e.getDefaultPrevented());e.dispose()},"test: stop() cannot stop propagation on a non bubbling event":function(){var e=(new qx.event.type.Event).init(!1,!0);this.assertFalse(e.getPropagationStopped());e.stop();this.assertFalse(e.getPropagationStopped());e.dispose()}}});qx.test.event.type.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.type.MouseWheel":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.type.Mouse",{extend:qx.dev.unit.TestCase,members:{testClone:function(){var e={button:2,clientX:20,clientY:40,srcElement:document.body,pageX:20,pageY:20,screenX:1e3,screenY:400,wheelDelta:20,detail:20},t=(new qx.event.type.MouseWheel).init(e,document.body,document.body,!0,!0),i={button:t.getButton(),viewportLeft:t.getViewportLeft(),viewportTop:t.getViewportTop(),documentLeft:t.getDocumentLeft(),documentTop:t.getDocumentTop(),screenLeft:t.getScreenLeft(),screenTop:t.getScreenTop(),wheel:t.getWheelDelta()},n=t.clone();qx.lang.Object.empty(e);this.assertEquals(i.button,n.getButton());this.assertEquals(i.viewportLeft,n.getViewportLeft());this.assertEquals(i.viewportTop,n.getViewportTop());this.assertEquals(i.documentLeft,n.getDocumentLeft());this.assertEquals(i.documentTop,n.getDocumentTop());this.assertEquals(i.screenLeft,n.getScreenLeft());this.assertEquals(i.screenTop,n.getScreenTop());this.assertEquals(i.wheel,n.getWheelDelta());t.dispose();n.dispose()}}});qx.test.event.type.Mouse.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.type.Native":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.type.Native",{extend:qx.dev.unit.TestCase,members:{testClone:function(){var e={},t=(new qx.event.type.Native).init(e,document.body,document.body,!0,!0),i=t.clone();qx.lang.Object.empty(e);i.preventDefault();t.dispose();i.dispose()}}});qx.test.event.type.Native.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.util.Keyboard":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.event.util.Keyboard",{extend:qx.dev.unit.TestCase,members:{testCommaAsValidKeyIdentifier:function(){var e=qx.event.util.Keyboard.isValidKeyIdentifier(",");this.assertTrue(e)}}});qx.test.event.util.Keyboard.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.html.Root":{},"qx.html.Element":{},"qx.core.Init":{},"qx.bom.Selection":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.html.Element",{extend:qx.dev.unit.TestCase,members:{setUp:function(){var e=document.createElement("div");document.body.appendChild(e);this._doc=new qx.html.Root(e);this._doc.setAttribute("id","doc")},tearDown:function(){qx.html.Element.flush();this._doc.dispose();var e=document.getElementById("doc");document.body.removeChild(e)},testHasListenerNoFlush:function(){var e=function(e){},t=new qx.html.Element;t.addListener("click",e,this);t.addListener("mousedown",e,this,!0);this.assertTrue(t.hasListener("click",!1));this.assertFalse(t.hasListener("click",!0));this.assertTrue(t.hasListener("mousedown",!0));this.assertFalse(t.hasListener("mousedown",!1));t.dispose()},testHasListenerFlush:function(){var e=function(e){},t=new qx.html.Element;t.addListener("click",e,this);t.addListener("mousedown",e,this,!0);qx.html.Element.flush();this.assertTrue(t.hasListener("click",!1));this.assertFalse(t.hasListener("click",!0));this.assertTrue(t.hasListener("mousedown",!0));this.assertFalse(t.hasListener("mousedown",!1));t.dispose()},testAddListener:function(){var e,t=function(){};(e=new qx.html.Element).addListener("click",t,this,!1);this.assertTrue(e.hasListener("click",!1));e.removeListener("click",t,this,!1);this.assertFalse(e.hasListener("click",!1));qx.html.Element.flush();e.dispose();e=new qx.html.Element;qx.html.Element.flush();e.addListener("click",t,this,!1);this.assertTrue(e.hasListener("click",!1));e.removeListener("click",t,this,!1);this.assertFalse(e.hasListener("click",!1));e.dispose();(e=new qx.html.Element).addListener("click",t,this,!1);qx.html.Element.flush();this.assertTrue(e.hasListener("click",!1));e.removeListener("click",t,this,!1);this.assertFalse(e.hasListener("click",!1));e.dispose()},testRemoveListenerById:function(){var e=(t=new qx.html.Element).addListener("click",function(){},this,!1);this.assertTrue(t.hasListener("click",!1));t.removeListenerById(e);this.assertFalse(t.hasListener("click",!1));qx.html.Element.flush();t.dispose();var t=new qx.html.Element;qx.html.Element.flush();e=t.addListener("click",function(){},this,!1);this.assertTrue(t.hasListener("click",!1));t.removeListenerById(e);this.assertFalse(t.hasListener("click",!1));t.dispose();e=(t=new qx.html.Element).addListener("click",function(){},this,!1);qx.html.Element.flush();this.assertTrue(t.hasListener("click",!1));t.removeListenerById(e);this.assertFalse(t.hasListener("click",!1));t.dispose()},testAddListenerOnce:function(){var e=new qx.html.Element("div",{width:"100px"});e.hide();qx.core.Init.getApplication().getRoot().getContentElement().add(e);var t=0;e.addListenerOnce("appear",function(){this.debug("appear!");t++},this);e.show();qx.html.Element.flush();e.hide();qx.html.Element.flush();e.show();this.wait(100,function(){this.assertEquals(1,t);e.dispose()},this)},testBasics:function(){var e=new qx.html.Element,t=new qx.html.Element,i=new qx.html.Element,n=new qx.html.Element,s=new qx.html.Element;this.assertQxObject(e);this.assertQxObject(t);e.setAttribute("id","el1");t.setAttribute("id","el2a");i.setAttribute("id","el2b");n.setAttribute("id","el3a");s.setAttribute("id","el3b");this.assertIdentical(e.getAttribute("id"),"el1");this.assertIdentical(t.getAttribute("id"),"el2a");e.add(t,i);t.add(n,s);this._doc.add(e);n.setAttribute("html","<b>hello</b>");this.assertIdentical(n.getAttribute("html"),"<b>hello</b>");e.setStyle("color","blue");e.setStyle("width","100px").setStyle("height","100px");this.assertCssColor("blue",e.getStyle("color"));this.assertIdentical("100px",e.getStyle("width"));this.assertIdentical("100px",e.getStyle("height"));qx.html.Element.flush();var r=document.getElementById("el1"),o=document.getElementById("el2a"),a=document.getElementById("el2b"),l=document.getElementById("el3a"),u=document.getElementById("el3b");this.assertFalse(o===a);this.assertIdentical(o.parentNode,r);this.assertIdentical(a.parentNode,r);this.assertIdentical(l.parentNode,o);this.assertIdentical(u.parentNode,o);this.assertIdentical(e.getChildren()[0],t);this.assertIdentical(e.getChildren()[1],i);this.assertIdentical(t.getChildren()[0],n);this.assertIdentical(t.getChildren()[1],s);this.assertIdentical(this._doc.getChildren()[0],e);var c=new qx.html.Element;c.setAttribute("id","before1");c.insertBefore(e);var d=new qx.html.Element;d.setAttribute("id","after1");d.insertAfter(e);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],e);this.assertIdentical(this._doc.getChildren()[2],d);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],d.getDomElement());var h=new qx.html.Element;h.setAttribute("id","before2");this._doc.addAt(h,0);var g=new qx.html.Element;g.setAttribute("id","after2");this._doc.addAt(g,10);this.assertIdentical(this._doc.getChildren()[0],h);this.assertIdentical(this._doc.getChildren()[1],c);this.assertIdentical(this._doc.getChildren()[2],e);this.assertIdentical(this._doc.getChildren()[3],d);this.assertIdentical(this._doc.getChildren()[4],g);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],g.getDomElement());h.moveAfter(c);g.moveBefore(d);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],h);this.assertIdentical(this._doc.getChildren()[2],e);this.assertIdentical(this._doc.getChildren()[3],g);this.assertIdentical(this._doc.getChildren()[4],d);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],g.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],d.getDomElement());var m=this._doc.indexOf(h),f=this._doc.indexOf(g);this.assertIdentical(m,1);this.assertIdentical(f,3);h.moveTo(f);g.moveTo(m);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],g);this.assertIdentical(this._doc.getChildren()[2],e);this.assertIdentical(this._doc.getChildren()[3],h);this.assertIdentical(this._doc.getChildren()[4],d);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],g.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],d.getDomElement());this._doc.remove(h);this._doc.remove(g);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],e);this.assertIdentical(this._doc.getChildren()[2],d);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],d.getDomElement());this._doc.add(h,g);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],e);this.assertIdentical(this._doc.getChildren()[2],d);this.assertIdentical(this._doc.getChildren()[3],h);this.assertIdentical(this._doc.getChildren()[4],g);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],g.getDomElement());this._doc.remove(h,g);this._doc.add(h,g);this._doc.remove(h,g);this._doc.add(h,g);this.assertIdentical(this._doc.getChildren()[0],c);this.assertIdentical(this._doc.getChildren()[1],e);this.assertIdentical(this._doc.getChildren()[2],d);this.assertIdentical(this._doc.getChildren()[3],h);this.assertIdentical(this._doc.getChildren()[4],g);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],g.getDomElement());this._doc.remove(h);c.moveAfter(d);h.insertBefore(c);this.assertIdentical(this._doc.getChildren()[0],e);this.assertIdentical(this._doc.getChildren()[1],d);this.assertIdentical(this._doc.getChildren()[2],h);this.assertIdentical(this._doc.getChildren()[3],c);this.assertIdentical(this._doc.getChildren()[4],g);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],g.getDomElement());for(var p=this._doc.getChildren(),_=1,x=p.length;_<x;_++)p[_].moveTo(0);this.assertIdentical(this._doc.getChildren()[0],g);this.assertIdentical(this._doc.getChildren()[1],c);this.assertIdentical(this._doc.getChildren()[2],h);this.assertIdentical(this._doc.getChildren()[3],d);this.assertIdentical(this._doc.getChildren()[4],e);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],g.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],e.getDomElement());c.moveAfter(h);this.assertIdentical(this._doc.getChildren()[0],g);this.assertIdentical(this._doc.getChildren()[1],h);this.assertIdentical(this._doc.getChildren()[2],c);this.assertIdentical(this._doc.getChildren()[3],d);this.assertIdentical(this._doc.getChildren()[4],e);qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],g.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],h.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],c.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],d.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],e.getDomElement())},testExclude:function(){this.info("Create five elements (2 hidden)");var e=new qx.html.Element;e.setAttribute("id","el1");var t=new qx.html.Element;t.setAttribute("id","el2");var i=new qx.html.Element;i.setAttribute("id","el3");var n=new qx.html.Element;n.setAttribute("id","el4");var s=new qx.html.Element;s.setAttribute("id","el5");this._doc.add(e,t,i,n,s);t.exclude();n.exclude();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],void 0);this.info("Make simple hidden element visible");t.include();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],void 0);this.info("Make complex hidden element visible");var r=new qx.html.Element;r.setAttribute("id","el4_1");var o=new qx.html.Element;o.setAttribute("id","el4_2");o.setStyle("color","red");o.setAttribute("text","el4_2");o.exclude();var a=new qx.html.Element;a.setAttribute("id","el4_3");n.add(r,o,a);n.include();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],n.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[5],void 0);this.assertIdentical(this._doc.getDomElement().childNodes[3].firstChild,r.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].lastChild,a.getDomElement());this.info("Show inner element");o.include();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],n.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[5],void 0);this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[0],r.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[1],o.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[2],a.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[3],void 0);this.info("Internal move while hidden");n.exclude();a.moveTo(0);n.remove(o);r.setStyle("fontSize","20px");r.setAttribute("text","el4_1");n.setStyle("backgroundColor","#ccc");qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],void 0);this.info("Internal move while hidden -> show again");n.include();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],n.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[5],void 0);this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[0],a.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[1],r.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3].childNodes[2],void 0);o.dispose()},testVisibility:function(){this.info("Create five elements (2 hidden)");var e=new qx.html.Element;e.setAttribute("id","el1");var t=new qx.html.Element;t.setAttribute("id","el2");var i=new qx.html.Element;i.setAttribute("id","el3");var n=new qx.html.Element;n.setAttribute("id","el4");var s=new qx.html.Element;s.setAttribute("id","el5");this._doc.add(e,t,i,n,s);t.hide();n.hide();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],void 0);this.info("Show one of the two hidden elements");t.show();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],void 0);this.info("Hide a rendered element");i.hide();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],void 0);this.assertIdentical(i.getDomElement().style.display,"none");this.info("Exclude & show together");i.exclude();i.show();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],void 0);this.assertIdentical(i.getDomElement().style.display,"");this.info("Include one and hide another element");i.include();t.hide();qx.html.Element.flush();this.assertIdentical(this._doc.getDomElement().childNodes[0],e.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[1],t.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[2],i.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[3],s.getDomElement());this.assertIdentical(this._doc.getDomElement().childNodes[4],void 0);this.assertIdentical(t.getDomElement().style.display,"none");this.assertIdentical(i.getDomElement().style.display,"")},testResetStyles:function(){var e=new qx.html.Element;this._doc.add(e);qx.html.Element.flush();this.assertIdentical(e.getDomElement().style.backgroundColor,"");e.setStyle("backgroundColor","green");qx.html.Element.flush();this.assertCssColor("green",e.getDomElement().style.backgroundColor);e.setStyle("backgroundColor",null);e.setStyle("backgroundColor","yellow");qx.html.Element.flush();this.assertCssColor("yellow",e.getDomElement().style.backgroundColor);e.setStyle("backgroundColor",null);qx.html.Element.flush();this.assertIdentical(e.getDomElement().style.backgroundColor,"")},testGetTextSelection:function(){var e=new qx.html.Element("input");e.setAttribute("value","vanillebaer");this._doc.add(e);qx.html.Element.flush();qx.bom.Selection.set(e.getDomElement(),0,4);this.assertEquals(e.getTextSelection(),"vani");e.clearTextSelection();qx.html.Element.flush()},testSetTextSelection:function(){var e=new qx.html.Element("input");e.setAttribute("value","vanillebaer");this._doc.add(e);qx.html.Element.flush();qx.bom.Selection.set(e.getDomElement(),0,4);this.assertEquals(e.getTextSelection(),"vani");e.setTextSelection(2,5);this.assertEquals(e.getTextSelection(),"nil");e.clearTextSelection();qx.html.Element.flush()},testClearTextSelection:function(){var e=new qx.html.Element("input");e.setAttribute("value","vanillebaer");this._doc.add(e);qx.html.Element.flush();qx.bom.Selection.set(e.getDomElement(),0,2);this.assertEquals(e.getTextSelection(),"va");e.clearTextSelection();this.assertEquals(e.getTextSelection(),"");e.clearTextSelection();qx.html.Element.flush()},testSelectAllText:function(){var e=new qx.html.Element("input");e.setAttribute("value","vanillebaer");this._doc.add(e);qx.html.Element.flush();qx.bom.Selection.set(e.getDomElement(),0);this.assertEquals(e.getTextSelection(),"vanillebaer");e.clearTextSelection();qx.html.Element.flush()}}});qx.test.html.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.html.Flash":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.html.Flash",{extend:qx.dev.unit.TestCase,members:{__flash:null,setUp:function(){this.__flash=new qx.html.Flash},tearDown:function(){this.__flash.dispose();this.__flash=null},testSetSource:function(e){this.__flash.setSource("movieURL");this.assertIdentical("movieURL",this.__flash.getAttributes().movie)},testSetId:function(e){this.__flash.setId("flashID");this.assertIdentical("flashID",this.__flash.getAttributes().id)},testSetVariables:function(e){var t={a:"valueA",b:"valueB"};this.__flash.setVariables(t);this.assertIdentical(t,this.__flash.getVariables())},testSetAttribute:function(e,t){this.__flash.setAttribute("attrib1","hoho");this.__flash.setAttribute("attrib2","gogo");this.__flash.setAttribute("attrib3",!0);this.__flash.setAttribute("attrib4",!1);this.__flash.getAttribute();this.assertIdentical("hoho",this.__flash.getAttributes().attrib1);this.assertIdentical("gogo",this.__flash.getAttributes().attrib2);this.assertTrue(this.__flash.getAttributes().attrib3);this.assertFalse(this.__flash.getAttributes().attrib4);this.__flash.setAttribute("attrib1");this.__flash.setAttribute("attrib3");this.assertUndefined(this.__flash.getAttributes().attrib1);this.assertIdentical("gogo",this.__flash.getAttributes().attrib2);this.assertUndefined(this.__flash.getAttributes().attrib3);this.assertFalse(this.__flash.getAttributes().attrib4);this.__flash.setAttribute("attrib2",null);this.__flash.setAttribute("attrib4",null);this.assertUndefined(this.__flash.getAttributes().attrib1);this.assertUndefined(this.__flash.getAttributes().attrib2);this.assertUndefined(this.__flash.getAttributes().attrib3);this.assertUndefined(this.__flash.getAttributes().attrib4)},testSetParam:function(e,t){this.__flash.setParam("param1","hoho");this.__flash.setParam("param2","gogo");this.__flash.setParam("param3",!0);this.__flash.setParam("param4",!1);this.__flash.getParams();this.assertIdentical("hoho",this.__flash.getParams().param1);this.assertIdentical("gogo",this.__flash.getParams().param2);this.assertTrue(this.__flash.getParams().param3);this.assertFalse(this.__flash.getParams().param4);this.__flash.setParam("param1");this.__flash.setParam("param3");this.assertUndefined(this.__flash.getParams().param1);this.assertIdentical("gogo",this.__flash.getParams().param2);this.assertUndefined(this.__flash.getParams().param3);this.assertFalse(this.__flash.getParams().param4);this.__flash.setParam("param2",null);this.__flash.setParam("param4",null);this.assertUndefined(this.__flash.getParams().param1);this.assertUndefined(this.__flash.getParams().param2);this.assertUndefined(this.__flash.getParams().param3);this.assertUndefined(this.__flash.getParams().param4)}}});qx.test.html.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0},"qx.dom.Element":{},"qx.bom.Flash":{},"qx.core.Assert":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Flash",{extend:qx.html.Element,construct:function(e,t){qx.html.Element.constructor.call(this,"div",e,t);this.__params={};this.__variables={};this.__attributes={}},members:{__params:null,__attributes:null,__variables:null,__flash:null,_createDomElement:function(){return qx.dom.Element.create("div")},createFlash:function(){this.__flash=qx.bom.Flash.create(this.getDomElement(),this.getAttributes(),this.__variables,this.__params)},setSource:function(e){qx.core.Assert.assertString(e,"Invalid attribute 'value'.");if(this.__flash)throw new Error("The source cannot be modified after initial creation");this.setAttribute("movie",e)},setId:function(e){qx.core.Assert.assertString(e,"Invalid attribute 'value'.");if(this.__flash)throw new Error("The id cannot be modified after initial creation");this.setAttribute("id",e)},getVariables:function(){return this.__variables},setVariables:function(e){qx.core.Assert.assertMap(e,"Invalid attribute 'value'.");if(this.__flash)throw new Error("The variables cannot be modified after initial creation");this.__variables=e},getAttributes:function(){return this.__attributes},setAttribute:function(e,t){qx.core.Assert.assertString(e,"Invalid attribute 'key'.");if(arguments.length>1&&null!==t&&!qx.lang.Type.isBoolean(t)&&!qx.lang.Type.isString(t))throw new Error("Invalid attribute 'value' expected String, Boolean or null.");if(0===e.indexOf("$$"))qx.html.Flash.prototype.setAttribute.base.call(this,e,t);else if(this.__flash)throw new Error("The attributes cannot be modified after initial creation");null===t||void 0===t?delete this.__attributes[e]:this.__attributes[e]=t},getParams:function(){return this.__params},setParam:function(e,t){qx.core.Assert.assertString(e,"Invalid attribute 'key'.");if(arguments.length>1&&null!==t&&!qx.lang.Type.isBoolean(t)&&!qx.lang.Type.isString(t))throw new Error("Invalid attribute 'value' expected String, Boolean or null.");if(this.__flash)throw new Error("The params cannot be modified after initial creation");null===t||void 0===t?delete this.__params[e]:this.__params[e]=t},getFlashElement:function(){return this.__flash}},destruct:function(){this.__flash&&qx.bom.Flash.destroy(this.__flash);this.__params=this.__variables=this.__attributes=null}});qx.html.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.dom.Element":{},"qx.log.Logger":{},"qx.lang.Object":{},"qx.bom.client.Engine":{defer:"runtime",require:!0},"qx.bom.client.Browser":{},"qx.bom.Event":{defer:"runtime"},"qx.event.GlobalError":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine",load:!0,defer:!0},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Flash",{statics:{_flashObjects:{},create:function(e,t,i,n,s){s||(s=window);qx.core.Assert.assertElement(e,"Invalid parameter 'element'.");qx.core.Assert.assertMap(t,"Invalid parameter 'attributes'.");qx.core.Assert.assertString(t.movie,"Invalid attribute 'movie'.");qx.core.Assert.assertString(t.id,"Invalid attribute 'id'.");qx.dom.Element.isInDom(e,s)||qx.log.Logger.warn(this,"The parent DOM element isn't in DOM! The External Interface doesn't work in IE!");t.width||(t.width="100%");t.height||(t.height="100%");(n=n?qx.lang.Object.clone(n):{}).movie||(n.movie=t.movie);t.data=t.movie;delete t.movie;if(i)for(var r in i)void 0!==n.flashvars?n.flashvars+="&"+r+"="+i[r]:n.flashvars=r+"="+i[r];var o=this.__createSwf(e,t,n,s);this._flashObjects[t.id]=o;return o},destroy:function(e,t){if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<11)if(4==(e=this.__getFlashObject(e)).readyState)this.__destroyObjectInIE(e);else{t||(t=window);qx.bom.Event.addNativeListener(t,"load",function(){qx.bom.Flash.__destroyObjectInIE(e)})}else{(e=this.__getFlashObject(e)).parentNode&&e.parentNode.removeChild(e);delete this._flashObjects[e.id]}},__getFlashObject:function(e){if(!e)throw new Error("DOM element is null or undefined!");"object"!==e.tagName.toLowerCase()&&(e=e.firstChild);if(!e||"object"!==e.tagName.toLowerCase())throw new Error("DOM element has or is not a flash object!");return e},__destroyObjectInIE:qx.core.Environment.select("engine.name",{mshtml:qx.event.GlobalError.observeMethod(function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e);delete this._flashObjects[e.id]}),default:null}),__fixOutOfMemoryError:qx.event.GlobalError.observeMethod(function(){for(var e in qx.bom.Flash._flashObjects)qx.bom.Flash.destroy(qx.bom.Flash._flashObjects[e]);window.__flash_unloadHandler=function(){};window.__flash_savedUnloadHandler=function(){};qx.bom.Event.removeNativeListener(window,"beforeunload",qx.bom.Flash.__fixOutOfMemoryError)}),__createSwf:function(e,t,i,n){if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<11){i.movie=t.data;delete t.data;delete t.classid;var s="";for(var r in i)s+='<param name="'+r+'" value="'+i[r]+'" />';if(t.id){e.innerHTML='<object id="'+t.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+s+"</object>";delete t.id}else e.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+s+"</object>";for(var r in t)"$"==r.substring(0,1)?e.firstChild[r]=t[r]:e.firstChild.setAttribute(r,t[r]);return e.firstChild}delete t.classid;delete i.movie;var o,a=qx.dom.Element.create("object",t,n);a.setAttribute("type","application/x-shockwave-flash");for(var r in i){(o=qx.dom.Element.create("param",{},n)).setAttribute("name",r);o.setAttribute("value",i[r]);a.appendChild(o)}e.appendChild(a);return a}},defer:function(e){"mshtml"==qx.core.Environment.get("engine.name")&&qx.bom.Event.addNativeListener(window,"beforeunload",e.__fixOutOfMemoryError)}});qx.bom.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.html.Root":{},"qx.html.Iframe":{},"qx.util.ResourceManager":{},"qx.bom.Iframe":{},"qx.html.Element":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.html.Iframe",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__doc:null,__frame:null,__origin:null,__destSource:null,__alredyRun:!1,setUp:function(){var e=document.createElement("div");document.body.appendChild(e);this.__doc=new qx.html.Root(e);this.__doc.setAttribute("id","doc");var t=this.__frame=new qx.html.Iframe;this.__doc.add(t);"file:"===window.location.protocol?this.__destSource="blank.html":this.__destSource=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html")},"test: set source to URL with same origin":function(){var e=this.__frame,t=this.__destSource;e.addListener("load",function(){this.resume(function(){var t=e.getDomElement(),i=qx.bom.Iframe.queryCurrentUrl(t)||t.src,n=e.getSource(),s=function(e){return"Must be "+i+", but was "+e};this.assertString(i);this.assertMatch(i,"/blank.html$",s(i));this.assertString(n);this.assertMatch(n,"/blank.html$",s(n))})},this);e.setSource(t);qx.html.Element.flush();this.wait()},"test: update source on navigate":function(){var e=this.__frame,t=this.__destSource;e.addListenerOnce("load",function(){qx.html.Element.flush();qx.bom.Iframe.setSource(e.getDomElement(),t)});qx.html.Element.flush();this.wait(500,function(){this.assertMatch(e.getSource(),"/blank.html$")},this)},"test: skip setting source if frame is already on URL":function(){var e,t=this.__frame,i=this.__destSource;t.addListenerOnce("load",function(){qx.bom.Iframe.setSource(t.getDomElement(),i)});qx.html.Element.flush();t.addListener("load",function(){e=qx.bom.Iframe.setSource;qx.bom.Iframe.setSource=function(){throw"setSource"};try{var i=qx.bom.Iframe.queryCurrentUrl(t.getDomElement());t.setSource(i);qx.html.Element.flush();this.resume()}catch(e){this.resume(function(){this.fail("Setting same URL must be skipped")})}qx.bom.Iframe.setSource=e},this);this.wait()},"test: set null source if frame is cross-origin":function(){var e=this.__frame;this.__alredyRun&&this.skip("This test can only run once. Reload to run again.");e.addListener("load",function(){this.resume(function(){var t=e.getDomElement();this.spy(qx.bom.Iframe,"setSource");e.setSource(null);this.assertCalledWith(qx.bom.Iframe.setSource,t,null)})},this);e.setSource("http://example.com");this.__alredyRun=!0;this.wait()},tearDown:function(){qx.html.Element.flush();var e=document.getElementById("doc");document.body.removeChild(e);this.getSandbox().restore();this.__frame.dispose();this.__frame=null}}});qx.test.html.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0},"qx.bom.Iframe":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Iframe",{extend:qx.html.Element,construct:function(e,t,i){qx.html.Element.constructor.call(this,"iframe",t,i);this.setSource(e);this.addListener("navigate",this.__onNavigate,this);qx.html.Element._modified[this.toHashCode()]=this;qx.html.Element._scheduleFlush("element")},events:{load:"qx.event.type.Event",navigate:"qx.event.type.Data"},members:{_applyProperty:function(e,t){qx.html.Iframe.prototype._applyProperty.base.call(this,e,t);if("source"==e){var i=this.getDomElement();if(t===qx.bom.Iframe.queryCurrentUrl(i))return;qx.bom.Iframe.setSource(i,t)}},_createDomElement:function(){return qx.bom.Iframe.create(this._content)},getWindow:function(){var e=this.getDomElement();return e?qx.bom.Iframe.getWindow(e):null},getDocument:function(){var e=this.getDomElement();return e?qx.bom.Iframe.getDocument(e):null},getBody:function(){var e=this.getDomElement();return e?qx.bom.Iframe.getBody(e):null},setSource:function(e){this._setProperty("source",e,!0);return this},getSource:function(){return this._getProperty("source")},setName:function(e){this.setAttribute("name",e);return this},getName:function(){return this.getAttribute("name")},reload:function(){if(this.getDomElement()){var e=this.getSource();this.setSource(null);this.setSource(e)}},__onNavigate:function(e){var t=e.getData();t&&this.setSource(t)}}});qx.html.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.ResourceManager":{},"qx.io.ImageLoader":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.ImageLoader",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__imageUri=qx.util.ResourceManager.getInstance().toUri("qx/test/colorstrip.gif");this.__wrongImageUri=this.__imageUri.replace(/color/,"foocolor");this.__vectorImageUri=qx.util.ResourceManager.getInstance().toUri("qx/test/bluebar.svg");this.__wrongVectorImageUri=this.__vectorImageUri.replace(/blue/,"fooblue")},tearDown:function(){qx.io.ImageLoader.dispose()},testLoadImageSuccess:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertTrue(qx.io.ImageLoader.isLoaded(this.__imageSource))},this)},this,500);this.wait()},testLoadVectorImageSuccess:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__vectorImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertTrue(qx.io.ImageLoader.isLoaded(this.__imageSource))},this)},this,500);this.wait()},testLoadImageFailure:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__wrongImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertTrue(qx.io.ImageLoader.isFailed(this.__imageSource))},this)},this,500);this.wait()},testLoadVectorImageFailure:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__wrongVectorImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertTrue(qx.io.ImageLoader.isFailed(this.__imageSource))},this)},this,500);this.wait()},testImageWidth:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertEquals(192,qx.io.ImageLoader.getWidth(this.__imageSource))},this)},this,500);this.wait()},testVectorImageWidth:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__vectorImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertEquals(192,qx.io.ImageLoader.getWidth(this.__imageSource))},this)},this,500);this.wait()},testImageHeight:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertEquals(10,qx.io.ImageLoader.getHeight(this.__imageSource))},this)},this,500);this.wait()},testVectorImageHeight:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__vectorImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertEquals(10,qx.io.ImageLoader.getHeight(this.__imageSource))},this)},this,500);this.wait()},testImageSize:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){var e=qx.io.ImageLoader.getSize(this.__imageSource);this.assertEquals(192,e.width);this.assertEquals(10,e.height)},this)},this,500);this.wait()},testVectorImageSize:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__vectorImageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){var e=qx.io.ImageLoader.getSize(this.__imageSource);this.assertEquals(192,e.width);this.assertEquals(10,e.height)},this)},this,500);this.wait()},testImageFormat:function(){this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(e,t){this.__imageSource=e},this);qx.event.Timer.once(function(e){this.resume(function(){this.assertEquals("gif",qx.io.ImageLoader.getFormat(this.__imageSource))},this)},this,500);this.wait()},testAbort:function(){var e=!1;this.__imageSource=null;qx.io.ImageLoader.load(this.__imageUri,function(t,i){e=!0;this.assertTrue(i.aborted);this.assertEquals(this.__imageUri,t)},this);qx.io.ImageLoader.abort(this.__imageUri);this.assertTrue(e)}}});qx.test.io.ImageLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.test.Part":{},"qx.test.io.part.MockLoader":{},"qx.Part":{},"qx.io.part.Package":{},"qx.io.part.ClosurePart":{},"qx.test.io.part.MockPackage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.part.ClosurePart",{extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{__dummyLoader:null,__timeout:null,__loader:null,setUp:function(){qx.test.PART_FILES=[];qx.test.Part.LOAD_ORDER=[];this.__dummyLoader=new qx.test.io.part.MockLoader;this.__loader=new qx.Part(this.__dummyLoader);qx.Part.$$instance=this.__loader;this.__timeout=qx.Part.TIMEOUT;qx.Part.TIMEOUT=3e3},tearDown:function(){qx.Part.$$instance=void 0;qx.Part.TIMEOUT=this.__timeout},loadPackage:function(e,t){t.loadClosure(this.__loader.notifyPackageResult,this.__loader)},"test: load part with one package":function(){var e=new qx.io.part.Package([this.getUrl("qx/test/part/file1-closure.js")],"p1"),t=new qx.io.part.ClosurePart("juhu",[e],this.__loader);this.__loader.addToPackage(e);var i=this;t.load(function(e){i.resume(function(){i.assertEquals("complete",e);i.assertJsonEquals(["file1-closure"],qx.test.PART_FILES)})});this.wait()},"test: load part with two packages":function(){var e=new qx.io.part.Package([this.getUrl("qx/test/part/file1-closure.js")],"p1"),t=new qx.io.part.Package([this.getUrl("qx/test/part/file2-closure.js")],"p2"),i=new qx.io.part.ClosurePart("juhu",[e,t],this.__loader);this.__loader.addToPackage(e);this.__loader.addToPackage(t);var n=this;i.load(function(e){n.resume(function(){n.assertJsonEquals(["file1-closure","file2-closure"],qx.test.PART_FILES)})});this.wait()},"test: load part with two packages and one already loading":function(){var e=new qx.test.io.part.MockPackage("p1",null,null,null,!0),t=new qx.test.io.part.MockPackage("p2",null,null,null,!0),i=new qx.io.part.ClosurePart("juhu",[e,t],this.__loader);this.__loader.addToPackage(e);this.__loader.addToPackage(t);this.loadPackage(i,t);var n=this;i.load(function(e){n.resume(function(){n.assertJsonEquals(["p1","p2"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: load part with two packages and both already loading":function(){var e=new qx.test.io.part.MockPackage("p1",null,null,null,!0),t=new qx.test.io.part.MockPackage("p2",null,null,null,!0),i=new qx.io.part.ClosurePart("juhu",[e,t],this.__loader);this.__loader.addToPackage(e);this.__loader.addToPackage(t);this.loadPackage(i,e);this.loadPackage(i,t);var n=this;i.load(function(e){n.resume(function(){n.assertJsonEquals(["p1","p2"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: load part with three packages and delay":function(){var e=new qx.test.io.part.MockPackage("p1",200,null,null,!0),t=new qx.test.io.part.MockPackage("p2",null,null,null,!0),i=new qx.test.io.part.MockPackage("p3",100,null,null,!0);this.__loader.addToPackage(e);this.__loader.addToPackage(t);this.__loader.addToPackage(i);var n=this;new qx.io.part.ClosurePart("juhu",[e,t,i],this.__loader).load(function(e){n.resume(function(){n.assertJsonEquals(["p1","p2","p3"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: load part with two packages and delay first part":function(){if(this.isLocal())this.needsPHPWarning();else{var e=new qx.test.io.part.MockPackage("p1",100,null,null,!0),t=new qx.test.io.part.MockPackage("p2",null,null,null,!0),i=new qx.io.part.ClosurePart("juhu",[e,t],this.__loader);this.__loader.addToPackage(e);this.__loader.addToPackage(t);var n=this;i.load(function(e){n.resume(function(){n.assertJsonEquals(["p1","p2"],qx.test.Part.LOAD_ORDER)})});this.wait()}},"test: load part with an error package":function(){var e=new qx.test.io.part.MockPackage("file211-closure",null,!0,null,!0),t=new qx.io.part.ClosurePart("juhu",[e],this.__loader);this.__loader.addToPackage(e);var i=this;t.load(function(e){i.resume(function(){i.assertEquals("error",e);i.assertJsonEquals([],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: load part with a loaded package should not reload the package again":function(){var e=new qx.test.io.part.MockPackage("p1",null,null,"complete",!0),t=new qx.io.part.ClosurePart("juhu",[e],this.__loader),i=this;e.load=function(){i.resume(function(){i.fail()})};t.load(function(e){i.resume(function(){i.assertEquals("complete",e)})});this.wait()},"test: load a part with preloaded package":function(){var e=new qx.test.io.part.MockPackage("p1",null,null,null,!0),t=new qx.io.part.ClosurePart("juhu",[e],this.__loader);this.__loader.addToPackage(e);var i=this;setTimeout(function(){t.load(function(e){i.resume(function(){i.assertEquals("complete",e);i.assertJsonEquals(["p1"],qx.test.Part.LOAD_ORDER)})})},100);t.preload();e.loadClosure=function(){i.resume(function(){i.fail("load called twice!")})};this.wait()}}});qx.test.io.part.ClosurePart.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.test.io.part.MockLoader",{construct:function(){},members:{parts:{b:["b"]},packages:{b:{uris:[]}},boot:"b"}});qx.test.io.part.MockLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.Part":{},"qx.test.Part":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.test.io.part.MockPackage",{construct:function(e,t,i,n,s){this.id=e;this.delay=t||0;this.error=!!i;this.readyState=n||"initialized";this.useClosure=!!s},members:{getReadyState:function(){return this.readyState},getId:function(){return this.id},load:function(e,t){var i=this;this._loadWithClosure=!1;i.readyState="loading";setTimeout(function(){if(i.error)i.readyState="error";else{i.useClosure?qx.Part.$$notifyLoad(i.id,function(){qx.test.Part.LOAD_ORDER.push(i.id)}):qx.test.Part.LOAD_ORDER.push(i.id);i.readyState="complete"}e.call(t,i)},i.delay)},saveClosure:function(e){if("error"!=this.readyState)if(this._loadWithClosure){this.__readyState="cached";this.__notifyPackageResult(this)}else this.execute()},execute:function(){qx.test.Part.LOAD_ORDER.push(this.id)},loadClosure:function(e,t){var i=this;this._loadWithClosure=!0;this.__notifyPackageResult=qx.Bootstrap.bind(e,t);i.readyState="loading";setTimeout(function(){if(i.error)i.readyState="error";else{qx.Part.$$notifyLoad(i.id,function(){qx.test.Part.LOAD_ORDER.push(i.id)});i.readyState="cached"}e.call(t,i)},i.delay)}}});qx.test.io.part.MockPackage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.test.io.part.MockLoader":{},"qx.io.part.Package":{},"qx.bom.client.Engine":{},"qx.Part":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.part.Package",{extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{__dummyLoader:null,setUp:function(){qx.test.PART_FILES=[];this.__dummyLoader=new qx.test.io.part.MockLoader},createPackage:function(e,t,i){return new qx.io.part.Package(e,t,i)},"test: load a package with one JS file":function(){var e=[this.getUrl("qx/test/part/file1.js")],t=this.createPackage(e,"1",!1);this.assertEquals("initialized",t.getReadyState());t.load(function(){this.resume(function(){this.assertEquals("complete",t.getReadyState());this.assertEquals("file1",qx.test.PART_FILES[0])},this)},this);this.assertEquals("loading",t.getReadyState());this.wait()},"test: load several files":function(){var e=[this.getUrl("qx/test/part/file1.js"),this.getUrl("qx/test/part/file2.js"),this.getUrl("qx/test/part/file3.js")];this.createPackage(e,"1",!1).load(function(){this.resume(function(){this.assertJsonEquals(["file1","file2","file3"],qx.test.PART_FILES)},this)},this);this.wait()},"test: delay the first file - test load order":function(){if(this.isLocal())this.needsPHPWarning();else{var e=[this.getUrl("qx/test/part/delay.php")+"?sleep=0.3",this.getUrl("qx/test/part/file2.js"),this.getUrl("qx/test/part/file3.js")];this.createPackage(e,"1",!1).load(function(){this.resume(function(){this.assertJsonEquals(["file1","file2","file3"],qx.test.PART_FILES)},this)},this);this.wait()}},"test: if one of the files fails to load, no load event should be fired":function(){if(this.isLocal())this.needsPHPWarning();else if("opera"!=qx.core.Environment.get("engine.name")&&"mshtml"!=qx.core.Environment.get("engine.name")){var e=[this.getUrl("qx/test/part/file1.js"),this.getUrl("qx/test/xmlhttp/404.php"),this.getUrl("qx/test/part/file3.js")],t=this.createPackage(e,"1",!1);t.load(function(){this.resume(function(){this.assertEquals("error",t.getReadyState())},this)},this);this.wait()}},"test: loading a closure package with load() should execute the closure":function(){var e=[this.getUrl("qx/test/part/file1-closure.js")],t=this.createPackage(e,"p1",!1),i=new qx.Part(this.__dummyLoader);qx.Part.$$instance=i;i.addToPackage(t);t.load(function(){this.resume(function(){this.assertJsonEquals(["file1-closure"],qx.test.PART_FILES)},this)},this);this.wait()},"test: loading a closure package with loadClosure() should not execute the closure":function(){var e=[this.getUrl("qx/test/part/file1-closure.js")],t=this.createPackage(e,"p1",!1),i=new qx.Part(this.__dummyLoader);qx.Part.$$instance=i;i.addToPackage(t);t.loadClosure(function(){this.resume(function(){this.assertEquals("cached",t.getReadyState());this.assertJsonEquals([],qx.test.PART_FILES);t.execute();this.assertJsonEquals(["file1-closure"],qx.test.PART_FILES)},this)},this);this.wait()},"test: loading a non existing file with loadClosure() should timeout":function(){var e=this.createPackage(["___foo.js"],"p1",!1),t=new qx.Part(this.__dummyLoader);qx.Part.$$instance=t;t.addToPackage(e);var i=qx.Part.TIMEOUT;qx.Part.TIMEOUT=300;e.loadClosure(function(){this.resume(function(){this.assertEquals("error",e.getReadyState());this.assertJsonEquals([],qx.test.PART_FILES)},this)},this);qx.Part.TIMEOUT=i;this.wait()}}});qx.test.io.part.Package.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.test.Part":{},"qx.test.io.part.MockLoader":{},"qx.Part":{},"qx.io.part.Part":{},"qx.test.io.part.MockPackage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.part.Part",{extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{__loader:null,setUp:function(){qx.test.Part.LOAD_ORDER=[];this.__dummyLoader=new qx.test.io.part.MockLoader;this.__loader=new qx.Part(this.__dummyLoader);qx.Part.$$instance=this.__loader},tearDown:function(){this.__loader=null;qx.Part.$$instance=void 0},createPart:function(e,t,i){return new qx.io.part.Part(e,t,i)},"test: load part with one package":function(){var e=new qx.test.io.part.MockPackage("1"),t=this.createPart("1",[e],this.__loader);this.assertEquals("initialized",t.getReadyState());var i=this;t.load(function(e){i.resume(function(){i.assertEquals("complete",e);i.assertEquals("complete",t.getReadyState())})});this.assertEquals("loading",t.getReadyState());this.wait()},"test: load part with several packages":function(){var e=[new qx.test.io.part.MockPackage("a"),new qx.test.io.part.MockPackage("b"),new qx.test.io.part.MockPackage("c")],t=this;this.createPart("1",e,this.__loader).load(function(e){t.resume(function(){t.assertJsonEquals(["a","b","c"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: delay loading of second package should preserve order":function(){var e=[new qx.test.io.part.MockPackage("a"),new qx.test.io.part.MockPackage("b",100),new qx.test.io.part.MockPackage("c")],t=this;this.createPart("1",e,this.__loader).load(function(e){t.resume(function(){t.assertJsonEquals(["a","b","c"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: one already loaded package should not be loaded again and preserve order":function(){var e=[new qx.test.io.part.MockPackage("a",0,!1,"complete"),new qx.test.io.part.MockPackage("b"),new qx.test.io.part.MockPackage("c")],t=this,i=this.__loader.loadPackage;this.__loader.loadPackage=function(n){n==e[0]?t.fail():i.call(this,n)};t=this;this.createPart("1",e,this.__loader).load(function(e){t.resume(function(){t.assertJsonEquals(["b","c"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: a currently loading package should not be loaded again and should preserve order":function(){var e=[new qx.test.io.part.MockPackage("a",0,!1,"complete"),new qx.test.io.part.MockPackage("b"),new qx.test.io.part.MockPackage("c")];e[1].load(this.__loader.notifyPackageResult,this.__loader);var t=this;this.createPart("1",e,this.__loader).load(function(e){t.resume(function(){t.assertJsonEquals(["b","c"],qx.test.Part.LOAD_ORDER)})});this.wait()},"test: error loading second package should set 'error' status on callback":function(){var e=[new qx.test.io.part.MockPackage("a"),new qx.test.io.part.MockPackage("b",0,!0),new qx.test.io.part.MockPackage("c")],t=this.createPart("1",e,this.__loader),i=this;t.load(function(e){i.resume(function(){this.assertEquals("error",e);this.assertEquals("error",t.getReadyState())})});this.wait()},"test: loading a loaded part again should not reload the packages":function(){var e=[new qx.test.io.part.MockPackage("a"),new qx.test.io.part.MockPackage("b"),new qx.test.io.part.MockPackage("c")],t=this.createPart("1",e,this.__loader),i=this;t.load(function(e){i.__loader.loadPackage=function(){i.fail()};t.load(function(e){i.resume(function(){this.assertEquals("complete",e)})})});this.wait()},"test: loading an error part again should not reload the packages":function(){var e=[new qx.test.io.part.MockPackage("a"),new qx.test.io.part.MockPackage("b",0,!0),new qx.test.io.part.MockPackage("c")],t=this.createPart("1",e,this.__loader),i=this;t.load(function(e){i.__loader.loadPackage=function(){i.fail()};t.load(function(e){i.resume(function(){i.assertEquals("error",e)})})});this.wait()},"test: load part with several packages including wrapped":function(){var e=[new qx.test.io.part.MockPackage("a",null,null,null,!0),new qx.test.io.part.MockPackage("b"),new qx.test.io.part.MockPackage("c",null,null,null,!0)];this.__loader.addToPackage(e[0]);this.__loader.addToPackage(e[1]);this.__loader.addToPackage(e[2]);var t=this;this.createPart("1",e,this.__loader).load(function(e){t.resume(function(){t.assertJsonEquals(["a","b","c"],qx.test.Part.LOAD_ORDER)})});this.wait()}}});qx.test.io.part.Part.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.event.Timer":{},"qx.lang.Json":{},"qx.io.remote.Request":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.AbstractRequest",{type:"abstract",extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{_requests:null,setUp:function(){this._requests=[];for(var e=0;e<10;e++){var t=this._createRequest();t.addListener("aborted",this.responseError,this);t.addListener("failed",this.responseError,this);t.addListener("timeout",this.responseError,this);this._requests[e]=t}},_createRequest:function(){throw new Error("Abstract method call")},_getRequests:function(){return this._requests},tearDown:function(){this._disposeArray("_requests")},responseError:function(e){var t=e,i=e.getType();qx.event.Timer.once(function(){this.resume(function(){this.fail("Response error: "+i+" "+t.getStatusCode())},this)},this)},testAsynchronous:function(){if(this.isLocal())this.needsPHPWarning();else{for(var e=0,t=0;t<this._requests.length;t++){var i=this._requests[t];i.setParameter("test","test"+t);i.addListener("completed",function(t){e++;var n=qx.lang.Json.parse(t.getContent());i=t.getTarget();this.assertEquals(i.getParameter("test"),n.test)},this);i.send()}var n=this;this.wait(5e3,function(){n.assertEquals(t,e)})}},testAbortedOnException:function(){if(this.isLocal())this.needsPHPWarning();else{var e=this.getUrl("qx/test/xmlhttp/echo_get_request.php"),t=new qx.io.remote.Request(e,"GET","text/plain");t.addListener("failed",this.responseError,this);t.addListener("timeout",this.responseError,this);t.addListener("completed",function(e){throw new Error("Expected exception.")},this);t.addListener("aborted",function(e){this.resume(function(){this.assertEquals(t,e.getTarget());t.dispose()},this)},this);t.send();this.wait(2e3)}}}});qx.test.io.remote.AbstractRequest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.io.remote.AbstractRequest":{require:!0},"qx.io.remote.Request":{},"qx.bom.client.Engine":{},"qx.lang.Json":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.RequestIframe",{extend:qx.test.io.remote.AbstractRequest,members:{_createRequest:function(){var e=this.getUrl("qx/test/xmlhttp/echo_form_request.php");return new qx.io.remote.Request(e,"GET","text/plain").set({fileUpload:!0})},testAsynchronous:function(){if(this.isLocal())this.needsPHPWarning();else{for(var e=0,t=0;t<this._requests.length;t++){var i,n=this._requests[t];n.setParameter("test","test"+t);n.addListener("completed",function(t){e++;if("mshtml"!==qx.core.Environment.get("engine.name")||""!==t.getContent()||i){if(!i){var s=qx.lang.Json.parse(t.getContent());n=t.getTarget();this.assertEquals(n.getParameter("test"),s.test)}}else{this.warn("Skipping test due to empty content in one of the request's response");i=!0}},this);n.send()}var s=this;this.wait(5e3,function(){s.assertEquals(t,e)})}},testAsynchronousSingle:function(){var e=this._requests[0];e.setParameter("test","affe");e.addListener("completed",function(e){var t=qx.lang.Json.parse(e.getContent());this.assertEquals("affe",t.test)},this);e.send()}}});qx.test.io.remote.RequestIframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.io.remote.AbstractRequest":{require:!0},"qx.io.remote.Request":{},"qx.lang.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.RequestXhr",{extend:qx.test.io.remote.AbstractRequest,members:{_createRequest:function(){var e=this.getUrl("qx/test/xmlhttp/echo_get_request.php");return new qx.io.remote.Request(e,"GET","text/plain")},testSynchronous:function(){if(this.isLocal())this.needsPHPWarning();else{for(var e=0,t=0;t<this._getRequests().length;t++){var i=this._getRequests()[t];i.setAsynchronous(!1);i.setParameter("test","test"+t);i.addListener("completed",function(t){e++;var n=qx.lang.Json.parse(t.getContent());i=t.getTarget();this.assertEquals(i.getParameter("test"),n.test)},this);i.send()}this.assertEquals(t,e,"Test doesn't run synchronous!")}},testSynchronousAndAsynchronousMix:function(){if(this.isLocal())this.needsPHPWarning();else{var e=this._getRequests()[0],t=this._getRequests()[1];e.setParameter("test","asynchronousRequest");e.setParameter("sleep",1);t.setParameter("test","synchronousRequest");t.setAsynchronous(!1);var i=!1,n=!1;e.addListener("completed",function(e){i=!0;var t=qx.lang.Json.parse(e.getContent()),n=e.getTarget();this.assertEquals(n.getParameter("test"),t.test)},this);t.addListener("completed",function(e){n=!0;var t=qx.lang.Json.parse(e.getContent()),i=e.getTarget();this.assertEquals(i.getParameter("test"),t.test)},this);e.send();t.send();var s=this;this.wait(5e3,function(){s.assertTrue(i);s.assertTrue(n)})}},testGetResponseHeader:function(){if(this.isLocal())this.needsPHPWarning();else{var e=new qx.io.remote.Request;e.setUrl(this.getUrl("qx/test/xmlhttp/send_known_header.php"));e.addListener("completed",function(e){this.resume(function(){this.assertEquals("kinners",e.getResponseHeader("juhu"),"Exact case match");this.assertEquals("kinners",e.getResponseHeader("Juhu"),"Case insensitive match")},this)},this);window.setTimeout(function(){e.send()},1e3);this.wait(5e3)}}}});qx.test.io.remote.RequestXhr.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.io.remote.Request":{},"qx.io.remote.Rpc":{},"qx.event.Registration":{},"qx.io.remote.Response":{},"qx.lang.Type":{},"qx.lang.Json":{},"qx.dev.unit.RequirementError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.Rpc",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{setUpFakeRequest:function(){var e=this.request=new qx.io.remote.Request;e.setState=e.getSequenceNumber=e.setData=e.send=function(){};this.stub(e);e.addListener.restore();e.dispatchEvent.restore();e.getSequenceNumber.returns(void 0);this.injectStub(qx.io.remote,"Request",e)},tearDown:function(){this.getSandbox().restore()},"test: send request":function(){this.setUpFakeRequest();new qx.io.remote.Rpc("/foo").callAsync();this.assertCalledOnce(this.request.send)},"test: request data for params with date contains date literal when convert dates":function(){this.setUpFakeRequest();var e,t,i={date:new Date(Date.UTC(2020,0,1,0,0,0,123))},n=new qx.io.remote.Rpc;this.stub(n,"_isConvertDates").returns(!0);this.stub(n,"createRpcData").returns({params:i});n.callAsync();t=this.request.setData.getCall(0).args[0];e="Must contain converted date literal";this.assertMatch(t,/"new Date\(Date.UTC\(2020,0,1,0,0,0,123\)\)"/,e)},"test: request data for params with nested date contains date literal when convert dates":function(){this.setUpFakeRequest();var e,t,i={nested:{date:new Date(Date.UTC(2020,0,1,0,0,0,123))}},n=new qx.io.remote.Rpc;this.stub(n,"_isConvertDates").returns(!0);this.stub(n,"createRpcData").returns({params:i});n.callAsync();t=this.request.setData.getCall(0).args[0];e="Must contain converted date literal";this.assertMatch(t,/"new Date\(Date.UTC\(2020,0,1,0,0,0,123\)\)"/,e)},"test: response contains date from literal when convert dates":function(){this.setUpFakeRequest();var e=new qx.io.remote.Rpc,t=this.request,i=qx.event.Registration.createEvent("completed",qx.io.remote.Response),n=this;this.stub(e,"_isConvertDates").returns(!0);var s=this.spy(function(e){var t="Expected value to be date but found "+_typeof(e.date);n.assertTrue(qx.lang.Type.isDate(e.date),t)});e.callAsync(s);i.setContent('{"result": {"date": new Date(Date.UTC(2020,0,1,0,0,0,123))} }');t.dispatchEvent(i);this.assertCalled(s)},"test: response contains date from literal when convert dates and json response":function(){this.setUpFakeRequest();var e=new qx.io.remote.Rpc,t=this.request,i=qx.event.Registration.createEvent("completed",qx.io.remote.Response),n=this;this.stub(e,"_isConvertDates").returns(!0);this.stub(e,"_isResponseJson").returns(!0);this.spy(qx.lang.Json,"parse");var s=this.spy(function(e){var t;n.assertCalled(qx.lang.Json.parse);t="Expected value to be date but found "+_typeof(e.date);n.assertTrue(qx.lang.Type.isDate(e.date),t)});e.callAsync(s);i.setContent('{"result": {"date": "new Date(Date.UTC(2020,0,1,0,0,0,123))"} }');t.dispatchEvent(i);this.assertCalled(s)},"test: response is parsed as JSON":function(){this.setUpFakeRequest();var e=new qx.io.remote.Rpc,t=this.request,i=qx.event.Registration.createEvent("completed",qx.io.remote.Response),n='{"result": { "json" : true} }',s=this;this.stub(e,"_isConvertDates").returns(!1);this.spy(qx.lang.Json,"parse");var r=this.spy(function(e){s.assertCalledWith(qx.lang.Json.parse,n)});e.callAsync(r);i.setContent(n);t.dispatchEvent(i);this.assertCalled(r)},"test: response is not parsed when already object":function(){this.setUpFakeRequest();var e=new qx.io.remote.Rpc,t=this.request,i=qx.event.Registration.createEvent("completed",qx.io.remote.Response),n=this;this.stub(e,"_isConvertDates").returns(!1);this.spy(qx.lang.Json,"parse");var s=this.spy(function(e){n.assertNotCalled(qx.lang.Json.parse)});e.callAsync(s);i.setContent({result:{json:!0}});t.dispatchEvent(i);this.assertCalled(s)},"test: isConvertDates() returns true when Rpc true":function(){var e=new qx.io.remote.Rpc;this.stub(qx.io.remote.Rpc,"CONVERT_DATES",!0);this.assertEquals(!0,e._isConvertDates())},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.io.remote.Rpc.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.io.remote.Request":{},"qx.lang.Json":{},"qx.io.remote.Exchange":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.io.remote.Rpc",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);void 0!==e&&this.setUrl(e);null!=t&&this.setServiceName(t);qx.core.ServerSettings&&(this.__currentServerSuffix=qx.core.ServerSettings.serverPathSuffix)},events:{completed:"qx.event.type.Event",aborted:"qx.event.type.Event",failed:"qx.event.type.Event",timeout:"qx.event.type.Event"},statics:{origin:{server:1,application:2,transport:3,local:4},localError:{timeout:1,abort:2,nodata:3},CONVERT_DATES:null,RESPONSE_JSON:null,makeServerURL:function(e){var t=null;if(qx.core.ServerSettings){t=qx.core.ServerSettings.serverPathPrefix+"/.qxrpc"+qx.core.ServerSettings.serverPathSuffix;null!=e&&(t+="?instanceId="+e)}return t}},properties:{timeout:{check:"Integer",nullable:!0},crossDomain:{check:"Boolean",init:!1},url:{check:"String",nullable:!0},serviceName:{check:"String",nullable:!0},serverData:{check:"Object",nullable:!0},username:{check:"String",nullable:!0},password:{check:"String",nullable:!0},useBasicHttpAuth:{check:"Boolean",nullable:!0},protocol:{init:"qx1",check:function(e){return"qx1"==e||"2.0"==e}}},members:{__previousServerSuffix:null,__currentServerSuffix:null,createRequest:function(){return new qx.io.remote.Request(this.getUrl(),"POST","application/json")},createRpcData:function(e,t,i,n){var s,r;if("qx1"==this.getProtocol()){s={service:"refreshSession"==t?null:this.getServiceName(),method:t,id:e,params:i};n&&(s.server_data=n)}else{(r=this.getServiceName())&&""!=r?r+=".":r="";s={jsonrpc:"2.0",method:r+t,id:e,params:i}}return s},_callInternal:function _callInternal(args,callType,refreshSession){for(var self=this,offset=0==callType?0:1,whichMethod=refreshSession?"refreshSession":args[offset],handler=args[0],argsArray=[],eventTarget=this,protocol=this.getProtocol(),i=offset+1;i<args.length;++i)argsArray.push(args[i]);var req=this.createRequest(),serverData=this.getServerData(),rpcData=this.createRpcData(req.getSequenceNumber(),whichMethod,argsArray,serverData);req.setCrossDomain(this.getCrossDomain());if(this.getUsername()){req.setUseBasicHttpAuth(this.getUseBasicHttpAuth());req.setUsername(this.getUsername());req.setPassword(this.getPassword())}req.setTimeout(this.getTimeout());var ex=null,id=null,result=null,response=null,handleRequestFinished=function(e,t){switch(callType){case 0:break;case 1:try{handler(result,ex,id)}catch(e){t.error("rpc handler threw an error: id="+id+" result="+qx.lang.Json.stringify(result)+" ex="+qx.lang.Json.stringify(ex),e)}break;case 2:if(ex){ex.id=id;args[0]?t.fireDataEvent("failed",ex):t.fireDataEvent(e,ex)}else t.fireDataEvent(e,response)}},addToStringToObject=function(e){e.toString="qx1"==protocol?function(){switch(e.origin){case qx.io.remote.Rpc.origin.server:return"Server error "+e.code+": "+e.message;case qx.io.remote.Rpc.origin.application:return"Application error "+e.code+": "+e.message;case qx.io.remote.Rpc.origin.transport:return"Transport error "+e.code+": "+e.message;case qx.io.remote.Rpc.origin.local:return"Local error "+e.code+": "+e.message;default:return"UNEXPECTED origin "+e.origin+" error "+e.code+": "+e.message}}:function(){var t;t="Error "+e.code+": "+e.message;e.data&&(t+=" ("+e.data+")");return t}},makeException=function(e,t,i){var n=new Object;"qx1"==protocol&&(n.origin=e);n.code=t;n.message=i;addToStringToObject(n);return n};req.addListener("failed",function(e){var t=e.getStatusCode();ex=makeException(qx.io.remote.Rpc.origin.transport,t,qx.io.remote.Exchange.statusCodeToString(t));id=this.getSequenceNumber();handleRequestFinished("failed",eventTarget)});req.addListener("timeout",function(e){this.debug("TIMEOUT OCCURRED");ex=makeException(qx.io.remote.Rpc.origin.local,qx.io.remote.Rpc.localError.timeout,"Local time-out expired for "+whichMethod);id=this.getSequenceNumber();handleRequestFinished("timeout",eventTarget)});req.addListener("aborted",function(e){ex=makeException(qx.io.remote.Rpc.origin.local,qx.io.remote.Rpc.localError.abort,"Aborted "+whichMethod);id=this.getSequenceNumber();handleRequestFinished("aborted",eventTarget)});req.addListener("completed",function(evt){response=evt.getContent();if(null!==response){qx.lang.Type.isObject(response)||(response=self._isConvertDates()?self._isResponseJson()?qx.lang.Json.parse(response,function(e,t){if(t&&"string"==typeof t&&t.indexOf("new Date(Date.UTC(")>=0){var i=t.match(/new Date\(Date.UTC\((\d+),(\d+),(\d+),(\d+),(\d+),(\d+),(\d+)\)\)/);return new Date(Date.UTC(i[1],i[2],i[3],i[4],i[5],i[6],i[7]))}return t}):response&&response.length>0?eval("("+response+")"):null:qx.lang.Json.parse(response));id=response.id;id!=this.getSequenceNumber()&&this.warn("Received id ("+id+") does not match requested id ("+this.getSequenceNumber()+")!");var eventType="completed",exTest=response.error;if(null!=exTest){result=null;addToStringToObject(exTest);ex=exTest;eventType="failed"}else{result=response.result;if(refreshSession){result=eval("("+result+")");var newSuffix=qx.core.ServerSettings.serverPathSuffix;if(self.__currentServerSuffix!=newSuffix){self.__previousServerSuffix=self.__currentServerSuffix;self.__currentServerSuffix=newSuffix}self.setUrl(self.fixUrl(self.getUrl()))}}handleRequestFinished(eventType,eventTarget)}else{ex=makeException(qx.io.remote.Rpc.origin.local,qx.io.remote.Rpc.localError.nodata,"No data in response to "+whichMethod);id=this.getSequenceNumber();handleRequestFinished("failed",eventTarget)}});var replacer=null;this._isConvertDates()&&(replacer=function(e,t){t=this[e];if(qx.lang.Type.isDate(t)){return"new Date(Date.UTC("+(t.getUTCFullYear()+","+t.getUTCMonth()+","+t.getUTCDate()+","+t.getUTCHours()+","+t.getUTCMinutes()+","+t.getUTCSeconds()+","+t.getUTCMilliseconds())+"))"}return t});req.setData(qx.lang.Json.stringify(rpcData,replacer));req.setAsynchronous(callType>0);req.getCrossDomain()?req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):req.setRequestHeader("Content-Type","application/json");req.setParseJson(!1);req.send();if(0==callType){if(null!=ex){var error=new Error(ex.toString());error.rpcdetails=ex;throw error}return result}return req},fixUrl:function(e){if(null==this.__previousServerSuffix||null==this.__currentServerSuffix||""==this.__previousServerSuffix||this.__previousServerSuffix==this.__currentServerSuffix)return e;var t=e.indexOf(this.__previousServerSuffix);return-1==t?e:e.substring(0,t)+this.__currentServerSuffix+e.substring(t+this.__previousServerSuffix.length)},callSync:function(e,t){return this._callInternal(arguments,0)},callAsync:function(e,t,i){return this._callInternal(arguments,1)},callAsyncListeners:function(e,t,i){return this._callInternal(arguments,2)},refreshSession:function(e){if(qx.core.ServerSettings&&qx.core.ServerSettings.serverPathSuffix){((new Date).getTime()-qx.core.ServerSettings.lastSessionRefresh)/1e3>qx.core.ServerSettings.sessionTimeoutInSeconds-30?this._callInternal([e],1,!0):e(!0)}else e(!1)},_isConvertDates:function(){return!!qx.io.remote.Rpc.CONVERT_DATES},_isResponseJson:function(){return!!qx.io.remote.Rpc.RESPONSE_JSON},abort:function(e){e.abort()}}});qx.io.remote.Rpc.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.io.remote.transport.Iframe":{},"qx.lang.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.transport.Iframe",{extend:qx.dev.unit.TestCase,include:qx.test.io.MRemoteTest,members:{setUp:function(){this.request=new qx.io.remote.transport.Iframe},testGetIframeHtmlContent:function(){if(this.isLocal())this.needsPHPWarning();else{this.request.addListener("completed",function(){this.resume(function(){var e=this.request.getIframeHtmlContent();this.assertNotNull(e,"Response is 'null'!");this.assertNotEquals("",e,"Response is empty!");e=qx.lang.Json.parse(e);this.assertEquals("my_param=expected",e._data_,"Response is wrong!")},this)},this);this.request.setUrl(this.getUrl("qx/test/xmlhttp/echo_get_request.php"));this.request.setParameters({my_param:"expected"});this.request.send();this.wait()}}}});qx.test.io.remote.transport.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.io.remote.transport.XmlHttp":{},"qx.util.AliasManager":{},"qx.event.Timer":{},"qx.util.ResourceManager":{},"qx.lang.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.remote.transport.XmlHttp",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.request=new qx.io.remote.transport.XmlHttp;this.request.addListener("aborted",this.responseError,this);this.request.addListener("failed",this.responseError,this);this.request.addListener("timeout",this.responseError,this);this.resourceBase=qx.util.AliasManager.getInstance().resolve("qx/test/")},tearDown:function(){this.request.dispose()},responseError:function(e){var t=e.getTarget(),i=e.getType();qx.event.Timer.once(function(){this.resume(function(){this.fail("Response error: "+i+" "+t.getStatusCode()+" "+t.getStatusText())},this)},this)},getUrl:function(e){return qx.util.ResourceManager.getInstance().toUri(e)},isLocal:function(){return"file:"==window.location.protocol},needsPHPWarning:function(){this.warn("This test can only be run from a web server with PHP support.")},testSetHeader:function(){if(this.isLocal())this.needsPHPWarning();else{this.request.setUrl(this.getUrl("qx/test/xmlhttp/echo_header.php"));this.request.getRequestHeaders().foo="bar";this.request.setRequestHeader("juhu","kinners");this.request.addListener("completed",function(e){this.resume(function(){var e=qx.lang.Json.parse(this.request.getResponseText().toLowerCase());this.assertEquals("kinners",e.juhu);this.assertEquals("bar",e.foo)},this)},this);var e=this;window.setTimeout(function(){e.request.send()},250);this.wait(7500)}},testGetResponseHeader:function(){if(this.isLocal())this.needsPHPWarning();else{this.request.setUrl(this.getUrl("qx/test/xmlhttp/send_known_header.php"));this.request.addListener("completed",function(e){this.resume(function(){var e=this.request.getResponseHeader("juhu")||this.request.getResponseHeader("Juhu");this.assertEquals("kinners",e)},this)},this);var e=this;window.setTimeout(function(){e.request.send()},250);this.wait(7500)}}}});qx.test.io.remote.transport.XmlHttp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.Class":{},"qx.core.Object":{},"qx.util.Uri":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.test.io.request.MRequest",{members:{setUpKlass:function(){qx.Class.define("Klass",{extend:qx.core.Object,properties:{affe:{init:!0}}})},"test: dispose transport on destruct":function(){this.req.dispose();this.wait(100,function(){this.assertCalled(this.transport.dispose)},this)},"test: getTransport()":function(){this.assertEquals(this.transport,this.req.getTransport())},"test: send() GET":function(){this.req.send();this.assertCalledWith(this.transport.open,"GET","url");this.assertCalled(this.transport.send)},"test: drop fragment from URL":function(){this.req.setUrl("example.com#fragment");this.req.send();this.assertCalledWith(this.transport.open,"GET","example.com")},"test: abort request":function(){this.req.abort();this.assertCalled(this.transport.abort)},"test: not send data with GET request":function(){this.req.setRequestData("str");this.req.send();this.assertCalledWith(this.transport.send,void 0)},"test: append string data to URL with GET request":function(){this.req.setRequestData("str");this.req.send();this.assertCalledWith(this.transport.open,"GET","url?str")},"test: append obj data to URL with GET request":function(){this.req.setRequestData({affe:!0});this.req.send();this.assertCalledWith(this.transport.open,"GET","url?affe=true")},"test: append qooxdoo obj data to URL with GET request":function(){this.setUpKlass();var e=new Klass;this.req.setRequestData(e);this.req.send();this.assertCalledWith(this.transport.open,"GET","url?affe=true");e.dispose()},"test: append FormData to URL with POST request":function(){window.FormData||this.skip("FormData API not supported");this.req.setMethod||this.skip("POST requests not supported by this transport");var e=new FormData;e.append("foo","bar");e.append("baz","qux");this.req.setMethod("POST");this.req.setRequestData(e);this.req.send();this.assertCalledWith(this.transport.send,e)},"test: set request header":function(){this.req.setRequestHeader("key","value");this.req.send();this.assertCalledWith(this.transport.setRequestHeader,"key","value")},"test: set request header does not append":function(){var e=this.transport.setRequestHeader.withArgs("key","value");this.req.setRequestHeader("key","value");this.req.setRequestHeader("key","value");this.req.send();this.assertCalledOnce(e.withArgs("key","value"))},"test: get request header":function(){this.req.setRequestHeader("key","value");this.assertEquals("value",this.req.getRequestHeader("key"))},"test: remove request header":function(){var e;this.req.setRequestHeader("key","value");this.req.removeRequestHeader("key");e=this.transport.setRequestHeader.withArgs("key","value");this.req.send();this.assertNotCalled(e)},"test: get all request headers":function(){this.req.setRequestHeader("key","value");this.req.setRequestHeader("otherkey","value");this.assertEquals("value",this.req._getAllRequestHeaders().key);this.assertEquals("value",this.req._getAllRequestHeaders().otherkey)},"test: get all request headers includes configuration dependent headers":function(){this.req.setRequestHeader("key","value");this.req._getConfiguredRequestHeaders=function(){return{otherkey:"value"}};this.assertEquals("value",this.req._getAllRequestHeaders().key);this.assertEquals("value",this.req._getAllRequestHeaders().otherkey)},"test: not append cache parameter to URL":function(){this.req.send();this.assertFalse(/\?nocache/.test(this.transport.open.args[0][1]),"nocache parameter must not be set")},"test: append nocache parameter to URL":function(){this.req.setCache(!1);this.req.send();this.assertTrue(/\?nocache=\d{13,}/.test(this.transport.open.args[0][1]),"nocache parameter must be set to number")},"test: fire readyStateChange":function(){var e=this.req,t=this.spy();e.addListener("readyStateChange",t);this.respond();this.assertCalledOnce(t)},"test: fire success":function(){var e=this.req,t=this.spy();e.addListener("success",t);this.respond();this.assertCalledOnce(t)},"test: not fire success on erroneous status":function(){var e=this.req,t=this.spy();e.addListener("success",t);this.respond(500);this.assertNotCalled(t)},"test: fire load":function(){var e=this.req,t=this.spy();e.addListener("load",t);this.respond();this.assertCalledOnce(t)},"test: fire loadEnd":function(){var e=this.req,t=this.spy();e.addListener("loadEnd",t);this.respond();this.assertCalledOnce(t)},"test: fire abort":function(){var e=this.req,t=this.spy();e.addListener("abort",t);this.transport.onabort();this.assertCalledOnce(t)},"test: fire timeout":function(){var e=this.req,t=this.transport,i=this.spy();e.setTimeout(100);e.send();e.addListener("timeout",i);t.ontimeout();this.assertEquals(100,t.timeout);this.assertCalledOnce(i)},"test: fire error":function(){var e=this.req,t=this.spy();e.addListener("error",t);this.respondError();this.assertCalledOnce(t)},"test: fire statusError":function(){var e=this.req,t=this.spy();e.addListener("statusError",t);this.respond(500);this.assertCalledOnce(t)},"test: fire fail on erroneous status":function(){var e=this.req,t=this.spy();e.addListener("fail",t);this.respond(500);this.assertCalledOnce(t)},"test: fire fail on network error":function(){var e=this.req,t=this.spy();e.addListener("fail",t);this.respondError();this.assertCalledOnce(t)},"test: fire fail on timeout":function(){var e=this.req,t=this.spy();e.addListener("fail",t);this.timeout();this.assertCalledOnce(t)},"test: fire changePhase":function(){var e=this.req,t=this;this.assertEventFired(e,"changePhase",function(){t.respond()},function(e){t.assertMatch(e.getData(),"load|success")})},"test: phase is unsent":function(){this.assertEquals("unsent",this.req.getPhase())},"test: phase was open before send":function(){var e=this.req,t=[];e.addListener("changePhase",function(){t.push(e.getPhase())});e.setUrl("/url");e.send();this.assertArrayEquals(["opened","sent"],t)},"test: phase is sent":function(){var e=this.req;e.setUrl("/url");e.send();this.assertEquals("sent",e.getPhase())},"test: phase is loading":function(){var e=this.req,t=this.transport;t.readyState=3;t.onreadystatechange();this.assertEquals("loading",e.getPhase())},"test: phase is load intermediately":function(){var e=this.req,t=this.transport,i=[];e.addListener("changePhase",function(){i.push(e.getPhase())});t.readyState=4;t.onreadystatechange();this.assertEquals("load",i[0])},"test: phase is success":function(){var e=this.req;this.respond();this.assertEquals("success",e.getPhase())},"test: phase is statusError":function(){var e=this.req;this.respond(500);this.assertEquals("statusError",e.getPhase())},"test: phase is abort":function(){var e=this.req,t=this.transport;e.abort();t.onabort();t.readyState=4;t.onreadystatechange();this.assertEquals("abort",e.getPhase())},"test: phase is abort when from cache":function(){var e=this.req,t=this.transport;e.abort();t.onabort();t.status=304;t.readyState=4;t.onreadystatechange();this.assertEquals("abort",e.getPhase())},"test: phase is abort on readyState DONE when aborted before":function(){var e=this.req,t=this.transport;e.addListener("readyStateChange",function(){4==e.getReadyState()&&this.assertEquals("abort",e.getPhase())},this);e.send();e.abort();t.readyState=4;t.onreadystatechange();t.onabort()},"test: phase is abort on readyState DONE when aborting loading":function(){var e=this.req,t=this.transport;e.addListener("readyStateChange",function(){4==e.getReadyState()&&this.assertEquals("abort",e.getPhase())},this);e.send();t.readyState=3;t.onreadystatechange();e.abort();t.readyState=4;t.onreadystatechange();t.onabort()},"test: phase is abort on loadEnd when aborted before":function(){var e=this.req,t=this.transport;e.addListener("loadEnd",function(){this.assertEquals("abort",e.getPhase())},this);e.send();e.abort();t.readyState=4;t.onloadend();t.onabort()},"test: phase is timeout":function(){var e=this.req;this.timeout();this.assertEquals("timeout",e.getPhase())},getFakeReq:function(){return this.getRequests().slice(-1)[0]},noCache:function(e){return qx.util.Uri.appendParamsToUrl(e,"nocache="+(new Date).valueOf())},respond:function(e,t){var i=this.transport;i.status=void 0===e?200:e;i.readyState=4;i.onreadystatechange();"timeout"!==t?"network"!==t?i.onload():i.onerror():i.ontimeout();i.onloadend()},respondError:function(){this.respond(0,"network")},timeout:function(){this.respond(0,"timeout")}}});qx.test.io.request.MRequest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.request.MRequest":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.io.request.Jsonp":{},"qx.bom.request.Jsonp":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.request.Jsonp",{extend:qx.dev.unit.TestCase,include:[qx.test.io.request.MRequest,qx.dev.unit.MMock],members:{setUp:function(){this.setUpRequest();this.setUpFakeTransport()},setUpRequest:function(){this.req&&this.req.dispose();this.req=new qx.io.request.Jsonp;this.req.setUrl("url")},setUpFakeTransport:function(){this.transport=this.injectStub(qx.io.request.Jsonp.prototype,"_createTransport",this.deepStub(new qx.bom.request.Jsonp));this.setUpRequest()},tearDown:function(){this.getSandbox().restore();this.req.dispose();try{qx.Class.undefine("Klass")}catch(e){}},"test: set url property on construct":function(){var e=new qx.io.request.Jsonp("url");this.assertEquals("url",e.getUrl());e.dispose()},"test: setCallbackParam()":function(){var e=this.req,t=this.transport;e.setCallbackParam("method");this.assertCalledWith(t.setCallbackParam,"method")},"test: setCallbackName()":function(){var e=this.req,t=this.transport;e.setCallbackName("myCallback");this.assertCalledWith(t.setCallbackName,"myCallback")}}});qx.test.io.request.Jsonp.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.io.request.Jsonp":{},"qx.util.Uri":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.request.JsonpWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.test.io.MRemoteTest,qx.dev.unit.MRequirements],members:{setUp:function(){this.require(["http"])},tearDown:function(){this.req.dispose()},"test: fetch json":function(){var e=this.req=new qx.io.request.Jsonp,t=this.noCache(this.getUrl("qx/test/jsonp_primitive.php"));e.addListener("load",function(t){this.resume(function(){this.assertObject(e.getResponse());this.assertTrue(e.getResponse().boolean)},this)},this);e.setUrl(t);e.send();this.wait()},noCache:function(e){return qx.util.Uri.appendParamsToUrl(e,"nocache="+(new Date).valueOf())}}});qx.test.io.request.JsonpWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.request.MRequest":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.io.request.Xhr":{},"qx.io.request.authentication.Basic":{},"qx.util.Base64":{},"qx.type.BaseError":{},"qx.event.Registration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.request.Xhr",{extend:qx.dev.unit.TestCase,include:[qx.test.io.request.MRequest,qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{setUp:function(){this.setUpRequest();this.setUpFakeTransport()},setUpRequest:function(){this.req&&this.req.dispose();this.req=new qx.io.request.Xhr;this.req.setUrl("url")},setUpFakeTransport:function(){if(!this.transport||!this.transport.send.restore){this.transport=this.injectStub(qx.io.request.Xhr.prototype,"_createTransport");this.setUpRequest()}},setUpFakeServer:function(){this.getSandbox().restore();this.useFakeServer();this.setUpRequest();this.server=this.getServer();this.server.respondWith("GET","/found",[200,{"Content-Type":"text/html"},"FOUND"]);this.server.respondWith("GET","/found.json",[200,{"Content-Type":"application/json; charset=utf-8"},"JSON"]);this.server.respondWith("GET","/found.other",[200,{"Content-Type":"application/other"},"OTHER"])},setUpFakeXhr:function(){this.getSandbox().restore();this.useFakeXMLHttpRequest();this.setUpRequest()},tearDown:function(){this.getSandbox().restore();this.req.dispose();try{qx.Class.undefine("Klass")}catch(e){}},"test: set url property on construct":function(){var e=new qx.io.request.Xhr("url");this.assertEquals("url",e.getUrl());e.dispose()},"test: set method property on construct":function(){var e=new qx.io.request.Xhr("url","POST");this.assertEquals("POST",e.getMethod());e.dispose()},"test: send POST request":function(){this.setUpFakeTransport();this.req.setMethod("POST");this.req.send();this.assertCalledWith(this.transport.open,"POST")},"test: send sync request":function(){this.require(["http"]);this.setUpFakeTransport();this.req.setAsync(!1);this.req.send();this.assertCalledWith(this.transport.open,"GET","url",!1);this.assertCalled(this.transport.send)},"test: set content type urlencoded for POST request with body when no type given":function(){this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData("Affe");this.req.send();this.assertCalledWith(this.transport.setRequestHeader,"Content-Type","application/x-www-form-urlencoded")},"test: not set content type urlencoded for POST request with body when type given":function(){var e;this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData("Affe");this.req.setRequestHeader("Content-Type","application/json");this.req.send();e="Must not set content type urlencoded when other type given";this.assert(!this.transport.setRequestHeader.calledWith("Content-Type","application/x-www-form-urlencoded"),e)},"test: send string data with POST request":function(){this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData("str");this.req.send();this.assertCalledWith(this.transport.send,"str")},"test: send obj data with POST request":function(){this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData({"af fe":!0});this.req.send();this.assertCalledWith(this.transport.send,"af+fe=true")},"test: send qooxdoo obj data with POST request":function(){this.setUpFakeTransport();this.setUpKlass();var e=new Klass;this.req.setMethod("POST");this.req.setRequestData(e);this.req.send();this.assertCalledWith(this.transport.send,"affe=true");e.dispose()},"test: send blob data with POST request":function(){void 0===window.Blob&&this.skip("Blob constructor not available");var e=new window.Blob(["abc123"],{type:"text/plain"});this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData(e);this.req.send();this.assertCalledWith(this.transport.send,e)},"test: send array buffer data with POST request":function(){void 0===window.ArrayBuffer&&this.skip("ArrayBuffer constructor not available");var e=new window.ArrayBuffer(512);this.setUpFakeTransport();this.req.setMethod("POST");this.req.setRequestData(e);this.req.send();this.assertCalledWith(this.transport.send,e)},"test: serialize data":function(){var e=this.req,t={abc:"def",uvw:"xyz"};this.assertNull(e._serializeData(null));this.assertEquals("leaveMeIntact",e._serializeData("leaveMeIntact"));this.assertEquals("abc=def&uvw=xyz",e._serializeData(t));e.setRequestHeader("Content-Type","arbitrary/contentType");this.assertEquals("abc=def&uvw=xyz",e._serializeData(t));e.setRequestHeader("Content-Type","application/json");this.assertEquals('{"abc":"def","uvw":"xyz"}',e._serializeData(t));e.setRequestHeader("Content-Type","application/json");this.assertEquals("[1,2,3]",e._serializeData([1,2,3]))},"test: set requested-with header":function(){this.setUpFakeTransport();this.req.send();this.assertCalledWith(this.transport.setRequestHeader,"X-Requested-With","XMLHttpRequest")},"test: not set requested-with header when cross-origin":function(){this.setUpFakeTransport();var e=this.transport.setRequestHeader.withArgs("X-Requested-With","XMLHttpRequest");this.req.setUrl("http://example.com");this.req.send();this.assertNotCalled(e)},"test: set cache control header":function(){this.setUpFakeTransport();this.req.setCache("no-cache");this.req.send();this.assertCalledWith(this.transport.setRequestHeader,"Cache-Control","no-cache")},"test: set accept header":function(){this.setUpFakeTransport();this.req.setAccept("application/json");this.req.send();this.assertCalledWith(this.transport.setRequestHeader,"Accept","application/json")},"test: override response content type":function(){this.setUpFakeTransport();this.req.overrideResponseContentType("text/plain;charset=Shift-JIS");this.assertCalledWith(this.transport.overrideMimeType,"text/plain;charset=Shift-JIS")},"test: get response content type":function(){this.stub(this.req,"getResponseHeader");this.req.getResponseContentType();this.assertCalledWith(this.req.getResponseHeader,"Content-Type")},"test: event handler receives request":function(){this.setUpFakeTransport();var e=this.req,t=this.transport,i=this;t.readyState=4;t.status=200;t.responseText="Affe";e.addListener("success",function(t){i.assertEquals(t.getTarget(),e);i.assertEquals("Affe",t.getTarget().getResponseText())});t.onreadystatechange()},"test: event handler's this is request":function(){this.setUpFakeTransport();var e=this.req,t=this.transport,i=this;t.readyState=4;t.status=200;t.responseText="Affe";e.addListener("success",function(){i.assertEquals(this,e);i.assertEquals("Affe",this.getResponseText())});t.onreadystatechange()},"test: sync XHR properties for every readyState":function(){this.require(["http"]);this.setUpFakeServer();var e=this.req,t=this.server,i=[],n=[];e.setUrl("/found");e.setMethod("GET");i.push(e.getReadyState());e.addListener("readyStateChange",function(){i.push(e.getReadyState());n.push(e.getStatus())},this);e.send();t.respond();this.assertArrayEquals([0,1,2,3,4],i);this.assertArrayEquals([0,200,200,200],n);this.assertEquals("text/html",e.getResponseHeader("Content-Type"));this.assertEquals("OK",e.getStatusText());this.assertEquals("FOUND",e.getResponseText())},"test: get response":function(){this.setUpFakeTransport();var e=this.req,t=this.transport;t.readyState=4;t.status=200;t.responseText="Affe";t.onreadystatechange();this.assertEquals("Affe",e.getResponse())},"test: get response on 400 status":function(){this.setUpFakeTransport();var e=this.req,t=this.transport;t.readyState=4;t.status=400;t.responseText="Affe";t.onreadystatechange();this.assertEquals("Affe",e.getResponse())},"test: get response by change event":function(){this.setUpFakeTransport();var e=this.req,t=this.transport,i=this;t.readyState=4;t.status=200;t.responseText="Affe";this.assertEventFired(e,"changeResponse",function(){t.onreadystatechange()},function(e){i.assertEquals("Affe",e.getData())})},"test: _getParsedResponse":function(){var e=this.req,t='{"animals": 3}',i=e._createResponseParser();e._transport.responseText=t;this.stub(e,"getResponseContentType").returns("application/json");this.stub(i,"parse");e._parser=i;e._getParsedResponse();this.assertCalledWith(i.parse,t,"application/json")},"test: setParser":function(){var e=this.req,t=function(){},i=e._createResponseParser();this.stub(i,"setParser");e._parser=i;e.setParser(t);this.assertCalledWith(i.setParser,t)},"test: basic auth":function(){this.setUpFakeTransport();var e,t,i,n,s=this.transport;e=new qx.io.request.authentication.Basic("affe","geheim");this.req.setAuthentication(e);this.req.send();t=s.setRequestHeader.getCall(1);i="Authorization";n=/Basic\s(.*)/.exec(t.args[1])[1];this.assertEquals(i,t.args[0]);this.assertEquals("affe:geheim",qx.util.Base64.decode(n))},"test: send with promise sends the request":function(){this.req.sendWithPromise();this.assertCalledOnce(this.transport.send)},"test: send with promise succeeds":function(){this.setUpFakeTransport();var e=this.req;e.sendWithPromise(this).then(this.resumeHandler(function(t){this.assertEquals(e,t);this.assertEquals(200,e.getStatus())},this));var t=this.transport;t.readyState=4;t.status=200;t.onreadystatechange();this.wait(1e4)},"test: send with promise fails with statusError":function(){this.setUpFakeTransport();this.req.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been fulfilled but should have been rejected.")})).catch(this.resumeHandler(function(e){this.assertInstance(e,qx.type.BaseError);this.assertEquals("statusError: 404: Affe.",e.toString())},this));var e=this.transport;e.readyState=4;e.status=404;e.statusText="Affe";e.onreadystatechange();this.wait(1e3)},"test: send with promise fails with error":function(){this.setUpFakeTransport();this.req.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been fulfilled but should have been rejected.")})).catch(this.resumeHandler(function(e){this.assertInstance(e,qx.type.BaseError);this.assertEquals("error: Request failed.",e.toString())},this));var e=this.transport;e.readyState=4;e.status=0;e.onerror();this.wait(1e3)},"test: send with promise fails with timeout":function(){this.setUpFakeTransport();var e=this.req;e.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been fulfilled but should have been rejected.")})).catch(this.resumeHandler(function(e){this.assertInstance(e,qx.type.BaseError);this.assertEquals("timeout: Request failed with timeout after 1 ms.",e.toString())},this));e.setTimeout(1);this.transport.ontimeout();this.wait(5e3)},"test: setled promise has no extra listeners":function(){this.setUpFakeTransport();var e=this.req,t=e.sendWithPromise(this),i=qx.event.Registration.serializeListeners(e);t.catch(this.resumeHandler(function(){var t=qx.event.Registration.serializeListeners(e).length;this.assertNotEquals(t,i.length,"The number of listeners remains the same before and after setling the promise.")}));this.transport.ontimeout();this.wait(5e3)},"test: aborted request rejects the promise":function(){this.setUpFakeTransport();this.req.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been fulfilled but should have been rejected.")})).catch(this.resumeHandler(function(e){this.assertInstance(e,qx.type.BaseError);this.assertEquals("abort: Request aborted.",e.toString())},this));this.transport.onabort();this.wait(5e3)},"test: parseError rejects the promise":function(){this.setUpFakeTransport();var e=this.req,t=e._createResponseParser();this.stub(t,"parse").throws();e._parser=t;e.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been fulfilled but should have been rejected.")})).catch(this.resumeHandler(function(e){this.assertInstance(e,qx.type.BaseError);this.assertEquals("parseError: Error parsing the response.",e.toString())},this));var i=this.transport;i.readyState=4;i.status=200;i.onreadystatechange();this.wait(5e3)},"test: canceled promise with abort() in finally does not reject other promises":function(){this.setUpFakeTransport();var e=this.req,t=e.sendWithPromise(this),i=t.then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","This path should not be fulfilled.")},this)).catch(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","This path should not be rejected.")},this)).finally(function(){e.abort()});t.then(this.resumeHandler(function(t){this.assertEquals(e,t)},this)).catch(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","Promise has been rejected but should have been fulfilled.")},this));i.cancel();var n=this.transport;n.readyState=4;n.status=200;n.onreadystatechange();this.wait(5e3)},"test: canceled promise path does not affect other listeners":function(){this.setUpFakeTransport();var e=this.req,t=e.sendWithPromise(this),i=t.then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","promise1 should not be fulfilled.")})).catch(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","promise1 should not be rejected.")},this));t.then(this.resumeHandler(function(t){this.assertEquals(e,t)},this));i.cancel();var n=this.transport;n.readyState=4;n.status=200;n.onreadystatechange();this.wait(5e3)},"test: canceled promise aborts pending request":function(){this.setUpFakeTransport();var e=this.req,t=e.sendWithPromise(this).then(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","promise should not be fulfilled.")})).catch(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","promise should not be rejected.")})).finally(this.resumeHandler(function(){this.assertEquals("abort",e.getPhase())})),i=this.transport;i.readyState=2;i.onreadystatechange();t.cancel();this.wait(5e3)},"test: settled promise does not set phase to abort":function(){this.setUpFakeTransport();var e=this.req;e.sendWithPromise(this).then(this.resumeHandler(function(t){this.assertEquals("success",e.getPhase())})).catch(this.resumeHandler(function(e){throw new qx.type.BaseError("Error in sendWithPromise()","promise should not be rejected.")})).finally(function(){this.assertEquals("success",e.getPhase())});var t=this.transport;t.readyState=4;t.status=200;t.onreadystatechange();this.wait(5e3)},"test: returned promise is bound to request":function(){this.setUpFakeTransport();var e=this.req;e.sendWithPromise().catch(this.resumeHandler(function(t){this.assertIdentical(e,this)}));this.transport.onerror();this.wait(5e3)},"test: returned promise is bound to caller":function(){this.setUpFakeTransport(this);var e=this;this.req.sendWithPromise(this).catch(this.resumeHandler(function(t){this.assertIdentical(e,this)}));this.transport.onerror();this.wait(5e3)}}});qx.test.io.request.Xhr.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.io.request.authentication.IAuthentication",{members:{getAuthHeaders:function(){}}});qx.io.request.authentication.IAuthentication.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.io.request.authentication.IAuthentication":{require:!0},"qx.util.Base64":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.io.request.authentication.Basic",{extend:qx.core.Object,implement:qx.io.request.authentication.IAuthentication,construct:function(e,t){this.__credentials=qx.util.Base64.encode(e+":"+t)},members:{__credentials:null,getAuthHeaders:function(){return[{key:"Authorization",value:"Basic "+this.__credentials}]}}});qx.io.request.authentication.Basic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.Base64",{statics:{__base64Chars:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],encode:function(e,t){var i;if(void 0===t){if(!(i=-1!=(document.characterSet||document.charset).toLowerCase().indexOf("utf"))&&window.btoa instanceof Function)return btoa(e)}else i=!t;for(var n=this.__base64Chars,s=e.length,r=[],o=[],a=0,l=this.__translateUTF8;a<s;)l(e.charCodeAt(a++),r,!i);for(var u=0,c=r.length;u<c;u+=3){if(u+1===c){o.push(n[r[u]>>2]);o.push(n[(3&r[u])<<4]);o.push("==");break}if(u+2===c){o.push(n[r[u]>>2]);o.push(n[(3&r[u])<<4|r[u+1]>>4]);o.push(n[(15&r[u+1])<<2]);o.push("=");break}o.push(n[r[u]>>2]);o.push(n[(3&r[u])<<4|r[u+1]>>4]);o.push(n[(15&r[u+1])<<2|r[u+2]>>6]);o.push(n[63&r[u+2]])}return o.join("")},__translateUTF8:function(e,t,i){if(e<128)t.push(e);else if(e<256&&i)t.push(e);else if(e<2048){t.push(192|e>>6);t.push(128|63&e)}else if(e<65536){t.push(224|e>>12);t.push(128|e>>6&63);t.push(128|63&e)}else{t.push(240|e>>18);t.push(128|e>>12&63);t.push(128|e>>6&63);t.push(128|63&e)}},__getUTF8StringFromBytes:function(e,t){var i="",n=[];if(t)n=e;else for(var s=0;s<e.length;s++){var r=e[s];r>>7==0&&n.push(r);if(r>>5==6){var o=e[++s];n.push((28&r)>>2<<8|(3&r)<<6|63&o)}if(r>>4==14){var a=[e[++s],e[++s]];n.push((15&r)<<12|(60&a[0])>>2<<8|(3&a[0])<<6|63&a[1])}if(r>>3==30){a=[e[++s],e[++s],e[++s]];n.push((7&r)<<18|(48&r)<<16|(15&a[0])<<12|(60&a[1])>>2<<8|(3&a[1])<<6|63&a[2])}}s=0;for(var l=n.length;s<l;s++)i+=String.fromCharCode(n[s]);return i},decode:function(e,t){var i,n=this.__base64Chars;if(void 0===t){if(!(i=-1!=(document.characterSet||document.charset).toLowerCase().indexOf("utf"))&&window.atob instanceof Function)return atob(e)}else i=!t;for(var s=e.length,r=[],o=0;o<s;){var a=n.indexOf(e.charAt(o++)),l=n.indexOf(e.charAt(o++)),u=a<<2|l>>4;r.push(u);var c=e.charAt(o++);if("="!==c){var d=n.indexOf(c),h=(15&l)<<4|(60&d)>>2;r.push(h)}if("="!==(c=e.charAt(o++))){var g=(3&d)<<6|n.indexOf(c);r.push(g)}}return this.__getUTF8StringFromBytes(r,!i)}}});qx.util.Base64.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.io.request.Xhr":{},"qx.event.Timer":{},"qx.util.Uri":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.request.XhrWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.test.io.MRemoteTest,qx.dev.unit.MRequirements],members:{setUp:function(){this.req=new qx.io.request.Xhr;this.require(["http"])},tearDown:function(){this.req.dispose()},"test: fetch resource":function(){var e=this.req,t=this.noCache(this.getUrl("qx/test/xmlhttp/sample.txt"));e.addListener("success",function(e){this.resume(function(){this.assertEquals("SAMPLE",e.getTarget().getResponseText())},this)},this);e.setUrl(t);e.send();this.wait()},"test: recycle request":function(){var e=new qx.io.request.Xhr,t=this.noCache(this.getUrl("qx/test/xmlhttp/sample.txt")+"?1"),i=this.noCache(this.getUrl("qx/test/xmlhttp/sample.txt")+"?2"),n=0;e.addListener("success",function(){if(2==++n)this.resume();else{e.setUrl(i);e.send()}},this);e.setUrl(t);e.send();this.wait()},"test: progress phases":function(){var e=this.req,t=[],i=["opened","sent","loading","load","success"],n=this.getUrl("qx/test/xmlhttp/sample.txt");e.addListener("changePhase",function(){t.push(e.getPhase());"success"===e.getPhase()&&this.resume(function(){this.assertArrayEquals(i,t)},this)},this);e.setUrl(n);e.send();this.wait()},"test: progress phases when abort after send":function(){var e=this.req,t=[],i=["opened","sent","abort"],n=this.getUrl("qx/test/xmlhttp/sample.txt");e.addListener("changePhase",function(){t.push(e.getPhase());"abort"===e.getPhase()&&this.assertArrayEquals(i,t)},this);e.setUrl(n);e.send();e.abort()},"test: progress phases when abort after loading":function(){this.require(["noIe","noWin7","noOsx","noWin10"]);var e=this.req,t=[],i=["opened","sent","loading","abort"],n=this.noCache(this.getUrl("qx/test/xmlhttp/loading.php"))+"&duration=100";e.addListener("changePhase",function(){t.push(e.getPhase());"abort"===e.getPhase()&&this.resume(function(){this.assertArrayEquals(i,t)})},this);e.setUrl(n);e.send();qx.event.Timer.once(function(){e.abort()},this,500);this.wait()},"test: timeout":function(){var e=this.req,t=this.noCache(this.getUrl("qx/test/xmlhttp/loading.php"))+"&duration=100";e.addListener("timeout",function(){this.resume(function(){this.assertEquals("timeout",e.getPhase())})},this);e.setUrl(t);e.setTimeout(.001);e.send();this.wait()},"test: timeout with header call":function(){var e=this.req,t=this.noCache(this.getUrl("qx/test/xmlhttp/loading.php"))+"&duration=100";e.addListener("timeout",function(){this.resume(function(){try{e.getResponseHeader("X-UI-My-Header");throw new Error("DOM exception expected!")}catch(e){}})},this);e.setUrl(t);e.setTimeout(.001);e.send();this.wait()},noCache:function(e){return qx.util.Uri.appendParamsToUrl(e,"nocache="+(new Date).valueOf())},hasNoIe:function(){return!("mshtml"==qx.core.Environment.get("engine.name"))}}});qx.test.io.request.XhrWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.io.request.Xhr":{},"qx.io.request.AbstractRequest":{},"qx.io.rest.Resource":{},"qx.lang.Function":{},"qx.lang.Json":{},"qx.core.Environment":{},"qx.dev.unit.RequirementError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.rest.Resource",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{setUp:function(){this.setUpDoubleRequest();this.setUpResource()},setUpDoubleRequest:function(){"function"==typeof qx.io.request.Xhr.restore&&qx.io.request.Xhr.restore();var e=this.req=new qx.io.request.Xhr;e=this.shallowStub(e,qx.io.request.AbstractRequest);this.injectStub(qx.io.request,"Xhr",e);this.__reqs=this.__reqs||[];this.__reqs.push(this.req);return e},setUpResource:function(){this.res&&this.res.dispose();var e=this.res=new qx.io.rest.Resource;e.map("get","GET","/photos");e.map("post","POST","/photos")},tearDown:function(){this.getSandbox().restore();this.res.dispose();this.__reqs.forEach(function(e){e.dispose()})},"test: configure request receives pre-configured but unsent request":function(){var e=this.res;this.req;e.configureRequest(qx.lang.Function.bind(function(e){this.assertCalledWith(e.setMethod,"GET");this.assertCalled(e.setUrl,"/photos");this.assertNotCalled(e.send)},this));e.get()},"test: configure request receives invocation details":function(){var e,t=this.res,i=(this.req,{}),n={};e=this.spy(qx.lang.Function.bind(function(e,t,s,r){this.assertEquals("get",t,"Unexpected action");this.assertEquals(i,s,"Unexpected params");this.assertEquals(n,r,"Unexpected data")},this));t.configureRequest(e);t.get(i,n);this.assertCalled(e)},"test: map action":function(){var e;e=this.res._getRequestConfig("get");this.assertEquals("GET",e.method);this.assertEquals("/photos",e.url)},"test: map action when base URL":function(){var e,t=this.res;t.setBaseUrl("http://example.com");e=t._getRequestConfig("get");this.assertEquals("http://example.com/photos",e.url)},"test: map existing action":function(){var e,t=this.res;t.map("post","GET","/articles");e=t._getRequestConfig("post");this.assertEquals("/articles",e.url)},"test: map action creates method":function(){var e=this.res;this.req;this.assertFunction(e.get)},"test: map action throws when existing method":function(){this.require(["debug"]);var e=this.res;this.req;e.popular=function(){};this.assertException(function(){e.map("popular","GET","/photos/popular")},Error)},"test: map action does not throw when existing method is empty":function(){this.require(["debug"]);var e=this.res;this.req;e.get=function(){};e.map("get","GET","/photos/popular")},"test: dynamically created action forwards arguments":function(){var e=this.res;this.req;this.spy(e,"invoke");e.get({},1,2,3);this.assertCalledWith(e.invoke,"get",{},1,2,3)},"test: dynamically created action returns what invoke returns":function(){this.stub(this.res,"invoke").returns(1);this.assertEquals(1,this.res.get())},"test: map actions from description":function(){this.req;var e,t,i,n={};e={get:{method:"GET",url:"/photos"},create:{method:"POST",url:"/photos",check:n}};i=(t=new qx.io.rest.Resource(e))._getRequestConfig("get");this.assertEquals("GET",i.method);this.assertEquals("/photos",i.url);i=t._getRequestConfig("create");this.assertEquals("POST",i.method);this.assertEquals("/photos",i.url);this.assertEquals(n,i.check);t.dispose()},"test: map action from description throws with non-object":function(){this.require(["debug"]);this.assertException(function(){new qx.io.rest.Resource([])})},"test: map action from description throws with incomplete route":function(){this.require(["debug"]);this.res.dispose();this.assertException(function(){this.res=new qx.io.rest.Resource({get:{method:"GET"}})},Error,"URL must be string for route 'get'")},"test: invoke action generically":function(){var e=this.res;this.req;e.invoke("get");this.assertSend()},"test: invoke action":function(){var e=this.res;this.req;e.get();this.assertSend()},"test: invoke action returns id of request":function(){var e=this.res;this.req;this.assertNumber(e.invoke("get"))},"test: invoke action while other is in progress":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.post();this.assertCalledOnce(e.send);this.assertCalledOnce(t.send)},"test: invoke same action handles multiple requests":function(){var e,t,i=this.res,n=this.spy();i.addListener("getSuccess",n);e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.get();this.respond("",e);this.respond("",t);this.assertCalledTwice(n)},"test: invoke action with positional params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertCalledWith(t.setUrl,"/photos/1")},"test: invoke action with positional params that evaluate to false":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:0});this.assertCalledWith(t.setUrl,"/photos/0")},"test: invoke action with non-string params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}");e.get({id:1});this.assertCalledWith(t.setUrl,"/photos/1")},"test: invoke action with params and data":function(){var e=this.res,t=this.req;e.map("put","PUT","/articles/{id}");e.put({id:"1"},{article:'{title: "Affe"}'});this.assertCalledWith(t.setRequestData,{article:'{title: "Affe"}'})},"test: invoke action with multiple positional params":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}/comments/{commentId}");e.get({id:"1",commentId:"2"});this.assertCalledWith(t.setUrl,"/photos/1/comments/2")},"test: invoke action with positional params in query":function(){var e=this.res,t=this.req;e.map("get","GET","/photos/{id}/comments?id={commentId}");e.get({id:"1",commentId:"2"});this.assertCalledWith(t.setUrl,"/photos/1/comments?id=2")},"test: invoke action with undefined params":function(){var e=this.res,t=this.req;e.get();this.assertCalled(t.send)},"test: invoke action with null params":function(){var e=this.res,t=this.req;e.get(null);this.assertCalled(t.send)},"test: invoke action when content type json":function(){var e=this.res,t=this.req;t.setRequestHeader.restore();t.getRequestHeader.restore();e.configureRequest(function(e){e.setRequestHeader("Content-Type","application/json")});this.spy(qx.lang.Json,"stringify");var i={location:"Karlsruhe"};e.map("post","POST","/photos/{id}/meta");e.post({id:1},i);this.assertCalledWith(t.setRequestData,'{"location":"Karlsruhe"}');this.assertCalledWith(qx.lang.Json.stringify,i)},"test: invoke action when content type json and get":function(){var e=this.res,t=this.req;t.setMethod.restore();t.getMethod.restore();this.spy(qx.lang.Json,"stringify");t.getRequestHeader.withArgs("Content-Type").returns("application/json");e.get();this.assertNotCalled(qx.lang.Json.stringify)},"test: invoke action for url with port":function(){var e=this.res,t=this.req;e.map("get","GET","http://example.com:8080/photos/{id}");e.get({id:"1"});this.assertCalledWith(t.setUrl,"http://example.com:8080/photos/1")},"test: invoke action for relative url":function(){var e=this.res,t=this.req;e.map("get","GET","{page}");e.get({page:"index"});this.assertCalledWith(t.setUrl,"index")},"test: invoke action for relative url with dots":function(){var e=this.res,t=this.req;e.map("get","GET","../{page}");e.get({page:"index"});this.assertCalledWith(t.setUrl,"../index")},"test: invoke action for route with check":function(){var e=this.res;e.map("get","GET","/photos/zoom/{id}",{id:/\d+/});e.get({id:"123"});this.assertSend("GET","/photos/zoom/123")},"test: invoke action fills in empty string when missing param and no default":function(){var e=this.res;e.map("get","GET","/photos/{tag}");e.get();this.assertSend("GET","/photos/")},"test: invoke action fills in default when missing param":function(){var e=this.res;e.map("get","GET","/photos/{tag=recent}/{size}");e.get({size:"large"});this.assertSend("GET","/photos/recent/large")},"test: invoke action throws when missing required positional param":function(){var e=this.res;e.map("get","GET","/photos/{tag}",{tag:qx.io.rest.Resource.REQUIRED});this.assertException(function(){e.get()},Error,"Missing parameter 'tag'")},"test: invoke action throws when missing required request param":function(){var e=new qx.io.rest.Resource;e.map("post","POST","/photos/",{photo:qx.io.rest.Resource.REQUIRED});this.assertException(function(){e.post()},Error,"Missing parameter 'photo'")},"test: invoke action throws when param not match check":function(){var e=this.res;e.map("get","GET","/photos/{id}",{id:/\d+/});this.assertException(function(){e.get({id:"FAIL"})},Error,"Parameter 'id' is invalid")},"test: invoke action ignores invalid check in production":function(){this.require(["debug"]);var e=this.res;this.stub(qx.core.Environment,"get").withArgs("qx.debug").returns(!1);e.map("get","GET","/photos/{id}",{id:""});e.get({id:1})},"test: abort action":function(){var e=this.res,t=this.req;e.get();e.abort("get");this.assertCalledOnce(t.abort)},"test: abort action when multiple requests":function(){var e,t,i=this.res;e=this.setUpDoubleRequest();i.get();t=this.setUpDoubleRequest();i.get();i.abort("get");this.assertCalledOnce(e.abort);this.assertCalledOnce(t.abort)},"test: abort by action id":function(){var e=this.res,t=this.req,i=e.get();e.abort(i);this.assertCalledOnce(t.abort)},"test: refresh action":function(){var e=this.res;this.req;e.get();this.assertSend();e.refresh("get");this.assertSend()},"test: refresh action replaying previous params":function(){var e=this.res;this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertSend("GET","/photos/1");e.refresh("get");this.assertSend("GET","/photos/1")},"test: poll action":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.spy(e._resource,"refresh");e.poll("get",10);this.respond();t.clock.tick(20);this.assertCalledWith(e._resource.refresh,"get");this.assertCalledOnce(e._resource.refresh)},"test: not poll action when no response received yet":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.spy(e,"refresh");e.poll("get",10);t.clock.tick(20);this.assertNotCalled(e.refresh)},"test: poll action immediately":function(){var e=this.res;this.spy(e._resource,"invoke");e.poll("get",10,void 0,!0);this.assertCalled(e._resource.invoke)},"test: poll action sets initial params":function(){var e=this.res;e.map("get","GET","/photos/{id}");this.stub(e._resource,"invoke");e.poll("get",10,{id:"1"},!0);this.assertCalledWith(e._resource.invoke,"get",{id:"1"})},"test: poll action replaying previous params":function(){var e=this.res;this.req;e.map("get","GET","/photos/{id}");e.get({id:"1"});this.assertSend("GET","/photos/1");e.poll("get");this.assertSend("GET","/photos/1")},"test: poll action repeatedly ends previous timer":function(){var e=this.res,t=this.getSandbox();t.useFakeTimers();this.stub(e._resource,"refresh");e.poll("get",10);this.respond();t.clock.tick(20);e.poll("get",100);this.respond();t.clock.tick(100);this.assertCalledTwice(e._resource.refresh)},"test: poll many actions":function(){var e,t,i,n=this.res,s=this.getSandbox();this.stub(this.req,"dispose");s.useFakeTimers();t=(e=this.spy(n._resource,"refresh")).withArgs("get");i=e.withArgs("post");n.poll("get",10);n.poll("post",10);this.respond();s.clock.tick(20);this.assertCalledOnce(t);this.assertCalledOnce(i);this.req.dispose.restore();this.req.dispose()},"test: end poll action":function(){var e,t=this.res,i=this.getSandbox();i.useFakeTimers();this.spy(t._resource,"refresh");e=t.poll("get",10);this.respond();i.clock.tick(30);e.stop();i.clock.tick(100);this.assertCalledTwice(t._resource.refresh)},"test: end poll action does not end polling of other action":function(){var e,t,i=this.res,n=this.getSandbox();n.useFakeTimers();t=this.spy(i._resource,"refresh").withArgs("get");this.respond();i.poll("get",10);e=i.poll("post",10);n.clock.tick(20);e.stop();n.clock.tick(10);this.assertCalledTwice(t)},"test: restart poll action":function(){var e,t=this.res,i=this.getSandbox();i.useFakeTimers();this.respond();e=t.poll("get",10);i.clock.tick(10);e.stop();this.spy(t._resource,"refresh");e.restart();i.clock.tick(10);this.assertCalled(t._resource.refresh)},"test: long poll action":function(){var e=this.res,t=this.req,i=[];this.stub(t,"dispose");e.addListener("getSuccess",function(e){i.push(e.getData())},this);e.longPoll("get");this.respond("1");this.respond("2");this.respond("3");this.assertArrayEquals(["1","2","3"],i)},"test: throttle long poll":function(){var e=this.res,t=this.req;this.stub(t,"dispose");this.spy(e,"refresh");this.stub(qx.io.rest.Resource,"POLL_THROTTLE_COUNT","3");e.longPoll("get");for(var i=0;i<4;i++)this.respond();e.refresh=function(){throw new Error("With throttling in effect, must not make new request.")};this.respond()},"test: not throttle long poll when not received within limit":function(){var e=this.res,t=this.req,i=this.getSandbox();this.stub(t,"dispose");i.useFakeTimers();e.longPoll("get");for(var n=0;n<31;n++){i.clock.tick(101);this.respond()}this.spy(e,"refresh");i.clock.tick(101);this.respond();this.assertCalled(e.refresh)},"test: not throttle long poll when not received subsequently":function(){var e=this.res,t=this.req,i=this.getSandbox();this.stub(t,"dispose");i.useFakeTimers();e.longPoll("get");for(var n=0;n<30;n++)this.respond();i.clock.tick(101);this.respond();this.spy(e,"refresh");for(n=0;n<10;n++)this.respond();this.assertCallCount(e.refresh,10)},"test: end long poll action":function(){var e,t=this.res,i=this.req;this.stub(i,"dispose");this.spy(t._resource,"refresh");e=t.longPoll("get");this.respond();this.respond();t.removeListenerById(e);this.respond();this.assertCalledTwice(t._resource.refresh)},"test: fire actionSuccess":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"getSuccess",function(){i.respond("Affe")},function(e){i.assertEquals("Affe",e.getData());i.assertEquals("get",e.getAction());i.assertIdentical(t,e.getRequest());i.assertInteger(e.getId())})},"test: fire success":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"success",function(){i.respond("Affe")},function(e){i.assertEquals("Affe",e.getData());i.assertEquals("get",e.getAction());i.assertIdentical(t,e.getRequest());i.assertInteger(e.getId())})},"test: fire actionError":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"getError",function(){i.respondError("statusError")},function(e){i.assertEquals("statusError",e.getPhase());i.assertIdentical(t,e.getRequest())})},"test: fire error":function(){var e=this.res,t=this.req,i=this;e.get();this.assertEventFired(e,"error",function(){i.respondError("statusError")},function(e){i.assertEquals("statusError",e.getPhase());i.assertIdentical(t,e.getRequest())})},"test: dispose requests":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.post();this.spy(e,"dispose");this.spy(t,"dispose");i.dispose();this.assertCalled(e.dispose);this.assertCalled(t.dispose)},"test: dispose requests of same action":function(){var e,t,i=this.res;e=this.req;i.get();this.setUpDoubleRequest();t=this.req;i.get();this.spy(e,"dispose");this.spy(t,"dispose");i.dispose();this.assertCalled(e.dispose);this.assertCalled(t.dispose)},"test: dispose request on loadEnd":function(){var e=this.res,t=this.req;this.spy(t,"dispose");e.get();this.respond();setTimeout(function(){this.resume(function(){this.assertCalledOnce(t.dispose)},this)}.bind(this),100);this.wait()},assertSend:function(e,t){var i=this.req;e=e||"GET";t=t||"/photos";this.assertCalledWith(i.setMethod,e);this.assertCalledWith(i.setUrl,t);this.assertCalled(i.send)},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)},hasDebug:function(){return!0},respond:function(e,t){t=t||this.req;e=e||"";t.isDone.returns(!0);t.getPhase.returns("success");t.getResponse.returns(e);t.fireEvent("success");t.fireEvent("loadEnd")},respondError:function(e){var t=this.req;e=e||"statusError";t.getPhase.returns(e);t.fireEvent("fail");t.fireEvent("loadEnd")}}});qx.test.io.rest.Resource.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.test.io.MRemoteTest":{require:!0},"qx.io.rest.Resource":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.io.rest.ResourceWithRemote",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements,qx.test.io.MRemoteTest],members:{setUp:function(){this.require(["http"]);this.res=new qx.io.rest.Resource},tearDown:function(){this.res.dispose()},"test: invoke action and handle response":function(){var e=this.getUrl("qx/test/xmlhttp/sample.txt"),t=this.res;t.map("get","GET",e);t.addListener("getSuccess",function(e){this.resume(function(){this.assertEquals("SAMPLE",e.getData())},this)},this);t.get();this.wait()},"test: invoke action and handle failure":function(){this.require(["http"]);var e=this.res;e.map("get","GET","/not-found");e.addListener("error",function(e){this.resume(function(){this.assertEquals("statusError",e.getPhase());this.assertEquals("get",e.getAction())},this)},this);e.get();this.wait()},"test: poll action":function(){var e=this.getUrl("qx/test/xmlhttp/random.php"),t=this.res,i=0,n="";t.map("get","GET",e);t.addListener("getSuccess",function(e){var t=e.getData();i++;this.assert(32===t.length,"Response must be MD5");this.assertNotEquals(n,t,"Response must be different from previous");n=t;i>=10&&this.resume()},this);t.poll("get",100);this.wait()},"test: long poll":function(){var e=this.res,t=this.getUrl("qx/test/xmlhttp/long_poll.php"),i=0,n=[];e.map("get","GET",t);e.addListener("getSuccess",function(e){var t=e.getData();n.push(t);++i>=5&&this.resume(function(){this.assert(parseFloat(n[4])>parseFloat(n[0]),"Must increase")},this)},this);e.longPoll("get");this.wait()}}});qx.test.io.rest.ResourceWithRemote.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Array":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Array",{extend:qx.dev.unit.TestCase,members:{testAppend:function(){this.assertNotUndefined(qx.lang.Array.append);var e=[1,2,3];qx.lang.Array.append(e,[4,5,6]);this.assertJsonEquals(e,[1,2,3,4,5,6]);e=[1,2,3];qx.lang.Array.append(e,new qx.data.Array([4,5,6]));this.assertJsonEquals(e,[1,2,3,4,5,6]);e=new qx.data.Array([1,2,3]);qx.lang.Array.append(e,[4,5,6]);this.assertJsonEquals(e.toArray(),[1,2,3,4,5,6]);e.dispose();var t=!1;try{qx.lang.Array.append(e,1)}catch(e){t=!0}this.assert(t)},testExclude:function(){var e=[1,2,3,4,5];qx.lang.Array.exclude(e,[2,4]);this.assertJsonEquals([1,3,5],e);e=[0,1,2,3,4,5,6,7,8,9];qx.lang.Array.exclude(e,[1,2,3]);this.assertJsonEquals([0,4,5,6,7,8,9],e);e=[1,2,3,4,5];qx.lang.Array.exclude(e,new qx.data.Array([1,3,5]));this.assertJsonEquals([2,4],e);e=[0,1,2,3,4,5,6,7,8,9];qx.lang.Array.exclude(e,new qx.data.Array([1,2,3]));this.assertJsonEquals([0,4,5,6,7,8,9],e);e=new qx.data.Array([1,2,3,4,5]);qx.lang.Array.exclude(e,[1,3,5]);this.assertJsonEquals([2,4],e.toArray());e.dispose();e=new qx.data.Array([0,1,2,3,4,5,6,7,8,9]);qx.lang.Array.exclude(e,[1,2,3]);this.assertJsonEquals([0,4,5,6,7,8,9],e.toArray());e.dispose()},testMinNumeric:function(){var e=qx.lang.Array.min([-3,-2,-1,0,1,2,3]);this.assertEquals(-3,e)},testMaxNumeric:function(){var e=qx.lang.Array.max([-3,-2,-1,0,1,2,3]);this.assertEquals(3,e)},testMinMixed:function(){var e=[-3,-2,-1,0,1,2,3,"foo","bar",void 0,null],t=qx.lang.Array.min(e);this.assertEquals(-3,t)},testMaxMixed:function(){var e=[-3,-2,-1,0,1,2,3,"foo","bar",void 0,null],t=qx.lang.Array.max(e);this.assertEquals(3,t)},testMinEmpty:function(){var e=qx.lang.Array.min([]);this.assertEquals(null,e)},testMaxEmpty:function(){var e=qx.lang.Array.max([]);this.assertEquals(null,e)},testRemove:function(){var e=[-3,-2,-1,0,1,2,3];qx.lang.Array.remove(e,2);this.assertJsonEquals(e,[-3,-2,-1,0,1,3]);this.assertEquals(6,e.length);var t=new qx.data.Array([-3,-2,-1,0,1,2,3]);qx.lang.Array.remove(t,2);this.assertJsonEquals(t.toArray(),[-3,-2,-1,0,1,3]);this.assertEquals(6,t.length)},testRemoveAt:function(){var e=[-3,-2,-1,0,1,2,3];qx.lang.Array.removeAt(e,3);this.assertJsonEquals(e,[-3,-2,-1,1,2,3]);this.assertEquals(6,e.length)},testRemoveAll:function(){var e=[-3,-2,-1,0,1,2,3];qx.lang.Array.removeAll(e);this.assertJsonEquals(e,[]);this.assertEquals(0,e.length)},testContains:function(){var e=[-3,-2,-1,0,1,2,3],t=new qx.data.Array(e);this.assertTrue(e.includes(-2));this.assertFalse(e.includes(-10));this.assertTrue(t.includes(-2));this.assertFalse(t.includes(-10));t.dispose()},testEquals:function(){var e=[-3,-2,-1,0,1,2,3],t=new qx.data.Array(e);this.assertFalse(t.toArray()===e);this.assertTrue(qx.lang.Array.equals(e,t));this.assertTrue(qx.lang.Array.equals(t,e));this.assertFalse(qx.lang.Array.equals(e,[4,5,6]))},testReplace:function(){var e=[1,2,3],t=qx.lang.Array.replace(e,["one","two","three"]);this.assertTrue(e===t);this.assertArrayEquals(["one","two","three"],e)},testToNativeArray:function(){var e=new qx.data.Array([1,2,3]),t=qx.lang.Array.toNativeArray(e);this.assertTrue(e.toArray()===t);t=qx.lang.Array.toNativeArray(e,!0);this.assertTrue(e.toArray()!==t);this.assertArrayEquals([1,2,3],t)}}});qx.test.lang.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Function":{},"qx.core.Object":{},"qx.core.AssertionError":{},"qx.event.GlobalError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Function",{extend:qx.dev.unit.TestCase,members:{testGlobalEval:function(){qx.lang.Function.globalEval("var JUHU=12;");this.assertEquals(12,window.JUHU);try{delete window.JUHU}catch(e){window.JUHU=null}},testFunctionWrap:function(){var e=null,t=0,i=function(t,i){e=this;return t+i};e=null;t=i(1,2);this.assertEquals(e,window);this.assertEquals(3,t);e=null;t=qx.lang.Function.bind(i,this)(1,3);this.assertEquals(e,this);this.assertEquals(4,t);e=null;t=qx.lang.Function.bind(i,this,1)(4);this.assertEquals(e,this);this.assertEquals(5,t)},testBindWithDisposedContext:function(){if(this.isDebugOn()){var e=new qx.core.Object;e.dispose();var t=qx.lang.Function.bind(function(){},e);this.assertException(function(){t()},qx.core.AssertionError)}},testBindWithUndefinedArguments:function(){qx.lang.Function.bind(function(e,t){this.assertTrue(t)},this,void 0,!0)()},testCreateDelayGlobalError:function(){qx.event.GlobalError.setErrorHandler(function(){this.resume(function(){qx.event.GlobalError.setErrorHandler(null,null)})},this);qx.lang.Function.create(function(){throw new Error("fail")},{self:this,delay:20})();this.wait(100)},testGetName:function(){qx.Class.define("qx.test.Name",{extend:qx.core.Object,construct:function(){},properties:{prop:{}},statics:{foo:function(){}},members:{bar:function(){}},destruct:function(){}});var e=new qx.test.Name;this.assertEquals("qx.test.Name.constructor()",qx.lang.Function.getName(qx.test.Name));this.assertEquals("qx.test.Name.destruct()",qx.lang.Function.getName(qx.test.Name.$$destructor));e.setProp(1);e.getProp();this.assertEquals("qx.test.Name.prototype.setProp()",qx.lang.Function.getName(e.setProp));this.assertEquals("qx.test.Name.prototype.getProp()",qx.lang.Function.getName(e.getProp));this.assertEquals("qx.test.Name.foo()",qx.lang.Function.getName(qx.test.Name.foo));this.assertEquals("qx.test.Name.prototype.bar()",qx.lang.Function.getName(e.bar));this.assertEquals("anonymous()",qx.lang.Function.getName(function(){}));function t(){}-1!==t.toString().indexOf("named")&&this.assertEquals("named()",qx.lang.Function.getName(t))}}});qx.test.lang.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Json":{},"qx.dev.unit.RequirementError":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Json",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.JSON=qx.lang.Json},testStringifyArray:function(){var e=this.JSON.stringify(["e",{pluribus:"unum"}]);this.assertEquals('["e",{"pluribus":"unum"}]',e)},testFormattingString:function(){var e=this.JSON.stringify(["e",{pluribus:"unum"}],null,"\t");this.assertMatch(e,/[\n\t"e",\n\t{\n\t\t"pluribus":\s?"unum"\n\t}\n]/)},testFormattingNumber:function(){var e=this.JSON.stringify(["e",{pluribus:"unum"}],null,2);this.assertMatch(e,/[\n  "e",\n  {\n    "pluribus":\s"unum"\n  }\n]/)},testReplacer:function(){var e=[new Date(0),"foo"],t=this.JSON.stringify(e,function(e,t){return this[e]instanceof Date?"Date("+this[e].getTime()+")":t});this.assertEquals('["Date(0)","foo"]',t)},testReplacerNestedObject:function(){var e=this.JSON.stringify({prop:"value"},function(e,t){return"value"==t?"replaced":t});this.assertMatch(e,/replaced/)},testReplacerWhiteList:function(){var e=this.JSON.stringify({name:"Peter",last:"Pan"},["name"]);this.assertEquals('{"name":"Peter"}',e)},testStringifyObject:function(){this.assertEquals('{"test":123}',this.JSON.stringify({test:123}))},testStringifyDate:function(){var e={start:new Date(0)};this.assertMatch(this.JSON.stringify(e),new RegExp('{"start":"1970-01-01T00:00:00(.0*)?Z"}'))},testCustomDateSerializer:function(){var e=new Date(0);e.toJSON=function(e){return this.valueOf()};var t=this.JSON.stringify(e);this.assert("0".charCodeAt()==t.charCodeAt())},testToJson:function(){this.assertEquals('"##"',this.JSON.stringify({toJSON:function(e){return"##"}}))},testToJsonKey:function(){if(this.isFirefox()||this.isIe8())throw new qx.dev.unit.RequirementError;var e=this.JSON.stringify({juhu:{toJSON:function(e){return"#"+e+"#"}}});this.assertMatch(e,/#juhu#/)},testStringifyRecursiveObject:function(){var e={};e.foo=e;this.assertException(function(){this.JSON.stringify(e)});(e=[])[0]=e;this.assertException(function(){this.JSON.stringify(e)})},testIgnoreNamedPropertiesInArrays:function(){var e=[1,"foo"];e.juhu="kinners";this.assertEquals('[1,"foo"]',this.JSON.stringify(e))},testIgnoreFunction:function(){this.assertEquals('{"juhu":"kinners"}',this.JSON.stringify({juhu:"kinners",foo:function(){}}))},testSimpleParse:function(){var e=this.JSON.parse('{"juhu":"kinners","age":23,"foo":[1,2,3]}');this.assertEquals(["juhu","foo","age"].sort().toString(),Object.keys(e).sort().toString());this.assertEquals("kinners",e.juhu);this.assertEquals(23,e.age);this.assertArrayEquals([1,2,3],e.foo)},testParseNumber:function(){this.assertEquals(1234,this.JSON.parse("1234"));this.assertEquals(1234,this.JSON.parse(" 1234"))},testParseRevive:function(){var e=this.JSON.parse('{"prop": "value"}',function(e,t){return"value"==t?"revived":t});this.assertEquals("revived",e.prop)},isIe8:function(){return"mshtml"===qx.core.Environment.get("engine.name")&&(8==qx.core.Environment.get("engine.version")||8==qx.core.Environment.get("browser.documentmode"))},isFirefox:function(){return"gecko"===qx.core.Environment.get("engine.name")}}});qx.test.lang.Json.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Number":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Number",{extend:qx.dev.unit.TestCase,members:{testEquals:function(){this.assertNotUndefined(qx.lang.Number);this.assertFunction(qx.lang.Number.equals);this.assertTrue(qx.lang.Number.equals(1,1));this.assertFalse(qx.lang.Number.equals(1,0));this.assertTrue(qx.lang.Number.equals(1.5,1.5));this.assertTrue(qx.lang.Number.equals(.30000000000000004,.3));this.assertFalse(qx.lang.Number.equals(1.5,1.500000001))}}});qx.test.lang.Number.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Object":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Object",{extend:qx.dev.unit.TestCase,members:{testObject:function(){this.assertNotUndefined(qx.lang.Object)},testEmpty:function(){var e={a:1};qx.lang.Object.empty(e);this.assertTrue(qx.lang.Object.isEmpty(e));e={};qx.lang.Object.empty(e);this.assertTrue(qx.lang.Object.isEmpty(e))},testIsEmpty:function(){this.assertEquals(!0,qx.lang.Object.isEmpty({}));this.assertEquals(!1,qx.lang.Object.isEmpty({a:void 0}));this.assertEquals(!1,qx.lang.Object.isEmpty({a:null}));this.assertEquals(!1,qx.lang.Object.isEmpty({a:1}))},testGetLength:function(){var e={};this.assertEquals(0,qx.lang.Object.getLength(e));e={a:1};this.assertEquals(1,qx.lang.Object.getLength(e));e={a:void 0,b:null,c:1};this.assertEquals(3,qx.lang.Object.getLength(e))},testGetKeys:function(){var e={a:void 0,b:null,c:1};this.assertArrayEquals(["a","b","c"].sort(),Object.keys(e).sort());e={};this.assertArrayEquals([],Object.keys(e));e={isPrototypeOf:1,hasOwnProperty:1,toLocaleString:1,toString:1,valueOf:1};this.assertArrayEquals(["isPrototypeOf","hasOwnProperty","toLocaleString","toString","valueOf"].sort(),Object.keys(e).sort())},testGetValues:function(){var e={a:void 0,b:null,c:1};this.assertArrayEquals([void 0,null,1].sort(),qx.lang.Object.getValues(e).sort());e={};this.assertArrayEquals([],qx.lang.Object.getValues(e));e={isPrototypeOf:1,hasOwnProperty:2,toLocaleString:3,toString:4,valueOf:5};this.assertArrayEquals([1,2,3,4,5].sort(),qx.lang.Object.getValues(e).sort())},testMergeWith:function(){var e={a:0};qx.lang.Object.mergeWith(e,{a:2,b:1},!0);this.assertEquals(2,e.a);this.assertEquals(1,e.b)},testMergeWithCarefully:function(){var e={a:0};qx.lang.Object.mergeWith(e,{a:2,b:1},!1);this.assertEquals(0,e.a);this.assertEquals(1,e.b)},testClone:function(){var e={a:12,b:!0,c:"affe"},t=qx.lang.Object.clone(e);t.a=14;e.b=!1;t.c="AFFE";this.assertEquals(12,e.a);this.assertEquals(!1,e.b);this.assertEquals("affe",e.c);this.assertEquals(14,t.a);this.assertEquals(!0,t.b);this.assertEquals("AFFE",t.c)},testCloneDeep:function(){var e={a:{b:0}},t=qx.lang.Object.clone(e,!0);e.a.b=1;this.assertEquals(0,t.a.b);e={a:[{b:0}]};t=qx.lang.Object.clone(e,!0);e.a[0].b=1;this.assertEquals(0,t.a[0].b);(e=[]).push({a:{b:0}});t=qx.lang.Object.clone(e,!0);this.assertEquals(0,t[0].a.b);e[0].a.b=1;this.assertEquals(0,t[0].a.b)},testInvert:function(){this.assertNotUndefined(qx.lang.Object.invert);var e=qx.lang.Object;this.assertJsonEquals({a:"1",2:"b"},e.invert({1:"a",b:2}))},testGetKeyFromValue:function(){this.assertEquals("a",qx.lang.Object.getKeyFromValue({a:123},123))},testContains:function(){this.assertTrue(qx.lang.Object.contains({a:1},1))},testFromArray:function(){var e=qx.lang.Object.fromArray(["a","b"]);this.assertTrue(e.a);this.assertTrue(e.b)},testObjectAssertions:function(){var e={}.constructor;this.assertIdentical({a:12}.constructor,e);this.assertIdentical((new Object).constructor,e);var t=new qx.core.Object;this.assertNotIdentical(t.constructor,e);this.assertNotIdentical(1..constructor,e);this.assertNotIdentical("Juhu".constructor,e);this.assertNotIdentical(/abc/.constructor,e);t.dispose()},testEquals:function(){var e={a:"text",b:[0,1]},t={a:"text",b:0},i={a:"text",b:!1},n={a:"text",b:[1,0],f:function(){this.f=this.b}},s={a:"text",b:null},r={a:"text",b:void 0};this.assertTrue(qx.lang.Object.equals(e,{a:"text",b:[0,1]}));this.assertFalse(qx.lang.Object.equals(e,t));this.assertFalse(qx.lang.Object.equals(t,i));this.assertFalse(qx.lang.Object.equals(e,{a:"text",b:[1,0]}));this.assertFalse(qx.lang.Object.equals({a:"text",b:[1,0],f:function(){this.f=this.b}},n));this.assertFalse(qx.lang.Object.equals({a:"text",b:[1,0],f:function(){this.a=this.b}},n));this.assertFalse(qx.lang.Object.equals({a:"text",c:{b:[1,0],f:function(){this.a=this.b}}},{a:"text",c:{b:[1,0],f:function(){this.a=this.b}}}));this.assertFalse(qx.lang.Object.equals(i,s));this.assertFalse(qx.lang.Object.equals(s,r));this.assertFalse(qx.lang.Object.equals({},null));this.assertFalse(qx.lang.Object.equals({},void 0));this.assertTrue(qx.lang.Object.equals("qooxdoo","qooxdoo"));this.assertTrue(qx.lang.Object.equals(5,5));this.assertFalse(qx.lang.Object.equals(5,10));this.assertFalse(qx.lang.Object.equals(1,"1"));this.assertTrue(qx.lang.Object.equals([],[]));this.assertTrue(qx.lang.Object.equals([1,2],[1,2]));this.assertFalse(qx.lang.Object.equals([1,2],[2,1]));this.assertFalse(qx.lang.Object.equals([1,2],[1,2,3]));this.assertTrue(qx.lang.Object.equals(new Date("03/31/2014"),new Date("03/31/2014")));this.assertFalse(qx.lang.Object.equals({1:{name:"mhc",age:28},2:{name:"arb",age:26}},{1:{name:"mhc",age:28},2:{name:"arb",age:27}}));this.assertFalse(qx.lang.Object.equals(function(e){return e},function(e){return e+2}))}}});qx.test.lang.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.lang.String":{},"qx.lang.Array":{},"qx.bom.String":{},"qx.xml.String":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.lang.Function":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"engine.version":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.String",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{testString:function(){this.assertNotUndefined(qx.lang.String)},testFormat:function(){this.assertNotUndefined(qx.lang.String.format);var e=qx.lang.String;this.assertEquals("1-2",e.format("%1-%2",[1,2]));this.assertEquals("2-1",e.format("%2-%1",[1,2]));this.assertEquals("1-2",e.format("%1-%2",["1","2"]));this.assertEquals("2-1",e.format("%2-%1",["1","2"]));this.assertEquals("1-2-3-4-5-6-7-8-9-10-11",e.format("%1-%2-%3-%4-%5-%6-%7-%8-%9-%10-%11",["1","2","3","4","5","6","7","8","9","10","11"]));this.assertEquals("foo $& bar",e.format("foo %1 bar",["$&"]));this.assertEquals("foo $` bar",e.format("foo %1 bar",["$`"]));this.assertEquals("foo $' bar",e.format("foo %1 bar",["$'"]));this.assertEquals("foo $1 bar",e.format("foo %1 bar",["$1"]));this.assertEquals("foo $22 bar",e.format("foo %1 bar",["$22"]));this.assertEquals("foo $& bar $&",e.format("foo %1 bar %2",["$&","$&"]))},testRepeat:function(){this.assertEquals("",qx.lang.String.repeat("",10));this.assertEquals("",qx.lang.String.repeat("1",0));this.assertEquals("1111",qx.lang.String.repeat("1",4));this.assertEquals("123123123",qx.lang.String.repeat("123",3));this.assertEquals("üüüü",qx.lang.String.repeat("ü",4))},testPad:function(){this.assertNotUndefined(qx.lang.String.pad);var e=qx.lang.String;this.assertEquals("------",e.pad("",6,"-"));this.assertEquals("---123",e.pad("123",6,"-"));this.assertEquals("----123",e.pad("123",7,"-"));this.assertEquals("    123",e.pad("123",7," "));this.assertEquals("0000123",e.pad("123",7));this.assertEquals("123",e.pad("123",2,"-"));this.assertEquals("123",e.pad("123",3,"-"))},testAppend:function(){this.assertNotUndefined(qx.lang.Array.append);var e=[1,2,3];qx.lang.Array.append(e,[4,5,6]);this.assertJsonEquals(e,[1,2,3,4,5,6]);var t=!1;try{qx.lang.Array.append(e,1)}catch(e){t=!0}this.assert(t)},testStartsWith:function(){var e=qx.lang.String;this.assertTrue(e.startsWith("123","1"));this.assertTrue(e.startsWith("123","123"));this.assertTrue(e.startsWith("1231","1"));this.assertFalse(e.startsWith("123","3"));this.assertFalse(e.startsWith("123","4"))},testEscape:function(){this.assertEquals("\n",qx.bom.String.escape("\n"));this.assertEquals("Hello",qx.bom.String.escape("Hello"));this.assertEquals("juhu &lt;&gt;",qx.bom.String.escape("juhu <>"));this.assertEquals("&lt;div id='1'&gt;&amp;nbsp; &euro;&lt;/div&gt;",qx.bom.String.escape("<div id='1'>&nbsp; €</div>"));this.assertEquals("&lt;div id='1'&gt;<br> &nbsp;&amp;nbsp; &euro;&lt;/div&gt;",qx.bom.String.fromText("<div id='1'>\n  &nbsp; €</div>"));this.assertEquals("<div id='1'>\n  &nbsp; €</div>",qx.bom.String.toText("&lt;div id='1'&gt;<br> &nbsp;&amp;nbsp;  \n   &euro;&lt;/div&gt;"));this.assertEquals("\n",qx.bom.String.unescape("\n"));this.assertEquals("Hello",qx.bom.String.unescape("Hello"));this.assertEquals("juhu <>",qx.bom.String.unescape("juhu &lt;&gt;"));this.assertEquals("<div id='1'>&nbsp; €</div>",qx.bom.String.unescape("&lt;div id='1'&gt;&amp;nbsp; &euro;&lt;/div&gt;"));this.assertEquals(">&zzzz;x",qx.bom.String.unescape("&gt;&zzzz;x"));this.assertEquals("€",qx.bom.String.unescape("&#x20AC;"));this.assertEquals("€",qx.bom.String.unescape("&#X20AC;"));this.assertEquals("\n",qx.xml.String.escape("\n"));this.assertEquals("Hello",qx.xml.String.escape("Hello"));this.assertEquals("juhu &lt;&gt;",qx.xml.String.escape("juhu <>"));this.assertEquals("&lt;div id=&apos;1&apos;&gt;&amp;nbsp; &#8364;&lt;/div&gt;",qx.xml.String.escape("<div id='1'>&nbsp; €</div>"));this.assertEquals("&quot;bread&quot; &amp; &quot;butter&quot;",qx.xml.String.escape('"bread" & "butter"'));this.assertEquals("\n",qx.xml.String.unescape("\n"));this.assertEquals("Hello",qx.xml.String.unescape("Hello"));this.assertEquals("juhu <>",qx.xml.String.unescape("juhu &lt;&gt;"));this.assertEquals("<div id='1'>&nbsp; €</div>",qx.xml.String.unescape("&lt;div id=&apos;1&apos;&gt;&amp;nbsp; &#8364;&lt;/div&gt;"));this.assertEquals('"bread" & "butter"',qx.xml.String.unescape("&quot;bread&quot; &amp; &quot;butter&quot;"))},testCapitalize:function(){this.assertEquals("Alibaba",qx.lang.String.capitalize("alibaba"));this.assertEquals("Über",qx.lang.String.capitalize("über"));this.assertEquals("Aüber",qx.lang.String.capitalize("aüber"));this.assertEquals("Die-Über",qx.lang.String.capitalize("die-über"));this.assertEquals("Die Über",qx.lang.String.capitalize("die über"))},testCamelCase:function(){this.assertEquals("paddingTop",qx.lang.String.camelCase("padding-top"));this.assertEquals("ILikeCookies",qx.lang.String.camelCase("I-like-cookies"));this.assertEquals("iLikeCookies",qx.lang.String.camelCase("i-like-cookies"))},testHyphenate:function(){this.assertEquals("padding-top",qx.lang.String.hyphenate("paddingTop"));this.assertEquals("-i-like-cookies",qx.lang.String.hyphenate("ILikeCookies"));this.assertEquals("i-like-cookies",qx.lang.String.hyphenate("iLikeCookies"))},testCombineCamelCaseAndHyphenate:function(){qx.lang.String.hyphenate("padding-top");this.assertEquals("paddingTop",qx.lang.String.camelCase("padding-top"));qx.lang.String.camelCase("marginTop");this.assertEquals("margin-top",qx.lang.String.hyphenate("marginTop"))},testClean:function(){var e="a b c d e f g h i";"mshtml"!=qx.core.Environment.get("engine.name")||parseFloat(qx.core.Environment.get("engine.version"))>=9&&qx.core.Environment.get("browser.documentmode")>=9||(e="a b c d evf g h i");this.assertEquals(e,qx.lang.String.clean("  a  b\tc\rd\fe\vf\n\ng\nh\ri "))},testQuote:function(){this.assertEquals('"abc \\"defg\\" hij"',qx.lang.String.quote('abc "defg" hij'));this.assertEquals('"abc \\\\defg\\\\ hij"',qx.lang.String.quote("abc \\defg\\ hij"));this.assertEquals('"abc \\"defg\\\\ hij"',qx.lang.String.quote('abc "defg\\ hij'))},testTrim:function(){var e="     foo bar     ";this.assertIdentical(qx.lang.String.trimLeft(e),"foo bar     ");this.assertIdentical(qx.lang.String.trimRight(e),"     foo bar")},testStripScripts:function(){var e="This is a <script>foobar<\/script>test";this.assertIdentical(qx.lang.String.stripScripts(e),"This is a test");var t=this.spy(qx.lang.Function,"globalEval");e="This is a test with<script>console.log('foobar');<\/script> script";this.assertIdentical(qx.lang.String.stripScripts(e,!0),"This is a test with script");this.assertCalledOnce(t);t.restore()}}});qx.test.lang.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.util.StringEscape":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.xml.String",{statics:{TO_CHARCODE:{quot:34,amp:38,lt:60,gt:62,apos:39},FROM_CHARCODE:{34:"quot",38:"amp",60:"lt",62:"gt",39:"apos"},escape:function(e){return qx.util.StringEscape.escape(e,this.FROM_CHARCODE)},unescape:function(e){return qx.util.StringEscape.unescape(e,this.TO_CHARCODE)}}});qx.xml.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.Type":{},"qx.locale.LocalizedString":{},"qx.type.BaseString":{},"qx.type.BaseArray":{},"qx.core.Object":{},"qx.Promise":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Type",{extend:qx.dev.unit.TestCase,members:{testIsString:function(){var e=qx.lang.Type;this.assertTrue(e.isString(""));this.assertTrue(e.isString("Juhu"));this.assertTrue(e.isString(new String("Juhu")));this.assertTrue(e.isString(new qx.locale.LocalizedString("Juhu")));this.assertTrue(e.isString(new qx.type.BaseString("juhu")));this.assertFalse(e.isString());this.assertFalse(e.isString(function(){}));this.assertFalse(e.isString(null));this.assertFalse(e.isString(2));this.assertFalse(e.isString({}));this.assertFalse(e.isString([]));this.assertFalse(e.isString(/juhu/));this.assertFalse(e.isString(document.getElementById("ReturenedNull")))},testIsArray:function(){var e=qx.lang.Type;this.assertTrue(e.isArray([]));this.assertTrue(e.isArray(new Array));this.assertTrue(e.isArray(new qx.type.BaseArray));this.assertFalse(e.isArray());this.assertFalse(e.isArray(function(){}));this.assertFalse(e.isArray(""));this.assertFalse(e.isArray(null));this.assertFalse(e.isArray(2));this.assertFalse(e.isArray({}));this.assertFalse(e.isArray(!0));this.assertFalse(e.isArray(/juhu/));this.assertFalse(e.isArray(document.getElementById("ReturenedNull")))},testIsObject:function(){var e=qx.lang.Type;this.assertTrue(e.isObject({}));this.assertTrue(e.isObject(new Object));var t=new qx.core.Object;this.assertTrue(e.isObject(t));t.dispose();this.assertFalse(e.isObject(),"undefined is not an object");this.assertFalse(e.isObject(function(){}),"function is not an object");this.assertFalse(e.isObject(""),"string is not an object");this.assertFalse(e.isObject(null),"null is not an object");this.assertFalse(e.isObject(void 0),"undefined is not an object");this.assertFalse(e.isObject(2),"number is not an object");this.assertFalse(e.isObject([]),"array is not an object");this.assertFalse(e.isObject(!0),"boolean is not an object");this.assertFalse(e.isObject(/juhu/),"regexp is not an object");this.assertFalse(e.isObject(document.getElementById("ReturenedNull")))},testIsRegExp:function(){var e=qx.lang.Type;this.assertTrue(e.isRegExp(/juhu/));this.assertTrue(e.isRegExp(new RegExp));this.assertFalse(e.isRegExp());this.assertFalse(e.isRegExp(function(){}));this.assertFalse(e.isRegExp(""));this.assertFalse(e.isRegExp(null));this.assertFalse(e.isRegExp(2));this.assertFalse(e.isRegExp([]));this.assertFalse(e.isRegExp(!0));this.assertFalse(e.isRegExp({}));this.assertFalse(e.isRegExp(document.getElementById("ReturenedNull")))},testIsNumber:function(){var e=qx.lang.Type;this.assertTrue(e.isNumber(1));this.assertTrue(e.isNumber(1.1));this.assertTrue(e.isNumber(new Number(1)));this.assertTrue(e.isNumber(0));this.assertFalse(e.isNumber());this.assertFalse(e.isNumber(function(){}));this.assertFalse(e.isNumber(""));this.assertFalse(e.isNumber(null));this.assertFalse(e.isNumber(/g/));this.assertFalse(e.isNumber([]));this.assertFalse(e.isNumber(!0));this.assertFalse(e.isNumber({}));this.assertFalse(e.isNumber(document.getElementById("ReturenedNull")))},testIsBoolean:function(){var e=qx.lang.Type;this.assertTrue(e.isBoolean(!0));this.assertTrue(e.isBoolean(!1));this.assertTrue(e.isBoolean(new Boolean));this.assertFalse(e.isBoolean());this.assertFalse(e.isBoolean(function(){}));this.assertFalse(e.isBoolean(""));this.assertFalse(e.isBoolean(null));this.assertFalse(e.isBoolean(/g/));this.assertFalse(e.isBoolean([]));this.assertFalse(e.isBoolean(2));this.assertFalse(e.isBoolean({}));this.assertFalse(e.isBoolean(document.getElementById("ReturenedNull")))},testIsFunction:function(){var e=qx.lang.Type;this.assertTrue(e.isFunction(function(){}));this.assertTrue(e.isFunction(Object));this.assertFalse(e.isFunction());this.assertFalse(e.isFunction(!0));this.assertFalse(e.isFunction(""));this.assertFalse(e.isFunction(null));this.assertFalse(e.isFunction(/g/));this.assertFalse(e.isFunction([]));this.assertFalse(e.isFunction(2));this.assertFalse(e.isFunction({}));this.assertFalse(e.isFunction(document.getElementById("ReturenedNull")))},testIsDate:function(){var e=qx.lang.Type;this.assertTrue(e.isDate(new Date));this.assertTrue(e.isDate(new Date(1981,1,10)));this.assertTrue(e.isDate(new Date(1981,1,10,6,1,2)));this.assertTrue(e.isDate(new Date(516848615165861)));this.assertFalse(e.isDate());this.assertFalse(e.isDate(!0));this.assertFalse(e.isDate(""));this.assertFalse(e.isDate(null));this.assertFalse(e.isDate(void 0));this.assertFalse(e.isDate(/g/));this.assertFalse(e.isDate([]));this.assertFalse(e.isDate(2));this.assertFalse(e.isDate({}));this.assertFalse(e.isDate(new Error));this.assertFalse(e.isDate(document.getElementById("ReturenedNull")))},testIsError:function(){var e=qx.lang.Type;this.assertTrue(e.isError(new Error));this.assertTrue(e.isError(new Error("")));this.assertTrue(e.isError(new Error("test")));this.assertTrue(e.isError(new EvalError));this.assertTrue(e.isError(new RangeError));this.assertFalse(e.isError());this.assertFalse(e.isError(!0));this.assertFalse(e.isError(""));this.assertFalse(e.isError(null));this.assertFalse(e.isError(void 0));this.assertFalse(e.isError(/g/));this.assertFalse(e.isError([]));this.assertFalse(e.isError(2));this.assertFalse(e.isError({}));this.assertFalse(e.isError(new Date));this.assertFalse(e.isError(document.getElementById("ReturenedNull")))},testIsPromise:function(){var e=qx.lang.Type;this.assertTrue(e.isPromise(new Promise(function(){})));this.assertTrue(e.isPromise(new qx.Promise(function(){})));this.assertFalse(e.isPromise());this.assertFalse(e.isPromise(!0));this.assertFalse(e.isPromise(""));this.assertFalse(e.isPromise({}));this.assertFalse(e.isPromise(null));this.assertFalse(e.isPromise(void 0));this.assertFalse(e.isPromise(/g/));this.assertFalse(e.isPromise([]));this.assertFalse(e.isPromise(2));this.assertFalse(e.isPromise({}));this.assertFalse(e.isPromise(new Error))}}});qx.test.lang.Type.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.Webkit",{extend:qx.dev.unit.TestCase,members:{testSwitch:function(){this.assertEquals(this,this._switchFunction(12));this.assertEquals(this,this._switchFunction(this))},_switchFunction:function(e){e;return this}}});qx.test.lang.Webkit.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Array":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.Array",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{testShims:function(){for(var e in["entry1","entry2"])this.assertTrue(0==e||1==e)},testIndexOf:function(){var e={},t=[1,e,"str",1];this.assertEquals(0,t.indexOf(1));this.assertEquals(1,t.indexOf(e));this.assertEquals(2,t.indexOf("str"));this.assertEquals(-1,t.indexOf(0))},testLastIndexOf:function(){var e={},t=[1,e,"str",1];this.assertEquals(3,t.lastIndexOf(1));this.assertEquals(1,t.lastIndexOf(e));this.assertEquals(2,t.lastIndexOf("str"));this.assertEquals(-1,t.lastIndexOf(0))},testForEach:function(){var e=[1,{},"str",1];e[10]=12;var t=[],i=[];e.forEach(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,10],i)},testFilter:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.filter(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return s%2==1},this);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,10],i);this.assertArrayEquals([2,4],n)},testMap:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.map(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return n+1},this),s=[2,3,4,5];s[10]=12;this.assertArrayEquals(s,n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,10],i)},testSome:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.some(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertFalse(n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,10],i);this.assertTrue(e.some(function(e){return 3==e}));this.assertFalse(e.some(function(e,t){return 6==t}))},testFind:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.find(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertUndefined(n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,4,5,6,7,8,9,10],i);this.assertEquals(e.find(function(e){return 3==e}),3);this.assertUndefined(e.find(function(e,t){return 6==t}))},testFindIndex:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.findIndex(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertEquals(n,-1);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,4,5,6,7,8,9,10],i);this.assertEquals(e.findIndex(function(e){return 3==e}),2);this.assertEquals(e.findIndex(function(e,t){return 6==e}),-1)},testEvery:function(){var e=[1,2,3,4];e[10]=11;var t=[],i=[],n=e.every(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return!0},this);this.assertTrue(n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3,10],i);this.assertFalse(e.every(function(e){return 3==e}));this.assertTrue(e.every(function(e,t){return e==t+1}))},testReduce:function(){this.assertEquals(10,[].reduce(function(){},10));var e=this.spy();[1].reduce(e,10);this.assertCalledWith(e,10,1,0,[1]);this.assertEquals(6,[1,2,3].reduce(function(e,t){return e+t},0));this.assertArrayEquals([0,1,2,3,4],[[1,2],[3,4]].reduce(function(e,t){return e.concat(t)},[0]))},testReduceRight:function(){this.assertEquals(10,[].reduceRight(function(){},10));var e=this.spy();[1].reduceRight(e,10);this.assertCalledWith(e,10,1,0,[1]);this.assertEquals(6,[1,2,3].reduceRight(function(e,t){return e+t},0));this.assertArrayEquals([0,3,4,1,2],[[1,2],[3,4]].reduceRight(function(e,t){return e.concat(t)},[0]))},testIncludes:function(){var e=["one","two","three"];this.assertTrue(e.includes("one"),"includes does not work!");this.assertTrue(e.includes("two"),"includes does not work!");this.assertTrue(e.includes("three"),"includes does not work!");this.assertFalse(e.includes("four"),"includes does not work!");e=[NaN];this.assertTrue(e.includes(NaN),"includes does not work!");e=[];this.assertFalse(e.includes("one"),"includes does not work!")}}});qx.test.lang.normalize.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Date":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.Date",{extend:qx.dev.unit.TestCase,members:{"test parse()":function(){var e=6e4*new Date((new Date).getFullYear(),1,1).getTimezoneOffset();this.assertIdentical(Date.parse("1970-01-01"),Date.UTC(1970,0,1,0,0,0,0),"Unix epoch");this.assertIdentical(Date.parse("2001"),Date.UTC(2001,0,1,0,0,0,0),"2001");this.assertIdentical(Date.parse("2001-02"),Date.UTC(2001,1,1,0,0,0,0),"2001-02");this.assertIdentical(Date.parse("2001-02-03"),Date.UTC(2001,1,3,0,0,0,0),"2001-02-03");this.assertIdentical(Date.parse("-002001"),Date.UTC(-2001,0,1,0,0,0,0),"-002001");this.assertIdentical(Date.parse("-002001-02"),Date.UTC(-2001,1,1,0,0,0,0),"-002001-02");this.assertIdentical(Date.parse("-002001-02-03"),Date.UTC(-2001,1,3,0,0,0,0),"-002001-02-03");this.assertIdentical(Date.parse("+010000-02"),Date.UTC(1e4,1,1,0,0,0,0),"+010000-02");this.assertIdentical(Date.parse("+010000-02-03"),Date.UTC(1e4,1,3,0,0,0,0),"+010000-02-03");this.assertIdentical(Date.parse("-010000-02"),Date.UTC(-1e4,1,1,0,0,0,0),"-010000-02");this.assertIdentical(Date.parse("-010000-02-03"),Date.UTC(-1e4,1,3,0,0,0,0),"-010000-02-03");this.assertTrue(isNaN(Date.parse("asdf")),"invalid YYYY (non-digits)");this.assertTrue(isNaN(Date.parse("1970-as-df")),"invalid YYYY-MM-DD (non-digits)");this.assertTrue(isNaN(Date.parse("19700101")),"invalid YYYY-MM-DD (missing hyphens)");this.assertIdentical(Date.parse("2001-02-03T04:05"),Date.UTC(2001,1,3,4,5,0,0)+e,"2001-02-03T04:05");this.assertIdentical(Date.parse("2001-02-03T04:05:06"),Date.UTC(2001,1,3,4,5,6,0)+e,"2001-02-03T04:05:06");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007"),Date.UTC(2001,1,3,4,5,6,7)+e,"2001-02-03T04:05:06.007");this.assertIdentical(Date.parse("2001-02-03T04:05Z"),Date.UTC(2001,1,3,4,5,0,0),"2001-02-03T04:05Z");this.assertIdentical(Date.parse("2001-02-03T04:05:06Z"),Date.UTC(2001,1,3,4,5,6,0),"2001-02-03T04:05:06Z");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007Z"),Date.UTC(2001,1,3,4,5,6,7),"2001-02-03T04:05:06.007Z");this.assertIdentical(Date.parse("2001-02-03T04:05-00:00"),Date.UTC(2001,1,3,4,5,0,0),"2001-02-03T04:05-00:00");this.assertIdentical(Date.parse("2001-02-03T04:05:06-00:00"),Date.UTC(2001,1,3,4,5,6,0),"2001-02-03T04:05:06-00:00");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007-00:00"),Date.UTC(2001,1,3,4,5,6,7),"2001-02-03T04:05:06.007-00:00");this.assertIdentical(Date.parse("2001-02-03T04:05+00:00"),Date.UTC(2001,1,3,4,5,0,0),"2001-02-03T04:05+00:00");this.assertIdentical(Date.parse("2001-02-03T04:05:06+00:00"),Date.UTC(2001,1,3,4,5,6,0),"2001-02-03T04:05:06+00:00");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007+00:00"),Date.UTC(2001,1,3,4,5,6,7),"2001-02-03T04:05:06.007+00:00");this.assertIdentical(Date.parse("2001-02-03T04:05-06:30"),Date.UTC(2001,1,3,4,5,0,0)+234e5,"2001-02-03T04:05-06:30");this.assertIdentical(Date.parse("2001-02-03T04:05:06-06:30"),Date.UTC(2001,1,3,4,5,6,0)+234e5,"2001-02-03T04:05:06-06:30");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007-06:30"),Date.UTC(2001,1,3,4,5,6,7)+234e5,"2001-02-03T04:05:06.007-06:30");this.assertIdentical(Date.parse("2001-02-03T04:05+06:30"),Date.UTC(2001,1,3,4,5,0,0)-234e5,"2001-02-03T04:05+06:30");this.assertIdentical(Date.parse("2001-02-03T04:05:06+06:30"),Date.UTC(2001,1,3,4,5,6,0)-234e5,"2001-02-03T04:05:06+06:30");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007+06:30"),Date.UTC(2001,1,3,4,5,6,7)-234e5,"2001-02-03T04:05:06.007+06:30");this.assertIdentical(Date.parse("2001T04:05:06.007"),Date.UTC(2001,0,1,4,5,6,7)+e,"2001T04:05:06.007");this.assertIdentical(Date.parse("2001-02T04:05:06.007"),Date.UTC(2001,1,1,4,5,6,7)+e,"2001-02T04:05:06.007");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007"),Date.UTC(2001,1,3,4,5,6,7)+e,"2001-02-03T04:05:06.007");this.assertIdentical(Date.parse("2001-02-03T04:05:06.007-06:30"),Date.UTC(2001,1,3,4,5,6,7)+234e5,"2001-02-03T04:05:06.007-06:30");this.assertIdentical(Date.parse("-010000T04:05"),Date.UTC(-1e4,0,1,4,5,0,0)+e,"-010000T04:05");this.assertIdentical(Date.parse("-010000-02T04:05"),Date.UTC(-1e4,1,1,4,5,0,0)+e,"-010000-02T04:05");this.assertIdentical(Date.parse("-010000-02-03T04:05"),Date.UTC(-1e4,1,3,4,5,0,0)+e,"-010000-02-03T04:05");this.assertTrue(isNaN(Date.parse("1970-01-01T00:00:00,000")),"invalid date-time (comma instead of dot)");this.assertTrue(isNaN(Date.parse("1970-01-01T0000")),"invalid date-time (missing colon in time part)");this.assertTrue(isNaN(Date.parse("1970-01-01T00:00.000")),"invalid date-time (msec with missing seconds)")}}});qx.test.lang.normalize.Date.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Error":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.Error",{extend:qx.dev.unit.TestCase,members:{testToString:function(){var e="Dummer Fehler",t=new Error(e);this.assertTrue(qx.lang.String.contains(t.toString(),e))}}});qx.test.lang.normalize.Error.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Function":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.Function",{extend:qx.dev.unit.TestCase,members:{testBind:function(){var e=null,t=0,i=function(t,i){e=this;return t+i};e=null;t=i(1,2);this.assertEquals(e,window);this.assertEquals(3,t);e=null;t=i.bind(this)(1,3);this.assertEquals(e,this);this.assertEquals(4,t);e=null;t=i.bind(this,1)(4);this.assertEquals(e,this);this.assertEquals(5,t)},testBindWithUndefinedArguments:function(){(function(e,t){this.assertTrue(t)}).bind(this,void 0,!0)()}}});qx.test.lang.normalize.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.Object":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.Object",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{testKeysWithExtendObject:function(){function e(){this.B=11}e.prototype=new function(){this.A=10};var t=new e;this.assertEquals(10,t.A,"Object extension fails!");this.assertEquals(11,t.B,"Object extension fails!");var i=Object.keys(t);this.assertEquals(1,i.length,"Expected length wrong!");this.assertFalse(i.includes("A"),"Test property A!");this.assertTrue(i.includes("B"),"Test property B!")},testKeys:function(){var e={isPrototypeOf:function(){},hasOwnProperty:function(){},toLocaleString:function(){},toString:function(){},valueOf:function(){},constructor:function(){},prototype:function(){}},t=Object.keys(e);this.assertTrue(t.includes("isPrototypeOf"),"Test isPrototypeOf");this.assertTrue(t.includes("hasOwnProperty"),"Test hasOwnProperty");this.assertTrue(t.includes("toLocaleString"),"Test toLocaleString");this.assertTrue(t.includes("toString"),"Test toString");this.assertTrue(t.includes("valueOf"),"Test valueOf");this.assertTrue(t.includes("constructor"),"Test constructor");this.assertTrue(t.includes("prototype"),"Test prototype")},testGetValues:function(){var e={a:void 0,b:null,c:1};this.assertArrayEquals([void 0,null,1].sort(),Object.values(e).sort());e={};this.assertArrayEquals([],Object.values(e));e={isPrototypeOf:1,hasOwnProperty:2,toLocaleString:3,toString:4,valueOf:5};this.assertArrayEquals([1,2,3,4,5].sort(),Object.values(e).sort())}}});qx.test.lang.normalize.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.lang.normalize.String":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.lang.normalize.String",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MMock],members:{"test trim()":function(){this.assertEquals("y","   y".trim());this.assertEquals("y","y   ".trim());this.assertEquals("y"," y  ".trim())},"test startsWith()":function(){var e="To be, or not to be, that is the question.";this.assertTrue(e.startsWith("To be"));this.assertFalse(e.startsWith("not to be"));this.assertTrue(e.startsWith("not to be",10))},"test endsWith()":function(){var e="To be, or not to be, that is the question.";this.assertTrue(e.endsWith("question."));this.assertFalse(e.endsWith("to be"));this.assertTrue(e.endsWith("to be",19));this.assertTrue(e.endsWith("question.",Number.POSITIVE_INFINITY));this.assertFalse(e.endsWith("to be",Number.POSITIVE_INFINITY));this.assertTrue(e.endsWith("question.",42.2));this.assertFalse(e.endsWith("to be",42.2));this.assertTrue(e.endsWith("question.",43));this.assertFalse(e.endsWith("to be",43))}}});qx.test.lang.normalize.String.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.locale.Manager":{},"qx.locale.Date":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.locale.Date",{extend:qx.dev.unit.TestCase,members:{setUp:function(){qx.locale.Manager.getInstance().setLocale("C")},tearDown:function(){qx.locale.Manager.getInstance().resetLocale()},testDayNames:function(){var e=qx.locale.Date,t="C",i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];this.assertJsonEquals(i,e.getDayNames("abbreviated").map(function(e){return e+""}));for(var n=0;n<7;n++)this.assertEquals(i[n],e.getDayName("abbreviated",n));var s=["S","M","T","W","T","F","S"];this.assertJsonEquals(s,e.getDayNames("narrow",t,"stand-alone").map(function(e){return e+""}));for(n=0;n<7;n++)this.assertEquals(s[n],e.getDayName("narrow",n,t,"stand-alone"));var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.assertJsonEquals(r,e.getDayNames("wide").map(function(e){return e+""}));for(n=0;n<7;n++)this.assertEquals(r[n],e.getDayName("wide",n));t="de_DE";qx.locale.Manager.getInstance().setLocale(t);i=["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."];this.assertJsonEquals(i,e.getDayNames("abbreviated").map(function(e){return e+""}));for(n=0;n<7;n++)this.assertEquals(i[n],e.getDayName("abbreviated",n));s=["S","M","D","M","D","F","S"];this.assertJsonEquals(s,e.getDayNames("narrow",t,"stand-alone").map(function(e){return e+""}));for(n=0;n<7;n++)this.assertEquals(s[n],e.getDayName("narrow",n,t,"stand-alone"));r=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"];this.assertJsonEquals(r,e.getDayNames("wide").map(function(e){return e+""}));for(n=0;n<7;n++)this.assertEquals(r[n],e.getDayName("wide",n));if(this.isDebugOn()){this.assertException(function(){e.getDayNames("verylong")},Error);this.assertException(function(){e.getDayName("wide",-1)},Error);this.assertException(function(){e.getDayName("wide",8)},Error)}},testDateFormat:function(){var e=qx.locale.Date;this.assertEquals("AM",e.getAmMarker("C"));this.assertEquals("PM",e.getPmMarker("C"))}}});qx.test.locale.Date.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.locale.Manager":{usage:"dynamic",require:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.locale.Date",{statics:{__mgr:qx.locale.Manager.getInstance(),getAmMarker:function(e){return this.__mgr.localize("cldr_am",[],e)},getPmMarker:function(e){return this.__mgr.localize("cldr_pm",[],e)},getDayNames:function(e,t,i,n){i=i||"format";qx.core.Assert.assertInArray(e,["abbreviated","narrow","wide"]);qx.core.Assert.assertInArray(i,["format","stand-alone"]);for(var s=["sun","mon","tue","wed","thu","fri","sat"],r=[],o=0;o<s.length;o++){var a="cldr_day_"+i+"_"+e+"_"+s[o];r.push(n?this.__localizeWithFallback(i,"format"===i?"stand-alone":"format",a,t):this.__mgr.localize(a,[],t))}return r},getDayName:function(e,t,i,n,s){n=n||"format";qx.core.Assert.assertInArray(e,["abbreviated","narrow","wide"]);qx.core.Assert.assertInteger(t);qx.core.Assert.assertInRange(t,0,6);qx.core.Assert.assertInArray(n,["format","stand-alone"]);var r="cldr_day_"+n+"_"+e+"_"+["sun","mon","tue","wed","thu","fri","sat"][t];return s?this.__localizeWithFallback(n,"format"===n?"stand-alone":"format",r,i):this.__mgr.localize(r,[],i)},getMonthNames:function(e,t,i,n){i=i||"format";qx.core.Assert.assertInArray(e,["abbreviated","narrow","wide"]);qx.core.Assert.assertInArray(i,["format","stand-alone"]);for(var s=[],r=0;r<12;r++){var o="cldr_month_"+i+"_"+e+"_"+(r+1);s.push(n?this.__localizeWithFallback(i,"format"===i?"stand-alone":"format",o,t):this.__mgr.localize(o,[],t))}return s},getMonthName:function(e,t,i,n,s){n=n||"format";qx.core.Assert.assertInArray(e,["abbreviated","narrow","wide"]);qx.core.Assert.assertInArray(n,["format","stand-alone"]);var r="cldr_month_"+n+"_"+e+"_"+(t+1);return s?this.__localizeWithFallback(n,"format"===n?"stand-alone":"format",r,i):this.__mgr.localize(r,[],i)},getDateFormat:function(e,t){qx.core.Assert.assertInArray(e,["short","medium","long","full"]);var i="cldr_date_format_"+e;return this.__mgr.localize(i,[],t)},getDateTimeFormat:function(e,t,i){var n="cldr_date_time_format_"+e,s=this.__mgr.localize(n,[],i);s==n&&(s=t);return s},getTimeFormat:function(e,t){qx.core.Assert.assertInArray(e,["short","medium","long","full"]);var i="cldr_time_format_"+e,n=this.__mgr.localize(i,[],t);if(n!=i)return n;switch(e){case"short":case"medium":return qx.locale.Date.getDateTimeFormat("HHmm","HH:mm");case"long":return qx.locale.Date.getDateTimeFormat("HHmmss","HH:mm:ss");case"full":return qx.locale.Date.getDateTimeFormat("HHmmsszz","HH:mm:ss zz");default:throw new Error("This case should never happen.")}},getWeekStart:function(e){var t={MV:5,AE:6,AF:6,BH:6,DJ:6,DZ:6,EG:6,ER:6,ET:6,IQ:6,IR:6,JO:6,KE:6,KW:6,LB:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SO:6,TN:6,YE:6,AS:0,AU:0,AZ:0,BW:0,CA:0,CN:0,FO:0,GE:0,GL:0,GU:0,HK:0,IE:0,IL:0,IS:0,JM:0,JP:0,KG:0,KR:0,LA:0,MH:0,MN:0,MO:0,MP:0,MT:0,NZ:0,PH:0,PK:0,SG:0,TH:0,TT:0,TW:0,UM:0,US:0,UZ:0,VI:0,ZA:0,ZW:0,MW:0,NG:0,TJ:0},i=qx.locale.Date._getTerritory(e);return null!=t[i]?t[i]:1},getWeekendStart:function(e){var t={EG:5,IL:5,SY:5,IN:0,AE:4,BH:4,DZ:4,IQ:4,JO:4,KW:4,LB:4,LY:4,MA:4,OM:4,QA:4,SA:4,SD:4,TN:4,YE:4},i=qx.locale.Date._getTerritory(e);return null!=t[i]?t[i]:6},getWeekendEnd:function(e){var t={AE:5,BH:5,DZ:5,IQ:5,JO:5,KW:5,LB:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,TN:5,YE:5,AF:5,IR:5,EG:6,IL:6,SY:6},i=qx.locale.Date._getTerritory(e);return null!=t[i]?t[i]:0},isWeekend:function(e,t){var i=qx.locale.Date.getWeekendStart(t),n=qx.locale.Date.getWeekendEnd(t);return n>i?e>=i&&e<=n:e>=i||e<=n},_getTerritory:function(e){if(e)var t=e.split("_")[1]||e;else t=this.__mgr.getTerritory()||this.__mgr.getLanguage();return t.toUpperCase()},__localizeWithFallback:function(e,t,i,n){var s=this.__mgr.localize(i,[],n);if(s==i){var r=i.replace("_"+e+"_","_"+t+"_");return this.__mgr.localize(r,[],n)}return s}}});qx.locale.Date.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.locale.MTranslation":{require:!0},"qx.locale.Manager":{},"qx.ui.form.TextField":{},"qx.locale.Key":{},"qx.bom.client.OperatingSystem":{},"qx.bom.client.Locale":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"},locale:{className:"qx.bom.client.Locale"},"locale.variant":{className:"qx.bom.client.Locale"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.locale.Locale",{extend:qx.dev.unit.TestCase,include:qx.locale.MTranslation,members:{__defaultLocale:null,__listenerId:null,setUp:function(){var e=qx.locale.Manager.getInstance();this.__defaultLocale=e.getLocale()},tearDown:function(){var e=qx.locale.Manager.getInstance();e.setLocale(this.__defaultLocale);this.__listenerId&&e.removeListenerById(this.__listenerId)},testTranslation:function(){this.assertNotUndefined(qx.locale.Manager);var e=qx.locale.Manager.getInstance();e.addTranslation("en_QX",{"test one":"test one","test two":"test two","test Hello %1!":"test Hello %1!","test Jonny":"test Jonny","test one car":"test one car","test %1 cars":"test %1 cars"});e.addTranslation("de_QX",{"test one":"Eins","test two":"Zwei","test Hello %1!":"Servus %1!","test Jonny":"Jonathan","test one car":"Ein Auto","test %1 cars":"%1 Autos"});e.setLocale("en_QX");this.assertEquals("en",e.getLanguage());this.assertEquals("QX",e.getTerritory());var t=this.tr("test one");this.assertEquals("test one",t);var i=this.tr("test Hello %1!","Fabian");this.assertEquals("test Hello Fabian!",i);i=this.tr("test Hello %{firstName} %{lastName}!",{firstName:"Fabian",lastName:"Jonny"});this.assertEquals("test Hello Fabian Jonny!",i);var n=this.tr("test Hello %1!",this.tr("test Jonny"));this.assertEquals("test Hello test Jonny!",n);var s=this.trn("test one car","test %1 cars",0,0);this.assertEquals("test 0 cars",s);s=this.trn("test one car","test %1 cars",1);this.assertEquals("test one car",s);var r=this.trn("test one car","test %1 cars",5,5);this.assertEquals("test 5 cars",r);t=this.trc("comment simple","test one");this.assertEquals("test one",t);i=this.trc("comment format","test Hello %1!","Fabian");this.assertEquals("test Hello Fabian!",i);n=this.trc("comment format args","test Hello %1!",this.tr("test Jonny"));this.assertEquals("test Hello test Jonny!",n);s=this.trnc("comment count 0","test one car","test %1 cars",0,0);this.assertEquals("test 0 cars",s);s=this.trnc("comment count 1","test one car","test %1 cars",1);this.assertEquals("test one car",s);r=this.trnc("comment count 5","test one car","test %1 cars",5,5);this.assertEquals("test 5 cars",r);var o=!1,a="";this.__listenerId=e.addListener("changeLocale",function(e){o=!0;a=e.getData()});e.setLocale("de_QX");this.assertTrue(o);this.assertEquals("de_QX",a);t=t.translate();this.assertEquals("Eins",t);i=i.translate();this.assertEquals("Servus Fabian!",i);n=n.translate();this.assertEquals("Servus Jonathan!",n);s=s.translate();this.assertEquals("Ein Auto",s);r=r.translate();this.assertEquals("5 Autos",r)},testInvalidMessage:function(){this.assertNotUndefined(qx.locale.Manager);var e=qx.locale.Manager.getInstance();e.addTranslation("en_QX",{"test one":"one!","test two":"two!"});e.addTranslation("de_QX",{"test one":"Eins!","test two":"Zwei!"});e.setLocale("en_QX");var t=new qx.ui.form.TextField;t.setInvalidMessage(this.tr("test one"));t.setRequiredInvalidMessage(this.tr("test two"));this.assertEquals("one!",t.getInvalidMessage());this.assertEquals("two!",t.getRequiredInvalidMessage());e.setLocale("de_QX");this.assertEquals("Eins!",t.getInvalidMessage());this.assertEquals("Zwei!",t.getRequiredInvalidMessage());t.dispose()},testMacCtrl:function(){this.assertEquals("Links",qx.locale.Key.getKeyName("short","Left","de_DE"));if("osx"==qx.core.Environment.get("os.name")){this.assertEquals("Ctrl",qx.locale.Key.getKeyName("short","Control","de_DE"));this.assertEquals("Control",qx.locale.Key.getKeyName("full","Control","de_DE"))}else{this.assertEquals("Strg",qx.locale.Key.getKeyName("short","Control","de_DE"));this.assertEquals("Steuerung",qx.locale.Key.getKeyName("full","Control","de_DE"))}},testResetLocale:function(){var e=qx.core.Environment.get("locale"),t=qx.core.Environment.get("locale.variant");""!==t&&(e+="_"+t);var i=qx.locale.Manager.getInstance(),n=i.getLocale();i.addTranslation("en_QX",{"test one":"one!","test two":"two!"});i.setLocale("en_QX");i.resetLocale();this.assertEquals(e,i.getLocale());i.setLocale(n)}}});qx.test.locale.Locale.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Assert":{},"qx.bom.client.OperatingSystem":{},"qx.locale.Manager":{defer:"runtime"}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.locale.Key",{statics:{getKeyName:function(e,t,i){qx.core.Assert.assertInArray(e,["short","full"]);var n="key_"+e+"_"+t;"osx"==qx.core.Environment.get("os.name")&&"Control"==t&&(n+="_Mac");var s=qx.locale.Manager.getInstance().translate(n,[],i);return s==n?qx.locale.Key._keyNames[n]||t:s}},defer:function(e){var t={},i=qx.locale.Manager;t[i.marktr("key_short_Backspace")]="Backspace";t[i.marktr("key_short_Tab")]="Tab";t[i.marktr("key_short_Space")]="Space";t[i.marktr("key_short_Enter")]="Enter";t[i.marktr("key_short_Shift")]="Shift";t[i.marktr("key_short_Control")]="Ctrl";t[i.marktr("key_short_Control_Mac")]="Ctrl";t[i.marktr("key_short_Alt")]="Alt";t[i.marktr("key_short_CapsLock")]="Caps";t[i.marktr("key_short_Meta")]="Meta";t[i.marktr("key_short_Escape")]="Esc";t[i.marktr("key_short_Left")]="Left";t[i.marktr("key_short_Up")]="Up";t[i.marktr("key_short_Right")]="Right";t[i.marktr("key_short_Down")]="Down";t[i.marktr("key_short_PageUp")]="PgUp";t[i.marktr("key_short_PageDown")]="PgDn";t[i.marktr("key_short_End")]="End";t[i.marktr("key_short_Home")]="Home";t[i.marktr("key_short_Insert")]="Ins";t[i.marktr("key_short_Delete")]="Del";t[i.marktr("key_short_NumLock")]="Num";t[i.marktr("key_short_PrintScreen")]="Print";t[i.marktr("key_short_Scroll")]="Scroll";t[i.marktr("key_short_Pause")]="Pause";t[i.marktr("key_short_Win")]="Win";t[i.marktr("key_short_Apps")]="Apps";t[i.marktr("key_full_Backspace")]="Backspace";t[i.marktr("key_full_Tab")]="Tabulator";t[i.marktr("key_full_Space")]="Space";t[i.marktr("key_full_Enter")]="Enter";t[i.marktr("key_full_Shift")]="Shift";t[i.marktr("key_full_Control")]="Control";t[i.marktr("key_full_Control_Mac")]="Control";t[i.marktr("key_full_Alt")]="Alt";t[i.marktr("key_full_CapsLock")]="CapsLock";t[i.marktr("key_full_Meta")]="Meta";t[i.marktr("key_full_Escape")]="Escape";t[i.marktr("key_full_Left")]="Left";t[i.marktr("key_full_Up")]="Up";t[i.marktr("key_full_Right")]="Right";t[i.marktr("key_full_Down")]="Down";t[i.marktr("key_full_PageUp")]="PageUp";t[i.marktr("key_full_PageDown")]="PageDown";t[i.marktr("key_full_End")]="End";t[i.marktr("key_full_Home")]="Home";t[i.marktr("key_full_Insert")]="Insert";t[i.marktr("key_full_Delete")]="Delete";t[i.marktr("key_full_NumLock")]="NumLock";t[i.marktr("key_full_PrintScreen")]="PrintScreen";t[i.marktr("key_full_Scroll")]="Scroll";t[i.marktr("key_full_Pause")]="Pause";t[i.marktr("key_full_Win")]="Win";t[i.marktr("key_full_Apps")]="Apps";e._keyNames=t}});qx.locale.Key.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.locale.MTranslation":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.locale.LocalizedString":{},"qx.locale.Date":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.locale.LocalizedString",{extend:qx.dev.unit.TestCase,include:[qx.locale.MTranslation,qx.dev.unit.MRequirements],members:{testTranslation:function(){this.require(["qx.debug"]);this.assertException(function(){new qx.locale.LocalizedString("foo","id","xyz").translate()})},testLocalizeVsTranslate:function(){this.assertEquals(qx.locale.Date.getMonthName("wide",(new Date).getMonth()).toString(),qx.locale.Date.getMonthName("wide",(new Date).getMonth()).translate().toString())}}});qx.test.locale.LocalizedString.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.log.Logger":{},"qx.test.log.fixture.ClassA":{},"qx.test.log.fixture.ClassB1":{},"qx.test.log.fixture.ClassC1":{},"qx.test.log.fixture.ClassB2":{},"qx.test.log.fixture.ClassC2":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.DeprecationMethodOverriding",{extend:qx.dev.unit.TestCase,members:{__lastWarnMsg:null,__orgWarnMesthod:null,__orgTraceMesthod:null,setUp:function(){this.__orgWarnMesthod=qx.log.Logger.warn;this.__orgTraceMesthod=qx.log.Logger.trace;var e=this;qx.log.Logger.warn=function(t){e.__lastWarnMsg=t};qx.log.Logger.trace=function(){}},tearDown:function(){qx.log.Logger.warn=this.__orgWarnMesthod;qx.log.Logger.trace=this.__orgTraceMesthod;this.__orgWarnMesthod=null;this.__orgTraceMesthod=null;this.__lastWarnMsg=null},"testClassA: baseclass":function(){var e=new qx.test.log.fixture.ClassA;this.__test(e,1,1,null);e.dispose()},"testClassB1: overrides method":function(){var e=new qx.test.log.fixture.ClassB1;this.__test(e,2,2,/qx.test.log.fixture.ClassB1.prototype._applyOldProperty()/);e.dispose()},"testClassC1: doesn't override method":function(){var e=new qx.test.log.fixture.ClassC1;this.__test(e,2,3,/qx.test.log.fixture.ClassB1.prototype._applyOldProperty()/);e.dispose()},"testClassB2: doesn't override method":function(){var e=new qx.test.log.fixture.ClassB2;this.__test(e,1,2,null);e.dispose()},"testClassC2: overrides method":function(){var e=new qx.test.log.fixture.ClassC2;this.__test(e,2,3,/qx.test.log.fixture.ClassC2.prototype._applyOldProperty()/);e.dispose()},__test:function(e,t,i,n){e.setOldProperty("Jo");e.setNewProperty("Do");this.assertEquals(t,e.getCallCountApplyOldProperty());this.assertEquals(i,e.getCallCountApplyNewProperty());n?this.assertTrue(n.test(this.__lastWarnMsg)):this.assertNull(this.__lastWarnMsg)}}});qx.test.log.DeprecationMethodOverriding.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.log.Logger":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.fixture.ClassA",{extend:qx.core.Object,construct:function(){this._callCountApplyOldProperty=0;this._callCountApplyNewProperty=0;qx.log.Logger.deprecateMethodOverriding(this,qx.test.log.fixture.ClassA,"_applyOldProperty")},properties:{oldProperty:{init:"oldProperty",apply:"_applyOldProperty"},newProperty:{init:"newProperty",apply:"_applyNewProperty"}},members:{_callCountApplyOldProperty:null,_callCountApplyNewProperty:null,_applyOldProperty:function(){this._callCountApplyOldProperty++},_applyNewProperty:function(){this._callCountApplyNewProperty++},getCallCountApplyOldProperty:function(){return this._callCountApplyOldProperty},getCallCountApplyNewProperty:function(){return this._callCountApplyNewProperty}}});qx.test.log.fixture.ClassA.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.log.fixture.ClassA":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.fixture.ClassB1",{extend:qx.test.log.fixture.ClassA,members:{_applyOldProperty:function(){qx.test.log.fixture.ClassB1.prototype._applyOldProperty.base.call(this);this._callCountApplyOldProperty++},_applyNewProperty:function(){qx.test.log.fixture.ClassB1.prototype._applyNewProperty.base.call(this);this._callCountApplyNewProperty++}}});qx.test.log.fixture.ClassB1.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.log.fixture.ClassB1":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.fixture.ClassC1",{extend:qx.test.log.fixture.ClassB1,members:{_applyNewProperty:function(){qx.test.log.fixture.ClassC1.prototype._applyNewProperty.base.call(this);this._callCountApplyNewProperty++}}});qx.test.log.fixture.ClassC1.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.log.fixture.ClassA":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.fixture.ClassB2",{extend:qx.test.log.fixture.ClassA,members:{_applyNewProperty:function(){qx.test.log.fixture.ClassB2.prototype._applyNewProperty.base.call(this);this._callCountApplyNewProperty++}}});qx.test.log.fixture.ClassB2.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.log.fixture.ClassB2":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.fixture.ClassC2",{extend:qx.test.log.fixture.ClassB2,members:{_applyOldProperty:function(){qx.test.log.fixture.ClassC2.prototype._applyOldProperty.base.call(this);this._callCountApplyOldProperty++},_applyNewProperty:function(){qx.test.log.fixture.ClassC2.prototype._applyNewProperty.base.call(this);this._callCountApplyNewProperty++}}});qx.test.log.fixture.ClassC2.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.log.appender.Native":{},"qx.log.Logger":{},"qx.log.appender.Util":{},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.Filters",{extend:qx.dev.unit.TestCase,members:{testFilters:function(){qx.log.appender.Native;var e=qx.log.Logger;qx.Class.define("my.TestLogger",{statics:{count:0,process:function(e){this.count++;var t=qx.log.appender.Util.toText(e);(console[e.level]||console.log).call(console,"TestLogger: "+t)}}});e.addFilter("afdemo","qx.log.appender.Native");e.addFilter(/^test-level/,"my.TestLogger","warn");var t=my.TestLogger;qx.log.Logger.register(t);t.count=0;this.trace("Trace Test");this.debug("Debug Test");this.warn("Warn Test");this.error("Error Test");this.info("Info Test");e.trace("test-level","Trace Test");e.debug("test-level","Debug Test");e.info("test-level","Info Test");e.warn("test-level","Warn Test");e.error("test-level","Error Test");qx.core.Assert.assertEquals(2,t.count);qx.log.Logger.unregister(t);qx.log.Logger.resetFilters()}}});qx.test.log.Filters.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.util.format.DateFormat":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.log.appender.Formatter",{extend:qx.core.Object,properties:{formatTimeAs:{init:"offset",check:["offset","datetime"]}},members:{formatOffset:function(e,t){for(var i=e.toString(),n=(t||6)-i.length,s="",r=0;r<n;r++)s+="0";return s+i},formatEntryTime:function(e){if("offset"==this.getFormatTimeAs())return this.formatOffset(e.offset,6);qx.log.appender.Formatter.__DATETIME_FORMAT||(qx.log.appender.Formatter.__DATETIME_FORMAT=new qx.util.format.DateFormat("YYYY-MM-dd HH:mm:ss"));return qx.log.appender.Formatter.__DATETIME_FORMAT.format(e.time)},normalizeEntryClass:function(e){var t={clazz:null,object:null,hash:null};if(e.object){t.hash=e.object;if(e.clazz)t.clazz=e.clazz;else{var i=e.win.qx.core.ObjectRegistry.fromHashCode(e.object,!0);if(i){t.clazz=i.constructor;t.object=i}}}else e.clazz&&(t.clazz=e.clazz);return t},formatEntryObjectAndClass:function(e){var t=this.normalizeEntryClass(e),i="";t.clazz&&(i+=t.clazz.classname);t.hash&&(i+="["+t.hash+"]");return i+=":"},formatEntryItems:function(e){for(var t=[],i=e.items,n=0,s=i.length;n<s;n++){var r=i[n],o=r.text;r.trace&&r.trace.length>0&&(o+="\n"+r.trace);if(o instanceof Array){for(var a=[],l=0,u=o.length;l<u;l++)a.push(o[l].text);"map"===r.type?t.push("{",a.join(", "),"}"):t.push("[",a.join(", "),"]")}else t.push(o)}return t.join(" ")},toText:function(e){var t=this.formatEntryTime(e)+" "+this.formatEntryObjectAndClass(e),i=this.formatEntryItems(e);i&&(t+=" "+i);return t},toTextArray:function(e){var t=[];t.push(this.formatEntryTime(e));t.push(this.formatEntryObjectAndClass(e));t.push(this.formatEntryItems(e));return t},toHtml:function(e){var t,i,n,s=[];s.push("<span class='offset'>",this.formatEntryTime(e),"</span> ");var r=this.normalizeEntryClass(e);r.clazz&&r.clazz.classname;r.object?s.push("<span class='object' title='Object instance with hash code: "+r.object.toHashCode()+"'>",r.classname,"[",r.object,"]</span>: "):r.hash?s.push("<span class='object' title='Object instance with hash code: "+r.hash+"'>",r.classname,"[",r.hash,"]</span>: "):r.clazz&&s.push("<span class='object'>"+r.clazz.classname,"</span>: ");for(var o=e.items,a=0,l=o.length;a<l;a++)if((i=(t=o[a]).text)instanceof Array){for(var u=[],c=0,d=i.length;c<d;c++)"string"==typeof(n=i[c])?u.push("<span>"+qx.log.appender.Formatter.escapeHTML(n)+"</span>"):n.key?u.push("<span class='type-key'>"+n.key+"</span>:<span class='type-"+n.type+"'>"+qx.log.appender.Formatter.escapeHTML(n.text)+"</span>"):u.push("<span class='type-"+n.type+"'>"+qx.log.appender.Formatter.escapeHTML(n.text)+"</span>");s.push("<span class='type-"+t.type+"'>");"map"===t.type?s.push("{",u.join(", "),"}"):s.push("[",u.join(", "),"]");s.push("</span>")}else s.push("<span class='type-"+t.type+"'>"+qx.log.appender.Formatter.escapeHTML(i)+"</span> ");var h=document.createElement("DIV");h.innerHTML=s.join("");h.className="level-"+e.level;return h}},statics:{__DATETIME_FORMAT:null,__defaultFormatter:null,getFormatter:function(){qx.log.appender.Formatter.__defaultFormatter||(qx.log.appender.Formatter.__defaultFormatter=new qx.log.appender.Formatter);return qx.log.appender.Formatter.__defaultFormatter},setFormatter:function(e){qx.log.appender.Formatter.__defaultFormatter=e},escapeHTML:function(e){return String(e).replace(/[<>&"']/g,qx.log.appender.Formatter.__escapeHTMLReplace)},__escapeHTMLReplace:function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;",'"':"&quot;"}[e]||"?"}}});qx.log.appender.Formatter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.log.appender.Formatter":{require:!0,defer:"runtime"},"qx.bom.client.Html":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.log.Logger":{defer:"runtime"}},environment:{provided:[],required:{"html.console":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.log.appender.Native",{statics:{process:function(e){if(qx.core.Environment.get("html.console")){var t=console[e.level]?e.level:"log";if(console[t]){var i=qx.log.appender.Formatter.getFormatter().toText(e);console[t](i)}}}},defer:function(e){qx.log.Logger.register(e)}});qx.log.appender.Native.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.log.appender.Formatter":{defer:"runtime",require:!0},"qx.lang.Array":{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.log.appender.Util",{statics:{toHtml:null,toText:null,toTextArray:null,escapeHTML:qx.log.appender.Formatter.escapeHTML},defer:function(e){var t=qx.log.appender.Formatter.getFormatter();["toHtml","toText","toTextArray","escapeHTML"].forEach(function(i){e[i]=function(){return t[i].apply(t,qx.lang.Array.fromArguments(arguments))}})}});qx.log.appender.Util.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.util.format.IFormat",{members:{format:function(e){},parse:function(e){}}});qx.util.format.IFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.format.IFormat":{require:!0},"qx.locale.Date":{construct:!0},"qx.locale.Manager":{},"qx.log.Logger":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.format.DateFormat",{extend:qx.core.Object,implement:[qx.util.format.IFormat],construct:function(e,t){qx.core.Object.constructor.call(this);this.__initialLocale=this.__locale=t;if(null!=e){this.__format=e.toString();if(this.__format in qx.util.format.DateFormat.ISO_MASKS){"isoUtcDateTime"===this.__format&&(this.__UTC=!0);this.__format=qx.util.format.DateFormat.ISO_MASKS[this.__format]}}else this.__format=qx.locale.Date.getDateFormat("long",this.getLocale())+" "+qx.locale.Date.getDateTimeFormat("HHmmss","HH:mm:ss",this.getLocale())},statics:{getDateInstance:function(){var e=qx.util.format.DateFormat,t=qx.locale.Date.getDateFormat("short")+"";null!=e._dateInstance&&e._dateInstance.__format==t||(e._dateInstance=new e(t));return e._dateInstance},getDateTimeInstance:function(){var e=qx.util.format.DateFormat,t=qx.locale.Date.getDateFormat("long")+" "+qx.locale.Date.getDateTimeFormat("HHmmss","HH:mm:ss");null!=e._dateTimeInstance&&e._dateTimeInstance.__format==t||(e._dateTimeInstance=new e(t));return e._dateTimeInstance},ASSUME_YEAR_2000_THRESHOLD:30,ISO_MASKS:{isoDate:"yyyy-MM-dd",isoTime:"HH:mm:ss",isoDateTime:"yyyy-MM-dd'T'HH:mm:ss",isoUtcDateTime:"yyyy-MM-dd'T'HH:mm:ss'Z'"},AM_MARKER:"am",PM_MARKER:"pm"},members:{__locale:null,__initialLocale:null,__format:null,__parseFeed:null,__parseRules:null,__formatTree:null,__UTC:null,__fillNumber:function(e,t){for(var i=""+(e<0?-1*e:e);i.length<t;)i="0"+i;return e<0?"-"+i:i},__getDayInYear:function(e){for(var t=new Date(e.getTime()),i=t.getDate();0!=t.getMonth();){t.setDate(-1);i+=t.getDate()+1}return i},__thursdayOfSameWeek:function(e){return new Date(e.getTime()+864e5*(3-(e.getDay()+6)%7))},__getWeekInYear:function(e){var t=this.__thursdayOfSameWeek(e),i=t.getFullYear(),n=this.__thursdayOfSameWeek(new Date(i,0,4));return Math.floor(1.5+(t.getTime()-n.getTime())/864e5/7)},__getWeekInMonth:function(e){var t=this.__thursdayOfSameWeek(e),i=this.__thursdayOfSameWeek(new Date(e.getFullYear(),e.getMonth(),4));return Math.floor(1.5+(t.getTime()-i.getTime())/864e5/7)},__getWeekYear:function(e){return this.__thursdayOfSameWeek(e).getFullYear()},__isLeapYear:function(e){var t=new Date(e,2,1);t.setDate(-1);return t.getDate()+1===29},__getMonthAndDayFromDayOfYear:function(e,t){var i=0,n=0;t||(t=1971);for(var s=0,r=1;r<=12;r++){var o=new Date(t,r,1);o.setDate(-1);var a=o.getDate()+1;if(!((s+=a)<e)){n=e-(s-a);break}i++;n+=a}return{month:i,day:n}},__getYearFromWeekYearAndMonth:function(e,t,i){var n;switch(t){case 11:n=e-1;e!=this.__getWeekYear(new Date(n,t,i))&&(n=e);break;case 0:n=e+1;e!=this.__getWeekYear(new Date(n,t,i))&&(n=e);break;default:n=e}return n},setLocale:function(e){if(null!==e&&"string"!=typeof e)throw new Error("Cannot set locale to "+e+" - please provide a string");this.__locale=null===e?this.__initialLocale:e},resetLocale:function(){this.setLocale(null)},getLocale:function(){var e=this.__locale;void 0===e&&(e=qx.locale.Manager.getInstance().getLocale());return e},format:function(e){if(null==e)return null;if(isNaN(e.getTime())){qx.log.Logger.error("Provided date is invalid");return null}this.__UTC&&(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()));var t=this.getLocale(),i=e.getFullYear(),n=e.getMonth(),s=e.getDate(),r=e.getDay(),o=e.getHours(),a=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds(),c=e.getTimezoneOffset(),d=c>0?1:-1,h=Math.floor(Math.abs(c)/60),g=Math.abs(c)%60;this.__initFormatTree();for(var m="",f=0;f<this.__formatTree.length;f++){var p=this.__formatTree[f];if("literal"==p.type)m+=p.text;else{var _=p.character,x=p.size,q="?";switch(_){case"y":if(2==x)q=this.__fillNumber(i%100,2);else{if(x>(q=(b=Math.abs(i))+"").length)for(var v=q.length;v<x;v++)q="0"+q;i<0&&(q="-"+q)}break;case"Y":var b=(q=this.__getWeekYear(e)+"").replace("-","");if(x>q.length)for(v=b.length;v<x;v++)b="0"+b;q=-1!=q.indexOf("-")?"-"+b:b;break;case"G":x>=1&&x<=3?q=i>0?"AD":"BC":4==x?q=i>0?"Anno Domini":"Before Christ":5==x&&(q=i>0?"A":"B");break;case"Q":case"q":1!=x&&2!=x||(q=this.__fillNumber(parseInt(n/4)+1,x));3==x&&(q="Q"+(parseInt(n/4)+1));break;case"D":q=this.__fillNumber(this.__getDayInYear(e),x);break;case"d":q=this.__fillNumber(s,x);break;case"w":q=this.__fillNumber(this.__getWeekInYear(e),x);break;case"W":q=this.__getWeekInMonth(e);break;case"E":x>=1&&x<=3?q=qx.locale.Date.getDayName("abbreviated",r,t,"format",!0):4==x?q=qx.locale.Date.getDayName("wide",r,t,"format",!0):5==x&&(q=qx.locale.Date.getDayName("narrow",r,t,"format",!0));break;case"e":var y=1+(r-(C=qx.locale.Date.getWeekStart(t))>=0?r-C:r-C+7);x>=1&&x<=2?q=this.__fillNumber(y,x):3==x?q=qx.locale.Date.getDayName("abbreviated",r,t,"format",!0):4==x?q=qx.locale.Date.getDayName("wide",r,t,"format",!0):5==x&&(q=qx.locale.Date.getDayName("narrow",r,t,"format",!0));break;case"c":var C;y=1+(r-(C=qx.locale.Date.getWeekStart(t))>=0?r-C:r-C+7);1==x?q=""+y:3==x?q=qx.locale.Date.getDayName("abbreviated",r,t,"stand-alone",!0):4==x?q=qx.locale.Date.getDayName("wide",r,t,"stand-alone",!0):5==x&&(q=qx.locale.Date.getDayName("narrow",r,t,"stand-alone",!0));break;case"M":1==x||2==x?q=this.__fillNumber(n+1,x):3==x?q=qx.locale.Date.getMonthName("abbreviated",n,t,"format",!0):4==x?q=qx.locale.Date.getMonthName("wide",n,t,"format",!0):5==x&&(q=qx.locale.Date.getMonthName("narrow",n,t,"format",!0));break;case"L":1==x||2==x?q=this.__fillNumber(n+1,x):3==x?q=qx.locale.Date.getMonthName("abbreviated",n,t,"stand-alone",!0):4==x?q=qx.locale.Date.getMonthName("wide",n,t,"stand-alone",!0):5==x&&(q=qx.locale.Date.getMonthName("narrow",n,t,"stand-alone",!0));break;case"a":q=o<12?qx.locale.Date.getAmMarker(t):qx.locale.Date.getPmMarker(t);break;case"H":q=this.__fillNumber(o,x);break;case"k":q=this.__fillNumber(0==o?24:o,x);break;case"K":q=this.__fillNumber(o%12,x);break;case"h":q=this.__fillNumber(o%12==0?12:o%12,x);break;case"m":q=this.__fillNumber(a,x);break;case"s":q=this.__fillNumber(l,x);break;case"S":if(x<(q=this.__fillNumber(u,3)).length)q=q.substr(0,x);else for(;x>q.length;)q+="0";break;case"z":x>=1&&x<=4&&(q="GMT"+(d>0?"-":"+")+this.__fillNumber(Math.abs(h),2)+":"+this.__fillNumber(g,2));break;case"Z":q=x>=1&&x<=3?(d>0?"-":"+")+this.__fillNumber(Math.abs(h),2)+this.__fillNumber(g,2):"GMT"+(d>0?"-":"+")+this.__fillNumber(Math.abs(h),2)+":"+this.__fillNumber(g,2)}m+=q}}return m},parse:function(e){this.__initParseFeed();var t=this.__parseFeed.regex.exec(e);if(null==t)throw new Error("Date string '"+e+"' does not match the date format: "+this.__format);for(var i={era:1,year:1970,quarter:1,month:0,day:1,dayOfYear:1,hour:0,ispm:!1,weekDay:4,weekYear:1970,weekOfMonth:1,weekOfYear:1,min:0,sec:0,ms:0},n=1,s=!1,r=!1,o=0;o<this.__parseFeed.usedRules.length;o++){var a=this.__parseFeed.usedRules[o],l=t[n];null!=a.field?i[a.field]=parseInt(l,10):a.manipulator(i,l,a.pattern);if("Y+"==a.pattern){for(var u=!1,c=0;c<this.__parseFeed.usedRules.length;c++)if("y+"==this.__parseFeed.usedRules[c].pattern){u=!0;break}u||(s=!0)}if(-1!=a.pattern.indexOf("D")){var d=!1;for(c=0;c<this.__parseFeed.usedRules.length;c++)if(-1!=this.__parseFeed.usedRules[c].pattern.indexOf("d")){d=!0;break}d||(r=!0)}n+=null==a.groups?1:a.groups}s&&(i.year=this.__getYearFromWeekYearAndMonth(i.weekYear,i.month,i.day));if(r){var h=this.__getMonthAndDayFromDayOfYear(i.dayOfYear,i.year);i.month=h.month;i.day=h.day}i.era<0&&i.year*i.era<0&&(i.year=i.year*i.era);var g=new Date(i.year,i.month,i.day,i.ispm?i.hour+12:i.hour,i.min,i.sec,i.ms);this.__UTC&&(g=new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()));if(i.month!=g.getMonth()||i.year!=g.getFullYear())throw new Error("Error parsing date '"+e+"': the value for day or month is too large");return g},__initFormatTree:function(){if(null==this.__formatTree){this.__formatTree=[];for(var e,t=0,i="",n=this.__format,s="default",r=0;r<n.length;){var o=n.charAt(r);switch(s){case"quoted_literal":if("'"==o){if(r+1>=n.length){r++;break}if("'"==n.charAt(r+1)){i+=o;r++}else{r++;s="unkown"}}else{i+=o;r++}break;case"wildcard":if(o==e){t++;r++}else{this.__formatTree.push({type:"wildcard",character:e,size:t});e=null;t=0;s="default"}break;default:if(o>="a"&&o<="z"||o>="A"&&o<="Z"){e=o;s="wildcard"}else if("'"==o){if(r+1>=n.length){i+=o;r++;break}if("'"==n.charAt(r+1)){i+=o;r++}r++;s="quoted_literal"}else s="default";if("default"!=s){if(i.length>0){this.__formatTree.push({type:"literal",text:i});i=""}}else{i+=o;r++}}}null!=e?this.__formatTree.push({type:"wildcard",character:e,size:t}):i.length>0&&this.__formatTree.push({type:"literal",text:i})}},__initParseFeed:function(){if(null==this.__parseFeed){var e=this.__format;this.__initParseRules();this.__initFormatTree();for(var t,i=[],n="^",s=0;s<this.__formatTree.length;s++){var r=this.__formatTree[s];if("literal"==r.type)n+=qx.lang.String.escapeRegexpChars(r.text);else{for(var o,a=r.character,l=r.size,u=0;u<this.__parseRules.length;u++){var c=this.__parseRules[u];if(this.__isRuleForWildcard(c,a,l)){o=c;break}}if(null==o){for(var d="",h=0;h<l;h++)d+=a;throw new Error("Malformed date format: "+e+". Wildcard "+d+" is not supported")}i.push(o);n+=o.regex}}n+="$";try{t=new RegExp(n)}catch(t){throw new Error("Malformed date format: "+e)}this.__parseFeed={regex:t,usedRules:i,pattern:n}}},__isRuleForWildcard:function(e,t,i){if("y"===t&&"y+"===e.pattern){e.regex=e.regexFunc(i);return!0}if("Y"===t&&"Y+"===e.pattern){e.regex=e.regexFunc(i);return!0}return t==e.pattern.charAt(0)&&i==e.pattern.length},__initParseRules:function(){var e=qx.util.format.DateFormat,t=qx.lang.String;if(null==this.__parseRules){var i=this.__parseRules=[],n=qx.locale.Date.getAmMarker(this.getLocale()).toString()||e.AM_MARKER,s=qx.locale.Date.getPmMarker(this.getLocale()).toString()||e.PM_MARKER,r=this.getLocale(),o=function(e,t){e.month=parseInt(t,10)-1},a=function(e,t){var i=qx.locale.Date.getWeekStart(r),n=parseInt(t,10)-1+i<=6?parseInt(t,10)-1+i:parseInt(t,10)-1+i-7;e.weekDay=n},l=function(e,t){e.hour=parseInt(t,10)%24},u=function(e,t){e.hour=parseInt(t,10)%12},c=function(e,t){},d=["AD","BC"],h=function(e,t){e.era="AD"==t?1:-1},g=["Q1","Q2","Q3","Q4"],m=function(e,t){e.quarter=g.indexOf(t)},f=["1st quarter","2nd quarter","3rd quarter","4th quarter"],p=function(e,t){e.quarter=f.indexOf(t)},_={},x=function(e){var i=["L","M"],n=["c","e","E"],s=e.charAt(0),o=i.indexOf(s)>=0;if(!_[e]){_[e]={};for(var a=function(){var t=s===(o?i:n)[0]?"stand-alone":"format",r="abbreviated";switch(e.length){case 4:r="wide";break;case 5:r="narrow";break;default:r="abbreviated"}return[t,r]}(),l=(o?qx.locale.Date.getMonthNames:qx.locale.Date.getDayNames).call(qx.locale.Date,a[1],r,a[0],!0),u=0,c=l.length;u<c;u++)l[u]=t.escapeRegexpChars(l[u].toString());_[e].data=l;_[e].func=function(e,i){i=t.escapeRegexpChars(i);e[o?"month":"weekDay"]=l.indexOf(i)}}return _[e]};i.push({pattern:"y+",regexFunc:function(e){for(var t="(-*",i=0;i<e;i++){t+="\\d";i===e-1&&1!==i&&(t+="+?")}return t+=")"},manipulator:function(t,i){(i=parseInt(i,10))>=0&&(i<e.ASSUME_YEAR_2000_THRESHOLD?i+=2e3:i<100&&(i+=1900));t.year=i}});i.push({pattern:"Y+",regexFunc:function(e){for(var t="(-*",i=0;i<e;i++){t+="\\d";i===e-1&&(t+="+?")}return t+=")"},manipulator:function(t,i){(i=parseInt(i,10))>=0&&(i<e.ASSUME_YEAR_2000_THRESHOLD?i+=2e3:i<100&&(i+=1900));t.weekYear=i}});i.push({pattern:"G",regex:"("+d.join("|")+")",manipulator:h});i.push({pattern:"GG",regex:"("+d.join("|")+")",manipulator:h});i.push({pattern:"GGG",regex:"("+d.join("|")+")",manipulator:h});i.push({pattern:"GGGG",regex:"("+["Anno Domini","Before Christ"].join("|")+")",manipulator:function(e,t){e.era="Anno Domini"==t?1:-1}});i.push({pattern:"GGGGG",regex:"("+["A","B"].join("|")+")",manipulator:function(e,t){e.era="A"==t?1:-1}});i.push({pattern:"Q",regex:"(\\d\\d*?)",field:"quarter"});i.push({pattern:"QQ",regex:"(\\d\\d?)",field:"quarter"});i.push({pattern:"QQQ",regex:"("+g.join("|")+")",manipulator:m});i.push({pattern:"QQQQ",regex:"("+f.join("|")+")",manipulator:p});i.push({pattern:"q",regex:"(\\d\\d*?)",field:"quarter"});i.push({pattern:"qq",regex:"(\\d\\d?)",field:"quarter"});i.push({pattern:"qqq",regex:"("+g.join("|")+")",manipulator:m});i.push({pattern:"qqqq",regex:"("+f.join("|")+")",manipulator:p});i.push({pattern:"M",regex:"(\\d\\d*?)",manipulator:o});i.push({pattern:"MM",regex:"(\\d\\d?)",manipulator:o});i.push({pattern:"MMM",regex:"("+x("MMM").data.join("|")+")",manipulator:x("MMM").func});i.push({pattern:"MMMM",regex:"("+x("MMMM").data.join("|")+")",manipulator:x("MMMM").func});i.push({pattern:"MMMMM",regex:"("+x("MMMMM").data.join("|")+")",manipulator:x("MMMMM").func});i.push({pattern:"L",regex:"(\\d\\d*?)",manipulator:o});i.push({pattern:"LL",regex:"(\\d\\d?)",manipulator:o});i.push({pattern:"LLL",regex:"("+x("LLL").data.join("|")+")",manipulator:x("LLL").func});i.push({pattern:"LLLL",regex:"("+x("LLLL").data.join("|")+")",manipulator:x("LLLL").func});i.push({pattern:"LLLLL",regex:"("+x("LLLLL").data.join("|")+")",manipulator:x("LLLLL").func});i.push({pattern:"dd",regex:"(\\d\\d?)",field:"day"});i.push({pattern:"d",regex:"(\\d\\d*?)",field:"day"});i.push({pattern:"D",regex:"(\\d?)",field:"dayOfYear"});i.push({pattern:"DD",regex:"(\\d\\d?)",field:"dayOfYear"});i.push({pattern:"DDD",regex:"(\\d\\d\\d?)",field:"dayOfYear"});i.push({pattern:"E",regex:"("+x("E").data.join("|")+")",manipulator:x("E").func});i.push({pattern:"EE",regex:"("+x("EE").data.join("|")+")",manipulator:x("EE").func});i.push({pattern:"EEE",regex:"("+x("EEE").data.join("|")+")",manipulator:x("EEE").func});i.push({pattern:"EEEE",regex:"("+x("EEEE").data.join("|")+")",manipulator:x("EEEE").func});i.push({pattern:"EEEEE",regex:"("+x("EEEEE").data.join("|")+")",manipulator:x("EEEEE").func});i.push({pattern:"e",regex:"(\\d?)",manipulator:a});i.push({pattern:"ee",regex:"(\\d\\d?)",manipulator:a});i.push({pattern:"eee",regex:"("+x("eee").data.join("|")+")",manipulator:x("eee").func});i.push({pattern:"eeee",regex:"("+x("eeee").data.join("|")+")",manipulator:x("eeee").func});i.push({pattern:"eeeee",regex:"("+x("eeeee").data.join("|")+")",manipulator:x("eeeee").func});i.push({pattern:"c",regex:"\\d?",manipulator:a});i.push({pattern:"ccc",regex:"("+x("ccc").data.join("|")+")",manipulator:x("ccc").func});i.push({pattern:"cccc",regex:"("+x("cccc").data.join("|")+")",manipulator:x("cccc").func});i.push({pattern:"ccccc",regex:"("+x("ccccc").data.join("|")+")",manipulator:x("ccccc").func});i.push({pattern:"a",regex:"("+n+"|"+s+")",manipulator:function(t,i){var n=qx.locale.Date.getPmMarker(r).toString()||e.PM_MARKER;t.ispm=i==n}});i.push({pattern:"W",regex:"(\\d?)",field:"weekOfMonth"});i.push({pattern:"w",regex:"(\\d\\d?)",field:"weekOfYear"});i.push({pattern:"ww",regex:"(\\d\\d)",field:"weekOfYear"});i.push({pattern:"HH",regex:"(\\d\\d?)",field:"hour"});i.push({pattern:"H",regex:"(\\d\\d?)",field:"hour"});i.push({pattern:"kk",regex:"(\\d\\d?)",manipulator:l});i.push({pattern:"k",regex:"(\\d\\d?)",manipulator:l});i.push({pattern:"KK",regex:"(\\d\\d?)",field:"hour"});i.push({pattern:"K",regex:"(\\d\\d?)",field:"hour"});i.push({pattern:"hh",regex:"(\\d\\d?)",manipulator:u});i.push({pattern:"h",regex:"(\\d\\d?)",manipulator:u});i.push({pattern:"mm",regex:"(\\d\\d?)",field:"min"});i.push({pattern:"m",regex:"(\\d\\d?)",field:"min"});i.push({pattern:"ss",regex:"(\\d\\d?)",field:"sec"});i.push({pattern:"s",regex:"(\\d\\d?)",field:"sec"});i.push({pattern:"SSS",regex:"(\\d\\d?\\d?)",field:"ms"});i.push({pattern:"SS",regex:"(\\d\\d?\\d?)",field:"ms"});i.push({pattern:"S",regex:"(\\d\\d?\\d?)",field:"ms"});i.push({pattern:"Z",regex:"([\\+\\-]\\d\\d\\d\\d)",manipulator:c});i.push({pattern:"z",regex:"(GMT[\\+\\-]\\d\\d:\\d\\d)",manipulator:c})}}}});qx.util.format.DateFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.core.Object":{},"qx.core.ObjectRegistry":{},"qx.log.appender.Formatter":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.Formatter",{extend:qx.dev.unit.TestCase,members:{testToTextWithObject:function(){var e=new Date(1e3),t=new qx.core.Object;qx.core.ObjectRegistry.register(t);var i={time:e,offset:900,level:"warn",items:[],win:window,object:t.$$hash},n=qx.log.appender.Formatter.getFormatter().toText(i);this.assertEquals("000900 qx.core.Object["+t.$$hash+"]:",n);t.dispose()},testToTextAsDate:function(){var e=new Date(2019,9,10,1,2,3),t=new qx.core.Object;qx.core.ObjectRegistry.register(t);var i={time:e,offset:900,level:"warn",items:[],win:window,object:t.$$hash},n=(new qx.log.appender.Formatter).set({formatTimeAs:"datetime"}).toText(i);this.assertEquals("2019-10-10 01:02:03 qx.core.Object["+t.$$hash+"]:",n);t.dispose()},testToTextWithClass:function(){var e={time:new Date(1e3),offset:900,level:"warn",items:[],win:window,clazz:qx.core.Object},t=qx.log.appender.Formatter.getFormatter().toText(e);this.assertEquals("000900 qx.core.Object:",t)}}});qx.test.log.Formatter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.log.Logger":{},"qx.log.appender.RingBuffer":{},"qx.bom.client.EcmaScript":{},"qx.bom.client.Engine":{},"qx.core.Object":{},"qx.core.IDisposable":{}},environment:{provided:[],required:{"ecmascript.error.stacktrace":{className:"qx.bom.client.EcmaScript"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.Logger",{extend:qx.dev.unit.TestCase,statics:{TEST_CONSTANT:"abc"},members:{setUp:function(){this.__initialLogLevel=qx.log.Logger.getLevel()},tearDown:function(){qx.log.Logger.setLevel(this.__initialLogLevel)},__testLogException:function(e){var t=new qx.log.appender.RingBuffer;qx.log.Logger.setLevel("debug");qx.log.Logger.clear();qx.log.Logger.register(t);qx.log.Logger.debug(e);var i=t.getAllLogEvents();this.assertEquals(1,i.length);qx.core.Environment.get("ecmascript.error.stacktrace")&&(e instanceof Error||"gecko"!==qx.core.Environment.get("engine.name"))&&this.assert(i[0].items[0].trace.length>0);qx.log.Logger.unregister(t)},testLogException:function(){var e=this.newException();this.__testLogException(e)},testLogDOMException:function(){var e=this.newDOMException();this.__testLogException(e)},testKonstantDeprecation:function(){qx.log.Logger.deprecatedConstantWarning(qx.test.log.Logger,"TEST_CONSTANT");this.assertEquals("abc",qx.test.log.Logger.TEST_CONSTANT)},testContextObject:function(){var e=new qx.log.appender.RingBuffer;qx.log.Logger.setLevel("debug");qx.log.Logger.clear();qx.log.Logger.register(e);qx.Class.define("test.DisposableObject",{extend:qx.core.Object,implement:qx.core.IDisposable});var t=new qx.core.Object,i=new test.DisposableObject;qx.log.Logger.debug(qx.core.Object,"m1");qx.log.Logger.debug(t,"m2");qx.log.Logger.debug(qxWeb(),"m3");qx.log.Logger.debug(i,"m4");var n=e.getAllLogEvents();this.assertEquals(qx.core.Object,n[0].clazz);this.assertEquals(qx.core.Object,n[1].clazz);this.assertEquals(qxWeb,n[2].clazz);this.assertEquals(i.toHashCode(),n[3].object);qx.log.Logger.unregister(e);i.dispose();qx.Class.undefine("test.DisposableObject")},newException:function(){var e;try{throw new Error}catch(t){e=t}return e},newDOMException:function(){var e;try{document.body.appendChild(null)}catch(t){e=t}return e}}});qx.test.log.Logger.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.log.Logger":{},"qx.log.appender.RingBuffer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.log.RingBuffer",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__initialLogLevel=qx.log.Logger.getLevel()},tearDown:function(){qx.log.Logger.setLevel(this.__initialLogLevel);this.appender&&qx.log.Logger.unregister(this.appender);this.appender=null},testLog:function(){this.appender=new qx.log.appender.RingBuffer;qx.log.Logger.setLevel("debug");qx.log.Logger.clear();qx.log.Logger.register(this.appender);qx.log.Logger.debug("test");var e=this.appender.getAllLogEvents();this.assertEquals(1,e.length);this.assertEquals("test",e[0].items[0].text);qx.log.Logger.unregister(this.appender);this.appender=null},testExceedMaxMessages:function(){for(var e=new qx.log.appender.RingBuffer(2),t=0;t<10;t++)e.process({index:t});var i=e.getAllLogEvents();this.assertEquals(2,i.length);this.assertEquals(8,i[0].index);this.assertEquals(9,i[1].index)},testRetrieveLogEvents:function(){for(var e=new qx.log.appender.RingBuffer(6),t=0;t<10;t++){var i={index:t};e.process(i)}var n=e.retrieveLogEvents(5);this.assertEquals(5,n.length);this.assertEquals(5,n[0].index);this.assertEquals(9,n[4].index)},testClearHistory:function(){var e=new qx.log.appender.RingBuffer;e.process({});this.assertEquals(1,e.getAllLogEvents().length);e.clearHistory();this.assertEquals(0,e.getAllLogEvents().length)}}});qx.test.log.RingBuffer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.element.Attribute":{},"qx.bom.Html":{},"qx.bom.Input":{},qxWeb:{defer:"runtime"}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Attribute",{members:{getHtml:function(){return this[0]&&1===this[0].nodeType?qx.bom.element.Attribute.get(this[0],"html"):null},setHtml:function(e){e=qx.bom.Html.fixEmptyTags(e);this._forEachElement(function(t){qx.bom.element.Attribute.set(t,"html",e)});return this},setAttribute:function(e,t){this._forEachElement(function(i){qx.bom.element.Attribute.set(i,e,t)});return this},getAttribute:function(e){return this[0]&&1===this[0].nodeType?qx.bom.element.Attribute.get(this[0],e):null},removeAttribute:function(e){this._forEachElement(function(t){qx.bom.element.Attribute.set(t,e,null)});return this},setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},getAttributes:function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=this.getAttribute(e[i]);return t},removeAttributes:function(e){for(var t=0,i=e.length;t<i;t++)this.removeAttribute(e[t]);return this},setProperty:function(e,t){for(var i=0;i<this.length;i++)this[i][e]=t;return this},getProperty:function(e){return this[0]?this[0][e]:null},setProperties:function(e){for(var t in e)this.setProperty(t,e[t]);return this},removeProperties:function(e){for(var t=0;t<e.length;t++)this.removeProperty(e[t]);return this},getProperties:function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=this.getProperty(e[i]);return t},removeProperty:function(e){this[0]&&(this[0][e]=void 0);return this},getValue:function(){return this[0]&&1===this[0].nodeType?qx.bom.Input.getValue(this[0]):null},setValue:function(e){this._forEachElement(function(t){qx.bom.Input.setValue(t,e)});return this}},defer:function(e){qxWeb.$attachAll(this)}});qx.module.Attribute.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.dom.Element":{},"qx.bom.Selector":{},qxWeb:{defer:"runtime"},"qx.dom.Hierarchy":{},"qx.lang.Array":{},"qx.dom.Node":{},"qx.bom.client.Html":{},"qx.lang.Type":{},"qx.bom.element.Location":{}},environment:{provided:[],required:{"html.node.isequalnode":{className:"qx.bom.client.Html"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Traversing",{statics:{EQUALITY_ATTRIBUTES:["nodeType","nodeName","localName","namespaceURI","prefix","nodeValue"],__getAncestors:function(e,t){for(var i=[],n=0;n<this.length;n++)for(var s=qx.dom.Element.getParentElement(this[n]);s;){var r=[s];if(e&&qx.bom.Selector.matches(e,r).length>0)break;t&&(r=qx.bom.Selector.matches(t,r));i=i.concat(r);s=qx.dom.Element.getParentElement(s)}return qxWeb.$init(i,qxWeb)},__getElementFromArgument:function(e){return e instanceof qxWeb?e[0]:qx.Bootstrap.isString(e)?qxWeb(e)[0]:e},__getNodeFromArgument:function(e){"string"==typeof e&&(e=qxWeb(e));(e instanceof Array||e instanceof qxWeb)&&(e=e[0]);return qxWeb.isNode(e)?e:null},__getAttributes:function(e){var t={};for(var i in e.attributes)if("length"!=i){var n=e.attributes[i].name,s=e.attributes[i].value;t[n]=s}return t},__hierarchyHelper:function(e,t,i){for(var n=[],s=qx.dom.Hierarchy,r=0,o=e.length;r<o;r++)n.push.apply(n,s[t](e[r]));var a=qx.lang.Array.unique(n);i&&(a=qx.bom.Selector.matches(i,a));return a},isElement:function(e){return qx.dom.Node.isElement(qx.module.Traversing.__getElementFromArgument(e))},isNode:function(e){return qx.dom.Node.isNode(qx.module.Traversing.__getElementFromArgument(e))},isNodeName:function(e,t){return qx.dom.Node.isNodeName(qx.module.Traversing.__getElementFromArgument(e),t)},isDocument:function(e){e instanceof qxWeb&&(e=e[0]);return qx.dom.Node.isDocument(e)},isDocumentFragment:function(e){e instanceof qxWeb&&(e=e[0]);return qx.dom.Node.isDocumentFragment(e)},getWindow:function(e){return qx.dom.Node.getWindow(qx.module.Traversing.__getElementFromArgument(e))},isTextNode:function(e){return qx.dom.Node.isText(e)},isWindow:function(e){e instanceof qxWeb&&(e=e[0]);return qx.dom.Node.isWindow(e)},getDocument:function(e){return qx.dom.Node.getDocument(qx.module.Traversing.__getElementFromArgument(e))},getNodeName:function(e){return qx.dom.Node.getName(qx.module.Traversing.__getElementFromArgument(e))},getNodeText:function(e){return qx.dom.Node.getText(qx.module.Traversing.__getElementFromArgument(e))},isBlockNode:function(e){return qx.dom.Node.isBlockNode(qx.module.Traversing.__getElementFromArgument(e))},equalNodes:function(e,t){e=qx.module.Traversing.__getNodeFromArgument(e);t=qx.module.Traversing.__getNodeFromArgument(t);if(!e||!t)return!1;if(qx.core.Environment.get("html.node.isequalnode"))return e.isEqualNode(t);if(e===t)return!0;var i=e.attributes&&t.attributes;if(i&&e.attributes.length!==t.attributes.length)return!1;var n=e.childNodes&&t.childNodes;if(n&&e.childNodes.length!==t.childNodes.length)return!1;for(var s=qx.module.Traversing.EQUALITY_ATTRIBUTES,r=0,o=s.length;r<o;r++){var a=s[r];if(e[a]!==t[a])return!1}if(i){var l=qx.module.Traversing.__getAttributes(e),u=qx.module.Traversing.__getAttributes(t);for(var c in l)if(l[c]!==u[c])return!1}if(n)for(var d=0,h=e.childNodes.length;d<h;d++){var g=e.childNodes[d],m=t.childNodes[d];if(!qx.module.Traversing.equalNodes(g,m))return!1}return!0}},members:{__getAncestors:null,add:function(e){e instanceof qxWeb&&(e=e[0]);(qx.module.Traversing.isElement(e)||qx.module.Traversing.isDocument(e)||qx.module.Traversing.isWindow(e)||qx.module.Traversing.isDocumentFragment(e))&&this.push(e);return this},getChildren:function(e){for(var t=[],i=0;i<this.length;i++){var n=qx.dom.Hierarchy.getChildElements(this[i]);e&&(n=qx.bom.Selector.matches(e,n));t=t.concat(n)}return qxWeb.$init(t,qxWeb)},forEach:function(e,t){for(var i=0;i<this.length;i++)e.call(t,this[i],i,this);return this},getParents:function(e){for(var t=[],i=0;i<this.length;i++){var n=qx.dom.Element.getParentElement(this[i]);e&&(n=qx.bom.Selector.matches(e,[n]));t=t.concat(n)}return qxWeb.$init(t,qxWeb)},isChildOf:function(e){if(0==this.length)return!1;for(var t=null,i=qxWeb(e),n=!1,s=0,r=this.length;s<r&&!n;s++){t=qxWeb(this[s]).getAncestors();for(var o=0,a=i.length;o<a;o++)if(-1!=t.indexOf(i[o])){n=!0;break}}return n},getAncestors:function(e){return this.__getAncestors(null,e)},getAncestorsUntil:function(e,t){return this.__getAncestors(e,t)},getClosest:function(e){for(var t=[],i=function i(n){var s=qx.bom.Selector.matches(e,n);s.length?t.push(s[0]):(n=n.getParents())[0]&&n[0].parentNode&&i(n)},n=0;n<this.length;n++)i(qxWeb(this[n]));return qxWeb.$init(t,qxWeb)},find:function(e){for(var t=[],i=0;i<this.length;i++)t=t.concat(qx.bom.Selector.query(e,this[i]));return qxWeb.$init(t,qxWeb)},getContents:function(){var e=[];this._forEachElement(function(t){e=e.concat(qx.lang.Array.fromCollection(t.childNodes))});return qxWeb.$init(e,qxWeb)},is:function(e){return qx.lang.Type.isFunction(e)?this.filter(e).length>0:!!e&&qx.bom.Selector.matches(e,this).length>0},eq:function(e){return this.slice(e,+e+1)},getFirst:function(){return this.slice(0,1)},getLast:function(){return this.slice(this.length-1)},has:function(e){var t=[];this._forEachElement(function(i,n){qx.bom.Selector.matches(e,this.eq(n).getContents()).length>0&&t.push(i)});return qxWeb.$init(t,this.constructor)},contains:function(e){(e instanceof Array||e instanceof qxWeb)&&(e=e[0]);if(!e)return qxWeb();qx.dom.Node.isWindow(e)&&(e=e.document);return this.filter(function(t){qx.dom.Node.isWindow(t)&&(t=t.document);return qx.dom.Hierarchy.contains(t,e)})},getNext:function(e){var t=this.map(qx.dom.Hierarchy.getNextElementSibling,qx.dom.Hierarchy);e&&(t=qxWeb.$init(qx.bom.Selector.matches(e,t),qxWeb));return t},getNextAll:function(e){var t=qx.module.Traversing.__hierarchyHelper(this,"getNextSiblings",e);return qxWeb.$init(t,qxWeb)},getNextUntil:function(e){var t=[];this.forEach(function(i,n){for(var s=qx.dom.Hierarchy.getNextSiblings(i),r=0,o=s.length;r<o&&!(qx.bom.Selector.matches(e,[s[r]]).length>0);r++)t.push(s[r])});return qxWeb.$init(t,qxWeb)},getPrev:function(e){var t=this.map(qx.dom.Hierarchy.getPreviousElementSibling,qx.dom.Hierarchy);e&&(t=qxWeb.$init(qx.bom.Selector.matches(e,t),qxWeb));return t},getPrevAll:function(e){var t=qx.module.Traversing.__hierarchyHelper(this,"getPreviousSiblings",e);return qxWeb.$init(t,qxWeb)},getPrevUntil:function(e){var t=[];this.forEach(function(i,n){for(var s=qx.dom.Hierarchy.getPreviousSiblings(i),r=0,o=s.length;r<o&&!(qx.bom.Selector.matches(e,[s[r]]).length>0);r++)t.push(s[r])});return qxWeb.$init(t,qxWeb)},getSiblings:function(e){var t=qx.module.Traversing.__hierarchyHelper(this,"getSiblings",e);return qxWeb.$init(t,qxWeb)},not:function(e){if(qx.lang.Type.isFunction(e))return this.filter(function(t,i,n){return!e(t,i,n)});var t=qx.bom.Selector.matches(e,this);return this.filter(function(e){return-1===t.indexOf(e)})},getOffsetParent:function(){return this.map(qx.bom.element.Location.getOffsetParent)},isRendered:function(){return!!this[0]&&qx.dom.Hierarchy.isRendered(this[0])}},defer:function(e){qxWeb.$attachAll(this);qxWeb.$attach({__getAncestors:e.__getAncestors})}});qx.module.Traversing.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.bom.client.Browser":{},"qx.dev.unit.RequirementError":{},"qx.core.Init":{},"qx.ui.mobile.core.Root":{},"qx.ui.mobile.core.Widget":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.MobileTestCase",{extend:qx.dev.unit.TestCase,include:[qx.dev.unit.MRequirements],statics:{_root:null,_oldApplicationFunction:null},members:{setUp:function(){if("ie"==qx.core.Environment.get("browser.name")&&qx.core.Environment.get("browser.documentmode")<10)throw new qx.dev.unit.RequirementError("Mobile tests require Webkit, Gecko or IE10+");qx.test.mobile.MobileTestCase._oldApplicationFunction=qx.core.Init.getApplication;var e=this;qx.core.Init.getApplication=function(){return{getRoot:function(){return e.getRoot()},addListener:function(){return e.addListener.apply(e,arguments)},removeListener:function(){return e.removeListener.apply(e,arguments)},removeListenerById:function(){return e.removeListenerById.apply(e,arguments)},fireEvent:function(){return e.fireEvent.apply(e,arguments)},fireDataEvent:function(){return e.fireDataEvent.apply(e,arguments)},close:function(){},terminate:function(){}}}},tearDown:function(){this.getRoot().removeAll();qx.core.Init.getApplication=qx.test.mobile.MobileTestCase._oldApplicationFunction},getRoot:function(){var e=qx.test.mobile.MobileTestCase;e._root||(e._root=new qx.ui.mobile.core.Root);return e._root},assertQxMobileWidget:function(e){this.assertInstance(e,qx.ui.mobile.core.Widget)}}});qx.test.mobile.MobileTestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{qxWeb:{require:!0},"qx.module.Attribute":{require:!0},"qx.module.Traversing":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{construct:!0,require:!0},"qx.locale.MTranslation":{require:!0},"qx.locale.Manager":{construct:!0},"qx.ui.mobile.basic.Label":{},"qx.ui.mobile.list.List":{},"qx.data.Array":{},"qx.ui.mobile.form.Title":{},"qx.ui.mobile.form.Form":{},"qx.ui.mobile.form.TextField":{},"qx.ui.mobile.form.renderer.Single":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.LocaleSwitch",{extend:qx.test.mobile.MobileTestCase,include:qx.locale.MTranslation,construct:function(){qx.test.mobile.MobileTestCase.constructor.call(this);this.manager=qx.locale.Manager.getInstance()},members:{manager:null,__translationAdded:null,setUp:function(){qx.test.mobile.LocaleSwitch.prototype.setUp.base.call(this);if(!this.__translationAdded){this.manager.addTranslation("en_QX",{"test one":"test one","test two":"test two","test Hello %1!":"test Hello %1!","test Jonny":"test Jonny"});this.manager.addTranslation("de_QX",{"test one":"Eins","test two":"Zwei","test Hello %1!":"Servus %1!","test Jonny":"Jonathan"});this.__translationAdded=!0}this.manager.setLocale("en_QX")},tearDown:function(){qx.test.mobile.LocaleSwitch.prototype.tearDown.base.call(this);this.manager.resetLocale()},testLabel:function(){var e=new qx.ui.mobile.basic.Label(this.tr("test one"));this.addAutoDispose(e);this.getRoot().add(e);this.assertEquals("test one",e.getValue());this.manager.setLocale("de_QX");this.assertEquals("Eins",e.getValue());this.manager.setLocale("en_QX");e.setValue(this.tr("test Hello %1!",this.tr("test Jonny")));this.assertEquals("test Hello test Jonny!",e.getValue());this.manager.setLocale("de_QX");this.assertEquals("Servus Jonathan!",e.getValue());e.setValue(this.tr("test two"));this.assertEquals("Zwei",e.getValue());this.manager.setLocale("en_QX");this.assertEquals("test two",e.getValue());e.destroy()},testList:function(){var e=new qx.ui.mobile.list.List({configureItem:function(e,t,i){e.setTitle(t.title);e.setSubtitle(t.subTitle)}}),t=[{title:this.tr("test one"),subTitle:this.tr("test two")},{title:this.tr("test Hello %1!",this.tr("test Jonny")),subTitle:this.tr("test Jonny")}];e.setModel(new qx.data.Array(t));this.addAutoDispose(e);this.getRoot().add(e);this.__testListEn();this.manager.setLocale("de_QX");q(".list * .list-item-title").eq(0).getHtml();this.assertEquals("Eins".title0);var i=q(".list * .list-item-subtitle").eq(0).getHtml();this.assertEquals("Zwei",i);var n=q(".list * .list-item-title").eq(1).getHtml();this.assertEquals("Servus Jonathan!",n);var s=q(".list * .list-item-subtitle").eq(1).getHtml();this.assertEquals("Jonathan",s);this.manager.setLocale("en_QX");this.__testListEn()},__testListEn:function(){q(".list * .list-item-title").eq(0).getHtml();this.assertEquals("test one".title0);var e=q(".list * .list-item-subtitle").eq(0).getHtml();this.assertEquals("test two",e);var t=q(".list * .list-item-title").eq(1).getHtml();this.assertEquals("test Hello test Jonny!",t);var i=q(".list * .list-item-subtitle").eq(1).getHtml();this.assertEquals("test Jonny",i)},testFormRendererSingle:function(){var e=new qx.ui.mobile.form.Title(this.tr("test one"));this.addAutoDispose(e);var t=new qx.ui.mobile.form.Form;t.add(new qx.ui.mobile.form.TextField,this.tr("test two"));this.getRoot().add(e);var i=new qx.ui.mobile.form.renderer.Single(t);this.addAutoDispose(i);this.getRoot().add(i);this.assertEquals("test one",e.getValue());this.assertEquals("test two",i._labels[0].getValue());this.manager.setLocale("de_QX");this.assertEquals("Eins",e.getValue());this.assertEquals("Zwei",i._labels[0].getValue());this.manager.setLocale("en_QX");e.destroy();i.destroy()}}});qx.test.mobile.LocaleSwitch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.bom.client.Engine":{require:!0},"qx.lang.Array":{},"qx.type.BaseArray":{}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.bom.Html",{statics:{__fixNonDirectlyClosableHelper:function(e,t,i){return i.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?e:t+"></"+i+">"},__convertMap:{opt:[1,"<select multiple='multiple'>","</select>"],leg:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],def:qx.core.Environment.select("engine.name",{mshtml:[1,"div<div>","</div>"],default:null})},fixEmptyTags:function(e){return e.replace(/(<(\w+)[^>]*?)\/>/g,this.__fixNonDirectlyClosableHelper)},__convertHtmlString:function(e,t){var i,n=t.createElement("div"),s=(e=qx.bom.Html.fixEmptyTags(e)).replace(/^\s+/,"").substring(0,5).toLowerCase(),r=this.__convertMap;if(i=s.indexOf("<opt")?s.indexOf("<leg")?s.match(/^<(thead|tbody|tfoot|colg|cap)/)?r.table:s.indexOf("<tr")?s.indexOf("<td")&&s.indexOf("<th")?s.indexOf("<col")?r.def:r.col:r.td:r.tr:r.leg:r.opt){n.innerHTML=i[1]+e+i[2];for(var o=i[0];o--;)n=n.lastChild}else n.innerHTML=e;if("mshtml"==qx.core.Environment.get("engine.name")){for(var a=/<tbody/i.test(e),l=s.indexOf("<table")||a?"<table>"!=i[1]||a?[]:n.childNodes:n.firstChild&&n.firstChild.childNodes,u=l.length-1;u>=0;--u)"tbody"!==l[u].tagName.toLowerCase()||l[u].childNodes.length||l[u].parentNode.removeChild(l[u]);/^\s/.test(e)&&n.insertBefore(t.createTextNode(e.match(/^\s*/)[0]),n.firstChild)}return qx.lang.Array.fromCollection(n.childNodes)},clean:function(e,t,i){void 0===(t=t||document).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||document);if(!i&&1===e.length&&"string"==typeof e[0]){var n=/^<(\w+)\s*\/?>$/.exec(e[0]);if(n)return[t.createElement(n[1])]}for(var s,r=[],o=0,a=e.length;o<a;o++){"string"==typeof(s=e[o])&&(s=this.__convertHtmlString(s,t));s.nodeType?r.push(s):s instanceof qx.type.BaseArray||"undefined"!=typeof qxWeb&&s instanceof qxWeb?r.push.apply(r,Array.prototype.slice.call(s,0)):s.toElement?r.push(s.toElement()):r.push.apply(r,s)}return i?qx.bom.Html.extractScripts(r,i):r},extractScripts:function(e,t){for(var i,n=[],s=0;e[s];s++)if(1!=(i=e[s]).nodeType||"script"!==i.tagName.toLowerCase()||i.type&&"text/javascript"!==i.type.toLowerCase()){if(1===i.nodeType){var r=qx.lang.Array.fromCollection(i.getElementsByTagName("script"));e.splice.apply(e,[s+1,0].concat(r))}t&&t.appendChild(i)}else{i.parentNode&&i.parentNode.removeChild(e[s]);n.push(i)}return n}}});qx.bom.Html.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.Registration":{require:!0},"qx.event.handler.Application":{require:!0},"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Lifecycle",{statics:{onReady:function(e,t){var i=qx.event.Registration,n=i.getManager(window).getHandler(qx.event.handler.Application);n&&n.isApplicationReady()?e.call(t):i.addListener(window,"ready",e,t)},onShutdown:function(e,t){qx.event.Registration.addListener(window,"shutdown",e,t)}}});qx.bom.Lifecycle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.ui.mobile.core.EventHandler":{defer:"runtime"},"qx.bom.Lifecycle":{require:!0,defer:"runtime"},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.locale.MTranslation":{require:!0},"qx.core.Assert":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.event.handler.Appear":{},"qx.ui.mobile.core.DomUpdatedHandler":{},"qx.dom.Element":{},"qx.lang.Array":{},"qx.ui.mobile.layout.Abstract":{},"qx.bom.client.CssTransform":{},"qx.bom.element.Style":{},"qx.bom.element.Attribute":{},"qx.bom.element.Class":{},"qx.core.ObjectRegistry":{},"qx.event.Registration":{}},environment:{provided:[],required:{"css.transform.3d":{className:"qx.bom.client.CssTransform"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.core.Widget",{extend:qx.core.Object,include:[qx.locale.MTranslation],construct:function(){qx.core.Object.constructor.call(this);this._setContainerElement(this._createContainerElement());this.__children=[];this.setId(this.getId());this.initDefaultCssClass();this.initName();this.initAnonymous();this.initActivatable()},events:{mousemove:"qx.event.type.Mouse",mouseover:"qx.event.type.Mouse",mouseout:"qx.event.type.Mouse",mousedown:"qx.event.type.Mouse",mouseup:"qx.event.type.Mouse",click:"qx.event.type.Mouse",dblclick:"qx.event.type.Mouse",contextmenu:"qx.event.type.Mouse",beforeContextmenuOpen:"qx.event.type.Mouse",mousewheel:"qx.event.type.MouseWheel",touchstart:"qx.event.type.Touch",touchend:"qx.event.type.Touch",touchmove:"qx.event.type.Touch",touchcancel:"qx.event.type.Touch",tap:"qx.event.type.Tap",longtap:"qx.event.type.Tap",swipe:"qx.event.type.Touch",rotate:"qx.event.type.Rotate",pinch:"qx.event.type.Pinch",track:"qx.event.type.Track",keyup:"qx.event.type.KeySequence",keydown:"qx.event.type.KeySequence",keypress:"qx.event.type.KeySequence",keyinput:"qx.event.type.KeyInput",domupdated:"qx.event.type.Event",appear:"qx.event.type.Event",disappear:"qx.event.type.Event",focus:"qx.event.type.Focus",blur:"qx.event.type.Focus",focusin:"qx.event.type.Focus",focusout:"qx.event.type.Focus",activate:"qx.event.type.Focus",deactivate:"qx.event.type.Focus",roll:"qx.event.type.Roll"},properties:{defaultCssClass:{check:"String",init:null,nullable:!0,apply:"_applyDefaultCssClass"},enabled:{init:!0,check:"Boolean",nullable:!1,event:"changeEnabled",apply:"_applyEnabled"},name:{check:"String",init:null,nullable:!0,apply:"_applyAttribute"},anonymous:{check:"Boolean",init:null,nullable:!0,apply:"_applyStyle"},id:{check:"String",init:null,nullable:!0,apply:"_applyId",transform:"_transformId",event:"changeId"},visibility:{check:["visible","hidden","excluded"],init:"visible",apply:"_applyVisibility",event:"changeVisibility"},activatable:{check:"Boolean",init:!1,apply:"_applyAttribute"},rotation:{check:"Number",nullable:!0,init:null,apply:"_transform"},transformUnit:{check:["rem","px"],nullable:!1,init:"rem",apply:"_transform"},scaleX:{check:"Number",nullable:!0,init:null,apply:"_transform"},scaleY:{check:"Number",nullable:!0,init:null,apply:"_transform"},translateX:{check:"Number",nullable:!0,init:0,apply:"_transform"},translateY:{check:"Number",nullable:!0,init:0,apply:"_transform"},translateZ:{check:"Number",nullable:!0,init:0,apply:"_transform"}},statics:{ID_PREFIX:"qx_id_",__registry:{},__idCounter:0,__domUpdatedScheduleId:null,onShutdown:function(){window.clearTimeout(qx.ui.mobile.core.Widget.__domUpdatedScheduleId);delete qx.ui.mobile.core.Widget.__registry},getCurrentId:function(){return qx.ui.mobile.core.Widget.__idCounter},registerWidget:function(e){var t=e.getId(),i=qx.ui.mobile.core.Widget.__registry;qx.core.Assert.assertUndefined(i[t],"Widget with the id '"+t+"' is already registered");i[t]=e},unregisterWidget:function(e){delete qx.ui.mobile.core.Widget.__registry[e]},getWidgetById:function(e){return qx.ui.mobile.core.Widget.__registry[e]},scheduleDomUpdated:function(){null==qx.ui.mobile.core.Widget.__domUpdatedScheduleId&&(qx.ui.mobile.core.Widget.__domUpdatedScheduleId=window.setTimeout(qx.ui.mobile.core.Widget.domUpdated,0))},domUpdated:qx.event.GlobalError.observeMethod(function(){var e=qx.ui.mobile.core.Widget;window.clearTimeout(e.__domUpdatedScheduleId);e.__domUpdatedScheduleId=null;qx.event.handler.Appear.refresh();qx.ui.mobile.core.DomUpdatedHandler.refresh()}),addAttributeMapping:function(e,t,i){var n=qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING;qx.core.Assert.assertUndefined(n[e],"Attribute mapping for "+e+" already exists");qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING[e]={attribute:t,values:i}},addStyleMapping:function(e,t,i){var n=qx.ui.mobile.core.Widget.STYLE_MAPPING;qx.core.Assert.assertUndefined(n[e],"Style mapping for "+e+" already exists");qx.ui.mobile.core.Widget.STYLE_MAPPING[e]={style:t,values:i}},ATTRIBUTE_MAPPING:{selectable:{attribute:"data-selectable",values:{true:null,false:"false"}},activatable:{attribute:"data-activatable",values:{true:"true",false:null}},readOnly:{attribute:"readonly"}},STYLE_MAPPING:{anonymous:{style:"pointerEvents",values:{true:"none",false:null}}}},members:{__containerElement:null,__contentElement:null,__layoutParent:null,__children:null,__layoutManager:null,_getTagName:function(){return"div"},_createContainerElement:function(){return qx.dom.Element.create(this._getTagName())},_domUpdated:function(){qx.ui.mobile.core.Widget.scheduleDomUpdated()},_transformId:function(e){if(null==e){var t=qx.ui.mobile.core.Widget;e=t.ID_PREFIX+t.__idCounter++}return e},_applyId:function(e,t){null!=t&&qx.ui.mobile.core.Widget.unregisterWidget(t);this.getContainerElement().id=e;qx.ui.mobile.core.Widget.registerWidget(this)},_applyEnabled:function(e,t){if(e){this.removeCssClass("disabled");this._setStyle("anonymous",this.getAnonymous())}else{this.addCssClass("disabled");this._setStyle("anonymous",!0)}},_add:function(e,t){if(e.getLayoutParent()===this)throw new Error("The widget is already added this widget. Please remove it first.");this._initializeChildLayout(e,t);this.getContentElement().appendChild(e.getContainerElement());this.__children.push(e);this._domUpdated()},_addAt:function(e,t,i){e.getLayoutParent()==this&&qx.lang.Array.remove(this.__children,e);var n=this.__children[t];n?this._addBefore(e,n,i):this._add(e,i)},_addBefore:function(e,t,i){if(e.getLayoutParent()===this)throw new Error("The widget is already added this widget. Please remove it first.");this.assertInArray(t,this._getChildren(),"The 'before' widget is not a child of this widget!");if(e!=t){this._initializeChildLayout(e,i);this.getContentElement().insertBefore(e.getContainerElement(),t.getContainerElement());qx.lang.Array.insertBefore(this.__children,e,t);this._domUpdated()}},_addAfter:function(e,t,i){if(e.getLayoutParent()===this)throw new Error("The child is already added to this widget. Please remove it first.");this.assertInArray(t,this._getChildren(),"The 'after' widget is not a child of this widget!");if(e!=t){this._initializeChildLayout(e,i);var n=this._getChildren().length,s=this._indexOf(t);if(s==n-1)this.getContentElement().appendChild(e.getContainerElement());else{var r=this._getChildren()[s+1];this.getContentElement().insertBefore(e.getContainerElement(),r.getContainerElement())}qx.lang.Array.insertAfter(this.__children,e,t);this._domUpdated()}},_remove:function(e){e.setLayoutParent(null);this._domUpdated()},_removeAt:function(e){if(!this.__children)throw new Error("This widget has no children!");var t=this.__children[e];this._remove(t)},_removeAll:function(){for(var e=this.__children.concat(),t=0,i=e.length;t<i;t++)this._remove(e[t]);return e},_indexOf:function(e){var t=this.__children;return t?t.indexOf(e):-1},setLayoutParent:function(e){if(this.__layoutParent!==e){var t=this.__layoutParent;t&&!t.$$disposed&&this.__layoutParent.removeChild(this);this.__layoutParent=e||null}},removeChild:function(e){qx.lang.Array.remove(this.__children,e);this.getContentElement().removeChild(e.getContainerElement());var t=this._getLayout();t&&t.disconnectFromChildWidget(e)},getLayoutParent:function(){return this.__layoutParent},_getChildren:function(){return this.__children},_hasChildren:function(){return this.__children&&this.__children.length>0},_setLayout:function(e){e&&this.assertInstance(e,qx.ui.mobile.layout.Abstract);if(this.__layoutManager){this.__layoutManager.connectToWidget(null);for(var t=0;t<this._getChildren().length;t++){var i=this._getChildren()[t];this.__layoutManager.disconnectFromChildWidget(i)}}e&&e.connectToWidget(this);this.__layoutManager=e;this._domUpdated()},_initializeChildLayout:function(e,t){e.setLayoutParent(this);e.setLayoutProperties(t);var i=this._getLayout();i&&i.connectToChildWidget(e)},_getLayout:function(){return this.__layoutManager},setLayoutProperties:function(e){var t=this.getLayoutParent();t&&t.updateLayoutProperties(this,e)},updateLayoutProperties:function(e,t){var i=this._getLayout();i&&i.setLayoutProperties(e,t);this._domUpdated()},updateLayout:function(e,t,i){var n=this._getLayout();n&&n.updateLayout(e,t,i);this._domUpdated()},_setHtml:function(e){this.getContentElement().innerHTML=e||"";this._domUpdated()},_transform:function(){var e="";null!=this.getRotation()&&(e=e+"rotate("+this.getRotation()+"deg) ");null!=this.getScaleX()&&null!=this.getScaleY()&&(e=e+"scale("+this.getScaleX()+","+this.getScaleY()+") ");var t=1;"rem"==this.getTransformUnit()&&(t=16);if(null!=this.getTranslateX()&&null!=this.getTranslateY()){e=qx.core.Environment.get("css.transform.3d")&&null!=this.getTranslateZ()?e+"translate3d("+this.getTranslateX()/t+this.getTransformUnit()+","+this.getTranslateY()/t+this.getTransformUnit()+","+this.getTranslateZ()/t+this.getTransformUnit()+") ":e+"translate("+this.getTranslateX()/t+this.getTransformUnit()+","+this.getTranslateY()/t+this.getTransformUnit()+") "}qx.bom.element.Style.set(this.getContainerElement(),"transform",e)},_applyAttribute:function(e,t,i){this._setAttribute(i,e)},_setAttribute:function(e,t){var i=qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING[e];if(i){e=i.attribute||e;var n=i.values;t=n&&void 0!==n[t]?n[t]:t}var s=this.getContainerElement();null!=t?qx.bom.element.Attribute.set(s,e,t):qx.bom.element.Attribute.reset(s,e);this._domUpdated()},_getAttribute:function(e){var t=this.getContainerElement();return qx.bom.element.Attribute.get(t,e)},_applyStyle:function(e,t,i){this._setStyle(i,e)},_setStyle:function(e,t){var i=qx.ui.mobile.core.Widget.STYLE_MAPPING[e];if(i){e=i.style||e;t=i.values[t]}var n=this.getContainerElement();null!=t?qx.bom.element.Style.set(n,e,t):qx.bom.element.Style.reset(n,e);this._domUpdated()},_getStyle:function(e){var t=this.getContainerElement();return qx.bom.element.Style.get(t,e)},_applyDefaultCssClass:function(e,t){t&&this.removeCssClass(t);e&&this.addCssClass(e)},addCssClass:function(e){qx.bom.element.Class.add(this.getContainerElement(),e);this._domUpdated()},addCssClasses:function(e){if(e){qx.bom.element.Class.addClasses(this.getContainerElement(),e);this._domUpdated()}},removeCssClass:function(e){if(this.hasCssClass(e)){qx.bom.element.Class.remove(this.getContainerElement(),e);this._domUpdated()}},removeCssClasses:function(e){if(e){qx.bom.element.Class.removeClasses(this.getContainerElement(),e);this._domUpdated()}},toggleCssClass:function(e){this.hasCssClass(e)?this.removeCssClass(e):this.addCssClass(e)},hasCssClass:function(e){return qx.bom.element.Class.has(this.getContainerElement(),e)},_applyVisibility:function(e,t){if("excluded"==e)this.addCssClass("exclude");else if("visible"==e){this.removeCssClass("exclude");this._setStyle("visibility","visible")}else"hidden"==e&&this._setStyle("visibility","hidden");this._domUpdated()},__setVisibility:function(e,t){this.setVisibility(e);var i=this.getLayoutParent();i&&i.updateLayout(this,e,t)},show:function(e){this.__setVisibility("visible",e)},hide:function(e){this.__setVisibility("hidden",e)},exclude:function(e){this.__setVisibility("excluded",e)},isVisible:function(){return"visible"===this.getVisibility()},isHidden:function(){return"visible"!==this.getVisibility()},isExcluded:function(){return"excluded"===this.getVisibility()},isSeeable:function(){return this.getContainerElement().offsetWidth>0},_setContainerElement:function(e){this.__containerElement=e},getContainerElement:function(){return this.__containerElement},getContentElement:function(){this.__contentElement||(this.__contentElement=this._getContentElement());return this.__contentElement},_getContentElement:function(){return this.getContainerElement()},destroy:function(){if(!this.$$disposed){var e=this.__layoutParent;e&&e._remove(this);this.dispose()}}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){qx.event.Registration.removeAllListeners(this);this.getId()&&qx.ui.mobile.core.Widget.unregisterWidget(this.getId())}this.__layoutParent=this.__containerElement=this.__contentElement=null;this.__layoutManager&&this.__layoutManager.dispose();this.__layoutManager=null},defer:function(e){qx.bom.Lifecycle.onShutdown(e.onShutdown,e)}});qx.ui.mobile.core.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Touch":{require:!0,defer:"runtime"},"qx.event.handler.Pointer":{require:!0,defer:"runtime"},"qx.event.dispatch.DomBubbling":{require:!0,defer:"runtime"},"qx.ui.mobile.core.Widget":{require:!0,defer:"runtime"},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{construct:!0,defer:"runtime",require:!0},"qx.bom.Viewport":{},"qx.bom.element.Attribute":{},"qx.bom.element.Class":{},"qx.event.handler.GestureCore":{},"qx.event.type.Event":{},"qx.event.Pool":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.core.EventHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,construct:function(){qx.core.Object.constructor.call(this);this.__manager=qx.event.Registration.getManager(window)},statics:{PRIORITY:qx.event.Registration.PRIORITY_FIRST,SUPPORTED_TYPES:{mousemove:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,click:1,dblclick:1,contextmenu:1,mousewheel:1,keyup:1,keydown:1,keypress:1,keyinput:1,capture:1,losecapture:1,focusin:1,focusout:1,focus:1,blur:1,activate:1,deactivate:1,appear:1,disappear:1,dragstart:1,dragend:1,dragover:1,dragleave:1,drop:1,drag:1,dragchange:1,droprequest:1,roll:1,touchstart:1,touchend:1,touchmove:1,touchcancel:1,tap:1,longtap:1,swipe:1,dbltap:1,track:1,trackend:1,trackstart:1,pinch:1,rotate:1,pointermove:1,pointerover:1,pointerout:1,pointerdown:1,pointerup:1,pointercancel:1},IGNORE_CAN_HANDLE:!1,__activeTarget:null,__scrollLeft:null,__scrollTop:null,__startY:null,__timer:null,__onPointerDown:function(e){if(e.isPrimary()){var t=qx.ui.mobile.core.EventHandler;t.__scrollLeft=qx.bom.Viewport.getScrollLeft();t.__scrollTop=qx.bom.Viewport.getScrollTop();t.__startY=e.getScreenTop();t.__cancelActiveStateTimer();for(var i=e.getTarget();i&&i.parentNode&&1==i.parentNode.nodeType&&"true"!=qx.bom.element.Attribute.get(i,"data-activatable");)i=i.parentNode;t.__activeTarget=i;t.___timer=window.setTimeout(function(){t.___timer=null;var e=t.__activeTarget;e&&"false"!=qx.bom.element.Attribute.get(e,"data-selectable")&&qx.bom.element.Class.add(e,"active")},100)}},__onPointerUp:function(e){qx.ui.mobile.core.EventHandler.__removeActiveState()},__onPointerMove:function(e){if(e.isPrimary()){var t=qx.ui.mobile.core.EventHandler,i=e.getScreenTop()-t.__startY;t.__activeTarget&&Math.abs(i)>=qx.event.handler.GestureCore.TAP_MAX_DISTANCE[e.getPointerType()]&&t.__removeActiveState();!t.__activeTarget||t.__scrollLeft==qx.bom.Viewport.getScrollLeft()&&t.__scrollTop==qx.bom.Viewport.getScrollTop()||t.__removeActiveState()}},__cancelActiveStateTimer:function(){var e=qx.ui.mobile.core.EventHandler;if(e.___timer){window.clearTimeout(e.___timer);e.___timer=null}},__removeActiveState:function(){var e=qx.ui.mobile.core.EventHandler;e.__cancelActiveStateTimer();var t=e.__activeTarget;t&&qx.bom.element.Class.remove(t,"active");e.__activeTarget=null}},members:{__manager:null,canHandleEvent:function(e,t){return e instanceof qx.ui.mobile.core.Widget},registerEvent:function(e,t,i){var n=e.getContainerElement();qx.event.Registration.addListener(n,t,this._dispatchEvent,this,i)},unregisterEvent:function(e,t,i){var n=e.getContainerElement();qx.event.Registration.removeListener(n,t,this._dispatchEvent,this,i)},_dispatchEvent:function(e){var t=e.getTarget();if(t&&null!=t.id){var i=qx.ui.mobile.core.Widget.getWidgetById(t.id);if(e.getRelatedTarget){var n=e.getRelatedTarget();if(n&&n.id)var s=qx.ui.mobile.core.Widget.getWidgetById(n.id)}var r=e.getCurrentTarget(),o=qx.ui.mobile.core.Widget.getWidgetById(r.id);if(o){var a=e.getEventPhase()==qx.event.type.Event.CAPTURING_PHASE,l=e.getType(),u=this.__manager.getListeners(o,l,a);if(u&&0!==u.length){var c=qx.event.Pool.getInstance().getObject(e.constructor);e.clone(c);c.setTarget(i);c.setRelatedTarget(s||null);c.setCurrentTarget(o);var d=e.getOriginalTarget();if(d&&d.id){var h=qx.ui.mobile.core.Widget.getWidgetById(d.id);c.setOriginalTarget(h)}else c.setOriginalTarget(t);for(var g=0,m=u.length;g<m;g++){var f=u[g].context||o;u[g].handler.call(f,c)}c.getPropagationStopped()&&e.stopPropagation();c.getDefaultPrevented()&&e.preventDefault();qx.event.Pool.getInstance().poolObject(c)}}}}},destruct:function(){this.__manager=null},defer:function(e){qx.event.Registration.addHandler(e);qx.event.Registration.addListener(document,"pointerdown",e.__onPointerDown);qx.event.Registration.addListener(document,"pointerup",e.__onPointerUp);qx.event.Registration.addListener(document,"pointercancel",e.__onPointerUp);qx.event.Registration.addListener(document,"pointermove",e.__onPointerMove)}});qx.ui.mobile.core.EventHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.core.MChildrenHandling",{members:{getChildren:function(){return this._getChildren()},hasChildren:function(){return this._hasChildren()},indexOf:function(e){return this._indexOf(e)},add:function(e,t){this._add(e,t)},addAt:function(e,t,i){this._addAt(e,t,i)},addBefore:function(e,t,i){this._addBefore(e,t,i)},addAfter:function(e,t,i){this._addAfter(e,t,i)},remove:function(e){this._remove(e)},removeAt:function(e){this._removeAt(e)},removeAll:function(){this._removeAll()}},statics:{remap:function(e){e.getChildren=e._getChildren;e.hasChildren=e._hasChildren;e.indexOf=e._indexOf;e.add=e._add;e.addAt=e._addAt;e.addBefore=e._addBefore;e.addAfter=e._addAfter;e.remove=e._remove;e.removeAt=e._removeAt;e.removeAll=e._removeAll}}});qx.ui.mobile.core.MChildrenHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.core.MLayoutHandling",{members:{setLayout:function(e){this._setLayout(e)},getLayout:function(){return this._getLayout()}},statics:{remap:function(e){e.getLayout=e._getLayout;e.setLayout=e._setLayout}}});qx.ui.mobile.core.MLayoutHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.core.MChildrenHandling":{defer:"runtime",require:!0},"qx.ui.mobile.core.MLayoutHandling":{defer:"runtime",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.container.Composite",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.mobile.core.MChildrenHandling,qx.ui.mobile.core.MLayoutHandling],construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);e&&this.setLayout(e)},defer:function(e,t){qx.ui.mobile.core.MChildrenHandling.remap(t);qx.ui.mobile.core.MLayoutHandling.remap(t)}});qx.ui.mobile.container.Composite.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.layout.VBox":{construct:!0},"qx.bom.client.OperatingSystem":{construct:!0},"qx.event.Registration":{construct:!0},"qx.bom.Event":{construct:!0},"qx.bom.client.Css":{construct:!0},"qx.bom.element.Style":{construct:!0},"qx.bom.client.Device":{},"qx.bom.element.Dimension":{},"qx.bom.Viewport":{}},environment:{provided:[],required:{"os.name":{construct:!0,className:"qx.bom.client.OperatingSystem"},"os.version":{construct:!0,className:"qx.bom.client.OperatingSystem"},"css.flexboxSyntax":{construct:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.core.Root",{extend:qx.ui.mobile.container.Composite,construct:function(e,t){this.__root=e||document.body;qx.ui.mobile.container.Composite.constructor.call(this,t||new qx.ui.mobile.layout.VBox);this.addCssClass("mobile");this.addCssClass(qx.core.Environment.get("os.name"));this.addCssClass("v"+qx.core.Environment.get("os.version").charAt(0));qx.event.Registration.addListener(window,"orientationchange",this._onOrientationChange,this);if("ios"==qx.core.Environment.get("os.name")){this.addListener("touchmove",qx.bom.Event.preventDefault,this);window.innerHeight!=document.documentElement.clientHeight&&this.addCssClass("ios-viewport-fix")}var i=qx.core.Environment.get("css.flexboxSyntax");"flex"!==i&&"flexbox"!==i||this.addCssClass("qx-flex-ready");window.addEventListener("resize",function(){qx.bom.element.Style.set(this.getContentElement(),"height",window.innerHeight+"px")}.bind(this));this._onOrientationChange()},properties:{defaultCssClass:{refine:!0,init:"root"},showScrollbarY:{check:"Boolean",init:!0,apply:"_applyShowScrollbarY"}},events:{changeAppScale:"qx.event.type.Event"},members:{__root:null,_createContainerElement:function(){return this.__root},_applyShowScrollbarY:function(e,t){this._setStyle("overflow-y",e?"auto":"hidden")},getAppScale:function(){var e=parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2)),t=this.getFontScale();return isNaN(e*t)?null:parseFloat((e*t).toFixed(2))},getFontScale:function(){var e=null,t=1,i=document.documentElement.style.fontSize;-1!==i.indexOf("%")&&(t=parseInt(i,10)/100);if(-1!==(i=qx.bom.element.Style.get(document.documentElement,"fontSize")).indexOf("px")){(i=parseFloat(i))>15&&i<17&&(i=16);1!==t&&(i=Math.round(i/t));e=i/16;e*=t;e=parseFloat(e.toFixed(3))}return e},setFontScale:function(e){this.assertNumber(e,"The scale factor is asserted to be of type Number");var t=document.documentElement;t.style.fontSize=100*e+"%";setTimeout(function(){t.style.display="none";t.clientWidth=t.clientWidth;t.style.display=""},0);this.fireEvent("changeAppScale")},getWidth:function(){return qx.bom.element.Dimension.getWidth(this.__root)},getHeight:function(){return qx.bom.element.Dimension.getHeight(this.__root)},_onOrientationChange:function(e){if(e?e.isPortrait():qx.bom.Viewport.isPortrait()){this.addCssClass("portrait");this.removeCssClass("landscape")}else{this.addCssClass("landscape");this.removeCssClass("portrait")}qx.bom.element.Style.set(this.getContentElement(),"height",window.innerHeight+"px");window.setTimeout(function(){qx.bom.element.Style.set(this.getContentElement(),"height",window.innerHeight+"px")}.bind(this),1500)}},destruct:function(){this.__root=null;this.removeListener("touchmove",qx.bom.Event.preventDefault,this);qx.event.Registration.removeListener(window,"orientationchange",this._onOrientationChange,this)}});qx.ui.mobile.core.Root.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.locale.Manager":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.basic.Label",{extend:qx.ui.mobile.core.Widget,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);e&&this.setValue(e);this.initWrap();qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this)},properties:{defaultCssClass:{refine:!0,init:"label"},value:{nullable:!0,init:null,check:"String",apply:"_applyValue",event:"changeValue"},anonymous:{refine:!0,init:!0},wrap:{check:"Boolean",init:!0,apply:"_applyWrap"}},members:{_applyValue:function(e,t){this._setHtml(e)},_applyWrap:function(e,t){e?this.removeCssClass("no-wrap"):this.addCssClass("no-wrap")},_onChangeLocale:function(e){var t=this.getValue();t&&t.translate&&this.setValue(t.translate())}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this)}});qx.ui.mobile.basic.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.list.provider.Provider":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.bom.element.Class":{},"qx.bom.element.Attribute":{},"qx.dom.Element":{},"qx.bom.element.Dimension":{},"qx.bom.element.Style":{},"qx.bom.AnimationFrame":{},"qx.lang.Type":{},"qx.bom.Selector":{},"qx.lang.Object":{},"qx.util.Delegate":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.List",{extend:qx.ui.mobile.core.Widget,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);this.__provider=new qx.ui.mobile.list.provider.Provider(this);this.addListener("tap",this._onTap,this);this.addListener("trackstart",this._onTrackStart,this);this.addListener("track",this._onTrack,this);this.addListener("trackend",this._onTrackEnd,this);e?this.setDelegate(e):this.setDelegate(this);qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this)},events:{changeSelection:"qx.event.type.Data",changeGroupSelection:"qx.event.type.Data",removeItem:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"list"},delegate:{apply:"_applyDelegate",event:"changeDelegate",init:null,nullable:!0},model:{check:"qx.data.Array",apply:"_applyModel",event:"changeModel",nullable:!0,init:null},itemCount:{check:"Integer",init:0},itemHeight:{check:"Number",init:null,nullable:!0}},members:{__provider:null,__minDeleteDistance:null,__isScrollingBlocked:null,__trackElement:null,_getTagName:function(){return"ul"},configureItem:function(e,t,i){void 0!==t.image&&e.setImage(t.image);void 0!==t.subtitle&&e.setSubtitle(t.subtitle);void 0!==t.title&&e.setTitle(t.title);void 0!==t.enabled&&e.setEnabled(t.enabled);void 0!==t.removable&&e.setRemovable(t.removable);void 0!==t.selectable&&e.setSelectable(t.selectable);void 0!==t.activatable&&e.setActivatable(t.activatable);void 0!==t.arrow&&e.setShowArrow(t.arrow);void 0!==t.selected&&e.setSelected(t.selected)},_onTap:function(e){var t=this._getElement(e);if(t){var i=-1;if(qx.bom.element.Class.has(t,"list-item")){"false"!=qx.bom.element.Attribute.get(t,"data-selectable")&&qx.dom.Element.hasChild(this.getContainerElement(),t)&&(i=parseInt(t.getAttribute("data-row"),10));-1!=i&&this.fireDataEvent("changeSelection",i)}else{var n=parseInt(t.getAttribute("data-group"),10);"false"!=qx.bom.element.Attribute.get(t,"data-selectable")&&this.fireDataEvent("changeGroupSelection",n)}}},_onTrackStart:function(e){this.__isScrollingBlocked=null;this.__trackElement=null;var t=this._getElement(e);if(t&&qx.bom.element.Class.has(t,"list-item")&&qx.bom.element.Class.has(t,"removable")){this.__trackElement=t;this.__minDeleteDistance=qx.bom.element.Dimension.getWidth(t)/2;qx.bom.element.Class.add(t,"track")}},_onTrack:function(e){if(this.__trackElement){var t=this.__trackElement,i=e.getDelta(),n=Math.round(.1*i.x)/.1;null===this.__isScrollingBlocked&&(this.__isScrollingBlocked="x"==i.axis);if(this.__isScrollingBlocked){var s=1-Math.abs(n)/this.__minDeleteDistance;s=Math.round(100*s)/100;qx.bom.element.Style.set(t,"transform","translate3d("+n+"px,0,0)");qx.bom.element.Style.set(t,"opacity",s);e.preventDefault()}}},_onTrackEnd:function(e){if(this.__trackElement){var t=this.__trackElement;if(Math.abs(e.getDelta().x)>this.__minDeleteDistance){var i=parseInt(t.getAttribute("data-row"),10);this.fireDataEvent("removeItem",i)}else qx.bom.AnimationFrame.request(function(){qx.bom.element.Style.set(t,"transform","translate3d(0,0,0)");qx.bom.element.Style.set(t,"opacity","1");qx.bom.element.Class.remove(t,"track")}.bind(this))}},_getElement:function(e){var t=e.getOriginalTarget();if("UL"==t.tagName)return null;for(;"LI"!=t.tagName;)t=t.parentNode;return t},_applyModel:function(e,t){null!=t&&t.removeListener("changeBubble",this.__onModelChangeBubble,this);null!=e&&e.addListener("changeBubble",this.__onModelChangeBubble,this);null!=t&&t.removeListener("change",this.__onModelChange,this);null!=e&&e.addListener("change",this.__onModelChange,this);null!=t&&t.removeListener("changeLength",this.__onModelChangeLength,this);null!=e&&e.addListener("changeLength",this.__onModelChangeLength,this);this.__render()},_applyDelegate:function(e,t){this.__provider.setDelegate(e)},__onModelChangeLength:function(e){this.__render()},_onChangeLocale:function(e){this.__render()},__onModelChange:function(e){e&&e.getData()&&"order"==e.getData().type&&this.__render()},__onModelChangeBubble:function(e){if(e){var t=e.getData(),i=qx.lang.Type.isArray(t.old)&&qx.lang.Type.isArray(t.value);if(!i||i&&t.old.length==t.value.length)for(var n=this._extractRowsToRender(t.name),s=0;s<n.length;s++)this.__renderRow(n[s])}},_extractRowsToRender:function(e){var t=[];if(!e)return t;if(-1!=e.indexOf(".")){var i=e.split(".")[0];if(-1!=(i=(i=i.replace("[","")).replace("]","")).indexOf("-"))for(var n=i.split("-"),s=parseInt(n[0],10),r=parseInt(n[1],10),o=s;o<=r;o++)t.push(o);else t.push(parseInt(i.match(/\d+/)[0],10))}else{var a=e.match(/\d+/);1==a.length&&t.push(parseInt(a[0],10))}return t},__renderRow:function(e){var t=qx.bom.Selector.query(".list-item",this.getContentElement())[e],i=this.__provider.getItemElement(this.getModel().getItem(e),e);this.getContentElement().replaceChild(i,t);this._domUpdated()},getListItemHeight:function(){var e=0;if(null!=this.getModel()&&this.getModel().length>0){var t=qx.bom.element.Style.get(this.getContentElement(),"height");e=parseInt(t)/this.getModel().length}return e},__render:function(){this._setHtml("");var e=this.getModel();this.setItemCount(e?e.getLength():0);for(var t=0,i=0;i<this.getItemCount();i++){if(this.__hasGroup()){var n=this._renderGroup(i,t);if(n){t++;this.getContentElement().appendChild(n)}}var s=e.getItem(i),r=this.__provider.getItemElement(s,i),o=null;null!==this.getItemHeight()&&(o=this.getItemHeight()+"px");qx.bom.element.Style.set(r,"minHeight",o);qx.bom.element.Style.set(r,"maxHeight",o);this.getContentElement().appendChild(r)}this._domUpdated()},render:function(){this.__render()},_renderGroup:function(e,t){var i=this.__getGroup(e);if(0===e)return this.__provider.getGroupElement(i,t);var n=this.__getGroup(e-1);return qx.lang.Object.equals(i,n)?void 0:this.__provider.getGroupElement(i,t)},__hasGroup:function(){return null!==qx.util.Delegate.getMethod(this.getDelegate(),"group")},__getGroup:function(e){var t=this.getModel().getItem(e);return qx.util.Delegate.getMethod(this.getDelegate(),"group")(t,e)}},destruct:function(){this.__trackElement=null;this._disposeObjects("__provider");qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this)}});qx.ui.mobile.list.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.basic.Label":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Title",{extend:qx.ui.mobile.basic.Label,properties:{wrap:{refine:!0,init:!1},defaultCssClass:{refine:!0,init:"form-title"}},members:{_getTagName:function(){return"h2"}}});qx.ui.mobile.form.Title.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Form":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Form",{extend:qx.ui.form.Form,construct:function(){qx.ui.form.Form.constructor.call(this);this.__invalidItems=[]},members:{__renderer:null,__invalidItems:null,setRenderer:function(e){this.__renderer=e},validate:function(){var e=qx.ui.mobile.form.Form.prototype.validate.base.call(this);this.__invalidItems=[];null!=this.__renderer&&this.__renderer.resetForm();for(var t=this.getGroups(),i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.items.length;s++){var r=n.items[s];if(!r.isValid()){this.__invalidItems.push(r);null!=this.__renderer?this.__renderer.showErrorForItem(r):alert("error "+r.getInvalidMessage())}}null!=this.__renderer&&this.__renderer._domUpdated();return e},showRow:function(e,t){var i=this._getItemByIndex(e,t);i&&this.__renderer.showItem(i)},hideRow:function(e,t){var i=this._getItemByIndex(e,t);i&&this.__renderer.hideItem(i)},_getItemByIndex:function(e,t){var i=this.getGroups()[e];if(i){return i.items[t]}return null},reset:function(){qx.ui.mobile.form.Form.prototype.reset.base.call(this);this.__renderer.resetForm()},getInvalidItems:function(){return this.__invalidItems}}});qx.ui.mobile.form.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Scroll":{},"qx.ui.mobile.core.Root":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.container.MScrollHandling",{members:{_getParentScrollContainer:function(){for(var e=this;!(e instanceof qx.ui.mobile.container.Scroll);){if(!e.getLayoutParent)return null;var t=e.getLayoutParent();if(null===t||t instanceof qx.ui.mobile.core.Root)return null;e=t}return e}}});qx.ui.mobile.container.MScrollHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.form.MState",{members:{__states:null,addState:function(e){null===this.__states&&(this.__states={});this.__states[e]=!0;this.addCssClass(e)},hasState:function(e){return null!==this.__states&&this.__states[e]},removeState:function(e){if(this.hasState(e)){delete this.__states[e];this.removeCssClass(e)}},replaceState:function(e,t){if(this.hasState(e)){delete this.__states[e];this.__states[t]=!0;this.removeCssClass(e);this.addCssClass(t)}else this.addState(t)}}});qx.ui.mobile.form.MState.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.mobile.container.MScrollHandling":{require:!0},"qx.ui.mobile.form.MState":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.mobile.form.TextField":{},"qx.ui.mobile.form.NumberField":{},"qx.bom.AnimationFrame":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Input",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.form.MForm,qx.ui.form.MModelProperty,qx.ui.mobile.container.MScrollHandling,qx.ui.mobile.form.MState],implement:[qx.ui.form.IForm,qx.ui.form.IModel],type:"abstract",construct:function(){qx.ui.mobile.core.Widget.constructor.call(this);this._setAttribute("type",this._getType());this.addCssClass("gap");this.addListener("focus",this._onSelected,this)},members:{_getTagName:function(){return"input"},_getType:function(){throw new Error("Abstract method call")},_onSelected:function(e){if(e.getTarget()instanceof qx.ui.mobile.form.TextField||e.getTarget()instanceof qx.ui.mobile.form.NumberField){var t=this._getParentScrollContainer();null!==t&&setTimeout(function(){t.scrollToWidget(this.getLayoutParent(),0);this._setStyle("position","relative");qx.bom.AnimationFrame.request(function(){this._setStyle("position",null)},this)}.bind(this),300)}}},destruct:function(){this.removeListener("focus",this._onSelected,this)}});qx.ui.mobile.form.Input.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Input":{require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.event.Registration":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.form.MValue",{construct:function(e){e&&this.setValue(e);if("input"==this._getTagName()||"textarea"==this._getTagName()){qx.event.Registration.addListener(this.getContentElement(),"change",this._onChangeContent,this);qx.event.Registration.addListener(this.getContentElement(),"input",this._onInput,this)}this.addListener("focus",this._onFocus,this);this.addListener("blur",this._onBlur,this)},events:{input:"qx.event.type.Data",changeValue:"qx.event.type.Data"},properties:{liveUpdate:{check:"Boolean",init:!1}},members:{__oldValue:null,__inputTimeoutHandle:null,__hasFocus:null,_convertValue:function(e){return"boolean"==typeof e?e:"number"==typeof e?e:e||""},_onFocus:function(){this.__hasFocus=!0},_onBlur:function(){this.__hasFocus=!1},hasFocus:function(){return this.__hasFocus},setValue:function(e){e=this._convertValue(e);if(this.__oldValue!=e){this._setValue?this._setValue(e):this._setAttribute("value",e);this.__fireChangeValue(e)}},getValue:function(){return this._convertValue(this._getValue?this._getValue():this._getAttribute("value"))},resetValue:function(){this.setValue(null)},_onChangeContent:function(e){this.__fireChangeValue(this._convertValue(e.getData()))},_onInput:function(e){var t=e.getData();this.fireDataEvent("input",t,!0);this.getLiveUpdate()&&(this._setValue?this._setValue(t):this.__fireChangeValue(this._convertValue(t)))},_getCaretPosition:function(){var e=this.getContentElement().value;return e&&"number"!==this._getAttribute("type")?e.slice(0,this.getContentElement().selectionStart).length:e.length},_setCaretPosition:function(e){null!=e&&this.hasFocus()&&"number"!==this._getAttribute("type")&&this.getContentElement().setSelectionRange&&this.getContentElement().setSelectionRange(e,e)},__fireChangeValue:function(e){if(this.__oldValue!=e){this.__oldValue=e;this.fireDataEvent("changeValue",e)}}},destruct:function(){this.removeListener("focus",this._onFocus,this);this.removeListener("blur",this._onBlur,this)}});qx.ui.mobile.form.MValue.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Input":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{},"qx.bom.Element":{}},environment:{provided:[],required:{"os.name":{className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.form.MText",{construct:function(e){this.initMaxLength();this.initPlaceholder();this.initReadOnly()},properties:{maxLength:{check:"PositiveInteger",nullable:!0,init:null,apply:"_applyMaxLength"},placeholder:{check:"String",nullable:!0,init:null,apply:"_applyPlaceholder"},readOnly:{check:"Boolean",nullable:!0,init:null,apply:"_applyAttribute"}},members:{_applyMaxLength:function(e,t){this._setAttribute("maxlength",e)},_applyPlaceholder:function(e,t){"android"==qx.core.Environment.get("os.name")&&null!==e&&(e=" "+e);this._setAttribute("placeholder",e)},focus:function(){if(!this.isReadOnly()&&0!=this.getEnabled()){var e=this.getContainerElement();e&&qx.bom.Element.focus(e)}},blur:function(){var e=this.getContainerElement();e&&qx.bom.Element.blur(e)}}});qx.ui.mobile.form.MText.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Input":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.mobile.form.MText":{require:!0},"qx.ui.form.IStringForm":{require:!0},"qx.bom.client.OperatingSystem":{construct:!0}},environment:{provided:[],required:{"os.name":{construct:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.TextField",{extend:qx.ui.mobile.form.Input,include:[qx.ui.mobile.form.MValue,qx.ui.mobile.form.MText],implement:[qx.ui.form.IStringForm],construct:function(e){qx.ui.mobile.form.Input.constructor.call(this);this.addListener("keypress",this._onKeyPress,this);"ios"==qx.core.Environment.get("os.name")&&this.addListener("disappear",this.blur,this)},properties:{defaultCssClass:{refine:!0,init:"text-field"}},members:{_getType:function(){return"text"},_onKeyPress:function(e){13==e.getKeyCode()&&this.blur()}},destruct:function(){this.removeListener("keypress",this._onKeyPress,this);"ios"==qx.core.Environment.get("os.name")&&this.removeListener("disappear",this.blur,this)}});qx.ui.mobile.form.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.renderer.IFormRenderer",{members:{addItems:function(e,t,i,n,s){},addButton:function(e,t){}}});qx.ui.form.renderer.IFormRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.form.renderer.IFormRenderer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.renderer.AbstractRenderer",{type:"abstract",extend:qx.ui.mobile.core.Widget,implement:qx.ui.form.renderer.IFormRenderer,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);this._form=e;this._render();e.addListener("change",this._onFormChange,this)},properties:{defaultCssClass:{refine:!0,init:"form"}},members:{_form:null,_onFormChange:function(){this._removeAll();this.resetForm();this._render()},_render:function(){for(var e=this._form.getGroups(),t=0;t<e.length;t++){var i=e[t];this.addItems(i.items,i.labels,i.title,i.options,i.headerOptions)}var n=this._form.getButtons(),s=this._form.getButtonOptions();for(t=0;t<n.length;t++)this.addButton(n[t],s[t]);this._form.setRenderer(this)},addItems:function(e,t,i){throw new Error("Abstract method call")},addButton:function(e){throw new Error("Abstract method call")},showErrorForItem:function(e){throw new Error("Abstract method call")},resetForm:function(){throw new Error("Abstract method call")}}});qx.ui.mobile.form.renderer.AbstractRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.mobile.form.MState":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.mobile.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.ToggleButton",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.mobile.form.MValue,qx.ui.form.MForm,qx.ui.form.MModelProperty,qx.ui.mobile.form.MState],implement:[qx.ui.form.IField,qx.ui.form.IForm,qx.ui.form.IModel],construct:function(e,t,i){qx.ui.mobile.core.Widget.constructor.call(this);if(t&&i){this.__labelUnchecked=i;this.__labelChecked=t}this._setAttribute("data-label-checked",this.__labelChecked);this._setAttribute("data-label-unchecked",this.__labelUnchecked);this.__switch=this._createSwitch();this._add(this.__switch);e&&this.setValue(e);this.addListener("tap",this._onTap,this);this.addListener("swipe",this._onSwipe,this);this.addCssClass("gap")},properties:{defaultCssClass:{refine:!0,init:"togglebutton"}},members:{__switch:null,__value:!1,__labelUnchecked:"OFF",__labelChecked:"ON",__lastToggleTimestamp:0,_getChild:function(){return this.__switch},_createSwitch:function(){var e=new qx.ui.mobile.container.Composite;e.addCssClass("togglebutton-switch");return e},_setValue:function(e){if("boolean"!=typeof e)throw new Error("value for "+this+" should be boolean");e?this.addCssClass("checked"):this.removeCssClass("checked");this.__value=e},_getValue:function(){return this.__value},toggle:function(){this.setValue(!this.getValue())},_onTap:function(e){this._checkLastPointerTime()&&this.toggle()},_onSwipe:function(e){if(this._checkLastPointerTime()){"left"==e.getDirection()?1==this.__value&&this.toggle():0==this.__value&&this.toggle()}},_checkLastPointerTime:function(){var e=(new Date).getTime()-this.__lastToggleTimestamp;this.__lastToggleTimestamp=(new Date).getTime();return e>500}},destruct:function(){this.removeListener("tap",this._onTap,this);this.removeListener("swipe",this._onSwipe,this);this._disposeObjects("__switch","__labelUnchecked","__labelChecked")}});qx.ui.mobile.form.ToggleButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Input":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.form.IField":{require:!0},"qx.event.Registration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.RadioButton",{extend:qx.ui.mobile.form.Input,include:[qx.ui.mobile.form.MValue],implement:[qx.ui.form.IField],construct:function(e){qx.ui.mobile.form.Input.constructor.call(this);this.addListener("tap",this._onTap,this)},events:{changeValue:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"radio"},group:{check:"qx.ui.mobile.form.RadioGroup",nullable:!0,apply:"_applyGroup"}},members:{_state:null,_getTagName:function(){return"span"},_getType:function(){return null},_onTap:function(){this.fireDataEvent("changeValue",{});this.setValue(!0)},_applyGroup:function(e,t){t&&t.remove(this);e&&e.add(this)},_setValue:function(e){1==e?this.addCssClass("checked"):this.removeCssClass("checked");this._state=e},_getValue:function(){return this._state}},destruct:function(){qx.event.Registration.removeListener(this,"tap",this._onTap,this)}});qx.ui.mobile.form.RadioButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.TextField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.PasswordField",{extend:qx.ui.mobile.form.TextField,properties:{defaultCssClass:{refine:!0,init:"password-field"}},members:{_getType:function(){return"password"}}});qx.ui.mobile.form.PasswordField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Input":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.mobile.form.MText":{require:!0},"qx.ui.form.IStringForm":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.NumberField",{extend:qx.ui.mobile.form.Input,include:[qx.ui.mobile.form.MValue,qx.ui.mobile.form.MText],implement:[qx.ui.form.IStringForm],construct:function(e){qx.ui.mobile.form.Input.constructor.call(this)},properties:{defaultCssClass:{refine:!0,init:"number-field"},minimum:{check:"Number",init:"",apply:"_onChangeMinimum"},maximum:{check:"Number",init:"",apply:"_onChangeMaximum"},step:{check:"Number",init:"",apply:"_onChangeStep"}},members:{_getType:function(){return"number"},_onChangeStep:function(e,t){this._setAttribute("step",e)},_onChangeMaximum:function(e,t){this._setAttribute("max",e)},_onChangeMinimum:function(e,t){this._setAttribute("min",e)}}});qx.ui.mobile.form.NumberField.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Input":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.CheckBox",{extend:qx.ui.mobile.form.Input,include:[qx.ui.mobile.form.MValue],implement:[qx.ui.form.IField],construct:function(e){qx.ui.mobile.form.Input.constructor.call(this);void 0!=_typeof(e)&&(this._state=e);this.addListener("tap",this._onTap,this)},properties:{defaultCssClass:{refine:!0,init:"checkbox"}},members:{_state:null,_getTagName:function(){return"span"},_getType:function(){return null},_onTap:function(){this.setValue(!this.getValue())},_setValue:function(e){1==e?this.addCssClass("checked"):this.removeCssClass("checked");this._setAttribute("checked",e);this._state=e},_getValue:function(){return this._state}},destruct:function(){this.removeListener("tap",this._onTap,this)}});qx.ui.mobile.form.CheckBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.mobile.form.MText":{require:!0},"qx.ui.mobile.form.MState":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.mobile.dialog.Menu":{},"qx.lang.Type":{},"qx.core.ValidationError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.SelectBox",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.mobile.form.MValue,qx.ui.form.MForm,qx.ui.mobile.form.MText,qx.ui.mobile.form.MState],implement:[qx.ui.form.IForm,qx.ui.form.IField,qx.ui.form.IModel],construct:function(){qx.ui.mobile.core.Widget.constructor.call(this);this._setAttribute("type","text");this.setReadOnly(!0);this.addListener("focus",this.blur);this.addListener("tap",this._onTap,this);this.__selectionDialog=this._createSelectionDialog();this.addCssClass("gap");this.__selectionDialog.addListener("changeSelection",this._onChangeSelection,this)},events:{changeSelection:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"selectbox"},activatable:{refine:!0,init:!0},nullable:{init:!0,check:"Boolean",apply:"_applyNullable"},model:{check:"qx.data.Array",apply:"_applyModel",event:"changeModel",nullable:!0,init:null},selection:{init:null,validate:"_validateSelection",apply:"_applySelection",nullable:!0}},members:{__selectionDialog:null,_getTagName:function(){return"input"},_createSelectionDialog:function(){var e=new qx.ui.mobile.dialog.Menu;e.setSelectedItemClass("selectbox-selected");e.setUnselectedItemClass("selectbox-unselected");e.setHideOnBlockerTap(!0);return e},getSelectionDialog:function(){return this.__selectionDialog},setDialogTitle:function(e){this.__selectionDialog.setTitle(e)},setClearButtonLabel:function(e){this.__selectionDialog.setClearButtonLabel(e)},_setValue:function(e){null!=this.getModel()&&(""==e?this.isNullable()?this.setSelection(null):this.setSelection(0):null!=e?this.setSelection(this.getModel().indexOf(e)):this.setSelection(null))},_getValue:function(){return this._getAttribute("value")},_render:function(){if(null!=this.getModel()&&this.getModel().length>0){var e=this.getModel().getItem(this.getSelection());this._setAttribute("value",e)}this._domUpdated()},_applyModel:function(e,t){e.addListener("change",this._render,this);null!=t&&t.removeListener("change",this._render,this);this._render()},__showSelectionDialog:function(){if(1==this.isEnabled()){this.__selectionDialog.setSelectedIndex(this.getSelection());this.__selectionDialog.setItems(this.getModel());this.__selectionDialog.show()}},_onChangeSelection:function(e){this.setSelection(e.getData().index);this._render()},_onTap:function(e){this.__showSelectionDialog();e.getOriginalTarget().focus()},_validateSelection:function(e){if(null!=e&&0==qx.lang.Type.isNumber(e))throw new qx.core.ValidationError("Validation Error: Input value is not a number");if(null===this.getModel())throw new qx.core.ValidationError("Validation Error: Please apply model before selection");if(!this.isNullable()&&null===e)throw new qx.core.ValidationError("Validation Error: SelectBox is not nullable");if(null!=e&&(e<0||e>=this.getModel().getLength()))throw new qx.core.ValidationError("Validation Error: Input value is out of model range")},_applySelection:function(e,t){var i=this.getModel().getItem(e);this.fireDataEvent("changeSelection",{index:e,item:i});this._render()},_applyNullable:function(e,t){this.__selectionDialog.setNullable(e)}},destruct:function(){this.__selectionDialog.removeListener("changeSelection",this._onChangeSelection,this);this._disposeObjects("__selectionDialog","__selectionDialogTitle");this.removeListener("focus",this.blur);this.removeListener("tap",this._onTap,this)}});qx.ui.mobile.form.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.renderer.AbstractRenderer":{construct:!0,require:!0},"qx.ui.mobile.form.ToggleButton":{require:!0},"qx.ui.mobile.form.RadioButton":{require:!0},"qx.ui.mobile.form.TextField":{require:!0},"qx.ui.mobile.form.PasswordField":{require:!0},"qx.ui.mobile.form.NumberField":{require:!0},"qx.ui.mobile.form.CheckBox":{require:!0},"qx.ui.mobile.form.SelectBox":{require:!0},"qx.ui.mobile.form.TextArea":{},"qx.bom.client.Scroll":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.layout.HBox":{},"qx.ui.mobile.container.Scroll":{},"qx.ui.mobile.form.Row":{},"qx.ui.mobile.form.Label":{},"qx.ui.mobile.basic.Label":{},"qx.dom.Element":{},"qx.bom.element.Class":{}},environment:{provided:[],required:{"qx.mobile.nativescroll":{className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.renderer.Single",{extend:qx.ui.mobile.form.renderer.AbstractRenderer,construct:function(e){this.__errorMessageContainers=[];this._rows=[];this._labels=[];qx.ui.mobile.form.renderer.AbstractRenderer.constructor.call(this,e);this.addCssClass("single")},statics:{ONE_LINE_WIDGETS:[qx.ui.mobile.form.ToggleButton,qx.ui.mobile.form.RadioButton,qx.ui.mobile.form.TextField,qx.ui.mobile.form.PasswordField,qx.ui.mobile.form.NumberField,qx.ui.mobile.form.CheckBox,qx.ui.mobile.form.SelectBox]},members:{_rows:null,_labels:null,_onFormChange:function(){this._disposeArray("_labels");this._disposeArray("_rows");this._rows=[];this._labels=[];qx.ui.mobile.form.renderer.Single.prototype._onFormChange.base.call(this)},__errorMessageContainers:null,_getTagName:function(){return"ul"},_isOneLineWidget:function(e){for(var t=qx.ui.mobile.form.renderer.Single.ONE_LINE_WIDGETS,i=0;i<t.length;i++){if(e instanceof t[i])return!0}return!1},addItems:function(e,t,i){null!==i&&this._addGroupHeader(i);this._addGroupHeaderRow();for(var n=0,s=e.length;n<s;n++){var r=e[n],o=t[n],a=n==e.length-1;r instanceof qx.ui.mobile.form.TextArea?0==qx.core.Environment.get("qx.mobile.nativescroll")?this._addToScrollContainer(r,o):this._addRow(r,o,new qx.ui.mobile.layout.VBox):this._isOneLineWidget(r)?this._addRow(r,o,new qx.ui.mobile.layout.HBox):this._addRow(r,o,new qx.ui.mobile.layout.VBox);r.isValid()||this.showErrorForItem(r);a||this._addSeparationRow()}this._addGroupFooterRow()},_addToScrollContainer:function(e,t){var i=new qx.ui.mobile.container.Scroll;i.addCssClass("form-row-scroll");i.add(e,{flex:1});this._addRow(i,t,new qx.ui.mobile.layout.VBox)},_addRow:function(e,t,i){var n=new qx.ui.mobile.form.Row(i);n.addCssClass("form-row-content");if(null!==t){var s=new qx.ui.mobile.form.Label(t);s.setLabelFor(e.getId());n.add(s,{flex:1});this._labels.push(s)}n.add(e);this._add(n);this._rows.push(n)},_addSeparationRow:function(){var e=new qx.ui.mobile.form.Row;e.addCssClass("form-separation-row");this._add(e);this._rows.push(e)},_addGroupHeaderRow:function(){var e=new qx.ui.mobile.form.Row;e.addCssClass("form-row-group-first");this._add(e);this._rows.push(e)},_addGroupFooterRow:function(){var e=new qx.ui.mobile.form.Row;e.addCssClass("form-row-group-last");this._add(e);this._rows.push(e)},_addGroupHeader:function(e){var t=new qx.ui.mobile.form.Row;t.addCssClass("form-row-group-title");var i=new qx.ui.mobile.basic.Label(e);t.add(i);this._add(t);this._labels.push(i);this._rows.push(t)},addButton:function(e){var t=new qx.ui.mobile.form.Row(new qx.ui.mobile.layout.HBox);t.add(e,{flex:1});this._add(t);this._rows.push(t)},showErrorForItem:function(e){var t=qx.dom.Element.create("div");t.innerHTML=e.getInvalidMessage();qx.bom.element.Class.add(t,"form-element-error");qx.dom.Element.insertAfter(t,this._getParentRow(e).getContainerElement());this.__errorMessageContainers.push(t)},showItem:function(e){this._getParentRow(e).removeCssClass("exclude")},hideItem:function(e){this._getParentRow(e).addCssClass("exclude")},_getParentRow:function(e){for(var t=e.getLayoutParent();!t.hasCssClass("form-row");)t=t.getLayoutParent();return t},resetForm:function(){for(var e=0;e<this.__errorMessageContainers.length;e++)qx.dom.Element.remove(this.__errorMessageContainers[e])}},destruct:function(){this.resetForm();this._disposeArray("_labels");this._disposeArray("_rows")}});qx.ui.mobile.form.renderer.Single.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.core.DomUpdatedHandler",{extend:qx.core.Object,implement:qx.event.IEventHandler,construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__targets={};qx.ui.mobile.core.DomUpdatedHandler.__instances[this.toHashCode()]=this},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{domupdated:1},IGNORE_CAN_HANDLE:!1,__instances:{},refresh:function(){var e=this.__instances;for(var t in e)e[t].refresh()}},members:{__manager:null,__targets:null,canHandleEvent:function(e,t){return e instanceof qx.ui.mobile.core.Widget},registerEvent:function(e,t,i){var n=e.toHashCode(),s=this.__targets;s&&!s[n]&&(s[n]=e)},unregisterEvent:function(e,t,i){var n=e.toHashCode(),s=this.__targets;s&&s[n]&&delete s[n]},refresh:function(){var e,t=this.__targets;for(var i in t)if((e=t[i])&&!e.$$disposed&&e.isSeeable()){var n=qx.event.Registration.createEvent("domupdated");this.__manager.dispatchEvent(e,n)}}},destruct:function(){this.__manager=this.__targets=null;delete qx.ui.mobile.core.DomUpdatedHandler.__instances[this.toHashCode()]},defer:function(e){qx.event.Registration.addHandler(e)}});qx.ui.mobile.core.DomUpdatedHandler.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.Abstract",{extend:qx.core.Object,type:"abstract",events:{updateLayout:"qx.event.type.Data"},members:{_widget:null,__cachedProperties:null,__cachedChildLayoutProperties:null,_getCssClasses:function(){throw new Error("Abstract method call")},_getSupportedChildLayoutProperties:function(){return null},_setLayoutProperty:function(e,t,i){throw new Error("Abstract method call")},setLayoutProperties:function(e,t){if(null!=t){var i=this._getSupportedChildLayoutProperties();if(i)for(var n in t){if(!i[n])throw new Error("The layout does not support the "+n+" property");var s=t[n];this._setLayoutProperty(e,n,s);this._addPropertyToChildLayoutCache(e,n,s)}}},connectToWidget:function(e){this._widget&&this._widget.removeCssClasses(this._getCssClasses());this._widget=e;if(e){e.addCssClasses(this._getCssClasses());if(this.__cachedProperties)for(var t in this.__cachedProperties){this.reset(t);this.set(t,this.__cachedProperties[t])}}else this.__cachedProperties=null},connectToChildWidget:function(e){},disconnectFromChildWidget:function(e){},updateLayout:function(e,t,i){this.fireDataEvent("updateLayout",{widget:e,action:t,properties:i})},_addCachedProperty:function(e,t){this.__cachedProperties||(this.__cachedProperties={});this.__cachedProperties[e]=t},_getChildLayoutPropertyValue:function(e,t){return this.__getChildLayoutPropertyCache(e)[t]},_addPropertyToChildLayoutCache:function(e,t,i){var n=this.__getChildLayoutPropertyCache(e);null==i?delete n[t]:n[t]=i},__getChildLayoutPropertyCache:function(e){this.__cachedChildLayoutProperties||(this.__cachedChildLayoutProperties={});var t=this.__cachedChildLayoutProperties,i=e.toHashCode();t[i]||(t[i]={});return t[i]}},destruct:function(){this._widget=null}});qx.ui.mobile.layout.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.layout.Abstract":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.AbstractBox",{extend:qx.ui.mobile.layout.Abstract,type:"abstract",construct:function(e,t,i){qx.ui.mobile.layout.Abstract.constructor.call(this);e&&this.setAlignX(e);t&&this.setAlignY(t);i&&this.setReversed(i)},properties:{alignX:{check:["left","center","right"],nullable:!0,init:null,apply:"_applyLayoutChange"},alignY:{check:["top","middle","bottom"],nullable:!0,init:null,apply:"_applyLayoutChange"},reversed:{check:"Boolean",nullable:!0,init:null,apply:"_applyLayoutChange"}},statics:{PROPERTY_CSS_MAPPING:{alignX:{"qx-hbox":{left:"qx-flex-justify-start",center:"qx-flex-justify-center",right:"qx-flex-justify-end"},"qx-vbox":{left:"qx-flex-align-start",center:"qx-flex-align-center",right:"qx-flex-align-end"}},alignY:{"qx-hbox":{top:"qx-flex-align-start",middle:"qx-flex-align-center",bottom:"qx-flex-align-end"},"qx-vbox":{top:"qx-flex-justify-start",middle:"qx-flex-justify-center",bottom:"qx-flex-justify-end"}},reversed:{"qx-hbox":{true:"qx-flex-reverse",false:null},"qx-vbox":{true:"qx-flex-reverse",false:null}}},SUPPORTED_CHILD_LAYOUT_PROPERTIES:{flex:1}},members:{_getSupportedChildLayoutProperties:function(){return qx.ui.mobile.layout.AbstractBox.SUPPORTED_CHILD_LAYOUT_PROPERTIES},_setLayoutProperty:function(e,t,i){if("flex"==t){null!=this._getChildLayoutPropertyValue(e,t)&&e.removeCssClass("qx-flex"+i);e.addCssClass("qx-flex"+i)}},connectToWidget:function(e){if(this._widget){this.resetAlignX();this.resetAlignY();this.resetReversed()}qx.ui.mobile.layout.AbstractBox.prototype.connectToWidget.base.call(this,e)},disconnectFromChildWidget:function(e){qx.ui.mobile.layout.AbstractBox.prototype.disconnectFromChildWidget.base.call(this);for(var t=0;t<=6;t++)e.removeCssClass("qx-flex"+t)},_applyLayoutChange:function(e,t,i){if(this._widget){var n=this._getCssClasses()[0],s=qx.ui.mobile.layout.AbstractBox.PROPERTY_CSS_MAPPING[i][n];if(t){var r=s[t];r&&this._widget.removeCssClass(r)}if(e){var o=s[e];o&&this._widget.addCssClass(o)}}else e&&this._addCachedProperty(i,e)}}});qx.ui.mobile.layout.AbstractBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.layout.AbstractBox":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.VBox",{extend:qx.ui.mobile.layout.AbstractBox,members:{_getCssClasses:function(){return["qx-vbox"]}}});qx.ui.mobile.layout.VBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.bom.Element":{},"qx.util.Delegate":{},"qx.ui.mobile.list.renderer.group.Default":{},"qx.ui.mobile.list.renderer.Default":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.provider.Provider",{extend:qx.core.Object,properties:{delegate:{event:"changeDelegate",init:null,nullable:!0,apply:"_applyDelegate"}},members:{__itemRenderer:null,__groupRenderer:null,_setItemRenderer:function(e){this.__itemRenderer=e},_getItemRenderer:function(){return this.__itemRenderer},_setGroupRenderer:function(e){this.__groupRenderer=e},_getGroupRenderer:function(){return this.__groupRenderer},getItemElement:function(e,t){this.__itemRenderer.reset();this._configureItem(e,t);var i=qx.bom.Element.clone(this.__itemRenderer.getContainerElement(),!0);i.setAttribute("data-row",t);return i},getGroupElement:function(e,t){this.__groupRenderer.reset();this._configureGroupItem(e,t);var i=qx.bom.Element.clone(this.__groupRenderer.getContainerElement(),!0);i.removeAttribute("id");i.setAttribute("data-group",t);return i},_configureItem:function(e,t){var i=this.getDelegate();null!=i&&null!=i.configureItem&&i.configureItem(this.__itemRenderer,e,t)},_configureGroupItem:function(e,t){var i=qx.util.Delegate.getMethod(this.getDelegate(),"configureGroupItem");i&&i(this.__groupRenderer,e,t)},_createGroupRenderer:function(){var e=qx.util.Delegate.getMethod(this.getDelegate(),"createGroupRenderer");return null==e?new qx.ui.mobile.list.renderer.group.Default:e()},_createItemRenderer:function(){var e=qx.util.Delegate.getMethod(this.getDelegate(),"createItemRenderer");return null==e?new qx.ui.mobile.list.renderer.Default:e()},_applyDelegate:function(e,t){this._setItemRenderer(this._createItemRenderer());this._setGroupRenderer(this._createGroupRenderer())}},destruct:function(){this._disposeObjects("__itemRenderer","__groupRenderer")}});qx.ui.mobile.list.provider.Provider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.lang.Function":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.Delegate",{statics:{getMethod:function(e,t){return qx.util.Delegate.containsMethod(e,t)?qx.lang.Function.bind(e[t],e):null},containsMethod:function(e,t){var i=qx.lang.Type;return!!i.isObject(e)&&i.isFunction(e[t])}}});qx.util.Delegate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",defer:"runtime",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.lang.Type":{},"qx.bom.Selector":{},"qx.bom.element.Location":{},"qx.bom.element.Dimension":{},"qx.bom.client.Scroll":{defer:"runtime"},"qx.ui.mobile.container.MIScroll":{defer:"runtime"},"qx.ui.mobile.container.MNativeScroll":{defer:"runtime"}},environment:{provided:[],required:{"qx.mobile.nativescroll":{defer:!0,className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.container.Scroll",{extend:qx.ui.mobile.container.Composite,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this);e&&(this._scrollProperties=e);this.addListener("appear",this._updateWaypoints,this);this._waypointsX=[];this._waypointsY=[];this._currentX=0;this._currentY=0},events:{scrollEnd:"qx.event.type.Event",pageEnd:"qx.event.type.Event",waypoint:"qx.event.type.Data",momentumStart:"qx.event.type.Event",momentumEnd:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"scroll"},delegate:{init:null,nullable:!0}},members:{_scrollProperties:null,_activeWaypointX:null,_activeWaypointY:null,_waypointsX:null,_waypointsY:null,_calculatedWaypointsX:null,_calculatedWaypointsY:null,_currentX:null,_currentY:null,_setCurrentX:function(e){var t=this._currentX;this._currentX=e;this._fireWaypoint(e,t,"x")},_setCurrentY:function(e){var t=this._currentY;this._currentY=e;this._fireWaypoint(e,t,"y")},setWaypointsX:function(e){this._waypointsX=e},setWaypointsY:function(e){this._waypointsY=e},getScrollHeight:function(){return this._getScrollHeight()},getScrollWidth:function(){return this._getScrollWidth()},_updateWaypoints:function(){this._calculatedWaypointsX=[];this._calculatedWaypointsY=[];this._calcWaypoints(this._waypointsX,this._calculatedWaypointsX,this.getScrollWidth(),"x");this._calcWaypoints(this._waypointsY,this._calculatedWaypointsY,this.getScrollHeight())},_calcWaypoints:function(e,t,i,n){n=n||"y";for(var s=0,r=0;r<e.length;r++){var o=e[r];if(qx.lang.Type.isString(o))if(o.endsWith("%")){s=parseInt(o,10)*(i/100);t.push({offset:s,input:o,index:r,element:null,axis:n})}else for(var a=this.getContentElement(),l=qx.bom.Selector.query(o,a),u=0;u<l.length;u++){var c=qx.bom.element.Location.getRelative(l[u],a);"y"===n?s=c.top+this.getContentElement().scrollTop:"x"===n&&(s=c.left+this.getContentElement().scrollLeft);t.push({offset:c.top+this._currentY,input:o,index:r,element:u,axis:n})}else qx.lang.Type.isNumber(o)&&t.push({offset:o,input:o,index:r,element:null,axis:n})}t.sort(function(e,t){return e.offset-t.offset})},_fireWaypoint:function(e,t,i){var n=this._calculatedWaypointsY;"x"===i&&(n=this._calculatedWaypointsX);if(null!==n){for(var s=null,r=0;r<n.length;r++){var o=n[r];if(null!==o.offset){if(!(e>-1&&e>=o.offset||e<0&&o.offset<0&&e<=o.offset))break;s=o}}if(null!==s){var a=null;if(t<=e){a="down";"x"==i&&(a="left")}else{a="up";"x"==i&&(a="right")}var l=this._activeWaypointY;"x"===i&&(l=this._activeWaypointX);if(null===l||l.index!==s.index||l.element!==s.element){l=s;this._activeWaypointY=l;"x"===i&&(this._activeWaypointX=l);this.fireDataEvent("waypoint",{axis:i,index:s.index,element:s.element,direction:a})}}else"x"===i?this._activeWaypointX=null:this._activeWaypointY=null}},_createContainerElement:function(){var e=qx.ui.mobile.container.Scroll.prototype._createContainerElement.base.call(this),t=this._createScrollElement();return t||e},_getContentElement:function(){var e=qx.ui.mobile.container.Scroll.prototype._getContentElement.base.call(this);return this._getScrollContentElement()||e},refresh:function(){this._refresh();this._updateWaypoints()},scrollTo:function(e,t,i){this._scrollTo(e,t,i)},getPosition:function(){return this._getPosition()},isScrollable:function(){return this._isScrollable()},_isScrollable:function(){return this._isScrollableX()||this._isScrollableY()},_isScrollableX:function(){if(null===this.getLayoutParent())return!1;var e=this.getContainerElement().clientWidth,t=this.getContentElement().scrollWidth,i=this._getScrollContentElement();i&&(t=qx.bom.element.Dimension.getWidth(i));return e<t},_isScrollableY:function(){if(null===this.getLayoutParent())return!1;var e=this.getContainerElement().clientHeight,t=this.getContentElement().scrollHeight,i=this._getScrollContentElement();i&&(t=qx.bom.element.Dimension.getHeight(i));return e<t},scrollToElement:function(e,t){this._scrollToElement(e,t)},_scrollToElement:function(e,t){if(this._getContentElement()&&this._isScrollable()){void 0===t&&(t=0);var i=qx.bom.element.Location.getRelative(this._getContentElement(),e,"scroll","scroll"),n=this._getScrollOffset();this._scrollTo(-i.left-n[0],-i.top-n[1],t)}},_getScrollOffset:function(){var e=this.getDelegate();return null!=e&&e.getScrollOffset?e.getScrollOffset.bind(this)():[0,0]},scrollToWidget:function(e,t){e&&this._scrollToElement(e.getContentElement(),t)}},defer:function(e){0==qx.core.Environment.get("qx.mobile.nativescroll")?qx.Class.include(e,qx.ui.mobile.container.MIScroll):qx.Class.include(e,qx.ui.mobile.container.MNativeScroll)},destruct:function(){this.removeListener("appear",this._updateWaypoints,this);this._waypointsX=this._waypointsY=null}});qx.ui.mobile.container.Scroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.dom.Element":{},"qx.bom.element.Class":{},"qx.bom.element.Dimension":{},"qx.util.ResourceManager":{},"qx.bom.request.Script":{},"qx.lang.Object":{},"qx.bom.client.Scroll":{},"qx.lang.Array":{},"qx.event.Registration":{},"qx.bom.Event":{}},environment:{provided:[],required:{"qx.mobile.nativescroll":{className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.container.MIScroll",{construct:function(){this.__initScroll();this.__registerEventListeners()},members:{__scroll:null,_createScrollElement:function(){var e=qx.dom.Element.create("div");qx.bom.element.Class.add(e,"iscroll");return e},_getScrollContentElement:function(){return this.getContainerElement().childNodes[0]},_getPosition:function(){return[this._currentX,this._currentY]},_getScrollHeight:function(){return this.getContainerElement()?this._getScrollContentElement().scrollHeight-this.getContainerElement().offsetHeight:0},_getScrollWidth:function(){return this.getContainerElement()?this._getScrollContentElement().scrollWidth-this.getContainerElement().offsetWidth:0},_scrollTo:function(e,t,i){if(this._isScrollable()){var n=qx.bom.element.Dimension.getHeight(this._getScrollContentElement())-this.getContainerElement().offsetHeight;t>n&&(t=n);var s=qx.bom.element.Dimension.getWidth(this._getScrollContentElement())-this.getContainerElement().offsetWidth;e>s&&(e=s);if(this.__scroll)this.__scroll.scrollTo(-e,-t,i);else{this._setCurrentY(e);this._setCurrentY(t)}}},__initScroll:function(){if(window.iScroll)this.addListenerOnce("appear",function(){this._setScroll(this.__createScrollInstance())},this);else{var e=qx.util.ResourceManager.getInstance().toUri("qx/mobile/js/iscroll.js");e+="?"+(new Date).getTime();var t=new qx.bom.request.Script;t.on("load",this.__onScrollLoaded,this);t.open("GET",e);t.send()}},__createScrollInstance:function(){var e=this._getDefaultScrollProperties(),t={};null!=this._scrollProperties&&(t=this._scrollProperties);var i=qx.lang.Object.mergeWith(e,t,!0);return new iScroll(this.getContainerElement(),i)},_getDefaultScrollProperties:function(){var e=this;return{hideScrollbar:!0,fadeScrollbar:!0,hScrollbar:!1,scrollbarClass:"scrollbar",useTransform:!0,useTransition:!0,onScrollEnd:function(){if(0==qx.core.Environment.get("qx.mobile.nativescroll")){e._setCurrentX(-this.x);e._setCurrentY(-this.y);e.fireEvent("scrollEnd");this.y==this.maxScrollY&&e.fireEvent("pageEnd")}},onScrollMove:function(){if(0==qx.core.Environment.get("qx.mobile.nativescroll")){e._setCurrentX(-this.x);e._setCurrentY(-this.y);this.y==this.maxScrollY&&e.fireEvent("pageEnd")}},onBeforeScrollStart:function(e){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;if("SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&"LABEL"!=t.tagName){for(var i=[],n=qx.lang.Array.cast(document.getElementsByTagName("input"),Array),s=qx.lang.Array.cast(document.getElementsByTagName("textarea"),Array),r=0,o=(i=(i=i.concat(n)).concat(s)).length;r<o;r++)i[r].blur();e.preventDefault()}}}},__registerEventListeners:function(){qx.event.Registration.addListener(window,"orientationchange",this._refresh,this);qx.event.Registration.addListener(window,"resize",this._refresh,this);this.addListener("touchmove",qx.bom.Event.stopPropagation);this.addListener("domupdated",this._refresh,this)},__unregisterEventListeners:function(){qx.event.Registration.removeListener(window,"orientationchange",this._refresh,this);qx.event.Registration.removeListener(window,"resize",this._refresh,this);this.removeListener("touchmove",qx.bom.Event.stopPropagation);this.removeListener("domupdated",this._refresh,this)},__onScrollLoaded:function(e){if(e.status<400){if(!this.isDisposed()){this._setScroll(this.__createScrollInstance());this._scrollTo(this._currentX,this._currentY)}}else this.error("Could not load iScroll")},_setScroll:function(e){this.__scroll=e},disable:function(){this.__scroll&&this.__scroll.disable()},enable:function(){this.__scroll&&this.__scroll.enable()},_refresh:function(){this.__scroll&&this.__scroll.refresh()}},destruct:function(){this.__unregisterEventListeners();this.__scroll&&this.__scroll.destroy();this.__scroll=null}});qx.ui.mobile.container.MIScroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0},"qx.lang.Object":{},"qx.lang.Type":{},"qx.bom.Html":{},"qx.dom.Node":{},qxWeb:{defer:"runtime"},"qx.dom.Element":{},"qx.lang.Array":{},"qx.bom.Viewport":{}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.module.Manipulating",{statics:{_animationDescription:{scrollLeft:{duration:700,timing:"ease-in",keep:100,keyFrames:{0:{},100:{scrollLeft:1}}},scrollTop:{duration:700,timing:"ease-in",keep:100,keyFrames:{0:{},100:{scrollTop:1}}}},__animateScroll:function(e,t,i){var n=qx.lang.Object.clone(qx.module.Manipulating._animationDescription[e],!0);n.keyFrames[100][e]=t;return this.animate(n,i)},__getCollectionFromArgument:function(e){var t;if(qx.lang.Type.isArray(e))t=qxWeb(e);else{var i=qx.bom.Html.clean([e]);t=i.length>0&&qx.dom.Node.isElement(i[0])?qxWeb(i):qxWeb(e)}return t},__getInnermostElement:function(e){if(0==e.childNodes.length)return e;for(var t=0,i=e.childNodes.length;t<i;t++)if(1===e.childNodes[t].nodeType)return this.__getInnermostElement(e.childNodes[t]);return e},__getElementArray:function(e){if(!qx.lang.Type.isArray(e)){var t=qxWeb(e);e=t.length>0?t:[e]}return e.filter(function(e){return e&&(1===e.nodeType||11===e.nodeType)})},create:function(e,t){return qxWeb.$init(qx.bom.Html.clean([e],t),qxWeb)}},members:{clone:function(e){for(var t=[],i=0;i<this.length;i++)this[i]&&1===this[i].nodeType&&(t[i]=this[i].cloneNode(!0));!0===e&&this.copyEventsTo&&this.copyEventsTo(t);return qxWeb(t)},append:function(e){var t=qx.bom.Html.clean([e]),i=qxWeb.$init(t,qxWeb);this._forEachElement(function(e,t){for(var n=0,s=i.length;n<s;n++)0==t?qx.dom.Element.insertEnd(i[n],e):qx.dom.Element.insertEnd(i.eq(n).clone(!0)[0],e)});return this},appendTo:function(e){for(var t=0,i=(e=qx.module.Manipulating.__getElementArray(e)).length;t<i;t++)this._forEachElement(function(i,n){0==t?qx.dom.Element.insertEnd(this[n],e[t]):qx.dom.Element.insertEnd(this.eq(n).clone(!0)[0],e[t])});return this},insertBefore:function(e){for(var t=0,i=(e=qx.module.Manipulating.__getElementArray(e)).length;t<i;t++)this._forEachElement(function(i,n){0==t?qx.dom.Element.insertBefore(i,e[t]):qx.dom.Element.insertBefore(this.eq(n).clone(!0)[0],e[t])});return this},insertAfter:function(e){for(var t=0,i=(e=qx.module.Manipulating.__getElementArray(e)).length;t<i;t++)for(var n=this.length-1;n>=0;n--)this[n]&&1===this[n].nodeType&&(0==t?qx.dom.Element.insertAfter(this[n],e[t]):qx.dom.Element.insertAfter(this.eq(n).clone(!0)[0],e[t]));return this},wrap:function(e){if(0==(e=qx.module.Manipulating.__getCollectionFromArgument(e)).length)return this;this._forEachElement(function(t){var i=e.eq(0).clone(!0);qx.dom.Element.insertAfter(i[0],t);var n=qx.module.Manipulating.__getInnermostElement(i[0]);qx.dom.Element.insertEnd(t,n)});return this},remove:function(){this._forEachElement(function(e){qx.dom.Element.remove(e)});return this},empty:function(){this._forEachElement(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)});return this},before:function(e){qx.lang.Type.isArray(e)||(e=[e]);var t=document.createDocumentFragment();qx.bom.Html.clean(e,document,t);this._forEachElement(function(e,i){for(var n=qx.lang.Array.cast(t.childNodes,Array),s=0,r=n.length;s<r;s++){var o;o=i<this.length-1?n[s].cloneNode(!0):n[s];e.parentNode.insertBefore(o,e)}},this);return this},after:function(e){qx.lang.Type.isArray(e)||(e=[e]);var t=document.createDocumentFragment();qx.bom.Html.clean(e,document,t);this._forEachElement(function(e,i){for(var n=qx.lang.Array.cast(t.childNodes,Array),s=n.length-1;s>=0;s--){var r;r=i<this.length-1?n[s].cloneNode(!0):n[s];e.parentNode.insertBefore(r,e.nextSibling)}},this);return this},getScrollLeft:function(){var e=this[0];if(!e)return null;var t=qx.dom.Node;return t.isWindow(e)||t.isDocument(e)?qx.bom.Viewport.getScrollLeft():e.scrollLeft},getScrollTop:function(){var e=this[0];if(!e)return null;var t=qx.dom.Node;return t.isWindow(e)||t.isDocument(e)?qx.bom.Viewport.getScrollTop():e.scrollTop},setScrollLeft:function(e,t){var i=qx.dom.Node;t&&qx.bom.element&&qx.bom.element.AnimationJs&&qx.module.Manipulating.__animateScroll.bind(this,"scrollLeft",e,t)();for(var n,s=0,r=this.length;s<r;s++){n=this[s];i.isElement(n)?t&&qx.bom.element&&qx.bom.element.AnimationJs||(n.scrollLeft=e):i.isWindow(n)?n.scrollTo(e,this.getScrollTop(n)):i.isDocument(n)&&i.getWindow(n).scrollTo(e,this.getScrollTop(n))}return this},setScrollTop:function(e,t){var i=qx.dom.Node;t&&qx.bom.element&&qx.bom.element.AnimationJs&&qx.module.Manipulating.__animateScroll.bind(this,"scrollTop",e,t)();for(var n,s=0,r=this.length;s<r;s++){n=this[s];i.isElement(n)?t&&qx.bom.element&&qx.bom.element.AnimationJs||(n.scrollTop=e):i.isWindow(n)?n.scrollTo(this.getScrollLeft(n),e):i.isDocument(n)&&i.getWindow(n).scrollTo(this.getScrollLeft(n),e)}return this},focus:function(){try{this[0].focus()}catch(e){}return this},blur:function(){this.forEach(function(e,t){try{e.blur()}catch(e){}});return this}},defer:function(e){qxWeb.$attachAll(this)}});qx.module.Manipulating.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.module.Animation":{require:!0},"qx.module.Manipulating":{require:!0},"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.Event":{construct:!0},"qx.bom.client.OperatingSystem":{construct:!0},"qx.bom.element.Location":{},"qx.bom.element.Animation":{}},environment:{provided:[],required:{"os.name":{construct:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.container.MNativeScroll",{construct:function(){this.addCssClass("native");this._snapPoints=[];this.addListenerOnce("appear",this._onAppear,this);this.addListener("trackstart",this._onTrackStart,this);this.addListener("trackend",this._onTrackEnd,this);qx.bom.Event.addNativeListener(this._getContentElement(),"scroll",this._onScroll.bind(this));"ios"==qx.core.Environment.get("os.name")&&this.addListener("touchmove",this._onTouchMove,this)},members:{_snapPoints:null,_onTrack:null,_snapTimeoutId:null,_onAppear:function(){this._calcSnapPoints()},_onTouchMove:function(e){this._isScrollableY()?e.stopPropagation():e.preventDefault()},_onTrackStart:function(e){this._onTrack=!0;"ios"==qx.core.Environment.get("os.name")&&this._preventPageBounce()},_preventPageBounce:function(){if(this._isScrollableY()){var e=this.getContentElement(),t=e.scrollTop,i=e.scrollHeight-this.getLayoutParent().getContentElement().offsetHeight;0===t?e.scrollTop=1:t==i&&(e.scrollTop=i-1)}},_onTrackEnd:function(e){this._onTrack=!1;this._snapTimeoutId&&clearTimeout(this._snapTimeoutId);this._snapTimeoutId=setTimeout(function(){this._snap()}.bind(this),100);e.stopPropagation()},_onScroll:function(){var e=this.getContentElement().scrollLeft,t=this.getContentElement().scrollTop;this._setCurrentX(e);this._setCurrentY(t);this._snapTimeoutId&&clearTimeout(this._snapTimeoutId);this._snapTimeoutId=setTimeout(function(){this._onTrack||this._snap()}.bind(this),100)},_calcSnapPoints:function(){if(this._scrollProperties){var e=this._scrollProperties.snap;if(e){this._snapPoints=[];for(var t=this.getContentElement().querySelectorAll(e),i=0;i<t.length;i++){var n=qx.bom.element.Location.getRelative(this._getContentElement(),t[i],"scroll","scroll");this._snapPoints.push(n)}}}},_determineSnapPoint:function(e,t){for(var i=0;i<this._snapPoints.length;i++){var n=this._snapPoints[i];if(e<=-n[t]){if(i>0){var s=this._snapPoints[i-1];return Math.abs(e+s[t])<Math.abs(e+n[t])?-s[t]:-n[t]}return-n[t]}}return e},_snap:function(){this.fireEvent("scrollEnd");var e=this.getContentElement();if(!(e.scrollTop<1||e.scrollTop>this._getScrollHeight())){var t=this._getPosition(),i=this._determineSnapPoint(t[0],"left"),n=this._determineSnapPoint(t[1],"top");i==t[0]&&n==t[1]||this._scrollTo(i,n,300)}},_refresh:function(){this._calcSnapPoints()},_createScrollElement:function(){return null},_getPosition:function(){return[this.getContentElement().scrollLeft,this.getContentElement().scrollTop]},_getScrollContentElement:function(){return null},_getScrollHeight:function(){return this.getContentElement()?this.getContentElement().scrollHeight-this.getContentElement().offsetHeight:0},_getScrollWidth:function(){return this.getContentElement()?this.getContentElement().scrollWidth-this.getContentElement().offsetWidth:0},_scrollTo:function(e,t,i){var n=this.getContentElement();if(i){var s=n.scrollTop,r=n.scrollLeft;n&&qx.bom.element.Animation.animate(n,{duration:i,keyFrames:{0:{scrollTop:s,scrollLeft:r},100:{scrollTop:t,scrollLeft:e}},keep:100,timing:"ease-out"})}else{n.scrollLeft=e;n.scrollTop=t}}},destruct:function(){qx.bom.Event.removeNativeListener(this._getContentElement(),"scroll",this._onScroll.bind(this));this.removeListener("touchmove",this._onTouchMove,this);this.removeListener("appear",this._onAppear,this);this.removeListener("trackstart",this._onTrackStart,this);this.removeListener("trackend",this._onTrackEnd,this)}});qx.ui.mobile.container.MNativeScroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.core.Init":{construct:!0},"qx.bom.element.Location":{},"qx.bom.element.Dimension":{},"qx.util.placement.Placement":{},"qx.ui.mobile.core.Blocker":{},"qx.lang.Function":{},"qx.event.Registration":{},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.basic.Atom":{},"qx.log.Logger":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.dialog.Popup",{extend:qx.ui.mobile.core.Widget,statics:{ROOT:null},construct:function(e,t){qx.ui.mobile.core.Widget.constructor.call(this);this.exclude();null==qx.ui.mobile.dialog.Popup.ROOT&&(qx.ui.mobile.dialog.Popup.ROOT=qx.core.Init.getApplication().getRoot());qx.ui.mobile.dialog.Popup.ROOT.add(this);this.__anchor=t;e&&this._initializeChild(e)},properties:{defaultCssClass:{refine:!0,init:"popup"},title:{apply:"_applyTitle",nullable:!0,check:"String",event:"changeTitle"},icon:{check:"String",apply:"_applyIcon",nullable:!0,event:"changeIcon"},modal:{init:!1,check:"Boolean",nullable:!1},hideOnBlockerTap:{check:"Boolean",init:!1}},members:{__isShown:!1,__childrenContainer:null,__percentageTop:null,__anchor:null,__widget:null,__titleWidget:null,__lastPopupDimension:null,_updatePosition:function(){for(var e=["top","bottom","left","right","anchor"],t=0;t<e.length;t++)this.removeCssClass(e[t]);if(this.__anchor){this.addCssClass("anchor");var i=qx.ui.mobile.dialog.Popup.ROOT.getHeight(),n=qx.ui.mobile.dialog.Popup.ROOT.getWidth(),s=qx.bom.element.Location.get(qx.ui.mobile.dialog.Popup.ROOT.getContainerElement()),r=qx.bom.element.Location.get(this.__anchor.getContainerElement()),o=qx.bom.element.Dimension.getSize(this.getContainerElement());this.__lastPopupDimension=o;var a=qx.util.placement.Placement.compute(o,{width:s.left+n,height:s.top+i},r,{left:0,right:0,top:0,bottom:0},"bottom-left","keep-align","keep-align");this._resetPosition();var l=r.top>a.top,u=r.left>a.left;a.top=a.top-s.top;a.left=a.left-s.left;if(a.top<0||a.left<0||a.left+o.width>n||a.top+o.height>i)this._positionToCenter();else{l?this.addCssClass("bottom"):this.addCssClass("top");u?this.addCssClass("right"):this.addCssClass("left");this.placeTo(a.left,a.top)}}else this.__childrenContainer&&this._positionToCenter()},show:function(){if(!this.__isShown){qx.core.Init.getApplication().fireEvent("popup");this.__registerEventListener();this.placeTo(-1e3,-1e3);qx.ui.mobile.dialog.Popup.prototype.show.base.call(this);this._updatePosition()}this.__isShown=!0;if(!0===this.getModal()){qx.ui.mobile.core.Blocker.getInstance().show();this.getHideOnBlockerTap()&&qx.ui.mobile.core.Blocker.getInstance().addListener("tap",this.hide,this)}},hide:function(){if(this.__isShown){this.__unregisterEventListener();this.exclude()}this.__isShown=!1;this.getModal()&&qx.ui.mobile.core.Blocker.getInstance().hide();qx.ui.mobile.core.Blocker.getInstance().removeListener("tap",this.hide,this)},hideWithDelay:function(e){e?qx.lang.Function.delay(this.hide,e,this):this.hide()},isShown:function(){return this.__isShown},toggleVisibility:function(){1==this.__isShown?this.hide():this.show()},placeTo:function(e,t){this._setStyle("left",e+"px");this._setStyle("top",t+"px")},_trackUserTap:function(e){var t=e.getViewportLeft(),i=e.getViewportTop(),n=qx.bom.element.Location.get(this.getContainerElement());(t<n.left||t>n.left+this.__lastPopupDimension.width||i>n.top+this.__lastPopupDimension.height||i<n.top)&&this.hide()},_positionToCenter:function(){var e=this.getContainerElement();e.style.position="absolute";e.style.marginLeft=-parseInt(e.offsetWidth/2)+"px";e.style.marginTop=-parseInt(e.offsetHeight/2)+"px";e.style.left="50%";e.style.top="50%"},_resetPosition:function(){var e=this.getContainerElement();e.style.left="0px";e.style.top="0px";e.style.marginLeft=null;e.style.marginTop=null},__registerEventListener:function(){qx.core.Init.getApplication().addListener("stop",this.hide,this);qx.core.Init.getApplication().addListener("popup",this.hide,this);qx.event.Registration.addListener(window,"resize",this._updatePosition,this);if(this.__anchor){this.__anchor.addCssClass("anchor-target");qx.ui.mobile.dialog.Popup.ROOT.addListener("pointerdown",this._trackUserTap,this)}},__unregisterEventListener:function(){qx.core.Init.getApplication().removeListener("stop",this.hide,this);qx.core.Init.getApplication().removeListener("popup",this.hide,this);qx.event.Registration.removeListener(window,"resize",this._updatePosition,this);if(this.__anchor){this.__anchor.removeCssClass("anchor-target");qx.ui.mobile.dialog.Popup.ROOT.removeListener("pointerdown",this._trackUserTap,this)}},_initializeChild:function(e){if(null==this.__childrenContainer){this.__childrenContainer=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);this.__childrenContainer.setDefaultCssClass("popup-content");this._add(this.__childrenContainer)}if(this._createTitleWidget()){this.__childrenContainer.remove(this._createTitleWidget());this.__childrenContainer.add(this._createTitleWidget())}this.__childrenContainer.add(e,{flex:1});e.addListener("domupdated",this._updatePosition,this);this.__widget=e},_createTitleWidget:function(){if(this.__titleWidget)return this.__titleWidget;if(this.getTitle()||this.getIcon()){this.__titleWidget=new qx.ui.mobile.basic.Atom(this.getTitle(),this.getIcon());this.__titleWidget.addCssClass("popup-title");return this.__titleWidget}return null},_applyTitle:function(e,t){if(e)if(this.__titleWidget)this.__titleWidget.setLabel(e);else{this.__titleWidget=new qx.ui.mobile.basic.Atom(e,this.getIcon());this.__titleWidget.addCssClass("popup-title");this.__widget?this.__childrenContainer.addBefore(this._createTitleWidget(),this.__widget):this.__childrenContainer&&this.__childrenContainer.add(this._createTitleWidget())}},_applyIcon:function(e,t){if(e)if(this.__titleWidget)this.__titleWidget.setIcon(e);else{this.__titleWidget=new qx.ui.mobile.basic.Atom(this.getTitle(),e);this.__titleWidget.addCssClass("popup-title");this.__widget?this.__childrenContainer.addBefore(this._createTitleWidget(),this.__widget):this.__childrenContainer&&this.__childrenContainer.add(this._createTitleWidget())}},add:function(e){this.removeWidget();this._initializeChild(e)},setAnchor:function(e){this.__anchor=e;this._updatePosition()},getTitleWidget:function(){return this.__titleWidget},removeWidget:function(){if(this.__widget){this.__widget.removeListener("domupdated",this._updatePosition,this);this.__childrenContainer.remove(this.__widget);return this.__widget}qx.log.Logger.debug(this,"this popup has no widget attached yet");return null}},destruct:function(){this.__unregisterEventListener();this._disposeObjects("__childrenContainer");this.__isShown=this.__percentageTop=this._anchor=this.__widget=this.__lastPopupDimension=null}});qx.ui.mobile.dialog.Popup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.dialog.Popup":{construct:!0,require:!0},"qx.ui.mobile.container.Composite":{construct:!0},"qx.ui.mobile.form.Button":{},"qx.ui.mobile.container.Scroll":{},"qx.bom.element.Style":{},"qx.ui.mobile.list.List":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.dialog.Menu",{extend:qx.ui.mobile.dialog.Popup,construct:function(e,t){this.__selectionList=this._createSelectionList();e&&this.__selectionList.setModel(e);this.__menuContainer=new qx.ui.mobile.container.Composite;this.__clearButton=this._createClearButton();this.__listScroller=this._createListScroller(this.__selectionList);this.__menuContainer.add(this.__listScroller);this.__menuContainer.add(this.__clearButton);qx.ui.mobile.dialog.Popup.constructor.call(this,this.__menuContainer,t);t?this.setModal(!1):this.setModal(!0)},events:{changeSelection:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"menu"},selectedItemClass:{init:"item-selected"},unselectedItemClass:{init:"item-unselected"},nullable:{init:!1,check:"Boolean",apply:"_applyNullable"},clearButtonLabel:{init:"None",check:"String",apply:"_applyClearButtonLabel"},selectedIndex:{check:"Integer",apply:"_applySelectedIndex",nullable:!0},visibleListItems:{check:"Integer",apply:"_updatePosition",nullable:!0}},members:{__selectionList:null,__clearButton:null,__listScroller:null,__menuContainer:null,show:function(){qx.ui.mobile.dialog.Menu.prototype.show.base.call(this);this.scrollToItem(this.getSelectedIndex())},_createClearButton:function(){var e=new qx.ui.mobile.form.Button(this.getClearButtonLabel());e.addListener("tap",this.__onClearButtonTap,this);e.exclude();return e},_createListScroller:function(e){var t=new qx.ui.mobile.container.Scroll({snap:".list-item"});t.add(e,{flex:1});t.addCssClass("menu-scroller");return t},_getListScroller:function(){return this.__listScroller},_updatePosition:function(){var e=qx.ui.mobile.dialog.Popup.ROOT.getHeight(),t=.75*parseInt(e,10);t=parseInt(t,10);if(null!==this.getVisibleListItems()){var i=this.__selectionList.getListItemHeight()*this.getVisibleListItems();t=Math.min(i,t)}qx.bom.element.Style.set(this.__listScroller.getContainerElement(),"maxHeight",t+"px");qx.ui.mobile.dialog.Menu.prototype._updatePosition.base.call(this)},_createSelectionList:function(){var e=this,t=new qx.ui.mobile.list.List({configureItem:function(t,i,n){t.setTitle(i);t.setShowArrow(!1);if(e.getSelectedIndex()==n){t.removeCssClass(e.getUnselectedItemClass());t.addCssClass(e.getSelectedItemClass())}else{t.removeCssClass(e.getSelectedItemClass());t.addCssClass(e.getUnselectedItemClass())}}});t.addListener("changeSelection",this.__onListChangeSelection,this);t.addListener("tap",this._onSelectionListTap,this);return t},getSelectionList:function(){return this.__selectionList},_onSelectionListTap:function(){this.hideWithDelay(500)},setItems:function(e){if(this.__selectionList){this.__selectionList.setModel(null);this.__selectionList.setModel(e)}},__onListChangeSelection:function(e){this.setSelectedIndex(e.getData())},__onClearButtonTap:function(){this.fireDataEvent("changeSelection",{index:null,item:null});this.hide()},_applySelectedIndex:function(e,t){var i=this.__selectionList.getModel();if(null!==i){var n=i.getItem(e);this.fireDataEvent("changeSelection",{index:e,item:n})}this._render()},_applyNullable:function(e,t){e?this.__clearButton.setVisibility("visible"):this.__clearButton.setVisibility("excluded")},_applyClearButtonLabel:function(e,t){this.__clearButton.setValue(e)},_render:function(){var e=this.__selectionList.getModel();this.__selectionList.setModel(null);this.__selectionList.setModel(e)},scrollToItem:function(e){if(null!==e&&null!=this.__selectionList.getModel()){var t=qxWeb("#"+this.__listScroller.getId()+" .list-item")[e];this.__listScroller.scrollToElement(t)}}},destruct:function(){this.__selectionList.removeListener("tap",this._onSelectionListTap,this);this._disposeObjects("__selectionList","__clearButton","__listScroller","__menuContainer")}});qx.ui.mobile.dialog.Menu.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.mobile.form.MText":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.mobile.form.MState":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.bom.client.Scroll":{construct:!0},"qx.ui.mobile.container.Scroll":{},"qx.ui.mobile.core.Root":{}},environment:{provided:[],required:{"qx.mobile.nativescroll":{construct:!0,className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.TextArea",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.mobile.form.MValue,qx.ui.mobile.form.MText,qx.ui.form.MForm,qx.ui.form.MModelProperty,qx.ui.mobile.form.MState],implement:[qx.ui.form.IField,qx.ui.form.IForm,qx.ui.form.IModel],construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);if(0==qx.core.Environment.get("qx.mobile.nativescroll")){this.addListener("appear",this._fixChildElementsHeight,this);this.addListener("input",this._fixChildElementsHeight,this);this.addListener("changeValue",this._fixChildElementsHeight,this)}},properties:{defaultCssClass:{refine:!0,init:"text-area"}},members:{_getTagName:function(){return"textarea"},_fixChildElementsHeight:function(e){this.getContentElement().style.height="auto";this.getContentElement().style.height=this.getContentElement().scrollHeight+"px";var t=this.__getScrollContainer();t&&t.refresh()},__getScrollContainer:function(){for(var e=this;!(e instanceof qx.ui.mobile.container.Scroll);){if(!e.getLayoutParent)return null;var t=e.getLayoutParent();if(null==t||t instanceof qx.ui.mobile.core.Root)return null;e=t}return e}},destruct:function(){if(0==qx.core.Environment.get("qx.mobile.nativescroll")){this.removeListener("appear",this._fixChildElementsHeight,this);this.removeListener("input",this._fixChildElementsHeight,this);this.removeListener("changeValue",this._fixChildElementsHeight,this)}}});qx.ui.mobile.form.TextArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.layout.AbstractBox":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.HBox",{extend:qx.ui.mobile.layout.AbstractBox,members:{_getCssClasses:function(){return["qx-hbox"]}}});qx.ui.mobile.layout.HBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Row",{extend:qx.ui.mobile.container.Composite,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e);this.initSelectable()},properties:{defaultCssClass:{refine:!0,init:"form-row"},selectable:{check:"Boolean",init:!1,apply:"_applyAttribute"}},members:{_getTagName:function(){return"li"}}});qx.ui.mobile.form.Row.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.bom.client.Css":{},"qx.bom.client.Event":{},"qx.event.Registration":{},"qx.event.type.Tap":{}},environment:{provided:[],required:{"css.flexboxSyntax":{className:"qx.bom.client.Css"},"event.dispatchevent":{className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Label",{extend:qx.ui.mobile.core.Widget,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);e&&this.setValue(e);this.addCssClass("gap");this._setLayout((new qx.ui.mobile.layout.HBox).set({alignY:"middle",alignX:"left"}));this.initWrap();qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this);this.addListener("tap",this._onTap,this)},properties:{defaultCssClass:{refine:!0,init:"label"},value:{nullable:!0,init:null,apply:"_applyValue",event:"changeValue"},anonymous:{refine:!0,init:!1},wrap:{check:"Boolean",init:!0,apply:"_applyWrap"}},members:{__forWidget:null,_getTagName:function(){return"label"},_applyValue:function(e,t){var i=e;"flexbox"===qx.core.Environment.get("css.flexboxSyntax")&&(i="<p>"+e+"</p>");this._setHtml(i)},_applyWrap:function(e,t){e?this.removeCssClass("no-wrap"):this.addCssClass("no-wrap")},_changeEnabled:function(e){e&&this.setEnabled(e.getData())},setLabelFor:function(e){this.__forWidget&&this.__forWidget.removeListener("changeEnabled",this._changeEnabled,this);this.__forWidget=qx.ui.mobile.core.Widget.getWidgetById(e);if(this.__forWidget){this.__forWidget.addListener("changeEnabled",this._changeEnabled,this);this.setEnabled(this.__forWidget.getEnabled())}this._setAttribute("for",e)},_onTap:function(e){if(this.__forWidget&&qx.core.Environment.get("event.dispatchevent")){var t=this.__forWidget.getContentElement();qx.event.Registration.fireEvent(t,"tap",qx.event.type.Tap,[e.getNativeEvent(),t,null,!0,!0])}},_onChangeLocale:function(e){var t=this.getValue();t&&t.translate&&this.setValue(t.translate())}},destruct:function(){this.removeListener("tap",this._onTap,this);if(this.__forWidget){this.__forWidget.removeListener("changeEnabled",this._changeEnabled,this);this.__forWidget=null}qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this)}});qx.ui.mobile.form.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.renderer.group.Abstract",{extend:qx.ui.mobile.container.Composite,type:"abstract",construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e);this.initSelectable()},properties:{defaultCssClass:{refine:!0,init:"group-item"},selectable:{check:"Boolean",init:!1,apply:"_applyAttribute"},activatable:{refine:!0,init:!0}},members:{reset:function(){throw new Error("Abstract method call")},_getTagName:function(){return"li"}}});qx.ui.mobile.list.renderer.group.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.list.renderer.group.Abstract":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.basic.Image":{},"qx.ui.mobile.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.renderer.group.Default",{extend:qx.ui.mobile.list.renderer.group.Abstract,construct:function(e){qx.ui.mobile.list.renderer.group.Abstract.constructor.call(this,e||(new qx.ui.mobile.layout.HBox).set({alignY:"middle"}));this._init()},members:{__image:null,__title:null,__rightContainer:null,getImageWidget:function(){return this.__image},getTitleWidget:function(){return this.__title},setImage:function(e){this.__image.setSource(e)},setTitle:function(e){e&&e.translate?this.__title.setValue(e.translate()):this.__title.setValue(e)},setGroup:function(e){this._setAttribute("data-group",e)},_init:function(){this.__image=this._createImage();this.add(this.__image);this.__rightContainer=this._createRightContainer();this.add(this.__rightContainer,{flex:1});this.__title=this._createTitle();this.__rightContainer.add(this.__title)},_createRightContainer:function(){return new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox)},_createImage:function(){var e=new qx.ui.mobile.basic.Image;e.setAnonymous(!0);e.addCssClass("group-item-image");return e},_createTitle:function(){var e=new qx.ui.mobile.basic.Label;e.setWrap(!1);e.addCssClass("group-item-title");return e},reset:function(){this.__image.setSource(null);this.__title.setValue("")}},destruct:function(){this._disposeObjects("__image","__title","__rightContainer")}});qx.ui.mobile.list.renderer.group.Default.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.renderer.Abstract",{extend:qx.ui.mobile.container.Composite,type:"abstract",construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e);this.initSelectable();this.initRemovable();this.initShowArrow()},properties:{defaultCssClass:{refine:!0,init:"list-item"},selected:{check:"Boolean",init:!1,apply:"_applySelected"},selectable:{check:"Boolean",init:!0,apply:"_applyAttribute"},removable:{check:"Boolean",init:!1,apply:"_applyRemovable"},showArrow:{check:"Boolean",init:!1,apply:"_applyShowArrow"},activatable:{refine:!0,init:!0}},members:{reset:function(){throw new Error("Abstract method call")},_getTagName:function(){return"li"},getRowIndexFromEvent:function(e){return this.getRowIndex(e.getOriginalTarget())},getRowIndex:function(e){for(;"LI"!=e.tagName;)e=e.parentNode;return e.getAttribute("data-row")},_applyShowArrow:function(e,t){e?this.addCssClass("arrow"):this.removeCssClass("arrow")},_applyRemovable:function(e,t){e?this.addCssClass("removable"):this.removeCssClass("removable")},_applySelected:function(e,t){e?this.addCssClass("selected"):this.removeCssClass("selected")}}});qx.ui.mobile.list.renderer.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.list.renderer.Abstract":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.basic.Image":{},"qx.ui.mobile.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.list.renderer.Default",{extend:qx.ui.mobile.list.renderer.Abstract,construct:function(e){qx.ui.mobile.list.renderer.Abstract.constructor.call(this,e||(new qx.ui.mobile.layout.HBox).set({alignY:"middle"}));this._init()},members:{__image:null,__title:null,__subtitle:null,__rightContainer:null,getImageWidget:function(){return this.__image},getTitleWidget:function(){return this.__title},getSubtitleWidget:function(){return this.__subtitle},setImage:function(e){this.__image.setSource(e)},setTitle:function(e){e&&e.translate?this.__title.setValue(e.translate()):this.__title.setValue(e)},setSubtitle:function(e){e&&e.translate?this.__subtitle.setValue(e.translate()):this.__subtitle.setValue(e)},_init:function(){this.__image=this._createImage();this.add(this.__image);this.__rightContainer=this._createRightContainer();this.add(this.__rightContainer,{flex:1});this.__title=this._createTitle();this.__rightContainer.add(this.__title);this.__subtitle=this._createSubtitle();this.__rightContainer.add(this.__subtitle)},_createRightContainer:function(){return new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox)},_createImage:function(){var e=new qx.ui.mobile.basic.Image;e.setAnonymous(!0);e.addCssClass("list-item-image");return e},_createTitle:function(){var e=new qx.ui.mobile.basic.Label;e.setWrap(!1);e.addCssClass("list-item-title");return e},_createSubtitle:function(){var e=new qx.ui.mobile.basic.Label;e.setWrap(!1);e.addCssClass("list-item-subtitle");return e},reset:function(){this.__image.setSource(null);this.__title.setValue("");this.__subtitle.setValue("")}},destruct:function(){this._disposeObjects("__image","__title","__subtitle","__rightContainer")}});qx.ui.mobile.list.renderer.Default.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.core.Init":{construct:!0},"qx.bom.Viewport":{},"qx.bom.element.Dimension":{},"qx.event.Registration":{},"qx.bom.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.core.Blocker",{extend:qx.ui.mobile.core.Widget,type:"singleton",statics:{ROOT:null},construct:function(){qx.ui.mobile.core.Widget.constructor.call(this);null==qx.ui.mobile.core.Blocker.ROOT&&(qx.ui.mobile.core.Blocker.ROOT=qx.core.Init.getApplication().getRoot());this.forceHide();qx.ui.mobile.core.Blocker.ROOT.add(this)},properties:{defaultCssClass:{refine:!0,init:"blocker"}},members:{__count:0,show:function(){if(0==this.__count){this._updateSize();this.__registerEventListener();qx.ui.mobile.core.Blocker.prototype.show.base.call(this)}this.__count++},hide:function(){this.__count--;if(this.__count<=0){this.__count=0;this.__unregisterEventListener();this.exclude()}},forceHide:function(){this.__count=0;this.hide()},isShown:function(){return this.__count>0},_updateSize:function(){if(qx.ui.mobile.core.Blocker.ROOT==this.getLayoutParent()){this.getContainerElement().style.top=qx.bom.Viewport.getScrollTop()+"px";this.getContainerElement().style.left=qx.bom.Viewport.getScrollLeft()+"px";this.getContainerElement().style.width=qx.bom.Viewport.getWidth()+"px";this.getContainerElement().style.height=qx.bom.Viewport.getHeight()+"px"}else if(null!=this.getLayoutParent()){var e=qx.bom.element.Dimension.getSize(this.getLayoutParent().getContainerElement());this.getContainerElement().style.width=e.width+"px";this.getContainerElement().style.height=e.height+"px"}},_onScroll:function(e){this._updateSize()},__registerEventListener:function(){qx.event.Registration.addListener(window,"resize",this._updateSize,this);qx.event.Registration.addListener(window,"scroll",this._onScroll,this);this.addListener("pointerdown",qx.bom.Event.preventDefault,this);this.addListener("pointerup",qx.bom.Event.preventDefault,this)},__unregisterEventListener:function(){qx.event.Registration.removeListener(window,"resize",this._updateSize,this);qx.event.Registration.removeListener(window,"scroll",this._onScroll,this);this.removeListener("pointerdown",qx.bom.Event.preventDefault,this);this.removeListener("pointerup",qx.bom.Event.preventDefault,this)}},destruct:function(){qx.ui.mobile.core.Blocker.ROOT.remove(this);this.__unregisterEventListener()}});qx.ui.mobile.core.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.layout.HBox":{},"qx.ui.mobile.basic.Image":{},"qx.bom.element.Style":{},"qx.ui.mobile.basic.Label":{},"qx.ui.mobile.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.basic.Atom",{extend:qx.ui.mobile.core.Widget,construct:function(e,t){qx.ui.mobile.core.Widget.constructor.call(this);this.__createChildren(e,t);this.addCssClass("gap")},properties:{defaultCssClass:{refine:!0,init:"atom"},label:{apply:"_applyLabel",nullable:!0,check:"String",event:"changeLabel"},icon:{check:"String",apply:"_applyIcon",nullable:!0,event:"changeIcon"},show:{init:"both",check:["both","label","icon"],inheritable:!0,apply:"_applyShow"},iconPosition:{init:"left",check:["top","right","bottom","left"],apply:"_applyIconPosition"}},members:{__layout:null,__label:null,__icon:null,__childrenContainer:null,_applyIconPosition:function(e,t){var i=-1!=["top","bottom"].indexOf(e),n=!this.__label;this.__createLayout(i,n);var s=-1!=["right","bottom"].indexOf(e);this.__childrenContainer.setLayout(this.__layout);this.__layout.setReversed(s);this._domUpdated()},_applyShow:function(e,t){this.__label&&("both"===e||"label"===e?this.__label.show():"icon"===e&&this.__label.exclude());this.__icon&&("both"===e||"icon"===e?this.__icon.show():"label"===e&&this.__icon.exclude())},_applyLabel:function(e,t){this.__label?this.__label.setValue(e):this.__label=this._createLabelWidget(e)},_applyIcon:function(e,t){this.__icon?this.__icon.setSource(e):this.__icon=this._createIconWidget(e)},__createLayout:function(e,t){if(e||t)if(this.__layout){if("qx.ui.mobile.layout.VBox"!==this.__layout.classname){this.__layout.dispose();this.__layout=new qx.ui.mobile.layout.VBox}}else this.__layout=new qx.ui.mobile.layout.VBox;else if(this.__layout){if("qx.ui.mobile.layout.HBox"!==this.__layout.classname){this.__layout.dispose();this.__layout=new qx.ui.mobile.layout.HBox}}else this.__layout=new qx.ui.mobile.layout.HBox},getIconWidget:function(){return this.__icon},getLabelWidget:function(){return this.__label},_createIconWidget:function(e){var t=new qx.ui.mobile.basic.Image(e);qx.bom.element.Style.set(t.getContentElement(),"display","block");t.setAnonymous(!0);t.addCssClass("gap");return t},_createLabelWidget:function(e){var t=new qx.ui.mobile.basic.Label(e);t.setAnonymous(!0);t.setWrap(!1);t.addCssClass("gap");return t},__createChildren:function(e,t){this.__label=this._createLabelWidget(e);e&&this.setLabel(e);this.__icon=this._createIconWidget(t);t?this.setIcon(t):this.__icon.exclude();var i=-1!=["top","bottom"].indexOf(this.getIconPosition()),n=!this.__label;this.__createLayout(i,n);this.__childrenContainer&&this.__childrenContainer.dispose();this.__childrenContainer=new qx.ui.mobile.container.Composite(this.__layout);this.__childrenContainer.addCssClass("qx-flex-center");this.__childrenContainer.setAnonymous(!0);this.__icon&&this.__childrenContainer.add(this.__icon);if(this.__label){this.__label.addCssClass("qx-flex-center");this.__childrenContainer.add(this.__label)}"icon"===this.getShow()&&this.__label&&this.__label.exclude();"label"===this.getShow()&&this.__icon&&this.__icon.exclude();this._add(this.__childrenContainer)}},destruct:function(){this._disposeObjects("__layout","__label","__icon","__childrenContainer")}});qx.ui.mobile.basic.Atom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.basic.Atom":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Button",{extend:qx.ui.mobile.basic.Atom,properties:{defaultCssClass:{refine:!0,init:"button"},activatable:{refine:!0,init:!0}},members:{setValue:function(e){this.setLabel(e)},getValue:function(){return this.getLabel()}}});qx.ui.mobile.form.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.core.Init":{construct:!0},"qx.util.ResourceManager":{},"qx.io.ImageLoader":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.basic.Image",{extend:qx.ui.mobile.core.Widget,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);null===qx.ui.mobile.basic.Image.ROOT&&(qx.ui.mobile.basic.Image.ROOT=qx.core.Init.getApplication().getRoot());e?this.setSource(e):this.initSource();qx.ui.mobile.basic.Image.ROOT.addListener("changeAppScale",this._onChangeAppScale,this)},events:{loadingFailed:"qx.event.type.Event",loaded:"qx.event.type.Event"},statics:{ROOT:null,PLACEHOLDER_IMAGE:null},properties:{source:{check:"String",nullable:!0,init:null,apply:"_applySource"}},members:{_getTagName:function(){return"img"},_applySource:function(e,t){var i=qx.util.ResourceManager.getInstance(),n=e;if(n&&0!=n.indexOf("data:")){var s=i.toUri(n);if(i.has(n)){var r=i.findHighResolutionSource(n,qx.ui.mobile.basic.Image.ROOT.getAppScale());if(r){this._createHighResolutionOverlay(r,n);n=qx.ui.mobile.basic.Image.PLACEHOLDER_IMAGE;s=i.toUri(r)}else n=s}qx.io.ImageLoader.isFailed(s)||qx.io.ImageLoader.isLoaded(s)||qx.io.ImageLoader.load(s,this.__loaderCallback,this)}this._setSource(n)},_onChangeAppScale:function(){this._applySource(this.getSource())},_createHighResolutionOverlay:function(e,t){var i=qx.util.ResourceManager.getInstance();this._setStyle("backgroundImage","url("+i.toUri(e)+")");this._setStyle("backgroundSize","100%");this._setStyle("backgroundRepeat","no-repeat");this._setStyle("backgroundPosition","50% 50%");this._setStyle("width",i.getImageWidth(t)/16+"rem");this._setStyle("height",i.getImageHeight(t)/16+"rem")},__loaderCallback:function(e,t){if(!0!==this.$$disposed){if(t.failed){this.warn("Image could not be loaded: "+e);this.fireEvent("loadingFailed")}else{if(t.aborted)return;this.fireEvent("loaded")}this._domUpdated()}},_setSource:function(e){this._setAttribute("src",e)},setDraggable:function(e){e?this._setAttribute("draggable","true"):this._setAttribute("draggable","false")}},defer:function(e){e.PLACEHOLDER_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},destruct:function(){qx.ui.mobile.basic.Image.ROOT.removeListener("changeAppScale",this._onChangeAppScale,this)}});qx.ui.mobile.basic.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.basic.Atom":{},"qx.util.ResourceManager":{},"qx.bom.element.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.basic.Atom",{extend:qx.test.mobile.MobileTestCase,members:{testLabel:function(){var e=new qx.ui.mobile.basic.Atom("myText");this.getRoot().add(e);this.assertString(e.getLabel());this.assertEquals(e.getLabel(),"myText");this.assertEquals(e.getLabel(),e.getLabelWidget().getContainerElement().innerHTML);e.setLabel("mySecondText");this.assertEquals(e.getLabel(),"mySecondText");this.assertEquals(e.getLabel(),e.getLabelWidget().getContainerElement().innerHTML);e.destroy()},testIcon:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/user-home.png"),t=new qx.ui.mobile.basic.Atom("myText",e);this.getRoot().add(t);this.assertString(t.getIcon());this.assertEquals(t.getIconWidget().getSource(),e);this.assertTrue(-1!=t.getIconWidget().getContainerElement().src.indexOf("qx/icon/Tango/48/places/user-home.png"));var i=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/32/places/folder-open.png");t.setIcon(i);this.assertEquals(t.getIcon(),i);this.assertTrue(-1!=t.getIconWidget().getContainerElement().src.indexOf("qx/icon/Tango/32/places/folder-open.png"));t.destroy()},testShow:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/user-home.png"),t=new qx.ui.mobile.basic.Atom("myText",e);this.getRoot().add(t);this.assertTrue(t.getIconWidget().isVisible());this.assertTrue(t.getLabelWidget().isVisible());t.setShow("label");this.assertFalse(t.getIconWidget().isVisible());this.assertTrue(t.getLabelWidget().isVisible());t.setShow("icon");this.assertTrue(t.getIconWidget().isVisible());this.assertFalse(t.getLabelWidget().isVisible());t.setShow("both");this.assertTrue(t.getIconWidget().isVisible());this.assertTrue(t.getLabelWidget().isVisible())},testIconPosition:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/user-home.png"),t=new qx.ui.mobile.basic.Atom("myTextmyTextmyTextmyTextmyText",e);this.getRoot().add(t);this.getRoot()._domUpdated();var i=t.getIconWidget().getContentElement(),n=t.getLabelWidget().getContentElement();t.setIconPosition("top");this.assertTrue(qx.bom.element.Location.getTop(i)<=qx.bom.element.Location.getTop(n),"setIconPosition(top): iconElement.top is greater than labelElement.top");this.assertTrue("VBox"===t.getIconWidget().getLayoutParent().getLayout().basename,"Layout of IconPosition Top should be VBox ");this.assertFalse(t.getIconWidget().getLayoutParent().getLayout().isReversed(),"Layout should not be reversed.");t.setIconPosition("bottom");this.assertTrue("VBox"===t.getIconWidget().getLayoutParent().getLayout().basename,"Layout of IconPosition Bottom should be VBox ");this.assertTrue(t.getIconWidget().getLayoutParent().getLayout().isReversed(),"Layout should be reversed.");t.setIconPosition("left");this.assertTrue("HBox"===t.getIconWidget().getLayoutParent().getLayout().basename,"Layout of IconPosition Left should be HBox ");var s=qx.bom.element.Location.getLeft(n),r=qx.bom.element.Location.getLeft(i);this.assertTrue(r<=s,"setIconPosition(left): iconElement.left is greater than labelElement.left");this.assertFalse(t.getIconWidget().getLayoutParent().getLayout().isReversed(),"Layout should not be reversed.");t.setIconPosition("right");this.assertTrue("HBox"===t.getIconWidget().getLayoutParent().getLayout().basename,"Layout of IconPosition Right should be HBox ");this.assertTrue(t.getIconWidget().getLayoutParent().getLayout().isReversed(),"Layout should be reversed.");s=qx.bom.element.Location.getLeft(n);r=qx.bom.element.Location.getLeft(i);this.assertTrue(r>=s,"setIconPosition(right): iconElement.left is lower than labelElement.left");this.getRoot()._domUpdated()},testSetLabelAndIcon:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/user-home.png"),t=new qx.ui.mobile.basic.Atom;t.setLabel("test234");t.setIcon(e);var i=t.getContentElement(),n=i.children[0].children.length,s=i.children[0].children[0].tagName,r=i.children[0].children[0].innerHTML,o=i.children[0].children[1].innerHTML;this.assertEquals("IMG",s,"Unexpected atom children tag");this.assertEquals(2,n,"Unexpected count of atom element children");this.assertEquals("",r,"Child element of icon has wrong content");this.assertEquals("test234",o,"Child element of icon has wrong content")}}});qx.test.mobile.basic.Atom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.util.ResourceManager":{},"qx.io.ImageLoader":{},"qx.ui.mobile.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.basic.Image",{extend:qx.test.mobile.MobileTestCase,members:{testSrc:function(){var e=qx.util.ResourceManager.getInstance().toUri("qx/icon/Tango/48/places/folder.png");if(qx.io.ImageLoader.isLoaded(e))this.debug("testLoadedEvent skipped! Image already loaded.");else{var t=new qx.ui.mobile.basic.Image("qx/icon/Tango/48/places/folder.png");t.addListener("loaded",function(){this.resume(function(){window.setTimeout(function(){t.destroy()})})},this);this.getRoot().add(t);this.wait()}},testLoadingFailed:function(){var e=new qx.ui.mobile.basic.Image("does not exist.png"+Math.random());this.getRoot().add(e);e.addListener("loadingFailed",function(){this.resume(function(){window.setTimeout(function(){e.destroy()})})},this);this.wait()}}});qx.test.mobile.basic.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.basic.Label",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.basic.Label("affe");this.getRoot().add(e);this.assertString(e.getValue());this.assertEquals(e.getValue(),"affe");this.assertEquals(e.getValue(),e.getContentElement().innerHTML);this.assertEventFired(e,"changeValue",function(){e.setValue("")});this.assertEquals(e.getValue(),"");this.assertEquals(e.getValue(),e.getContentElement().innerHTML);e.destroy()}}});qx.test.mobile.basic.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Carousel":{},"qx.ui.mobile.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.container.Carousel",{extend:qx.test.mobile.MobileTestCase,members:{testInit:function(){var e=new qx.ui.mobile.container.Carousel(.4);this.getRoot().add(e);e.destroy()},testAddCarouselPage:function(){var e=new qx.ui.mobile.container.Carousel,t=new qx.ui.mobile.container.Composite;e.add(t);this.getRoot().add(e);e.destroy();t.destroy()},testRemoveCarouselPage:function(){var e=new qx.ui.mobile.container.Carousel,t=new qx.ui.mobile.container.Composite;e.add(t);e.removePageByIndex(0);this.getRoot().add(e);e.destroy();t.destroy()},testPageSwitch:function(){var e=new qx.ui.mobile.container.Carousel,t=new qx.ui.mobile.container.Composite;e.add(t);var i=new qx.ui.mobile.container.Composite;e.add(i);this.getRoot().add(e);this.assertEquals(0,e.getCurrentIndex());e.nextPage();this.assertEquals(1,e.getCurrentIndex());e.nextPage();this.assertEquals(1,e.getCurrentIndex());e.previousPage();this.assertEquals(0,e.getCurrentIndex());e.previousPage();this.assertEquals(0,e.getCurrentIndex());e.destroy();t.destroy();i.destroy()},testPageSwitchEvent:function(){var e=new qx.ui.mobile.container.Carousel,t=new qx.ui.mobile.container.Composite;e.add(t);var i=new qx.ui.mobile.container.Composite;e.add(i);this.getRoot().add(e);this.assertEventFired(e,"changeCurrentIndex",function(){e.nextPage()},function(e){this.assertEquals(1,e.getData());this.assertEquals(0,e.getOldData())}.bind(this));this.assertEventFired(e,"changeCurrentIndex",function(){e.previousPage()},function(e){this.assertEquals(0,e.getData());this.assertEquals(1,e.getOldData())}.bind(this));e.destroy();t.destroy();i.destroy()},testScrollToPage:function(){var e=new qx.ui.mobile.container.Carousel,t=new qx.ui.mobile.container.Composite;e.add(t);var i=new qx.ui.mobile.container.Composite;e.add(i);this.getRoot().add(e);this.assertEquals(0,e.getCurrentIndex());e.setCurrentIndex(1);this.assertEquals(1,e.getCurrentIndex());window.setTimeout(function(){e.destroy();t.destroy();i.destroy()},600)}}});qx.test.mobile.container.Carousel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Mixin":{usage:"dynamic",require:!0},"qx.bom.element.Style":{},"qx.bom.client.Scroll":{}},environment:{provided:[],required:{"qx.mobile.nativescroll":{className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.mobile.core.MResize",{properties:{fireDomUpdatedOnResize:{check:"Boolean",init:!1}},members:{__lastHeight:null,__lastWidth:null,releaseFixedSize:function(){var e=this.getLayoutParent();if(e&&e.getContainerElement()){var t=this.getContainerElement();qx.bom.element.Style.set(t,"height","auto");qx.bom.element.Style.set(t,"width","auto")}},fixSize:function(){var e=this.getLayoutParent();if(e&&e.getContainerElement()){var t=e.getContainerElement().offsetHeight,i=e.getContainerElement().offsetWidth;if(0===t||0===i)return;if(this.getFireDomUpdatedOnResize()){if(this.__lastHeight!=t&&this.__lastWidth!=i){this._setHeight(t);this._setWidth(i);this.__lastWidth=i;this.__lastHeight=t;this._domUpdated()}}else{this._setHeight(t);this._setWidth(i)}}},_setHeight:function(e){var t=this.getContainerElement();qx.core.Environment.get("qx.mobile.nativescroll")?qx.bom.element.Style.set(t,"minHeight",e+"px"):qx.bom.element.Style.set(t,"height",e+"px")},_setWidth:function(e){var t=this.getContainerElement();qx.core.Environment.get("qx.mobile.nativescroll")?qx.bom.element.Style.set(t,"minWidth",e+"px"):qx.bom.element.Style.set(t,"width",e+"px")}}});qx.ui.mobile.core.MResize.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.core.MResize":{require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.bom.Event":{construct:!0},"qx.event.Registration":{construct:!0},"qx.ui.mobile.layout.VBox":{construct:!0},"qx.util.DisposeUtil":{},"qx.bom.element.Style":{},"qx.ui.mobile.basic.Label":{},"qx.bom.element.Dimension":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.container.Carousel",{extend:qx.ui.mobile.container.Composite,include:qx.ui.mobile.core.MResize,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this);e&&this.setTransitionDuration(e);this.__snapPointsX=[];this.__onMoveOffset=[0,0];this.__lastOffset=[0,0];this.__boundsX=[0,0];this.__pages=[];this.__paginationLabels=[];var t=this.__carouselScroller=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox);t.setTransformUnit("px");t.addCssClass("carousel-scroller");t.addListener("pointerdown",this._onPointerDown,this);t.addListener("pointerup",this._onPointerUp,this);t.addListener("track",this._onTrack,this);t.addListener("swipe",this._onSwipe,this);this.addListener("touchmove",qx.bom.Event.preventDefault,this);this.addListener("appear",this._onContainerUpdate,this);qx.event.Registration.addListener(this.__carouselScroller.getContainerElement(),"transitionEnd",this._onScrollerTransitionEnd,this);qx.event.Registration.addListener(window,"orientationchange",this._onContainerUpdate,this);qx.event.Registration.addListener(window,"resize",this._onContainerUpdate,this);qx.event.Registration.addListener(this.getContentElement(),"scroll",this._onNativeScroll,this);var i=this.__pagination=new qx.ui.mobile.container.Composite;i.setLayout(new qx.ui.mobile.layout.HBox);i.setTransformUnit("px");i.addCssClass("carousel-pagination");this.setLayout(new qx.ui.mobile.layout.VBox);this._add(t,{flex:1});this._add(i,{flex:1})},properties:{defaultCssClass:{refine:!0,init:"carousel"},showPagination:{check:"Boolean",init:!0,apply:"_applyShowPagination"},scrollLoop:{check:"Boolean",init:!0},height:{check:"Number",init:200,nullable:!0,apply:"_updateCarouselLayout"},currentIndex:{check:"Number",init:0,apply:"_scrollToPage",event:"changeCurrentIndex"},transitionDuration:{check:"Number",init:.5}},members:{__carouselScroller:null,__carouselScrollerWidth:null,__carouselWidth:null,__paginationLabels:null,__pagination:null,__snapPointsX:null,__onMoveOffset:null,__lastOffset:null,__boundsX:null,__pages:null,__showTransition:null,__isPageScrollTarget:null,__deltaX:null,__deltaY:null,add:function(e){if(!e instanceof qx.ui.mobile.container.Composite)throw new Error("Page is expected to be an instance of qx.ui.mobile.container.Composite.");e.addCssClass("carousel-page");this.__pages.push(e);this.__carouselScroller.add(e,{flex:1});var t=this._createPaginationLabel();this.__paginationLabels.push(t);this.__pagination.add(t);this._setTransitionDuration(0);this._onContainerUpdate()},removePageByIndex:function(e){if(this.__pages&&this.__pages.length>e){e<=this.getCurrentIndex()&&0!==this.getCurrentIndex()&&this.setCurrentIndex(this.getCurrentIndex()-1);var t=this.__pages[e],i=this.__paginationLabels[e];this.__carouselScroller.remove(t);this.__pagination.remove(i);i.removeListener("tap",this._onPaginationLabelTap,{self:this,targetIndex:e-1});qx.util.DisposeUtil.destroyContainer(i);this.__pages.splice(e,1);this.__paginationLabels.splice(e,1);this._onContainerUpdate();return t}},removeAll:function(){var e=[];if(this.__pages)for(var t=this.__pages.length-1;t>=0;t--)e.push(this.removePageByIndex(t));return e},nextPage:function(){this.getCurrentIndex()==this.__pages.length-1?this.isScrollLoop()&&this.__pages.length>1&&this._doScrollLoop():this.setCurrentIndex(this.getCurrentIndex()+1)},previousPage:function(){0===this.getCurrentIndex()?this.isScrollLoop()&&this.__pages.length>1&&this._doScrollLoop():this.setCurrentIndex(this.getCurrentIndex()-1)},getPageCount:function(){return this.__pages?this.__pages.length:0},_scrollToPage:function(e,t){if(!(e>=this.__pages.length||e<0)){this._updatePagination(e);var i=-e*this.__carouselWidth;this._updateScrollerPosition(i);this.__lastOffset[0]=i}},_doScrollLoop:function(){this._setTransitionDuration(this.getTransitionDuration());setTimeout(function(){this._setScrollersOpacity(0)}.bind(this),0)},_onScrollerTransitionEnd:function(){if(0===qx.bom.element.Style.get(this.__carouselScroller.getContainerElement(),"opacity")){var e=null;this.getCurrentIndex()==this.__pages.length-1&&(e=0);0===this.getCurrentIndex()&&(e=this.__pages.length-1);this._setTransitionDuration(0);this.setCurrentIndex(e);setTimeout(function(){this._setTransitionDuration(this.getTransitionDuration());this._setScrollersOpacity(1)}.bind(this),0)}},_createPaginationLabel:function(){var e=this.__pages.length,t=new qx.ui.mobile.container.Composite,i=new qx.ui.mobile.basic.Label(""+e);t.add(i);t.addCssClass("carousel-pagination-label");t.addListener("tap",this._onPaginationLabelTap,{self:this,targetIndex:e-1});return t},_setScrollersOpacity:function(e){this.__carouselScroller&&qx.bom.element.Style.set(this.__carouselScroller.getContainerElement(),"opacity",e)},_applyShowPagination:function(e,t){e?this.__pages.length>1&&this.__pagination.show():this.__pagination.hide()},_onPaginationLabelTap:function(){this.self.setCurrentIndex(this.targetIndex)},_updateCarouselLayout:function(){if(this.getContainerElement()){var e=qx.bom.element.Dimension.getSize(this.getContainerElement());this.__carouselWidth=e.width;null!==this.getHeight()?this._setStyle("height",this.getHeight()/16+"rem"):this._setStyle("height","100%");qx.bom.element.Style.set(this.__carouselScroller.getContentElement(),"width",this.__pages.length*e.width+"px");for(var t=0;t<this.__pages.length;t++){var i=this.__pages[t].getContentElement();qx.bom.element.Style.set(i,"width",e.width+"px");qx.bom.element.Style.set(i,"height",e.height+"px")}1==this.__pages.length?this.__pagination.exclude():this.isShowPagination()&&this.__pagination.show();this._refreshScrollerPosition()}},_refreshScrollerPosition:function(){this.__carouselScrollerWidth=qx.bom.element.Dimension.getWidth(this.__carouselScroller.getContentElement());this._scrollToPage(this.getCurrentIndex())},_onContainerUpdate:function(){this._setTransitionDuration(0);this._updateCarouselLayout();this._refreshScrollerPosition()},_getScrollerOffset:function(){var e=qx.bom.element.Style.get(this.__carouselScroller.getContentElement(),"transform"),t=e.substr(7,e.length-8).split(", "),i=4;"MSCSSMatrix"in window&&!("WebKitCSSMatrix"in window)&&(i=t.length-4);return Math.floor(parseInt(t[i],10))},_onPointerDown:function(e){if(e.isPrimary()){this.__lastOffset[0]=this._getScrollerOffset();this.__isPageScrollTarget=null;this.__boundsX[0]=-this.__carouselScrollerWidth+this.__carouselWidth;this._updateScrollerPosition(this.__lastOffset[0])}},_onTrack:function(e){if(e.isPrimary()){this._setTransitionDuration(0);this.__deltaX=e.getDelta().x;this.__deltaY=e.getDelta().y;null===this.__isPageScrollTarget&&(this.__isPageScrollTarget="y"==e.getDelta().axis);if(!this.__isPageScrollTarget){this.__onMoveOffset[0]=Math.floor(this.__deltaX+this.__lastOffset[0]);this.__onMoveOffset[0]>=this.__boundsX[1]&&(this.__onMoveOffset[0]=this.__boundsX[1]);this.__onMoveOffset[0]<=this.__boundsX[0]&&(this.__onMoveOffset[0]=this.__boundsX[0]);this._updateScrollerPosition(this.__onMoveOffset[0]);e.preventDefault()}}},_onPointerUp:function(e){if(e.isPrimary()){this._setTransitionDuration(this.getTransitionDuration());this._refreshScrollerPosition()}},_onSwipe:function(e){if(e.isPrimary())if(e.getDuration()<750&&Math.abs(e.getDistance())>50){var t=this._calculateTransitionDuration(this.__deltaX,e.getDuration());t=Math.min(this.getTransitionDuration(),t);this._setTransitionDuration(t);"left"==e.getDirection()?this.nextPage():"right"==e.getDirection()&&this.previousPage()}else this._snapCarouselPage()},_calculateTransitionDuration:function(e,t){return(this.__carouselWidth-Math.abs(e))/Math.abs(e)*t/1e3},_onNativeScroll:function(e){var t=e.getNativeEvent();t.srcElement.scrollLeft=0;t.srcElement.scrollTop=0},_setTransitionDuration:function(e){qx.bom.element.Style.set(this.__carouselScroller.getContentElement(),"transitionDuration",e+"s")},_snapCarouselPage:function(){this._setTransitionDuration(this.getTransitionDuration());for(var e=1e4,t=0,i=0;i<this.__pages.length;i++){var n=-i*this.__carouselWidth,s=this.__onMoveOffset[0]-n;if(Math.abs(s)<e){e=Math.abs(s);t=i}}this.getCurrentIndex()==t?this._refreshScrollerPosition():this.setCurrentIndex(t)},_updatePagination:function(e){for(var t=0;t<this.__paginationLabels.length;t++)this.__paginationLabels[t].removeCssClass("active");var i=this.__paginationLabels[e];i&&i.getContainerElement()&&i.addCssClass("active");if(this.__paginationLabels.length){var n=window.getComputedStyle(this.__pagination.getContentElement()),s=parseFloat(n.width,10);if(isNaN(s))return;var r=s/this.__paginationLabels.length,o=null,a=this.__carouselWidth/2-e*r-r/2;if(s<this.__carouselWidth){o=this.__carouselWidth/2-s/2+"px";a=0}qx.bom.element.Style.set(this.__pagination.getContentElement(),"left",o);this.__pagination.setTranslateX(a)}},_updateScrollerPosition:function(e){isNaN(e)||null===this.__carouselScroller.getContentElement()||this.__carouselScroller.setTranslateX(e)},_removeListeners:function(){this.__carouselScroller.removeListener("pointerdown",this._onPointerDown,this);this.__carouselScroller.removeListener("track",this._onTrack,this);this.__carouselScroller.removeListener("pointerup",this._onPointerUp,this);this.__carouselScroller.removeListener("swipe",this._onSwipe,this);this.__carouselScroller.removeListener("touchmove",qx.bom.Event.preventDefault,this);this.removeListener("appear",this._onContainerUpdate,this);qx.event.Registration.removeListener(window,"orientationchange",this._onContainerUpdate,this);qx.event.Registration.removeListener(window,"resize",this._onContainerUpdate,this);qx.event.Registration.removeListener(this.getContentElement(),"scroll",this._onNativeScroll,this)}},destruct:function(){this._removeListeners();this._disposeObjects("__carouselScroller"," __pagination");qx.util.DisposeUtil.destroyContainer(this);qx.util.DisposeUtil.disposeArray(this,"__paginationLabels");this.__pages=this.__paginationLabels=this.__snapPointsX=this.__onMoveOffset=this.__lastOffset=this.__boundsX=this.__isPageScrollTarget=null}});qx.ui.mobile.container.Carousel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.container.Composite",{extend:qx.test.mobile.MobileTestCase,members:{testAdd:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this._assertChildren(e,2);t.destroy();i.destroy();e.destroy()},testAddSame:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);this.assertException(function(){e.add(t)});this._assertChildren(e,1);t.destroy();e.destroy()},testAddOther:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.container.Composite;this.getRoot().add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this._assertChildren(e,1);t.add(i);this._assertChildren(e,0);this.assertFalse(e.getContainerElement().hasChildNodes());this._assertChildren(t,1);this.assertEquals(t.getContainerElement(),i.getContainerElement().parentNode);i.destroy();e.destroy();t.destroy()},testAddAt:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);var n=new qx.ui.mobile.core.Widget;e.addAt(n,1);this.assertEquals(e.indexOf(n),1);this.assertEquals(e.getContentElement().childNodes[1],n.getContainerElement());t.destroy();i.destroy();n.destroy();e.destroy()},testAddBefore:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this.assertException(function(){e.addBefore(i,n)});var n=new qx.ui.mobile.core.Widget;e.addBefore(n,i);this.assertEquals(e.indexOf(n),1);this.assertEquals(e.getContentElement().childNodes[1],n.getContainerElement());t.destroy();i.destroy();n.destroy();e.destroy()},testAddAfter:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this.assertException(function(){e.addAfter(i,n)});var n=new qx.ui.mobile.core.Widget;e.addAfter(n,i);this.assertEquals(e.indexOf(n),2);this.assertEquals(e.getContentElement().childNodes[2],n.getContainerElement());e.remove(n);e.addAfter(n,t);this.assertEquals(e.getContentElement().childNodes[1],n.getContainerElement());t.destroy();i.destroy();n.destroy();e.destroy()},testDestroy:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this._assertChildren(e,2);t.destroy();i.destroy();this._assertChildren(e,0);e.destroy()},testRemove:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this._assertChildren(e,2);e.remove(t);this._assertChildren(e,1);e.remove(i);this._assertChildren(e,0);t.destroy();i.destroy();e.destroy()},testRemoveAt:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);this.assertException(function(){e.removeAt(1)});var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);var n=new qx.ui.mobile.core.Widget;e.add(n);this._assertChildren(e,3);e.removeAt(1);this._assertChildren(e,2);this.assertEquals(t,e.getChildren()[0]);this.assertEquals(n,e.getChildren()[1]);t.destroy();i.destroy();n.destroy();e.destroy()},testRemoveAll:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this._assertChildren(e,2);e.removeAll();this._assertChildren(e,0);t.destroy();i.destroy();e.destroy()},testHasChildren:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);this.assertFalse(e.hasChildren());var t=new qx.ui.mobile.core.Widget;e.add(t);this.assertTrue(e.hasChildren());t.destroy();this.assertFalse(e.hasChildren());e.destroy()},testIndexOf:function(){var e=new qx.ui.mobile.container.Composite;this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);this.assertNumber(e.indexOf(t));this.assertEquals(e.indexOf(t),0);this.assertNumber(e.indexOf(i));this.assertEquals(e.indexOf(i),1);t.destroy();i.destroy();e.destroy()},_assertChildren:function(e,t){var i=e.getChildren();this.assertNotNull(i);var n=i.length;this.assertEquals(n,t);n=e.getContainerElement().childNodes.length;this.assertEquals(n,t)}}});qx.test.mobile.container.Composite.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.container.Drawer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.container.Drawer",{extend:qx.test.mobile.MobileTestCase,members:{testInitComposite:function(){var e=new qx.ui.mobile.container.Composite,t=new qx.ui.mobile.container.Drawer(e),i=e.getChildren()[0];this.assertEquals(t,i,"Unexpected children of composite.");t.destroy()},testInitRoot:function(){var e=new qx.ui.mobile.container.Drawer,t=this.getRoot().getChildren()[this.getRoot().getChildren().length-1];this.assertEquals(e,t,"Unexpected children of root.");e.destroy()},testShowHide:function(){var e=new qx.ui.mobile.container.Drawer;e.setTransitionDuration(0);this.assertTrue(e.isHidden(),"Drawer is asserted to be initially hidden.");e.show();this.assertFalse(e.isHidden(),"Drawer is asserted to be shown.");e.hide();this.assertTrue(e.isHidden(),"Drawer is asserted to be hidden.");e.destroy()},testToggleVisibility:function(){var e=new qx.ui.mobile.container.Drawer;e.setTransitionDuration(0);this.assertTrue(e.isHidden(),"Drawer is asserted to be initially hidden.");var t=e.toggleVisibility();this.assertTrue(t,"Drawer's targetVisibility is asserted to be true.");this.assertFalse(e.isHidden(),"Drawer is asserted to be shown.");t=e.toggleVisibility();this.assertFalse(t,"Drawer's targetVisibility is asserted to be false.");this.assertTrue(e.isHidden(),"Drawer is asserted to be hidden.");e.destroy()}}});qx.test.mobile.container.Drawer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.core.Init":{construct:!0},"qx.bom.Element":{},"qx.bom.element.Style":{},"qx.bom.element.Location":{},"qx.util.DisposeUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.container.Drawer",{extend:qx.ui.mobile.container.Composite,construct:function(e,t){qx.ui.mobile.container.Composite.constructor.call(this);t&&this.setLayout(t);this.initOrientation();this.initPositionZ();if(e){this.assertInstance(e,qx.ui.mobile.container.Composite);e.add(this)}else qx.core.Init.getApplication().getRoot().add(this);qx.core.Init.getApplication().addListener("back",this._onBack,this);this.__parent=this.getLayoutParent();this.__parent.addCssClass("drawer-parent");this.__parent.addListener("swipe",this._onParentSwipe,this);this.__parent.addListener("pointerdown",this._onParentPointerDown,this);this.__pointerStartPosition=[0,0];this.forceHide()},events:{resize:"qx.event.type.Data"},properties:{defaultCssClass:{refine:!0,init:"drawer"},orientation:{check:"String",init:"left",apply:"_applyOrientation"},size:{check:"Integer",init:300,apply:"_applySize",event:"resize"},hideOnParentTap:{check:"Boolean",init:!0},hideOnBack:{check:"Boolean",init:!0},tapOffset:{check:"Integer",init:20},transitionDuration:{check:"Integer",init:500,apply:"_applyTransitionDuration"},positionZ:{check:["above","below"],init:"above",apply:"_applyPositionZ"}},members:{__pointerStartPosition:null,__parent:null,__transitionEnabled:null,__inTransition:null,_applyOrientation:function(e,t){this.removeCssClass(t);this.addCssClass(e);this._applySize(this.getSize())},_applyPositionZ:function(e,t){this.removeCssClass(t);this.addCssClass(e);if(this.__parent){this.__parent.setTranslateX(0);this.__parent.setTranslateY(0)}},_applySize:function(e){var t=null,i=null,n=e/16;"left"==this.getOrientation()||"right"==this.getOrientation()?i=n+"rem":t=n+"rem";this._setStyle("height",t);this._setStyle("width",i)},_applyTransitionDuration:function(e,t){this.__transitionEnabled=e>0},show:function(){if(this.isHidden()&&!0!==this.__inTransition){this.__inTransition=!0;this._setStyle("visibility","visible");this.__parent.addCssClass("blocked");"below"==this.getPositionZ()&&("left"==this.getOrientation()?this.__parent.setTranslateX(this.getSize()):"right"==this.getOrientation()?this.__parent.setTranslateX(-this.getSize()):"top"==this.getOrientation()?this.__parent.setTranslateY(this.getSize()):"bottom"==this.getOrientation()&&this.__parent.setTranslateY(-this.getSize()));if(this.getTransitionDuration()>0){this._enableTransition();var e=this._getTransitionTarget().getContentElement(),t=qx.bom.Element.addListener(e,"transitionEnd",function(i){qx.ui.mobile.container.Drawer.prototype.show.base.call(this);this._disableTransition();this.__inTransition=!1;qx.bom.Element.removeListenerById(e,t)},this);setTimeout(function(){this.removeCssClass("hidden")}.bind(this),0)}else{qx.ui.mobile.container.Drawer.prototype.show.base.call(this);this.__inTransition=!1;this.removeCssClass("hidden")}}},hide:function(){if(!this.isHidden()&&!0!==this.__inTransition){this.__inTransition=!0;if("below"==this.getPositionZ()){this.__parent.setTranslateX(0);this.__parent.setTranslateY(0)}if(this.getTransitionDuration()>0){this._enableTransition();var e=this._getTransitionTarget().getContentElement(),t=qx.bom.Element.addListener(e,"transitionEnd",function(i){qx.ui.mobile.container.Drawer.prototype.hide.base.call(this);this._disableTransition();this.__parent.removeCssClass("blocked");this.__inTransition=!1;qx.bom.Element.removeListenerById(e,t)},this);setTimeout(function(){this.addCssClass("hidden")}.bind(this),0)}else{qx.ui.mobile.container.Drawer.prototype.hide.base.call(this);this.addCssClass("hidden");this.__inTransition=!1;this.__parent.removeCssClass("blocked")}}},forceHide:function(){this._disableTransition();if("below"==this.getPositionZ()){this.__parent.setTranslateX(0);this.__parent.setTranslateY(0)}this.__parent.removeCssClass("blocked");this.addCssClass("hidden")},isHidden:function(){return this.hasCssClass("hidden")},_enableTransition:function(){qx.bom.element.Style.set(this._getTransitionTarget().getContentElement(),"transition","all "+this.getTransitionDuration()+"ms ease-in-out")},_disableTransition:function(){qx.bom.element.Style.set(this._getTransitionTarget().getContentElement(),"transition",null)},_getTransitionTarget:function(){return"below"==this.getPositionZ()?this.__parent:this},toggleVisibility:function(){if(this.isHidden()){this.show();return!0}this.hide();return!1},_onBack:function(e){if(!!e.getData()&&!this.isHidden()&&this.getHideOnBack()){e.preventDefault();this.hide()}},_onParentPointerDown:function(e){this.__pointerStartPosition=[e.getViewportLeft(),e.getViewportTop()];if(!this.hasCssClass("hidden")&&this.isHideOnParentTap()){var t=qx.bom.element.Location.get(this.getContainerElement()),i=this.getOrientation();if("left"==i&&this.__pointerStartPosition[0]>t.right||"top"==i&&this.__pointerStartPosition[1]>t.bottom||"bottom"==i&&this.__pointerStartPosition[1]<t.top||"right"==i&&this.__pointerStartPosition[0]<t.left){e.preventDefault();this.hide()}}},_onParentSwipe:function(e){var t=e.getDirection();if(this.hasCssClass("hidden")){var i=qx.bom.element.Location.get(this.getContainerElement());("right"==t&&"left"==this.getOrientation()&&this.__pointerStartPosition[0]<i.right+this.getTapOffset()&&this.__pointerStartPosition[0]>i.right||"left"==t&&"right"==this.getOrientation()&&this.__pointerStartPosition[0]>i.left-this.getTapOffset()&&this.__pointerStartPosition[0]<i.left||"down"==t&&"top"==this.getOrientation()&&this.__pointerStartPosition[1]<this.getTapOffset()+i.bottom&&this.__pointerStartPosition[1]>i.bottom||"up"==t&&"bottom"==this.getOrientation()&&this.__pointerStartPosition[1]>i.top-this.getTapOffset()&&this.__pointerStartPosition[1]<i.top)&&this.show()}}},destruct:function(){qx.core.Init.getApplication().removeListener("back",this._onBack,this);this.__parent.removeListener("swipe",this._onParentSwipe,this);this.__parent.removeListener("pointerdown",this._onParentPointerDown,this);qx.util.DisposeUtil.destroyContainer(this);this.__pointerStartPosition=this.__parent=this.__transitionEnabled=null}});qx.ui.mobile.container.Drawer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Navigation":{},"qx.ui.mobile.page.NavigationPage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.container.Navigation",{extend:qx.test.mobile.MobileTestCase,members:{testCreate:function(){var e=new qx.ui.mobile.container.Navigation;this.getRoot().add(e);e.destroy()},testAdd:function(){var e=new qx.ui.mobile.container.Navigation,t=new qx.ui.mobile.page.NavigationPage;this.getRoot().add(e);this.assertFalse(e.getContent().hasChildren());e.add(t);this.assertTrue(e.getContent().hasChildren());t.destroy();e.destroy()},testRemove:function(){var e=new qx.ui.mobile.container.Navigation,t=new qx.ui.mobile.page.NavigationPage;this.getRoot().add(e);this.assertFalse(e.getContent().hasChildren());e.add(t);this.assertTrue(e.getContent().hasChildren());e.remove(t);this.assertFalse(e.getContent().hasChildren());t.destroy();e.destroy()},testUpdateEvent:function(){var e=new qx.ui.mobile.container.Navigation,t=!1;e.addListener("update",function(){t=!0},this);var i=new qx.ui.mobile.page.NavigationPage,n=new qx.ui.mobile.page.NavigationPage;this.getRoot().add(e);e.add(i);e.add(n);n.show();this.assertTrue(t);i.destroy();n.destroy();e.destroy()}}});qx.test.mobile.container.Navigation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.layout.VBox":{construct:!0},"qx.ui.mobile.container.INavigation":{},"qx.ui.mobile.layout.Card":{},"qx.ui.mobile.navigationbar.NavigationBar":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.container.Navigation",{extend:qx.ui.mobile.container.Composite,construct:function(){qx.ui.mobile.container.Composite.constructor.call(this,new qx.ui.mobile.layout.VBox);this.__navigationBar=this._createNavigationBar();this.__navigationBar&&this._add(this.__navigationBar);this.__content=this._createContent();this._add(this.__content,{flex:1})},properties:{defaultCssClass:{refine:!0,init:"navigation"}},events:{update:"qx.event.type.Data"},members:{__navigationBar:null,__content:null,__layout:null,add:function(e){this.assertInterface(e,qx.ui.mobile.container.INavigation);this.getContent().add(e)},remove:function(e){this.assertInterface(e,qx.ui.mobile.container.INavigation);this.getContent().remove(e)},getContent:function(){return this.__content},getLayout:function(){return this.__layout},getNavigationBar:function(){return this.__navigationBar},_createContent:function(){this.__layout=new qx.ui.mobile.layout.Card;this.__layout.addListener("updateLayout",this._onUpdateLayout,this);this.__layout.addListener("animationStart",this._onAnimationStart,this);this.__layout.addListener("animationEnd",this._onAnimationEnd,this);return new qx.ui.mobile.container.Composite(this.__layout)},_onAnimationStart:function(){this.addCssClass("blocked")},_onAnimationEnd:function(){this.removeCssClass("blocked")},_onUpdateLayout:function(e){var t=e.getData(),i=t.widget;"visible"==t.action&&this._update(i)},_update:function(e){var t=this.getNavigationBar();this._setStyle("transitionDuration",e.getNavigationBarToggleDuration()+"s");if(e.isNavigationBarHidden())this.addCssClass("hidden");else{t.show();this.removeCssClass("hidden")}t.removeAll();e.basename&&this._setAttribute("data-target-page",e.basename.toLowerCase());var i=e.getLeftContainer();i&&t.add(i);var n=e.getTitleWidget();n&&t.add(n,{flex:1});var s=e.getRightContainer();s&&t.add(s);this.fireDataEvent("update",e)},_createNavigationBar:function(){return new qx.ui.mobile.navigationbar.NavigationBar}},destruct:function(){this.getLayout().removeListener("animationStart",this._onAnimationStart,this);this.getLayout().removeListener("animationEnd",this._onAnimationEnd,this);this._disposeObjects("__navigationBar","__content","__layout");this.__navigationBar=this.__content=this.__layout=null}});qx.ui.mobile.container.Navigation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.core.MResize":{require:!0},"qx.ui.mobile.layout.VBox":{construct:!0},"qx.bom.Event":{defer:"runtime"},"qx.bom.client.PhoneGap":{defer:"runtime"},"qx.bom.client.OperatingSystem":{defer:"runtime"},"qx.core.Init":{}},environment:{provided:[],required:{phonegap:{className:"qx.bom.client.PhoneGap",defer:!0},"os.name":{className:"qx.bom.client.OperatingSystem",defer:!0}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.page.Page",{extend:qx.ui.mobile.container.Composite,include:qx.ui.mobile.core.MResize,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e||new qx.ui.mobile.layout.VBox)},statics:{_currentPage:null,_onDeviceReady:function(){qx.bom.Event.addNativeListener(document,"backbutton",qx.ui.mobile.page.Page._onBackButton);qx.bom.Event.addNativeListener(document,"menubutton",qx.ui.mobile.page.Page._onMenuButton)},_onBackButton:function(){if(qx.core.Environment.get("phonegap")&&"android"==qx.core.Environment.get("os.name")){var e=!0;qx.ui.mobile.page.Page._currentPage&&(e=qx.ui.mobile.page.Page._currentPage.back(!0));e&&navigator.app.exitApp()}},_onMenuButton:function(){qx.core.Environment.get("phonegap")&&"android"==qx.core.Environment.get("os.name")&&qx.ui.mobile.page.Page._currentPage&&qx.ui.mobile.page.Page._currentPage.menu()}},events:{initialize:"qx.event.type.Event",start:"qx.event.type.Event",stop:"qx.event.type.Event",pause:"qx.event.type.Event",resume:"qx.event.type.Event",back:"qx.event.type.Data",menu:"qx.event.type.Event",wait:"qx.event.type.Event"},properties:{defaultCssClass:{refine:!0,init:"page"},lifeCycleState:{init:null,check:["initialize","start","stop","resume","wait","pause"],apply:"_applyLifeCycleState"}},members:{__initialized:!1,show:function(e){qx.ui.mobile.page.Page._currentPage&&qx.ui.mobile.page.Page._currentPage.stop();qx.ui.mobile.page.Page._currentPage=this;this.initialize();this.start();qx.ui.mobile.page.Page.prototype.show.base.call(this,e)},exclude:function(e){this.stop();qx.ui.mobile.page.Page.prototype.exclude.base.call(this,e)},back:function(e){if(qx.core.Init.getApplication().fireDataEvent("back",e,null,!0)){this.fireDataEvent("back",e);return this._back(e)||!1}return!1},_back:function(e){},menu:function(){this.fireEvent("menu")},initialize:function(){if(!this.isInitialized()){this._initialize();this.__initialized=!0;this.setLifeCycleState("initialize")}},_initialize:function(){},isInitialized:function(){return this.__initialized},start:function(){this._start();this.setLifeCycleState("start")},_start:function(){},stop:function(){if(this.isInitialized()){this._stop();this.setLifeCycleState("stop")}},_stop:function(){},pause:function(){this._pause();this.setLifeCycleState("pause")},_pause:function(){},resume:function(){this._resume();this.setLifeCycleState("resume")},_resume:function(){},wait:function(){this._wait();this.setLifeCycleState("wait")},_wait:function(){},_applyLifeCycleState:function(e,t){"start"!=e&&"stop"!=e||qx.core.Init.getApplication().fireEvent(e);this.fireEvent(e)}},defer:function(e){qx.core.Environment.get("phonegap")&&"android"==qx.core.Environment.get("os.name")&&qx.bom.Event.addNativeListener(document,"deviceready",e._onDeviceReady)}});qx.ui.mobile.page.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.mobile.container.INavigation",{members:{getTitleWidget:function(){},getLeftContainer:function(){},getRightContainer:function(){}}});qx.ui.mobile.container.INavigation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.page.Page":{construct:!0,require:!0},"qx.ui.mobile.container.INavigation":{require:!0},"qx.ui.mobile.navigationbar.Title":{},"qx.ui.mobile.layout.HBox":{},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.navigationbar.BackButton":{},"qx.ui.mobile.navigationbar.Button":{},"qx.ui.mobile.container.Scroll":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.page.NavigationPage",{extend:qx.ui.mobile.page.Page,implement:qx.ui.mobile.container.INavigation,construct:function(e,t){qx.ui.mobile.page.Page.constructor.call(this);null!=e&&(this._wrapContentByGroup=e)},events:{action:"qx.event.type.Event"},properties:{title:{check:"String",init:"",event:"changeTitle",apply:"_applyTitle"},backButtonText:{check:"String",init:"",apply:"_applyBackButtonText"},buttonText:{check:"String",init:"",apply:"_applyActionButtonText"},buttonIcon:{check:"String",init:null,nullable:!0,apply:"_applyActionButtonIcon"},showBackButton:{check:"Boolean",init:!1,apply:"_applyShowBackButton"},showBackButtonOnTablet:{check:"Boolean",init:!1},showButton:{check:"Boolean",init:!1,apply:"_applyShowButton"},navigationBarHidden:{check:"Boolean",init:!1},navigationBarToggleDuration:{check:"Number",init:.8},contentCssClass:{check:"String",init:"content",nullable:!0,apply:"_applyContentCssClass"}},members:{_isTablet:!1,_wrapContentByGroup:!0,__backButton:null,__actionButton:null,__content:null,__scrollContainer:null,__title:null,__leftContainer:null,__rightContainer:null,getTitleWidget:function(){this.__title||(this.__title=this._createTitleWidget());return this.__title},_createTitleWidget:function(){return new qx.ui.mobile.navigationbar.Title(this.getTitle())},_applyTitle:function(e,t){this.__title&&this.__title.setValue(e)},getLeftContainer:function(){this.__leftContainer||(this.__leftContainer=this._createLeftContainer());return this.__leftContainer},getRightContainer:function(){this.__rightContainer||(this.__rightContainer=this._createRightContainer());return this.__rightContainer},_createLeftContainer:function(){var e=new qx.ui.mobile.layout.HBox,t=new qx.ui.mobile.container.Composite(e);t.addCssClass("left-container");this.__backButton=this._createBackButton();this.__backButton.addListener("tap",this._onBackButtonTap,this);this._showBackButton();t.add(this.__backButton);return t},_createRightContainer:function(){var e=new qx.ui.mobile.layout.HBox,t=new qx.ui.mobile.container.Composite(e);t.addCssClass("right-container");this.__actionButton=this._createButton();this.__actionButton.addListener("tap",this._onButtonTap,this);this._showButton();t.add(this.__actionButton);return t},_createBackButton:function(){return new qx.ui.mobile.navigationbar.BackButton(this.getBackButtonText())},_createButton:function(){return new qx.ui.mobile.navigationbar.Button(this.getButtonText(),this.getButtonIcon())},getContent:function(){return this.__content},_getBackButton:function(){return this.__backButton},_getButton:function(){return this.__actionButton},setIsTablet:function(e){this._isTablet=e},isTablet:function(){return this._isTablet},_getScrollContainer:function(){return this.__scrollContainer},addAfterNavigationBar:function(e){e&&this.__scrollContainer&&this.addBefore(e,this.__scrollContainer)},_applyBackButtonText:function(e,t){this.__backButton&&this.__backButton.setValue(e)},_applyActionButtonText:function(e,t){this.__actionButton&&this.__actionButton.setValue(e)},_applyActionButtonIcon:function(e,t){this.__actionButton&&this.__actionButton.setIcon(e)},_applyShowBackButton:function(e,t){this._showBackButton()},_applyShowButton:function(e,t){this._showButton()},_applyContentCssClass:function(e,t){this.__content&&this.__content.setDefaultCssClass(e)},_showBackButton:function(){this.__backButton&&(this.getShowBackButton()?this.__backButton.show():this.__backButton.exclude())},_showButton:function(){this.__actionButton&&(this.getShowButton()?this.__actionButton.show():this.__actionButton.exclude())},_initialize:function(){qx.ui.mobile.page.NavigationPage.prototype._initialize.base.call(this);this.__scrollContainer=this._createScrollContainer();this.__content=this._createContent();this.__content&&this.__scrollContainer.add(this.__content,{flex:1});this.__scrollContainer&&this.add(this.__scrollContainer,{flex:1})},_createScrollContainer:function(){return new qx.ui.mobile.container.Scroll},_createContent:function(){var e=new qx.ui.mobile.container.Composite;e.setDefaultCssClass(this.getContentCssClass());1==this._wrapContentByGroup&&e.addCssClass("group");return e},_onBackButtonTap:function(e){this.back()},_onButtonTap:function(e){this.fireEvent("action")}},destruct:function(){this._disposeObjects("__leftContainer","__rightContainer","__backButton","__actionButton","__title");this.__leftContainer=this.__rightContainer=this.__backButton=this.__actionButton=null;this.__title=this.__content=this.__scrollContainer=null;this._isTablet=null}});qx.ui.mobile.page.NavigationPage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.Transition":{},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.layout.Abstract":{construct:!0,require:!0},"qx.ui.mobile.layout.CardAnimation":{construct:!0},"qx.bom.client.CssTransform":{},"qx.bom.AnimationFrame":{},"qx.ui.mobile.core.MResize":{},"qx.event.Registration":{},"qx.bom.element.Class":{},"qx.bom.element.Animation":{}},environment:{provided:[],required:{"css.transform.3d":{className:"qx.bom.client.CssTransform"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.Card",{extend:qx.ui.mobile.layout.Abstract,construct:function(){qx.ui.mobile.layout.Abstract.constructor.call(this);this.__cardAnimation=new qx.ui.mobile.layout.CardAnimation},events:{animationStart:"qx.event.type.Data",animationEnd:"qx.event.type.Data"},properties:{defaultAnimation:{check:"String",init:"slide"},showAnimation:{check:"Boolean",init:!0},animationDuration:{check:"Integer",init:350}},members:{__nextWidget:null,__currentWidget:null,__inAnimation:null,__animation:null,__reverse:null,__cardAnimation:null,_getCssClasses:function(){return["layout-card","qx-vbox"]},connectToChildWidget:function(e){qx.ui.mobile.layout.Card.prototype.connectToChildWidget.base.call(this);if(e){e.addCssClass("layout-card-item");e.addCssClass("qx-flex1");e.exclude()}},disconnectFromChildWidget:function(e){qx.ui.mobile.layout.Card.prototype.disconnectFromChildWidget.base.call(this);e.removeCssClass("layout-card-item")},updateLayout:function(e,t,i){"visible"==t&&this._showWidget(e,i);qx.ui.mobile.layout.Card.prototype.updateLayout.base.call(this,e,t,i)},setCardAnimation:function(e){this.__cardAnimation=e},getCardAnimation:function(){return this.__cardAnimation},_showWidget:function(e,t){if(this.__nextWidget!=e){this.__inAnimation&&this.__stopAnimation();this.__nextWidget=e;if(this.__currentWidget&&this.getShowAnimation()&&qx.core.Environment.get("css.transform.3d")){if(null===(t=t||{}).animation||null===this.getCardAnimation().getMap()[t.animation]){this._swapWidget();return}this.__animation=t.animation||this.getDefaultAnimation();if(t.action&&"back"===t.action)this.__reverse=!0;else{t.reverse=null!==t.reverse&&t.reverse;this.__reverse=t.reverse}qx.bom.AnimationFrame.request(function(){this.__startAnimation(e)},this)}else this._swapWidget()}},_swapWidget:function(){if(this.__currentWidget){this.__currentWidget.removeCssClass("active");this.__currentWidget.exclude()}this.__currentWidget=this.__nextWidget;this.__currentWidget.addCssClass("active")},_fixWidgetSize:function(e){if(e){qx.Class.hasMixin(e.constructor,qx.ui.mobile.core.MResize)&&e.fixSize()}},_releaseWidgetSize:function(e){if(e){qx.Class.hasMixin(e.constructor,qx.ui.mobile.core.MResize)&&e.releaseFixedSize()}},__startAnimation:function(e){if(!e.isDisposed()){this.__inAnimation=!0;this.fireDataEvent("animationStart",[this.__currentWidget,e]);var t=this.__currentWidget.getContainerElement(),i=e.getContainerElement();qx.event.Registration.addListener(t,"animationEnd",this._onAnimationEnd,this);qx.event.Registration.addListener(i,"animationEnd",this._onAnimationEnd,this);var n=this.__getAnimationClasses("out"),s=this.__getAnimationClasses("in");this._widget.addCssClass("animationParent");var r=this.__cardAnimation.getAnimation(this.__animation,"in",this.__reverse),o=this.__cardAnimation.getAnimation(this.__animation,"out",this.__reverse);qx.bom.element.Class.addClasses(i,s);qx.bom.element.Class.addClasses(t,n);qx.bom.element.Animation.animate(i,r);qx.bom.element.Animation.animate(t,o)}},_onAnimationEnd:function(e){this.__stopAnimation();this.fireDataEvent("animationEnd",[this.__currentWidget,this.__nextWidget])},__stopAnimation:function(){if(this.__inAnimation){var e=this.__currentWidget.getContainerElement(),t=this.__nextWidget.getContainerElement();qx.event.Registration.removeListener(e,"animationEnd",this._onAnimationEnd,this);qx.event.Registration.removeListener(t,"animationEnd",this._onAnimationEnd,this);qx.bom.element.Class.removeClasses(e,this.__getAnimationClasses("out"));qx.bom.element.Class.removeClasses(t,this.__getAnimationClasses("in"));this._swapWidget();this._widget.removeCssClass("animationParent");this.__inAnimation=!1}},__getAnimationClasses:function(e){var t=["animationChild",this.__animation,e];this.__reverse&&t.push("reverse");return t}},destruct:function(){this._disposeObjects("__cardAnimation")}});qx.ui.mobile.layout.Card.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.navigationbar.NavigationBar",{extend:qx.ui.mobile.container.Composite,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e);e||this.setLayout((new qx.ui.mobile.layout.HBox).set({alignY:"middle"}))},properties:{defaultCssClass:{refine:!0,init:"navigationbar"}}});qx.ui.mobile.navigationbar.NavigationBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.basic.Label":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.navigationbar.Title",{extend:qx.ui.mobile.basic.Label,properties:{wrap:{refine:!0,init:!1},defaultCssClass:{refine:!0,init:"title"}},members:{_getTagName:function(){return"h1"}}});qx.ui.mobile.navigationbar.Title.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Button":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.navigationbar.Button",{extend:qx.ui.mobile.form.Button,properties:{defaultCssClass:{refine:!0,init:"navigationbar-button"}}});qx.ui.mobile.navigationbar.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.navigationbar.Button":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.navigationbar.BackButton",{extend:qx.ui.mobile.navigationbar.Button,properties:{defaultCssClass:{refine:!0,init:"navigationbar-backbutton"}}});qx.ui.mobile.navigationbar.BackButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Function":{construct:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.bom.client.Engine":{require:!0},"qx.core.ObjectRegistry":{},"qx.bom.Event":{},"qx.event.GlobalError":{usage:"dynamic",require:!0},"qx.event.type.Event":{},"qx.bom.client.CssAnimation":{defer:"runtime"},"qx.bom.client.CssTransition":{defer:"runtime"}},environment:{provided:[],required:{"engine.name":{load:!0,className:"qx.bom.client.Engine"},"css.animation":{defer:!0,className:"qx.bom.client.CssAnimation"},"css.transition":{defer:!0,className:"qx.bom.client.CssTransition"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.Transition",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__registeredEvents={};this.__onEventWrapper=qx.lang.Function.listener(this._onNative,this)},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{transitionEnd:1,animationEnd:1,animationStart:1,animationIteration:1},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!0,TYPE_TO_NATIVE:null,NATIVE_TO_TYPE:null},members:{__onEventWrapper:null,__registeredEvents:null,canHandleEvent:function(e,t){},registerEvent:qx.core.Environment.select("engine.name",{webkit:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+t,s=qx.event.handler.Transition.TYPE_TO_NATIVE[t];this.__registeredEvents[n]={target:e,type:s};qx.bom.Event.addNativeListener(e,s,this.__onEventWrapper)},gecko:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+t,s=qx.event.handler.Transition.TYPE_TO_NATIVE[t];this.__registeredEvents[n]={target:e,type:s};qx.bom.Event.addNativeListener(e,s,this.__onEventWrapper)},mshtml:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e)+t,s=qx.event.handler.Transition.TYPE_TO_NATIVE[t];this.__registeredEvents[n]={target:e,type:s};qx.bom.Event.addNativeListener(e,s,this.__onEventWrapper)},default:function(){}}),unregisterEvent:qx.core.Environment.select("engine.name",{webkit:function(e,t,i){var n=this.__registeredEvents;if(n){var s=qx.core.ObjectRegistry.toHashCode(e)+t;n[s]&&delete n[s];qx.bom.Event.removeNativeListener(e,qx.event.handler.Transition.TYPE_TO_NATIVE[t],this.__onEventWrapper)}},gecko:function(e,t,i){var n=this.__registeredEvents;if(n){var s=qx.core.ObjectRegistry.toHashCode(e)+t;n[s]&&delete n[s];qx.bom.Event.removeNativeListener(e,qx.event.handler.Transition.TYPE_TO_NATIVE[t],this.__onEventWrapper)}},mshtml:function(e,t,i){var n=this.__registeredEvents;if(n){var s=qx.core.ObjectRegistry.toHashCode(e)+t;n[s]&&delete n[s];qx.bom.Event.removeNativeListener(e,qx.event.handler.Transition.TYPE_TO_NATIVE[t],this.__onEventWrapper)}},default:function(){}}),_onNative:qx.event.GlobalError.observeMethod(function(e){qx.event.Registration.fireEvent(e.target,qx.event.handler.Transition.NATIVE_TO_TYPE[e.type],qx.event.type.Event)})},destruct:function(){var e,t=this.__registeredEvents;for(var i in t)(e=t[i]).target&&qx.bom.Event.removeNativeListener(e.target,e.type,this.__onEventWrapper);this.__registeredEvents=this.__onEventWrapper=null},defer:function(e){var t=qx.core.Environment.get("css.animation")||{},i=qx.core.Environment.get("css.transition")||{},n=qx.event.handler.Transition.NATIVE_TO_TYPE={},s=qx.event.handler.Transition.TYPE_TO_NATIVE={transitionEnd:i["end-event"]||null,animationStart:t["start-event"]||null,animationEnd:t["end-event"]||null,animationIteration:t["iteration-event"]||null};for(var r in s){n[s[r]]=r}qx.event.Registration.addHandler(e)}});qx.event.handler.Transition.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.Animation":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.layout.CardAnimation",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this._cardAnimationsMap={none:null,slide:{in:qx.util.Animation.SLIDE_LEFT_IN,out:qx.util.Animation.SLIDE_LEFT_OUT,reverse:{in:qx.util.Animation.SLIDE_RIGHT_IN,out:qx.util.Animation.SLIDE_RIGHT_OUT}},fade:{in:qx.util.Animation.FADE_IN,out:qx.util.Animation.FADE_OUT,reverse:{in:qx.util.Animation.FADE_IN,out:qx.util.Animation.FADE_OUT}},pop:{in:qx.util.Animation.POP_IN,out:qx.util.Animation.POP_OUT,reverse:{in:qx.util.Animation.POP_IN,out:qx.util.Animation.POP_OUT}},slideup:{in:qx.util.Animation.SLIDE_UP_IN,out:qx.util.Animation.SLIDE_UP_OUT,reverse:{in:qx.util.Animation.SLIDE_DOWN_IN,out:qx.util.Animation.SLIDE_DOWN_OUT}},flip:{in:qx.util.Animation.FLIP_LEFT_IN,out:qx.util.Animation.FLIP_LEFT_OUT,reverse:{in:qx.util.Animation.FLIP_RIGHT_IN,out:qx.util.Animation.FLIP_RIGHT_OUT}},swap:{in:qx.util.Animation.SWAP_LEFT_IN,out:qx.util.Animation.SWAP_LEFT_OUT,reverse:{in:qx.util.Animation.SWAP_RIGHT_IN,out:qx.util.Animation.SWAP_RIGHT_OUT}},cube:{in:qx.util.Animation.CUBE_LEFT_IN,out:qx.util.Animation.CUBE_LEFT_OUT,reverse:{in:qx.util.Animation.CUBE_RIGHT_IN,out:qx.util.Animation.CUBE_RIGHT_OUT}}}},members:{_cardAnimationsMap:null,getAnimation:function(e,t,i){if(i){this.assertNotUndefined(this._cardAnimationsMap[e],"Animation Reverse'"+e+"' is not defined.");this.assertNotUndefined(this._cardAnimationsMap[e].reverse,"Animation Reverse'"+e+"' is not defined.");this.assertNotUndefined(this._cardAnimationsMap[e].reverse[t],"Animation Reverse'"+e+" "+t+"' is not defined.")}else{this.assertNotUndefined(this._cardAnimationsMap[e],"Animation '"+e+"' is not defined.");this.assertNotUndefined(this._cardAnimationsMap[e][t],"Animation '"+e+" "+t+"' is not defined.")}var n=this._cardAnimationsMap[e];return i?n.reverse[t]:n[t]},getMap:function(){return this._cardAnimationsMap}},destruct:function(){this._cardAnimationsMap=null}});qx.ui.mobile.layout.CardAnimation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Bootstrap":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Bootstrap.define("qx.util.Animation",{statics:{SLIDE_LEFT_IN:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{translate:["100%"]},100:{translate:["0%"]}}},SLIDE_LEFT_OUT:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{translate:["0px"]},100:{translate:["-100%"]}}},SLIDE_RIGHT_IN:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{translate:["-100%"]},100:{translate:["0%"]}}},SLIDE_RIGHT_OUT:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{translate:["0px"]},100:{translate:["100%"]}}},FADE_IN:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{opacity:["0"]},100:{opacity:["1"]}}},FADE_OUT:{duration:350,timing:"linear",origin:"bottom center",keyFrames:{0:{opacity:["1"]},100:{opacity:["0"]}}},POP_IN:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{scale:[".2",".2"]},100:{scale:["1","1"]}}},POP_OUT:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{scale:["1","1"]},100:{scale:[".2",".2"]}}},SHRINK_HEIGHT:{duration:400,timing:"linear",origin:"top center",keep:100,keyFrames:{0:{scale:["1","1"],opacity:1},100:{scale:["1","0"],opacity:0}}},GROW_HEIGHT:{duration:400,timing:"linear",origin:"top center",keep:100,keyFrames:{0:{scale:["1","0"],opacity:0},100:{scale:["1","1"],opacity:1}}},SHRINK_WIDTH:{duration:400,timing:"linear",origin:"left center",keep:100,keyFrames:{0:{scale:["1","1"],opacity:1},100:{scale:["0","1"],opacity:0}}},GROW_WIDTH:{duration:400,timing:"linear",origin:"left center",keep:100,keyFrames:{0:{scale:["0","1"],opacity:0},100:{scale:["1","1"],opacity:1}}},SHRINK:{duration:400,timing:"linear",origin:"left top",keep:100,keyFrames:{0:{scale:["1","1"],opacity:1},100:{scale:["0","0"],opacity:0}}},GROW:{duration:400,timing:"linear",origin:"left top",keep:100,keyFrames:{0:{scale:["0","0"],opacity:0},100:{scale:["1","1"],opacity:1}}},SLIDE_UP_IN:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{translate:["0px","100%"]},100:{translate:["0px","0px"]}}},SLIDE_UP_OUT:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{translate:["0px","0px"]},100:{translate:["0px","0px"]}}},SLIDE_DOWN_IN:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{translate:["0px","0px"]},100:{translate:["0px","0px"]}}},SLIDE_DOWN_OUT:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{translate:["0px","0px"]},100:{translate:["0px","100%"]}}},FLIP_LEFT_IN:{duration:350,timing:"linear",origin:"center",keyFrames:{0:{opacity:0},49:{opacity:0},50:{rotate:["0deg","90deg"],scale:[".8","1"],opacity:1},100:{rotate:["0deg","0deg"],scale:["1","1"],opacity:1}}},FLIP_LEFT_OUT:{duration:350,timing:"linear",origin:"center center",keyFrames:{0:{rotate:["0deg","0deg"],scale:["1","1"]},100:{rotate:["0deg","-180deg"],scale:[".8","1"]}}},FLIP_RIGHT_IN:{duration:350,timing:"linear",origin:"center center",keyFrames:{0:{opacity:0},49:{opacity:0},50:{rotate:["0deg","-90deg"],scale:[".8","1"],opacity:1},100:{rotate:["0deg","0deg"],scale:["1","1"],opacity:1}}},FLIP_RIGHT_OUT:{duration:350,timing:"linear",origin:"center center",keyFrames:{0:{rotate:["0deg","0deg"],scale:["1","1"]},100:{rotate:["0deg","180deg"],scale:[".8","1"]}}},SWAP_LEFT_IN:{duration:700,timing:"ease-out",origin:"center center",keyFrames:{0:{rotate:["0deg","-70deg"],translate:["0px","0px","-800px"],opacity:"0"},35:{rotate:["0deg","-20deg"],translate:["-180px","0px","-400px"],opacity:"1"},100:{rotate:["0deg","0deg"],translate:["0px","0px","0px"],opacity:"1"}}},SWAP_LEFT_OUT:{duration:700,timing:"ease-out",origin:"center center",keyFrames:{0:{rotate:["0deg","0deg"],translate:["0px","0px","0px"],opacity:"1"},35:{rotate:["0deg","20deg"],translate:["-180px","0px","-400px"],opacity:".5"},100:{rotate:["0deg","70deg"],translate:["0px","0px","-800px"],opacity:"0"}}},SWAP_RIGHT_IN:{duration:700,timing:"ease-out",origin:"center center",keyFrames:{0:{rotate:["0deg","70deg"],translate:["0px","0px","-800px"],opacity:"0"},35:{rotate:["0deg","20deg"],translate:["-180px","0px","-400px"],opacity:"1"},100:{rotate:["0deg","0deg"],translate:["0px","0px","0px"],opacity:"1"}}},SWAP_RIGHT_OUT:{duration:700,timing:"ease-out",origin:"center center",keyFrames:{0:{rotate:["0deg","0deg"],translate:["0px","0px","0px"],opacity:"1"},35:{rotate:["0deg","-20deg"],translate:["180px","0px","-400px"],opacity:".5"},100:{rotate:["0deg","-70deg"],translate:["0px","0px","-800px"],opacity:"0"}}},CUBE_LEFT_IN:{duration:550,timing:"linear",origin:"100% 50%",keyFrames:{0:{rotate:["0deg","90deg"],scale:".5",translate:["0","0","0px"],opacity:[".5"]},100:{rotate:["0deg","0deg"],scale:"1",translate:["0","0","0"],opacity:["1"]}}},CUBE_LEFT_OUT:{duration:550,timing:"linear",origin:"0% 50%",keyFrames:{0:{rotate:["0deg","0deg"],scale:"1",translate:["0","0","0px"],opacity:["1"]},100:{rotate:["0deg","-90deg"],scale:".5",translate:["0","0","0"],opacity:[".5"]}}},CUBE_RIGHT_IN:{duration:550,timing:"linear",origin:"0% 50%",keyFrames:{0:{rotate:["0deg","-90deg"],scale:".5",translate:["0","0","0px"],opacity:[".5"]},100:{rotate:["0deg","0deg"],scale:"1",translate:["0","0","0"],opacity:["1"]}}},CUBE_RIGHT_OUT:{duration:550,timing:"linear",origin:"100% 50%",keyFrames:{0:{rotate:["0deg","0deg"],scale:"1",translate:["0","0","0px"],opacity:["1"]},100:{rotate:["0deg","90deg"],scale:".5",translate:["0","0","0"],opacity:[".5"]}}}}});qx.util.Animation.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Scroll":{},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.container.Scroll",{extend:qx.test.mobile.MobileTestCase,members:{testCreate:function(){var e=new qx.ui.mobile.container.Scroll;this.getRoot().add(e);e.destroy()},testHorizontalWayPoint:function(){var e=new qx.ui.mobile.container.Scroll;e.setWaypointsX([200]);qxWeb(e.getContainerElement()).setStyle("overflow","hidden");e.addListener("waypoint",function(e){var t=e.getData();this.resume(function(){this.assertEquals("x",t.axis);this.assertEquals(0,t.index);this.assertEquals("left",t.direction)},this)},this);var t=new qx.ui.mobile.core.Widget;qxWeb(t.getContainerElement()).setStyles({width:"5000px",height:"5000px"});e.add(t);this.getRoot().add(e);e._updateWaypoints();setTimeout(function(){e._setCurrentX(250)},100);this.wait()}}});qx.test.mobile.container.Scroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.core.Widget":{},"qx.bom.element.Class":{},"qx.locale.MTranslation":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.core.Widget",{extend:qx.test.mobile.MobileTestCase,members:{testCreate:function(){var e=(new qx.ui.mobile.core.Widget).set({id:"affe"});this.getRoot().add(e);var t=document.getElementById("affe");this.assertElement(t);e.destroy()},testNameProperty:function(){var e=(new qx.ui.mobile.core.Widget).set({name:"affe"});this.getRoot().add(e);var t=document.getElementsByName("affe")[0];this.assertElement(t);var i=e.getName();this.assertEquals(i,"affe");e.destroy()},testSetCssClass:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);var t=e.getContainerElement(),i=qx.bom.element.Class.get(t);this.assertEquals(i,"");e.setDefaultCssClass("affe");i=qx.bom.element.Class.get(t);this.assertEquals(i,"affe");e.setDefaultCssClass("bar");i=qx.bom.element.Class.get(t);this.assertEquals(i,"bar");e.destroy()},testAddRemoveCssClass:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);var t=e.getContainerElement(),i=qx.bom.element.Class.get(t);this.assertEquals(i,"");e.addCssClass("affe");this.assertTrue(e.hasCssClass("affe"));e.removeCssClass("affe");this.assertFalse(e.hasCssClass("affe"));e.destroy()},testAutoId:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);var t=qx.ui.mobile.core.Widget,i=t.ID_PREFIX+(t.getCurrentId()-1),n=document.getElementById(i);this.assertElement(n);var s=e.getId();this.assertEquals(s,i);e.destroy()},testWidgetRegistration:function(){var e=new qx.ui.mobile.core.Widget,t=e.getId();e=qx.ui.mobile.core.Widget.getWidgetById(t);this.assertQxMobileWidget(e);e.destroy()},testWidgetRegistrationSameId:function(){var e=(new qx.ui.mobile.core.Widget).set({id:"affe"});this.assertException(function(){(new qx.ui.mobile.core.Widget).set({id:"affe"})});e.destroy()},testTranslationAvailable:function(){var e=new qx.ui.mobile.core.Widget;this.assertTrue(qx.Class.hasMixin(qx.ui.mobile.core.Widget,qx.locale.MTranslation),"No translation mixin found");this.assertFunction(e.tr);e.destroy()},testDestroy:function(){var e=new qx.ui.mobile.core.Widget,t=e.getId();e.destroy();e=qx.ui.mobile.core.Widget.getWidgetById(t);this.assertUndefined(e);var i=document.getElementById(t);this.assertNull(i)},testDomUpdatedFired:function(){var e=new qx.ui.mobile.core.Widget;this.assertEventNotFired(e,"domupdated",qx.ui.mobile.core.Widget.domUpdated);this.getRoot().add(e);this.assertEventFired(e,"domupdated",qx.ui.mobile.core.Widget.domUpdated);e.destroy()},testVisibility:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);this.__assertShow(e);e.exclude();this.assertFalse(e.isVisible(),"Exclude: Widget should not be visible");this.assertTrue(e.isExcluded(),"Exclude: Widget should be excluded");this.assertTrue(e.isHidden(),"Exclude: Widget should be hidden");this.assertTrue(e.hasCssClass("exclude"),"Exclude: No exclude class set");this.assertEquals("visible",e._getStyle("visibility"),"Exclude: Visibility style should be null");e.show();this.__assertShow(e);e.hide();this.assertFalse(e.isVisible(),"Hide: Widget should not be visible");this.assertFalse(e.isExcluded(),"Hide: Widget should not be excluded");this.assertTrue(e.isHidden(),"Hide: Widget should be hidden");this.assertTrue(e.isSeeable(),"Hide: Widget should be seeable");this.assertEquals("block",e._getStyle("display"),"Hide: Display style should be block");this.assertFalse(e.hasCssClass("exclude"),"Hide: Exclude class set");this.assertEquals("hidden",e._getStyle("visibility"),"Hide: Visibility style should be hidden");e.show();this.__assertShow(e);e.destroy()},__assertShow:function(e){this.assertTrue(e.isVisible(),"Show: Widget should be visible");this.assertFalse(e.isExcluded(),"Show: Widget should not be excluded");this.assertFalse(e.isHidden(),"Show: Widget should not be hidden");this.assertTrue(e.isSeeable(),"Show: Widget should be seeable");this.assertEquals("block",e._getStyle("display"),"Show: Display style should be block");this.assertFalse(e.hasCssClass("exclude"),"Hide: Exclude class set");this.assertEquals("visible",e._getStyle("visibility"),"Show: Visibility style should be visible")},testEnabled:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);this.assertEquals(!0,e.getEnabled());this.assertFalse(qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));this.assertEquals("none",qx.bom.element.Style.get(e.getContainerElement(),"pointerEvents"));e.destroy();e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);e.setEnabled(!0);e.setAnonymous(!0);this.assertFalse(qx.bom.element.Class.has(e.getContainerElement(),"disabled"));this.assertEquals("none",qx.bom.element.Style.get(e.getContainerElement(),"pointerEvents"));e.setEnabled(!1);this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));this.assertEquals("none",qx.bom.element.Style.get(e.getContainerElement(),"pointerEvents"));e.setEnabled(!0);this.assertEquals("none",qx.bom.element.Style.get(e.getContainerElement(),"pointerEvents"));e.destroy()},testToggleCss:function(){var e=new qx.ui.mobile.core.Widget;this.getRoot().add(e);e.toggleCssClass("test");this.assertTrue(e.hasCssClass("test"));e.toggleCssClass("test");this.assertFalse(e.hasCssClass("test"));e.destroy()}}});qx.test.mobile.core.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.Array":{},"qx.ui.mobile.dialog.Menu":{},"qx.bom.element.Style":{},"qx.bom.element.Dimension":{},"qx.ui.mobile.dialog.Popup":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.dialog.Menu",{extend:qx.test.mobile.MobileTestCase,include:[qx.dev.unit.MMock],members:{testInit:function(){var e=new qx.data.Array(["item1","item2","item3"]),t=new qx.data.Array(["item4","item5","item6"]),i=new qx.ui.mobile.dialog.Menu(e);i.setSelectedIndex(2);i.setItems(t);i.setSelectedIndex(1);i.destroy()},testSetListHeight:function(){var e=new qx.data.Array(["item1","item2","item3"]),t=new qx.ui.mobile.dialog.Menu(e);t.setVisibleListItems(2);t.show();var i=2*t.getSelectionList().getListItemHeight(),n=qx.bom.element.Style.get(t._getListScroller().getContentElement(),"height");n=Math.floor(100*parseFloat(n,10));i=Math.floor(100*i);this.assertEquals(n,i);t.destroy()},testMaxListHeight:function(){var e=this.stub(qx.bom.element.Dimension,"getHeight",function(){return 500}),t=new qx.data.Array(["item1","item2","item3","item1","item2","item3","item1","item2","item3","item1","item2","item3","item2","item3","item2","item3","item1","item2","item3","item1","item2","item3"]),i=new qx.ui.mobile.dialog.Menu(t);i.setVisibleListItems(1e3);i.show();var n=qx.ui.mobile.dialog.Popup.ROOT.getHeight();n=parseInt(n,10);n*=.75;var s=parseInt(n,10),r=qx.bom.element.Style.get(i._getListScroller().getContentElement(),"height");r=parseInt(r,10);this.assertEquals(s,r);i.destroy();e.restore()}}});qx.test.mobile.dialog.Menu.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.basic.Label":{},"qx.ui.mobile.dialog.Popup":{},"qx.ui.mobile.core.Blocker":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.dialog.Popup",{extend:qx.test.mobile.MobileTestCase,members:{testShow:function(){var e=new qx.ui.mobile.basic.Label("test"),t=new qx.ui.mobile.dialog.Popup(e);this.assertFalse(t.isVisible());t.show();this.assertTrue(t.isVisible());e.destroy();t.destroy()},testShowHide:function(){this.require(["debug"]);var e=new qx.ui.mobile.dialog.Popup,t=qx.ui.mobile.core.Blocker.getInstance();t.forceHide();e.setModal(!1);e.show();this.assertTrue(e.isVisible(),"popup should be visible.");this.assertFalse(t.isShown(),"Modal mode is false, blocker should be still hidden.");e.hide();this.assertFalse(e.isVisible(),"popup should not be visible.");this.assertFalse(t.isShown(),"Modal mode is false, called popup.hide(), blocker should be still hidden.");e.show();this.assertFalse(t.isShown(),"Modal mode is false, called popup.show(), blocker should be still hidden.");this.assertTrue(e.isVisible(),"popup should be visible.");e.setModal(!0);e.show();this.assertTrue(t.isShown(),"Modal mode is true, called popup.show(), Blocker should be shown.");e.hide();this.assertFalse(t.isShown(),"Modal mode is true, called dialog.hide(), Blocker should not be shown.");e.destroy()},hasDebug:function(){return!0}}});qx.test.mobile.dialog.Popup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.embed.Html":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.embed.Html",{extend:qx.test.mobile.MobileTestCase,members:{testHtml:function(){var e=new qx.ui.mobile.embed.Html("<strong>affe</strong>");this.getRoot().add(e);this.assertString(e.getHtml());this.assertEquals(e.getHtml(),"<strong>affe</strong>");this.assertEquals(e.getHtml(),e.getContentElement().innerHTML);this.assertEventFired(e,"changeHtml",function(){e.setHtml("")});this.assertEquals(e.getHtml(),"");this.assertEquals(e.getHtml(),e.getContentElement().innerHTML);e.destroy()}}});qx.test.mobile.embed.Html.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.embed.Html",{extend:qx.ui.mobile.core.Widget,construct:function(e){qx.ui.mobile.core.Widget.constructor.call(this);e&&this.setHtml(e)},properties:{html:{check:"String",init:null,nullable:!0,event:"changeHtml",apply:"_applyHtml"}},members:{_applyHtml:function(e,t){this._setHtml(e)}}});qx.ui.mobile.embed.Html.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.Button",{extend:qx.test.mobile.MobileTestCase,members:{testLabel:function(){var e=new qx.ui.mobile.form.Button("affe");this.getRoot().add(e);this.assertString(e.getLabel());this.assertEquals("affe",e.getLabel());this.assertEquals(e.getLabel(),e.getLabelWidget().getContentElement().innerHTML);this.assertEventFired(e,"changeLabel",function(){e.setLabel("")});this.assertEquals("",e.getLabel());this.assertEquals(e.getLabel(),e.getLabelWidget().getContentElement().innerHTML);e.destroy()}}});qx.test.mobile.form.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.CheckBox":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.CheckBox",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.form.CheckBox(!1);this.getRoot().add(e);this.assertEquals(!1,e.getValue());this.assertEquals(!1,qxWeb(e.getContainerElement()).hasClass("checked"));e.setValue(!0);this.assertEquals(!0,e.getValue());this.assertEquals(!0,qxWeb(e.getContainerElement()).hasClass("checked"));e.destroy()},testEnabled:function(){var e=new qx.ui.mobile.form.CheckBox;this.getRoot().add(e);e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.CheckBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.renderer.Single":{},"qx.bom.element.Class":{},"qx.ui.mobile.form.Form":{},"qx.ui.mobile.form.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.Form",{extend:qx.test.mobile.MobileTestCase,members:{__username:null,testValidation:function(){var e=this.__createForm(),t=new qx.ui.mobile.form.renderer.Single(e);this.getRoot().add(t);this.assertFalse(e.validate());this.assertEquals(2,t._getChildren()[1].getChildren().length);this.assertTrue(qx.bom.element.Class.has(t._getChildren()[1].getChildren()[1].getContainerElement(),"invalid"));this.__username.setValue("myusername");this.assertTrue(e.validate());this.assertEquals(2,t._getChildren()[1].getChildren().length);this.assertFalse(qx.bom.element.Class.has(t._getChildren()[1]._getChildren()[1].getContainerElement(),"invalid"));this.__username.dispose();t.dispose();e.dispose()},__createForm:function(){var e=new qx.ui.mobile.form.Form,t=e.getValidationManager(),i=this.__username=(new qx.ui.mobile.form.TextField).set({placeholder:"Username"});i.setRequired(!0);e.add(i,"Username: ");t.add(i,function(e,t){var i=null!=e&&e.length>3;i||t.setInvalidMessage("username should have more than 3 characters!");return i},this);return e}}});qx.test.mobile.form.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.Button":{},"qx.ui.mobile.form.Group":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.Group",{extend:qx.test.mobile.MobileTestCase,members:{testGroup:function(){var e=new qx.ui.mobile.form.Button("affe"),t=new qx.ui.mobile.form.Group;t.add(e);this.getRoot().add(e);t.destroy();e.destroy()}}});qx.test.mobile.form.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Group",{extend:qx.ui.mobile.container.Composite,construct:function(e,t){qx.ui.mobile.container.Composite.constructor.call(this);this.addCssClass("bordered");null!=t&&this.setShowBorder(t);if(e)for(var i=0;i<e.length;i++)this.add(e[i])},properties:{defaultCssClass:{refine:!0,init:"group"},showBorder:{check:"Boolean",init:!0,apply:"_onChangeShowBorder"}},members:{_onChangeShowBorder:function(){1==this.isShowBorder()?this.addCssClass("bordered"):this.removeCssClass("bordered")}}});qx.ui.mobile.form.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.Label":{},"qx.ui.mobile.form.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.Label",{extend:qx.test.mobile.MobileTestCase,members:{testLabelForTarget:function(){var e=new qx.ui.mobile.form.Label("foo-label"),t=new qx.ui.mobile.form.TextField("foo");e.setLabelFor(t.getId());var i=e.getContentElement().getAttribute("for");this.assertEquals(t.getId(),i,"'For' attribute has an unexpected value.");e.destroy();t.destroy()},testDisableTarget:function(){var e=new qx.ui.mobile.form.Label("foo-label"),t=new qx.ui.mobile.form.TextField("foo");t.setEnabled(!1);e.setLabelFor(t.getId());this.assertFalse(e.isEnabled());t.setEnabled(!0);this.assertTrue(e.isEnabled());t.setEnabled(!1);this.assertFalse(e.isEnabled());e.destroy();t.destroy()}}});qx.test.mobile.form.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.NumberField":{},"qx.bom.element.Attribute":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.NumberField",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals("",e.getValue());this.assertEquals(null,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));this.assertEventFired(e,"changeValue",function(){e.setValue(15)});this.assertEquals(15,e.getValue());this.assertEquals(15,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.destroy()},testMinimum:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals("",e.getMinimum());e.setMinimum(42.23);this.assertEquals(42.23,e.getMinimum());e.destroy()},testMaximum:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals("",e.getMaximum());e.setMaximum(42.23);this.assertEquals(42.23,e.getMaximum());e.destroy()},testStep:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals("",e.getStep());e.setStep(42.23);this.assertEquals(42.23,e.getStep());e.destroy()},testResetValue:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals("",e.getValue());this.assertEquals(null,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.setValue(15);this.assertEquals(15,e.getValue());e.resetValue();this.assertEquals(null,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));this.assertEquals("",e.getValue());e.destroy()},testEnabled:function(){var e=new qx.ui.mobile.form.NumberField;this.getRoot().add(e);this.assertEquals(!0,e.getEnabled());this.assertFalse(qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.NumberField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.RadioButton":{},"qx.ui.mobile.form.RadioGroup":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.RadioButton",{extend:qx.test.mobile.MobileTestCase,members:{testConstruct:function(){var e=new qx.ui.mobile.form.RadioButton,t=new qx.ui.mobile.form.RadioButton,i=new qx.ui.mobile.form.RadioButton,n=new qx.ui.mobile.form.RadioGroup(e,t,i);this.getRoot().add(e);this.getRoot().add(t);this.getRoot().add(i);this.assertEquals(!0,e.getValue(),"Radio1 is expected to be true.");this.assertEquals(!1,t.getValue(),"Radio2 is expected to be false.");this.assertEquals(!1,i.getValue(),"Radio3 is expected to be false.");this.assertEquals(3,n.getItems().length);e.destroy();t.destroy();i.destroy();n.dispose()},testValue:function(){var e=new qx.ui.mobile.form.RadioButton,t=new qx.ui.mobile.form.RadioButton,i=new qx.ui.mobile.form.RadioButton,n=new qx.ui.mobile.form.RadioGroup;n.setAllowEmptySelection(!0);n.add(e,t,i);this.getRoot().add(e);this.getRoot().add(t);this.getRoot().add(i);this.assertEquals(!1,e.getValue());this.assertEquals(!1,t.getValue());this.assertEquals(!1,i.getValue());this.assertEquals(!1,e.hasCssClass("checked"));this.assertEquals(!1,t.hasCssClass("checked"));this.assertEquals(!1,i.hasCssClass("checked"));e.setValue(!0);this.assertEquals(!0,e.getValue());this.assertEquals(!0,e.hasCssClass("checked"));this.assertEquals(!1,t.getValue());this.assertEquals(!1,i.getValue());i.setValue(!0);this.assertEquals(!0,i.getValue());this.assertEquals(!1,t.getValue());this.assertEquals(!1,e.getValue());e.destroy();t.destroy();i.destroy();n.dispose()},testEnabled:function(){var e=new qx.ui.mobile.form.RadioButton;this.getRoot().add(e);e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.RadioButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.RadioGroup":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.RadioGroup",{extend:qx.ui.form.RadioGroup});qx.ui.mobile.form.RadioGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.data.Array":{},"qx.ui.mobile.form.SelectBox":{},"qx.lang.Function":{},"qx.core.ValidationError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.SelectBox",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.data.Array(["Item 1","Item 2","Item 3"]),t=new qx.ui.mobile.form.SelectBox;t.setModel(e);this.assertEquals("",t.getValue());t.setValue("Item 3");this.assertEquals(2,t.getSelection());this.assertEquals("Item 3",t.getValue());this.assertException(qx.lang.Function.bind(t.setValue,t,"Item 4"),qx.core.ValidationError,"Validation Error: Input value is out of model range","An validation error is expected, because this value does not exists in model.");this.assertEquals("Item 3",t.getValue(),"Nothing should be changed by input setValue('Item 4') because input value is not in model.");t.destroy();e.dispose();e=null},testNullable:function(){var e=new qx.data.Array(["Item 1","Item 2","Item 3"]),t=new qx.ui.mobile.form.SelectBox;t.setModel(e);this.assertEquals(null,t.getSelection(),"Default selection of SelectBox should be null.");t.setNullable(!1);this.assertException(qx.lang.Function.bind(t.setSelection,t,null),qx.core.ValidationError,"Validation Error: SelectBox is not nullable","Value should not be accepted when SelectBox is not nullable.");t.setNullable(!0);t.setSelection(null);this.assertEquals(null,t.getSelection(),"Value should be null.");t.destroy();e.dispose();e=null},testSelectionNoModel:function(){var e=new qx.ui.mobile.form.SelectBox;this.assertException(qx.lang.Function.bind(e.setSelection,e,4),qx.core.ValidationError,"Validation Error: Please apply model before selection","A selection needs a model.");e.destroy()},testResetValue:function(){var e=new qx.data.Array(["Item 1","Item 2","Item 3"]),t=new qx.ui.mobile.form.SelectBox;t.setModel(e);t.setNullable(!0);t.setValue("Item 3");this.assertEquals(2,t.getSelection());t.resetValue();this.assertEquals(null,t.getSelection());t.destroy();e.dispose();e=null},testResetValueNotNullable:function(){var e=new qx.data.Array(["Item 1","Item 2","Item 3"]),t=new qx.ui.mobile.form.SelectBox;t.setModel(e);t.setNullable(!1);t.setValue("Item 3");this.assertEquals(2,t.getSelection());t.resetValue();this.assertEquals(0,t.getSelection());t.destroy();e.dispose();e=null},testSelection:function(){var e=new qx.data.Array(["Item 1","Item 2","Item 3"]),t=new qx.ui.mobile.form.SelectBox;t.setModel(e);this.assertEquals(null,t.getSelection());t.setSelection(2);this.assertEquals(2,t.getSelection());this.assertEquals("Item 3",t.getValue());this.assertException(qx.lang.Function.bind(t.setSelection,t,4),qx.core.ValidationError,"Validation Error: Input value is out of model range","Exception assertion failed.");this.assertEquals(2,t.getSelection());this.assertEquals("Item 3",t.getValue());this.assertException(qx.lang.Function.bind(t.setSelection,t,-1),qx.core.ValidationError,"Validation Error: Input value is out of model range","Exception assertion failed.");this.assertEquals(2,t.getSelection());this.assertEquals("Item 3",t.getValue());this.assertException(qx.lang.Function.bind(t.setSelection,t,"foo"),qx.core.ValidationError,"Validation Error: Input value is not a number","Exception assertion failed.");this.assertEquals(2,t.getSelection());this.assertEquals("Item 3",t.getValue());t.destroy();e.dispose();e=null}}});qx.test.mobile.form.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.Form":{},"qx.ui.mobile.form.Button":{},"qx.ui.mobile.form.TextField":{},"qx.data.Array":{},"qx.ui.mobile.form.SelectBox":{},"qx.ui.mobile.form.renderer.Single":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.SingleRenderer",{extend:qx.test.mobile.MobileTestCase,members:{__form:null,__b:null,__t:null,__s:null,setUp:function(){qx.test.mobile.form.SingleRenderer.prototype.setUp.base.call(this);this.__form=new qx.ui.mobile.form.Form;this.__b=new qx.ui.mobile.form.Button("a");this.__form.addButton(this.__b);this.__t=new qx.ui.mobile.form.TextField("test");this.__form.add(this.__t,"label");var e=new qx.data.Array(["1"]);this.__s=new qx.ui.mobile.form.SelectBox;this.__s.setModel(e);this.__form.add(this.__s,"select");this.__renderer=new qx.ui.mobile.form.renderer.Single(this.__form);this.getRoot().add(this.__renderer)},tearDown:function(){this.__b.dispose();this.__t.dispose();this.__s.dispose();this.__form.dispose();this.__renderer.dispose();qx.test.mobile.form.SingleRenderer.prototype.tearDown.base.call(this)},testShowHideRow:function(){this.__renderer.hideItem(this.__b);var e=this.__b.getLayoutParent().hasCssClass("exclude");this.assertTrue(e,"Buttons parent is expected to contain 'exclude' class");this.__renderer.showItem(this.__b);e=this.__b.getLayoutParent().hasCssClass("exclude");this.assertFalse(e,"Button parent is expected to not contain 'exclude' class anymore")},testItemRow:function(){this.assertNotNull(this.__renderer._getChildren()[0]);this.assertTrue(2===this.__renderer._getChildren()[1]._getChildren().length)},testButtonRow:function(){this.assertNotNull(this.__renderer._getChildren()[5]);var e=this.__renderer._getChildren()[5]._getChildren().length;this.assertTrue(1===e)},testTwoLinesRow:function(){this.assertNotNull(this.__renderer._getChildren()[3]);var e=this.__renderer._getChildren()[3]._getChildren().length;this.assertTrue(2===e)}}});qx.test.mobile.form.SingleRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.Slider":{},"qx.bom.element.Dataset":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.Slider",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=(new qx.ui.mobile.form.Slider).set({step:4.5});this.getRoot().add(e);this.assertEquals(0,e.getValue());this.assertEquals(0,qx.bom.element.Dataset.get(e._getKnobElement(),"value"));this.assertEquals(0,qx.bom.element.Dataset.get(e._getKnobElement(),"percent"));this.assertEventFired(e,"changeValue",function(){e.nextValue()},function(e){this.assertEquals(4.5,e.getData())}.bind(this));this.assertEventFired(e,"changeValue",function(){e.setValue(11)},function(e){this.assertEquals(11,e.getData())}.bind(this));this.assertEventFired(e,"changeValue",function(){e.previousValue()},function(e){this.assertEquals(6.5,e.getData())}.bind(this));e.destroy()},testEnabled:function(){var e=new qx.ui.mobile.form.Slider;this.getRoot().add(e);e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.Slider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.form.MValue":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.mobile.form.MState":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.form.INumberForm":{require:!0},"qx.dom.Element":{},"qx.event.Registration":{},"qx.bom.element.Dimension":{},"qx.bom.element.Location":{},"qx.bom.AnimationFrame":{},"qx.bom.element.Style":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.form.Slider",{extend:qx.ui.mobile.core.Widget,include:[qx.ui.mobile.form.MValue,qx.ui.form.MForm,qx.ui.form.MModelProperty,qx.ui.mobile.form.MState],implement:[qx.ui.form.IForm,qx.ui.form.IModel,qx.ui.form.INumberForm],construct:function(){qx.ui.mobile.core.Widget.constructor.call(this);this._registerEventListener();this._refresh();this.addCssClass("gap")},properties:{defaultCssClass:{refine:!0,init:"slider"},minimum:{check:"Number",init:0,apply:"_refresh",event:"changeMinimum"},maximum:{check:"Number",init:100,apply:"_refresh",event:"changeMaximum"},step:{check:"Number",init:1,event:"changeStep"},reverseDirection:{check:"Boolean",init:!1,apply:"_refresh"},displayValue:{init:"percent",check:["value","percent"],nullable:!0,apply:"_applyDisplayValue"}},members:{_knobElement:null,_containerElementWidth:null,_containerElementLeft:null,_pixelPerStep:null,__value:0,nextValue:function(){this.setValue(this.getValue()+this.getStep())},previousValue:function(){this.setValue(this.getValue()-this.getStep())},_createContainerElement:function(){var e=qx.ui.mobile.form.Slider.prototype._createContainerElement.base.call(this);e.appendChild(this._createKnobElement());return e},_createKnobElement:function(){return qx.dom.Element.create("div")},_registerEventListener:function(){this.addListener("pointerdown",this._onPointerDown,this);this.addListener("track",this._onTrack,this);this.addListener("appear",this._refresh,this);qx.event.Registration.addListener(window,"resize",this._refresh,this);qx.event.Registration.addListener(window,"orientationchange",this._refresh,this);this.addListenerOnce("domupdated",this._refresh,this)},_unregisterEventListener:function(){this.removeListener("pointerdown",this._onPointerDown,this);this.removeListener("track",this._onTrack,this);this.removeListener("appear",this._refresh,this);qx.event.Registration.removeListener(window,"resize",this._refresh,this);qx.event.Registration.removeListener(window,"orientationchange",this._refresh,this);this.removeListener("domupdated",this._refresh,this)},_refresh:function(){this._updateSizes();this._updateKnobPosition()},_updateSizes:function(){var e=this.getContainerElement();if(e){this._containerElementWidth=qx.bom.element.Dimension.getWidth(e);this._containerElementLeft=qx.bom.element.Location.getLeft(e);this._pixelPerStep=this._getPixelPerStep(this._containerElementWidth)}},_onPointerDown:function(e){if(e.isPrimary()){this._updateSizes();var t=this._getPosition(e.getDocumentLeft());this.setValue(this._positionToValue(t));e.stopPropagation()}},_onTrack:function(e){var t=this._getPosition(e.getDocumentLeft());this.setValue(this._positionToValue(t));e.stopPropagation();e.preventDefault()},_getPosition:function(e){return e-this._containerElementLeft},_getKnobElement:function(){if(!this._knobElement){var e=this.getContainerElement();e&&(this._knobElement=e.childNodes[0])}return this._knobElement},_setValue:function(e){this.__value=e;qx.bom.AnimationFrame.request(this._refresh,this)},_getValue:function(){return this.__value},_updateKnobPosition:function(){var e=this._valueToPercent(this.getValue()),t=this._containerElementWidth,i=Math.floor(this._percentToPosition(t,e));if(this._getKnobElement()){qx.bom.element.Style.set(this._getKnobElement(),"width",t-(t-i)+"px");qx.bom.element.Attribute.set(this._getKnobElement(),"data-value",this.getValue());qx.bom.element.Attribute.set(this._getKnobElement(),"data-percent",Math.floor(e))}},_applyDisplayValue:function(e,t){null!=t&&this.removeCssClass(t);null!=e&&this.addCssClass(e)},_valueToPercent:function(e){var t=this.getMinimum(),i=100*((e=this._limitValue(e))-t)/this._getRange();return this.isReverseDirection()?100-i:i},_positionToValue:function(e){var t=this.getMinimum()+Math.round(e/this._pixelPerStep)*this.getStep();t=this._limitValue(t);if(this.isReverseDirection()){var i=this.getMinimum()+this._getRange()/2;t=i+(i-t)}return t},_percentToPosition:function(e,t){return e*(t/100)},_limitValue:function(e){e=Math.min(e,this.getMaximum());return e=Math.max(e,this.getMinimum())},_getPixelPerStep:function(e){return e/this._getOverallSteps()},_getOverallSteps:function(){return this._getRange()/this.getStep()},_getRange:function(){return this.getMaximum()-this.getMinimum()}},destruct:function(){this._knobElement=null;this._unregisterEventListener()}});qx.ui.mobile.form.Slider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.TextArea":{},"qx.bom.element.Attribute":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.TextArea",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.form.TextArea;this.getRoot().add(e);this.assertEquals("",e.getValue());this.assertEquals(null,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));this.assertEventFired(e,"changeValue",function(){e.setValue("mytext")});this.assertEquals("mytext",e.getValue());this.assertEquals("mytext",qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.destroy();e=new qx.ui.mobile.form.TextArea("affe");this.getRoot().add(e);this.assertEquals("affe",e.getValue());this.assertEquals("affe",qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.destroy()},testEnabled:function(){var e=new qx.ui.mobile.form.TextArea;this.getRoot().add(e);this.assertEquals(!0,e.getEnabled());this.assertFalse(qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.TextArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.TextField":{},"qx.bom.element.Attribute":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.TextField",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.form.TextField;this.getRoot().add(e);this.assertEquals("",e.getValue());this.assertEquals(null,qx.bom.element.Attribute.get(e.getContainerElement(),"value"));this.assertEventFired(e,"changeValue",function(){e.setValue("mytext")});this.assertEquals("mytext",e.getValue());this.assertEquals("mytext",qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.destroy();e=new qx.ui.mobile.form.TextField("affe");this.getRoot().add(e);this.assertEquals("affe",e.getValue());this.assertEquals("affe",qx.bom.element.Attribute.get(e.getContainerElement(),"value"));e.destroy()},testEnabled:function(){var e=new qx.ui.mobile.form.TextField;this.getRoot().add(e);this.assertEquals(!0,e.getEnabled());this.assertFalse(qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.setEnabled(!1);this.assertEquals(!1,e.getEnabled());this.assertEquals(!0,qx.bom.element.Class.has(e.getContainerElement(),"disabled"));e.destroy()}}});qx.test.mobile.form.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.form.ToggleButton":{},"qx.bom.element.Class":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.form.ToggleButton",{extend:qx.test.mobile.MobileTestCase,members:{testValue:function(){var e=new qx.ui.mobile.form.ToggleButton(!0);this.getRoot().add(e);this.assertBoolean(e.getValue());this.assertTrue(e.getValue());this.assertTrue(qx.bom.element.Class.has(e.getContentElement(),"checked"));this.assertEventFired(e,"changeValue",function(){e.setValue(!1)});this.assertFalse(e.getValue());e.destroy()},testToggle:function(){var e=new qx.ui.mobile.form.ToggleButton(!0);this.getRoot().add(e);this.assertBoolean(e.getValue());this.assertTrue(e.getValue());e.toggle();this.assertFalse(e.getValue());e.toggle();this.assertTrue(e.getValue());e.destroy()}}});qx.test.mobile.form.ToggleButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.Card":{},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.layout.Card",{extend:qx.test.mobile.MobileTestCase,members:{testAdd:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.Card);this.getRoot().add(e);this.assertTrue(e.hasCssClass("layout-card"));var t=new qx.ui.mobile.core.Widget;e.add(t);this.assertTrue(t.hasCssClass("layout-card-item"));var i=new qx.ui.mobile.core.Widget;e.add(i);this.assertTrue(i.hasCssClass("layout-card-item"));t.destroy();i.destroy();e.destroy()},testRemove:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.Card);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);e.remove(t);this.assertFalse(t.hasCssClass("layout-card-item"));var i=new qx.ui.mobile.core.Widget;e.add(i);e.remove(i);this.assertFalse(i.hasCssClass("layout-card-item"));this.getRoot().remove(e);this.assertTrue(e.hasCssClass("layout-card"));t.destroy();i.destroy();e.destroy()},testReset:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.Card);this.getRoot().add(e);e.setLayout(null);this.assertFalse(e.hasCssClass("layout-card"));e.destroy()},testShow:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.Card);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);t.show();i.show();t.destroy();i.destroy();e.destroy()}}});qx.test.mobile.layout.Card.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.HBox":{},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.layout.HBox",{extend:qx.test.mobile.MobileTestCase,members:{testAdd:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox);this.getRoot().add(e);this.assertTrue(e.hasCssClass("qx-hbox"));var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);t.destroy();i.destroy();e.destroy()},testFlex:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t,{flex:1});this.assertTrue(t.hasCssClass("qx-flex1"));var i=new qx.ui.mobile.core.Widget;e.add(i,{flex:2});this.assertTrue(i.hasCssClass("qx-flex2"));t.destroy();i.destroy();e.destroy()},testRemove:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t,{flex:1});e.remove(t);this.assertFalse(t.hasCssClass("qx-flex1"));var i=new qx.ui.mobile.core.Widget;e.add(i,{flex:2});e.remove(i);this.assertFalse(i.hasCssClass("qx-flex2"));this.getRoot().remove(e);this.assertTrue(e.hasCssClass("qx-hbox"));t.destroy();i.destroy();e.destroy()},testReset:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox);this.getRoot().add(e);e.setLayout(null);this.assertFalse(e.hasCssClass("qx-hbox"));e.destroy()}}});qx.test.mobile.layout.HBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.layout.VBox",{extend:qx.test.mobile.MobileTestCase,members:{testAdd:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);this.getRoot().add(e);this.assertTrue(e.hasCssClass("qx-vbox"));var t=new qx.ui.mobile.core.Widget;e.add(t);var i=new qx.ui.mobile.core.Widget;e.add(i);t.destroy();i.destroy();e.destroy()},testFlex:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t,{flex:1});this.assertTrue(t.hasCssClass("qx-flex1"));var i=new qx.ui.mobile.core.Widget;e.add(i,{flex:2});this.assertTrue(i.hasCssClass("qx-flex2"));t.destroy();i.destroy();e.destroy()},testRemove:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);this.getRoot().add(e);var t=new qx.ui.mobile.core.Widget;e.add(t,{flex:1});e.remove(t);this.assertFalse(t.hasCssClass("qx-flex1"));var i=new qx.ui.mobile.core.Widget;e.add(i,{flex:2});e.remove(i);this.assertFalse(i.hasCssClass("qx-flex2"));this.getRoot().remove(e);this.assertTrue(e.hasCssClass("qx-vbox"));t.destroy();i.destroy();e.destroy()},testReset:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);this.getRoot().add(e);e.setLayout(null);this.assertFalse(e.hasCssClass("qx-vbox"));e.destroy()}}});qx.test.mobile.layout.VBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.data.Array":{},"qx.ui.mobile.list.List":{},"qx.ui.mobile.list.renderer.Default":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.list.List",{extend:qx.test.mobile.MobileTestCase,members:{getImageElement:function(e,t){return e.getContentElement().childNodes[t].childNodes[0]},getTitleElement:function(e,t){return e.getContentElement().childNodes[t].childNodes[1].childNodes[0]},getSubtitleElement:function(e,t){return e.getContentElement().childNodes[t].childNodes[1].childNodes[1]},__createModel:function(){var e=[];e.push({title:"1",subtitle:"s1",image:"qx/icon/Tango/48/places/folder.png"});e.push({title:"2",subtitle:"s2",image:"qx/icon/Tango/48/places/folder.png"});e.push({title:"3",subtitle:"s3",image:"qx/icon/Tango/48/places/folder.png"});e.push({title:"4",subtitle:"s4",image:"qx/icon/Tango/48/places/folder.png"});e.push({title:"5",subtitle:"s5",image:"qx/icon/Tango/48/places/folder.png"});return new qx.data.Array(e)},__createList:function(e,t){var i=new qx.ui.mobile.list.List;this.getRoot().add(i);i.setDelegate({configureItem:t||this.__configureItemFunction,createItemRenderer:e||null});i.setModel(this.__createModel());return i},__configureItemFunction:function(e,t,i){e.setImage(t.image);e.setTitle(t.title);e.setSubtitle(t.subtitle)},__assertItemsAndModelLength:function(e,t){var i=e.getContentElement().childNodes.length;this.assertEquals(t,i)},__cleanUp:function(e){e.destroy();var t=e.getModel();if(t){t.dispose();t=null}},testCreate:function(){var e=this.__createList();this.__assertItemsAndModelLength(e,5);this.__cleanUp(e)},testCustomRenderer:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);this.__cleanUp(e)},testSetModelNull:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);e.getModel().dispose();e.setModel(null);this.__assertItemsAndModelLength(e,0);this.__cleanUp(e)},testModelChangeRemove:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);e.getModel().removeAt(0);this.__assertItemsAndModelLength(e,4);this.__cleanUp(e)},testModelChangeEdit:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);e.getModel().setItem(0,{title:"affe",subtitle:"1",image:"qx/icon/Tango/48/places/folder.png"});this.__assertItemsAndModelLength(e,5);var t=this.getTitleElement(e,0).innerHTML;this.assertEquals("affe",t);this.__cleanUp(e)},testModelChangeStringLength:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);var t="qx/icon/Tango/52/places/folder.png";e.getModel().setItem(0,{title:"Giraffe",subtitle:"subtitle1",image:t});this.__assertItemsAndModelLength(e,5);var i=this.getTitleElement(e,0).innerHTML,n=this.getSubtitleElement(e,0).innerHTML,s=this.getImageElement(e,0).src;this.assertEquals("Giraffe",i);this.assertEquals("subtitle1",n);this.assertNotEquals("-1",s.indexOf(t));this.__cleanUp(e)},testModelChangeAdd:function(){var e=this.__createList(function(){return new qx.ui.mobile.list.renderer.Default});this.__assertItemsAndModelLength(e,5);e.getModel().push({title:"6",subtitle:"6",image:"qx/icon/Tango/48/places/folder.png"});this.__assertItemsAndModelLength(e,6);this.__cleanUp(e)},testExtractRowsToRender:function(){var e=new qx.ui.mobile.list.List;this.assertArrayEquals([0],e._extractRowsToRender("0"));this.assertArrayEquals([0],e._extractRowsToRender("[0].propertyName"));this.assertArrayEquals([0,1,2],e._extractRowsToRender("[0-2].propertyName"));this.assertArrayEquals([12,13,14],e._extractRowsToRender("[12-14].propertyName"));e.destroy()}}});qx.test.mobile.list.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.navigationbar.NavigationBar":{},"qx.ui.mobile.navigationbar.BackButton":{},"qx.ui.mobile.navigationbar.Title":{},"qx.ui.mobile.navigationbar.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.navigationbar.NavigationBar",{extend:qx.test.mobile.MobileTestCase,members:{testCreate:function(){var e=new qx.ui.mobile.navigationbar.NavigationBar;this.getRoot().add(e);var t=new qx.ui.mobile.navigationbar.BackButton("Back");e.add(t);var i=new qx.ui.mobile.navigationbar.Title("Title");e.add(i);var n=new qx.ui.mobile.navigationbar.Button("Action");e.add(n);this.assertEquals(3,e.getChildren().length);t.destroy();i.destroy();n.destroy();e.destroy()}}});qx.test.mobile.navigationbar.NavigationBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.page.Manager":{},"qx.ui.mobile.page.NavigationPage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.page.Manager",{extend:qx.test.mobile.MobileTestCase,members:{testCreate:function(){(new qx.ui.mobile.page.Manager).dispose()},testAddTablet:function(){var e=new qx.ui.mobile.page.Manager(!0),t=new qx.ui.mobile.page.NavigationPage;e.addMaster([t]);e.addDetail([t]);e.dispose()},testAddMobile:function(){var e=new qx.ui.mobile.page.Manager(!1),t=new qx.ui.mobile.page.NavigationPage,i=new qx.ui.mobile.page.NavigationPage;e.addMaster([t]);e.addMaster([i]);e.dispose()}}});qx.test.mobile.page.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.Init":{construct:!0},"qx.bom.client.Device":{construct:!0},"qx.event.Registration":{construct:!0},"qx.bom.Viewport":{construct:!0},"qx.ui.mobile.container.Drawer":{},"qx.ui.mobile.layout.HBox":{},"qx.ui.mobile.container.Composite":{},"qx.ui.mobile.layout.VBox":{},"qx.ui.mobile.navigationbar.Button":{},"qx.ui.mobile.container.Navigation":{},"qx.lang.Type":{},"qx.ui.mobile.page.NavigationPage":{},"qx.lang.String":{},"qx.bom.element.Style":{}},environment:{provided:[],required:{"device.type":{construct:!0,className:"qx.bom.client.Device"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.page.Manager",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);t=t||qx.core.Init.getApplication().getRoot();this.__isTablet=void 0!==e&&null!==e?e:"desktop"==qx.core.Environment.get("device.type")||"tablet"==qx.core.Environment.get("device.type");this.__detailNavigation=this._createDetailNavigation();this.__detailNavigation.getNavigationBar().hide();if(this.__isTablet){this.__masterNavigation=this._createMasterNavigation();this.__masterNavigation.getNavigationBar().hide();this.__masterContainer=this._createMasterContainer();this.__detailContainer=this._createDetailContainer();this.__masterButton=this._createMasterButton();this.__masterButton.addListener("tap",this._onMasterButtonTap,this);this.__hideMasterButton=this._createHideMasterButton();this.__hideMasterButton.addListener("tap",this._onHideMasterButtonTap,this);this.__masterNavigation.addListener("update",this._onMasterContainerUpdate,this);this.__detailNavigation.addListener("update",this._onDetailContainerUpdate,this);t.add(this.__detailContainer,{flex:1});this.__masterContainer.add(this.__masterNavigation,{flex:1});this.__detailContainer.add(this.__detailNavigation,{flex:1});qx.event.Registration.addListener(window,"orientationchange",this._onLayoutChange,this);this.__masterContainer.addListener("resize",this._onLayoutChange,this);this.__masterNavigation.getLayout().setShowAnimation(!1);this.__detailNavigation.getLayout().setShowAnimation(!1);this.__masterContainer.forceHide();setTimeout(function(){qx.bom.Viewport.isLandscape()&&this.__masterContainer.show()}.bind(this),300)}else t.add(this.__detailNavigation,{flex:1})},properties:{masterTitle:{init:"Master",check:"String",apply:"_applyMasterTitle"},hideMasterButtonCaption:{init:"Hide",check:"String",apply:"_applyHideMasterButtonCaption"},allowMasterHideOnLandscape:{init:!0,check:"Boolean"},hideMasterOnDetailStart:{init:!0,check:"Boolean"}},members:{__isTablet:null,__detailNavigation:null,__masterNavigation:null,__masterButton:null,__hideMasterButton:null,__masterPages:null,__detailPages:null,__masterContainer:null,__detailContainer:null,_createMasterContainer:function(){var e=new qx.ui.mobile.container.Drawer(null,new qx.ui.mobile.layout.HBox).set({hideOnParentTap:!1,hideOnBack:!1});e.addCssClass("master-detail-master");e.addListener("changeVisibility",this._onMasterChangeVisibility,this);return e},_createDetailContainer:function(){var e=new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox);e.setDefaultCssClass("master-detail-detail");return e},getMasterContainer:function(){return this.__masterContainer},getDetailContainer:function(){return this.__detailContainer},getMasterButton:function(){return this.__masterButton},getMasterNavigation:function(){return this.__masterNavigation},getDetailNavigation:function(){return this.__detailNavigation},_createMasterButton:function(){return new qx.ui.mobile.navigationbar.Button(this.getMasterTitle())},_createHideMasterButton:function(){return new qx.ui.mobile.navigationbar.Button("Hide")},_createMasterNavigation:function(){return new qx.ui.mobile.container.Navigation},_createDetailNavigation:function(){return new qx.ui.mobile.container.Navigation},addMaster:function(e){if(this.__isTablet){if(e){qx.lang.Type.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){e[t].addListener("start",this._onMasterPageStart,this)}this.__masterPages?this.__masterPages.concat(e):this.__masterPages=e;this._add(e,this.__masterNavigation)}}else this.addDetail(e)},addDetail:function(e){this._add(e,this.__detailNavigation);if(e&&this.__isTablet){qx.lang.Type.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){e[t].addListener("start",this._onDetailPageStart,this)}this.__detailPages?this.__detailPages.concat(e):this.__detailPages=e}},_onDetailPageStart:function(e){qx.bom.Viewport.isPortrait()&&this.isHideMasterOnDetailStart()&&this.__masterContainer.hide()},_onMasterPageStart:function(e){var t=e.getTarget().getTitle();this.setMasterTitle(t)},_add:function(e,t){qx.lang.Type.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];this.assertInstance(n,qx.ui.mobile.page.NavigationPage);this.__isTablet&&!n.getShowBackButtonOnTablet()&&n.setShowBackButton(!1);n.setIsTablet(this.__isTablet);t.add(n)}},_onMasterContainerUpdate:function(e){var t=e.getData();t.getRightContainer().remove(this.__hideMasterButton);t.getRightContainer().add(this.__hideMasterButton)},_onDetailContainerUpdate:function(e){var t=e.getData();t.getLeftContainer().remove(this.__masterButton);t.getLeftContainer().add(this.__masterButton)},_onMasterButtonTap:function(){this.__masterContainer.show()},_onHideMasterButtonTap:function(){this._removeDetailContainerGap();this.__masterContainer.hide()},_onMasterChangeVisibility:function(e){var t="visible"===e.getData();if(qx.bom.Viewport.isLandscape())if(this.isAllowMasterHideOnLandscape())if(t){this._createDetailContainerGap();this.__masterButton.exclude();this.__hideMasterButton.show()}else{this.__masterButton.show();this.__hideMasterButton.show()}else{this.__masterButton.exclude();this.__hideMasterButton.exclude()}else{this._removeDetailContainerGap();this.__masterButton.show();this.__hideMasterButton.show()}},_onLayoutChange:function(){if(this.__isTablet)if(qx.bom.Viewport.isLandscape()){this.__masterContainer.setHideOnParentTap(!1);if(this.__masterContainer.isHidden())this.__masterContainer.show();else{this._removeDetailContainerGap();this.__masterContainer.hide()}}else{this._removeDetailContainerGap();this.__masterContainer.setHideOnParentTap(!0);this.__masterContainer.hide()}},_getGapPropertyKey:function(){return"padding"+qx.lang.String.capitalize(this.__masterContainer.getOrientation())},_createDetailContainerGap:function(){qx.bom.element.Style.set(this.__detailContainer.getContainerElement(),this._getGapPropertyKey(),this.__masterContainer.getSize()/16+"rem");qx.event.Registration.fireEvent(window,"resize")},_removeDetailContainerGap:function(){qx.bom.element.Style.set(this.__detailContainer.getContainerElement(),this._getGapPropertyKey(),null);qx.event.Registration.fireEvent(window,"resize")},_applyHideMasterButtonCaption:function(e,t){this.__isTablet&&this.__hideMasterButton.setLabel(e)},_applyMasterTitle:function(e,t){this.__isTablet&&this.__masterButton.setLabel(e)}},destruct:function(){if(this.__masterPages)for(var e=0;e<this.__masterPages.length;e++){this.__masterPages[e].removeListener("start",this._onMasterPageStart,this)}if(this.___detailPages)for(var t=0;t<this.___detailPages.length;t++){this.___detailPages[t].removeListener("start",this._onDetailPageStart,this)}if(this.__isTablet){this.__masterContainer.removeListener("changeVisibility",this._onMasterChangeVisibility,this);this.__masterContainer.removeListener("resize",this._onLayoutChange,this);qx.event.Registration.removeListener(window,"orientationchange",this._onLayoutChange,this)}this.__masterPages=this.__detailPages=null;this._disposeObjects("__detailNavigation","__masterNavigation","__masterButton")}});qx.ui.mobile.page.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.page.NavigationPage":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.page.NavigationPage",{extend:qx.test.mobile.MobileTestCase,members:{testNavigationInterface:function(){var e=new qx.ui.mobile.page.NavigationPage;this.assertNotNull(e.getTitleWidget());this.assertNotNull(e.getLeftContainer());this.assertNotNull(e.getRightContainer());e.destroy()},testTitle:function(){var e=new qx.ui.mobile.page.NavigationPage;e.setTitle("Affe");this.assertEquals("Affe",e.getTitleWidget().getValue());e.destroy()},testBackButton:function(){var e=new qx.ui.mobile.page.NavigationPage;e.getLeftContainer();e.setShowBackButton(!0);e.setBackButtonText("Affe");this.assertEquals("Affe",e._getBackButton().getValue());this.assertTrue(e._getBackButton().isVisible());e.setShowBackButton(!1);this.assertFalse(e._getBackButton().isVisible());e.destroy()},testButton:function(){var e=new qx.ui.mobile.page.NavigationPage;e.getRightContainer();e.setShowButton(!0);e.setButtonText("Affe");this.assertEquals("Affe",e._getButton().getValue());this.assertTrue(e._getButton().isVisible());e.setShowButton(!1);this.assertFalse(e._getButton().isVisible());e.destroy()}}});qx.test.mobile.page.NavigationPage.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.page.Page":{},"qx.core.Init":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.page.Page",{extend:qx.test.mobile.MobileTestCase,members:{testShow:function(){var e=!1,t=!1,i=!1,n=new qx.ui.mobile.page.Page;this.getRoot().add(n);n.addListener("initialize",function(){this.assertFalse(t,"Start event is fired before initialize event was fired!");e=!0},this);n.addListener("start",function(){this.assertTrue(e,"Start event is fired before initialize event was fired!");t=!0},this);n.addListener("stop",function(){i=!0},this);n.show();this.assertTrue(e,"Initialize event is not fired!");this.assertTrue(t,"Start event is not fired!");this.assertFalse(i,"Stop event is fired!");n.destroy()},testInitialize:function(){this.__testEventOnPage("initialize")},testStart:function(){this.__testEventOnPageAndApplication("start")},testStop:function(){this.__testEventOnPageAndApplication("stop",function(e){e.initialize()})},testPause:function(){this.__testEventOnPage("pause")},testResume:function(){this.__testEventOnPage("resume")},testWait:function(){this.__testEventOnPage("wait")},testBack:function(){this.__testEventOnPageAndApplication("back")},testPreventBack:function(){var e=new qx.ui.mobile.page.Page;this.getRoot().add(e);var t=!1,i=!1,n=qx.core.Init.getApplication(),s=n.addListener("back",function(e){t=!0;e.preventDefault()},this);e.addListener("back",function(){i=!0},this);e.back();this.assertTrue(t,"The 'back' event on application is not fired!");this.assertFalse(i,"The 'back' event on page is fired!");n.removeListenerById(s);e.destroy()},testMenu:function(){this.__testEventOnPage("menu")},__testEventOnPage:function(e){var t=new qx.ui.mobile.page.Page;this.getRoot().add(t);var i=!1;t.addListener(e,function(){i=!0},this);t[e]();this.assertTrue(i,"The '"+e+"' event is not fired!");t.destroy()},__testEventOnPageAndApplication:function(e,t){var i=new qx.ui.mobile.page.Page;this.getRoot().add(i);var n=!1,s=!1,r=qx.core.Init.getApplication(),o=r.addListener(e,function(){n=!0},this);i.addListener(e,function(){s=!0},this);t&&t(i);i[e]();this.assertTrue(n,"The '"+e+"' event on application is not fired!");this.assertTrue(s,"The '"+e+"' event on page is not fired!");r.removeListenerById(o);i.destroy()}}});qx.test.mobile.page.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.tabbar.TabBar":{},"qx.ui.mobile.tabbar.TabButton":{},"qx.ui.mobile.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.tabbar.TabBar",{extend:qx.test.mobile.MobileTestCase,members:{__createTabBar:function(){var e=new qx.ui.mobile.tabbar.TabBar;this.getRoot().add(e);return e},__assertChildNodesLength:function(e,t){var i=e.getContentElement().childNodes.length;this.assertEquals(t,i)},testAdd:function(){var e=this.__createTabBar(),t=new qx.ui.mobile.tabbar.TabButton("Button 1");e.add(t);this.__assertChildNodesLength(e,1);var i=new qx.ui.mobile.tabbar.TabButton("Button 2");e.add(i);this.__assertChildNodesLength(e,2);var n=new qx.ui.mobile.tabbar.TabButton("Button 3");e.add(n);this.__assertChildNodesLength(e,3);t.destroy();i.destroy();n.destroy();e.destroy()},testRemove:function(){var e=this.__createTabBar(),t=new qx.ui.mobile.tabbar.TabButton("Button 1");e.add(t);var i=new qx.ui.mobile.tabbar.TabButton("Button 2");e.add(i);var n=new qx.ui.mobile.tabbar.TabButton("Button 3");e.add(n);this.__assertChildNodesLength(e,3);e.remove(i);this.__assertChildNodesLength(e,2);e.remove(t);this.__assertChildNodesLength(e,1);e.remove(n);this.__assertChildNodesLength(e,0);t.destroy();i.destroy();n.destroy();e.destroy()},testSelection:function(){var e=this.__createTabBar(),t=new qx.ui.mobile.tabbar.TabButton;e.add(t);this.assertEquals(e.getSelection(),t);var i=new qx.ui.mobile.tabbar.TabButton;e.add(i);this.assertEquals(e.getSelection(),t);var n=new qx.ui.mobile.tabbar.TabButton;e.add(n);this.assertEquals(e.getSelection(),t);e.setSelection(i);this.assertEquals(e.getSelection(),i);e.remove(i);this.assertEquals(e.getSelection(),null);this.assertEventFired(e,"changeSelection",function(){e.setSelection(t)});t.destroy();i.destroy();n.destroy();e.destroy()},testView:function(){var e=this.__createTabBar(),t=new qx.ui.mobile.tabbar.TabButton("Button 1"),i=new qx.ui.mobile.basic.Label("1");i.exclude();t.setView(i);e.add(t);this.assertTrue(i.isVisible());var n=new qx.ui.mobile.tabbar.TabButton("Button 2");e.add(n);var s=new qx.ui.mobile.basic.Label("2");n.setView(s);this.assertFalse(s.isVisible());var r=new qx.ui.mobile.tabbar.TabButton("Button 3");e.add(r);e.setSelection(r);var o=new qx.ui.mobile.basic.Label("3");this.assertEventFired(r,"changeView",function(){r.setView(o)});this.assertFalse(i.isVisible());this.assertTrue(o.isVisible());e.remove(r);this.assertFalse(i.isVisible());this.assertFalse(s.isVisible());this.assertFalse(o.isVisible());t.destroy();n.destroy();r.destroy();i.destroy();s.destroy();o.destroy();e.destroy()}}});qx.test.mobile.tabbar.TabBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.ui.mobile.tabbar.TabButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.tabbar.TabBar",{extend:qx.ui.mobile.core.Widget,construct:function(){qx.ui.mobile.core.Widget.constructor.call(this);this._setLayout(new qx.ui.mobile.layout.HBox);this.addListener("tap",this._onTap,this)},properties:{defaultCssClass:{refine:!0,init:"tabBar"},selection:{check:"qx.ui.mobile.tabbar.TabButton",nullable:!0,init:null,apply:"_applySelection",event:"changeSelection"}},members:{_onTap:function(e){for(var t=e.getTarget();!(t instanceof qx.ui.mobile.tabbar.TabButton);){if(!t.getLayoutParent){t=null;break}var i=t.getLayoutParent();if(null==i||i instanceof qx.ui.mobile.tabbar.TabBar){t=null;break}t=i}null!==t&&this.setSelection(t)},_applySelection:function(e,t){if(t){t.removeCssClass("selected");t.getView()&&t.getView().exclude()}if(e){e.addCssClass("selected");e.getView()&&e.getView().show()}},add:function(e){this._add(e,{flex:1});this.getSelection()||this.setSelection(e);e.addListener("changeView",this._onChangeView,this)},_onChangeView:function(e){this.getSelection()==e.getTarget()&&e.getData().show()},remove:function(e){this._remove(e);this.getSelection()==e&&this.setSelection(null);e.removeListener("changeView",this._onChangeView,this)}},destruct:function(){this.removeListener("tap",this._onTap,this)}});qx.ui.mobile.tabbar.TabBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Button":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.tabbar.TabButton",{extend:qx.ui.mobile.form.Button,properties:{defaultCssClass:{refine:!0,init:"tabButton"},view:{check:"qx.ui.mobile.core.Widget",nullable:!1,init:null,apply:"_applyView",event:"changeView"}},members:{_applyView:function(e,t){e.exclude()}}});qx.ui.mobile.tabbar.TabButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.mobile.MobileTestCase":{require:!0},"qx.ui.mobile.toolbar.ToolBar":{},"qx.ui.mobile.toolbar.Button":{},"qx.bom.element.Dimension":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.mobile.toolbar.Toolbar",{extend:qx.test.mobile.MobileTestCase,members:{__createToolbar:function(){var e=new qx.ui.mobile.toolbar.ToolBar;this.getRoot().add(e);return e},__assertChildNodesLength:function(e,t){var i=e.getContentElement().childNodes.length;this.assertEquals(t,i)},testAdd:function(){var e=this.__createToolbar(),t=new qx.ui.mobile.toolbar.Button("Button 1");e.add(t);this.__assertChildNodesLength(e,1);var i=new qx.ui.mobile.toolbar.Button("Button with long name 2");e.add(i);this.__assertChildNodesLength(e,2);var n=new qx.ui.mobile.toolbar.Button("Button 3");e.add(n);this.__assertChildNodesLength(e,3);this.assertEquals(qx.bom.element.Dimension.getWidth(t.getContainerElement()),qx.bom.element.Dimension.getWidth(i.getContainerElement()));this.assertEquals(qx.bom.element.Dimension.getWidth(n.getContainerElement()),qx.bom.element.Dimension.getWidth(i.getContainerElement()));t.destroy();i.destroy();n.destroy();e.destroy()},testRemove:function(){var e=this.__createToolbar(),t=new qx.ui.mobile.toolbar.Button("Button 1");e.add(t);var i=new qx.ui.mobile.toolbar.Button("Button 2");e.add(i);var n=new qx.ui.mobile.toolbar.Button("Button 3");e.add(n);this.__assertChildNodesLength(e,3);e.remove(i);this.__assertChildNodesLength(e,2);e.remove(t);this.__assertChildNodesLength(e,1);e.remove(n);this.__assertChildNodesLength(e,0);t.destroy();i.destroy();n.destroy();e.destroy()}}});qx.test.mobile.toolbar.Toolbar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.container.Composite":{construct:!0,require:!0},"qx.ui.mobile.layout.HBox":{construct:!0},"qx.ui.mobile.toolbar.Separator":{},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.toolbar.ToolBar",{extend:qx.ui.mobile.container.Composite,construct:function(e){qx.ui.mobile.container.Composite.constructor.call(this,e);e||this.setLayout((new qx.ui.mobile.layout.HBox).set({alignY:"middle"}))},properties:{defaultCssClass:{refine:!0,init:"toolbar"}},members:{__hidden:!1,add:function(e,t){if(!(e instanceof qx.ui.mobile.toolbar.Separator)){t=t||{};qx.lang.Object.mergeWith(t,{flex:1},!1)}qx.ui.mobile.toolbar.ToolBar.prototype.add.base.call(this,e,t)}}});qx.ui.mobile.toolbar.ToolBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.form.Button":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.toolbar.Button",{extend:qx.ui.mobile.form.Button,properties:{defaultCssClass:{refine:!0,init:"toolbar-button"}}});qx.ui.mobile.toolbar.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.mobile.core.Widget":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.mobile.toolbar.Separator",{extend:qx.ui.mobile.core.Widget,construct:function(){qx.ui.mobile.core.Widget.constructor.call(this)},properties:{defaultCssClass:{refine:!0,init:"toolbar-separator"}}});qx.ui.mobile.toolbar.Separator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.dev.unit.MeasurementResult":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.dev.unit.MMeasure",{members:{measureRepeated:function(e,t,i,n,s){this.measure(e,function(){for(var e=n;e--;)t(e)},i,s||n)},measureIterations:function(e,t,i,n,s){this.measure(e,function(){for(var e=0,n=0;n<s;){t&&t();var r=Date.now();i(e);n+=Date.now()-r;e++}return e},n,null,s)},measure:function(e,t,i,n,s){var r;try{r=window.top.qx.core.Init.getApplication().runner.view.getNativeProfiling()}catch(e){r=!1}var o=r&&console&&console.profile&&"function"==typeof console.profile&&console.profileEnd&&"function"==typeof console.profileEnd;o&&console.profile(e);var a=Date.now(),l=t(),u=Date.now();o&&console.profileEnd(e);var c=u-a,d=Date.now(),h=this;setTimeout(function(){h.resume(function(){var t=Date.now()-d;h.log(e,l||n,s||c,t);i.call(h)})},0);this.wait(s?s+5e3:1e4)},log:function(e,t,i,n){this.debug([e,"Iterations: "+t,"Time: "+i+"ms","Render time: "+n+"ms"].join("; "));throw new qx.dev.unit.MeasurementResult(e,t,i,n)}}});qx.dev.unit.MMeasure.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.BaseCall",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,members:{ITERATIONS:1e5,testBaseCall:function(){var e=new qx.test.performance.Extend,t=this;this.measure("this.base()",function(){for(var i=0;i<t.ITERATIONS;i++)e.foo_base()},function(){},this.ITERATIONS)},testPlainCall:function(){var e=new qx.test.performance.Extend,t=this;this.measure("Base.prototype.foo_base.call",function(){for(var i=0;i<t.ITERATIONS;i++)e.foo_call()},function(){},this.ITERATIONS)},testPlainApply:function(){var e=new qx.test.performance.Extend,t=this;this.measure("Base.prototype.foo_base.apply",function(){for(var i=0;i<t.ITERATIONS;i++)e.foo_apply()},function(){},this.ITERATIONS)}}});qx.Class.define("qx.test.performance.Base",{extend:qx.core.Object,members:{foo_base:function(e,t,i){}}});qx.Class.define("qx.test.performance.Extend",{extend:qx.test.performance.Base,members:{foo_base:function(e,t,i){qx.test.performance.Extend.prototype.foo_base.base.call(this,e,t,i)},foo_call:function(e,t,i){qx.test.performance.Base.prototype.foo_base.call(this,e,t,i)},foo_apply:function(e,t,i){qx.test.performance.Base.prototype.foo_base.apply(this,arguments)}}});qx.test.performance.BaseCall.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.MeasurementResult",{extend:Object,construct:function(e,t,i,n){this.__message=e;this.__iterations=t;this.__ownTime=i;this.__renderTime=n},members:{__message:null,__iterations:null,__ownTime:null,__renderTime:null,getData:function(){return{message:this.__message,iterations:this.__iterations,ownTime:this.__ownTime,renderTime:this.__renderTime}},toString:function(){return["Measured: "+this.__message,"Iterations: "+this.__iterations,"Time: "+this.__ownTime+"ms","Render time: "+this.__renderTime+"ms"].join("\n")}}});qx.dev.unit.MeasurementResult.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.Event",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,events:{plain:"qx.event.type.Event",data:"qx.event.type.Data"},members:{FIRE_ITERATIONS:1e4,ADD_ITERATIONS:5e3,testFireEvent:function(){var e=this;this.measureRepeated("fire plain events",function(){e.fireEvent("plain")},function(){},this.FIRE_ITERATIONS)},testFireDataEvent:function(){var e=this;this.measureRepeated("fire data events",function(){e.fireDataEvent("data",!0,!1)},function(){},this.FIRE_ITERATIONS)},testFireDataEventCancelable:function(){var e=this;this.measureRepeated("fire cancelable data events",function(){e.fireDataEvent("data",!0,!1,!0)},function(){},this.FIRE_ITERATIONS)},testAddListener:function(){for(var e=this,t=[],i=0;i<this.ADD_ITERATIONS;i++)t.push(function(){});this.measureRepeated("addListener",function(i){e.addListener("plain",t[i])},function(){for(var i=0;i<t.length;i++)e.removeListener("plain",t[i])},this.ADD_ITERATIONS)},testRemoveListener:function(){for(var e=[],t=0;t<this.ADD_ITERATIONS;t++){e.push(function(){});this.addListener("plain",e[t])}var i=this;this.measureRepeated("remove listeners",function(t){i.removeListener("plain",e[t])},function(){},this.ADD_ITERATIONS)},testRemoveListenerById:function(){for(var e=[],t=0;t<this.ADD_ITERATIONS;t++)e.push(this.addListener("plain",function(){}));var i=this;this.measureRepeated("remove listeners by id",function(t){i.removeListenerById(e[t])},function(){},this.ADD_ITERATIONS)},testExecutePlainListener:function(){for(var e=[],t=0;t<this.FIRE_ITERATIONS;t++)e.push(this.addListener("plain",function(){}));var i=this;this.measureRepeated("execute plain listeners",function(){i.fireEvent("plain")},function(){for(var t=0;t<e.length;t++)i.removeListenerById(e[t])},1,this.FIRE_ITERATIONS)},testExecuteDataListener:function(){for(var e=[],t=0;t<this.FIRE_ITERATIONS;t++)e.push(this.addListener("data",function(){}));var i=this;this.measureRepeated("execute data listeners",function(){i.fireDataEvent("data",!0,!1)},function(){for(var t=0;t<e.length;t++)i.removeListenerById(e[t])},1,this.FIRE_ITERATIONS)}}});qx.test.performance.Event.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.core.Object":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.Object",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,members:{CREATE_ITERATIONS:1e5,testObjectCreate:function(){var e=this.__objects=[],t=this;this.measure("create qx.core.Object",function(){for(var i=0;i<t.CREATE_ITERATIONS;i++)e.push(new qx.core.Object)},function(){t._disposeArray("__objects")},this.CREATE_ITERATIONS)},testToHashCode:function(){var e=[],t=this;this.measure("toHashCode qx.core.Object",function(){for(var i=0;i<t.CREATE_ITERATIONS;i++){var n={};qx.core.ObjectRegistry.toHashCode(n);e.push(n)}},function(){for(var t=0;t<e.length;t++)qx.core.ObjectRegistry.clearHashCode(e[t])},this.CREATE_ITERATIONS)}}});qx.test.performance.Object.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.Property",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,members:{SET_ITERATIONS:1e4,testPropertySet:function(){var e=new(qx.Class.define("demo.MyClass",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,check:"String",event:"changeAlpha"}}}));e.addListener("changeAlpha",function(){},this);var t=this;this.measure("property set",function(){for(var i=0;i<t.SET_ITERATIONS;i++)e.setAlpha("value #"+i)},function(){e.dispose();qx.Class.undefine("demo.MyClass")},this.SET_ITERATIONS)},testAsyncPropertySet:function(){(console.log||this.warn)("Long Stack Traces are enabled - this will significantly slow down the test");var e=new(qx.Class.define("demo.MyClass",{extend:qx.core.Object,properties:{alpha:{init:null,nullable:!0,check:"String",event:"changeAlpha",async:!0}}}));e.addListener("changeAlpha",function(){},this);var t=this;this.measure("property set",function(){for(var i=0;i<t.SET_ITERATIONS;i++)e.setAlpha("value #"+i)},function(){e.dispose();qx.Class.undefine("demo.MyClass")},this.SET_ITERATIONS)}}});qx.test.performance.Property.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.data.Marshaling",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,members:{CREATE_ITERATIONS:1e5,__objects:null,__marshaler:null,setUp:function(){this.__marshaler=new qx.data.marshal.Json},tearDown:function(){this.__marshaler.dispose();this.__marshaler=null},testJsonSimpleToClass:function(){var e={a:10},t=this;this.measure("simple json class creation",function(){for(var i=0;i<t.CREATE_ITERATIONS;i++)t.__marshaler.toClass(e)},function(){qx.Class.undefine("qx.data.model.a")},this.CREATE_ITERATIONS)},testJsonSimpleToClassWithBubble:function(){var e={a:10},t=this;this.measure("simple json class creation with bubble events",function(){for(var i=0;i<t.CREATE_ITERATIONS;i++)t.__marshaler.toClass(e,!0)},function(){qx.Class.undefine("qx.data.model.a")},this.CREATE_ITERATIONS)},testJsonSimpleToModel:function(){var e={a:10};this.__marshaler.toClass(e);var t=this;this.__objects=[];this.measure("simple json object creation",function(){for(var i=0;i<t.CREATE_ITERATIONS;i++)t.__objects.push(t.__marshaler.toModel(e))},function(){for(var e=0;e<t.__objects.length;e++)t.__objects[e].dispose();qx.Class.undefine("qx.data.model.a")},this.CREATE_ITERATIONS)}}});qx.test.performance.data.Marshaling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.dom.Element":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.AbstractDecorator",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,type:"abstract",members:{CREATE_ITTERATIONS:5e3,RENDER_ITTERATIONS:5e3,RESIZE_ITTERATIONS:1e4,__el:null,setUp:function(){this.__el=qx.dom.Element.create("div",{id:"testRoot"});document.body.appendChild(this.__el)},tearDown:function(){document.body.removeChild(this.__el);this.__el=null},createDivs:function(e){for(var t=[],i=document.createElement("div"),n=0;n<e;n++){var s=document.createElement("div");s.style.position="absolute";s.style.width="100px";s.style.height="50px";i.appendChild(s);t.push(s)}this.__el.appendChild(i);return t},createDecorator:function(){},testCreate:function(){var e=this;this.measureRepeated("create and initial getStyles",function(){e.createDecorator().getStyles()},function(){},this.CREATE_ITTERATIONS)},testRender:function(){var e=this.createDecorator(),t=this.createDivs(this.RENDER_ITTERATIONS);this.measureRepeated("apply styles",function(i){qx.bom.element.Style.setStyles(t[i],e.getStyles())},function(){},this.RENDER_ITTERATIONS)},testResize:function(){for(var e=this.createDivs(this.RESIZE_ITTERATIONS),t=this.createDecorator(),i=0;i<e.length;i++)qx.bom.element.Style.setStyles(e[i],t.getStyles());var n=[100,200];this.measureRepeated("resize decorator",function(t){var i=n[t%2];qx.bom.element.Style.set(e[t],"width",i)},function(){},this.RESIZE_ITTERATIONS)}}});qx.test.performance.decorator.AbstractDecorator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.decorator.AbstractDecorator":{require:!0},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.Background",{extend:qx.test.performance.decorator.AbstractDecorator,members:{createDecorator:function(){return(new qx.ui.decoration.Decorator).set({backgroundImage:"decoration/form/tooltip-error-arrow.png",backgroundPositionY:"center",backgroundRepeat:"no-repeat",slice:[0,0,0,10]})}}});qx.test.performance.decorator.Background.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.decorator.AbstractDecorator":{require:!0},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.BackgroundScale",{extend:qx.test.performance.decorator.AbstractDecorator,members:{createDecorator:function(){return(new qx.ui.decoration.Decorator).set({backgroundImage:"decoration/selection.png",backgroundRepeat:"scale"})}}});qx.test.performance.decorator.BackgroundScale.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.decorator.AbstractDecorator":{require:!0},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.Beveled",{extend:qx.test.performance.decorator.AbstractDecorator,members:{createDecorator:function(){return(new qx.ui.decoration.Decorator).set({outerColor:"invalid",innerColor:"border-focused-invalid",width:1})}}});qx.test.performance.decorator.Beveled.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.decorator.AbstractDecorator":{require:!0},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.Grid",{extend:qx.test.performance.decorator.AbstractDecorator,members:{createDecorator:function(){return(new qx.ui.decoration.Decorator).set({baseImage:"decoration/tabview/tabview-pane.png"})}}});qx.test.performance.decorator.Grid.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.decorator.AbstractDecorator":{require:!0},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.decorator.Single",{extend:qx.test.performance.decorator.AbstractDecorator,members:{createDecorator:function(){return new qx.ui.decoration.Decorator(5,"solid","red")}}});qx.test.performance.decorator.Single.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.html.Root":{},"qx.html.Element":{},"qx.util.DisposeUtil":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.element.Element",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMeasure,members:{setUp:function(){var e=document.createElement("div");document.body.appendChild(e);this._doc=new qx.html.Root(e);this._doc.setAttribute("id","doc")},tearDown:function(){qx.html.Element.flush();var e=document.getElementById("doc");document.body.removeChild(e);this.children=this._doc.getChildren();qx.util.DisposeUtil.disposeArray(this,"children");this._doc.dispose()},CREATE_ITERATIONS:1e3,RESIZE_ITERATIONS:500,DISPOSE_ITERATIONS:1e3,_createElement:function(){return new qx.html.Element("div")},testCreate:function(){var e=[],t=this;this.measureRepeated("create element instance",function(){e.push(t._createElement())},function(){for(var t=0;t<e.length;t++)e[t].dispose();this.flush()},this.CREATE_ITERATIONS)},flush:function(){qx.html.Element.flush()},testRender:function(){for(var e=0;e<this.CREATE_ITERATIONS;e++)this._doc.add(this._createElement());var t=this;this.measureRepeated("render/flush elements",function(){t.flush()},function(){},1,this.CREATE_ITERATIONS)},testResizeAndFlush:function(){for(var e=[],t=0;t<this.DISPOSE_ITERATIONS;t++){var i=this._createElement();this._doc.add(i);e.push(i)}this.flush();var n=e.length,s=this;this.measureRepeated("resize/flush elements",function(){for(t=0;t<n;t++)e[t].setStyles({width:"300px",height:"100px"});s.flush();for(t=0;t<n;t++)e[t].setStyles({width:"100px",height:"30px"});s.flush()},function(){},1,this.RESIZE_ITERATIONS)},testRemove:function(){for(var e=0;e<this.CREATE_ITERATIONS;e++)this._doc.add(this._createElement());this.elements=qx.lang.Array.clone(this._doc.getChildren());var t=this;this.measureRepeated("remove/flush elements",function(){t._doc.removeAll();t.flush()},function(){qx.util.DisposeUtil.disposeArray(this,"elements")},1,this.CREATE_ITERATIONS)},testDisposeNonRendered:function(){for(var e=[],t=0;t<this.DISPOSE_ITERATIONS;t++)e.push(this._createElement());this.measureRepeated("dispose not rendered elements",function(){for(var t=0;t<e.length;t++)e[t].dispose()},function(){this.flush()},1,this.DISPOSE_ITERATIONS)},testDisposeRendered:function(){for(var e=[],t=0;t<this.DISPOSE_ITERATIONS;t++){e.push(this._createElement());this._doc.add(e[t])}this.flush();var i=this;this.measureRepeated("dispose rendered elements",function(){for(var t=0;t<e.length;t++)e[t].dispose();i.flush()},function(){this.flush()},1,this.DISPOSE_ITERATIONS)}}});qx.test.performance.element.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMeasure":{require:!0},"qx.ui.container.Composite":{},"qx.ui.layout.Basic":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.AbstractWidget",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMeasure,type:"abstract",members:{DURATION:1e3,setUp:function(){qx.test.performance.widget.AbstractWidget.prototype.setUp.base.call(this);this.flush()},_createWidget:function(){throw new Error("abstract method call")},testCreate:function(){var e=[],t=this;this.measureIterations("create widget instance",null,function(){e.push(t._createWidget())},function(){for(var t=0;t<e.length;t++)e[t].dispose();this.flush()},this.DURATION)},testRender:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic);this.getRoot().add(e);var t,i=this;this.measureIterations("render and flush widgets",function(){t=i._createWidget()},function(){i.getRoot().add(t);i.flush()},function(){e.destroy();i.flush()},this.DURATION)},testResizeAndFlush:function(){var e=this,t=[];this.measureIterations("resize and flush widgets",function(){var i=e._createWidget();t.push(i);e.getRoot().add(i);e.flush()},function(){t[t.length-1].setWidth(300);t[t.length-1].setHeight(100);e.flush()},function(){for(var e=0;e<t.length;e++)t[e].destroy();this.flush()},this.DURATION)},testRemove:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic);this.getRoot().add(e);var t,i=this;this.measureIterations("remove and flush widgets",function(){t=i._createWidget();e.add(t)},function(){e.remove(t);i.flush()},function(){e.destroy();i.flush()},this.DURATION)},testDisposeRendered:function(){this.flush();var e=[],t=this;this.measureIterations("dispose rendered widgets",function(){e.push(t._createWidget());t.getRoot().add(e[e.length-1])},function(){e[e.length-1].destroy();t.flush()},function(){t.flush()},this.DURATION)}}});qx.test.performance.widget.AbstractWidget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Basic",{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:function(e,t,i){this.assert("left"==t||"top"==t,"The property '"+t+"' is not supported by the Basic layout!");this.assertInteger(i)},renderLayout:function(e,t,i){for(var n,s,r,o,a,l=this._getLayoutChildren(),u=0,c=l.length;u<c;u++){s=(n=l[u]).getSizeHint();r=n.getLayoutProperties();o=i.left+(r.left||0)+n.getMarginLeft();a=i.top+(r.top||0)+n.getMarginTop();n.renderLayout(o,a,s.width,s.height)}},_computeSizeHint:function(){for(var e,t,i,n,s,r=this._getLayoutChildren(),o=0,a=0,l=0,u=r.length;l<u;l++){t=(e=r[l]).getSizeHint();i=e.getLayoutProperties();n=t.width+(i.left||0)+e.getMarginLeft()+e.getMarginRight();s=t.height+(i.top||0)+e.getMarginTop()+e.getMarginBottom();n>o&&(o=n);s>a&&(a=s)}return{width:o,height:a}}}});qx.ui.layout.Basic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{require:!0},"qx.ui.form.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.Button",{extend:qx.test.performance.widget.AbstractWidget,members:{_createWidget:function(){return new qx.ui.form.Button}}});qx.test.performance.widget.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{require:!0},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.Label",{extend:qx.test.performance.widget.AbstractWidget,members:{_createWidget:function(){return new qx.ui.basic.Label("juhu")}}});qx.test.performance.widget.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{require:!0},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.RichLabel",{extend:qx.test.performance.widget.AbstractWidget,members:{_createWidget:function(){return new qx.ui.basic.Label("<b>juhu</b>").set({rich:!0})}}});qx.test.performance.widget.RichLabel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{require:!0},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.Widget",{extend:qx.test.performance.widget.AbstractWidget,members:{_createWidget:function(){return new qx.ui.core.Widget}}});qx.test.performance.widget.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{construct:!0,require:!0},"qx.ui.decoration.Decorator":{construct:!0},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.WidgetWithDecorator",{extend:qx.test.performance.widget.AbstractWidget,construct:function(){qx.test.performance.widget.AbstractWidget.constructor.call(this);this.__decorator=(new qx.ui.decoration.Decorator).set({width:1,style:"solid",color:"red"})},members:{_createWidget:function(){return(new qx.ui.core.Widget).set({decorator:this.__decorator})}}});qx.test.performance.widget.WidgetWithDecorator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.performance.widget.AbstractWidget":{require:!0},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.performance.widget.WidgetWithSingle",{extend:qx.test.performance.widget.AbstractWidget,members:{CREATE_ITERATIONS:100,RESIZE_ITERATIONS:50,DISPOSE_ITERATIONS:100,_createWidget:function(){return(new qx.ui.core.Widget).set({decorator:"window"})}}});qx.test.performance.widget.WidgetWithSingle.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.ColorUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.renderer.Color",{extend:qx.dev.unit.TestCase,members:{testValidColors:function(){var e={red:[255,0,0],black:[0,0,0],"#FFF":[255,255,255],"#Ff1":[255,255,17],"#0101FF":[1,1,255],"rgb(123,11,1)":[123,11,1]};for(var t in e)this.assertJsonEquals(e[t],qx.util.ColorUtil.stringToRgb(t))},testInvalidColors:function(){for(var e=["blau","1234","#ff","#ffff","rgb(12,13)"],t=0;t<e.length;t++)this.assertException(function(){qx.util.ColorUtil.stringToRgb(e[t])},Error,"Could not parse color");this.assertException(function(){qx.util.ColorUtil.stringToRgb("inactivecaptiontext")},Error,"Could not convert system colors to RGB")}}});qx.test.renderer.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.manager.Color":{},"qx.test.Theme":{},"qx.Theme":{},"qx.theme.indigo.Color":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.theme.manager.Color",{extend:qx.dev.unit.TestCase,members:{__formerTheme:null,setUp:function(){this.manager=qx.theme.manager.Color.getInstance();this.__formerTheme=this.manager.getTheme()},tearDown:function(){qx.test.Theme.themes=null;this.manager.setTheme(this.__formerTheme);this.__formerTheme=null},testInclude:function(){qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.indigo.Color,colors:{a:"#111111",b:"#222222",c:"#333333"}});this.manager.setTheme(qx.test.Theme.themes.A);var e=this.manager.getTheme();this.assertEquals("#111111",e.colors.a);this.assertEquals("#222222",e.colors.b);this.assertEquals("#333333",e.colors.c)},testResolve:function(){qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.indigo.Color,colors:{a:"#111111",b:"#222222",c:"#333333"}});this.manager.setTheme(qx.test.Theme.themes.A);this.assertEquals("#111111",this.manager.resolve("a"));this.assertEquals("#222222",this.manager.resolve("b"));this.assertEquals("#333333",this.manager.resolve("c"));this.assertEquals("d",this.manager.resolve("d"))},testResolveSelfReference:function(){qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.indigo.Color,colors:{a:"#111111",b:"a",c:"b"}});this.manager.setTheme(qx.test.Theme.themes.A);this.assertEquals("#111111",this.manager.resolve("a"));this.assertEquals("#111111",this.manager.resolve("b"));this.assertEquals("#111111",this.manager.resolve("c"))},testResolveException:function(){qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.indigo.Color,colors:{d:"xyz"}});var e=this;this.assertException(function(){e.manager.setTheme(qx.test.Theme.themes.A)});qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.indigo.Color,colors:{b:"a",c:"b"}});e=this;this.assertException(function(){e.manager.setTheme(qx.test.Theme.themes.A)})}}});qx.test.theme.manager.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Theme":{usage:"dynamic",require:!0},"qx.bom.client.Css":{require:!0}},environment:{provided:[],required:{"css.rgba":{load:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.indigo.Color",{colors:{background:"white","dark-blue":"#323335","light-background":"#F4F4F4",font:"#262626",highlight:"#3D72C9","highlight-shade":"#5583D0","background-selected":"#3D72C9","background-selected-disabled":"#CDCDCD","background-selected-dark":"#323335","background-disabled":"#F7F7F7","background-disabled-checked":"#BBBBBB","background-pane":"white","tabview-unselected":"#1866B5","tabview-button-border":"#134983","tabview-label-active-disabled":"#D9D9D9",link:"#24B","scrollbar-bright":"#F1F1F1","scrollbar-dark":"#EBEBEB",button:"#E8F0E3","button-border":"#BBB","button-border-hovered":"#939393",invalid:"#C00F00","button-box-bright":"#F9F9F9","button-box-dark":"#E3E3E3","button-box-bright-pressed":"#BABABA","button-box-dark-pressed":"#EBEBEB","border-lead":"#888888","window-border":"#dddddd","window-border-inner":"#F4F4F4","white-box-border":"#dddddd",shadow:qx.core.Environment.get("css.rgba")?"rgba(0, 0, 0, 0.4)":"#666666","border-main":"#dddddd","border-light":"#B7B7B7","border-light-shadow":"#686868","border-separator":"#808080",text:"#262626","text-disabled":"#A7A6AA","text-selected":"white","text-placeholder":"#CBC8CD",tooltip:"#FE0","tooltip-text":"black","table-header":[242,242,242],"table-focus-indicator":"#3D72C9","table-header-cell":[235,234,219],"table-row-background-focused-selected":"#3D72C9","table-row-background-focused":"#F4F4F4","table-row-background-selected":[51,94,168],"table-row-background-even":"white","table-row-background-odd":"white","table-row-selected":[255,255,255],"table-row":[0,0,0],"table-row-line":"#EEE","table-column-line":"#EEE","progressive-table-header":"#AAAAAA","progressive-table-row-background-even":[250,248,243],"progressive-table-row-background-odd":[255,255,255],"progressive-progressbar-background":"gray","progressive-progressbar-indicator-done":"#CCCCCC","progressive-progressbar-indicator-undone":"white","progressive-progressbar-percent-background":"gray","progressive-progressbar-percent-text":"white"}});qx.theme.indigo.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.manager.Decoration":{},"qx.test.Theme":{},"qx.Theme":{},"qx.util.AliasManager":{},"qx.ui.style.Stylesheet":{},"qx.util.ColorUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.theme.manager.Decoration",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.manager=qx.theme.manager.Decoration.getInstance();this.__formerTheme=this.manager.getTheme()},tearDown:function(){qx.test.Theme.themes=null;this.manager.setTheme(this.__formerTheme);this.__formerTheme=null},testAlias:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{decoration:"test/decoration",custom:"test/custom"},decorations:{}});this.manager.setTheme(qx.test.Theme.themes.A);var e=qx.util.AliasManager.getInstance();this.assertEquals("test/decoration",e.resolve("decoration"));this.assertEquals("test/custom",e.resolve("custom"))},testAliasExtend:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{decoration:"test/decoration",custom:"test/custom"},decorations:{}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A,decorations:{}});this.manager.setTheme(qx.test.Theme.themes.B);var e=qx.util.AliasManager.getInstance();this.assertEquals("test/decoration",e.resolve("decoration"));this.assertEquals("test/custom",e.resolve("custom"))},testAliasOverride:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{decoration:"test/decoration",custom:"test/custom"},decorations:{}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A,aliases:{decoration:"juhu/decoration"},decorations:{}});this.manager.setTheme(qx.test.Theme.themes.B);var e=qx.util.AliasManager.getInstance();this.assertEquals("juhu/decoration",e.resolve("decoration"));this.assertEquals("test/custom",e.resolve("custom"))},testChangeThemeEventFired:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{decoration:"test/decoration",custom:"test/custom"},decorations:{}});var e=this;this.assertEventFired(this.manager,"changeTheme",function(){e.manager.setTheme(qx.test.Theme.themes.A)},function(t){e.assertIdentical(t.getData(),qx.test.Theme.themes.A,"Setting theme failed!")})},testAddCssClass:function(){qx.Theme.define("qx.test.Theme.themes.B",{aliases:{decoration:"test/decoration",custom:"test/custom"},decorations:{"test-add-css":{style:{backgroundColor:"red",backgroundImage:"icon/16/places/folder-open.png"}}}});this.manager.setTheme(qx.test.Theme.themes.B);var e=this.manager.addCssClass("test-add-css"),t=(qx.ui.style.Stylesheet.getInstance(),document.createElement("div"));t.setAttribute("class",e);document.body.appendChild(t);var i=window.getComputedStyle(t);this.assertEquals("255,0,0",qx.util.ColorUtil.cssStringToRgb(i.getPropertyValue("background-color")))}}});qx.test.theme.manager.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.manager.Font":{},"qx.test.Theme":{},"qx.Theme":{},"qx.theme.modern.Font":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.theme.manager.Font",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.manager=qx.theme.manager.Font.getInstance();this.__formerTheme=this.manager.getTheme()},tearDown:function(){qx.test.Theme.themes=null;this.manager.setTheme(this.__formerTheme);this.__formerTheme=null},testInclude:function(){qx.Theme.define("qx.test.Theme.themes.A",{extend:qx.theme.modern.Font,fonts:{myfont:{include:"default",bold:!0},mysecondfont:{include:"myfont",italic:!0}}});this.manager.setTheme(qx.test.Theme.themes.A);var e=this.manager.getTheme();this.assertKeyInMap("size",e.fonts.myfont,"Including font theme failed");this.assertKeyInMap("lineHeight",e.fonts.myfont,"Including font theme failed");this.assertKeyInMap("family",e.fonts.myfont,"Including font theme failed");this.assertKeyInMap("bold",e.fonts.myfont,"Including font theme failed");this.assertKeyInMap("size",e.fonts.mysecondfont,"Including font theme failed");this.assertKeyInMap("lineHeight",e.fonts.mysecondfont,"Including font theme failed");this.assertKeyInMap("family",e.fonts.mysecondfont,"Including font theme failed");this.assertKeyInMap("bold",e.fonts.mysecondfont,"Including font theme failed");this.assertKeyInMap("italic",e.fonts.mysecondfont,"Including font theme failed")}}});qx.test.theme.manager.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Theme":{usage:"dynamic",require:!0},"qx.bom.client.OperatingSystem":{require:!0}},environment:{provided:[],required:{"os.name":{load:!0,className:"qx.bom.client.OperatingSystem"},"os.version":{load:!0,className:"qx.bom.client.OperatingSystem"}}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.modern.Font",{fonts:{default:{size:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?11:12,lineHeight:1.4,family:"osx"==qx.core.Environment.get("os.name")?["Lucida Grande"]:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?["Tahoma","Liberation Sans","Arial","sans-serif"]:["Segoe UI","Candara"]},bold:{size:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?11:12,lineHeight:1.4,family:"osx"==qx.core.Environment.get("os.name")?["Lucida Grande"]:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?["Tahoma","Liberation Sans","Arial","sans-serif"]:["Segoe UI","Candara"],bold:!0},small:{size:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?10:11,lineHeight:1.4,family:"osx"==qx.core.Environment.get("os.name")?["Lucida Grande"]:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?["Tahoma","Liberation Sans","Arial","sans-serif"]:["Segoe UI","Candara"]},monospace:{size:11,lineHeight:1.4,family:"osx"==qx.core.Environment.get("os.name")?["Lucida Console","Monaco"]:"win"!=qx.core.Environment.get("os.name")||"7"!=qx.core.Environment.get("os.version")&&"vista"!=qx.core.Environment.get("os.version")?["Consolas","DejaVu Sans Mono","Courier New","monospace"]:["Consolas"]}}});qx.theme.modern.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.manager.Icon":{},"qx.test.Theme":{},"qx.Theme":{},"qx.util.AliasManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.theme.manager.Icon",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.manager=qx.theme.manager.Icon.getInstance();this.__formerTheme=this.manager.getTheme()},tearDown:function(){qx.test.Theme.themes=null;this.manager.setTheme(this.__formerTheme);this.__formerTheme=null},testAlias:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{icon:"test/icon",custom:"test/custom"}});this.manager.setTheme(qx.test.Theme.themes.A);var e=qx.util.AliasManager.getInstance();this.assertEquals("test/icon",e.resolve("icon"));this.assertEquals("test/custom",e.resolve("custom"))},testAliasExtend:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{icon:"test/icon",custom:"test/custom"}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A});this.manager.setTheme(qx.test.Theme.themes.B);var e=qx.util.AliasManager.getInstance();this.assertEquals("test/icon",e.resolve("icon"));this.assertEquals("test/custom",e.resolve("custom"))},testAliasOverride:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{icon:"test/icon",custom:"test/custom"}});qx.Theme.define("qx.test.Theme.themes.B",{extend:qx.test.Theme.themes.A,aliases:{icon:"juhu/icon"}});this.manager.setTheme(qx.test.Theme.themes.B);var e=qx.util.AliasManager.getInstance();this.assertEquals("juhu/icon",e.resolve("icon"));this.assertEquals("test/custom",e.resolve("custom"))},testChangeThemeEventFired:function(){qx.Theme.define("qx.test.Theme.themes.A",{aliases:{icon:"my/icon/Theme"}});var e=this;this.assertEventFired(this.manager,"changeTheme",function(){e.manager.setTheme(qx.test.Theme.themes.A)},function(t){e.assertIdentical(t.getData(),qx.test.Theme.themes.A,"Setting theme failed!")})}}});qx.test.theme.manager.Icon.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.Theme":{},"qx.test.theme.manager.mock.Color":{},"qx.test.theme.manager.mock.Decoration":{},"qx.test.theme.manager.mock.Font":{},"qx.test.theme.manager.mock.Appearance":{},"qx.theme.icon.Tango":{},"qx.theme.manager.Decoration":{},"qx.theme.manager.Color":{},"qx.theme.manager.Font":{},"qx.theme.manager.Appearance":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.theme.manager.Meta":{},"qx.ui.form.Button":{},"qx.ui.core.queue.Manager":{},"qx.bom.element.Style":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.theme.manager.Meta",{extend:qx.test.ui.LayoutTestCase,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Theme.define("qx.test.theme.manager.MockAll",{title:"Mock all theme manager",meta:{color:qx.test.theme.manager.mock.Color,decoration:qx.test.theme.manager.mock.Decoration,font:qx.test.theme.manager.mock.Font,appearance:qx.test.theme.manager.mock.Appearance,icon:qx.theme.icon.Tango}});qx.Theme.define("qx.test.theme.manager.MockAppearance",{title:"Mock only appearance manager",meta:{appearance:qx.test.theme.manager.mock.Appearance,decoration:qx.theme.manager.Decoration.getInstance().getTheme(),color:qx.theme.manager.Color.getInstance().getTheme(),font:qx.theme.manager.Font.getInstance().getTheme(),icon:qx.theme.icon.Tango}});qx.Theme.define("qx.test.theme.manager.MockDecoration",{title:"Mock only decorator manager",meta:{decoration:qx.test.theme.manager.mock.Decoration,color:qx.theme.manager.Color.getInstance().getTheme(),font:qx.theme.manager.Font.getInstance().getTheme(),appearance:qx.theme.manager.Appearance.getInstance().getTheme(),icon:qx.theme.icon.Tango}});qx.Theme.define("qx.test.theme.manager.MockColor",{title:"Mock only color manager",meta:{color:qx.test.theme.manager.mock.Color,decoration:qx.theme.manager.Decoration.getInstance().getTheme(),font:qx.theme.manager.Font.getInstance().getTheme(),appearance:qx.theme.manager.Appearance.getInstance().getTheme(),icon:qx.theme.icon.Tango}})},members:{__formerTheme:null,__linerGradientRegExp:/(orange.*yellow|rgb\(255, 165, 0\).*rgb\(255, 255, 0\)|data:image\/png;base64,iVBORw0K)/,setUp:function(){"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&this.skip("Skipped in IE 8.");this.manager=qx.theme.manager.Meta.getInstance();this.__formerTheme=this.manager.getTheme();this.__button=new qx.ui.form.Button("Foo");this.getRoot().add(this.__button);qx.ui.core.queue.Manager.flush()},tearDown:function(){this.__button.destroy();this.manager.setTheme(this.__formerTheme);this.__formerTheme=null},testAllThemeManagerChanged:function(){qx.theme.manager.Meta.getInstance().setTheme(qx.test.theme.manager.MockAll);qx.ui.core.queue.Manager.flush();var e=this.__button.getContentElement().getDomElement();this.assertEquals(qx.bom.element.Style.get(e,"padding"),"30px 80px");this.assertNotNull(qx.bom.element.Style.get(e,"backgroundImage").match(this.__linerGradientRegExp));this.assertEquals(qx.bom.element.Style.get(e,"borderTopLeftRadius"),"10px");e=this.__button.getChildControl("label").getContentElement().getDomElement();this.assertEquals(qx.bom.element.Style.get(e,"color"),"rgb(255, 0, 0)")},testColorThemeManagerChanged:function(){qx.theme.manager.Meta.getInstance().setTheme(qx.test.theme.manager.MockColor);qx.ui.core.queue.Manager.flush();var e=this.__button.getContentElement().getDomElement();this.assertNotNull(qx.bom.element.Style.get(e,"backgroundImage").match(this.__linerGradientRegExp))},testDecoratorThemeManagerChanged:function(){qx.theme.manager.Meta.getInstance().setTheme(qx.test.theme.manager.MockDecoration);qx.ui.core.queue.Manager.flush();var e=this.__button.getContentElement().getDomElement();this.assertEquals(qx.bom.element.Style.get(e,"borderTopLeftRadius"),"10px")},testAppearanceThemeManagerChanged:function(){qx.theme.manager.Meta.getInstance().setTheme(qx.test.theme.manager.MockAppearance);qx.ui.core.queue.Manager.flush();var e=this.__button.getContentElement().getDomElement();this.assertEquals(qx.bom.element.Style.get(e,"padding"),"30px 80px")},testColorThemeChanged:function(){qx.theme.manager.Color.getInstance().setTheme(qx.test.theme.manager.mock.Color);qx.ui.core.queue.Manager.flush();var e=this.__button.getContentElement().getDomElement();this.assertNotNull(qx.bom.element.Style.get(e,"backgroundImage").match(this.__linerGradientRegExp))}},destruct:function(){}});qx.test.theme.manager.Meta.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Theme":{usage:"dynamic",require:!0},"qx.bom.client.Css":{require:!0}},environment:{provided:[],required:{"css.rgba":{load:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.modern.Color",{colors:{"background-application":"#DFDFDF","background-pane":"#F3F3F3","background-light":"#FCFCFC","background-medium":"#EEEEEE","background-splitpane":"#AFAFAF","background-tip":"#ffffdd","background-tip-error":"#C72B2B","background-odd":"#E4E4E4","progressbar-background":"white","text-light":"#909090","text-gray":"#4a4a4a","text-label":"#1a1a1a","text-title":"#314a6e","text-input":"#000000","text-hovered":"#001533","text-disabled":"#7B7A7E","text-selected":"#fffefe","text-active":"#26364D","text-inactive":"#404955","text-placeholder":"#CBC8CD","border-inner-scrollbar":"white","border-main":"#4d4d4d","menu-separator-top":"#C5C5C5","menu-separator-bottom":"#FAFAFA","border-separator":"#808080","border-toolbar-button-outer":"#b6b6b6","border-toolbar-border-inner":"#f8f8f8","border-toolbar-separator-right":"#f4f4f4","border-toolbar-separator-left":"#b8b8b8","border-input":"#334866","border-inner-input":"white","border-disabled":"#B6B6B6","border-pane":"#00204D","border-button":"#666666","border-column":"#CCCCCC","border-focused":"#99C3FE",invalid:"#990000","border-focused-invalid":"#FF9999","border-dragover":"#33508D","keyboard-focus":"black","table-pane":"#F3F3F3","table-focus-indicator":"#0880EF","table-row-background-focused-selected":"#084FAB","table-row-background-focused":"#80B4EF","table-row-background-selected":"#084FAB","table-row-background-even":"#F3F3F3","table-row-background-odd":"#E4E4E4","table-row-selected":"#fffefe","table-row":"#1a1a1a","table-row-line":"#CCC","table-column-line":"#CCC","table-header-hovered":"white","progressive-table-header":"#AAAAAA","progressive-table-header-border-right":"#F2F2F2","progressive-table-row-background-even":"#F4F4F4","progressive-table-row-background-odd":"#E4E4E4","progressive-progressbar-background":"gray","progressive-progressbar-indicator-done":"#CCCCCC","progressive-progressbar-indicator-undone":"white","progressive-progressbar-percent-background":"gray","progressive-progressbar-percent-text":"white","selected-start":"#004DAD","selected-end":"#00368A","background-selected":"#00368A","tabview-background":"#07125A",shadow:qx.core.Environment.get("css.rgba")?"rgba(0, 0, 0, 0.4)":"#999999","pane-start":"#FBFBFB","pane-end":"#F0F0F0","group-background":"#E8E8E8","group-border":"#B4B4B4","radiobutton-background":"#EFEFEF","checkbox-border":"#314A6E","checkbox-focus":"#87AFE7","checkbox-hovered":"#B2D2FF","checkbox-hovered-inner":"#D1E4FF","checkbox-inner":"#EEEEEE","checkbox-start":"#E4E4E4","checkbox-end":"#F3F3F3","checkbox-disabled-border":"#787878","checkbox-disabled-inner":"#CACACA","checkbox-disabled-start":"#D0D0D0","checkbox-disabled-end":"#D8D8D8","checkbox-hovered-inner-invalid":"#FAF2F2","checkbox-hovered-invalid":"#F7E9E9","radiobutton-checked":"#005BC3","radiobutton-disabled":"#D5D5D5","radiobutton-checked-disabled":"#7B7B7B","radiobutton-hovered-invalid":"#F7EAEA","tooltip-error":"#C82C2C","scrollbar-start":"#CCCCCC","scrollbar-end":"#F1F1F1","scrollbar-slider-start":"#EEEEEE","scrollbar-slider-end":"#C3C3C3","button-border-disabled":"#959595","button-start":"#F0F0F0","button-end":"#AFAFAF","button-disabled-start":"#F4F4F4","button-disabled-end":"#BABABA","button-hovered-start":"#F0F9FE","button-hovered-end":"#8EB8D6","button-focused":"#83BAEA","border-invalid":"#930000","input-start":"#F0F0F0","input-end":"#FBFCFB","input-focused-start":"#D7E7F4","input-focused-end":"#5CB0FD","input-focused-inner-invalid":"#FF6B78","input-border-disabled":"#9B9B9B","input-border-inner":"white","toolbar-start":"#EFEFEF","toolbar-end":"#DDDDDD","window-border":"#00204D","window-border-caption":"#727272","window-caption-active-text":"white","window-caption-active-start":"#084FAA","window-caption-active-end":"#003B91","window-caption-inactive-start":"#F2F2F2","window-caption-inactive-end":"#DBDBDB","window-statusbar-background":"#EFEFEF","tabview-start":"#FCFCFC","tabview-end":"#EEEEEE","tabview-inactive":"#777D8D","tabview-inactive-start":"#EAEAEA","tabview-inactive-end":"#CECECE","table-header-start":"#E8E8E8","table-header-end":"#B3B3B3","menu-start":"#E8E8E9","menu-end":"#D9D9D9","menubar-start":"#E8E8E8","groupitem-start":"#A7A7A7","groupitem-end":"#949494","groupitem-text":"white","virtual-row-layer-background-even":"white","virtual-row-layer-background-odd":"white"}});qx.theme.modern.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.modern.Color":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.test.theme.manager.mock.Color",{extend:qx.theme.modern.Color,colors:{"text-label":"red","border-button":"green","button-start":"orange","button-end":"yellow"}});qx.test.theme.manager.mock.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.modern.Decoration",{aliases:{decoration:"qx/decoration/Modern"},decorations:{main:{style:{width:1,color:"border-main"}},selected:{style:{startColorPosition:0,endColorPosition:100,startColor:"selected-start",endColor:"selected-end"}},dragover:{style:{bottom:[2,"solid","border-dragover"]}},pane:{style:{width:1,color:"tabview-background",radius:3,shadowColor:"shadow",shadowBlurRadius:2,shadowLength:0,gradientStart:["pane-start",0],gradientEnd:["pane-end",100]}},group:{style:{backgroundColor:"group-background",radius:4,color:"group-border",width:1}},"keyboard-focus":{style:{width:1,color:"keyboard-focus",style:"dotted"}},radiobutton:{style:{backgroundColor:"radiobutton-background",radius:5,width:1,innerWidth:2,color:"checkbox-border",innerColor:"radiobutton-background",shadowLength:0,shadowBlurRadius:0,shadowColor:"checkbox-focus"}},"radiobutton-checked":{include:"radiobutton",style:{backgroundColor:"radiobutton-checked"}},"radiobutton-checked-focused":{include:"radiobutton-checked",style:{shadowBlurRadius:4}},"radiobutton-checked-hovered":{include:"radiobutton-checked",style:{innerColor:"checkbox-hovered"}},"radiobutton-focused":{include:"radiobutton",style:{shadowBlurRadius:4}},"radiobutton-hovered":{include:"radiobutton",style:{backgroundColor:"checkbox-hovered",innerColor:"checkbox-hovered"}},"radiobutton-disabled":{include:"radiobutton",style:{innerColor:"radiobutton-disabled",backgroundColor:"radiobutton-disabled",color:"checkbox-disabled-border"}},"radiobutton-checked-disabled":{include:"radiobutton-disabled",style:{backgroundColor:"radiobutton-checked-disabled"}},"radiobutton-invalid":{include:"radiobutton",style:{color:"invalid"}},"radiobutton-checked-invalid":{include:"radiobutton-checked",style:{color:"invalid"}},"radiobutton-checked-focused-invalid":{include:"radiobutton-checked-focused",style:{color:"invalid",shadowColor:"invalid"}},"radiobutton-checked-hovered-invalid":{include:"radiobutton-checked-hovered",style:{color:"invalid",innerColor:"radiobutton-hovered-invalid"}},"radiobutton-focused-invalid":{include:"radiobutton-focused",style:{color:"invalid",shadowColor:"invalid"}},"radiobutton-hovered-invalid":{include:"radiobutton-hovered",style:{color:"invalid",innerColor:"radiobutton-hovered-invalid",backgroundColor:"radiobutton-hovered-invalid"}},"separator-horizontal":{style:{widthLeft:1,colorLeft:"border-separator"}},"separator-vertical":{style:{widthTop:1,colorTop:"border-separator"}},"tooltip-error":{style:{backgroundColor:"tooltip-error",radius:4,shadowColor:"shadow",shadowBlurRadius:2,shadowLength:1}},popup:{style:{width:1,color:"border-main",shadowColor:"shadow",shadowBlurRadius:3,shadowLength:1}},"scrollbar-horizontal":{style:{gradientStart:["scrollbar-start",0],gradientEnd:["scrollbar-end",100]}},"scrollbar-vertical":{include:"scrollbar-horizontal",style:{orientation:"horizontal"}},"scrollbar-slider-horizontal":{style:{gradientStart:["scrollbar-slider-start",0],gradientEnd:["scrollbar-slider-end",100],color:"border-main",width:1,radius:3}},"scrollbar-slider-vertical":{include:"scrollbar-slider-horizontal",style:{orientation:"horizontal"}},"scrollbar-slider-horizontal-disabled":{include:"scrollbar-slider-horizontal",style:{color:"button-border-disabled"}},"scrollbar-slider-vertical-disabled":{include:"scrollbar-slider-vertical",style:{color:"button-border-disabled"}},button:{style:{radius:3,color:"border-button",width:1,startColor:"button-start",endColor:"button-end",startColorPosition:35,endColorPosition:100}},"button-disabled":{include:"button",style:{color:"button-border-disabled",startColor:"button-disabled-start",endColor:"button-disabled-end"}},"button-hovered":{include:"button",style:{startColor:"button-hovered-start",endColor:"button-hovered-end"}},"button-checked":{include:"button",style:{endColor:"button-start",startColor:"button-end"}},"button-pressed":{include:"button",style:{endColor:"button-hovered-start",startColor:"button-hovered-end"}},"button-focused":{style:{radius:3,color:"border-button",width:1,innerColor:"button-focused",innerWidth:2,startColor:"button-start",endColor:"button-end",startColorPosition:30,endColorPosition:100}},"button-checked-focused":{include:"button-focused",style:{endColor:"button-start",startColor:"button-end"}},"button-invalid":{include:"button",style:{color:"border-invalid"}},"button-disabled-invalid":{include:"button-disabled",style:{color:"border-invalid"}},"button-hovered-invalid":{include:"button-hovered",style:{color:"border-invalid"}},"button-checked-invalid":{include:"button-checked",style:{color:"border-invalid"}},"button-pressed-invalid":{include:"button-pressed",style:{color:"border-invalid"}},"button-focused-invalid":{include:"button-focused",style:{color:"border-invalid"}},"button-checked-focused-invalid":{include:"button-checked-focused",style:{color:"border-invalid"}},checkbox:{style:{width:1,color:"checkbox-border",innerWidth:1,innerColor:"checkbox-inner",backgroundColor:"checkbox-end",shadowLength:0,shadowBlurRadius:0,shadowColor:"checkbox-focus"}},"checkbox-hovered":{include:"checkbox",style:{innerColor:"checkbox-hovered-inner",backgroundColor:"checkbox-hovered"}},"checkbox-focused":{include:"checkbox",style:{shadowBlurRadius:4}},"checkbox-disabled":{include:"checkbox",style:{color:"checkbox-disabled-border",innerColor:"checkbox-disabled-inner",backgroundColor:"checkbox-disabled-end"}},"checkbox-invalid":{include:"checkbox",style:{color:"invalid"}},"checkbox-hovered-invalid":{include:"checkbox-hovered",style:{color:"invalid",innerColor:"checkbox-hovered-inner-invalid",backgroundColor:"checkbox-hovered-invalid"}},"checkbox-focused-invalid":{include:"checkbox-focused",style:{color:"invalid",shadowColor:"invalid"}},input:{style:{color:"border-input",innerColor:"border-inner-input",innerWidth:1,width:1,backgroundColor:"background-light",startColor:"input-start",endColor:"input-end",startColorPosition:0,endColorPosition:12,colorPositionUnit:"px"}},"border-invalid":{include:"input",style:{color:"border-invalid"}},"input-focused":{include:"input",style:{startColor:"input-focused-start",innerColor:"input-focused-end",endColorPosition:4}},"input-focused-invalid":{include:"input-focused",style:{innerColor:"input-focused-inner-invalid",color:"border-invalid"}},"input-disabled":{include:"input",style:{color:"input-border-disabled"}},toolbar:{style:{startColorPosition:40,endColorPosition:60,startColor:"toolbar-start",endColor:"toolbar-end"}},"toolbar-button-hovered":{style:{color:"border-toolbar-button-outer",width:1,innerWidth:1,innerColor:"border-toolbar-border-inner",radius:2,gradientStart:["button-start",30],gradientEnd:["button-end",100]}},"toolbar-button-checked":{include:"toolbar-button-hovered",style:{gradientStart:["button-end",30],gradientEnd:["button-start",100]}},"toolbar-separator":{style:{widthLeft:1,widthRight:1,colorLeft:"border-toolbar-separator-left",colorRight:"border-toolbar-separator-right",styleLeft:"solid",styleRight:"solid"}},"toolbar-part":{style:{backgroundImage:"decoration/toolbar/toolbar-part.gif",backgroundRepeat:"repeat-y"}},"tabview-pane":{style:{width:1,color:"window-border",radius:3,gradientStart:["tabview-start",90],gradientEnd:["tabview-end",100]}},"tabview-page-button-top-active":{style:{radius:[3,3,0,0],width:[1,1,0,1],color:"tabview-background",backgroundColor:"tabview-start",shadowLength:1,shadowColor:"shadow",shadowBlurRadius:2}},"tabview-page-button-top-inactive":{style:{radius:[3,3,0,0],color:"tabview-inactive",colorBottom:"tabview-background",width:1,gradientStart:["tabview-inactive-start",0],gradientEnd:["tabview-inactive-end",100]}},"tabview-page-button-bottom-active":{include:"tabview-page-button-top-active",style:{radius:[0,0,3,3],width:[0,1,1,1],backgroundColor:"tabview-inactive-start",shadowLength:0,shadowBlurRadius:0}},"tabview-page-button-bottom-inactive":{include:"tabview-page-button-top-inactive",style:{radius:[0,0,3,3],width:[0,1,1,1],colorBottom:"tabview-inactive",colorTop:"tabview-background"}},"tabview-page-button-left-active":{include:"tabview-page-button-top-active",style:{radius:[3,0,0,3],width:[1,0,1,1],shadowLength:0,shadowBlurRadius:0}},"tabview-page-button-left-inactive":{include:"tabview-page-button-top-inactive",style:{radius:[3,0,0,3],width:[1,0,1,1],colorBottom:"tabview-inactive",colorRight:"tabview-background"}},"tabview-page-button-right-active":{include:"tabview-page-button-top-active",style:{radius:[0,3,3,0],width:[1,1,1,0],shadowLength:0,shadowBlurRadius:0}},"tabview-page-button-right-inactive":{include:"tabview-page-button-top-inactive",style:{radius:[0,3,3,0],width:[1,1,1,0],colorBottom:"tabview-inactive",colorLeft:"tabview-background"}},splitpane:{style:{backgroundColor:"background-pane",width:3,color:"background-splitpane",style:"solid"}},window:{style:{radius:[5,5,0,0],shadowBlurRadius:4,shadowLength:2,shadowColor:"shadow"}},"window-incl-statusbar":{include:"window",style:{radius:[5,5,5,5]}},"window-resize-frame":{style:{radius:[5,5,0,0],width:1,color:"border-main"}},"window-resize-frame-incl-statusbar":{include:"window-resize-frame",style:{radius:[5,5,5,5]}},"window-captionbar-active":{style:{width:1,color:"window-border",colorBottom:"window-border-caption",radius:[5,5,0,0],gradientStart:["window-caption-active-start",30],gradientEnd:["window-caption-active-end",70]}},"window-captionbar-inactive":{include:"window-captionbar-active",style:{gradientStart:["window-caption-inactive-start",30],gradientEnd:["window-caption-inactive-end",70]}},"window-statusbar":{style:{backgroundColor:"window-statusbar-background",width:[0,1,1,1],color:"window-border",radius:[0,0,5,5]}},"window-pane":{style:{backgroundColor:"background-pane",width:1,color:"window-border",widthTop:0}},table:{style:{width:1,color:"border-main",style:"solid"}},"table-statusbar":{style:{widthTop:1,colorTop:"border-main",style:"solid"}},"table-scroller-header":{style:{gradientStart:["table-header-start",10],gradientEnd:["table-header-end",90],widthBottom:1,colorBottom:"border-main"}},"table-header-cell":{style:{widthRight:1,colorRight:"border-separator",styleRight:"solid"}},"table-header-cell-hovered":{style:{widthRight:1,colorRight:"border-separator",styleRight:"solid",widthBottom:1,colorBottom:"table-header-hovered",styleBottom:"solid"}},"table-scroller-focus-indicator":{style:{width:2,color:"table-focus-indicator",style:"solid"}},"progressive-table-header":{style:{width:1,color:"border-main",style:"solid"}},"progressive-table-header-cell":{style:{gradientStart:["table-header-start",10],gradientEnd:["table-header-end",90],widthRight:1,colorRight:"progressive-table-header-border-right"}},menu:{style:{gradientStart:["menu-start",0],gradientEnd:["menu-end",100],shadowColor:"shadow",shadowBlurRadius:2,shadowLength:1,width:1,color:"border-main"}},"menu-separator":{style:{widthTop:1,colorTop:"menu-separator-top",widthBottom:1,colorBottom:"menu-separator-bottom"}},menubar:{style:{gradientStart:["menubar-start",0],gradientEnd:["menu-end",100],width:1,color:"border-separator"}},"app-header":{style:{gradientStart:["#243B58",0],gradientEnd:["#1D2D45",100]}},progressbar:{style:{width:1,color:"border-input"}},"group-item":{style:{startColorPosition:0,endColorPosition:100,startColor:"groupitem-start",endColor:"groupitem-end"}}}});qx.theme.modern.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.modern.Decoration":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.test.theme.manager.mock.Decoration",{extend:qx.theme.modern.Decoration,decorations:{button:{style:{radius:10,color:"border-button",width:2,startColor:"button-start",endColor:"button-end",startColorPosition:35,endColorPosition:100}}}});qx.test.theme.manager.mock.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.modern.Font":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.test.theme.manager.mock.Font",{extend:qx.theme.modern.Font,fonts:{default:{size:99,family:["arial","sans-serif"]}}});qx.test.theme.manager.mock.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.modern.Appearance",{appearances:{widget:{},root:{style:function(e){return{backgroundColor:"background-application",textColor:"text-label",font:"default"}}},label:{style:function(e){return{textColor:e.disabled?"text-disabled":void 0}}},"move-frame":{style:function(e){return{decorator:"main"}}},"resize-frame":"move-frame","dragdrop-cursor":{style:function(e){var t="nodrop";e.copy?t="copy":e.move?t="move":e.alias&&(t="alias");return{source:"decoration/cursors/"+t+".gif",position:"right-top",offset:[2,16,2,6]}}},image:{style:function(e){return{opacity:!e.replacement&&e.disabled?.3:1}}},atom:{},"atom/label":"label","atom/icon":"image",popup:{style:function(e){return{decorator:"popup",backgroundColor:"background-light"}}},"button-frame":{alias:"atom",style:function(e){var t,i,n=[3,9];if(e.checked&&e.focused&&!e.inner){t="button-checked-focused";i=void 0;n=[1,7]}else if(e.disabled){t="button-disabled";i=void 0}else if(e.pressed){t="button-pressed";i="text-hovered"}else if(e.checked){t="button-checked";i=void 0}else if(e.hovered){t="button-hovered";i="text-hovered"}else if(e.focused&&!e.inner){t="button-focused";i=void 0;n=[1,7]}else{t="button";i=void 0}e.invalid&&!e.disabled&&(t+="-invalid");return{decorator:t,textColor:i,padding:n,margin:[1,0]}}},"button-frame/image":{style:function(e){return{opacity:!e.replacement&&e.disabled?.5:1}}},button:{alias:"button-frame",include:"button-frame",style:function(e){return{center:!0}}},"hover-button":{alias:"atom",include:"atom",style:function(e){return{decorator:e.hovered?"selected":void 0,textColor:e.hovered?"text-selected":void 0}}},menubutton:{include:"button",alias:"button",style:function(e){return{icon:"decoration/arrows/down.png",iconPosition:"right"}}},splitbutton:{},"splitbutton/button":"button","splitbutton/arrow":{alias:"button",include:"button",style:function(e,t){return{icon:"decoration/arrows/down.png",padding:[t.padding[0],t.padding[1]-6],marginLeft:1}}},"form-renderer-label":{include:"label",style:function(){return{paddingTop:4}}},checkbox:{alias:"atom",style:function(e){return{icon:e.checked?"decoration/form/checked.png":e.undetermined?"decoration/form/undetermined.png":"qx/static/blank.gif",minWidth:14,gap:8,paddingLeft:2}}},"checkbox/icon":{style:function(e){var t;t=e.disabled?"checkbox-disabled":e.focused?"checkbox-focused":e.hovered?"checkbox-hovered":"checkbox";return{decorator:t+=e.invalid&&!e.disabled?"-invalid":"",padding:e.undetermined?[3,1]:1,width:10,height:10}}},radiobutton:{alias:"atom",style:function(e){return{icon:"qx/static/blank.png",gap:8,paddingLeft:2}}},"radiobutton/icon":{style:function(e){var t;t=e.disabled&&!e.checked?"radiobutton-disabled":e.checked&&e.focused?"radiobutton-checked-focused":e.checked&&e.disabled?"radiobutton-checked-disabled":e.checked&&e.hovered?"radiobutton-checked-hovered":e.checked?"radiobutton-checked":e.focused?"radiobutton-focused":e.hovered?"radiobutton-hovered":"radiobutton";return{decorator:t+=e.invalid&&!e.disabled?"-invalid":"",width:10,height:10}}},textfield:{style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused",padding:[2,4,1],textColor:e.disabled?"text-disabled":e.showingPlaceholder?"text-placeholder":"text-input"}}},textarea:{include:"textfield",style:function(e){return{padding:4}}},spinner:{style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused"}}},"spinner/textfield":{style:function(e){return{marginRight:2,padding:[2,4,1],textColor:e.disabled?"text-disabled":"text-input"}}},"spinner/upbutton":{alias:"button-frame",include:"button-frame",style:function(e,t){return{icon:"decoration/arrows/up-small.png",padding:[t.padding[0]-1,t.padding[1]-5],margin:0}}},"spinner/downbutton":{alias:"button-frame",include:"button-frame",style:function(e,t){return{icon:"decoration/arrows/down-small.png",padding:[t.padding[0]-1,t.padding[1]-5],margin:0}}},datefield:"combobox","datefield/button":{alias:"combobox/button",include:"combobox/button",style:function(e){return{icon:"icon/16/apps/office-calendar.png",padding:[0,3],decorator:void 0}}},"datefield/textfield":"combobox/textfield","datefield/list":{alias:"datechooser",include:"datechooser",style:function(e){return{decorator:void 0}}},groupbox:{style:function(e){return{legendPosition:"top"}}},"groupbox/legend":{alias:"atom",style:function(e){return{padding:[1,0,1,4],textColor:e.invalid?"invalid":"text-title",font:"bold"}}},"groupbox/frame":{style:function(e){return{padding:10,margin:1,decorator:"group"}}},"check-groupbox":"groupbox","check-groupbox/legend":{alias:"checkbox",include:"checkbox",style:function(e){return{padding:[1,0,1,4],textColor:e.invalid?"invalid":"text-title",font:"bold"}}},"radio-groupbox":"groupbox","radio-groupbox/legend":{alias:"radiobutton",include:"radiobutton",style:function(e){return{padding:[1,0,1,4],textColor:e.invalid?"invalid":"text-title",font:"bold"}}},scrollarea:"widget","scrollarea/corner":{style:function(e){return{backgroundColor:"background-application"}}},"scrollarea/pane":"widget","scrollarea/scrollbar-x":"scrollbar","scrollarea/scrollbar-y":"scrollbar",scrollbar:{style:function(e){return e.native?{}:{width:e.horizontal?void 0:16,height:e.horizontal?16:void 0,decorator:e.horizontal?"scrollbar-horizontal":"scrollbar-vertical",padding:1}}},"scrollbar/slider":{alias:"slider",style:function(e){return{padding:e.horizontal?[0,1,0,1]:[1,0,1,0]}}},"scrollbar/slider/knob":{include:"button-frame",style:function(e){var t=e.horizontal?"scrollbar-slider-horizontal":"scrollbar-slider-vertical";e.disabled&&(t+="-disabled");return{decorator:t,minHeight:e.horizontal?void 0:9,minWidth:e.horizontal?9:void 0,padding:void 0,margin:0}}},"scrollbar/button":{alias:"button-frame",include:"button-frame",style:function(e){var t="decoration/scrollbar/scrollbar-";e.left?t+="left.png":e.right?t+="right.png":e.up?t+="up.png":t+="down.png";if(e.left||e.right){return{padding:[3,0,3,e.left?3:4],icon:t,width:15,height:14,margin:0}}return{padding:3,icon:t,width:14,height:15,margin:0}}},"scrollbar/button-begin":"scrollbar/button","scrollbar/button-end":"scrollbar/button",slider:{style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused"}}},"slider/knob":{include:"button-frame",style:function(e){return{decorator:e.disabled?"scrollbar-slider-horizontal-disabled":"scrollbar-slider-horizontal",height:14,width:14,padding:0,margin:0}}},list:{alias:"scrollarea",style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{backgroundColor:"background-light",decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused"}}},"list/pane":"widget",listitem:{alias:"atom",style:function(e){return{padding:e.dragover?[4,4,2,4]:4,textColor:e.selected?"text-selected":void 0,decorator:e.selected?"selected":void 0,opacity:e.drag?.5:void 0}}},slidebar:{},"slidebar/scrollpane":{},"slidebar/content":{},"slidebar/button-forward":{alias:"button-frame",include:"button-frame",style:function(e){return{padding:5,center:!0,icon:e.vertical?"decoration/arrows/down.png":"decoration/arrows/right.png"}}},"slidebar/button-backward":{alias:"button-frame",include:"button-frame",style:function(e){return{padding:5,center:!0,icon:e.vertical?"decoration/arrows/up.png":"decoration/arrows/left.png"}}},tabview:{style:function(e){return{contentPadding:16}}},"tabview/bar":{alias:"slidebar",style:function(e){var t={marginBottom:e.barTop?-1:0,marginTop:e.barBottom?-4:0,marginLeft:e.barRight?-3:0,marginRight:e.barLeft?-1:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};if(e.barTop||e.barBottom){t.paddingLeft=5;t.paddingRight=7}else{t.paddingTop=5;t.paddingBottom=7}return t}},"tabview/bar/button-forward":{include:"slidebar/button-forward",alias:"slidebar/button-forward",style:function(e){return e.barTop||e.barBottom?{marginTop:2,marginBottom:2}:{marginLeft:2,marginRight:2}}},"tabview/bar/button-backward":{include:"slidebar/button-backward",alias:"slidebar/button-backward",style:function(e){return e.barTop||e.barBottom?{marginTop:2,marginBottom:2}:{marginLeft:2,marginRight:2}}},"tabview/bar/scrollpane":{},"tabview/pane":{style:function(e){return{decorator:"tabview-pane",marginBottom:e.barBottom?-1:0,marginTop:e.barTop?-1:0,marginLeft:e.barLeft?-1:0,marginRight:e.barRight?-1:0}}},"tabview-page":{alias:"widget",include:"widget",style:function(e){return{padding:[4,3]}}},"tabview-page/button":{alias:"atom",style:function(e){var t,i=0,n=0,s=0,r=0,o=0;if(e.checked)if(e.barTop){t="tabview-page-button-top-active";i=[5,11];r=e.firstTab?0:-5;o=e.lastTab?0:-5}else if(e.barBottom){t="tabview-page-button-bottom-active";i=[5,11];r=e.firstTab?0:-5;o=e.lastTab?0:-5;n=3}else if(e.barRight){t="tabview-page-button-right-active";i=[5,10];n=e.firstTab?0:-5;s=e.lastTab?0:-5;r=2}else{t="tabview-page-button-left-active";i=[5,10];n=e.firstTab?0:-5;s=e.lastTab?0:-5}else if(e.barTop){t="tabview-page-button-top-inactive";i=[3,9];n=4;r=e.firstTab?5:1;o=1}else if(e.barBottom){t="tabview-page-button-bottom-inactive";i=[3,9];s=4;r=e.firstTab?5:1;o=1;n=3}else if(e.barRight){t="tabview-page-button-right-inactive";i=[3,9];o=5;n=e.firstTab?5:1;s=1;r=3}else{t="tabview-page-button-left-inactive";i=[3,9];r=5;n=e.firstTab?5:1;s=1;o=1}return{zIndex:e.checked?10:5,decorator:t,padding:i,marginTop:n,marginBottom:s,marginLeft:r,marginRight:o,textColor:e.disabled?"text-disabled":e.checked?"text-active":"text-inactive"}}},"tabview-page/button/label":{alias:"label",style:function(e){return{padding:e.focused?[0,1,0,1]:[1,2,1,2],decorator:e.focused?"keyboard-focus":void 0}}},"tabview-page/button/close-button":{alias:"atom",style:function(e){return{icon:"qx/icon/Tango/16/actions/window-close.png"}}},toolbar:{style:function(e){return{decorator:"toolbar",spacing:2}}},"toolbar/part":{style:function(e){return{decorator:"toolbar-part",spacing:2}}},"toolbar/part/container":{style:function(e){return{paddingLeft:2,paddingRight:2}}},"toolbar/part/handle":{style:function(e){return{source:"decoration/toolbar/toolbar-handle-knob.gif",marginLeft:3,marginRight:3}}},"toolbar-button":{alias:"atom",style:function(e){var t;e.pressed||e.checked&&!e.hovered||e.checked&&e.disabled?t="toolbar-button-checked":e.hovered&&!e.disabled&&(t="toolbar-button-hovered");return{marginTop:2,marginBottom:2,padding:(e.pressed||e.checked||e.hovered)&&!e.disabled||e.disabled&&e.checked?3:5,decorator:t}}},"toolbar-menubutton":{alias:"toolbar-button",include:"toolbar-button",style:function(e){return{showArrow:!0}}},"toolbar-menubutton/arrow":{alias:"image",include:"image",style:function(e){return{source:"decoration/arrows/down-small.png"}}},"toolbar-splitbutton":{style:function(e){return{marginTop:2,marginBottom:2}}},"toolbar-splitbutton/button":{alias:"toolbar-button",include:"toolbar-button",style:function(e){return{icon:"decoration/arrows/down.png",marginTop:void 0,marginBottom:void 0}}},"toolbar-splitbutton/arrow":{alias:"toolbar-button",include:"toolbar-button",style:function(e){if(e.pressed||e.checked||e.hovered&&!e.disabled)var t=1;else t=3;return{padding:t,icon:"decoration/arrows/down.png",marginTop:void 0,marginBottom:void 0}}},"toolbar-separator":{style:function(e){return{decorator:"toolbar-separator",margin:7}}},tree:"list","tree-item":{style:function(e){var t=e.selected?"selected":void 0;return{padding:[2,6],textColor:e.selected?"text-selected":void 0,decorator:t,opacity:e.drag?.5:void 0}}},"tree-item/icon":{include:"image",style:function(e){return{paddingRight:5}}},"tree-item/label":"label","tree-item/open":{include:"image",style:function(e){return{padding:[0,5,0,2],source:e.selected&&e.opened?"decoration/tree/open-selected.png":e.selected&&!e.opened?"decoration/tree/closed-selected.png":e.opened?"decoration/tree/open.png":"decoration/tree/closed.png"}}},"tree-folder":{include:"tree-item",alias:"tree-item",style:function(e){var t,i;if(e.small){t=e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png";i="icon/16/places/folder-open.png"}else if(e.large){t=e.opened?"icon/32/places/folder-open.png":"icon/32/places/folder.png";i="icon/32/places/folder-open.png"}else{t=e.opened?"icon/22/places/folder-open.png":"icon/22/places/folder.png";i="icon/22/places/folder-open.png"}return{icon:t,iconOpened:i}}},"tree-file":{include:"tree-item",alias:"tree-item",style:function(e){return{icon:e.small?"icon/16/mimetypes/office-document.png":e.large?"icon/32/mimetypes/office-document.png":"icon/22/mimetypes/office-document.png"}}},treevirtual:"table","treevirtual-folder":{style:function(e){return{icon:e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png"}}},"treevirtual-file":{include:"treevirtual-folder",alias:"treevirtual-folder",style:function(e){return{icon:"icon/16/mimetypes/office-document.png"}}},"treevirtual-line":{style:function(e){return{icon:"qx/static/blank.gif"}}},"treevirtual-contract":{style:function(e){return{icon:"decoration/tree/open.png",paddingLeft:5,paddingTop:2}}},"treevirtual-expand":{style:function(e){return{icon:"decoration/tree/closed.png",paddingLeft:5,paddingTop:2}}},"treevirtual-only-contract":"treevirtual-contract","treevirtual-only-expand":"treevirtual-expand","treevirtual-start-contract":"treevirtual-contract","treevirtual-start-expand":"treevirtual-expand","treevirtual-end-contract":"treevirtual-contract","treevirtual-end-expand":"treevirtual-expand","treevirtual-cross-contract":"treevirtual-contract","treevirtual-cross-expand":"treevirtual-expand","treevirtual-end":{style:function(e){return{icon:"qx/static/blank.gif"}}},"treevirtual-cross":{style:function(e){return{icon:"qx/static/blank.gif"}}},tooltip:{include:"popup",style:function(e){return{backgroundColor:"background-tip",padding:[1,3,2,3],offset:[15,5,5,5]}}},"tooltip/atom":"atom","tooltip-error":{style:function(e){return{placeMethod:"widget",offset:[-3,1,0,0],arrowPosition:e.placementLeft?"left":"right",position:"right-top",showTimeout:100,hideTimeout:1e4,padding:[0,4,4,0]}}},"tooltip-error/arrow":{include:"image",style:function(e){return{source:e.placementLeft?"decoration/form/tooltip-error-arrow-right.png":"decoration/form/tooltip-error-arrow.png",padding:[6,0,0,0],zIndex:10000001}}},"tooltip-error/atom":{include:"popup",style:function(e){return{textColor:"text-selected",backgroundColor:void 0,decorator:"tooltip-error",font:"bold",padding:[3,4,4,4],margin:[1,0,0,0],maxWidth:333}}},window:{style:function(e){return{decorator:e.showStatusbar?"window-incl-statusbar":"window",contentPadding:[10,10,10,10],margin:e.maximized?0:[0,5,5,0]}}},"window-resize-frame":{style:function(e){return{decorator:e.showStatusbar?"window-resize-frame-incl-statusbar":"window-resize-frame"}}},"window/pane":{style:function(e){return{decorator:"window-pane"}}},"window/captionbar":{style:function(e){return{decorator:e.active?"window-captionbar-active":"window-captionbar-inactive",textColor:e.active?"window-caption-active-text":"text-gray",minHeight:26,paddingRight:2}}},"window/icon":{style:function(e){return{margin:[5,0,3,6]}}},"window/title":{style:function(e){return{alignY:"middle",font:"bold",marginLeft:6,marginRight:12}}},"window/minimize-button":{alias:"atom",style:function(e){return{icon:e.active?e.hovered?"decoration/window/minimize-active-hovered.png":"decoration/window/minimize-active.png":"decoration/window/minimize-inactive.png",margin:[4,8,2,0]}}},"window/restore-button":{alias:"atom",style:function(e){return{icon:e.active?e.hovered?"decoration/window/restore-active-hovered.png":"decoration/window/restore-active.png":"decoration/window/restore-inactive.png",margin:[5,8,2,0]}}},"window/maximize-button":{alias:"atom",style:function(e){return{icon:e.active?e.hovered?"decoration/window/maximize-active-hovered.png":"decoration/window/maximize-active.png":"decoration/window/maximize-inactive.png",margin:[4,8,2,0]}}},"window/close-button":{alias:"atom",style:function(e){return{icon:e.active?e.hovered?"decoration/window/close-active-hovered.png":"decoration/window/close-active.png":"decoration/window/close-inactive.png",margin:[4,8,2,0]}}},"window/statusbar":{style:function(e){return{padding:[2,6],decorator:"window-statusbar",minHeight:18}}},"window/statusbar-text":{style:function(e){return{font:"small"}}},iframe:{style:function(e){return{decorator:"main"}}},resizer:{style:function(e){return{decorator:"pane"}}},splitpane:{style:function(e){return{decorator:"splitpane"}}},"splitpane/splitter":{style:function(e){return{width:e.horizontal?3:void 0,height:e.vertical?3:void 0,backgroundColor:"background-splitpane"}}},"splitpane/splitter/knob":{style:function(e){return{source:e.horizontal?"decoration/splitpane/knob-horizontal.png":"decoration/splitpane/knob-vertical.png"}}},"splitpane/slider":{style:function(e){return{width:e.horizontal?3:void 0,height:e.vertical?3:void 0,backgroundColor:"background-splitpane"}}},selectbox:"button-frame","selectbox/atom":"atom","selectbox/popup":"popup","selectbox/list":{alias:"list"},"selectbox/arrow":{include:"image",style:function(e){return{source:"decoration/arrows/down.png",paddingLeft:5}}},datechooser:{style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{padding:2,decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused",backgroundColor:"background-light"}}},"datechooser/navigation-bar":{},"datechooser/nav-button":{include:"button-frame",alias:"button-frame",style:function(e){var t={padding:[2,4]};if(e.lastYear){t.icon="decoration/arrows/rewind.png";t.marginRight=1}else if(e.lastMonth)t.icon="decoration/arrows/left.png";else if(e.nextYear){t.icon="decoration/arrows/forward.png";t.marginLeft=1}else e.nextMonth&&(t.icon="decoration/arrows/right.png");return t}},"datechooser/last-year-button-tooltip":"tooltip","datechooser/last-month-button-tooltip":"tooltip","datechooser/next-year-button-tooltip":"tooltip","datechooser/next-month-button-tooltip":"tooltip","datechooser/last-year-button":"datechooser/nav-button","datechooser/last-month-button":"datechooser/nav-button","datechooser/next-month-button":"datechooser/nav-button","datechooser/next-year-button":"datechooser/nav-button","datechooser/month-year-label":{style:function(e){return{font:"bold",textAlign:"center",textColor:e.disabled?"text-disabled":void 0}}},"datechooser/date-pane":{style:function(e){return{textColor:e.disabled?"text-disabled":void 0,marginTop:2}}},"datechooser/weekday":{style:function(e){return{textColor:e.disabled?"text-disabled":e.weekend?"text-light":void 0,textAlign:"center",paddingTop:2,backgroundColor:"background-medium"}}},"datechooser/week":{style:function(e){return{textAlign:"center",padding:[2,4],backgroundColor:"background-medium"}}},"datechooser/day":{style:function(e){return{textAlign:"center",decorator:e.disabled?void 0:e.selected?"selected":void 0,textColor:e.disabled?"text-disabled":e.selected?"text-selected":e.otherMonth?"text-light":void 0,font:e.today?"bold":void 0,padding:[2,4]}}},combobox:{style:function(e){var t=!!e.focused,i=!!e.invalid,n=!!e.disabled;return{decorator:t&&i&&!n?"input-focused-invalid":!t||i||n?n?"input-disabled":t||!i||n?"input":"border-invalid":"input-focused"}}},"combobox/popup":"popup","combobox/list":{alias:"list"},"combobox/button":{include:"button-frame",alias:"button-frame",style:function(e,t){var i={icon:"decoration/arrows/down.png",padding:[t.padding[0],t.padding[1]-6],margin:void 0};e.selected&&(i.decorator="button-focused");return i}},"combobox/textfield":{include:"textfield",style:function(e){return{decorator:void 0}}},menu:{style:function(e){var t={decorator:"menu",spacingX:6,spacingY:1,iconColumnWidth:16,arrowColumnWidth:4,placementModeY:e.submenu||e.contextmenu?"best-fit":"keep-align"};if(e.submenu){t.position="right-top";t.offset=[-2,-3]}return t}},"menu/slidebar":"menu-slidebar","menu-slidebar":"widget","menu-slidebar-button":{style:function(e){return{decorator:e.hovered?"selected":void 0,padding:7,center:!0}}},"menu-slidebar/button-backward":{include:"menu-slidebar-button",style:function(e){return{icon:e.hovered?"decoration/arrows/up-invert.png":"decoration/arrows/up.png"}}},"menu-slidebar/button-forward":{include:"menu-slidebar-button",style:function(e){return{icon:e.hovered?"decoration/arrows/down-invert.png":"decoration/arrows/down.png"}}},"menu-separator":{style:function(e){return{height:0,decorator:"menu-separator",margin:[4,2]}}},"menu-button":{alias:"atom",style:function(e){return{decorator:e.selected?"selected":void 0,textColor:e.selected?"text-selected":void 0,padding:[4,6]}}},"menu-button/icon":{include:"image",style:function(e){return{alignY:"middle"}}},"menu-button/label":{include:"label",style:function(e){return{alignY:"middle",padding:1}}},"menu-button/shortcut":{include:"label",style:function(e){return{alignY:"middle",marginLeft:14,padding:1}}},"menu-button/arrow":{include:"image",style:function(e){return{source:e.selected?"decoration/arrows/right-invert.png":"decoration/arrows/right.png",alignY:"middle"}}},"menu-checkbox":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?e.selected?"decoration/menu/checkbox-invert.gif":"decoration/menu/checkbox.gif":void 0}}},"menu-radiobutton":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?e.selected?"decoration/menu/radiobutton-invert.gif":"decoration/menu/radiobutton.gif":void 0}}},menubar:{style:function(e){return{decorator:"menubar"}}},"menubar-button":{alias:"atom",style:function(e){return{decorator:!e.pressed&&!e.hovered||e.disabled?void 0:"selected",textColor:e.pressed||e.hovered?"text-selected":void 0,padding:[3,8]}}},colorselector:"widget","colorselector/control-bar":"widget","colorselector/control-pane":"widget","colorselector/visual-pane":"groupbox","colorselector/preset-grid":"widget","colorselector/colorbucket":{style:function(e){return{decorator:"main",width:16,height:16}}},"colorselector/preset-field-set":"groupbox","colorselector/input-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:20}}},"colorselector/preview-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:20}}},"colorselector/hex-field-composite":"widget","colorselector/hex-field":"textfield","colorselector/rgb-spinner-composite":"widget","colorselector/rgb-spinner-red":"spinner","colorselector/rgb-spinner-green":"spinner","colorselector/rgb-spinner-blue":"spinner","colorselector/hsb-spinner-composite":"widget","colorselector/hsb-spinner-hue":"spinner","colorselector/hsb-spinner-saturation":"spinner","colorselector/hsb-spinner-brightness":"spinner","colorselector/preview-content-old":{style:function(e){return{decorator:"main",width:50,height:10}}},"colorselector/preview-content-new":{style:function(e){return{decorator:"main",backgroundColor:"background-light",width:50,height:10}}},"colorselector/hue-saturation-field":{style:function(e){return{decorator:"main",margin:5}}},"colorselector/brightness-field":{style:function(e){return{decorator:"main",margin:[5,7]}}},"colorselector/hue-saturation-pane":"widget","colorselector/hue-saturation-handle":"widget","colorselector/brightness-pane":"widget","colorselector/brightness-handle":"widget",colorpopup:{alias:"popup",include:"popup",style:function(e){return{padding:5,backgroundColor:"background-application"}}},"colorpopup/field":{style:function(e){return{decorator:"main",margin:2,width:14,height:14,backgroundColor:"background-light"}}},"colorpopup/selector-button":"button","colorpopup/auto-button":"button","colorpopup/preview-pane":"groupbox","colorpopup/current-preview":{style:function(e){return{height:20,padding:4,marginLeft:4,decorator:"main",allowGrowX:!0}}},"colorpopup/selected-preview":{style:function(e){return{height:20,padding:4,marginRight:4,decorator:"main",allowGrowX:!0}}},"colorpopup/colorselector-okbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-ok.png"}}},"colorpopup/colorselector-cancelbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-cancel.png"}}},table:{alias:"widget",style:function(e){return{decorator:"table"}}},"table/statusbar":{style:function(e){return{decorator:"table-statusbar",padding:[0,2]}}},"table/column-button":{alias:"button-frame",style:function(e){return{decorator:"table-scroller-header",padding:3,icon:"decoration/table/select-column-order.png"}}},"table-column-reset-button":{include:"menu-button",alias:"menu-button",style:function(){return{icon:"icon/16/actions/view-refresh.png"}}},"table-scroller":"widget","table-scroller/scrollbar-x":"scrollbar","table-scroller/scrollbar-y":"scrollbar","table-scroller/header":{style:function(e){return{decorator:"table-scroller-header",textColor:e.disabled?"text-disabled":void 0}}},"table-scroller/pane":{style:function(e){return{backgroundColor:"table-pane"}}},"table-scroller/focus-indicator":{style:function(e){return{decorator:"table-scroller-focus-indicator"}}},"table-scroller/resize-line":{style:function(e){return{backgroundColor:"border-separator",width:2}}},"table-header-cell":{alias:"atom",style:function(e){return{minWidth:13,minHeight:20,padding:e.hovered?[3,4,2,4]:[3,4],decorator:e.hovered?"table-header-cell-hovered":"table-header-cell",sortIcon:e.sorted?e.sortedAscending?"decoration/table/ascending.png":"decoration/table/descending.png":void 0}}},"table-header-cell/label":{style:function(e){return{minWidth:0,alignY:"middle",paddingRight:5}}},"table-header-cell/sort-icon":{style:function(e){return{alignY:"middle",alignX:"right",opacity:e.disabled?.3:1}}},"table-header-cell/icon":{style:function(e){return{minWidth:0,alignY:"middle",paddingRight:5,opacity:e.disabled?.3:1}}},"table-editor-textfield":{include:"textfield",style:function(e){return{decorator:void 0,padding:[2,2],backgroundColor:"background-light"}}},"table-editor-selectbox":{include:"selectbox",alias:"selectbox",style:function(e){return{padding:[0,2],backgroundColor:"background-light"}}},"table-editor-combobox":{include:"combobox",alias:"combobox",style:function(e){return{decorator:void 0,backgroundColor:"background-light"}}},"progressive-table-header":{alias:"widget",style:function(e){return{decorator:"progressive-table-header"}}},"progressive-table-header-cell":{alias:"atom",style:function(e){return{minWidth:40,minHeight:25,paddingLeft:6,decorator:"progressive-table-header-cell"}}},"app-header":{style:function(e){return{font:"bold",textColor:"text-selected",padding:[8,12],decorator:"app-header"}}},"app-header-label":"label","app-splitpane":{alias:"splitpane",style:function(e){return{padding:0}}},"virtual-list":"list","virtual-list/row-layer":"row-layer","row-layer":"widget","group-item":{include:"label",alias:"label",style:function(e){return{padding:4,decorator:"group-item",textColor:"groupitem-text",font:"bold"}}},"virtual-selectbox":"selectbox","virtual-selectbox/dropdown":"popup","virtual-selectbox/dropdown/list":{alias:"virtual-list"},"virtual-combobox":"combobox","virtual-combobox/dropdown":"popup","virtual-combobox/dropdown/list":{alias:"virtual-list"},"virtual-tree":{include:"tree",alias:"tree",style:function(e){return{itemHeight:26}}},"virtual-tree-folder":"tree-folder","virtual-tree-file":"tree-file","column-layer":"widget",cell:{style:function(e){return{textColor:e.selected?"text-selected":"text-label",padding:[3,6],font:"default"}}},"cell-string":"cell","cell-number":{include:"cell",style:function(e){return{textAlign:"right"}}},"cell-image":"cell","cell-boolean":{include:"cell",style:function(e){return{iconTrue:"decoration/table/boolean-true.png",iconFalse:"decoration/table/boolean-false.png"}}},"cell-atom":"cell","cell-date":"cell","cell-html":"cell",progressbar:{style:function(e){return{decorator:"progressbar",padding:[1],backgroundColor:"progressbar-background",width:200,height:20}}},"progressbar/progress":{style:function(e){return{decorator:e.disabled?"group-item":"selected"}}}}});qx.theme.modern.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.modern.Appearance":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.test.theme.manager.mock.Appearance",{extend:qx.theme.modern.Appearance,appearances:{"button-frame":{alias:"atom",style:function(e){return{decorator:"button",padding:[30,80]}}},"button-frame/label":{alias:"atom/label",style:function(e){return{textColor:"text-label"}}}}});qx.test.theme.manager.mock.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.icon.Tango",{title:"Tango",aliases:{icon:"qx/icon/Tango"}});qx.theme.icon.Tango.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.simple.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.simple.Appearance",{appearances:{widget:{},label:{style:function(e){return{textColor:e.disabled?"text-disabled":void 0}}},image:{style:function(e){return{opacity:!e.replacement&&e.disabled?.3:void 0}}},atom:{},"atom/label":"label","atom/icon":"image",root:{style:function(e){return{backgroundColor:"background",textColor:"text",font:"default"}}},popup:{style:function(e){return{decorator:"popup",backgroundColor:"background-pane"}}},tooltip:{include:"popup",style:function(e){return{backgroundColor:"tooltip",textColor:"tooltip-text",decorator:"tooltip",padding:[1,3,2,3],offset:[10,5,5,5]}}},"tooltip/atom":"atom","tooltip-error":{include:"tooltip",style:function(e){return{textColor:"text-selected",showTimeout:100,hideTimeout:1e4,decorator:"tooltip-error",font:"bold",backgroundColor:void 0}}},"tooltip-error/atom":"atom",iframe:{style:function(e){return{backgroundColor:"white",decorator:"main-dark"}}},"move-frame":{style:function(e){return{decorator:"main-dark"}}},"resize-frame":"move-frame","dragdrop-cursor":{style:function(e){var t="nodrop";e.copy?t="copy":e.move?t="move":e.alias&&(t="alias");return{source:qx.theme.simple.Image.URLS["cursor-"+t],position:"right-top",offset:[2,16,2,6]}}},slidebar:{},"slidebar/scrollpane":{},"slidebar/content":{},"slidebar/button-forward":{alias:"button",include:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["arrow-"+(e.vertical?"down":"right")]}}},"slidebar/button-backward":{alias:"button",include:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["arrow-"+(e.vertical?"up":"left")]}}},table:"widget","table/statusbar":{style:function(e){return{decorator:"statusbar",padding:[2,5]}}},"table/column-button":{alias:"button",style:function(e){return{decorator:"table-header-column-button",padding:3,icon:qx.theme.simple.Image.URLS["select-column-order"]}}},"table-column-reset-button":{include:"menu-button",alias:"menu-button",style:function(){return{icon:"icon/16/actions/view-refresh.png"}}},"table-scroller/scrollbar-x":"scrollbar","table-scroller/scrollbar-y":"scrollbar","table-scroller":"widget","table-scroller/header":{style:function(){return{decorator:"table-header"}}},"table-scroller/pane":{},"table-scroller/focus-indicator":{style:function(e){return{decorator:"main"}}},"table-scroller/resize-line":{style:function(e){return{backgroundColor:"button-border",width:3}}},"table-header-cell":{alias:"atom",style:function(e){return{decorator:e.first?"table-header-cell-first":"table-header-cell",minWidth:13,font:"bold",paddingTop:3,paddingLeft:5,cursor:e.disabled?void 0:"pointer",sortIcon:e.sorted?qx.theme.simple.Image.URLS["table-"+(e.sortedAscending?"ascending":"descending")]:void 0}}},"table-header-cell/icon":{include:"atom/icon",style:function(e){return{paddingRight:5}}},"table-header-cell/sort-icon":{style:function(e){return{alignY:"middle",alignX:"right",paddingRight:5}}},"table-editor-textfield":{include:"textfield",style:function(e){return{decorator:void 0,padding:[2,2]}}},"table-editor-selectbox":{include:"selectbox",alias:"selectbox",style:function(e){return{padding:[0,2]}}},"table-editor-combobox":{include:"combobox",alias:"combobox",style:function(e){return{decorator:void 0}}},"progressive-table-header":{style:function(e){return{decorator:"progressive-table-header"}}},"progressive-table-header-cell":{style:function(e){return{decorator:"progressive-table-header-cell",padding:[5,6,5,6]}}},treevirtual:{include:"textfield",alias:"table",style:function(e,t){return{padding:[t.padding[0]+2,t.padding[1]+1]}}},"treevirtual-folder":{style:function(e){return{icon:e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png",opacity:e.drag?.5:void 0}}},"treevirtual-file":{include:"treevirtual-folder",alias:"treevirtual-folder",style:function(e){return{icon:"icon/16/mimetypes/text-plain.png",opacity:e.drag?.5:void 0}}},"treevirtual-line":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-line"]}}},"treevirtual-contract":{style:function(e){return{icon:qx.theme.simple.Image.URLS["tree-minus"]}}},"treevirtual-expand":{style:function(e){return{icon:qx.theme.simple.Image.URLS["tree-plus"]}}},"treevirtual-only-contract":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-minus-only"]}}},"treevirtual-only-expand":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-plus-only"]}}},"treevirtual-start-contract":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-minus-start"]}}},"treevirtual-start-expand":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-plus-start"]}}},"treevirtual-end-contract":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-minus-end"]}}},"treevirtual-end-expand":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-plus-end"]}}},"treevirtual-cross-contract":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-minus-cross"]}}},"treevirtual-cross-expand":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-plus-cross"]}}},"treevirtual-end":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-end"]}}},"treevirtual-cross":{style:function(e){return{icon:qx.theme.simple.Image.URLS["treevirtual-cross"]}}},resizer:{style:function(e){return{decorator:"main-dark"}}},splitpane:{},"splitpane/splitter":{style:function(e){return{backgroundColor:"light-background"}}},"splitpane/splitter/knob":{style:function(e){return{source:qx.theme.simple.Image.URLS["knob-"+(e.horizontal?"horizontal":"vertical")],padding:2}}},"splitpane/slider":{style:function(e){return{backgroundColor:"border-light-shadow",opacity:.3}}},menu:{style:function(e){var t={backgroundColor:"background",decorator:"main",spacingX:6,spacingY:1,iconColumnWidth:16,arrowColumnWidth:4,padding:1,placementModeY:e.submenu||e.contextmenu?"best-fit":"keep-align"};if(e.submenu){t.position="right-top";t.offset=[-2,-3]}e.contextmenu&&(t.offset=4);return t}},"menu/slidebar":"menu-slidebar","menu-slidebar":"widget","menu-slidebar-button":{style:function(e){return{backgroundColor:e.hovered?"background-selected":void 0,padding:6,center:!0}}},"menu-slidebar/button-backward":{include:"menu-slidebar-button",style:function(e){return{icon:qx.theme.simple.Image.URLS["arrow-up"+(e.hovered?"-invert":"")]}}},"menu-slidebar/button-forward":{include:"menu-slidebar-button",style:function(e){return{icon:qx.theme.simple.Image.URLS["arrow-down"+(e.hovered?"-invert":"")]}}},"menu-separator":{style:function(e){return{height:0,decorator:"menu-separator",marginTop:4,marginBottom:4,marginLeft:2,marginRight:2}}},"menu-button":{alias:"atom",style:function(e){return{backgroundColor:e.selected?"background-selected":void 0,textColor:e.selected?"text-selected":void 0,padding:[2,6]}}},"menu-button/icon":{include:"image",style:function(e){return{alignY:"middle"}}},"menu-button/label":{include:"label",style:function(e){return{alignY:"middle",padding:1}}},"menu-button/shortcut":{include:"label",style:function(e){return{alignY:"middle",marginLeft:14,padding:1}}},"menu-button/arrow":{include:"image",style:function(e){return{source:qx.theme.simple.Image.URLS["arrow-right"+(e.selected?"-invert":"")],alignY:"middle"}}},"menu-checkbox":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?qx.theme.simple.Image.URLS["menu-checkbox"+(e.selected?"-invert":"")]:void 0}}},"menu-radiobutton":{alias:"menu-button",include:"menu-button",style:function(e){return{icon:e.checked?qx.theme.simple.Image.URLS["menu-radiobutton"+(e.selected?"-invert":"")]:void 0}}},menubar:{style:function(e){return{backgroundColor:"light-background",padding:[4,2]}}},"menubar-button":{style:function(e){var t,i=[2,6];if(!e.disabled)if(e.pressed){t="menubar-button-pressed";i=[1,5,2,5]}else if(e.hovered){t="menubar-button-hovered";i=[1,5]}return{padding:i,cursor:e.disabled?void 0:"pointer",textColor:"link",decorator:t}}},"virtual-list":"list","virtual-list/row-layer":"row-layer","row-layer":"widget","column-layer":"widget","group-item":{include:"label",alias:"label",style:function(e){return{padding:4,backgroundColor:"#BABABA",textColor:"white",font:"bold"}}},"virtual-selectbox":"selectbox","virtual-selectbox/dropdown":"popup","virtual-selectbox/dropdown/list":{alias:"virtual-list"},"virtual-combobox":"combobox","virtual-combobox/dropdown":"popup","virtual-combobox/dropdown/list":{alias:"virtual-list"},"virtual-tree":{include:"tree",alias:"tree",style:function(e){return{itemHeight:21}}},"virtual-tree-folder":"tree-folder","virtual-tree-file":"tree-file",cell:{style:function(e){return{backgroundColor:e.selected?"table-row-background-selected":"table-row-background-even",textColor:e.selected?"text-selected":"text",padding:[3,6]}}},"cell-string":"cell","cell-number":{include:"cell",style:function(e){return{textAlign:"right"}}},"cell-image":"cell","cell-boolean":"cell","cell-atom":"cell","cell-date":"cell","cell-html":"cell",scrollbar:{},"scrollbar/slider":{},"scrollbar/slider/knob":{style:function(e){var t="scroll-knob";e.disabled||(!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="scroll-knob-pressed-hovered":(e.pressed||e.checked)&&(t="scroll-knob-pressed"):t="scroll-knob-hovered");return{height:14,width:14,cursor:e.disabled?void 0:"pointer",decorator:t,minHeight:e.horizontal?void 0:20,minWidth:e.horizontal?20:void 0}}},"scrollbar/button":{style:function(e){var t={padding:4},i="";if(e.left){i="left";t.marginRight=2}else if(e.right){i+="right";t.marginLeft=2}else if(e.up){i+="up";t.marginBottom=2}else{i+="down";t.marginTop=2}t.icon=qx.theme.simple.Image.URLS["arrow-"+i];t.cursor="pointer";t.decorator="button-box";return t}},"scrollbar/button-begin":"scrollbar/button","scrollbar/button-end":"scrollbar/button","scrollarea/corner":{style:function(e){return{backgroundColor:"background"}}},scrollarea:"widget","scrollarea/pane":"widget","scrollarea/scrollbar-x":"scrollbar","scrollarea/scrollbar-y":"scrollbar",textfield:{style:function(e){var t,i,n;t=e.disabled?"text-disabled":e.showingPlaceholder?"text-placeholder":void 0;if(e.disabled){i="inset";n=[2,3]}else if(e.invalid){i="border-invalid";n=[1,2]}else if(e.focused){i="focused-inset";n=[1,2]}else{n=[2,3];i="inset"}return{decorator:i,padding:n,textColor:t,backgroundColor:e.disabled?"background-disabled":"white"}}},textarea:"textfield","radiobutton/icon":{style:function(e){var t,i="radiobutton";e.focused&&!e.invalid&&(i="radiobutton-focused");i+=e.invalid&&!e.disabled?"-invalid":"";e.disabled&&e.checked?t="background-disabled-checked":e.disabled?t="background-disabled":e.checked&&(t="background-selected");return{decorator:i,width:12,height:12,backgroundColor:t}}},radiobutton:{style:function(e){return{icon:qx.theme.simple.Image.URLS.blank}}},"form-renderer-label":{include:"label",style:function(){return{paddingTop:3}}},checkbox:{alias:"atom",style:function(e){return{icon:e.checked?qx.theme.simple.Image.URLS["checkbox-checked"]:e.undetermined?qx.theme.simple.Image.URLS["checkbox-undetermined"]:qx.theme.simple.Image.URLS.blank,gap:6}}},"checkbox/icon":{style:function(e){var t,i="checkbox";e.focused&&!e.invalid&&(i="checkbox-focused");i+=e.invalid&&!e.disabled?"-invalid":"";e.checked?t=2:e.undetermined&&(t=[4,2]);return{decorator:i,width:12,height:12,padding:t,backgroundColor:"white"}}},spinner:{style:function(e){return{textColor:e.disabled?"text-disabled":void 0}}},"spinner/textfield":"textfield","spinner/upbutton":{alias:"combobox/button",include:"combobox/button",style:function(e){var t="button-box-top-right";!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered-top-right":(e.pressed||e.checked)&&(t="button-box-pressed-top-right"):t="button-box-hovered-top-right";return{icon:qx.theme.simple.Image.URLS["arrow-up-small"],decorator:t,width:17}}},"spinner/downbutton":{alias:"combobox/button",include:"combobox/button",style:function(e){var t="button-box-bottom-right";!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered-bottom-right":(e.pressed||e.checked)&&(t="button-box-pressed-bottom-right"):t="button-box-hovered-bottom-right";return{icon:qx.theme.simple.Image.URLS["arrow-down-small"],decorator:t,width:17}}},selectbox:"button-frame","selectbox/atom":"atom","selectbox/popup":"popup","selectbox/list":{alias:"list",include:"list",style:function(){return{decorator:void 0}}},"selectbox/arrow":{include:"image",style:function(e){return{source:qx.theme.simple.Image.URLS["arrow-down"],paddingRight:4,paddingLeft:5}}},combobox:{},"combobox/button":{alias:"button-frame",include:"button-frame",style:function(e){var t="button-box-right-borderless";!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered-right-borderless":(e.pressed||e.checked)&&(t="button-box-pressed-right-borderless"):t="button-box-hovered-right-borderless";return{icon:qx.theme.simple.Image.URLS["arrow-down"],decorator:t,padding:[0,5],width:19}}},"combobox/popup":"popup","combobox/list":{alias:"list"},"combobox/textfield":"textfield",datefield:"textfield","datefield/button":{alias:"combobox/button",include:"combobox/button",style:function(e){return{icon:"icon/16/apps/office-calendar.png",padding:[0,0,0,3],backgroundColor:void 0,decorator:void 0,width:19}}},"datefield/textfield":{alias:"textfield",include:"textfield",style:function(e){return{decorator:void 0,padding:0}}},"datefield/list":{alias:"datechooser",include:"datechooser",style:function(e){return{decorator:void 0}}},list:{alias:"scrollarea",include:"textfield"},listitem:{alias:"atom",style:function(e){var t,i=[3,5,3,5];e.lead&&(i=[2,4,2,4]);e.dragover&&(i[2]-=2);if(e.selected){t="background-selected";e.disabled&&(t+="-disabled")}return{gap:4,padding:i,backgroundColor:t,textColor:e.selected?"text-selected":void 0,decorator:e.lead?"lead-item":e.dragover?"dragover":void 0,opacity:e.drag?.5:void 0}}},slider:{style:function(e){var t,i;if(e.disabled){t="inset";i=[2,3]}else if(e.invalid){t="border-invalid";i=[1,2]}else if(e.focused){t="focused-inset";i=[1,2]}else{i=[2,3];t="inset"}return{decorator:t,padding:i}}},"slider/knob":"scrollbar/slider/knob","button-frame":{alias:"atom",style:function(e){var t="button-box";e.disabled||(!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered":(e.pressed||e.checked)&&(t="button-box-pressed"):t="button-box-hovered");e.invalid&&!e.disabled?t+="-invalid":e.focused&&(t+="-focused");return{decorator:t,padding:[3,8],cursor:e.disabled?void 0:"pointer",minWidth:5,minHeight:5}}},"button-frame/label":{alias:"atom/label",style:function(e){return{textColor:e.disabled?"text-disabled":void 0}}},button:{alias:"button-frame",include:"button-frame",style:function(e){return{center:!0}}},"hover-button":{alias:"button",include:"button",style:function(e){return{decorator:e.hovered?"button-hover":void 0}}},menubutton:{include:"button",alias:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["arrow-down"],iconPosition:"right"}}},splitbutton:{},"splitbutton/button":{alias:"atom",style:function(e){var t="button-box";if(!e.disabled){(e.pressed||e.checked)&&(t+="-pressed");e.hovered&&(t+="-hovered")}e.focused&&(t+="-focused");return{decorator:t+="-left",padding:[3,8],cursor:e.disabled?void 0:"pointer"}}},"splitbutton/arrow":{style:function(e){var t="button-box";if(!e.disabled){(e.pressed||e.checked)&&(t+="-pressed");e.hovered&&(t+="-hovered")}e.focused&&(t+="-focused");t+="-right";return{icon:qx.theme.simple.Image.URLS["arrow-down"],decorator:t,cursor:e.disabled?void 0:"pointer",padding:[3,4]}}},groupbox:{},"groupbox/legend":{alias:"atom",style:function(e){return{textColor:e.invalid?"invalid":void 0,padding:5,margin:4,font:"bold"}}},"groupbox/frame":{style:function(e){return{backgroundColor:"background",padding:[6,9],margin:[18,2,2,2],decorator:"white-box"}}},"check-groupbox":"groupbox","check-groupbox/legend":{alias:"checkbox",include:"checkbox",style:function(e){return{textColor:e.invalid?"invalid":void 0,padding:5,margin:4,font:"bold"}}},"radio-groupbox":"groupbox","radio-groupbox/legend":{alias:"radiobutton",include:"radiobutton",style:function(e){return{textColor:e.invalid?"invalid":void 0,padding:5,margin:4,font:"bold"}}},"tree-folder/open":{include:"image",style:function(e){return{source:e.opened?qx.theme.simple.Image.URLS["tree-minus"]:qx.theme.simple.Image.URLS["tree-plus"]}}},"tree-folder":{style:function(e){var t;if(e.selected){t="background-selected";e.disabled&&(t+="-disabled")}return{padding:[2,8,2,5],icon:e.opened?"icon/16/places/folder-open.png":"icon/16/places/folder.png",backgroundColor:t,iconOpened:"icon/16/places/folder-open.png",opacity:e.drag?.5:void 0}}},"tree-folder/icon":{include:"image",style:function(e){return{padding:[0,4,0,0]}}},"tree-folder/label":{style:function(e){return{padding:[1,2],textColor:e.selected&&!e.disabled?"text-selected":void 0}}},"tree-file":{include:"tree-folder",alias:"tree-folder",style:function(e){return{icon:"icon/16/mimetypes/text-plain.png",opacity:e.drag?.5:void 0}}},tree:{include:"list",alias:"list",style:function(e){return{contentPadding:e.invalid&&!e.disabled?[3,0]:[4,1],padding:e.focused?0:1}}},window:{style:function(e){return{contentPadding:[10,10,10,10],backgroundColor:"background",decorator:e.maximized?void 0:e.active?"window-active":"window"}}},"window-resize-frame":"resize-frame","window/pane":{},"window/captionbar":{style:function(e){return{backgroundColor:e.active?"light-background":"background-disabled",padding:8,font:"bold",decorator:"window-caption"}}},"window/icon":{style:function(e){return{marginRight:4}}},"window/title":{style:function(e){return{cursor:"default",font:"bold",marginRight:20,alignY:"middle"}}},"window/minimize-button":{alias:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["window-minimize"],padding:[1,2],cursor:e.disabled?void 0:"pointer"}}},"window/restore-button":{alias:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["window-restore"],padding:[1,2],cursor:e.disabled?void 0:"pointer"}}},"window/maximize-button":{alias:"button",style:function(e){return{icon:qx.theme.simple.Image.URLS["window-maximize"],padding:[1,2],cursor:e.disabled?void 0:"pointer"}}},"window/close-button":{alias:"button",style:function(e){return{marginLeft:2,icon:qx.theme.simple.Image.URLS["window-close"],padding:[1,2],cursor:e.disabled?void 0:"pointer"}}},"window/statusbar":{style:function(e){return{decorator:"statusbar",padding:[2,6]}}},"window/statusbar-text":"label",datechooser:{style:function(e){return{decorator:"main",minWidth:220}}},"datechooser/navigation-bar":{style:function(e){return{backgroundColor:"background",textColor:e.disabled?"text-disabled":e.invalid?"invalid":void 0,padding:[2,10]}}},"datechooser/last-year-button-tooltip":"tooltip","datechooser/last-month-button-tooltip":"tooltip","datechooser/next-year-button-tooltip":"tooltip","datechooser/next-month-button-tooltip":"tooltip","datechooser/last-year-button":"datechooser/button","datechooser/last-month-button":"datechooser/button","datechooser/next-year-button":"datechooser/button","datechooser/next-month-button":"datechooser/button","datechooser/button/icon":{},"datechooser/button":{style:function(e){var t={width:17,show:"icon",cursor:e.disabled?void 0:"pointer"};e.lastYear?t.icon=qx.theme.simple.Image.URLS["arrow-rewind"]:e.lastMonth?t.icon=qx.theme.simple.Image.URLS["arrow-left"]:e.nextYear?t.icon=qx.theme.simple.Image.URLS["arrow-forward"]:e.nextMonth&&(t.icon=qx.theme.simple.Image.URLS["arrow-right"]);return t}},"datechooser/month-year-label":{style:function(e){return{font:"bold",textAlign:"center"}}},"datechooser/date-pane":{style:function(e){return{decorator:"datechooser-date-pane",backgroundColor:"background"}}},"datechooser/weekday":{style:function(e){return{decorator:"datechooser-weekday",font:"bold",textAlign:"center",textColor:e.disabled?"text-disabled":e.weekend?"background-selected-dark":"background",backgroundColor:e.weekend?"background":"background-selected-dark",paddingTop:2}}},"datechooser/day":{style:function(e){return{textAlign:"center",decorator:e.today?"main":void 0,textColor:e.disabled?"text-disabled":e.selected?"text-selected":e.otherMonth?"text-disabled":void 0,backgroundColor:e.disabled?void 0:e.selected?"background-selected":void 0,padding:e.today?[1,3]:[2,4]}}},"datechooser/week":{style:function(e){return{textAlign:"center",textColor:"background-selected-dark",padding:[2,4],decorator:e.header?"datechooser-week-header":"datechooser-week"}}},progressbar:{style:function(e){return{decorator:"progressbar",padding:1,backgroundColor:"white",width:200,height:20}}},"progressbar/progress":{style:function(e){return{backgroundColor:e.disabled?"background-disabled-checked":"background-selected"}}},toolbar:{style:function(e){return{backgroundColor:"light-background",padding:0}}},"toolbar/part":{style:function(e){return{margin:[0,15]}}},"toolbar/part/container":{},"toolbar/part/handle":{},"toolbar-separator":{style:function(e){return{decorator:"toolbar-separator",margin:[7,0],width:4}}},"toolbar-button":{alias:"atom",style:function(e){var t="button-box";e.disabled?t="button-box":!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered":(e.pressed||e.checked)&&(t="button-box-pressed"):t="button-box-hovered";e.left?t+="-left":e.right?t+="-right":e.middle&&(t+="-middle");var i=[7,10];(e.left||e.middle||e.right)&&(i=[7,0]);return{cursor:e.disabled?void 0:"pointer",decorator:t,margin:i,padding:[3,5]}}},"toolbar-menubutton":{alias:"toolbar-button",include:"toolbar-button",style:function(e){return{showArrow:!0}}},"toolbar-menubutton/arrow":{alias:"image",include:"image",style:function(e){return{source:qx.theme.simple.Image.URLS["arrow-down"],cursor:e.disabled?void 0:"pointer",padding:[0,5],marginLeft:2}}},"toolbar-splitbutton":{},"toolbar-splitbutton/button":{alias:"toolbar-button",include:"toolbar-button",style:function(e){var t="button-box";e.disabled?t="button-box":!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered":(e.pressed||e.checked)&&(t="button-box-pressed"):t="button-box-hovered";var i=[7,0,7,10];(e.left||e.middle||e.right)&&(i=[7,0,7,0]);e.left?t+="-left":e.right?t+="-middle":e.middle?t+="-middle":t+="-left";return{icon:qx.theme.simple.Image.URLS["arrow-down"],decorator:t,margin:i}}},"toolbar-splitbutton/arrow":{alias:"toolbar-button",include:"toolbar-button",style:function(e){var t="button-box";e.disabled?t="button-box":!e.hovered||e.pressed||e.checked?e.hovered&&(e.pressed||e.checked)?t="button-box-pressed-hovered":(e.pressed||e.checked)&&(t="button-box-pressed"):t="button-box-hovered";var i=[7,10,7,0];(e.left||e.middle||e.right)&&(i=[7,0,7,0]);e.left?t+="-middle":e.right?t+="-right":e.middle?t+="-middle":t+="-right";return{icon:qx.theme.simple.Image.URLS["arrow-down"],decorator:t,margin:i}}},tabview:{},"tabview/bar":{alias:"slidebar",style:function(e){var t=0,i=0,n=0,s=0;e.barTop?n-=1:e.barBottom?t-=1:e.barRight?s-=1:i-=1;return{marginBottom:n,marginTop:t,marginLeft:s,marginRight:i}}},"tabview/bar/button-forward":{include:"slidebar/button-forward",alias:"slidebar/button-forward",style:function(e){return e.barTop?{marginTop:4,marginBottom:2,decorator:null}:e.barBottom?{marginTop:2,marginBottom:4,decorator:null}:e.barLeft?{marginLeft:4,marginRight:2,decorator:null}:{marginLeft:2,marginRight:4,decorator:null}}},"tabview/bar/button-backward":{include:"slidebar/button-backward",alias:"slidebar/button-backward",style:function(e){return e.barTop?{marginTop:4,marginBottom:2,decorator:null}:e.barBottom?{marginTop:2,marginBottom:4,decorator:null}:e.barLeft?{marginLeft:4,marginRight:2,decorator:null}:{marginLeft:2,marginRight:4,decorator:null}}},"tabview/pane":{style:function(e){return{backgroundColor:"background",decorator:"main",padding:10}}},"tabview-page":"widget","tabview-page/button":{style:function(e){var t;if(e.barTop||e.barBottom)var i=[8,16,8,13];else i=[8,4,8,4];if(e.checked)e.barTop?t="tabview-page-button-top":e.barBottom?t="tabview-page-button-bottom":e.barRight?t="tabview-page-button-right":e.barLeft&&(t="tabview-page-button-left");else{for(var n=0;n<i.length;n++)i[n]+=1;e.barTop?i[2]-=1:e.barBottom?i[0]-=1:e.barRight?i[3]-=1:e.barLeft&&(i[1]-=1)}return{zIndex:e.checked?10:5,decorator:t,textColor:e.disabled?"text-disabled":e.checked?null:"link",padding:i,cursor:"pointer"}}},"tabview-page/button/label":{alias:"label",style:function(e){return{padding:[0,1,0,1]}}},"tabview-page/button/icon":"image","tabview-page/button/close-button":{alias:"atom",style:function(e){return{cursor:e.disabled?void 0:"pointer",icon:qx.theme.simple.Image.URLS["tabview-close"]}}},colorpopup:{alias:"popup",include:"popup",style:function(e){return{padding:5}}},"colorpopup/field":{style:function(e){return{margin:2,width:14,height:14,backgroundColor:"background",decorator:"main-dark"}}},"colorpopup/selector-button":"button","colorpopup/auto-button":"button","colorpopup/preview-pane":"groupbox","colorpopup/current-preview":{style:function(e){return{height:20,padding:4,marginLeft:4,decorator:"main-dark",allowGrowX:!0}}},"colorpopup/selected-preview":{style:function(e){return{height:20,padding:4,marginRight:4,decorator:"main-dark",allowGrowX:!0}}},"colorpopup/colorselector-okbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-ok.png"}}},"colorpopup/colorselector-cancelbutton":{alias:"button",include:"button",style:function(e){return{icon:"icon/16/actions/dialog-cancel.png"}}},colorselector:"widget","colorselector/control-bar":"widget","colorselector/visual-pane":"groupbox","colorselector/control-pane":"widget","colorselector/preset-grid":"widget","colorselector/colorbucket":{style:function(e){return{decorator:"main-dark",width:16,height:16}}},"colorselector/preset-field-set":"groupbox","colorselector/input-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:12}}},"colorselector/preview-field-set":{include:"groupbox",alias:"groupbox",style:function(){return{paddingTop:12}}},"colorselector/hex-field-composite":"widget","colorselector/hex-field":"textfield","colorselector/rgb-spinner-composite":"widget","colorselector/rgb-spinner-red":"spinner","colorselector/rgb-spinner-green":"spinner","colorselector/rgb-spinner-blue":"spinner","colorselector/hsb-spinner-composite":"widget","colorselector/hsb-spinner-hue":"spinner","colorselector/hsb-spinner-saturation":"spinner","colorselector/hsb-spinner-brightness":"spinner","colorselector/preview-content-old":{style:function(e){return{decorator:"main-dark",width:50,height:25}}},"colorselector/preview-content-new":{style:function(e){return{decorator:"main-dark",backgroundColor:"white",width:50,height:25}}},"colorselector/hue-saturation-field":{style:function(e){return{decorator:"main-dark",margin:5}}},"colorselector/brightness-field":{style:function(e){return{decorator:"main-dark",margin:[5,7]}}},"colorselector/hue-saturation-pane":"widget","colorselector/hue-saturation-handle":"widget","colorselector/brightness-pane":"widget","colorselector/brightness-handle":"widget","app-header":{style:function(e){return{font:"headline",textColor:"text-selected",backgroundColor:"background-selected-dark",padding:[8,12]}}},"app-header-label":{style:function(e){return{paddingTop:5}}},"app-splitpane":{alias:"splitpane",style:function(e){return{padding:[0,10,10,10],backgroundColor:"light-background"}}}}});qx.theme.simple.Appearance.$$dbClassInfo=e}();function _defineProperty(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}!function(){var e,t={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.theme.simple.Appearance":{require:!0},"qx.theme.simple.Image":{}}};qx.Bootstrap.executePendingDefers(t);qx.Class.define("qx.test.theme.simple.Appearance",{extend:qx.dev.unit.TestCase,members:(e={__obj:qx.theme.simple.Appearance.appearances,testLabel:function(){var e=this.__obj.label;this.assertIdentical("text-disabled",e.style({disabled:!0}).textColor);this.assertUndefined(e.style({disabled:!1}).textColor)},testImage:function(){var e=this.__obj.image,t={replacement:!1,disabled:!0};this.assertIdentical(.3,e.style(t).opacity);t.replacement=!0;this.assertUndefined(e.style(t).opacity)},testRoot:function(){var e=this.__obj.root.style();this.assertIdentical("background",e.backgroundColor);this.assertIdentical("text",e.textColor);this.assertIdentical("default",e.font)},testPopup:function(){var e=this.__obj.popup.style();this.assertIdentical("popup",e.decorator);this.assertIdentical("background-pane",e.backgroundColor)},testTooltip:function(){var e=this.__obj.tooltip.style();this.assertIdentical("tooltip",e.backgroundColor);this.assertIdentical("tooltip-text",e.textColor);this.assertIdentical("tooltip",e.decorator);this.assertArrayEquals([1,3,2,3],e.padding);this.assertArrayEquals([10,5,5,5],e.offset)},testTooltipError:function(){var e=this.__obj["tooltip-error"].style();this.assertIdentical("text-selected",e.textColor);this.assertIdentical(100,e.showTimeout);this.assertIdentical(1e4,e.hideTimeout);this.assertIdentical("tooltip-error",e.decorator);this.assertIdentical("bold",e.font);this.assertUndefined(e.backgroundColor)},testIframe:function(){var e=this.__obj.iframe.style();this.assertIdentical("white",e.backgroundColor);this.assertIdentical("main-dark",e.decorator)},testMoveFrame:function(){var e=this.__obj["move-frame"].style();this.assertIdentical("main-dark",e.decorator)},testDragDropCursor:function(){var e=this.__obj["dragdrop-cursor"],t={copy:!0,move:!0,alias:!0},i=e.style(t);this.assertIdentical(qx.theme.simple.Image.URLS["cursor-copy"],i.source);t.copy=!1;i=e.style(t);this.assertIdentical(qx.theme.simple.Image.URLS["cursor-move"],i.source);t.move=!1;i=e.style(t);this.assertIdentical(qx.theme.simple.Image.URLS["cursor-alias"],i.source);t.alias=!1;i=e.style(t);this.assertIdentical(qx.theme.simple.Image.URLS["cursor-nodrop"],i.source);this.assertIdentical("right-top",i.position);this.assertArrayEquals([2,16,2,6],i.offset)},testSlideBarButtonForward:function(){var e=this.__obj["slidebar/button-forward"].style;this.assertIdentical(qx.theme.simple.Image.URLS["arrow-down"],e({vertical:!0}).icon);this.assertIdentical(qx.theme.simple.Image.URLS["arrow-right"],e({vertical:!1}).icon)},testSlideBarButtonBackward:function(){var e=this.__obj["slidebar/button-backward"].style;this.assertIdentical(qx.theme.simple.Image.URLS["arrow-up"],e({vertical:!0}).icon);this.assertIdentical(qx.theme.simple.Image.URLS["arrow-left"],e({vertical:!1}).icon)},testTableStatusBar:function(){var e=this.__obj["table/statusbar"].style();this.assertIdentical("statusbar",e.decorator);this.assertArrayEquals([2,5],e.padding)},testTableColumnButton:function(){var e=this.__obj["table/column-button"].style();this.assertIdentical("table-header-column-button",e.decorator);this.assertIdentical(3,e.padding);this.assertIdentical(qx.theme.simple.Image.URLS["select-column-order"],e.icon)},testTableColumnResetButton:function(){var e=this.__obj["table-column-reset-button"].style();this.assertIdentical("icon/16/actions/view-refresh.png",e.icon)},testTableScrollerHeader:function(){var e=this.__obj["table-scroller/header"].style();this.assertIdentical("table-header",e.decorator)},testTableScrollerFocusIndicator:function(){var e=this.__obj["table-scroller/focus-indicator"].style();this.assertIdentical("main",e.decorator)},testTableScrollerResizeLine:function(){var e=this.__obj["table-scroller/resize-line"].style();this.assertIdentical("button-border",e.backgroundColor);this.assertIdentical(3,e.width)},testTableHeaderCell:function(){var e=this.__obj["table-header-cell"].style,t={first:!0,disabled:!0,sorted:!0,sortedAscending:!0},i=e(t);this.assertIdentical(13,i.minWidth);this.assertIdentical("bold",i.font);this.assertIdentical(3,i.paddingTop);this.assertIdentical(5,i.paddingLeft);this.assertIdentical("table-header-cell-first",i.decorator);this.assertUndefined(i.pointer);this.assertIdentical(qx.theme.simple.Image.URLS["table-ascending"],i.sortIcon);t.sortedAscending=!1;i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["table-descending"],i.sortIcon);t.sorted=!1;i=e(t);this.assertUndefined(i.sortIcon);t.disabled=!1;i=e(t);this.assertIdentical("pointer",i.cursor);t.first=!1,i=e(t);this.assertIdentical("table-header-cell",i.decorator)},testTableHeaderCellIcon:function(){var e=this.__obj["table-header-cell/icon"].style();this.assertIdentical(5,e.paddingRight)},testTableHeaderCellSortIcon:function(){var e=this.__obj["table-header-cell/sort-icon"].style();this.assertIdentical("middle",e.alignY);this.assertIdentical("right",e.alignX);this.assertIdentical(5,e.paddingRight)},testTableEditorTextField:function(){var e=this.__obj["table-editor-textfield"].style();this.assertUndefined(e.decorator);this.assertArrayEquals([2,2],e.padding)},testTableEditorSelectBox:function(){var e=this.__obj["table-editor-selectbox"].style();this.assertArrayEquals([0,2],e.padding)},testTableEditorComboBox:function(){var e=this.__obj["table-editor-combobox"].style();this.assertUndefined(e.decorator)},testProgressiveTableHeader:function(){var e=this.__obj["progressive-table-header"].style();this.assertIdentical("progressive-table-header",e.decorator)},testProgressiveTableHeaderCell:function(){var e=this.__obj["progressive-table-header-cell"].style();this.assertIdentical("progressive-table-header-cell",e.decorator);this.assertArrayEquals([5,6,5,6],e.padding)},testTreeVirtual:function(){var e=(0,this.__obj.treevirtual.style)(null,{padding:[3,4]});this.assertArrayEquals([5,5],e.padding)},testTreeVirtualFolder:function(){var e=this.__obj["treevirtual-folder"].style,t={opened:!0,drag:!0},i=e(t);this.assertIdentical("icon/16/places/folder-open.png",i.icon);this.assertIdentical(.5,i.opacity);t.opened=!1;t.drag=!1;i=e(t);this.assertIdentical("icon/16/places/folder.png",i.icon);this.assertUndefined(i.opacity)},testTreeVirtualFile:function(){var e=this.__obj["treevirtual-file"].style;this.assertIdentical("icon/16/mimetypes/text-plain.png",e({drag:!1}).icon);this.assertIdentical(.5,e({drag:!0}).opacity);this.assertUndefined(e({drag:!1}).opacity)},testTreeVirtualLine:function(){var e=this.__obj["treevirtual-line"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-line"],e.icon)},testTreeVirtualContract:function(){var e=this.__obj["treevirtual-contract"].style();this.assertIdentical(qx.theme.simple.Image.URLS["tree-minus"],e.icon)},testTreeVirtualExpand:function(){var e=this.__obj["treevirtual-expand"].style();this.assertIdentical(qx.theme.simple.Image.URLS["tree-plus"],e.icon)},testTreeVirtualOnlyContract:function(){var e=this.__obj["treevirtual-only-contract"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-minus-only"],e.icon)},testTreeVirtualOnlyExpand:function(){var e=this.__obj["treevirtual-only-expand"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-plus-only"],e.icon)},testTreeVirtualStartContract:function(){var e=this.__obj["treevirtual-start-contract"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-minus-start"],e.icon)},testTreeVirtualStartExpand:function(){var e=this.__obj["treevirtual-start-expand"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-plus-start"],e.icon)},testTreeVirtualEndContract:function(){var e=this.__obj["treevirtual-end-contract"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-minus-end"],e.icon)},testTreeVirtualEndExpand:function(){var e=this.__obj["treevirtual-end-expand"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-plus-end"],e.icon)},testTreeVirtualCrossContract:function(){var e=this.__obj["treevirtual-cross-contract"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-minus-cross"],e.icon)},testTreeVirtualCrossExpand:function(){var e=this.__obj["treevirtual-cross-expand"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-plus-cross"],e.icon)},testTreeVirtualEnd:function(){var e=this.__obj["treevirtual-end"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-end"],e.icon)},testTreeVirtualCross:function(){var e=this.__obj["treevirtual-cross"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-cross"],e.icon)}},_defineProperty(e,"testTreeVirtualCross",function(){var e=this.__obj["treevirtual-cross"].style();this.assertIdentical(qx.theme.simple.Image.URLS["treevirtual-cross"],e.icon)}),_defineProperty(e,"testResizer",function(){var e=this.__obj.resizer.style();this.assertIdentical("main-dark",e.decorator)}),_defineProperty(e,"testSplitpaneSplitter",function(){var e=this.__obj["splitpane/splitter"].style();this.assertIdentical("light-background",e.backgroundColor)}),_defineProperty(e,"testSplitpaneSplitterKnob",function(){var e=this.__obj["splitpane/splitter/knob"].style,t=e({horizontal:!0});this.assertIdentical(2,t.padding);this.assertIdentical(qx.theme.simple.Image.URLS["knob-horizontal"],t.source);t=e({horizontal:!1});this.assertIdentical(qx.theme.simple.Image.URLS["knob-vertical"],t.source)}),_defineProperty(e,"testSplitpaneSlider",function(){var e=this.__obj["splitpane/slider"].style();this.assertIdentical("border-light-shadow",e.backgroundColor);this.assertIdentical(.3,e.opacity)}),_defineProperty(e,"testMenu",function(){var e=this.__obj.menu.style,t={submenu:!0,contextmenu:!0},i=e(t);this.assertIdentical("background",i.backgroundColor);this.assertIdentical("main",i.decorator);this.assertIdentical(6,i.spacingX);this.assertIdentical(1,i.spacingY);this.assertIdentical(16,i.iconColumnWidth);this.assertIdentical(4,i.arrowColumnWidth);this.assertIdentical(1,i.padding);this.assertIdentical("best-fit",i.placementModeY);this.assertNotUndefined(i.position);this.assertIdentical("right-top",i.position);this.assertNotUndefined(i.offset);this.assertIdentical(4,i.offset);t.submenu=!1;i=e(t);this.assertIdentical("best-fit",i.placementModeY);this.assertUndefined(i.position);this.assertIdentical(4,i.offset);t.contextmenu=!1;i=e(t);this.assertIdentical("keep-align",i.placementModeY);this.assertUndefined(i.position);this.assertUndefined(i.offset)}),_defineProperty(e,"testMenuSlideBarButton",function(){var e=this.__obj["menu-slidebar-button"].style,t=e({hovered:!0});this.assertIdentical(6,t.padding);this.assertIdentical(!0,t.center);this.assertIdentical("background-selected",t.backgroundColor);t=e({hovered:!1});this.assertUndefined(t.backgroundColor)}),_defineProperty(e,"testMenuSlideBarButtonBackward",function(){var e=this.__obj["menu-slidebar/button-backward"].style,t=e({hovered:!0});this.assertIdentical(qx.theme.simple.Image.URLS["arrow-up-invert"],t.icon);t=e({hovered:!1});this.assertIdentical(qx.theme.simple.Image.URLS["arrow-up"],t.icon)}),_defineProperty(e,"testMenuSlideBarButtonForward",function(){var e=this.__obj["menu-slidebar/button-forward"].style,t=e({hovered:!0});this.assertIdentical(qx.theme.simple.Image.URLS["arrow-down-invert"],t.icon);t=e({hovered:!1});this.assertIdentical(qx.theme.simple.Image.URLS["arrow-down"],t.icon)}),_defineProperty(e,"testMenuSeparator",function(){var e=this.__obj["menu-separator"].style();this.assertIdentical(0,e.height);this.assertIdentical("menu-separator",e.decorator);this.assertIdentical(4,e.marginTop);this.assertIdentical(4,e.marginBottom);this.assertIdentical(2,e.marginLeft);this.assertIdentical(2,e.marginRight)}),_defineProperty(e,"testMenuButton",function(){var e=this.__obj["menu-button"].style;this.assertIdentical("background-selected",e({selected:!0}).backgroundColor);this.assertIdentical("text-selected",e({selected:!0}).textColor);this.assertArrayEquals([2,6],e({selected:!0}).padding);this.assertUndefined(e({selected:!1}).backgroundColor);this.assertUndefined(e({selected:!1}).textColor)}),_defineProperty(e,"testMenuButtonIcon",function(){var e=this.__obj["menu-button/icon"].style();this.assertIdentical("middle",e.alignY)}),_defineProperty(e,"testMenuButtonLabel",function(){var e=this.__obj["menu-button/label"].style();this.assertIdentical("middle",e.alignY);this.assertIdentical(1,e.padding)}),_defineProperty(e,"testMenuButtonShortcut",function(){var e=this.__obj["menu-button/shortcut"].style();this.assertIdentical("middle",e.alignY);this.assertIdentical(1,e.padding);this.assertIdentical(14,e.marginLeft)}),_defineProperty(e,"testMenuButtonArrow",function(){var e=this.__obj["menu-button/arrow"].style,t={selected:!0},i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["arrow-right-invert"],i.source);this.assertIdentical("middle",i.alignY);t.selected=!1;i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["arrow-right"],i.source)}),_defineProperty(e,"testMenuCheckbox",function(){var e=this.__obj["menu-checkbox"].style,t={checked:!0,selected:!0},i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["menu-checkbox-invert"],i.icon);t.selected=!1;i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["menu-checkbox"],i.icon);t.checked=!1;i=e(t);this.assertUndefined(i.icon)}),_defineProperty(e,"testMenuRadioButton",function(){var e=this.__obj["menu-radiobutton"].style,t={checked:!0,selected:!0},i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["menu-radiobutton-invert"],i.icon);t.selected=!1;i=e(t);this.assertIdentical(qx.theme.simple.Image.URLS["menu-radiobutton"],i.icon);t.checked=!1;i=e(t);this.assertUndefined(i.icon)}),_defineProperty(e,"testMenuBar",function(){var e=this.__obj.menubar.style();this.assertIdentical("light-background",e.backgroundColor);this.assertArrayEquals([4,2],e.padding)}),_defineProperty(e,"testMenuBarButton",function(){var e=this.__obj["menubar-button"].style,t={disabled:!1,pressed:!0,hovered:!1},i=e(t);this.assertIdentical("menubar-button-pressed",i.decorator);this.assertArrayEquals([1,5,2,5],i.padding);this.assertIdentical("pointer",i.cursor);t.pressed=!1;t.hovered=!0;i=e(t);this.assertIdentical("menubar-button-hovered",i.decorator);this.assertArrayEquals([1,5],i.padding);t.hovered=!1;i=e(t);this.assertIdentical("link",i.textColor);this.assertUndefined(i.decorator);this.assertArrayEquals([2,6],i.padding);t.disabled=!0;i=e(t);this.assertUndefined(i.cursor)}),_defineProperty(e,"testGroupItem",function(){var e=this.__obj["group-item"].style();this.assertIdentical(4,e.padding);this.assertIdentical("#BABABA",e.backgroundColor);this.assertIdentical("white",e.textColor);this.assertIdentical("bold",e.font)}),_defineProperty(e,"testVirtualTree",function(){var e=this.__obj["virtual-tree"].style();this.assertIdentical(21,e.itemHeight)}),_defineProperty(e,"testCell",function(){var e=this.__obj.cell.style,t=e({selected:!0});this.assertIdentical("table-row-background-selected",t.backgroundColor);this.assertIdentical("text-selected",t.textColor);this.assertArrayEquals([3,6],t.padding);t=e({selected:!1});this.assertIdentical("table-row-background-even",t.backgroundColor);this.assertIdentical("text",t.textColor)}),_defineProperty(e,"testCellNumber",function(){var e=this.__obj["cell-number"].style();this.assertIdentical("right",e.textAlign)}),e)});qx.test.theme.simple.Appearance.$$dbClassInfo=t}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.theme.simple.Image",{extend:qx.core.Object,statics:{URLS:{blank:"qx/static/blank.png","checkbox-checked":"decoration/checkbox/checked.png","checkbox-undetermined":"decoration/checkbox/undetermined.png","window-minimize":"decoration/window/minimize.gif","window-maximize":"decoration/window/maximize.gif","window-restore":"decoration/window/restore.gif","window-close":"decoration/window/close.gif","cursor-copy":"decoration/cursors/copy.gif","cursor-move":"decoration/cursors/move.gif","cursor-alias":"decoration/cursors/alias.gif","cursor-nodrop":"decoration/cursors/nodrop.gif","arrow-right":"decoration/arrows/right.gif","arrow-left":"decoration/arrows/left.gif","arrow-up":"decoration/arrows/up.gif","arrow-down":"decoration/arrows/down.gif","arrow-forward":"decoration/arrows/forward.gif","arrow-rewind":"decoration/arrows/rewind.gif","arrow-down-small":"decoration/arrows/down-small.gif","arrow-up-small":"decoration/arrows/up-small.gif","arrow-up-invert":"decoration/arrows/up-invert.gif","arrow-down-invert":"decoration/arrows/down-invert.gif","arrow-right-invert":"decoration/arrows/right-invert.gif","knob-horizontal":"decoration/splitpane/knob-horizontal.png","knob-vertical":"decoration/splitpane/knob-vertical.png","tree-minus":"decoration/tree/minus.gif","tree-plus":"decoration/tree/plus.gif","select-column-order":"decoration/table/select-column-order.png","table-ascending":"decoration/table/ascending.png","table-descending":"decoration/table/descending.png","treevirtual-line":"decoration/treevirtual/line.gif","treevirtual-minus-only":"decoration/treevirtual/only_minus.gif","treevirtual-plus-only":"decoration/treevirtual/only_plus.gif","treevirtual-minus-start":"decoration/treevirtual/start_minus.gif","treevirtual-plus-start":"decoration/treevirtual/start_plus.gif","treevirtual-minus-end":"decoration/treevirtual/end_minus.gif","treevirtual-plus-end":"decoration/treevirtual/end_plus.gif","treevirtual-minus-cross":"decoration/treevirtual/cross_minus.gif","treevirtual-plus-cross":"decoration/treevirtual/cross_plus.gif","treevirtual-end":"decoration/treevirtual/end.gif","treevirtual-cross":"decoration/treevirtual/cross.gif","menu-checkbox":"decoration/menu/checkbox.gif","menu-checkbox-invert":"decoration/menu/checkbox-invert.gif","menu-radiobutton-invert":"decoration/menu/radiobutton-invert.gif","menu-radiobutton":"decoration/menu/radiobutton.gif","tabview-close":"decoration/tabview/close.gif"}}});qx.theme.simple.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.toolchain.PrivateOptimization",{extend:qx.dev.unit.TestCase,members:{testPrivatesRenaming:function(){this.assertEquals("__test a",this.__test(),"Variable in a string renamed!");this.assertEquals("__test a test",this.__test()+" test","Variable in a string renamed!")},__test:function(){return"__test a"}}});qx.test.toolchain.PrivateOptimization.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.toolchain.TestRunner",{extend:qx.dev.unit.TestCase,members:{testAsynchronous:function(){qx.event.Timer.once(function(){this.resume(function(){},this)},this,1e3);this.wait()}}});qx.test.toolchain.TestRunner.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0}},environment:{provided:[],required:{"qx.test.bool_true":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.toolchain.VariantOptimization",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MRequirements,members:{setUp:function(){this.require(["variantsOptimized"])},hasVariantsOptimized:function(){return!1},"test If 'if' statement is pruned by the generator":function(){var e=0;qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!1};e=qx.core.Environment.get("qx.test.bool_true")?1:2;this.assertEquals(1,e)},"tearDown If 'if' statement is pruned by the generator":function(){qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!0}},"test If 'select' call is pruned by the generator":function(){qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!1};var e=qx.core.Environment.select("qx.test.bool_true",{true:1,false:2});this.assertEquals(1,e)},"tearDown If 'select' call is pruned by the generator":function(){qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!0}},"test If simple 'get' call is pruned by the generator":function(){qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!1};var e=qx.core.Environment.get("qx.test.bool_true");this.assertEquals(!0,e)},"tearDown If simple 'get' call is pruned by the generator":function(){qx.core.Environment.getChecks()["qx.test.bool_true"]=function(){return!0}}}});qx.test.toolchain.VariantOptimization.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.type.Array":{},"qx.type.BaseArray":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.type.Array",{extend:qx.dev.unit.TestCase,members:{__arr:null,setUp:function(){this.__arr=new qx.type.Array("x")},testConstruct:function(){this.assertEquals(this.__arr[0],"x")},testAppend:function(){this.__arr.append([1,2]);this.assertEquals(this.__arr[1],1);this.assertEquals(this.__arr[2],2);var e=new qx.type.Array(3,4);this.__arr.append(e);this.assertEquals(this.__arr[3],3);this.assertEquals(this.__arr[4],4);var t=new qx.type.BaseArray(5,6);this.__arr.append(t);this.assertEquals(this.__arr[5],5);this.assertEquals(this.__arr[6],6)},testPrepend:function(){this.__arr.prepend([1,2]);this.assertEquals(this.__arr[0],1);this.assertEquals(this.__arr[1],2);var e=new qx.type.Array(3,4);this.__arr.prepend(e);this.assertEquals(this.__arr[0],3);this.assertEquals(this.__arr[1],4);var t=new qx.type.BaseArray(5,6);this.__arr.prepend(t);this.assertEquals(this.__arr[0],5);this.assertEquals(this.__arr[1],6)}}});qx.test.type.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.type.BaseArray":{construct:!0,require:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.type.Array",{extend:qx.type.BaseArray,construct:function(e){qx.type.BaseArray.apply(this,arguments)},members:{clone:qx.type.BaseArray.prototype.concat,insertAt:function(e,t){this.splice(t,0,e);return this},insertBefore:function(e,t){var i=this.indexOf(t);-1==i?this.push(e):this.splice(i,0,e);return this},insertAfter:function(e,t){var i=this.indexOf(t);-1==i||i==this.length-1?this.push(e):this.splice(i+1,0,e);return this},removeAt:function(e){return this.splice(e,1)[0]},removeAll:function(){this.length=0;return this},append:function(e){var t=this.__toPlainArray(e);Array.prototype.push.apply(this,t);return this},prepend:function(e){var t=this.__toPlainArray(e);Array.prototype.splice.apply(this,[0,0].concat(t));return this},__toPlainArray:function(e){qx.core.Assert.assertArray(e,"The parameter must be an array.");var t=e;if(e instanceof qx.type.BaseArray){t=[];for(var i=0;i<e.length;i++)t[i]=e[i]}return t},remove:function(e){var t=this.indexOf(e);if(-1!=t){this.splice(t,1);return e}},contains:function(e){return-1!==this.indexOf(e)}}});qx.type.Array.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.type.BaseArray":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.type.BaseArray",{extend:qx.dev.unit.TestCase,construct:function(){qx.dev.unit.TestCase.constructor.call(this);qx.Class.define("qx.test.type.TestArray",{extend:qx.type.BaseArray})},members:{testListConstruct:function(){var e=new qx.test.type.TestArray(10);this.assertEquals(10,e.length);e=new qx.test.type.TestArray(1,2,3);this.assertArrayEquals([1,2,3],e)},testSingleItemConstruct:function(){var e=new qx.test.type.TestArray("42");this.assertArray(e);this.assertEquals(e.length,1);this.assertIdentical("42",e[0],"The answer was not 42!")},testArrayLength:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertEquals(3,e.length)},testClear:function(){var e=new qx.test.type.TestArray(1,2,3);e.length=0;this.assertArrayEquals([],e)},testArrayJoin:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertEquals("1, 2, 3",e.join(", "))},testArrayConcat:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertArrayEquals([1,2,3,4,5],e.concat(4,5));this.assertInstance(e.concat(4,5),qx.test.type.TestArray)},testArrayPop:function(){var e=new qx.test.type.TestArray(1,2,3),t=e.pop();this.assertEquals(3,t);this.assertArrayEquals([1,2],e)},testArrayPush:function(){var e=new qx.test.type.TestArray(1,2),t=e.push(3);this.assertEquals(3,t);this.assertArrayEquals([1,2,3],e);t=e.push(4,5);this.assertEquals(5,t);this.assertArrayEquals([1,2,3,4,5],e)},testArrayReverse:function(){var e=new qx.test.type.TestArray(1,2,3,4,5);e.reverse();this.assertArrayEquals([5,4,3,2,1],e);e.reverse();this.assertArrayEquals([1,2,3,4,5],e)},testArrayShift:function(){var e=new qx.test.type.TestArray(1,2,3,4,5),t=e.shift();this.assertEquals(1,t);this.assertArrayEquals([2,3,4,5],e)},testArrayUnshift:function(){var e=new qx.test.type.TestArray(2,3,4,5);e.unshift(1);this.assertArrayEquals([1,2,3,4,5],e)},testArraySlice:function(){var e=new qx.test.type.TestArray(1,2,3,4,5);this.assertArrayEquals([3,4],e.slice(2,4));this.assertArrayEquals([2,3,4,5],e.slice(1));this.assertArrayEquals([3,4],e.slice(2,-1));this.assertInstance(e.slice(2,4),qx.test.type.TestArray)},testArraySort:function(){(e=new qx.test.type.TestArray(3,5,1,-1)).sort();this.assertArrayEquals([-1,1,3,5],e);var e;(e=new qx.test.type.TestArray(3,5,1,-1)).sort(function(e,t){return e>t?-1:1});this.assertArrayEquals([5,3,1,-1],e)},testArraySplice:function(){var e=new qx.test.type.TestArray(1,2,3,4,5),t=e.splice(1,2,22,33);this.assertArrayEquals([2,3],t);this.assertInstance(t,qx.test.type.TestArray);this.assertArrayEquals([1,22,33,4,5],e)},testArrayToString:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertEquals(e.join(),e.toString())},testArrayToLocaleString:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertEquals([1,2,3].toLocaleString(),e.toLocaleString())},testArrayAccess:function(){var e=new qx.test.type.TestArray(1,2,3);this.assertEquals(1,e[0]);this.assertEquals(2,e[1]);this.assertEquals(3,e[2])},testIndexOf:function(){var e={},t=new qx.test.type.TestArray(1,e,"str",1);this.assertEquals(0,t.indexOf(1));this.assertEquals(1,t.indexOf(e));this.assertEquals(2,t.indexOf("str"));this.assertEquals(-1,t.indexOf(0))},testLastIndexOf:function(){var e={},t=new qx.test.type.TestArray(1,e,"str",1);this.assertEquals(3,t.lastIndexOf(1));this.assertEquals(1,t.lastIndexOf(e));this.assertEquals(2,t.lastIndexOf("str"));this.assertEquals(-1,t.lastIndexOf(0))},testForEach:function(){var e=new qx.test.type.TestArray(1,{},"str",1),t=[],i=[];e.forEach(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3],i)},testFilter:function(){var e=new qx.test.type.TestArray(1,2,3,4),t=[],i=[],n=e.filter(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return s%2==1},this);this.assertInstance(n,qx.test.type.TestArray);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3],i);this.assertArrayEquals([2,4],n)},testMap:function(){var e=new qx.test.type.TestArray(1,2,3,4),t=[],i=[],n=e.map(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return n+1},this);this.assertInstance(n,qx.test.type.TestArray);this.assertArrayEquals([2,3,4,5],n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3],i)},testSome:function(){var e=new qx.test.type.TestArray(1,2,3,4),t=[],i=[],n=e.some(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r)},this);this.assertFalse(n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3],i);this.assertTrue(e.some(function(e){return 3==e}));this.assertFalse(e.some(function(e,t){return 6==t}))},testEvery:function(){var e=new qx.test.type.TestArray(1,2,3,4),t=[],i=[],n=e.every(function(n,s,r){t[s]=n;i.push(s);this.assertEquals(e,r);return!0},this);this.assertTrue(n);this.assertArrayEquals(e,t);this.assertArrayEquals([0,1,2,3],i);this.assertFalse(e.every(function(e){return 3==e}));this.assertTrue(e.every(function(e,t){return e==t+1}))}}});qx.test.type.BaseArray.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.type.BaseString":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.type.BaseString",{extend:qx.dev.unit.TestCase,members:{testToString:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("Juhu",e)},testValueOf:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("Juhu".valueOf(),e.valueOf())},testUpperCase:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("JUHU",e.toUpperCase())},testIndexOf:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(1,e.indexOf("u"))},testPlusOperator:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("__Juhu__",["__",e+"__"].join(""))},testCharAt:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("h",e.charAt(2))},testcharCodeAt:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(104,e.charCodeAt(2))},testlastIndexOf:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(3,e.lastIndexOf("u"))},testLength:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(4,e.length)},testLowerCase:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("juhu",e.toLowerCase())},testSubstringOneArgument:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("hu",e.substring(2))},testSubstringTwoArguments:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("u",e.substring(2,1))},testSearchString:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(2,e.search("h"))},testSearchRegExp:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals(0,e.search(/J/))},testReplace:function(){var e=new qx.type.BaseString("Juhu");this.assertEquals("Johu",e.replace("u","o"))},testEmptyString:function(){var e=new qx.type.BaseString;this.assertEquals("",e.toString());e=new qx.type.BaseString("");this.assertEquals("",e.toString())},testExtend:function(){qx.Class.define("qx.String",{extend:qx.type.BaseString,members:{bold:function(){return"<b>"+this.toString()+"</b>"}}});var e=new qx.String("Juhu");this.assertEquals("<b>Juhu</b>",e.bold())}}});qx.test.type.BaseString.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.container.Composite":{},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.BackgroundColor",{extend:qx.test.ui.LayoutTestCase,members:{testChangeColorInContainer:function(){var e=new qx.ui.container.Composite;this.getRoot().add(e);this.assertStyle(e,"backgroundColor","transparent");e.setBackgroundColor("red");this.assertStyle(e,"backgroundColor","red");e.setBackgroundColor("green");this.assertStyle(e,"backgroundColor","green");e.setBackgroundColor(null);this.assertStyle(e,"backgroundColor","transparent");this.getRoot().remove(e);e.destroy()},testChangeColorInDecorator:function(){var e=new qx.ui.container.Composite;this.getRoot().add(e);var t=(new qx.ui.decoration.Decorator).set({width:1});e.setDecorator(t);this.assertStyle(e,"backgroundColor","transparent","no bg color");e.setBackgroundColor("red");this.assertStyle(e,"backgroundColor","red","red bg color");e.setBackgroundColor("green");this.assertStyle(e,"backgroundColor","green","green bg color");e.setBackgroundColor(null);this.assertStyle(e,"backgroundColor","transparent","null bg color");this.getRoot().remove(e);e.dispose();t.dispose()},testChangeDecorator:function(){var e=new qx.ui.container.Composite;this.getRoot().add(e);this.assertStyle(e,"backgroundColor","transparent");var t=(new qx.ui.decoration.Decorator).set({width:1});e.setDecorator(t);e.setBackgroundColor("red");this.assertStyle(e,"backgroundColor","red");var i=(new qx.ui.decoration.Decorator).set({width:1,style:"solid",color:"green",innerWidth:1,innerColor:"black"});e.setDecorator(i);this.assertStyle(e,"backgroundColor","red");e.destroy();t.dispose();i.dispose()},testDecorationColor:function(){var e=new qx.ui.container.Composite;this.getRoot().add(e);this.assertStyle(e,"backgroundColor","transparent");e.setBackgroundColor("green");this.assertStyle(e,"backgroundColor","green");var t=(new qx.ui.decoration.Decorator).set({width:1,backgroundColor:"red"});e.setDecorator(t);this.assertStyle(e,"backgroundColor","green");e.setBackgroundColor(null);this.assertStyle(e,"backgroundColor","red");this.getRoot().remove(e);e.dispose();t.dispose()}}});qx.test.ui.BackgroundColor.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.container.Composite":{},"qx.ui.layout.Basic":{},"qx.ui.core.Widget":{},"qx.core.AssertionError":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.ChildrenHandling",{extend:qx.test.ui.LayoutTestCase,members:{assertArrayEquals:function(e,t,i){this.assertArray(e,i);this.assertArray(t,i);this.assertEquals(e.length,t.length,i);for(var n=0;n<e.length;n++)this.assertIdentical(e[n],t[n],i)},_setChildren:function(e,t){e.removeAll();for(var i=0;i<t.length;i++)e.add(t[i]);this.flush();this.assertArrayEquals(t,e.getChildren())},testRemove:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget,i=new qx.ui.core.Widget,n=new qx.ui.core.Widget,s=[t,i,n];this._setChildren(e,s);e.remove(t);this.assertArrayEquals([i,n],e.getChildren(),"remove first");this._setChildren(e,s);e.remove(i);this.assertArrayEquals([t,n],e.getChildren(),"remove middle");this._setChildren(e,s);e.remove(n);this.assertArrayEquals([t,i],e.getChildren(),"remove last");this._setChildren(e,s);t.destroy();i.destroy();n.destroy();e.destroy()},testRemoveAll:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget,i=new qx.ui.core.Widget,n=new qx.ui.core.Widget,s=[t,i,n];this._setChildren(e,s);var r=e.removeAll();this.assertArrayEquals([],e.getChildren(),"remove last");this.assertEquals(3,r.length);this.assertEquals(t,r[0]);this.assertEquals(i,r[1]);this.assertEquals(n,r[2]);t.destroy();i.destroy();n.destroy();e.destroy()},testRemoveNonChild:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget;this.assertException(function(){e.remove(t)});t.destroy();e.destroy()},testRemoveAt:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget,i=new qx.ui.core.Widget,n=new qx.ui.core.Widget,s=new qx.ui.core.Widget,r=[t,i,n];this._setChildren(e,r);e.removeAt(0);this.assertArrayEquals([i,n],e.getChildren(),"remove first");this._setChildren(e,r);e.removeAt(1);this.assertArrayEquals([t,n],e.getChildren(),"remove middle");this._setChildren(e,r);e.removeAt(2);this.assertArrayEquals([t,i],e.getChildren(),"remove last");if(this.isDebugOn()){this._setChildren(e,r);this.assertException(function(){e.removeAt(-1)},qx.core.AssertionError,"","remove at negative index")}if(this.isDebugOn()){this._setChildren(e,r);this.assertException(function(){e.removeAt(-1)},qx.core.AssertionError,"","remove at negative index")}t.destroy();i.destroy();n.destroy();s.destroy();e.destroy()},testAddBefore:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget,i=new qx.ui.core.Widget,n=new qx.ui.core.Widget,s=new qx.ui.core.Widget,r=new qx.ui.core.Widget,o=[t,i,n];this._setChildren(e,o);e.addBefore(s,t);this.assertArrayEquals([s,t,i,n],e.getChildren(),"add new widget at begin");this._setChildren(e,o);e.addBefore(s,n);this.assertArrayEquals([t,i,s,n],e.getChildren(),"add new widget in the middle");this._setChildren(e,o);if(this.isDebugOn()){this.assertException(function(){e.addBefore(s,r)},qx.core.AssertionError,"","add new widget before non child");this._setChildren(e,o)}e.addBefore(t,t);this.assertArrayEquals([t,i,n],e.getChildren(),"add existing before itself");this._setChildren(e,o);e.addBefore(n,t);this.assertArrayEquals([n,t,i],e.getChildren(),"add existing before first");this._setChildren(e,o);e.addBefore(n,i);this.assertArrayEquals([t,n,i],e.getChildren(),"add existing in the middle");this._setChildren(e,o);if(this.isDebugOn()){this.assertException(function(){e.addBefore(n,r)},qx.core.AssertionError,"","add existing before non child");this._setChildren(e,o)}t.destroy();i.destroy();n.destroy();s.destroy();r.destroy();e.destroy()},testAddAfter:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=new qx.ui.core.Widget,i=new qx.ui.core.Widget,n=new qx.ui.core.Widget,s=new qx.ui.core.Widget,r=new qx.ui.core.Widget,o=[t,i,n];this._setChildren(e,o);e.addAfter(s,n);this.assertArrayEquals([t,i,n,s],e.getChildren(),"add new widget ar end");this._setChildren(e,o);e.addAfter(s,t);this.assertArrayEquals([t,s,i,n],e.getChildren(),"add new widget in the middle");this._setChildren(e,o);if(this.isDebugOn()){this.assertException(function(){e.addAfter(s,r)},qx.core.AssertionError,"","add new widget after non child");this._setChildren(e,o)}e.addAfter(t,t);this.assertArrayEquals([t,i,n],e.getChildren(),"add existing before itself");this._setChildren(e,o);e.addAfter(t,n);this.assertArrayEquals([i,n,t],e.getChildren(),"add existing before last");this._setChildren(e,o);e.addAfter(t,i);this.assertArrayEquals([i,t,n],e.getChildren(),"add existing in the middle");this._setChildren(e,o);if(this.isDebugOn()){this.assertException(function(){e.addAfter(t,r)},qx.core.AssertionError,"","add existing after non child");this._setChildren(e,o)}t.destroy();i.destroy();n.destroy();s.destroy();r.destroy();e.destroy()},testDoubleAdd:function(){for(var e=new qx.ui.container.Composite(new qx.ui.layout.Basic),t=[],i=0;i<4;i++){t[i]=new qx.ui.core.Widget;e.add(t[i])}this.assertArrayEquals(t,e.getChildren());var n=t[1];e.add(n);qx.lang.Array.remove(t,n);t.push(n);this.assertArrayEquals(t,e.getChildren());e.destroy()}}});qx.test.ui.ChildrenHandling.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.container.Composite":{},"qx.ui.core.Widget":{},"qx.ui.layout.Basic":{},"qx.ui.layout.Canvas":{},"qx.ui.layout.Dock":{},"qx.ui.layout.Grow":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{},"qx.ui.layout.Grid":{},"qx.ui.form.Button":{},"qx.ui.form.ComboBox":{},"qx.ui.form.CheckBox":{},"qx.ui.form.PasswordField":{},"qx.ui.form.RadioButton":{},"qx.ui.form.SelectBox":{},"qx.ui.form.Slider":{},"qx.ui.form.Spinner":{},"qx.ui.form.SplitButton":{},"qx.ui.form.TextArea":{},"qx.ui.form.TextField":{},"qx.ui.form.ToggleButton":{},"qx.ui.form.MenuButton":{},"qx.ui.basic.Atom":{},"qx.ui.basic.Label":{},"qx.ui.basic.Image":{},"qx.ui.container.Resizer":{},"qx.ui.container.Scroll":{},"qx.ui.container.SlideBar":{},"qx.ui.container.Stack":{},"qx.ui.control.ColorSelector":{},"qx.ui.control.DateChooser":{},"qx.ui.control.ColorPopup":{},"qx.ui.core.queue.Dispose":{},"qx.ui.core.scroll.ScrollBar":{},"qx.ui.core.scroll.NativeScrollBar":{},"qx.ui.core.scroll.ScrollPane":{},"qx.ui.core.scroll.ScrollSlider":{},"qx.ui.embed.Html":{},"qx.ui.embed.Canvas":{},"qx.ui.embed.Iframe":{},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.groupbox.GroupBox":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.menu.Menu":{},"qx.ui.menu.Button":{},"qx.ui.menu.CheckBox":{},"qx.ui.menu.RadioButton":{},"qx.ui.menu.Separator":{},"qx.ui.popup.Popup":{},"qx.ui.splitpane.Pane":{},"qx.ui.tabview.TabView":{},"qx.ui.tabview.Page":{},"qx.ui.toolbar.Button":{},"qx.ui.toolbar.CheckBox":{},"qx.ui.toolbar.Part":{},"qx.ui.toolbar.PartContainer":{},"qx.ui.toolbar.RadioButton":{},"qx.ui.toolbar.Separator":{},"qx.ui.toolbar.ToolBar":{},"qx.ui.toolbar.MenuButton":{},"qx.ui.toolbar.SplitButton":{},"qx.ui.tooltip.ToolTip":{},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.ui.tree.TreeFile":{},"qx.ui.form.RadioGroup":{},"qx.ui.form.RadioButtonGroup":{},"qx.ui.window.Window":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.test.ui.Destroy",{extend:qx.test.ui.LayoutTestCase,statics:{$$clazz:null,$$args:null},members:{assertLayoutDispose:function assertLayoutDispose(clazz,args,layoutArgsArr){this.assertDestroy(function(){for(var argStr=[],i=0;i<args.length;i++)argStr.push("qx.test.ui.Destroy.$$args["+i+"]");qx.test.ui.Destroy.$$clazz=clazz;qx.test.ui.Destroy.$$args=args;var str="new qx.test.ui.Destroy.$$clazz("+argStr.join(", ")+");",layout=eval(str),widget=new qx.ui.container.Composite;widget.setLayout(layout);for(var i=0;i<layoutArgsArr.length;i++)widget.add(new qx.ui.core.Widget,layoutArgsArr[i]);this.getRoot().add(widget);this.flush();widget.destroy()},this)},testLayouts:function(){for(var e=[[qx.ui.layout.Basic,[],[{left:10},{top:10},{left:10,top:10}]],[qx.ui.layout.Canvas,[],[{left:10},{top:10},{right:10,top:"10%"}]],[qx.ui.layout.Dock,[],[{edge:"north"},{edge:"south"},{edge:"west"},{edge:"east"}]],[qx.ui.layout.Grow,[],[{}]],[qx.ui.layout.HBox,[],[{flex:1},{},{}]],[qx.ui.layout.VBox,[],[{flex:1},{},{}]],[qx.ui.layout.Grid,[],[{row:0,column:0},{row:4,column:3},{row:2,column:0,colSpan:3}]]],t=0;t<e.length;t++)this.assertLayoutDispose(e[t][0],e[t][1],e[t][2])},testForms:function(){for(var e=[[qx.ui.form.Button,["Juhu"]],[qx.ui.form.ComboBox,[]],[qx.ui.form.CheckBox,["Juhu"]],[qx.ui.form.PasswordField,[]],[qx.ui.form.RadioButton,[]],[qx.ui.form.SelectBox,[]],[qx.ui.form.Slider,[]],[qx.ui.form.Spinner,[]],[qx.ui.form.SplitButton,[]],[qx.ui.form.TextArea,[]],[qx.ui.form.TextField,[]],[qx.ui.form.ToggleButton,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname);this.assertDestroy(function(){var e=new qx.ui.form.MenuButton,t=this.__createMenu();e.setMenu(t);this.getRoot().add(e);this.flush();e.destroy();t.destroy()},this,"Dispose menu button")},testBasic:function(){for(var e=[[qx.ui.basic.Atom,["Juhu"]],[qx.ui.basic.Label,["Juhu"]],[qx.ui.basic.Image,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname)},testContainer:function(){for(var e=[[qx.ui.container.Composite,[]],[qx.ui.container.Resizer,[]],[qx.ui.container.Scroll,[]],[qx.ui.container.SlideBar,[]],[qx.ui.container.Stack,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname)},testControls:function(){for(var e=[[qx.ui.control.ColorSelector,[]],[qx.ui.control.DateChooser,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname);this.assertDestroy(function(){var e=new qx.ui.control.ColorPopup;e.show();this.flush();e.destroy()},this,"Dispose color popup");this.assertDestroy(function(){var e=new qx.ui.control.ColorPopup;e.show();e.getChildControl("selector-button").execute();this.flush();e.destroy();qx.ui.core.queue.Dispose.flush()},this,"Dispose color popup with selector open")},testCore:function(){for(var e=[[qx.ui.core.scroll.ScrollBar,[]],[qx.ui.core.scroll.NativeScrollBar,[]],[qx.ui.core.scroll.ScrollPane,[]],[qx.ui.core.scroll.ScrollSlider,[]],[qx.ui.core.Widget,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname)},testEmbeds:function(){for(var e=[[qx.ui.embed.Html,["Juhu <b>Kinners</b>"]],[qx.ui.embed.Canvas,[]],[qx.ui.embed.Iframe,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname)},testGroupBox:function(){for(var e=[[qx.ui.groupbox.CheckGroupBox,[]],[qx.ui.groupbox.GroupBox,[]],[qx.ui.groupbox.RadioGroupBox,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname)},testMenu:function(){this.assertDestroy(function(){var e=new qx.ui.menu.Menu,t=new qx.ui.menu.Button("Juhu");e.add(t);e.add(new qx.ui.menu.CheckBox("Juhu"));e.add(new qx.ui.menu.RadioButton("Juhu"));e.add(new qx.ui.menu.Separator("Juhu"));var i=new qx.ui.menu.Menu;i.add(new qx.ui.menu.Button("Juhu"));t.setMenu(i);e.setOpener(this.getRoot());e.open();this.flush();i.destroy();e.destroy()},this,"Dispose configured menu")},testPopup:function(){this.assertDestroy(function(){var e=new qx.ui.popup.Popup;e.show();this.flush();e.destroy()},this,"Dispose configured menu")},testSplitPane:function(){this.assertDestroy(function(){var e=new qx.ui.splitpane.Pane;e.add(new qx.ui.core.Widget,1);e.add(new qx.ui.core.Widget);this.getRoot().add(e);this.flush();e.destroy()},this,"Dispose split pane")},testTabView:function(){this.assertDestroy(function(){var e=new qx.ui.tabview.TabView;e.add(new qx.ui.tabview.Page("Juhu"));e.add(new qx.ui.tabview.Page("Kinners"));this.getRoot().add(e);this.flush();e.destroy()},this,"Dispose tabview")},testToolbar:function(){for(var e=[[qx.ui.toolbar.Button,["Juhu"]],[qx.ui.toolbar.CheckBox,["Juhu"]],[qx.ui.toolbar.Part,[]],[qx.ui.toolbar.PartContainer,[]],[qx.ui.toolbar.RadioButton,["Juhu"]],[qx.ui.toolbar.Separator,[]],[qx.ui.toolbar.ToolBar,[]]],t=0;t<e.length;t++)this.assertWidgetDispose(e[t][0],e[t][1],"Disposing "+e[t][0].classname);this.assertDestroy(function(){var e=new qx.ui.toolbar.MenuButton("juhu"),t=this.__createMenu();e.setMenu(t);this.getRoot().add(e);this.flush();e.destroy();t.destroy()},this,"Dispose toolbar menu button");this.assertDestroy(function(){var e=new qx.ui.toolbar.SplitButton("Juhu"),t=this.__createMenu();e.setMenu(t);this.getRoot().add(e);this.flush();e.destroy();t.destroy()},this,"Dispose toolbar split button");this.assertDestroy(function(){var e=new qx.ui.toolbar.ToolBar;e.add(new qx.ui.toolbar.Button("juhu"));var t=new qx.ui.toolbar.Part;t.add(new qx.ui.toolbar.RadioButton);e.add(t);this.getRoot().add(e);this.flush();e.destroy()},this,"Dispose configured toolbar")},testTooltip:function(){this.assertDestroy(function(){var e=new qx.ui.tooltip.ToolTip;e.show();this.flush();e.destroy()},this,"Dispose tool tip")},testTree:function(){this.assertDestroy(function(){var e=new qx.ui.tree.Tree,t=new qx.ui.tree.TreeFolder("folder");t.setOpen(!0);t.add(new qx.ui.tree.TreeFile("file"));e.setRoot(t);e.show();this.flush();e.destroy()},this,"Dispose tree")},testRadioGroup:function(){this.assertDestroy(function(){new qx.ui.form.RadioGroup(new qx.ui.form.RadioButton("one"),new qx.ui.form.RadioButton("two")).dispose()})},testRadioButtonGroup:function(){this.assertDestroy(function(){var e=new qx.ui.form.RadioButtonGroup(new qx.ui.layout.HBox);e.add(new qx.ui.form.RadioButton("one"));e.add(new qx.ui.form.RadioButton("two"));e.destroy()})},testWindow:function(){this.assertDestroy(function(){var e=new qx.ui.window.Window;e.show();this.flush();e.destroy()},this,"Dispose window")},__createMenu:function(){var e=new qx.ui.menu.Menu;e.add(new qx.ui.menu.Button("Juhu"));e.add(new qx.ui.menu.CheckBox("Juhu"));e.add(new qx.ui.menu.RadioButton("Juhu"));e.add(new qx.ui.menu.Separator("Juhu"));return e}}});qx.test.ui.Destroy.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{construct:!0,require:!0},"qx.ui.layout.Util":{},"qx.theme.manager.Decoration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Dock",{extend:qx.ui.layout.Abstract,construct:function(e,t,i,n){qx.ui.layout.Abstract.constructor.call(this);e&&this.setSpacingX(e);t&&this.setSpacingY(t);i&&this.setSeparatorX(i);n&&this.setSeparatorY(n)},properties:{sort:{check:["auto","y","x"],init:"auto",apply:"_applySort"},separatorX:{check:"Decorator",nullable:!0,apply:"_applyLayoutChange"},separatorY:{check:"Decorator",nullable:!0,apply:"_applyLayoutChange"},connectSeparators:{check:"Boolean",init:!1,apply:"_applyLayoutChange"},spacingX:{check:"Integer",init:0,apply:"_applyLayoutChange"},spacingY:{check:"Integer",init:0,apply:"_applyLayoutChange"}},members:{__children:null,__edges:null,verifyLayoutProperty:function(e,t,i){this.assertInArray(t,["flex","edge","height","width"],"The property '"+t+"' is not supported by the Dock layout!");if("edge"===t)this.assertInArray(i,["north","south","west","east","center"]);else if("flex"===t){this.assertNumber(i);this.assert(i>=0)}else this.assertMatch(i,qx.ui.layout.Util.PERCENT_VALUE)},_applySort:function(){this._invalidChildrenCache=!0;this._applyLayoutChange()},__edgeMap:{north:1,south:2,west:3,east:4,center:5},__alignMap:{1:"top",2:"bottom",3:"left",4:"right"},__rebuildCache:function(){for(var e,t,i=this._getLayoutChildren(),n=i.length,s=[],r=[],o=[],a="y"===this.getSort(),l="x"===this.getSort(),u=0;u<n;u++)if("center"===(o=(e=i[u]).getLayoutProperties().edge)){if(t)throw new Error("It is not allowed to have more than one child aligned to 'center'!");t=e}else l||a?"north"===o||"south"===o?a?s.push(e):r.push(e):"west"!==o&&"east"!==o||(a?r.push(e):s.push(e)):s.push(e);var c=s.concat(r);t&&c.push(t);this.__children=c;var d=[];for(u=0;u<n;u++){o=c[u].getLayoutProperties().edge;d[u]=this.__edgeMap[o]||5}this.__edges=d;delete this._invalidChildrenCache},renderLayout:function(e,t,i){this._invalidChildrenCache&&this.__rebuildCache();var n,s,r,o,a,l,u=qx.ui.layout.Util,c=this.__children,d=this.__edges,h=c.length,g=[],m=[],f=this._getSeparatorWidths(),p=this.getSpacingX(),_=this.getSpacingY(),x=-p,q=-_;f.x&&(x-=f.x+p);f.y&&(q-=f.y+_);for(var v=0;v<h;v++){o=(s=c[v]).getLayoutProperties();w=(r=s.getSizeHint()).width;E=r.height;null!=o.width&&((w=Math.floor(e*parseFloat(o.width)/100))<r.minWidth?w=r.minWidth:w>r.maxWidth&&(w=r.maxWidth));null!=o.height&&((E=Math.floor(t*parseFloat(o.height)/100))<r.minHeight?E=r.minHeight:E>r.maxHeight&&(E=r.maxHeight));g[v]=w;m[v]=E;switch(d[v]){case 1:case 2:q+=E+s.getMarginTop()+s.getMarginBottom()+_;f.y&&(q+=f.y+_);break;case 3:case 4:x+=w+s.getMarginLeft()+s.getMarginRight()+p;f.x&&(x+=f.x+p);break;default:x+=w+s.getMarginLeft()+s.getMarginRight()+p;q+=E+s.getMarginTop()+s.getMarginBottom()+_;f.x&&(x+=f.x+p);f.y&&(q+=f.y+_)}}if(x!=e){n={};x<e;for(v=0;v<h;v++){s=c[v];switch(d[v]){case 3:case 4:case 5:null==(a=s.getLayoutProperties().flex)&&5==d[v]&&(a=1);if(a>0){r=s.getSizeHint();n[v]={min:r.minWidth,value:g[v],max:r.maxWidth,flex:a}}}}var b=u.computeFlexOffsets(n,e,x);for(var v in b){l=b[v].offset;g[v]+=l;x+=l}}if(q!=t){n={};q<t;for(v=0;v<h;v++){s=c[v];switch(d[v]){case 1:case 2:case 5:null==(a=s.getLayoutProperties().flex)&&5==d[v]&&(a=1);if(a>0){r=s.getSizeHint();n[v]={min:r.minHeight,value:m[v],max:r.maxHeight,flex:a}}}}b=u.computeFlexOffsets(n,t,q);for(var v in b){l=b[v].offset;m[v]+=l;q+=l}}this._clearSeparators();var y,C,w,E,S,T,I,A,D,B,L,M,P,k,R=this.getSeparatorX(),O=this.getSeparatorY(),F=this.getConnectSeparators(),N=0,W=0,$=this.__alignMap;for(v=0;v<h;v++){s=c[v];T=d[v];r=s.getSizeHint();L=s.getMarginTop();M=s.getMarginBottom();P=s.getMarginLeft();k=s.getMarginRight();switch(T){case 1:case 2:(w=e-P-k)<r.minWidth?w=r.minWidth:w>r.maxWidth&&(w=r.maxWidth);E=m[v];C=N+u.computeVerticalAlignOffset($[T],E,t,L,M);y=W+u.computeHorizontalAlignOffset(s.getAlignX()||"left",w,e,P,k);if(f.y){A=1==T?N+E+L+_+M:N+t-E-L-_-M-f.y;I=y;D=e;if(F&&I>0){I-=p+P;D+=2*p}else I-=P;this._renderSeparator(O,{left:I+i.left,top:A+i.top,width:D,height:f.y})}S=E+L+M+_;f.y&&(S+=f.y+_);t-=S;1==T&&(N+=S);break;case 3:case 4:(E=t-L-M)<r.minHeight?E=r.minHeight:E>r.maxHeight&&(E=r.maxHeight);w=g[v];y=W+u.computeHorizontalAlignOffset($[T],w,e,P,k);C=N+u.computeVerticalAlignOffset(s.getAlignY()||"top",E,t,L,M);if(f.x){I=3==T?W+w+P+p+k:W+e-w-P-p-k-f.x;A=C;B=t;if(F&&A>0){A-=_+L;B+=2*_}else A-=L;this._renderSeparator(R,{left:I+i.left,top:A+i.top,width:f.x,height:B})}S=w+P+k+p;f.x&&(S+=f.x+p);e-=S;3==T&&(W+=S);break;default:E=t-L-M;(w=e-P-k)<r.minWidth?w=r.minWidth:w>r.maxWidth&&(w=r.maxWidth);E<r.minHeight?E=r.minHeight:E>r.maxHeight&&(E=r.maxHeight);y=W+u.computeHorizontalAlignOffset(s.getAlignX()||"left",w,e,P,k);C=N+u.computeVerticalAlignOffset(s.getAlignY()||"top",E,t,L,M)}s.renderLayout(y+i.left,C+i.top,w,E)}},_getSeparatorWidths:function(){var e=this.getSeparatorX(),t=this.getSeparatorY();if(e||t)var i=qx.theme.manager.Decoration.getInstance();if(e)var n=i.resolve(e).getInsets(),s=n.left+n.right;if(t)var r=i.resolve(t).getInsets(),o=r.top+r.bottom;return{x:s||0,y:o||0}},_computeSizeHint:function(){this._invalidChildrenCache&&this.__rebuildCache();var e,t,i,n,s=this.__children,r=this.__edges,o=s.length,a=0,l=0,u=0,c=0,d=0,h=0,g=0,m=0,f=this._getSeparatorWidths(),p=this.getSpacingX(),_=this.getSpacingY(),x=-p,q=-_;f.x&&(x-=f.x+p);f.y&&(q-=f.y+_);for(var v=0;v<o;v++){e=(t=s[v]).getSizeHint();i=t.getMarginLeft()+t.getMarginRight();n=t.getMarginTop()+t.getMarginBottom();switch(r[v]){case 1:case 2:d=Math.max(d,e.width+a+i);h=Math.max(h,e.minWidth+l+i);g+=e.height+n;m+=e.minHeight+n;q+=_;f.y&&(q+=f.y+_);break;case 3:case 4:u=Math.max(u,e.height+g+n);c=Math.max(c,e.minHeight+m+n);a+=e.width+i;l+=e.minWidth+i;x+=p;f.x&&(x+=f.x+p);break;default:a+=e.width+i;l+=e.minWidth+i;g+=e.height+n;m+=e.minHeight+n;x+=p;f.x&&(x+=f.x+p);q+=_;f.y&&(q+=f.y+_)}}return{minWidth:Math.max(l,h)+x,width:Math.max(a,d)+x,minHeight:Math.max(c,m)+q,height:Math.max(u,g)+q}}},destruct:function(){this.__edges=this.__children=null}});qx.ui.layout.Dock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.TextField":{require:!0},"qx.html.Input":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.PasswordField",{extend:qx.ui.form.TextField,members:{_createInputElement:function(){return new qx.html.Input("password")}}});qx.ui.form.PasswordField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Button":{construct:!0,require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.IRadioItem":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IBooleanForm":{require:!0},"qx.ui.form.IModel":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.RadioButton",{extend:qx.ui.form.Button,include:[qx.ui.form.MForm,qx.ui.form.MModelProperty],implement:[qx.ui.form.IRadioItem,qx.ui.form.IForm,qx.ui.form.IBooleanForm,qx.ui.form.IModel],construct:function(e){this.assertArgumentsCount(arguments,0,1);qx.ui.form.Button.constructor.call(this,e);this.addListener("execute",this._onExecute);this.addListener("keypress",this._onKeyPress)},properties:{group:{check:"qx.ui.form.RadioGroup",nullable:!0,apply:"_applyGroup"},value:{check:"Boolean",nullable:!0,event:"changeValue",apply:"_applyValue",init:!1},appearance:{refine:!0,init:"radiobutton"},allowGrowX:{refine:!0,init:!1}},members:{_forwardStates:{checked:!0,focused:!0,invalid:!0,hovered:!0},_bindableProperties:["enabled","label","toolTipText","value","menu"],_applyValue:function(e,t){e?this.addState("checked"):this.removeState("checked")},_applyGroup:function(e,t){t&&t.remove(this);e&&e.add(this)},_onExecute:function(e){var t=this.getGroup();t&&t.getAllowEmptySelection()?this.toggleValue():this.setValue(!0)},_onKeyPress:function(e){var t=this.getGroup();if(t)switch(e.getKeyIdentifier()){case"Left":case"Up":t.selectPrevious();break;case"Right":case"Down":t.selectNext()}}}});qx.ui.form.RadioButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.form.Button":{},"qx.ui.form.MenuButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.SplitButton",{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],construct:function(e,t,i,n){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.HBox);this._createChildControl("arrow");this.addListener("pointerover",this._onPointerOver,this,!0);this.addListener("pointerout",this._onPointerOut,this,!0);this.addListener("keydown",this._onKeyDown);this.addListener("keyup",this._onKeyUp);null!=e&&this.setLabel(e);null!=t&&this.setIcon(t);null!=i&&this.setMenu(i);null!=n&&this.setCommand(n)},properties:{appearance:{refine:!0,init:"splitbutton"},focusable:{refine:!0,init:!0},label:{apply:"_applyLabel",nullable:!0,check:"String"},icon:{check:"String",apply:"_applyIcon",nullable:!0,themeable:!0},show:{init:"both",check:["both","label","icon"],themeable:!0,inheritable:!0,apply:"_applyShow",event:"changeShow"},menu:{check:"qx.ui.menu.Menu",nullable:!0,apply:"_applyMenu",event:"changeMenu"}},members:{__cursorIsOut:null,_createChildControlImpl:function(e,t){var i;switch(e){case"button":(i=new qx.ui.form.Button).addListener("execute",this._onButtonExecute,this);i.setFocusable(!1);this._addAt(i,0,{flex:1});break;case"arrow":(i=new qx.ui.form.MenuButton).setFocusable(!1);i.setShow("both");this._addAt(i,1)}return i||qx.ui.form.SplitButton.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{hovered:1,focused:1},_applyLabel:function(e,t){var i=this.getChildControl("button");null==e?i.resetLabel():i.setLabel(e)},_applyIcon:function(e,t){var i=this.getChildControl("button");null==e?i.resetIcon():i.setIcon(e)},_applyMenu:function(e,t){var i=this.getChildControl("arrow");if(e){i.resetEnabled();i.setMenu(e);e.setOpener(this);e.addListener("changeVisibility",this._onChangeMenuVisibility,this)}else{i.setEnabled(!1);i.resetMenu()}if(t){t.removeListener("changeVisibility",this._onChangeMenuVisibility,this);t.resetOpener()}},_applyShow:function(e,t){},_onPointerOver:function(e){e.stopPropagation();this.addState("hovered");delete this.__cursorIsOut},_onPointerOut:function(e){e.stopPropagation();if(this.hasState("hovered")){var t=e.getRelatedTarget();if(!qx.ui.core.Widget.contains(this,t)){var i=this.getMenu();i&&i.isVisible()?this.__cursorIsOut=!0:this.removeState("hovered")}}},_onKeyDown:function(e){var t=this.getChildControl("button");switch(e.getKeyIdentifier()){case"Enter":case"Space":t.removeState("abandoned");t.addState("pressed")}},_onKeyUp:function(e){var t=this.getChildControl("button");switch(e.getKeyIdentifier()){case"Enter":case"Space":if(t.hasState("pressed")){t.removeState("abandoned");t.removeState("pressed");t.execute()}}},_onButtonExecute:function(e){this.execute()},_onChangeMenuVisibility:function(e){!this.getMenu().isVisible()&&this.__cursorIsOut&&this.removeState("hovered")}}});qx.ui.form.SplitButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.AbstractField":{construct:!0,require:!0},"qx.ui.core.queue.Layout":{},"qx.ui.core.queue.Manager":{},"qx.html.Element":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.Element":{},"qx.html.Input":{},"qx.bom.element.Dimension":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.TextArea",{extend:qx.ui.form.AbstractField,construct:function(e){qx.ui.form.AbstractField.constructor.call(this,e);this.initWrap();this.addListener("roll",this._onRoll,this);this.addListener("resize",this._onResize,this)},properties:{wrap:{check:"Boolean",init:!0,apply:"_applyWrap"},appearance:{refine:!0,init:"textarea"},singleStep:{check:"Integer",init:20},minimalLineHeight:{check:"Integer",apply:"_applyMinimalLineHeight",init:4},autoSize:{check:"Boolean",apply:"_applyAutoSize",init:!1}},members:{__areaClone:null,__areaHeight:null,__originalAreaHeight:null,setValue:function(e){e=qx.ui.form.TextArea.prototype.setValue.base.call(this,e);this.__autoSize();return e},_onRoll:function(e){if("wheel"==e.getPointerType()){var t=this.getContentElement(),i=t.getScrollY();t.scrollToY(i+e.getDelta().y/30*this.getSingleStep());t.getScrollY()!=i&&e.stop()}},_onResize:function(e){if(this.__areaClone){this.__areaClone.dispose();this.__areaClone=null;this.__autoSize()}},__autoSize:function(){if(this.isAutoSize()){if(this.__getAreaClone()&&this.getBounds()){this.__originalAreaHeight=this.__originalAreaHeight||this._getAreaHeight();var e=this._getScrolledAreaHeight();if(this.getMaxHeight()){var t=this.getInsets();e>-t.top+this.getMaxHeight()-t.bottom?this.getContentElement().setStyle("overflowY","auto"):this.getContentElement().setStyle("overflowY","hidden")}var i=Math.max(e,this.__originalAreaHeight);this._setAreaHeight(i)}else this.getContentElement().addListenerOnce("appear",function(){this.__autoSize()},this)}},_getAreaHeight:function(){return this.getInnerSize().height},_setAreaHeight:function(e){if(this._getAreaHeight()!==e){this.__areaHeight=e;qx.ui.core.queue.Layout.add(this);qx.ui.core.queue.Manager.flush();this.__forceRewrap()}},_getScrolledAreaHeight:function(){var e=this.__getAreaClone(),t=e.getDomElement();if(t){if(!t.parentNode){qx.html.Element.flush();return this._getScrolledAreaHeight()}"webkit"!==qx.core.Environment.get("engine.name")&&"mshtml"!=qx.core.Environment.get("engine.name")||e.setWrap(!this.getWrap(),!0);e.setWrap(this.getWrap(),!0);"webkit"!==qx.core.Environment.get("engine.name")&&"mshtml"!=qx.core.Environment.get("engine.name")||(t.style.overflow="hidden");if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")>=8){t.style.overflow="visible";t.style.overflowX="hidden"}e.setValue(this.getValue()||"");if("mshtml"==qx.core.Environment.get("engine.name")){t.style.height="auto";qx.html.Element.flush();t.style.height="0"}this.__scrollCloneToBottom(e);"mshtml"==qx.core.Environment.get("engine.name")&&8==qx.core.Environment.get("browser.documentmode")&&(t.scrollTop||qx.html.Element.flush());return t.scrollTop}},__getAreaClone:function(){this.__areaClone=this.__areaClone||this.__createAreaClone();return this.__areaClone},__createAreaClone:function(){var e,t,i,n;if(!(e=this.getContentElement()).getDomElement())return null;i=qx.bom.Element.clone(e.getDomElement());(n=new qx.html.Input("textarea")).useElement(i);(t=n).setStyles({position:"absolute",top:0,left:"-9999px",height:0,overflow:"hidden"},!0);t.removeAttribute("id");t.removeAttribute("name");t.setAttribute("tabIndex","-1");t.setValue(e.getValue()||"");t.insertBefore(e);this.__scrollCloneToBottom(t);return t},__scrollCloneToBottom:function(e){(e=e.getDomElement())&&(e.scrollTop=1e4)},_createInputElement:function(){return new qx.html.Input("textarea",{overflowX:"auto",overflowY:"auto"})},_applyWrap:function(e,t){this.getContentElement().setWrap(e);if(this._placeholder){var i=e?"normal":"nowrap";this._placeholder.setStyle("whiteSpace",i)}this.__autoSize()},_applyMinimalLineHeight:function(){qx.ui.core.queue.Layout.add(this)},_applyAutoSize:function(e,t){this.__warnAutoSizeAndHeight();if(e){this.__autoSize();this.addListener("input",this.__autoSize,this);this.getBounds()?this.getContentElement().setStyle("overflowY","hidden"):this.addListenerOnce("appear",function(){this.getContentElement().setStyle("overflowY","hidden")})}else{this.removeListener("input",this.__autoSize);this.getContentElement().setStyle("overflowY","auto")}},_applyDimension:function(e){qx.ui.form.TextArea.prototype._applyDimension.base.call(this);this.__warnAutoSizeAndHeight();e===this.getMaxHeight()&&this.__autoSize()},__forceRewrap:function(){var e=this.getContentElement(),t=e.getDomElement(),i=e.getStyle("width");e.setStyle("width",parseInt(i,10)+1e3+"px",!0);t&&qx.bom.element.Dimension.getWidth(t);e.setStyle("width",i,!0)},__warnAutoSizeAndHeight:function(){this.isAutoSize()&&this.getHeight()&&this.warn("autoSize is ignored when the height property is set. If you want to set an initial height, use the minHeight property instead.")},_getContentHint:function(){var e=qx.ui.form.TextArea.prototype._getContentHint.base.call(this);e.height=e.height*this.getMinimalLineHeight();e.width=20*this._getTextSize().width;this.isAutoSize()&&(e.height=this.__areaHeight||e.height);return e}},destruct:function(){this.setAutoSize(!1);this.__areaClone&&this.__areaClone.dispose()}});qx.ui.form.TextArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Button":{construct:!0,require:!0},"qx.ui.menu.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.MenuButton",{extend:qx.ui.form.Button,construct:function(e,t,i){qx.ui.form.Button.constructor.call(this,e,t);null!=i&&this.setMenu(i)},properties:{menu:{check:"qx.ui.menu.Menu",nullable:!0,apply:"_applyMenu",event:"changeMenu"},appearance:{refine:!0,init:"menubutton"}},members:{_applyVisibility:function(e,t){qx.ui.form.MenuButton.prototype._applyVisibility.base.call(this,e,t);var i=this.getMenu();"visible"!=e&&i&&i.hide()},_applyMenu:function(e,t){if(t){t.removeListener("changeVisibility",this._onMenuChange,this);t.resetOpener()}if(e){e.addListener("changeVisibility",this._onMenuChange,this);e.setOpener(this);e.removeState("submenu");e.removeState("contextmenu")}},open:function(e){var t=this.getMenu();if(t){qx.ui.menu.Manager.getInstance().hideAll();t.setOpener(this);t.open();if(e){var i=t.getSelectables()[0];i&&t.setSelectedButton(i)}}},_onMenuChange:function(e){this.getMenu().isVisible()?this.addState("pressed"):this.removeState("pressed")},_onPointerDown:function(e){qx.ui.form.MenuButton.prototype._onPointerDown.base.call(this,e);if("left"==e.getButton()){var t=this.getMenu();if(t){t.isVisible()?t.exclude():this.open();e.stopPropagation()}}},_onPointerUp:function(e){qx.ui.form.MenuButton.prototype._onPointerUp.base.call(this,e);e.stopPropagation()},_onPointerOver:function(e){this.addState("hovered")},_onPointerOut:function(e){this.removeState("hovered")},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case"Enter":this.removeState("abandoned");this.addState("pressed");var t=this.getMenu();t&&(t.isVisible()?t.exclude():this.open());e.stopPropagation()}},_onKeyUp:function(e){}}});qx.ui.form.MenuButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.event.Registration":{construct:!0},"qx.event.handler.DragDrop":{construct:!0},"qx.ui.core.Widget":{},"qx.core.Init":{},"qx.lang.Object":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MResizable",{construct:function(){var e=this.getContentElement();e.addListener("pointerdown",this.__onResizePointerDown,this,!0);e.addListener("pointerup",this.__onResizePointerUp,this);e.addListener("pointermove",this.__onResizePointerMove,this);e.addListener("pointerout",this.__onResizePointerOut,this);e.addListener("losecapture",this.__onResizeLoseCapture,this);var t=e.getDomElement();null==t&&(t=window);this.__dragDropHandler=qx.event.Registration.getManager(t).getHandler(qx.event.handler.DragDrop)},properties:{resizableTop:{check:"Boolean",init:!0},resizableRight:{check:"Boolean",init:!0},resizableBottom:{check:"Boolean",init:!0},resizableLeft:{check:"Boolean",init:!0},resizable:{group:["resizableTop","resizableRight","resizableBottom","resizableLeft"],mode:"shorthand"},resizeSensitivity:{check:"Integer",init:5},useResizeFrame:{check:"Boolean",init:!0}},members:{__dragDropHandler:null,__resizeFrame:null,__resizeActive:null,__resizeLeft:null,__resizeTop:null,__resizeStart:null,__resizeRange:null,RESIZE_TOP:1,RESIZE_BOTTOM:2,RESIZE_LEFT:4,RESIZE_RIGHT:8,_getResizeFrame:function(){var e=this.__resizeFrame;if(!e){(e=this.__resizeFrame=new qx.ui.core.Widget).setAppearance("resize-frame");e.exclude();qx.core.Init.getApplication().getRoot().add(e)}return e},__showResizeFrame:function(){var e=this.getContentLocation(),t=this._getResizeFrame();t.setUserBounds(e.left,e.top,e.right-e.left,e.bottom-e.top);t.show();t.setZIndex(this.getZIndex()+1)},__computeResizeResult:function(e){var t,i=this.__resizeActive,n=this.getSizeHint(),s=this.__resizeRange,r=this.__resizeStart,o=r.width,a=r.height,l=r.left,u=r.top;if(i&this.RESIZE_TOP||i&this.RESIZE_BOTTOM){t=Math.max(s.top,Math.min(s.bottom,e.getDocumentTop()))-this.__resizeTop;i&this.RESIZE_TOP?a-=t:a+=t;a<n.minHeight?a=n.minHeight:a>n.maxHeight&&(a=n.maxHeight);i&this.RESIZE_TOP&&(u+=r.height-a)}if(i&this.RESIZE_LEFT||i&this.RESIZE_RIGHT){t=Math.max(s.left,Math.min(s.right,e.getDocumentLeft()))-this.__resizeLeft;i&this.RESIZE_LEFT?o-=t:o+=t;o<n.minWidth?o=n.minWidth:o>n.maxWidth&&(o=n.maxWidth);i&this.RESIZE_LEFT&&(l+=r.width-o)}return{viewportLeft:l,viewportTop:u,parentLeft:r.bounds.left+l-r.left,parentTop:r.bounds.top+u-r.top,width:o,height:a}},__resizeCursors:{1:"n-resize",2:"s-resize",4:"w-resize",8:"e-resize",5:"nw-resize",6:"sw-resize",9:"ne-resize",10:"se-resize"},__computeResizeMode:function(e){var t=this.getContentLocation(),i=this.getResizeSensitivity(),n=e.getDocumentLeft(),s=e.getDocumentTop(),r=this.__computeResizeActive(t,n,s,i);r>0&&(r|=this.__computeResizeActive(t,n,s,2*i));this.__resizeActive=r},__computeResizeActive:function(e,t,i,n){var s=0;this.getResizableTop()&&Math.abs(e.top-i)<n&&t>e.left-n&&t<e.right+n?s+=this.RESIZE_TOP:this.getResizableBottom()&&Math.abs(e.bottom-i)<n&&t>e.left-n&&t<e.right+n&&(s+=this.RESIZE_BOTTOM);this.getResizableLeft()&&Math.abs(e.left-t)<n&&i>e.top-n&&i<e.bottom+n?s+=this.RESIZE_LEFT:this.getResizableRight()&&Math.abs(e.right-t)<n&&i>e.top-n&&i<e.bottom+n&&(s+=this.RESIZE_RIGHT);return s},__onResizePointerDown:function(e){if(this.__resizeActive&&this.getEnabled()&&"touch"!=e.getPointerType()){this.addState("resize");this.__resizeLeft=e.getDocumentLeft();this.__resizeTop=e.getDocumentTop();var t=this.getContentLocation(),i=this.getBounds();this.__resizeStart={top:t.top,left:t.left,width:t.right-t.left,height:t.bottom-t.top,bounds:qx.lang.Object.clone(i)};var n=this.getLayoutParent(),s=n.getContentLocation(),r=n.getBounds();this.__resizeRange={left:s.left,top:s.top,right:s.left+r.width,bottom:s.top+r.height};this.getUseResizeFrame()&&this.__showResizeFrame();this.capture();e.stop()}},__onResizePointerUp:function(e){if(this.hasState("resize")&&this.getEnabled()&&"touch"!=e.getPointerType()){this.getUseResizeFrame()&&this._getResizeFrame().exclude();var t=this.__computeResizeResult(e);this.setWidth(t.width);this.setHeight(t.height);(this.getResizableLeft()||this.getResizableTop())&&this.setLayoutProperties({left:t.parentLeft,top:t.parentTop});this.__resizeActive=0;this.removeState("resize");this.resetCursor();this.getApplicationRoot().resetGlobalCursor();this.releaseCapture();e.stopPropagation()}},__onResizeLoseCapture:function(e){if(this.__resizeActive){this.resetCursor();this.getApplicationRoot().resetGlobalCursor();this.removeState("move");this.getUseResizeFrame()&&this._getResizeFrame().exclude()}},__onResizePointerMove:function(e){if(this.getEnabled()&&"touch"!=e.getPointerType())if(this.hasState("resize")){var t=this.__computeResizeResult(e);if(this.getUseResizeFrame()){this._getResizeFrame().setUserBounds(t.viewportLeft,t.viewportTop,t.width,t.height)}else{this.setWidth(t.width);this.setHeight(t.height);(this.getResizableLeft()||this.getResizableTop())&&this.setLayoutProperties({left:t.parentLeft,top:t.parentTop})}e.stopPropagation()}else if(!this.hasState("maximized")&&!this.__dragDropHandler.isSessionActive()){this.__computeResizeMode(e);var i=this.__resizeActive,n=this.getApplicationRoot();if(i){var s=this.__resizeCursors[i];this.setCursor(s);n.setGlobalCursor(s)}else if(this.getCursor()){this.resetCursor();n.resetGlobalCursor()}}},__onResizePointerOut:function(e){if("touch"!=e.getPointerType()&&this.getCursor()&&!this.hasState("resize")){this.resetCursor();this.getApplicationRoot().resetGlobalCursor()}}},destruct:function(){this.getCursor()&&this.getApplicationRoot().resetGlobalCursor();if(null!=this.__resizeFrame&&!qx.core.ObjectRegistry.inShutDown){this.__resizeFrame.destroy();this.__resizeFrame=null}this.__dragDropHandler=null}});qx.ui.core.MResizable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{require:!0},"qx.ui.core.MResizable":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.container.Resizer",{extend:qx.ui.container.Composite,include:qx.ui.core.MResizable,properties:{appearance:{refine:!0,init:"resizer"}}});qx.ui.container.Resizer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.scroll.AbstractScrollArea":{construct:!0,require:!0},"qx.ui.core.MContentPadding":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.container.Scroll",{extend:qx.ui.core.scroll.AbstractScrollArea,include:[qx.ui.core.MContentPadding],construct:function(e){qx.ui.core.scroll.AbstractScrollArea.constructor.call(this);e&&this.add(e)},members:{add:function(e){this.getChildControl("pane").add(e)},remove:function(e){this.getChildControl("pane").remove(e)},getChildren:function(){return this.getChildControl("pane").getChildren()},_getContentPaddingTarget:function(){return this.getChildControl("pane")}}});qx.ui.container.Scroll.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MRemoteLayoutHandling",{members:{setLayout:function(e){this.getChildrenContainer().setLayout(e)},getLayout:function(){return this.getChildrenContainer().getLayout()}}});qx.ui.core.MRemoteLayoutHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.core.MRemoteLayoutHandling":{require:!0},"qx.ui.form.RepeatButton":{},"qx.ui.container.Composite":{},"qx.ui.core.scroll.ScrollPane":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.container.SlideBar",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MRemoteLayoutHandling],construct:function(e){qx.ui.core.Widget.constructor.call(this);var t=this.getChildControl("scrollpane");this._add(t,{flex:1});null!=e?this.setOrientation(e):this.initOrientation();this.addListener("roll",this._onRoll,this)},properties:{appearance:{refine:!0,init:"slidebar"},orientation:{check:["horizontal","vertical"],init:"horizontal",apply:"_applyOrientation"},scrollStep:{check:"Integer",init:15,themeable:!0}},events:{scrollAnimationEnd:"qx.event.type.Event"},members:{getChildrenContainer:function(){return this.getChildControl("content")},_createChildControlImpl:function(e,t){var i;switch(e){case"button-forward":(i=new qx.ui.form.RepeatButton).addListener("execute",this._onExecuteForward,this);i.setFocusable(!1);this._addAt(i,2);break;case"button-backward":(i=new qx.ui.form.RepeatButton).addListener("execute",this._onExecuteBackward,this);i.setFocusable(!1);this._addAt(i,0);break;case"content":i=new qx.ui.container.Composite;this.getChildControl("scrollpane").add(i);break;case"scrollpane":(i=new qx.ui.core.scroll.ScrollPane).addListener("update",this._onResize,this);i.addListener("scrollX",this._onScroll,this);i.addListener("scrollY",this._onScroll,this);i.addListener("scrollAnimationEnd",this._onScrollAnimationEnd,this)}return i||qx.ui.container.SlideBar.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{barLeft:!0,barTop:!0,barRight:!0,barBottom:!0},scrollBy:function(e,t){var i=this.getChildControl("scrollpane");"horizontal"===this.getOrientation()?i.scrollByX(e,t):i.scrollByY(e,t)},scrollTo:function(e,t){var i=this.getChildControl("scrollpane");"horizontal"===this.getOrientation()?i.scrollToX(e,t):i.scrollToY(e,t)},_applyEnabled:function(e,t,i){qx.ui.container.SlideBar.prototype._applyEnabled.base.call(this,e,t,i);this._updateArrowsEnabled()},_applyOrientation:function(e,t){var i=[this.getLayout(),this._getLayout()],n=this.getChildControl("button-forward"),s=this.getChildControl("button-backward");if("vertical"==t&&"horizontal"==e){n.removeState("vertical");s.removeState("vertical");n.addState("horizontal");s.addState("horizontal")}else if("horizontal"==t&&"vertical"==e){n.removeState("horizontal");s.removeState("horizontal");n.addState("vertical");s.addState("vertical")}if("horizontal"==e){this._setLayout(new qx.ui.layout.HBox);this.setLayout(new qx.ui.layout.HBox)}else{this._setLayout(new qx.ui.layout.VBox);this.setLayout(new qx.ui.layout.VBox)}i[0]&&i[0].dispose();i[1]&&i[1].dispose()},_onRoll:function(e){if("mouse"!=e.getPointerType()){var t=0,i=this.getChildControl("scrollpane");if("horizontal"===this.getOrientation()){t=e.getDelta().x;var n=i.getScrollX(),s=i.getScrollMaxX();(r=parseInt(t))<0&&n<=0||r>0&&n>=s||0==t?e.stopMomentum():e.stop()}else{t=e.getDelta().y;var r;n=i.getScrollY(),s=i.getScrollMaxY();(r=parseInt(t))<0&&n<=0||r>0&&n>=s||0==t?e.stopMomentum():e.stop()}this.scrollBy(parseInt(t,10));e.getMomentum()&&e.stop()}},_onScroll:function(){this._updateArrowsEnabled()},_onScrollAnimationEnd:function(){this.fireEvent("scrollAnimationEnd")},_onResize:function(e){var t=this.getChildControl("scrollpane").getChildren()[0];if(t){var i=this.getInnerSize(),n=t.getBounds();if("horizontal"===this.getOrientation()?n.width>i.width:n.height>i.height){this._showArrows();this._updateArrowsEnabled()}else this._hideArrows()}},_onExecuteBackward:function(){this.scrollBy(-this.getScrollStep())},_onExecuteForward:function(){this.scrollBy(this.getScrollStep())},_updateArrowsEnabled:function(){if(this.getEnabled()){var e=this.getChildControl("scrollpane");if("horizontal"===this.getOrientation())var t=e.getScrollX(),i=e.getScrollMaxX();else t=e.getScrollY(),i=e.getScrollMaxY();this.getChildControl("button-backward").setEnabled(t>0);this.getChildControl("button-forward").setEnabled(t<i)}else{this.getChildControl("button-backward").setEnabled(!1);this.getChildControl("button-forward").setEnabled(!1)}},_showArrows:function(){this._showChildControl("button-forward");this._showChildControl("button-backward")},_hideArrows:function(){this._excludeChildControl("button-forward");this._excludeChildControl("button-backward");this.scrollTo(0)}}});qx.ui.container.SlideBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.core.ISingleSelection":{require:!0},"qx.ui.core.MSingleSelectionHandling":{require:!0},"qx.ui.core.MChildrenHandling":{require:!0},"qx.ui.layout.Grow":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.container.Stack",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IField,qx.ui.core.ISingleSelection],include:[qx.ui.core.MSingleSelectionHandling,qx.ui.core.MChildrenHandling],construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.Grow);this.addListener("changeSelection",this.__onChangeSelection,this)},properties:{dynamic:{check:"Boolean",init:!1,apply:"_applyDynamic"}},members:{_applyDynamic:function(e){for(var t=this._getChildren(),i=this.getSelection()[0],n=0,s=t.length;n<s;n++)t[n]!=i&&(e?t[n].exclude():t[n].hide())},_getItems:function(){return this.getChildren()},_isAllowEmptySelection:function(){return!0},_isItemSelectable:function(e){return!0},__onChangeSelection:function(e){var t=e.getOldData()[0],i=e.getData()[0];t&&(this.isDynamic()?t.exclude():t.hide());i&&i.show()},_afterAddChild:function(e){var t=this.getSelection()[0];t?t!==e&&(this.isDynamic()?e.exclude():e.hide()):this.setSelection([e])},_afterRemoveChild:function(e){if(this.getSelection()[0]===e){var t=this._getChildren()[0];t?this.setSelection([t]):this.resetSelection()}},previous:function(){var e=this.getSelection()[0],t=this._indexOf(e)-1,i=this._getChildren();t<0&&(t=i.length-1);var n=i[t];this.setSelection([n])},next:function(){var e=this.getSelection()[0],t=this._indexOf(e)+1,i=this._getChildren(),n=i[t]||i[0];this.setSelection([n])}}});qx.ui.container.Stack.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IColorForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IColorForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.IColorForm":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.groupbox.GroupBox":{},"qx.ui.layout.Canvas":{},"qx.ui.basic.Image":{},"qx.ui.layout.Grow":{},"qx.ui.layout.Grid":{},"qx.ui.basic.Label":{},"qx.ui.form.TextField":{},"qx.ui.form.Spinner":{},"qx.util.ColorUtil":{},"qx.lang.Number":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.control.ColorSelector",{extend:qx.ui.core.Widget,implement:[qx.ui.form.IColorForm],construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.VBox);this._createChildControl("control-bar");this.addListener("appear",this._onAppear,this)},events:{dialogok:"qx.event.type.Event",dialogcancel:"qx.event.type.Event",changeValue:"qx.event.type.Data"},properties:{appearance:{refine:!0,init:"colorselector"},red:{check:"Integer",init:255,apply:"_applyRed"},green:{check:"Integer",init:255,apply:"_applyGreen"},blue:{check:"Integer",init:255,apply:"_applyBlue"},hue:{check:"Number",init:0,apply:"_applyHue"},saturation:{check:"Number",init:0,apply:"_applySaturation"},brightness:{check:"Number",init:100,apply:"_applyBrightness"}},members:{__updateContext:null,__presetTable:["maroon","red","orange","yellow","olive","purple","fuchsia","lime","green","navy","blue","aqua","teal","black","#333","#666","#999","#BBB","#EEE","white"],__capture:"",__brightnessSubtract:0,__hueSaturationSubtractTop:0,__hueSaturationSubtractLeft:0,__nullValue:!0,__preventChangeValueEvent:!1,_createChildControlImpl:function(e,t){var i;switch(e){case"control-bar":(i=new qx.ui.container.Composite(new qx.ui.layout.HBox(10))).add(this.getChildControl("control-pane"));i.add(this.getChildControl("visual-pane"));this._add(i);break;case"visual-pane":(i=new qx.ui.groupbox.GroupBox(this.tr("Visual"))).setLayout(new qx.ui.layout.HBox(10));i.add(this.getChildControl("hue-saturation-pane"));i.add(this.getChildControl("brightness-pane"));break;case"control-pane":(i=new qx.ui.container.Composite(new qx.ui.layout.VBox(0))).add(this.getChildControl("preset-field-set"));i.add(this.getChildControl("input-field-set"));i.add(this.getChildControl("preview-field-set"),{flex:1});break;case"hue-saturation-pane":(i=new qx.ui.container.Composite(new qx.ui.layout.Canvas)).setAllowGrowY(!1);i.addListener("roll",this._onHueSaturationPaneRoll,this);i.add(this.getChildControl("hue-saturation-field"));i.add(this.getChildControl("hue-saturation-handle"),{left:0,top:256});break;case"hue-saturation-field":(i=new qx.ui.basic.Image("decoration/colorselector/huesaturation-field.jpg")).addListener("pointerdown",this._onHueSaturationFieldPointerDown,this);break;case"hue-saturation-handle":(i=new qx.ui.basic.Image("decoration/colorselector/huesaturation-handle.gif")).addListener("pointerdown",this._onHueSaturationFieldPointerDown,this);i.addListener("pointerup",this._onHueSaturationHandlePointerUp,this);i.addListener("pointermove",this._onHueSaturationHandlePointerMove,this);break;case"brightness-pane":(i=new qx.ui.container.Composite(new qx.ui.layout.Canvas)).setAllowGrowY(!1);i.addListener("roll",this._onBrightnessPaneRoll,this);i.add(this.getChildControl("brightness-field"));i.add(this.getChildControl("brightness-handle"));break;case"brightness-field":(i=new qx.ui.basic.Image("decoration/colorselector/brightness-field.png")).addListener("pointerdown",this._onBrightnessFieldPointerDown,this);break;case"brightness-handle":(i=new qx.ui.basic.Image("decoration/colorselector/brightness-handle.gif")).addListener("pointerdown",this._onBrightnessHandlePointerDown,this);i.addListener("pointerup",this._onBrightnessHandlePointerUp,this);i.addListener("pointermove",this._onBrightnessHandlePointerMove,this);break;case"preset-field-set":(i=new qx.ui.groupbox.GroupBox(this.tr("Presets"))).setLayout(new qx.ui.layout.Grow);i.add(this.getChildControl("preset-grid"));break;case"colorbucket":(i=new qx.ui.core.Widget).addListener("pointerdown",this._onColorFieldTap,this);break;case"preset-grid":a=new qx.ui.layout.Grid(3,3);i=new qx.ui.container.Composite(a);for(var n,s,r=0;r<2;r++)for(var o=0;o<10;o++){s=10*r+o;(n=this.getChildControl("colorbucket#"+s)).setBackgroundColor(this.__presetTable[s]);i.add(n,{column:o,row:r})}break;case"input-field-set":i=new qx.ui.groupbox.GroupBox(this.tr("Details"));(a=new qx.ui.layout.VBox).setSpacing(10);i.setLayout(a);i.add(this.getChildControl("hex-field-composite"));i.add(this.getChildControl("rgb-spinner-composite"));i.add(this.getChildControl("hsb-spinner-composite"));break;case"preview-field-set":i=new qx.ui.groupbox.GroupBox(this.tr("Preview (Old/New)"));var a=new qx.ui.layout.HBox(10);i.setLayout(a);i.add(this.getChildControl("preview-content-old"),{flex:1});i.add(this.getChildControl("preview-content-new"),{flex:1});break;case"hex-field-composite":(d=new qx.ui.layout.HBox(4)).setAlignY("middle");i=new qx.ui.container.Composite(d);var l=new qx.ui.basic.Label(this.tr("Hex"));l.setWidth(30);i.add(l);var u=new qx.ui.basic.Label("#");i.add(u);i.add(this.getChildControl("hex-field"));break;case"hex-field":(i=new qx.ui.form.TextField("FFFFFF")).setMaxLength(6);i.setFilter(/[0-9A-Fa-f]/);i.setWidth(55);i.addListener("changeValue",this._onHexFieldChange,this);break;case"rgb-spinner-composite":(d=new qx.ui.layout.HBox(4)).setAlignY("middle");i=new qx.ui.container.Composite(d);var c=new qx.ui.basic.Label(this.tr("RGB"));c.setWidth(30);i.add(c);i.add(this.getChildControl("rgb-spinner-red"));i.add(this.getChildControl("rgb-spinner-green"));i.add(this.getChildControl("rgb-spinner-blue"));break;case"rgb-spinner-red":(i=new qx.ui.form.Spinner(0,255,255)).setWidth(50);i.addListener("changeValue",this._setRedFromSpinner,this);break;case"rgb-spinner-green":(i=new qx.ui.form.Spinner(0,255,255)).setWidth(50);i.addListener("changeValue",this._setGreenFromSpinner,this);break;case"rgb-spinner-blue":(i=new qx.ui.form.Spinner(0,255,255)).setWidth(50);i.addListener("changeValue",this._setBlueFromSpinner,this);break;case"hsb-spinner-composite":var d;(d=new qx.ui.layout.HBox(4)).setAlignY("middle");i=new qx.ui.container.Composite(d);var h=new qx.ui.basic.Label(this.tr("HSB"));h.setWidth(30);i.add(h);i.add(this.getChildControl("hsb-spinner-hue"));i.add(this.getChildControl("hsb-spinner-saturation"));i.add(this.getChildControl("hsb-spinner-brightness"));break;case"hsb-spinner-hue":(i=new qx.ui.form.Spinner(0,0,360)).setWidth(50);i.addListener("changeValue",this._setHueFromSpinner,this);break;case"hsb-spinner-saturation":(i=new qx.ui.form.Spinner(0,0,100)).setWidth(50);i.addListener("changeValue",this._setSaturationFromSpinner,this);break;case"hsb-spinner-brightness":(i=new qx.ui.form.Spinner(0,100,100)).setWidth(50);i.addListener("changeValue",this._setBrightnessFromSpinner,this);break;case"preview-content-old":case"preview-content-new":i=new qx.ui.core.Widget}return i||qx.ui.control.ColorSelector.prototype._createChildControlImpl.base.call(this,e)},setValue:function(e){var t;if(null==e){this.__nullValue=!0;t=[255,255,255]}else{t=qx.util.ColorUtil.stringToRgb(e);this.__nullValue=!1}this.__preventChangeValueEvent=!0;this.setRed(t[0]);this.setGreen(t[1]);this.__preventChangeValueEvent=!1;this.setBlue(t[2])},getValue:function(){return this.__nullValue?null:qx.util.ColorUtil.rgbToHexString([this.getRed(),this.getGreen(),this.getBlue()])},resetValue:function(){this.__nullValue=!0;this.__preventChangeValueEvent=!0;this.setRed(255);this.setGreen(255);this.__preventChangeValueEvent=!1;this.setBlue(255)},__fireChangeValueEvent:function(){if(!this.__preventChangeValueEvent){this.__nullValue=!1;this.fireDataEvent("changeValue",this.getValue())}},_applyRed:function(e,t){null===this.__updateContext&&(this.__updateContext="redModifier");"rgbSpinner"!==this.__updateContext&&this.getChildControl("rgb-spinner-red").setValue(e);"hexField"!==this.__updateContext&&this._setHexFromRgb();switch(this.__updateContext){case"rgbSpinner":case"hexField":case"redModifier":this._setHueFromRgb()}this._setPreviewFromRgb();this.__fireChangeValueEvent();"redModifier"===this.__updateContext&&(this.__updateContext=null)},_applyGreen:function(e,t){null===this.__updateContext&&(this.__updateContext="greenModifier");"rgbSpinner"!==this.__updateContext&&this.getChildControl("rgb-spinner-green").setValue(e);"hexField"!==this.__updateContext&&this._setHexFromRgb();switch(this.__updateContext){case"rgbSpinner":case"hexField":case"greenModifier":this._setHueFromRgb()}this._setPreviewFromRgb();this.__fireChangeValueEvent();"greenModifier"===this.__updateContext&&(this.__updateContext=null)},_applyBlue:function(e,t){null===this.__updateContext&&(this.__updateContext="blueModifier");"rgbSpinner"!==this.__updateContext&&this.getChildControl("rgb-spinner-blue").setValue(e);"hexField"!==this.__updateContext&&this._setHexFromRgb();switch(this.__updateContext){case"rgbSpinner":case"hexField":case"blueModifier":this._setHueFromRgb()}this._setPreviewFromRgb();this.__fireChangeValueEvent();"blueModifier"===this.__updateContext&&(this.__updateContext=null)},_applyHue:function(e,t){null===this.__updateContext&&(this.__updateContext="hueModifier");"hsbSpinner"!==this.__updateContext&&this.getChildControl("hsb-spinner-hue").setValue(e);"hueSaturationField"!==this.__updateContext&&(this.getChildControl("hue-saturation-handle").getBounds()?this.getChildControl("hue-saturation-handle").setDomLeft(Math.round(e/1.40625)+this.getChildControl("hue-saturation-pane").getPaddingLeft()):this.getChildControl("hue-saturation-handle").setLayoutProperties({left:Math.round(e/1.40625)}));switch(this.__updateContext){case"hsbSpinner":case"hueSaturationField":case"hueModifier":this._setRgbFromHue()}this._setBrightnessGradiant();"hueModifier"===this.__updateContext&&(this.__updateContext=null)},_applySaturation:function(e,t){null===this.__updateContext&&(this.__updateContext="saturationModifier");"hsbSpinner"!==this.__updateContext&&this.getChildControl("hsb-spinner-saturation").setValue(e);if("hueSaturationField"!==this.__updateContext){this._setBrightnessGradiant();this.getChildControl("hue-saturation-handle").getBounds()?this.getChildControl("hue-saturation-handle").setDomTop(256-Math.round(2.56*e)+this.getChildControl("hue-saturation-pane").getPaddingTop()):this.getChildControl("hue-saturation-handle").setLayoutProperties({top:256-Math.round(2.56*e)})}switch(this.__updateContext){case"hsbSpinner":case"hueSaturationField":case"saturationModifier":this._setRgbFromHue()}"saturationModifier"===this.__updateContext&&(this.__updateContext=null)},_applyBrightness:function(e,t){null===this.__updateContext&&(this.__updateContext="brightnessModifier");"hsbSpinner"!==this.__updateContext&&this.getChildControl("hsb-spinner-brightness").setValue(e);if("brightnessField"!==this.__updateContext){var i=256-Math.round(2.56*e);this.getChildControl("brightness-handle").getBounds()?this.getChildControl("brightness-handle").setDomTop(i+this.getChildControl("brightness-pane").getPaddingTop()):this.getChildControl("brightness-handle").setLayoutProperties({top:i})}switch(this.__updateContext){case"hsbSpinner":case"brightnessField":case"brightnessModifier":this._setRgbFromHue()}"brightnessModifier"===this.__updateContext&&(this.__updateContext=null)},_onBrightnessHandlePointerDown:function(e){this.getChildControl("brightness-handle").capture();this.__capture="brightness-handle";var t=this.getChildControl("brightness-field").getContentLocation(),i=this.getChildControl("brightness-handle").getContentLocation(),n=this.getChildControl("brightness-field").getBounds();this.__brightnessSubtract=t.top+(e.getDocumentTop()-i.top)-n.top;e.stopPropagation()},_onBrightnessHandlePointerUp:function(e){this.getChildControl("brightness-handle").releaseCapture();this.__capture=null},_onBrightnessHandlePointerMove:function(e){if("brightness-handle"===this.__capture){this._setBrightnessOnFieldEvent(e);e.stopPropagation()}},_onBrightnessFieldPointerDown:function(e){var t=this.getChildControl("brightness-field").getContentLocation(),i=this.getChildControl("brightness-handle").getBounds();this.__brightnessSubtract=t.top+i.height/2;this._setBrightnessOnFieldEvent(e);this.getChildControl("brightness-handle").capture();this.__capture="brightness-handle"},_onBrightnessPaneRoll:function(e){e.stop();"wheel"==e.getPointerType()&&this.setBrightness(qx.lang.Number.limit(this.getBrightness()-e.getDelta().y/10,0,100))},_setBrightnessOnFieldEvent:function(e){var t=qx.lang.Number.limit(e.getDocumentTop()-this.__brightnessSubtract,0,256);this.__updateContext="brightnessField";this.getChildControl("brightness-handle").getBounds()?this.getChildControl("brightness-handle").setDomTop(t):this.getChildControl("brightness-handle").setLayoutProperties({top:t});this.setBrightness(100-Math.round(t/2.56));this.__updateContext=null},_onHueSaturationHandlePointerUp:function(e){if(this.__capture){e.stopPropagation();this.getChildControl("hue-saturation-handle").releaseCapture();this.__capture=null}},_onHueSaturationHandlePointerMove:function(e){if("hue-saturation-handle"===this.__capture){this._setHueSaturationOnFieldEvent(e);e.stopPropagation()}},_onHueSaturationFieldPointerDown:function(e){var t=this.getChildControl("hue-saturation-field").getContentLocation(),i=this.getChildControl("hue-saturation-handle").getBounds(),n=this.getChildControl("hue-saturation-field").getBounds();this.__hueSaturationSubtractTop=t.top+i.height/2-n.top;this.__hueSaturationSubtractLeft=t.left+i.width/2-n.left;this._setHueSaturationOnFieldEvent(e);this.getChildControl("hue-saturation-handle").capture();this.__capture="hue-saturation-handle"},_onHueSaturationPaneRoll:function(e){e.stop();if("wheel"==e.getPointerType()){var t=e.getDelta();this.setSaturation(qx.lang.Number.limit(this.getSaturation()-t.y/10,0,100));this.setHue(qx.lang.Number.limit(this.getHue()+t.x/10,0,360))}},_setHueSaturationOnFieldEvent:function(e){var t=qx.lang.Number.limit(e.getDocumentTop()-this.__hueSaturationSubtractTop,0,256),i=qx.lang.Number.limit(e.getDocumentLeft()-this.__hueSaturationSubtractLeft,0,256);this.getChildControl("hue-saturation-handle").setDomPosition(i,t);this.__updateContext="hueSaturationField";this.setSaturation(100-Math.round(t/2.56));this.setHue(Math.round(1.40625*i));this.__updateContext=null},_setRedFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="rgbSpinner";this.setRed(this.getChildControl("rgb-spinner-red").getValue());this.__updateContext=null}},_setGreenFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="rgbSpinner";this.setGreen(this.getChildControl("rgb-spinner-green").getValue());this.__updateContext=null}},_setBlueFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="rgbSpinner";this.setBlue(this.getChildControl("rgb-spinner-blue").getValue());this.__updateContext=null}},_setHueFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="hsbSpinner";this.setHue(this.getChildControl("hsb-spinner-hue").getValue());this.__updateContext=null}},_setSaturationFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="hsbSpinner";this.setSaturation(this.getChildControl("hsb-spinner-saturation").getValue());this.__updateContext=null}},_setBrightnessFromSpinner:function(){if(null===this.__updateContext){this.__updateContext="hsbSpinner";this.setBrightness(this.getChildControl("hsb-spinner-brightness").getValue());this.__updateContext=null}},_onHexFieldChange:function(e){if(null===this.__updateContext){try{var t=this.getChildControl("hex-field"),i=qx.util.ColorUtil.hexStringToRgb("#"+t.getValue())}catch(e){return}this.__updateContext="hexField";this.setRed(i[0]);this.setGreen(i[1]);this.setBlue(i[2]);this.__updateContext=null}},_setHexFromRgb:function(){var e=qx.util.ColorUtil.rgbToHexString([this.getRed(),this.getGreen(),this.getBlue()]);e=e.substring(1,e.length);this.getChildControl("hex-field").setValue(e)},_onColorFieldTap:function(e){var t=e.getTarget().getBackgroundColor();if(t){var i=qx.util.ColorUtil.stringToRgb(t);this.setRed(i[0]);this.setGreen(i[1]);this.setBlue(i[2])}else this.error("Missing backgroundColor value for field: "+e.getTarget())},_setHueFromRgb:function(){switch(this.__updateContext){case"hsbSpinner":case"hueSaturationField":case"brightnessField":break;default:var e=qx.util.ColorUtil.rgbToHsb([this.getRed(),this.getGreen(),this.getBlue()]);this.setHue(e[0]);this.setSaturation(e[1]);this.setBrightness(e[2])}},_setRgbFromHue:function(){switch(this.__updateContext){case"rgbSpinner":case"hexField":break;default:var e=qx.util.ColorUtil.hsbToRgb([this.getHue(),this.getSaturation(),this.getBrightness()]);this.setRed(e[0]);this.setGreen(e[1]);this.setBlue(e[2])}},_setPreviewFromRgb:function(){var e=qx.util.ColorUtil.rgbToRgbString([this.getRed(),this.getGreen(),this.getBlue()]);this.getChildControl("preview-content-new").setBackgroundColor(e)},setPreviousColor:function(e,t,i){var n=qx.util.ColorUtil.rgbToRgbString([e,t,i]);this.getChildControl("preview-content-old").setBackgroundColor(n);this.setRed(e);this.setGreen(t);this.setBlue(i)},_setBrightnessGradiant:function(){var e=qx.util.ColorUtil,t=e.hsbToRgb([this.getHue(),this.getSaturation(),255]),i=e.rgbToRgbString(t);this.getChildControl("brightness-field").setBackgroundColor(i)},_onAppear:function(e){var t=qx.util.ColorUtil.rgbToRgbString([this.getRed(),this.getGreen(),this.getBlue()]);this.getChildControl("preview-content-old").setBackgroundColor(t);this.getChildControl("preview-content-new").setBackgroundColor(t)}}});qx.ui.control.ColorSelector.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.form.IField":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.form.IDateForm",{extend:qx.ui.form.IField,events:{changeValue:"qx.event.type.Data"},members:{setValue:function(e){return 1==arguments.length},resetValue:function(){},getValue:function(){}}});qx.ui.form.IDateForm.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IDateForm":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.locale.Date":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.tooltip.ToolTip":{},"qx.ui.toolbar.Button":{},"qx.ui.basic.Label":{},"qx.ui.layout.Grid":{},"qx.util.format.DateFormat":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.control.DateChooser",{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable,qx.ui.form.MForm],implement:[qx.ui.form.IExecutable,qx.ui.form.IForm,qx.ui.form.IDateForm],construct:function(e){qx.ui.core.Widget.constructor.call(this);var t=new qx.ui.layout.VBox;this._setLayout(t);this._createChildControl("navigation-bar");this._createChildControl("date-pane");this.addListener("keypress",this._onKeyPress);var i=qx.ui.control.DateChooser;i.MONTH_YEAR_FORMAT||(i.MONTH_YEAR_FORMAT=qx.locale.Date.getDateTimeFormat("yyyyMMMM","MMMM yyyy"));var n=null!=e?e:new Date;this.showMonth(n.getMonth(),n.getFullYear());qx.locale.Manager.getInstance().addListener("changeLocale",this._updateDatePane,this);this.addListener("pointerdown",this._onPointerUpDown,this);this.addListener("pointerup",this._onPointerUpDown,this)},statics:{MONTH_YEAR_FORMAT:null,WEEKDAY_FORMAT:"EE",WEEK_FORMAT:"ww"},properties:{appearance:{refine:!0,init:"datechooser"},width:{refine:!0,init:200},height:{refine:!0,init:150},shownMonth:{check:"Integer",init:null,nullable:!0,event:"changeShownMonth"},shownYear:{check:"Integer",init:null,nullable:!0,event:"changeShownYear"},value:{check:"Date",init:null,nullable:!0,event:"changeValue",apply:"_applyValue"}},members:{__weekdayLabelArr:null,__dayLabelArr:null,__weekLabelArr:null,_forwardStates:{invalid:!0},_createChildControlImpl:function(e,t){var i;switch(e){case"navigation-bar":(i=new qx.ui.container.Composite(new qx.ui.layout.HBox)).add(this.getChildControl("last-year-button"));i.add(this.getChildControl("last-month-button"));i.add(this.getChildControl("month-year-label"),{flex:1});i.add(this.getChildControl("next-month-button"));i.add(this.getChildControl("next-year-button"));this._add(i);break;case"last-year-button-tooltip":i=new qx.ui.tooltip.ToolTip(this.tr("Last year"));break;case"last-year-button":(i=new qx.ui.toolbar.Button).addState("lastYear");i.setFocusable(!1);i.setToolTip(this.getChildControl("last-year-button-tooltip"));i.addListener("tap",this._onNavButtonTap,this);break;case"last-month-button-tooltip":i=new qx.ui.tooltip.ToolTip(this.tr("Last month"));break;case"last-month-button":(i=new qx.ui.toolbar.Button).addState("lastMonth");i.setFocusable(!1);i.setToolTip(this.getChildControl("last-month-button-tooltip"));i.addListener("tap",this._onNavButtonTap,this);break;case"next-month-button-tooltip":i=new qx.ui.tooltip.ToolTip(this.tr("Next month"));break;case"next-month-button":(i=new qx.ui.toolbar.Button).addState("nextMonth");i.setFocusable(!1);i.setToolTip(this.getChildControl("next-month-button-tooltip"));i.addListener("tap",this._onNavButtonTap,this);break;case"next-year-button-tooltip":i=new qx.ui.tooltip.ToolTip(this.tr("Next year"));break;case"next-year-button":(i=new qx.ui.toolbar.Button).addState("nextYear");i.setFocusable(!1);i.setToolTip(this.getChildControl("next-year-button-tooltip"));i.addListener("tap",this._onNavButtonTap,this);break;case"month-year-label":(i=new qx.ui.basic.Label).setAllowGrowX(!0);i.setAnonymous(!0);break;case"week":case"weekday":(i=new qx.ui.basic.Label).setAllowGrowX(!0);i.setAllowGrowY(!0);i.setSelectable(!1);i.setAnonymous(!0);i.setCursor("default");break;case"day":(i=new qx.ui.basic.Label).setAllowGrowX(!0);i.setAllowGrowY(!0);i.setCursor("default");i.addListener("pointerdown",this._onDayTap,this);i.addListener("dbltap",this._onDayDblTap,this);break;case"date-pane":var n=new qx.ui.layout.Grid;i=new qx.ui.container.Composite(n);for(var s=0;s<8;s++)n.setColumnFlex(s,1);for(s=0;s<7;s++)n.setRowFlex(s,1);(o=this.getChildControl("week#0")).addState("header");i.add(o,{column:0,row:0});this.__weekdayLabelArr=[];for(s=0;s<7;s++){o=this.getChildControl("weekday#"+s);i.add(o,{column:s+1,row:0});this.__weekdayLabelArr.push(o)}this.__dayLabelArr=[];this.__weekLabelArr=[];for(var r=0;r<6;r++){var o=this.getChildControl("week#"+(r+1));i.add(o,{column:0,row:r+1});this.__weekLabelArr.push(o);for(var a=0;a<7;a++){o=this.getChildControl("day#"+(7*r+a));i.add(o,{column:a+1,row:r+1});this.__dayLabelArr.push(o)}}this._add(i)}return i||qx.ui.control.DateChooser.prototype._createChildControlImpl.base.call(this,e)},_applyValue:function(e,t){if(null==e||this.getShownMonth()==e.getMonth()&&this.getShownYear()==e.getFullYear())for(var i=null==e?-1:e.getDate(),n=0;n<42;n++){var s=this.__dayLabelArr[n];if(s.hasState("otherMonth"))s.hasState("selected")&&s.removeState("selected");else{parseInt(s.getValue(),10)==i?s.addState("selected"):s.hasState("selected")&&s.removeState("selected")}}else this.showMonth(e.getMonth(),e.getFullYear())},_onPointerUpDown:function(e){var t=e.getTarget();t!=this.getChildControl("navigation-bar")&&t!=this.getChildControl("date-pane")||e.stopPropagation()},_onNavButtonTap:function(e){var t=this.getShownYear(),i=this.getShownMonth();switch(e.getCurrentTarget()){case this.getChildControl("last-year-button"):t--;break;case this.getChildControl("last-month-button"):if(--i<0){i=11;t--}break;case this.getChildControl("next-month-button"):if(++i>=12){i=0;t++}break;case this.getChildControl("next-year-button"):t++}this.showMonth(i,t)},_onDayTap:function(e){var t=e.getCurrentTarget().dateTime;this.setValue(new Date(t))},_onDayDblTap:function(){this.execute()},_onKeyPress:function(e){var t=null,i=null,n=null;if(0==e.getModifiers())switch(e.getKeyIdentifier()){case"Left":t=-1;break;case"Right":t=1;break;case"Up":t=-7;break;case"Down":t=7;break;case"PageUp":i=-1;break;case"PageDown":i=1;break;case"Escape":if(null!=this.getValue()){this.setValue(null);return}break;case"Enter":case"Space":null!=this.getValue()&&this.execute();return}else if(e.isShiftPressed())switch(e.getKeyIdentifier()){case"PageUp":n=-1;break;case"PageDown":n=1}if(null!=t||null!=i||null!=n){var s=this.getValue();null!=s&&(s=new Date(s.getTime()));if(null==s)s=new Date;else{null!=t&&s.setDate(s.getDate()+t);null!=i&&s.setMonth(s.getMonth()+i);null!=n&&s.setFullYear(s.getFullYear()+n)}this.setValue(s)}},showMonth:function(e,t){if(null!=e&&e!=this.getShownMonth()||null!=t&&t!=this.getShownYear()){null!=e&&this.setShownMonth(e);null!=t&&this.setShownYear(t);this._updateDatePane()}},handleKeyPress:function(e){this._onKeyPress(e)},_updateDatePane:function(){var e=qx.ui.control.DateChooser,t=new Date,i=t.getFullYear(),n=t.getMonth(),s=t.getDate(),r=this.getValue(),o=null==r?-1:r.getFullYear(),a=null==r?-1:r.getMonth(),l=null==r?-1:r.getDate(),u=this.getShownMonth(),c=this.getShownYear(),d=qx.locale.Date.getWeekStart(),h=new Date(this.getShownYear(),this.getShownMonth(),1),g=new qx.util.format.DateFormat(e.MONTH_YEAR_FORMAT);this.getChildControl("month-year-label").setValue(g.format(h));for(var m=h.getDay(),f=1+(7-m)%7,p=new qx.util.format.DateFormat(e.WEEKDAY_FORMAT),_=0;_<7;_++){var x=(_+d)%7,q=this.__weekdayLabelArr[_];h.setDate(f+x);q.setValue(p.format(h));qx.locale.Date.isWeekend(x)?q.addState("weekend"):q.removeState("weekend")}var v=(7+m-d)%7;(h=new Date(c,u,1,12,0,0)).setDate(h.getDate()-v);for(var b=new qx.util.format.DateFormat(e.WEEK_FORMAT),y=0;y<6;y++){this.__weekLabelArr[y].setValue(b.format(h));for(_=0;_<7;_++){q=this.__dayLabelArr[7*y+_];var C=h.getFullYear(),w=h.getMonth(),E=h.getDate();o==C&&a==w&&l==E?q.addState("selected"):q.removeState("selected");w!=u?q.addState("otherMonth"):q.removeState("otherMonth");C==i&&w==n&&E==s?q.addState("today"):q.removeState("today");q.setValue(""+E);q.dateTime=h.getTime();h.setDate(h.getDate()+1)}}g.dispose();p.dispose();b.dispose()}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this._updateDatePane,this);this.__weekdayLabelArr=this.__dayLabelArr=this.__weekLabelArr=null}});qx.ui.control.DateChooser.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.popup.Popup":{construct:!0,require:!0},"qx.ui.form.IColorForm":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.core.Widget":{},"qx.ui.form.Button":{},"qx.ui.groupbox.GroupBox":{},"qx.ui.layout.HBox":{},"qx.ui.container.Composite":{},"qx.ui.layout.Basic":{},"qx.ui.window.Window":{},"qx.ui.control.ColorSelector":{},"qx.util.ColorUtil":{},"qx.lang.Array":{},"qx.locale.Manager":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.control.ColorPopup",{extend:qx.ui.popup.Popup,implement:[qx.ui.form.IColorForm],construct:function(){qx.ui.popup.Popup.constructor.call(this);this.setLayout(new qx.ui.layout.VBox(5));this._createChildControl("auto-button");this._createBoxes();this._createChildControl("preview-pane");this._createChildControl("selector-button");this.addListener("changeVisibility",this._onChangeVisibility,this)},properties:{appearance:{refine:!0,init:"colorpopup"},value:{nullable:!0,apply:"_applyValue",event:"changeValue"},red:{check:"Number",init:null,nullable:!0,event:"changeRed"},green:{check:"Number",init:null,nullable:!0,event:"changeGreen"},blue:{check:"Number",init:null,nullable:!0,event:"changeBlue"}},members:{__minZIndex:1e5,__boxes:null,__colorSelectorWindow:null,__colorSelector:null,__buttonBar:null,__recentTableId:"recent",__fieldNumber:12,_createChildControlImpl:function(e,t){var i;switch(e){case"field":(i=new qx.ui.core.Widget).addListener("pointerdown",this._onFieldPointerDown,this);i.addListener("pointerover",this._onFieldPointerOver,this);i.addListener("pointerout",this._onFieldPointerOut,this);break;case"auto-button":(i=new qx.ui.form.Button(this.tr("Automatic"))).setAllowStretchX(!0);i.addListener("execute",this._onAutomaticBtnExecute,this);this.add(i);break;case"selector-button":(i=new qx.ui.form.Button(this.tr("Open ColorSelector"))).addListener("execute",this._onSelectorButtonExecute,this);this.add(i);break;case"preview-pane":(i=new qx.ui.groupbox.GroupBox(this.tr("Preview (Old/New)"))).setLayout(new qx.ui.layout.HBox);i.add(this._createChildControl("selected-preview",!0),{flex:1});i.add(this._createChildControl("current-preview",!0),{flex:1});this.add(i);break;case"selected-preview":case"current-preview":i=new qx.ui.container.Composite(new qx.ui.layout.Basic);break;case"colorselector-okbutton":(i=new qx.ui.form.Button(this.tr("OK"))).addListener("execute",this._onColorSelectorOk,this);break;case"colorselector-cancelbutton":(i=new qx.ui.form.Button(this.tr("Cancel"))).addListener("execute",this._onColorSelectorCancel,this)}return i||qx.ui.control.ColorPopup.prototype._createChildControlImpl.base.call(this,e)},_createBoxes:function(){this.__boxes={};var e,t,i,n=this._tables,s=0;for(var r in n){e=n[r];(t=new qx.ui.groupbox.GroupBox(e.label)).setLayout(new qx.ui.layout.HBox);this.__boxes[r]=t;this.add(t);for(var o=0;o<this.__fieldNumber;o++){(i=this.getChildControl("field#"+s++)).setBackgroundColor(e.values[o]||null);t.add(i)}}},_createColorSelector:function(){if(!this.__colorSelector){var e=new qx.ui.window.Window(this.tr("Color Selector"));this.__colorSelectorWindow=e;e.setLayout(new qx.ui.layout.VBox(16));e.setResizable(!1);e.moveTo(20,20);this.__colorSelector=new qx.ui.control.ColorSelector;e.add(this.__colorSelector);this.__buttonBar=new qx.ui.container.Composite(new qx.ui.layout.HBox(8,"right"));e.add(this.__buttonBar);var t=this._createChildControl("colorselector-cancelbutton"),i=this._createChildControl("colorselector-okbutton");this.__buttonBar.add(t);this.__buttonBar.add(i)}},_applyValue:function(e,t){if(null===e){this.setRed(null);this.setGreen(null);this.setBlue(null)}else{var i=qx.util.ColorUtil.stringToRgb(e);this.setRed(i[0]);this.setGreen(i[1]);this.setBlue(i[2])}this.getChildControl("selected-preview").setBackgroundColor(e);this._rotatePreviousColors()},_rotatePreviousColors:function(){if(this._tables){var e=this._tables[this.__recentTableId].values,t=this.__boxes[this.__recentTableId];if(e){var i=this.getValue();if(i){var n=e.indexOf(i);-1!=n?qx.lang.Array.removeAt(e,n):e.length==this.__fieldNumber&&e.shift();e.push(i);for(var s=t.getChildren(),r=0;r<s.length;r++)s[r].setBackgroundColor(e[r]||null)}}}},_onFieldPointerDown:function(e){var t=this.getChildControl("current-preview").getBackgroundColor();this.setValue(t);t&&this.hide()},_onFieldPointerOver:function(e){this.getChildControl("current-preview").setBackgroundColor(e.getTarget().getBackgroundColor())},_onFieldPointerOut:function(e){var t=this.getRed(),i=this.getGreen(),n=this.getBlue(),s=null;null===t&&null===i&&null===n||(s=qx.util.ColorUtil.rgbToRgbString([t,i,n]));this.getChildControl("current-preview").setBackgroundColor(s)},_onAutomaticBtnExecute:function(){this.setValue(null);this.hide()},_onSelectorButtonExecute:function(){this._createColorSelector();this.exclude();var e=this.getRed(),t=this.getGreen(),i=this.getBlue();if(null===e||null===t||null===i){e=255;t=255;i=255}this.__colorSelector.setRed(e);this.__colorSelector.setGreen(t);this.__colorSelector.setBlue(i);this.__colorSelectorWindow.open()},_onColorSelectorOk:function(){var e=this.__colorSelector;this.setValue(qx.util.ColorUtil.rgbToRgbString([e.getRed(),e.getGreen(),e.getBlue()]));this.__colorSelectorWindow.close()},_onColorSelectorCancel:function(){this.__colorSelectorWindow.close()},_onChangeVisibility:function(e){if("visible"==this.getVisibility()){var t=this.getRed(),i=this.getGreen(),n=this.getBlue(),s=null;null===t&&null===i&&null===n||(s=qx.util.ColorUtil.rgbToRgbString([t,i,n]));this.getChildControl("selected-preview").setBackgroundColor(s);this.getChildControl("current-preview").setBackgroundColor(s)}},_tables:{core:{label:qx.locale.Manager.tr("Basic Colors"),values:["#000","#333","#666","#999","#CCC","#FFF","red","green","blue","yellow","teal","maroon"]},recent:{label:qx.locale.Manager.tr("Recent Colors"),values:[]}}},destruct:function(){if(this.__colorSelectorWindow){this.__colorSelectorWindow.destroy();this.__colorSelector.destroy();this.__buttonBar.destroy()}this._tables=this.__boxes=null}});qx.ui.control.ColorPopup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.scroll.IScrollBar":{require:!0},"qx.html.Element":{},"qx.bom.element.Scroll":{},"qx.ui.core.queue.Layout":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.bom.AnimationFrame":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.core.scroll.NativeScrollBar",{extend:qx.ui.core.Widget,implement:qx.ui.core.scroll.IScrollBar,construct:function(e){qx.ui.core.Widget.constructor.call(this);this.addState("native");this.getContentElement().addListener("scroll",this._onScroll,this);this.addListener("pointerdown",this._stopPropagation,this);this.addListener("pointerup",this._stopPropagation,this);this.addListener("pointermove",this._stopPropagation,this);this.addListener("appear",this._onAppear,this);this.getContentElement().add(this._getScrollPaneElement());this.getContentElement().setStyle("box-sizing","content-box");null!=e?this.setOrientation(e):this.initOrientation();this.addListener("track",function(e){e.stopPropagation()},this)},events:{scrollAnimationEnd:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"scrollbar"},orientation:{check:["horizontal","vertical"],init:"horizontal",apply:"_applyOrientation"},maximum:{check:"PositiveInteger",apply:"_applyMaximum",init:100},position:{check:"Number",init:0,apply:"_applyPosition",event:"scroll"},singleStep:{check:"Integer",init:20},knobFactor:{check:"PositiveNumber",nullable:!0}},members:{__isHorizontal:null,__scrollPaneElement:null,__requestId:null,__scrollAnimationframe:null,_getScrollPaneElement:function(){this.__scrollPaneElement||(this.__scrollPaneElement=new qx.html.Element);return this.__scrollPaneElement},renderLayout:function(e,t,i,n){var s=qx.ui.core.scroll.NativeScrollBar.prototype.renderLayout.base.call(this,e,t,i,n);this._updateScrollBar();return s},_getContentHint:function(){var e=qx.bom.element.Scroll.getScrollbarWidth();return{width:this.__isHorizontal?100:e,maxWidth:this.__isHorizontal?null:e,minWidth:this.__isHorizontal?null:e,height:this.__isHorizontal?e:100,maxHeight:this.__isHorizontal?e:null,minHeight:this.__isHorizontal?e:null}},_applyEnabled:function(e,t){qx.ui.core.scroll.NativeScrollBar.prototype._applyEnabled.base.call(this,e,t);this._updateScrollBar()},_applyMaximum:function(e){this._updateScrollBar()},_applyPosition:function(e){var t=this.getContentElement();this.__isHorizontal?t.scrollToX(e):t.scrollToY(e)},_applyOrientation:function(e,t){var i=this.__isHorizontal="horizontal"===e;this.set({allowGrowX:i,allowShrinkX:i,allowGrowY:!i,allowShrinkY:!i});i?this.replaceState("vertical","horizontal"):this.replaceState("horizontal","vertical");this.getContentElement().setStyles({overflowX:i?"scroll":"hidden",overflowY:i?"hidden":"scroll"});qx.ui.core.queue.Layout.add(this)},_updateScrollBar:function(){var e=this.__isHorizontal;if(n=this.getBounds()){if(this.isEnabled())var t=e?n.width:n.height,i=this.getMaximum()+t;else i=0;if("mshtml"==qx.core.Environment.get("engine.name")||"edge"==qx.core.Environment.get("browser.name")){var n=this.getBounds();this.getContentElement().setStyles({left:(e?n.left:n.left-1)+"px",top:(e?n.top-1:n.top)+"px",width:(e?n.width:n.width+1)+"px",height:(e?n.height+1:n.height)+"px"})}this._getScrollPaneElement().setStyles({left:0,top:0,width:(e?i:1)+"px",height:(e?1:i)+"px"});this.updatePosition(this.getPosition())}},scrollTo:function(e,t){this.stopScrollAnimation();if(t){var i=this.getPosition();this.__scrollAnimationframe=new qx.bom.AnimationFrame;this.__scrollAnimationframe.on("frame",function(n){var s=parseInt(n/t*(e-i)+i);this.updatePosition(s)},this);this.__scrollAnimationframe.on("end",function(){this.setPosition(Math.max(0,Math.min(this.getMaximum(),e)));this.__scrollAnimationframe=null;this.fireEvent("scrollAnimationEnd")},this);this.__scrollAnimationframe.startSequence(t)}else this.updatePosition(e)},updatePosition:function(e){this.setPosition(Math.max(0,Math.min(this.getMaximum(),e)))},scrollBy:function(e,t){this.scrollTo(this.getPosition()+e,t)},scrollBySteps:function(e,t){var i=this.getSingleStep();this.scrollBy(e*i,t)},stopScrollAnimation:function(){if(this.__scrollAnimationframe){this.__scrollAnimationframe.cancelSequence();this.__scrollAnimationframe=null}},_onScroll:function(e){var t=this.getContentElement(),i=this.__isHorizontal?t.getScrollX():t.getScrollY();this.setPosition(i)},_onAppear:function(e){this._applyPosition(this.getPosition())},_stopPropagation:function(e){e.stopPropagation()}},destruct:function(){this._disposeObjects("__scrollPaneElement")}});qx.ui.core.scroll.NativeScrollBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MNativeOverflow",{properties:{overflowX:{check:["hidden","visible","scroll","auto"],nullable:!0,apply:"_applyOverflowX"},overflowY:{check:["hidden","visible","scroll","auto"],nullable:!0,apply:"_applyOverflowY"},overflow:{group:["overflowX","overflowY"]}},members:{_applyOverflowX:function(e){this.getContentElement().setStyle("overflowX",e)},_applyOverflowY:function(e){this.getContentElement().setStyle("overflowY",e)}}});qx.ui.core.MNativeOverflow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MNativeOverflow":{require:!0},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.theme.manager.Font":{},"qx.bom.Font":{},"qx.theme.manager.Color":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.embed.Html",{extend:qx.ui.core.Widget,include:[qx.ui.core.MNativeOverflow],construct:function(e){qx.ui.core.Widget.constructor.call(this);null!=e&&this.setHtml(e)},properties:{html:{check:"String",apply:"_applyHtml",event:"changeHtml",nullable:!0},cssClass:{check:"String",init:"",apply:"_applyCssClass"},selectable:{refine:!0,init:!0},focusable:{refine:!0,init:!0}},members:{getFocusElement:function(){return this.getContentElement()},_applyHtml:function(e,t){var i=this.getContentElement();"mshtml"==qx.core.Environment.get("engine.name")&&9==qx.core.Environment.get("browser.documentmode")&&i.setStyle("position","relative");i.setAttribute("html",e||"")},_applyCssClass:function(e,t){this.getContentElement().removeClass(t);this.getContentElement().addClass(e)},_applySelectable:function(e){qx.ui.embed.Html.prototype._applySelectable.base.call(this,e);"webkit"==qx.core.Environment.get("engine.name")&&this.getContentElement().setStyle("userSelect",e?"text":"none")},_applyFont:function(e,t){var i=e?qx.theme.manager.Font.getInstance().resolve(e).getStyles():qx.bom.Font.getDefaultStyles();null!=this.getTextColor()&&delete i.color;this.getContentElement().setStyles(i)},_applyTextColor:function(e,t){e?this.getContentElement().setStyle("color",qx.theme.manager.Color.getInstance().resolve(e)):this.getContentElement().removeStyle("color")}}});qx.ui.embed.Html.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.util.DeferredCall":{construct:!0},"qx.html.Canvas":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.embed.Canvas",{extend:qx.ui.core.Widget,construct:function(e,t){qx.ui.core.Widget.constructor.call(this);this.__deferredDraw=new qx.util.DeferredCall(this.__redraw,this);this.addListener("resize",this._onResize,this);void 0!==e&&this.setCanvasWidth(e);void 0!==t&&this.setCanvasHeight(t)},events:{redraw:"qx.event.type.Data"},properties:{syncDimension:{check:"Boolean",init:!1},canvasWidth:{check:"Integer",init:300,apply:"_applyCanvasWidth"},canvasHeight:{check:"Integer",init:150,apply:"_applyCanvasHeight"}},members:{__deferredDraw:null,_createContentElement:function(){return new qx.html.Canvas},__redraw:function(){var e=this.getContentElement(),t=e.getHeight(),i=e.getWidth(),n=e.getContext2d();this._draw(i,t,n);this.fireNonBubblingEvent("redraw",qx.event.type.Data,[{width:i,height:t,context:n}])},_applyCanvasWidth:function(e,t){this.getContentElement().setWidth(e);this.__deferredDraw.schedule()},_applyCanvasHeight:function(e,t){this.getContentElement().setHeight(e);this.__deferredDraw.schedule()},update:function(){this.__deferredDraw.schedule()},_onResize:function(e){var t=e.getData();if(this.getSyncDimension()){this.setCanvasHeight(t.height);this.setCanvasWidth(t.width)}},getContext2d:function(){return this.getContentElement().getContext2d()},_draw:function(e,t,i){}},destruct:function(){this._disposeObjects("__deferredDraw")}});qx.ui.embed.Canvas.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.embed.AbstractIframe",{extend:qx.ui.core.Widget,construct:function(e){qx.ui.core.Widget.constructor.call(this);e&&this.setSource(e);this._getIframeElement().addListener("navigate",this.__onNavigate,this)},events:{load:"qx.event.type.Event",navigate:"qx.event.type.Data"},properties:{source:{check:"String",apply:"_applySource",init:"about:blank"},frameName:{check:"String",init:"",apply:"_applyFrameName"}},members:{_getIframeElement:function(){throw new Error("Abstract method call")},_applySource:function(e,t){this._getIframeElement().setSource(e)},_applyFrameName:function(e,t){this._getIframeElement().setAttribute("name",e)},getWindow:function(){return this._getIframeElement().getWindow()},getDocument:function(){return this._getIframeElement().getDocument()},getBody:function(){return this._getIframeElement().getBody()},getName:function(){return this._getIframeElement().getName()},reload:function(){this._getIframeElement().reload()},__onNavigate:function(e){var t=e.getData();t&&this.setSource(t);this.fireDataEvent("navigate",t)}}});qx.ui.embed.AbstractIframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.embed.AbstractIframe":{construct:!0,require:!0},"qx.event.Registration":{construct:!0},"qx.bom.client.EcmaScript":{construct:!0},"qx.bom.Event":{construct:!0},"qx.lang.Function":{construct:!0},"qx.html.Iframe":{},"qx.html.Blocker":{},"qx.bom.client.Event":{},"qx.bom.client.Browser":{},"qx.bom.Iframe":{}},environment:{provided:[],required:{"ecmascript.mutationobserver":{construct:!0,className:"qx.bom.client.EcmaScript"},"event.help":{className:"qx.bom.client.Event"},"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.embed.Iframe",{extend:qx.ui.embed.AbstractIframe,construct:function(e){null!=e&&(this.__source=e);qx.ui.embed.AbstractIframe.constructor.call(this,e);qx.event.Registration.addListener(document.body,"pointerdown",this.block,this,!0);qx.event.Registration.addListener(document.body,"pointerup",this.release,this,!0);qx.event.Registration.addListener(document.body,"losecapture",this.release,this,!0);this.__blockerElement=this._createBlockerElement();if(qx.core.Environment.get("ecmascript.mutationobserver"))this.addListenerOnce("appear",function(){var e=this.getContentElement().getDomElement(),t=function(t){var i;if(t.addedNodes)for(i=t.addedNodes.length;i>=0;--i)if(t.addedNodes[i]==e)return!0;if(t.removedNodes)for(i=t.removedNodes.length;i>=0;--i)if(t.removedNodes[i]==e)return!0;return!1},i=new MutationObserver(function(e){e.some(t)&&this._syncSourceAfterDOMMove()}.bind(this)),n=this.getLayoutParent().getContentElement().getDomElement();i.observe(n,{childList:!0,subtree:!0})},this);else{this.addListenerOnce("appear",function(){var e=this.getContentElement().getDomElement();qx.bom.Event.addNativeListener(e,"DOMNodeInserted",this._onDOMNodeInserted)},this);this._onDOMNodeInserted=qx.lang.Function.listener(this._syncSourceAfterDOMMove,this)}},properties:{appearance:{refine:!0,init:"iframe"},nativeContextMenu:{refine:!0,init:!1},nativeHelp:{check:"Boolean",init:!1,apply:"_applyNativeHelp"},scrollbar:{check:["auto","no","yes"],nullable:!0,themeable:!0,apply:"_applyScrollbar"}},members:{__source:null,__blockerElement:null,renderLayout:function(e,t,i,n){qx.ui.embed.Iframe.prototype.renderLayout.base.call(this,e,t,i,n);var s=this.getInsets();this.__blockerElement.setStyles({left:e+s.left+"px",top:t+s.top+"px",width:i-s.left-s.right+"px",height:n-s.top-s.bottom+"px"})},_createContentElement:function(){var e=new qx.html.Iframe(this.__source);e.addListener("load",this._onIframeLoad,this);return e},_getIframeElement:function(){return this.getContentElement()},_createBlockerElement:function(){var e=new qx.html.Blocker;e.setStyles({zIndex:20,display:"none"});return e},_onIframeLoad:function(e){this._applyNativeContextMenu(this.getNativeContextMenu(),null);this._applyNativeHelp(this.getNativeHelp(),null);this.fireNonBubblingEvent("load")},block:function(){this.__blockerElement.setStyle("display","block")},release:function(){this.__blockerElement.setStyle("display","none")},_applyNativeContextMenu:function(e,t){if(!1===e||!1===t){var i=this.getDocument();if(i){try{var n=i.documentElement}catch(e){return}!1===t&&qx.event.Registration.removeListener(n,"contextmenu",this._onNativeContextMenu,this,!0);!1===e&&qx.event.Registration.addListener(n,"contextmenu",this._onNativeContextMenu,this,!0)}}},_onNativeContextMenu:function(e){e.preventDefault()},_applyNativeHelp:function(e,t){if(qx.core.Environment.get("event.help")){var i=this.getDocument();if(!i)return;try{!1===t&&qx.bom.Event.removeNativeListener(i,"help",function(){return!1});!1===e&&qx.bom.Event.addNativeListener(i,"help",function(){return!1})}catch(e){this.warn("Unable to set 'nativeHelp' property, possibly due to security restrictions")}}},_syncSourceAfterDOMMove:function(){var e=this.getContentElement()&&this.getContentElement().getDomElement();if(e){var t=e.src;"/"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1));if(t!=this.getSource()){"edge"!=qx.core.Environment.get("browser.name")&&"ie"!=qx.core.Environment.get("browser.name")&&qx.bom.Iframe.getWindow(e).stop();e.src=this.getSource()}}},_applyScrollbar:function(e){this.getContentElement().setAttribute("scrolling",e)},setLayoutParent:function(e){qx.ui.embed.Iframe.prototype.setLayoutParent.base.call(this,e);e&&this.getLayoutParent().getContentElement().add(this.__blockerElement)}},destruct:function(){this.getLayoutParent()&&this.__blockerElement.getParent()&&this.getLayoutParent().getContentElement().remove(this.__blockerElement);this._disposeObjects("__blockerElement");qx.event.Registration.removeListener(document.body,"pointerdown",this.block,this,!0);qx.event.Registration.removeListener(document.body,"pointerup",this.release,this,!0);qx.event.Registration.removeListener(document.body,"losecapture",this.release,this,!0)}});qx.ui.embed.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.core.MRemoteLayoutHandling":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.layout.Canvas":{construct:!0},"qx.ui.container.Composite":{},"qx.ui.basic.Atom":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.groupbox.GroupBox",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MRemoteLayoutHandling,qx.ui.core.MContentPadding,qx.ui.form.MForm],implement:[qx.ui.form.IForm],construct:function(e,t){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.Canvas);this._createChildControl("frame");this._createChildControl("legend");null!=e&&this.setLegend(e);null!=t&&this.setIcon(t)},properties:{appearance:{refine:!0,init:"groupbox"},legend:{check:"String",apply:"_applyLegend",event:"changeLegend",nullable:!0},legendPosition:{check:["top","middle"],init:"middle",apply:"_applyLegendPosition",themeable:!0}},members:{_forwardStates:{invalid:!0},_createChildControlImpl:function(e,t){var i;switch(e){case"frame":i=new qx.ui.container.Composite;this._add(i,{left:0,top:6,right:0,bottom:0});break;case"legend":(i=new qx.ui.basic.Atom).addListener("resize",this._repositionFrame,this);this._add(i,{left:0,right:0})}return i||qx.ui.groupbox.GroupBox.prototype._createChildControlImpl.base.call(this,e)},_getContentPaddingTarget:function(){return this.getChildControl("frame")},_applyLegend:function(e,t){var i=this.getChildControl("legend");if(null!==e){i.setLabel(e);i.show()}else i.exclude()},_applyLegendPosition:function(e){this.getChildControl("legend").getBounds()&&this._repositionFrame()},_repositionFrame:function(){var e=this.getChildControl("legend"),t=this.getChildControl("frame"),i=e.getBounds().height;"middle"==this.getLegendPosition()?t.setLayoutProperties({top:Math.round(i/2)}):"top"==this.getLegendPosition()&&t.setLayoutProperties({top:i})},getChildrenContainer:function(){return this.getChildControl("frame")},setIcon:function(e){this.getChildControl("legend").setIcon(e)},getIcon:function(){return this.getChildControl("legend").getIcon()}}});qx.ui.groupbox.GroupBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.groupbox.GroupBox":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.form.IBooleanForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.CheckBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.groupbox.CheckGroupBox",{extend:qx.ui.groupbox.GroupBox,implement:[qx.ui.form.IExecutable,qx.ui.form.IBooleanForm,qx.ui.form.IModel],include:[qx.ui.form.MModelProperty],properties:{appearance:{refine:!0,init:"check-groupbox"}},events:{changeValue:"qx.event.type.Data",execute:"qx.event.type.Event"},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"legend":(i=new qx.ui.form.CheckBox).setValue(!0);i.setAllowGrowX(!0);i.addListener("changeValue",this._onRadioChangeValue,this);i.addListener("resize",this._repositionFrame,this);i.addListener("execute",this._onExecute,this);this._add(i,{left:0,right:0})}return i||qx.ui.groupbox.CheckGroupBox.prototype._createChildControlImpl.base.call(this,e)},_applyEnabled:function(e,t){qx.ui.groupbox.CheckGroupBox.prototype._applyEnabled.base.call(this,e,t);this.getChildrenContainer().setEnabled(e&&this.getValue())},_onExecute:function(e){this.fireEvent("execute")},_onRadioChangeValue:function(e){var t=!!e.getData();this.getChildrenContainer().setEnabled(t);this.fireDataEvent("changeValue",t,e.getOldData())},execute:function(){this.getChildControl("legend").execute()},setCommand:function(e){this.getChildControl("legend").setCommand(e)},getCommand:function(){return this.getChildControl("legend").getCommand()},getValue:function(){return this.getChildControl("legend").getValue()},setValue:function(e){this.getChildControl("legend").setValue(e)},resetValue:function(){this.getChildControl("legend").resetValue()}}});qx.ui.groupbox.CheckGroupBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.groupbox.GroupBox":{require:!0},"qx.ui.form.IRadioItem":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.form.IBooleanForm":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.RadioButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.groupbox.RadioGroupBox",{extend:qx.ui.groupbox.GroupBox,implement:[qx.ui.form.IRadioItem,qx.ui.form.IExecutable,qx.ui.form.IBooleanForm,qx.ui.form.IModel],include:[qx.ui.form.MModelProperty],properties:{appearance:{refine:!0,init:"radio-groupbox"}},events:{changeValue:"qx.event.type.Data",execute:"qx.event.type.Event"},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"legend":(i=new qx.ui.form.RadioButton).setAllowGrowX(!0);i.setValue(!0);i.addListener("changeValue",this._onRadioChangeValue,this);i.addListener("resize",this._repositionFrame,this);i.addListener("execute",this._onExecute,this);this._add(i,{left:0,right:0})}return i||qx.ui.groupbox.RadioGroupBox.prototype._createChildControlImpl.base.call(this,e)},_applyEnabled:function(e,t){qx.ui.groupbox.RadioGroupBox.prototype._applyEnabled.base.call(this,e,t);this.getChildrenContainer().setEnabled(e&&this.getValue())},_onExecute:function(e){this.fireEvent("execute")},_onRadioChangeValue:function(e){var t=!!e.getData();this.getChildrenContainer().setEnabled(t);this.fireDataEvent("changeValue",t,e.getOldData())},execute:function(){this.getChildControl("legend").execute()},setCommand:function(e){this.getChildControl("legend").setCommand(e)},getCommand:function(){return this.getChildControl("legend").getCommand()},getGroup:function(){return this.getChildControl("legend").getGroup()},setGroup:function(e){null!=e&&e.add(this)},getValue:function(){return this.getChildControl("legend").getValue()},setValue:function(e){this.getChildControl("legend").setValue(e)},resetValue:function(){this.getChildControl("legend").resetValue()},getLabel:function(){return this.getChildControl("legend").getLabel()}}});qx.ui.groupbox.RadioGroupBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MPlacement":{require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.menu.Layout":{construct:!0},"qx.ui.core.Blocker":{construct:!0},"qx.ui.menu.Separator":{},"qx.ui.menu.Manager":{},"qx.ui.menu.AbstractButton":{},"qx.ui.menu.MenuSlideBar":{},"qx.ui.layout.Grow":{},"qx.lang.Array":{},"qx.ui.core.queue.Widget":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.Menu",{extend:qx.ui.core.Widget,include:[qx.ui.core.MPlacement,qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.menu.Layout);var e=this.getApplicationRoot();e.add(this);this.addListener("pointerover",this._onPointerOver);this.addListener("pointerout",this._onPointerOut);this.addListener("resize",this._onResize,this);e.addListener("resize",this._onResize,this);this._blocker=new qx.ui.core.Blocker(e);this.initVisibility();this.initKeepFocus();this.initKeepActive()},properties:{appearance:{refine:!0,init:"menu"},allowGrowX:{refine:!0,init:!1},allowGrowY:{refine:!0,init:!1},visibility:{refine:!0,init:"excluded"},keepFocus:{refine:!0,init:!0},keepActive:{refine:!0,init:!0},spacingX:{check:"Integer",apply:"_applySpacingX",init:0,themeable:!0},spacingY:{check:"Integer",apply:"_applySpacingY",init:0,themeable:!0},iconColumnWidth:{check:"Integer",init:0,themeable:!0,apply:"_applyIconColumnWidth"},arrowColumnWidth:{check:"Integer",init:0,themeable:!0,apply:"_applyArrowColumnWidth"},blockerColor:{check:"Color",init:null,nullable:!0,apply:"_applyBlockerColor",themeable:!0},blockerOpacity:{check:"Number",init:1,apply:"_applyBlockerOpacity",themeable:!0},selectedButton:{check:"qx.ui.core.Widget",nullable:!0,apply:"_applySelectedButton"},openedButton:{check:"qx.ui.core.Widget",nullable:!0,apply:"_applyOpenedButton"},opener:{check:"qx.ui.core.Widget",nullable:!0},openInterval:{check:"Integer",themeable:!0,init:250,apply:"_applyOpenInterval"},closeInterval:{check:"Integer",themeable:!0,init:250,apply:"_applyCloseInterval"},blockBackground:{check:"Boolean",themeable:!0,init:!1}},members:{__scheduledOpen:null,__onAfterSlideBarAdd:null,_blocker:null,open:function(){if(null!=this.getOpener()){if(this.placeToWidget(this.getOpener(),!0)){this.__updateSlideBar();this.show();this._placementTarget=this.getOpener()}else this.warn("Could not open menu instance because 'opener' widget is not visible")}else this.warn("The menu instance needs a configured 'opener' widget!")},openAtPointer:function(e){this.placeToPointer(e);this.__updateSlideBar();this.show();this._placementTarget={left:e.getDocumentLeft(),top:e.getDocumentTop()}},openAtPoint:function(e){this.placeToPoint(e);this.__updateSlideBar();this.show();this._placementTarget=e},addSeparator:function(){this.add(new qx.ui.menu.Separator)},getColumnSizes:function(){return this._getMenuLayout().getColumnSizes()},getSelectables:function(){for(var e=[],t=this.getChildren(),i=0;i<t.length;i++)t[i].isEnabled()&&e.push(t[i]);return e},_applyIconColumnWidth:function(e,t){this._getMenuLayout().setIconColumnWidth(e)},_applyArrowColumnWidth:function(e,t){this._getMenuLayout().setArrowColumnWidth(e)},_applySpacingX:function(e,t){this._getMenuLayout().setColumnSpacing(e)},_applySpacingY:function(e,t){this._getMenuLayout().setSpacing(e)},_applyVisibility:function(e,t){qx.ui.menu.Menu.prototype._applyVisibility.base.call(this,e,t);var i=qx.ui.menu.Manager.getInstance();if("visible"===e){i.add(this);(n=this.getParentMenu())&&n.setOpenedButton(this.getOpener())}else if("visible"===t){i.remove(this);var n;(n=this.getParentMenu())&&n.getOpenedButton()==this.getOpener()&&n.resetOpenedButton();this.resetOpenedButton();this.resetSelectedButton()}this.__updateBlockerVisibility()},__updateBlockerVisibility:function(){if(this.isVisible()){if(this.getBlockBackground()){var e=this.getZIndex();this._blocker.blockContent(e-1)}}else this._blocker.isBlocked()&&this._blocker.unblock()},getParentMenu:function(){var e=this.getOpener();if(!(e&&e instanceof qx.ui.menu.AbstractButton))return null;if(e&&e.getContextMenu()===this)return null;for(;e&&!(e instanceof qx.ui.menu.Menu);)e=e.getLayoutParent();return e},_applySelectedButton:function(e,t){t&&t.removeState("selected");e&&e.addState("selected")},_applyOpenedButton:function(e,t){t&&t.getMenu()&&t.getMenu().exclude();e&&e.getMenu().open()},_applyBlockerColor:function(e,t){this._blocker.setColor(e)},_applyBlockerOpacity:function(e,t){this._blocker.setOpacity(e)},getChildrenContainer:function(){return this.getChildControl("slidebar",!0)||this},_createChildControlImpl:function(e,t){switch(e){case"slidebar":var i=new qx.ui.menu.MenuSlideBar,n=this._getLayout();this._setLayout(new qx.ui.layout.Grow);var s=i.getLayout();i.setLayout(n);s.dispose();for(var r=qx.lang.Array.clone(this.getChildren()),o=0;o<r.length;o++)i.add(r[o]);this.removeListener("resize",this._onResize,this);i.getChildrenContainer().addListener("resize",this._onResize,this);this._add(i)}return i||qx.ui.menu.Menu.prototype._createChildControlImpl.base.call(this,e)},_getMenuLayout:function(){return this.hasChildControl("slidebar")?this.getChildControl("slidebar").getChildrenContainer().getLayout():this._getLayout()},_getMenuBounds:function(){return this.hasChildControl("slidebar")?this.getChildControl("slidebar").getChildrenContainer().getBounds():this.getBounds()},_computePlacementSize:function(){return this._getMenuBounds()},__updateSlideBar:function(){var e=this._getMenuBounds();if(e){var t=this.getLayoutParent().getBounds().height,i=this.getLayoutProperties().top,n=this.getLayoutProperties().left;i<0?this._assertSlideBar(function(){this.setHeight(e.height+i);this.moveTo(n,0)}):i+e.height>t?this._assertSlideBar(function(){this.setHeight(t-i)}):this.setHeight(null)}else this.addListenerOnce("resize",this.__updateSlideBar,this)},_assertSlideBar:function(e){if(this.hasChildControl("slidebar"))return e.call(this);this.__onAfterSlideBarAdd=e;qx.ui.core.queue.Widget.add(this)},syncWidget:function(e){this.getChildControl("slidebar");if(this.__onAfterSlideBarAdd){this.__onAfterSlideBarAdd.call(this);delete this.__onAfterSlideBarAdd}},_onResize:function(){if(this.isVisible()){var e=this._placementTarget;if(!e)return;if(e instanceof qx.ui.core.Widget)this.placeToWidget(e,!0);else{if(void 0===e.top)throw new Error("Unknown target: "+e);this.placeToPoint(e)}this.__updateSlideBar()}},_onPointerOver:function(e){var t=qx.ui.menu.Manager.getInstance();t.cancelClose(this);var i=e.getTarget();if(i.isEnabled()&&i instanceof qx.ui.menu.AbstractButton){this.setSelectedButton(i);var n=i.getMenu&&i.getMenu();if(n){n.setOpener(i);t.scheduleOpen(n);this.__scheduledOpen=n}else{var s=this.getOpenedButton();s&&t.scheduleClose(s.getMenu());if(this.__scheduledOpen){t.cancelOpen(this.__scheduledOpen);this.__scheduledOpen=null}}}else this.getOpenedButton()||this.resetSelectedButton()},_onPointerOut:function(e){var t=qx.ui.menu.Manager.getInstance();if(!qx.ui.core.Widget.contains(this,e.getRelatedTarget())){var i=this.getOpenedButton();i?this.setSelectedButton(i):this.resetSelectedButton();i&&t.cancelClose(i.getMenu());this.__scheduledOpen&&t.cancelOpen(this.__scheduledOpen)}}},destruct:function(){qx.core.ObjectRegistry.inShutDown||qx.ui.menu.Manager.getInstance().remove(this);this.getApplicationRoot().removeListener("resize",this._onResize,this);this._placementTarget=null;this._disposeObjects("_blocker")}});qx.ui.menu.Menu.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.ui.menu.ButtonLayout":{construct:!0},"qx.ui.basic.Image":{},"qx.ui.basic.Label":{},"qx.ui.menu.Manager":{},"qx.locale.Manager":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.AbstractButton",{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],type:"abstract",construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.menu.ButtonLayout);this.addListener("tap",this._onTap);this.addListener("keypress",this._onKeyPress);this.addListener("changeCommand",this._onChangeCommand,this)},properties:{blockToolTip:{refine:!0,init:!0},label:{check:"String",apply:"_applyLabel",nullable:!0,event:"changeLabel"},menu:{check:"qx.ui.menu.Menu",apply:"_applyMenu",nullable:!0,dereference:!0,event:"changeMenu"},icon:{check:"String",apply:"_applyIcon",themeable:!0,nullable:!0,event:"changeIcon"},showCommandLabel:{check:"Boolean",apply:"_applyShowCommandLabel",themeable:!0,init:!0,event:"changeShowCommandLabel"}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"icon":(i=new qx.ui.basic.Image).setAnonymous(!0);this._add(i,{column:0});break;case"label":(i=new qx.ui.basic.Label).setAnonymous(!0);this._add(i,{column:1});break;case"shortcut":(i=new qx.ui.basic.Label).setAnonymous(!0);this.getShowCommandLabel()||i.exclude();this._add(i,{column:2});break;case"arrow":(i=new qx.ui.basic.Image).setAnonymous(!0);this._add(i,{column:3})}return i||qx.ui.menu.AbstractButton.prototype._createChildControlImpl.base.call(this,e)},_forwardStates:{selected:1},getChildrenSizes:function(){var e=0,t=0,i=0,n=0;if(this._isChildControlVisible("icon")){var s=this.getChildControl("icon");e=s.getMarginLeft()+s.getSizeHint().width+s.getMarginRight()}if(this._isChildControlVisible("label")){var r=this.getChildControl("label");t=r.getMarginLeft()+r.getSizeHint().width+r.getMarginRight()}if(this._isChildControlVisible("shortcut")){var o=this.getChildControl("shortcut");i=o.getMarginLeft()+o.getSizeHint().width+o.getMarginRight()}if(this._isChildControlVisible("arrow")){var a=this.getChildControl("arrow");n=a.getMarginLeft()+a.getSizeHint().width+a.getMarginRight()}return[e,t,i,n]},_onTap:function(e){if(e.isLeftPressed()){this.execute();qx.ui.menu.Manager.getInstance().hideAll()}else this.getContextMenu()||qx.ui.menu.Manager.getInstance().preventContextMenuOnce()},_onKeyPress:function(e){this.execute()},_onChangeCommand:function(e){var t=e.getData();if(null!=t){e.getOldData()||qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this);t||qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this);var i=null!=t?t.toString():"";this.getChildControl("shortcut").setValue(i)}},_onChangeLocale:function(e){var t=this.getCommand();null!=t&&this.getChildControl("shortcut").setValue(t.toString())},_applyIcon:function(e,t){e?this._showChildControl("icon").setSource(e):this._excludeChildControl("icon")},_applyLabel:function(e,t){e?this._showChildControl("label").setValue(e):this._excludeChildControl("label")},_applyMenu:function(e,t){if(t){t.resetOpener();t.removeState("submenu")}if(e){this._showChildControl("arrow");e.setOpener(this);e.addState("submenu")}else this._excludeChildControl("arrow")},_applyShowCommandLabel:function(e,t){e?this._showChildControl("shortcut"):this._excludeChildControl("shortcut")}},destruct:function(){this.removeListener("changeCommand",this._onChangeCommand,this);this.getMenu()&&(qx.core.ObjectRegistry.inShutDown||this.getMenu().destroy());qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this)}});qx.ui.menu.AbstractButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0},"qx.lang.Array":{},"qx.ui.layout.Util":{},"qx.ui.menu.Menu":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.ButtonLayout",{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:function(e,t,i){this.assert("column"==t,"The property '"+t+"' is not supported by the MenuButton layout!")},renderLayout:function(e,t,i){for(var n,s=this._getLayoutChildren(),r=[],o=0,a=s.length;o<a;o++)r[(n=s[o]).getLayoutProperties().column]=n;var l=this.__getMenu(s[0]),u=l.getColumnSizes(),c=l.getSpacingX(),d=qx.lang.Array.sum(u)+c*(u.length-1);d<e&&(u[1]+=e-d);var h=i.left,g=i.top,m=qx.ui.layout.Util;for(o=0,a=u.length;o<a;o++){if(n=r[o]){var f=n.getSizeHint(),p=g+m.computeVerticalAlignOffset(n.getAlignY()||"middle",f.height,t,0,0),_=m.computeHorizontalAlignOffset(n.getAlignX()||"left",f.width,u[o],n.getMarginLeft(),n.getMarginRight());n.renderLayout(h+_,p,f.width,f.height)}u[o]>0&&(h+=u[o]+c)}},__getMenu:function(e){for(;!(e instanceof qx.ui.menu.Menu);)e=e.getLayoutParent();return e},_computeSizeHint:function(){for(var e=this._getLayoutChildren(),t=0,i=0,n=0,s=e.length;n<s;n++){var r=e[n].getSizeHint();i+=r.width;t=Math.max(t,r.height)}return{width:i,height:t}}}});qx.ui.menu.ButtonLayout.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.menu.AbstractButton":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.Button",{extend:qx.ui.menu.AbstractButton,construct:function(e,t,i,n){qx.ui.menu.AbstractButton.constructor.call(this);null!=e&&this.setLabel(e);null!=t&&this.setIcon(t);null!=i&&this.setCommand(i);null!=n&&this.setMenu(n)},properties:{appearance:{refine:!0,init:"menu-button"}},members:{_onTap:function(e){if(e.isLeftPressed()&&this.getMenu()){this.execute();this.getMenu().open()}else qx.ui.menu.Button.prototype._onTap.base.call(this,e)}}});qx.ui.menu.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.menu.AbstractButton":{construct:!0,require:!0},"qx.ui.form.IBooleanForm":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.CheckBox",{extend:qx.ui.menu.AbstractButton,implement:[qx.ui.form.IBooleanForm],construct:function(e,t){qx.ui.menu.AbstractButton.constructor.call(this);null!=e&&(e.translate?this.setLabel(e.translate()):this.setLabel(e));null!=t&&this.setMenu(t);this.addListener("execute",this._onExecute,this)},properties:{appearance:{refine:!0,init:"menu-checkbox"},value:{check:"Boolean",init:!1,apply:"_applyValue",event:"changeValue",nullable:!0}},members:{_bindableProperties:["enabled","label","toolTipText","value","menu"],_applyValue:function(e,t){e?this.addState("checked"):this.removeState("checked")},_onExecute:function(e){this.toggleValue()}}});qx.ui.menu.CheckBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.menu.AbstractButton":{construct:!0,require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.IRadioItem":{require:!0},"qx.ui.form.IBooleanForm":{require:!0},"qx.ui.form.IModel":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.RadioButton",{extend:qx.ui.menu.AbstractButton,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IRadioItem,qx.ui.form.IBooleanForm,qx.ui.form.IModel],construct:function(e,t){qx.ui.menu.AbstractButton.constructor.call(this);null!=e&&this.setLabel(e);null!=t&&this.setMenu(t);this.addListener("execute",this._onExecute,this)},properties:{appearance:{refine:!0,init:"menu-radiobutton"},value:{check:"Boolean",nullable:!0,event:"changeValue",apply:"_applyValue",init:!1},group:{check:"qx.ui.form.RadioGroup",nullable:!0,apply:"_applyGroup"}},members:{_bindableProperties:["enabled","label","toolTipText","value","menu"],_applyValue:function(e,t){e?this.addState("checked"):this.removeState("checked")},_applyGroup:function(e,t){t&&t.remove(this);e&&e.add(this)},_onExecute:function(e){var t=this.getGroup();t&&t.getAllowEmptySelection()?this.toggleValue():this.setValue(!0)}}});qx.ui.menu.RadioButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.Separator",{extend:qx.ui.core.Widget,properties:{appearance:{refine:!0,init:"menu-separator"},anonymous:{refine:!0,init:!0}}});qx.ui.menu.Separator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.splitpane.Slider":{},"qx.ui.splitpane.Splitter":{},"qx.ui.splitpane.Blocker":{},"qx.ui.splitpane.VLayout":{},"qx.ui.splitpane.HLayout":{},"qx.ui.core.queue.Manager":{},"qx.bom.element.Location":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.Pane",{extend:qx.ui.core.Widget,construct:function(e){qx.ui.core.Widget.constructor.call(this);this.__children=[];e?this.setOrientation(e):this.initOrientation();this.__blocker.addListener("pointerdown",this._onPointerDown,this);this.__blocker.addListener("pointerup",this._onPointerUp,this);this.__blocker.addListener("pointermove",this._onPointerMove,this);this.__blocker.addListener("pointerout",this._onPointerOut,this);this.__blocker.addListener("losecapture",this._onPointerUp,this)},properties:{appearance:{refine:!0,init:"splitpane"},offset:{check:"Integer",init:6,apply:"_applyOffset"},orientation:{init:"horizontal",check:["horizontal","vertical"],apply:"_applyOrientation"}},members:{__splitterOffset:null,__activeDragSession:!1,__lastPointerX:null,__lastPointerY:null,__isHorizontal:null,__beginSize:null,__endSize:null,__children:null,__blocker:null,_createChildControlImpl:function(e,t){var i;switch(e){case"slider":(i=new qx.ui.splitpane.Slider(this)).exclude();this._add(i,{type:e});break;case"splitter":i=new qx.ui.splitpane.Splitter(this);this._add(i,{type:e});i.addListener("move",this.__onSplitterMove,this)}return i||qx.ui.splitpane.Pane.prototype._createChildControlImpl.base.call(this,e)},__onSplitterMove:function(e){this.__setBlockerPosition(e.getData())},__createBlocker:function(e){this.__blocker=new qx.ui.splitpane.Blocker(e);this.getContentElement().add(this.__blocker);var t=this.getChildControl("splitter");t.getWidth()||t.addListenerOnce("appear",function(){this.__setBlockerPosition()},this);t.addListener("resize",function(e){var t=e.getData();!this.getChildControl("splitter").getVisible()||0!=t.height&&0!=t.width?this.__blocker.show():this.__blocker.hide()},this)},getBlocker:function(){return this.__blocker},_applyOrientation:function(e,t){var i=this.getChildControl("slider"),n=this.getChildControl("splitter");this.__isHorizontal="horizontal"===e;this.__blocker||this.__createBlocker(e);this.__blocker.setOrientation(e);var s=this._getLayout();s&&s.dispose();var r="vertical"===e?new qx.ui.splitpane.VLayout:new qx.ui.splitpane.HLayout;this._setLayout(r);n.removeState(t);n.addState(e);n.getChildControl("knob").removeState(t);n.getChildControl("knob").addState(e);i.removeState(t);i.addState(e);qx.ui.core.queue.Manager.flush();this.__setBlockerPosition()},_applyOffset:function(e,t){this.__setBlockerPosition()},__setBlockerPosition:function(e){var t=this.getChildControl("splitter"),i=this.getOffset(),n=t.getBounds(),s=t.getContentElement().getDomElement();if(s)if(this.__isHorizontal){var r=null;e?r=e.width:n&&(r=n.width);var o=e&&e.left;if(r||!this.getChildControl("splitter").getVisible()){isNaN(o)&&(o=qx.bom.element.Location.getPosition(s).left);this.__blocker.setWidth(i,r||6);this.__blocker.setLeft(i,o)}}else{var a=null;e?a=e.height:n&&(a=n.height);var l=e&&e.top;if(a||!this.getChildControl("splitter").getVisible()){isNaN(l)&&(l=qx.bom.element.Location.getPosition(s).top);this.__blocker.setHeight(i,a||6);this.__blocker.setTop(i,l)}}},add:function(e,t){null==t?this._add(e):this._add(e,{flex:t});this.__children.push(e)},remove:function(e){this._remove(e);qx.lang.Array.remove(this.__children,e)},getChildren:function(){return this.__children},_onPointerDown:function(e){if(e.isLeftPressed()){var t=this.getChildControl("splitter"),i=t.getContentLocation(),n=this.getContentLocation();this.__splitterOffset=this.__isHorizontal?e.getDocumentLeft()-i.left+n.left:e.getDocumentTop()-i.top+n.top;var s=this.getChildControl("slider"),r=t.getBounds();s.setUserBounds(r.left,r.top,r.width||6,r.height||6);s.setZIndex(t.getZIndex()+1);s.show();this.__activeDragSession=!0;this.__blocker.capture();e.stop()}},_onPointerMove:function(e){this._setLastPointerPosition(e.getDocumentLeft(),e.getDocumentTop());if(this.__activeDragSession){this.__computeSizes();var t=this.getChildControl("slider"),i=this.__beginSize;if(this.__isHorizontal){t.setDomLeft(i);this.__blocker.setStyle("left",i-this.getOffset()+"px")}else{t.setDomTop(i);this.__blocker.setStyle("top",i-this.getOffset()+"px")}e.stop()}},_onPointerOut:function(e){this._setLastPointerPosition(e.getDocumentLeft(),e.getDocumentTop())},_onPointerUp:function(e){if(this.__activeDragSession){this._finalizeSizes();this.getChildControl("slider").exclude();this.__activeDragSession=!1;this.releaseCapture();e.stop()}},_finalizeSizes:function(){var e=this.__beginSize,t=this.__endSize;if(null!=e){var i=this._getChildren(),n=i[2],s=i[3],r=n.getLayoutProperties().flex,o=s.getLayoutProperties().flex;if(0!=r&&0!=o){n.setLayoutProperties({flex:e});s.setLayoutProperties({flex:t})}else if(this.__isHorizontal){n.setWidth(e);s.setWidth(t)}else{n.setHeight(e);s.setHeight(t)}}},__computeSizes:function(){if(this.__isHorizontal)var e="minWidth",t="width",i="maxWidth",n=this.__lastPointerX;else e="minHeight",t="height",i="maxHeight",n=this.__lastPointerY;var s=this._getChildren(),r=s[2].getSizeHint(),o=s[3].getSizeHint(),a=s[2].getBounds()[t]+s[3].getBounds()[t],l=n-this.__splitterOffset,u=a-l;if(l<r[e]){u-=r[e]-l;l=r[e]}else if(u<o[e]){l-=o[e]-u;u=o[e]}if(l>r[i]){u+=l-r[i];l=r[i]}else if(u>o[i]){l+=u-o[i];u=o[i]}this.__beginSize=l;this.__endSize=u},_isActiveDragSession:function(){return this.__activeDragSession},_setLastPointerPosition:function(e,t){this.__lastPointerX=e;this.__lastPointerY=t}},destruct:function(){this.__children=null}});qx.ui.splitpane.Pane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.ISingleSelection":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.ui.tabview.Page":{},"qx.ui.container.SlideBar":{},"qx.ui.container.Stack":{},"qx.ui.form.RadioGroup":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tabview.TabView",{extend:qx.ui.core.Widget,implement:qx.ui.core.ISingleSelection,include:[qx.ui.core.MContentPadding],construct:function(e){qx.ui.core.Widget.constructor.call(this);this.__barPositionToState={top:"barTop",right:"barRight",bottom:"barBottom",left:"barLeft"};this._createChildControl("bar");this._createChildControl("pane");var t=this.__radioGroup=this._createRadioGroupInstance();t.setWrap(!1);t.addListener("changeSelection",this._onChangeSelection,this);null!=e?this.setBarPosition(e):this.initBarPosition()},events:{changeSelection:"qx.event.type.Data",changeValue:"qx.event.type.Data"},properties:{appearance:{refine:!0,init:"tabview"},barPosition:{check:["left","right","top","bottom"],init:"top",apply:"_applyBarPosition"}},members:{__radioGroup:null,setValue:function(e){if(null===e){this.resetSelection();return null}if(e instanceof qx.ui.tabview.Page){this.setSelection([e]);return null}return new TypeError("Given argument is not null or a {qx.ui.tabview.Page}.")},getValue:function(){var e=this.getSelection();return e.length?e[0]:null},resetValue:function(){this.resetSelection()},_createChildControlImpl:function(e,t){var i;switch(e){case"bar":(i=new qx.ui.container.SlideBar).setZIndex(10);this._add(i);break;case"pane":(i=new qx.ui.container.Stack).setZIndex(5);this._add(i,{flex:1})}return i||qx.ui.tabview.TabView.prototype._createChildControlImpl.base.call(this,e)},_createRadioGroupInstance:function(){return new qx.ui.form.RadioGroup},_getContentPaddingTarget:function(){return this.getChildControl("pane")},add:function(e){if(!(e instanceof qx.ui.tabview.Page))throw new Error("Incompatible child for TabView: "+e);var t=e.getButton(),i=this.getChildControl("bar"),n=this.getChildControl("pane");e.exclude();i.add(t);n.add(e);this.__radioGroup.add(t);e.addState(this.__barPositionToState[this.getBarPosition()]);e.addState("lastTab");var s=this.getChildren();s[0]==e?e.addState("firstTab"):s[s.length-2].removeState("lastTab");e.addListener("close",this._onPageClose,this)},addAt:function(e,t){if(!(e instanceof qx.ui.tabview.Page))throw new Error("Incompatible child for TabView: "+e);var i=this.getChildren();if(null!=t&&t>i.length)throw new Error("Index should be less than : "+i.length);null==t&&(t=i.length);var n=e.getButton(),s=this.getChildControl("bar"),r=this.getChildControl("pane");e.exclude();s.addAt(n,t);r.addAt(e,t);this.__radioGroup.add(n);e.addState(this.__barPositionToState[this.getBarPosition()]);t==(i=this.getChildren()).length-1&&e.addState("lastTab");i[0]==e?e.addState("firstTab"):i[i.length-2].removeState("lastTab");e.addListener("close",this._onPageClose,this)},remove:function(e){var t=this.getChildControl("pane"),i=this.getChildControl("bar"),n=e.getButton(),s=t.getChildren();if(this.getSelection()[0]==e){var r=s.indexOf(e);0==r?s[1]?this.setSelection([s[1]]):this.resetSelection():this.setSelection([s[r-1]])}i.remove(n);t.remove(e);this.__radioGroup.remove(n);e.removeState(this.__barPositionToState[this.getBarPosition()]);if(e.hasState("firstTab")){e.removeState("firstTab");s[0]&&s[0].addState("firstTab")}if(e.hasState("lastTab")){e.removeState("lastTab");s.length>0&&s[s.length-1].addState("lastTab")}e.removeListener("close",this._onPageClose,this)},getChildren:function(){return this.getChildControl("pane").getChildren()},indexOf:function(e){return this.getChildControl("pane").indexOf(e)},getRadioGroup:function(){return this.__radioGroup},__barPositionToState:null,_applyBarPosition:function(e,t){var i=this.getChildControl("bar"),n=this.getChildControl("pane"),s="left"==e||"right"==e,r="right"==e||"bottom"==e,o=s?qx.ui.layout.HBox:qx.ui.layout.VBox,a=this._getLayout();a&&a instanceof o||this._setLayout(a=new o);a.setReversed(r);i.setOrientation(s?"vertical":"horizontal");var l,u,c=this.getChildren();if(t){var d=this.__barPositionToState[t];i.removeState(d);n.removeState(d);for(l=0,u=c.length;l<u;l++)c[l].removeState(d)}if(e){var h=this.__barPositionToState[e];i.addState(h);n.addState(h);for(l=0,u=c.length;l<u;l++)c[l].addState(h)}},getSelection:function(){for(var e=this.__radioGroup.getSelection(),t=[],i=0;i<e.length;i++)t.push(e[i].getUserData("page"));return t},setSelection:function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].getChildControl("button"));this.__radioGroup.setSelection(t)},resetSelection:function(){this.__radioGroup.resetSelection()},isSelected:function(e){var t=e.getChildControl("button");return this.__radioGroup.isSelected(t)},isSelectionEmpty:function(){return this.__radioGroup.isSelectionEmpty()},getSelectables:function(e){for(var t=this.__radioGroup.getSelectables(e),i=[],n=0;n<t.length;n++)i.push(t[n].getUserData("page"));return i},_onChangeSelection:function(e){var t=this.getChildControl("pane"),i=e.getData()[0],n=e.getOldData()[0],s=[],r=[];if(i){s=[i.getUserData("page")];t.setSelection(s);this.scrollChildIntoView(i,null,null,!1)}else t.resetSelection();n&&(r=[n.getUserData("page")]);this.fireDataEvent("changeSelection",s,r)},_onBeforeChangeSelection:function(e){this.fireNonBubblingEvent("beforeChangeSelection",qx.event.type.Event,[!1,!0])||e.preventDefault()},_onRadioChangeSelection:function(e){var t=e.getData()[0];t?this.setSelection([t.getUserData("page")]):this.resetSelection()},_onPageClose:function(e){var t=e.getTarget();t.getButton().getChildControl("close-button").reset();this.remove(t)}},destruct:function(){this._disposeObjects("__radioGroup");this.__barPositionToState=null}});qx.ui.tabview.TabView.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.tabview.TabButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tabview.Page",{extend:qx.ui.container.Composite,construct:function(e,t){qx.ui.container.Composite.constructor.call(this);this._createChildControl("button");null!=e&&this.setLabel(e);null!=t&&this.setIcon(t)},events:{close:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"tabview-page"},label:{check:"String",init:"",apply:"_applyLabel"},icon:{check:"String",init:"",apply:"_applyIcon",nullable:!0},showCloseButton:{check:"Boolean",init:!1,apply:"_applyShowCloseButton"}},members:{_forwardStates:{barTop:1,barRight:1,barBottom:1,barLeft:1,firstTab:1,lastTab:1},_applyIcon:function(e,t){var i=this.getChildControl("button");if(e){i.setIcon(e);i._showChildControl("icon")}else i._excludeChildControl("icon")},_applyLabel:function(e,t){this.getChildControl("button").setLabel(e)},_applyEnabled:function(e,t){qx.ui.tabview.Page.prototype._applyEnabled.base.call(this,e,t);var i=this.getChildControl("button");null==e?i.resetEnabled():i.setEnabled(e)},_createChildControlImpl:function(e,t){var i;switch(e){case"button":(i=new qx.ui.tabview.TabButton).setAllowGrowX(!0);i.setAllowGrowY(!0);i.setUserData("page",this);i.addListener("close",this._onButtonClose,this)}return i||qx.ui.tabview.Page.prototype._createChildControlImpl.base.call(this,e)},_applyShowCloseButton:function(e,t){this.getChildControl("button").setShowCloseButton(e)},_onButtonClose:function(){this.fireEvent("close")},getButton:function(){return this.getChildControl("button")}}});qx.ui.tabview.Page.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.Button":{construct:!0,require:!0},"qx.ui.toolbar.PartContainer":{},"qx.ui.core.queue.Appearance":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.Button",{extend:qx.ui.form.Button,construct:function(e,t,i){qx.ui.form.Button.constructor.call(this,e,t,i);this.removeListener("keydown",this._onKeyDown);this.removeListener("keyup",this._onKeyUp)},properties:{appearance:{refine:!0,init:"toolbar-button"},show:{refine:!0,init:"inherit"},focusable:{refine:!0,init:!1}},members:{_applyVisibility:function(e,t){qx.ui.toolbar.Button.prototype._applyVisibility.base.call(this,e,t);var i=this.getLayoutParent();i&&i instanceof qx.ui.toolbar.PartContainer&&qx.ui.core.queue.Appearance.add(i)}}});qx.ui.toolbar.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.ToggleButton":{construct:!0,require:!0},"qx.ui.toolbar.PartContainer":{},"qx.ui.core.queue.Appearance":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.CheckBox",{extend:qx.ui.form.ToggleButton,construct:function(e,t){qx.ui.form.ToggleButton.constructor.call(this,e,t);this.removeListener("keydown",this._onKeyDown);this.removeListener("keyup",this._onKeyUp)},properties:{appearance:{refine:!0,init:"toolbar-button"},show:{refine:!0,init:"inherit"},focusable:{refine:!0,init:!1}},members:{_applyVisibility:function(e,t){qx.ui.toolbar.CheckBox.prototype._applyVisibility.base.call(this,e,t);var i=this.getLayoutParent();i&&i instanceof qx.ui.toolbar.PartContainer&&qx.ui.core.queue.Appearance.add(i)}}});qx.ui.toolbar.CheckBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.basic.Image":{},"qx.ui.toolbar.PartContainer":{},"qx.ui.toolbar.Separator":{},"qx.ui.menubar.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.Part",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.HBox);this._createChildControl("handle")},properties:{appearance:{refine:!0,init:"toolbar/part"},show:{init:"both",check:["both","label","icon"],inheritable:!0,event:"changeShow"},spacing:{nullable:!0,check:"Integer",themeable:!0,apply:"_applySpacing"}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"handle":(i=new qx.ui.basic.Image).setAlignY("middle");this._add(i);break;case"container":(i=new qx.ui.toolbar.PartContainer).addListener("syncAppearance",this.__onSyncAppearance,this);this._add(i);i.addListener("changeChildren",function(){this.__onSyncAppearance()},this)}return i||qx.ui.toolbar.Part.prototype._createChildControlImpl.base.call(this,e)},getChildrenContainer:function(){return this.getChildControl("container")},_applySpacing:function(e,t){var i=this.getChildControl("container").getLayout();null==e?i.resetSpacing():i.setSpacing(e)},__onSyncAppearance:function(){var e=this.getChildrenContainer().getChildren();e=e.filter(function(e){return"visible"==e.getVisibility()});for(var t=0;t<e.length;t++)if(0==t&&t!=e.length-1){e[t].addState("left");e[t].removeState("right");e[t].removeState("middle")}else if(t==e.length-1&&0!=t){e[t].addState("right");e[t].removeState("left");e[t].removeState("middle")}else if(0==t&&t==e.length-1){e[t].removeState("left");e[t].removeState("middle");e[t].removeState("right")}else{e[t].addState("middle");e[t].removeState("right");e[t].removeState("left")}},addSeparator:function(){this.add(new qx.ui.toolbar.Separator)},getMenuButtons:function(){for(var e,t=this.getChildren(),i=[],n=0,s=t.length;n<s;n++)(e=t[n])instanceof qx.ui.menubar.Button&&i.push(e);return i}}});qx.ui.toolbar.Part.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.HBox":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.PartContainer",{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.constructor.call(this);this._setLayout(new qx.ui.layout.HBox)},events:{changeChildren:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"toolbar/part/container"},show:{init:"both",check:["both","label","icon"],inheritable:!0,event:"changeShow"}},members:{_afterAddChild:function(e){this.fireEvent("changeChildren")},_afterRemoveChild:function(e){this.fireEvent("changeChildren")}}});qx.ui.toolbar.PartContainer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.toolbar.CheckBox":{require:!0},"qx.ui.form.MModelProperty":{require:!0},"qx.ui.form.IModel":{require:!0},"qx.ui.form.IRadioItem":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.RadioButton",{extend:qx.ui.toolbar.CheckBox,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IModel,qx.ui.form.IRadioItem],members:{_applyValue:function(e,t){qx.ui.toolbar.RadioButton.prototype._applyValue.base.call(this,e,t);if(e){var i=this.getGroup();i&&i.setSelection([this])}},_onExecute:function(e){var t=this.getGroup();t&&t.getAllowEmptySelection()?this.toggleValue():this.setValue(!0)}}});qx.ui.toolbar.RadioButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.Separator",{extend:qx.ui.core.Widget,properties:{appearance:{refine:!0,init:"toolbar-separator"},anonymous:{refine:!0,init:!0},width:{refine:!0,init:0},height:{refine:!0,init:0}}});qx.ui.toolbar.Separator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.util.PropertyUtil":{},"qx.ui.core.Spacer":{},"qx.ui.toolbar.Separator":{},"qx.ui.menubar.Button":{},"qx.ui.toolbar.Part":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.ToolBar",{extend:qx.ui.core.Widget,include:qx.ui.core.MChildrenHandling,construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.HBox);this.__removedItems=[];this.__removePriority=[]},properties:{appearance:{refine:!0,init:"toolbar"},openMenu:{check:"qx.ui.menu.Menu",event:"changeOpenMenu",nullable:!0},show:{init:"both",check:["both","label","icon"],inheritable:!0,apply:"_applyShow",event:"changeShow"},spacing:{nullable:!0,check:"Integer",themeable:!0,apply:"_applySpacing"},overflowIndicator:{check:"qx.ui.core.Widget",nullable:!0,apply:"_applyOverflowIndicator"},overflowHandling:{init:!1,check:"Boolean",apply:"_applyOverflowHandling"}},events:{hideItem:"qx.event.type.Data",showItem:"qx.event.type.Data"},members:{__removedItems:null,__removePriority:null,_computeSizeHint:function(){var e=qx.ui.toolbar.ToolBar.prototype._computeSizeHint.base.call(this);if(this.getOverflowHandling()){var t=0,i=this.getOverflowIndicator();i&&(t=i.getSizeHint().width+this.getSpacing());e.minWidth=t}return e},_onResize:function(e){this._recalculateOverflow(e.getData().width)},_recalculateOverflow:function(e,t){if(this.getOverflowHandling()){t=t||this.getSizeHint().width;var i=this.getOverflowIndicator(),n=0;i&&(n=i.getSizeHint().width);void 0==e&&null!=this.getBounds()&&(e=this.getBounds().width);if(void 0!=e)if(e<t)do{var s=this._getNextToHide();if(!s)return;var r=s.getMarginLeft()+s.getMarginRight();r=Math.max(r,this.getSpacing());var o=s.getSizeHint().width+r;this.__hideChild(s);t-=o;if(i&&"visible"!=i.getVisibility()){i.setVisibility("visible");t+=n;var a=i.getMarginLeft()+i.getMarginRight();t+=Math.max(a,this.getSpacing())}}while(t>e);else if(this.__removedItems.length>0)do{var l=this.__removedItems[0];if(l){r=l.getMarginLeft()+l.getMarginRight();r=Math.max(r,this.getSpacing());if(null==l.getContentElement().getDomElement()){l.syncAppearance();l.invalidateLayoutCache()}var u=l.getSizeHint().width,c=!1;if(1==this.__removedItems.length&&n>0){c=e>t-n+u+(r-this.getSpacing())}if(!(e>t+u+r||c))return;this.__showChild(l);t+=u;i&&0==this.__removedItems.length&&i.setVisibility("excluded")}}while(e>=t&&this.__removedItems.length>0)}},__showChild:function(e){e.setVisibility("visible");this.__removedItems.shift();this.fireDataEvent("showItem",e)},__hideChild:function(e){if(e){this.__removedItems.unshift(e);e.setVisibility("excluded");this.fireDataEvent("hideItem",e)}},_getNextToHide:function(){for(var e=this.__removePriority.length-1;e>=0;e--){var t=this.__removePriority[e];if(t&&t.getVisibility&&"visible"==t.getVisibility())return t}var i=this._getChildren();for(e=i.length-1;e>=0;e--){var n=i[e];if(n!=this.getOverflowIndicator()&&(n.getVisibility&&"visible"==n.getVisibility()))return n}},setRemovePriority:function(e,t,i){if(!i&&void 0!=this.__removePriority[t])throw new Error("Priority already in use!");this.__removePriority[t]=e},_applyOverflowHandling:function(e,t){this.invalidateLayoutCache();var i=this.getLayoutParent();i&&i.invalidateLayoutCache();var n=this.getBounds();n&&n.width&&this._recalculateOverflow(n.width);if(e)this.addListener("resize",this._onResize,this);else{this.removeListener("resize",this._onResize,this);var s=this.getOverflowIndicator();s&&s.setVisibility("excluded");for(var r=0;r<this.__removedItems.length;r++)this.__removedItems[r].setVisibility("visible");this.__removedItems=[]}},_applyOverflowIndicator:function(e,t){t&&this._remove(t);if(e){if(-1==this._indexOf(e))throw new Error("Widget must be child of the toolbar.");e.setVisibility("excluded")}},__allowMenuOpenHover:!1,_setAllowMenuOpenHover:function(e){this.__allowMenuOpenHover=e},_isAllowMenuOpenHover:function(){return this.__allowMenuOpenHover},_applySpacing:function(e,t){var i=this._getLayout();null==e?i.resetSpacing():i.setSpacing(e)},_applyShow:function(e){for(var t=this._getChildren(),i=0;i<t.length;i++)t[i].setShow&&t[i].setShow(e)},_add:function(e,t){qx.ui.toolbar.ToolBar.prototype._add.base.call(this,e,t);e.setShow&&!qx.util.PropertyUtil.getUserValue(e,"show")&&e.setShow(this.getShow());var i=this.getSizeHint().width+e.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,i)},_addAt:function(e,t,i){qx.ui.toolbar.ToolBar.prototype._addAt.base.call(this,e,t,i);e.setShow&&!qx.util.PropertyUtil.getUserValue(e,"show")&&e.setShow(this.getShow());var n=this.getSizeHint().width+e.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,n)},_addBefore:function(e,t,i){qx.ui.toolbar.ToolBar.prototype._addBefore.base.call(this,e,t,i);e.setShow&&!qx.util.PropertyUtil.getUserValue(e,"show")&&e.setShow(this.getShow());var n=this.getSizeHint().width+e.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,n)},_addAfter:function(e,t,i){qx.ui.toolbar.ToolBar.prototype._addAfter.base.call(this,e,t,i);e.setShow&&!qx.util.PropertyUtil.getUserValue(e,"show")&&e.setShow(this.getShow());var n=this.getSizeHint().width+e.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,n)},_remove:function(e){qx.ui.toolbar.ToolBar.prototype._remove.base.call(this,e);var t=this.getSizeHint().width-e.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,t)},_removeAt:function(e){var t=this._getChildren()[e];qx.ui.toolbar.ToolBar.prototype._removeAt.base.call(this,e);var i=this.getSizeHint().width-t.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,i);return t},_removeAll:function(){var e=qx.ui.toolbar.ToolBar.prototype._removeAll.base.call(this);this._recalculateOverflow(null,0);return e},addSpacer:function(){var e=new qx.ui.core.Spacer;this._add(e,{flex:1});return e},addSeparator:function(){this.add(new qx.ui.toolbar.Separator)},getMenuButtons:function(){for(var e,t=this.getChildren(),i=[],n=0,s=t.length;n<s;n++)(e=t[n])instanceof qx.ui.menubar.Button?i.push(e):e instanceof qx.ui.toolbar.Part&&i.push.apply(i,e.getMenuButtons());return i}},destruct:function(){this.hasListener("resize")&&this.removeListener("resize",this._onResize,this)}});qx.ui.toolbar.ToolBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.MenuButton":{construct:!0,require:!0},"qx.ui.toolbar.ToolBar":{},"qx.ui.menu.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menubar.Button",{extend:qx.ui.form.MenuButton,construct:function(e,t,i){qx.ui.form.MenuButton.constructor.call(this,e,t,i);this.removeListener("keydown",this._onKeyDown);this.removeListener("keyup",this._onKeyUp)},properties:{appearance:{refine:!0,init:"menubar-button"},show:{refine:!0,init:"inherit"},focusable:{refine:!0,init:!1}},members:{getMenuBar:function(){for(var e=this;e;){if(e instanceof qx.ui.toolbar.ToolBar)return e;e=e.getLayoutParent()}return null},open:function(e){qx.ui.menubar.Button.prototype.open.base.call(this,e);var t=this.getMenuBar();t&&t._setAllowMenuOpenHover(!0)},_onMenuChange:function(e){var t=this.getMenu(),i=this.getMenuBar();if(t.isVisible()){this.addState("pressed");i&&i.setOpenMenu(t)}else{this.removeState("pressed");if(i&&i.getOpenMenu()==t){i.resetOpenMenu();i._setAllowMenuOpenHover(!1)}}},_onPointerUp:function(e){qx.ui.menubar.Button.prototype._onPointerUp.base.call(this,e);var t=this.getMenu();t&&t.isVisible()&&!this.hasState("pressed")&&this.addState("pressed")},_onPointerOver:function(e){this.addState("hovered");if(this.getMenu()&&"mouse"==e.getPointerType()){var t=this.getMenuBar();if(t&&t._isAllowMenuOpenHover()){qx.ui.menu.Manager.getInstance().hideAll();t._setAllowMenuOpenHover(!0);this.isEnabled()&&this.open()}}}}});qx.ui.menubar.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.menubar.Button":{require:!0},"qx.ui.toolbar.PartContainer":{},"qx.ui.core.queue.Appearance":{},"qx.ui.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.MenuButton",{extend:qx.ui.menubar.Button,properties:{appearance:{refine:!0,init:"toolbar-menubutton"},showArrow:{check:"Boolean",init:!1,themeable:!0,apply:"_applyShowArrow"}},members:{_applyVisibility:function(e,t){qx.ui.toolbar.MenuButton.prototype._applyVisibility.base.call(this,e,t);var i=this.getMenu();"visible"!=e&&i&&i.hide();var n=this.getLayoutParent();n&&n instanceof qx.ui.toolbar.PartContainer&&qx.ui.core.queue.Appearance.add(n)},_createChildControlImpl:function(e,t){var i;switch(e){case"arrow":(i=new qx.ui.basic.Image).setAnonymous(!0);this._addAt(i,10)}return i||qx.ui.toolbar.MenuButton.prototype._createChildControlImpl.base.call(this,e)},_applyShowArrow:function(e,t){e?this._showChildControl("arrow"):this._excludeChildControl("arrow")}}});qx.ui.toolbar.MenuButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.SplitButton":{construct:!0,require:!0},"qx.ui.toolbar.Button":{},"qx.ui.toolbar.MenuButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.toolbar.SplitButton",{extend:qx.ui.form.SplitButton,construct:function(e,t,i,n){qx.ui.form.SplitButton.constructor.call(this,e,t,i,n);this.removeListener("keydown",this._onKeyDown);this.removeListener("keyup",this._onKeyUp)},properties:{appearance:{refine:!0,init:"toolbar-splitbutton"},focusable:{refine:!0,init:!1}},members:{_forwardStates:{hovered:!0,focused:!0,left:!0,middle:!0,right:!0},_createChildControlImpl:function(e,t){var i;switch(e){case"button":(i=new qx.ui.toolbar.Button).addListener("execute",this._onButtonExecute,this);this._addAt(i,0);break;case"arrow":i=new qx.ui.toolbar.MenuButton;this._addAt(i,1)}return i||qx.ui.toolbar.SplitButton.prototype._createChildControlImpl.base.call(this,e)}}});qx.ui.toolbar.SplitButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.popup.Popup":{construct:!0,require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.basic.Atom":{},"qx.ui.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tooltip.ToolTip",{extend:qx.ui.popup.Popup,construct:function(e,t){qx.ui.popup.Popup.constructor.call(this);this.setLayout(new qx.ui.layout.HBox);this._createChildControl("arrow");this._createChildControl("atom");null!=e&&this.setLabel(e);null!=t&&this.setIcon(t);this.addListener("pointerover",this._onPointerOver,this)},properties:{appearance:{refine:!0,init:"tooltip"},showTimeout:{check:"Integer",init:700,themeable:!0},hideTimeout:{check:"Integer",init:4e3,themeable:!0},label:{check:"String",nullable:!0,apply:"_applyLabel"},icon:{check:"String",nullable:!0,apply:"_applyIcon",themeable:!0},rich:{check:"Boolean",init:!1,apply:"_applyRich"},opener:{check:"qx.ui.core.Widget",nullable:!0},arrowPosition:{check:["left","right"],init:"left",themeable:!0,apply:"_applyArrowPosition"}},members:{_forwardStates:{placementLeft:!0},_createChildControlImpl:function(e,t){var i;switch(e){case"atom":i=new qx.ui.basic.Atom;this._add(i,{flex:1});break;case"arrow":i=new qx.ui.basic.Image;this._add(i)}return i||qx.ui.tooltip.ToolTip.prototype._createChildControlImpl.base.call(this,e)},_onPointerOver:function(e){},_applyIcon:function(e,t){var i=this.getChildControl("atom");null==e?i.resetIcon():i.setIcon(e)},_applyLabel:function(e,t){var i=this.getChildControl("atom");null==e?i.resetLabel():i.setLabel(e)},_applyRich:function(e,t){this.getChildControl("atom").setRich(e)},_applyArrowPosition:function(e,t){this._getLayout().setReversed("left"==e)}}});qx.ui.tooltip.ToolTip.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.tree.core.AbstractTreeItem":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.TreeFile",{extend:qx.ui.tree.core.AbstractTreeItem,properties:{appearance:{refine:!0,init:"tree-file"}},members:{_addWidgets:function(){this.addSpacer();this.addIcon();this.addLabel()}}});qx.ui.tree.TreeFile.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MLayoutHandling":{require:!0},"qx.ui.form.MModelSelection":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IField":{require:!0},"qx.ui.core.ISingleSelection":{require:!0},"qx.ui.form.IModelSelection":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.form.RadioGroup":{construct:!0},"qx.ui.form.IRadioItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.RadioButtonGroup",{extend:qx.ui.core.Widget,include:[qx.ui.core.MLayoutHandling,qx.ui.form.MModelSelection],implement:[qx.ui.form.IForm,qx.ui.form.IField,qx.ui.core.ISingleSelection,qx.ui.form.IModelSelection],construct:function(e){qx.ui.core.Widget.constructor.call(this);null==e?this.setLayout(new qx.ui.layout.VBox(4)):this.setLayout(e);this.__radioGroup=new qx.ui.form.RadioGroup;this.__radioGroup.addListener("changeSelection",this._onChangeSelection,this)},properties:{valid:{check:"Boolean",init:!0,apply:"_applyValid",event:"changeValid"},required:{check:"Boolean",init:!1,event:"changeRequired"},invalidMessage:{check:"String",init:"",event:"changeInvalidMessage",apply:"_applyInvalidMessage"},requiredInvalidMessage:{check:"String",nullable:!0,event:"changeInvalidMessage"}},events:{changeValue:"qx.event.type.Data",changeSelection:"qx.event.type.Data"},members:{__radioGroup:null,_applyInvalidMessage:function(e,t){for(var i=this._getChildren(),n=0;n<i.length;n++)i[n].setInvalidMessage(e)},_applyValid:function(e,t){for(var i=this._getChildren(),n=0;n<i.length;n++)i[n].setValid(e)},getRadioGroup:function(){return this.__radioGroup},getChildren:function(){return this._getChildren()},add:function(e,t){this.__radioGroup.add(e);this._add(e,t)},remove:function(e){this.__radioGroup.remove(e);this._remove(e)},removeAll:function(){for(var e=this.__radioGroup.getItems(),t=e.length-1;t>=0;t--)this.__radioGroup.remove(e[t]);return this._removeAll()},getSelection:function(){return this.__radioGroup.getSelection()},setSelection:function(e){this.__radioGroup.setSelection(e)},resetSelection:function(){this.__radioGroup.resetSelection()},isSelected:function(e){return this.__radioGroup.isSelected(e)},isSelectionEmpty:function(){return this.__radioGroup.isSelectionEmpty()},getSelectables:function(e){return this.__radioGroup.getSelectables(e)},setValue:function(e){return e&&"object"===_typeof(e)&&e instanceof qx.ui.form.IRadioItem?this.__radioGroup.setValue(e):new Error("can not select radio item from value")},getValue:function(){return this.__radioGroup.getValue()},resetValue:function(){this.__radioGroup.resetValue()},_onChangeSelection:function(e){this.fireDataEvent("changeValue",e.getData(),e.getOldData());this.fireDataEvent("changeSelection",e.getData(),e.getOldData())}},destruct:function(){this.__radioGroup.removeListener("changeSelection",this._onChangeSelection,this);this._disposeObjects("__radioGroup")}});qx.ui.form.RadioButtonGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{},"qx.core.Init":{},"qx.Class":{},"qx.ui.window.IDesktop":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.core.MMovable",{properties:{movable:{check:"Boolean",init:!0},useMoveFrame:{check:"Boolean",init:!1}},members:{__moveHandle:null,__moveFrame:null,__dragRange:null,__dragLeft:null,__dragTop:null,__parentLeft:null,__parentTop:null,__blockerAdded:!1,__oldBlockerColor:null,__oldBlockerOpacity:0,_activateMoveHandle:function(e){if(this.__moveHandle)throw new Error("The move handle could not be redefined!");this.__moveHandle=e;e.addListener("pointerdown",this._onMovePointerDown,this);e.addListener("pointerup",this._onMovePointerUp,this);e.addListener("pointermove",this._onMovePointerMove,this);e.addListener("losecapture",this.__onMoveLoseCapture,this)},__getMoveFrame:function(){var e=this.__moveFrame;if(!e){(e=this.__moveFrame=new qx.ui.core.Widget).setAppearance("move-frame");e.exclude();qx.core.Init.getApplication().getRoot().add(e)}return e},__showMoveFrame:function(){var e=this.getContentLocation(),t=this.getBounds(),i=this.__getMoveFrame();i.setUserBounds(e.left,e.top,t.width,t.height);i.show();i.setZIndex(this.getZIndex()+1)},__computeMoveCoordinates:function(e){var t=this.__dragRange,i=Math.max(t.left,Math.min(t.right,e.getDocumentLeft())),n=Math.max(t.top,Math.min(t.bottom,e.getDocumentTop())),s=this.__dragLeft+i,r=this.__dragTop+n;return{viewportLeft:parseInt(s,10),viewportTop:parseInt(r,10),parentLeft:parseInt(s-this.__parentLeft,10),parentTop:parseInt(r-this.__parentTop,10)}},_onMoveRoll:function(e){e.stop()},_onMovePointerDown:function(e){if(this.getMovable()&&!this.hasState("maximized")){this.addListener("roll",this._onMoveRoll,this);var t=this.getLayoutParent(),i=t.getContentLocation(),n=t.getBounds();if(qx.Class.implementsInterface(t,qx.ui.window.IDesktop)&&!t.isBlocked()){this.__oldBlockerColor=t.getBlockerColor();this.__oldBlockerOpacity=t.getBlockerOpacity();t.setBlockerColor(null);t.setBlockerOpacity(1);t.blockContent(this.getZIndex()-1);this.__blockerAdded=!0}this.__dragRange={left:i.left,top:i.top,right:i.left+n.width,bottom:i.top+n.height};var s=this.getContentLocation();this.__parentLeft=i.left;this.__parentTop=i.top;this.__dragLeft=s.left-e.getDocumentLeft();this.__dragTop=s.top-e.getDocumentTop();this.addState("move");this.__moveHandle.capture();this.getUseMoveFrame()&&this.__showMoveFrame();e.stop()}},_onMovePointerMove:function(e){if(this.hasState("move")){var t=this.__computeMoveCoordinates(e);if(this.getUseMoveFrame())this.__getMoveFrame().setDomPosition(t.viewportLeft,t.viewportTop);else{var i=this.getLayoutParent().getInsets();this.setDomPosition(t.parentLeft-(i.left||0),t.parentTop-(i.top||0))}e.stopPropagation()}},_onMovePointerUp:function(e){this.hasListener("roll")&&this.removeListener("roll",this._onMoveRoll,this);if(this.hasState("move")){this.removeState("move");var t=this.getLayoutParent();if(qx.Class.implementsInterface(t,qx.ui.window.IDesktop)&&this.__blockerAdded){t.unblock();t.setBlockerColor(this.__oldBlockerColor);t.setBlockerOpacity(this.__oldBlockerOpacity);this.__oldBlockerColor=null;this.__oldBlockerOpacity=0;this.__blockerAdded=!1}this.__moveHandle.releaseCapture();var i=this.__computeMoveCoordinates(e),n=this.getLayoutParent().getInsets();this.setLayoutProperties({left:i.parentLeft-(n.left||0),top:i.parentTop-(n.top||0)});this.getUseMoveFrame()&&this.__getMoveFrame().exclude();e.stopPropagation()}},__onMoveLoseCapture:function(e){if(this.hasState("move")){this.removeState("move");this.getUseMoveFrame()&&this.__getMoveFrame().exclude()}}},destruct:function(){this._disposeObjects("__moveFrame","__moveHandle");this.__dragRange=null}});qx.ui.core.MMovable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.window.IDesktop":{},"qx.ui.window.Window":{}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.window.IWindowManager",{members:{setDesktop:function(e){null!==e&&this.assertInterface(e,qx.ui.window.IDesktop)},changeActiveWindow:function(e,t){},updateStack:function(){},bringToFront:function(e){this.assertInstance(e,qx.ui.window.Window)},sendToBack:function(e){this.assertInstance(e,qx.ui.window.Window)}}});qx.ui.window.IWindowManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.window.IWindowManager":{require:!0},"qx.ui.core.queue.Widget":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.window.Manager",{extend:qx.core.Object,implement:qx.ui.window.IWindowManager,members:{__desktop:null,setDesktop:function(e){this.__desktop=e;e?this.updateStack():qx.ui.core.queue.Widget.remove(this)},getDesktop:function(){return this.__desktop},changeActiveWindow:function(e,t){if(e){this.bringToFront(e);e.setActive(!0)}t&&t.resetActive()},_minZIndex:1e5,updateStack:function(){qx.ui.core.queue.Widget.add(this)},syncWidget:function(){this.__desktop.forceUnblock();for(var e=this.__desktop.getWindows(),t=this._minZIndex,i=t+2*e.length,n=t+4*e.length,s=null,r=0,o=e.length;r<o;r++){var a=e[r];if(a.isVisible()){s=s||a;if(a.isModal()){a.setZIndex(n);this.__desktop.blockContent(n-1);n+=2;s=a}else if(a.isAlwaysOnTop()){a.setZIndex(i);i+=2}else{a.setZIndex(t);t+=2}(!s.isModal()&&a.isActive()||a.getZIndex()>s.getZIndex())&&(s=a)}}this.__desktop.setActiveWindow(s)},bringToFront:function(e){var t=this.__desktop.getWindows();if(qx.lang.Array.remove(t,e)){t.push(e);this.updateStack()}},sendToBack:function(e){var t=this.__desktop.getWindows();if(qx.lang.Array.remove(t,e)){t.unshift(e);this.updateStack()}}},destruct:function(){this._disposeObjects("__desktop")}});qx.ui.window.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.core.MRemoteLayoutHandling":{require:!0},"qx.ui.core.MResizable":{require:!0},"qx.ui.core.MMovable":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.core.Init":{construct:!0},"qx.ui.core.FocusHandler":{construct:!0},"qx.ui.window.Manager":{require:!0},"qx.ui.window.IDesktop":{},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.basic.Label":{},"qx.ui.layout.Grid":{},"qx.ui.basic.Image":{},"qx.ui.form.Button":{},"qx.event.type.Event":{},"qx.bom.client.Engine":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.window.Window",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.core.MRemoteLayoutHandling,qx.ui.core.MResizable,qx.ui.core.MMovable,qx.ui.core.MContentPadding],construct:function(e,t){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.VBox);this._createChildControl("captionbar");this._createChildControl("pane");null!=t&&this.setIcon(t);null!=e&&this.setCaption(e);this._updateCaptionBar();this.addListener("pointerdown",this._onWindowPointerDown,this,!0);this.addListener("focusout",this._onWindowFocusOut,this);qx.core.Init.getApplication().getRoot().add(this);this.initVisibility();qx.ui.core.FocusHandler.getInstance().addRoot(this);this._getResizeFrame().setAppearance("window-resize-frame")},statics:{DEFAULT_MANAGER_CLASS:qx.ui.window.Manager},events:{beforeClose:"qx.event.type.Event",close:"qx.event.type.Event",beforeMinimize:"qx.event.type.Event",minimize:"qx.event.type.Event",beforeMaximize:"qx.event.type.Event",maximize:"qx.event.type.Event",beforeRestore:"qx.event.type.Event",restore:"qx.event.type.Event"},properties:{appearance:{refine:!0,init:"window"},visibility:{refine:!0,init:"excluded"},focusable:{refine:!0,init:!0},active:{check:"Boolean",init:!1,apply:"_applyActive",event:"changeActive"},alwaysOnTop:{check:"Boolean",init:!1,event:"changeAlwaysOnTop"},modal:{check:"Boolean",init:!1,event:"changeModal",apply:"_applyModal"},caption:{apply:"_applyCaptionBarChange",event:"changeCaption",nullable:!0},icon:{check:"String",nullable:!0,apply:"_applyCaptionBarChange",event:"changeIcon",themeable:!0},status:{check:"String",nullable:!0,apply:"_applyStatus",event:"changeStatus"},showClose:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange",themeable:!0},showMaximize:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange",themeable:!0},showMinimize:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange",themeable:!0},allowClose:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange"},allowMaximize:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange"},allowMinimize:{check:"Boolean",init:!0,apply:"_applyCaptionBarChange"},showStatusbar:{check:"Boolean",init:!1,apply:"_applyShowStatusbar"},centerOnAppear:{init:!1,check:"Boolean",apply:"_applyCenterOnAppear"},centerOnContainerResize:{init:!1,check:"Boolean",apply:"_applyCenterOnContainerResize"},autoDestroy:{check:"Boolean",init:!1}},members:{__restoredTop:null,__restoredLeft:null,__centeringAppearId:null,__centeringResizeId:null,getChildrenContainer:function(){return this.getChildControl("pane")},_forwardStates:{active:!0,maximized:!0,showStatusbar:!0,modal:!0},setLayoutParent:function(e){var t;e&&this.assertInterface(e,qx.ui.window.IDesktop,"Windows can only be added to widgets, which implement the interface qx.ui.window.IDesktop. All root widgets implement this interface.");if((t=this.getLayoutParent())&&this.__centeringResizeId){t.removeListenerById(this.__centeringResizeId);this.__centeringResizeId=null}qx.ui.window.Window.prototype.setLayoutParent.base.call(this,e);e&&this.getCenterOnContainerResize()&&(this.__centeringResizeId=e.addListener("resize",this.center,this))},_createChildControlImpl:function(e,t){var i;switch(e){case"statusbar":i=new qx.ui.container.Composite(new qx.ui.layout.HBox);this._add(i);i.add(this.getChildControl("statusbar-text"));break;case"statusbar-text":(i=new qx.ui.basic.Label).setValue(this.getStatus());break;case"pane":i=new qx.ui.container.Composite;this._add(i,{flex:1});break;case"captionbar":var n=new qx.ui.layout.Grid;n.setRowFlex(0,1);n.setColumnFlex(1,1);i=new qx.ui.container.Composite(n);this._add(i);i.addListener("dbltap",this._onCaptionPointerDblTap,this);this._activateMoveHandle(i);break;case"icon":i=new qx.ui.basic.Image(this.getIcon());this.getChildControl("captionbar").add(i,{row:0,column:0});break;case"title":(i=new qx.ui.basic.Label(this.getCaption())).setWidth(0);i.setAllowGrowX(!0);this.getChildControl("captionbar").add(i,{row:0,column:1});break;case"minimize-button":(i=new qx.ui.form.Button).setFocusable(!1);i.addListener("execute",this._onMinimizeButtonTap,this);this.getChildControl("captionbar").add(i,{row:0,column:2});break;case"restore-button":(i=new qx.ui.form.Button).setFocusable(!1);i.addListener("execute",this._onRestoreButtonTap,this);this.getChildControl("captionbar").add(i,{row:0,column:3});break;case"maximize-button":(i=new qx.ui.form.Button).setFocusable(!1);i.addListener("execute",this._onMaximizeButtonTap,this);this.getChildControl("captionbar").add(i,{row:0,column:4});break;case"close-button":(i=new qx.ui.form.Button).setFocusable(!1);i.addListener("execute",this._onCloseButtonTap,this);this.getChildControl("captionbar").add(i,{row:0,column:6})}return i||qx.ui.window.Window.prototype._createChildControlImpl.base.call(this,e)},_updateCaptionBar:function(){var e,t=this.getIcon();if(t){this.getChildControl("icon").setSource(t);this._showChildControl("icon")}else this._excludeChildControl("icon");var i=this.getCaption();if(i){this.getChildControl("title").setValue(i);this._showChildControl("title")}else this._excludeChildControl("title");if(this.getShowMinimize()){this._showChildControl("minimize-button");e=this.getChildControl("minimize-button");this.getAllowMinimize()?e.resetEnabled():e.setEnabled(!1)}else this._excludeChildControl("minimize-button");if(this.getShowMaximize()){if(this.isMaximized()){this._showChildControl("restore-button");this._excludeChildControl("maximize-button")}else{this._showChildControl("maximize-button");this._excludeChildControl("restore-button")}e=this.getChildControl("maximize-button");this.getAllowMaximize()?e.resetEnabled():e.setEnabled(!1)}else{this._excludeChildControl("maximize-button");this._excludeChildControl("restore-button")}if(this.getShowClose()){this._showChildControl("close-button");e=this.getChildControl("close-button");this.getAllowClose()?e.resetEnabled():e.setEnabled(!1)}else this._excludeChildControl("close-button")},close:function(){if(this.getAutoDestroy()||this.isVisible()){if(this.fireNonBubblingEvent("beforeClose",qx.event.type.Event,[!1,!0])){this.hide();this.fireEvent("close")}this.getAutoDestroy()&&this.dispose()}},open:function(){this.show();this.setActive(!0);this.focus()},center:function(){var e=this.getLayoutParent();if(e){var t=e.getBounds();if(t){var i=this.getSizeHint(),n=Math.round((t.width-i.width)/2),s=Math.round((t.height-i.height)/2);s<0&&(s=0);this.moveTo(n,s);return}}this.warn("Centering depends on parent bounds!")},maximize:function(){if(!this.isMaximized()){var e=this.getLayoutParent();if(null!=e&&e.supportsMaximize()&&this.fireNonBubblingEvent("beforeMaximize",qx.event.type.Event,[!1,!0])){this.isVisible()||this.open();var t=this.getLayoutProperties();this.__restoredLeft=void 0===t.left?0:t.left;this.__restoredTop=void 0===t.top?0:t.top;this.setLayoutProperties({left:null,top:null,edge:0});this.addState("maximized");this._updateCaptionBar();this.fireEvent("maximize")}}},minimize:function(){if(this.isVisible()&&this.fireNonBubblingEvent("beforeMinimize",qx.event.type.Event,[!1,!0])){var e=this.getLayoutProperties();this.__restoredLeft=void 0===e.left?0:e.left;this.__restoredTop=void 0===e.top?0:e.top;this.removeState("maximized");this.hide();this.fireEvent("minimize")}},restore:function(){if("normal"!==this.getMode()&&this.fireNonBubblingEvent("beforeRestore",qx.event.type.Event,[!1,!0])){this.isVisible()||this.open();var e=this.__restoredLeft,t=this.__restoredTop;this.setLayoutProperties({edge:null,left:e,top:t});this.removeState("maximized");this._updateCaptionBar();this.fireEvent("restore")}},moveTo:function(e,t){this.isMaximized()||this.setLayoutProperties({left:e,top:t})},isMaximized:function(){return this.hasState("maximized")},getMode:function(){return this.isVisible()?this.isMaximized()?"maximized":"normal":"minimized"},_applyActive:function(e,t){t?this.removeState("active"):this.addState("active")},_applyModal:function(e,t){t?this.removeState("modal"):this.addState("modal")},_getContentPaddingTarget:function(){return this.getChildControl("pane")},_applyShowStatusbar:function(e,t){var i=this._getResizeFrame();if(e){this.addState("showStatusbar");i.addState("showStatusbar")}else{this.removeState("showStatusbar");i.removeState("showStatusbar")}e?this._showChildControl("statusbar"):this._excludeChildControl("statusbar")},_applyCaptionBarChange:function(e,t){this._updateCaptionBar()},_applyStatus:function(e,t){var i=this.getChildControl("statusbar-text",!0);i&&i.setValue(e)},_applyFocusable:function(e,t){"mshtml"!==qx.core.Environment.get("engine.name")&&qx.ui.window.Window.prototype._applyFocusable.base.call(this,e,t)},_applyCenterOnAppear:function(e,t){if(null!==this.__centeringAppearId){this.removeListenerById(this.__centeringAppearId);this.__centeringAppearId=null}e&&(this.__centeringAppearId=this.addListener("appear",this.center,this))},_applyCenterOnContainerResize:function(e,t){var i=this.getLayoutParent();if(null!==this.__centeringResizeId){i.removeListenerById(this.__centeringResizeId);this.__centeringResizeId=null}e&&i&&(this.__centeringResizeId=i.addListener("resize",this.center,this))},_onWindowEventStop:function(e){e.stopPropagation()},_onWindowPointerDown:function(e){this.setActive(!0)},_onWindowFocusOut:function(e){if(!this.getModal()){var t=e.getRelatedTarget();null==t||qx.ui.core.Widget.contains(this,t)||this.setActive(!1)}},_onCaptionPointerDblTap:function(e){this.getAllowMaximize()&&(this.isMaximized()?this.restore():this.maximize())},_onMinimizeButtonTap:function(e){this.minimize();this.getChildControl("minimize-button").reset()},_onRestoreButtonTap:function(e){this.restore();this.getChildControl("restore-button").reset()},_onMaximizeButtonTap:function(e){this.maximize();this.getChildControl("maximize-button").reset()},_onCloseButtonTap:function(e){this.close();this.getChildControl("close-button").reset()}},destruct:function(){var e,t;qx.ui.core.FocusHandler.getInstance().removeRoot(this);if(t=this.getLayoutParent()){(e=this.__centeringResizeId)&&t.removeListenerById(e);t.remove(this)}}});qx.ui.window.Window.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.Registration":{construct:!0},"qx.bom.client.Event":{construct:!0},"qx.bom.Element":{construct:!0},"qx.event.Timer":{construct:!0},"qx.ui.menu.Menu":{},"qx.ui.menu.AbstractButton":{},"qx.lang.Array":{},"qx.ui.core.Widget":{},"qx.ui.menubar.Button":{},"qx.ui.menu.Button":{}},environment:{provided:[],required:{"event.touch":{construct:!0,className:"qx.bom.client.Event"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.Manager",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__objects=[];var e=document.body,t=qx.event.Registration;t.addListener(window.document.documentElement,"pointerdown",this._onPointerDown,this,!0);t.addListener(e,"roll",this._onRoll,this,!0);t.addListener(e,"keydown",this._onKeyUpDown,this,!0);t.addListener(e,"keyup",this._onKeyUpDown,this,!0);t.addListener(e,"keypress",this._onKeyPress,this,!0);qx.core.Environment.get("event.touch")||qx.bom.Element.addListener(window,"blur",this.hideAll,this);this.__openTimer=new qx.event.Timer;this.__openTimer.addListener("interval",this._onOpenInterval,this);this.__closeTimer=new qx.event.Timer;this.__closeTimer.addListener("interval",this._onCloseInterval,this)},members:{__scheduleOpen:null,__scheduleClose:null,__openTimer:null,__closeTimer:null,__objects:null,_getChild:function(e,t,i,n){for(var s,r=e.getChildren(),o=r.length,a=t;a<o&&a>=0;a+=i)if((s=r[a]).isEnabled()&&!s.isAnonymous()&&s.isVisible())return s;if(n){a=a==o?0:o-1;for(;a!=t;a+=i)if((s=r[a]).isEnabled()&&!s.isAnonymous()&&s.isVisible())return s}return null},_isInMenu:function(e){for(;e;){if(e instanceof qx.ui.menu.Menu)return!0;e=e.getLayoutParent()}return!1},_isMenuOpener:function(e){for(var t=this.__objects,i=0;i<t.length;i++)if(t[i].getOpener()===e)return!0;return!1},_getMenuButton:function(e){for(;e;){if(e instanceof qx.ui.menu.AbstractButton)return e;e=e.getLayoutParent()}return null},add:function(e){if(!(e instanceof qx.ui.menu.Menu))throw new Error("Object is no menu: "+e);var t=this.__objects;t.push(e);e.setZIndex(1e6+t.length)},remove:function(e){if(!(e instanceof qx.ui.menu.Menu))throw new Error("Object is no menu: "+e);var t=this.__objects;t&&qx.lang.Array.remove(t,e)},hideAll:function(){var e=this.__objects;if(e)for(var t=e.length-1;t>=0;t--)e[t].exclude()},getActiveMenu:function(){var e=this.__objects;return e.length>0?e[e.length-1]:null},scheduleOpen:function(e){this.cancelClose(e);if(e.isVisible())this.__scheduleOpen&&this.cancelOpen(this.__scheduleOpen);else if(this.__scheduleOpen!=e){this.__scheduleOpen=e;this.__openTimer.restartWith(e.getOpenInterval())}},scheduleClose:function(e){this.cancelOpen(e);if(e.isVisible()){if(this.__scheduleClose!=e){this.__scheduleClose=e;this.__closeTimer.restartWith(e.getCloseInterval())}}else this.__scheduleClose&&this.cancelClose(this.__scheduleClose)},cancelOpen:function(e){if(this.__scheduleOpen==e){this.__openTimer.stop();this.__scheduleOpen=null}},cancelClose:function(e){if(this.__scheduleClose==e){this.__closeTimer.stop();this.__scheduleClose=null}},_onOpenInterval:function(e){this.__openTimer.stop();this.__scheduleOpen.open();this.__scheduleOpen=null},_onCloseInterval:function(e){this.__closeTimer.stop();this.__scheduleClose.exclude();this.__scheduleClose=null},preventContextMenuOnce:function(){qx.event.Registration.addListener(document.body,"contextmenu",this.__onPreventContextMenu,this,!0)},__onPreventContextMenu:function(e){var t=e.getTarget();t=qx.ui.core.Widget.getWidgetByElement(t,!0);if(this._isInMenu(t)){e.stopPropagation();e.preventDefault()}qx.event.Registration.removeListener(document.body,"contextmenu",this.__onPreventContextMenu,this,!0)},_onPointerDown:function(e){var t=e.getTarget();null!=(t=qx.ui.core.Widget.getWidgetByElement(t,!0))?t.getMenu&&t.getMenu()&&t.getMenu().isVisible()||this.__objects.length>0&&!this._isInMenu(t)&&this.hideAll():this.hideAll()},__selectionKeys:{Enter:1,Space:1},__navigationKeys:{Escape:1,Up:1,Down:1,Left:1,Right:1},_onKeyUpDown:function(e){var t=this.getActiveMenu();if(t){var i=e.getKeyIdentifier();(this.__navigationKeys[i]||this.__selectionKeys[i]&&t.getSelectedButton())&&e.stopPropagation()}},_onKeyPress:function(e){var t=this.getActiveMenu();if(t){var i=e.getKeyIdentifier(),n=this.__navigationKeys[i],s=this.__selectionKeys[i];if(n){switch(i){case"Up":this._onKeyPressUp(t);break;case"Down":this._onKeyPressDown(t);break;case"Left":this._onKeyPressLeft(t);break;case"Right":this._onKeyPressRight(t);break;case"Escape":this.hideAll()}e.stopPropagation();e.preventDefault()}else if(s){var r=t.getSelectedButton();if(r){switch(i){case"Enter":this._onKeyPressEnter(t,r,e);break;case"Space":this._onKeyPressSpace(t,r,e)}e.stopPropagation();e.preventDefault()}}}},_onKeyPressUp:function(e){var t=e.getSelectedButton(),i=e.getChildren(),n=t?e.indexOf(t)-1:i.length-1,s=this._getChild(e,n,-1,!0);s?e.setSelectedButton(s):e.resetSelectedButton()},_onKeyPressDown:function(e){var t=e.getSelectedButton(),i=t?e.indexOf(t)+1:0,n=this._getChild(e,i,1,!0);n?e.setSelectedButton(n):e.resetSelectedButton()},_onKeyPressLeft:function(e){var t=e.getOpener();if(t)if(t instanceof qx.ui.menu.AbstractButton){var i=t.getLayoutParent();i.resetOpenedButton();i.setSelectedButton(t)}else if(t instanceof qx.ui.menubar.Button){var n=t.getMenuBar().getMenuButtons(),s=n.indexOf(t);if(-1===s)return;for(var r=null,o=n.length,a=1;a<=o;a++){var l=n[(s-a+o)%o];if(l.isEnabled()&&l.isVisible()){r=l;break}}r&&r!=t&&r.open(!0)}},_onKeyPressRight:function(e){var t=e.getSelectedButton();if(t){var i=t.getMenu();if(i){e.setOpenedButton(t);(n=this._getChild(i,0,1))&&i.setSelectedButton(n);return}}else if(!e.getOpenedButton()){var n;if(n=this._getChild(e,0,1)){e.setSelectedButton(n);n.getMenu()&&e.setOpenedButton(n);return}}var s=e.getOpener();if(s instanceof qx.ui.menu.Button&&t){for(;s&&(s=s.getLayoutParent())instanceof qx.ui.menu.Menu&&!((s=s.getOpener())instanceof qx.ui.menubar.Button););if(!s)return}if(s instanceof qx.ui.menubar.Button){var r=s.getMenuBar().getMenuButtons(),o=r.indexOf(s);if(-1===o)return;for(var a=null,l=r.length,u=1;u<=l;u++){var c=r[(o+u)%l];if(c.isEnabled()&&c.isVisible()){a=c;break}}a&&a!=s&&a.open(!0)}},_onKeyPressEnter:function(e,t,i){if(t.hasListener("keypress")){var n=i.clone();n.setBubbles(!1);n.setTarget(t);t.dispatchEvent(n)}this.hideAll()},_onKeyPressSpace:function(e,t,i){if(t.hasListener("keypress")){var n=i.clone();n.setBubbles(!1);n.setTarget(t);t.dispatchEvent(n)}},_onRoll:function(e){var t=e.getTarget();t=qx.ui.core.Widget.getWidgetByElement(t,!0);this.__objects.length>0&&!this._isInMenu(t)&&!this._isMenuOpener(t)&&!e.getMomentum()&&this.hideAll()}},destruct:function(){var e=qx.event.Registration,t=document.body;e.removeListener(window.document.documentElement,"pointerdown",this._onPointerDown,this,!0);e.removeListener(t,"keydown",this._onKeyUpDown,this,!0);e.removeListener(t,"keyup",this._onKeyUpDown,this,!0);e.removeListener(t,"keypress",this._onKeyPress,this,!0);this._disposeObjects("__openTimer","__closeTimer");this._disposeArray("__objects")}});qx.ui.menu.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.html.Canvas",{extend:qx.html.Element,construct:function(e,t){qx.html.Element.constructor.call(this,"canvas",e,t);this.__canvas=document.createElement("canvas")},members:{__canvas:null,_createDomElement:function(){return this.__canvas},getCanvas:function(){return this.__canvas},setWidth:function(e){this.__canvas.width=e},getWidth:function(){return this.__canvas.width},setHeight:function(e){this.__canvas.height=e},getHeight:function(){return this.__canvas.height},getContext2d:function(){return this.__canvas.getContext("2d")}}});qx.html.Canvas.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.VBox":{require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.Layout",{extend:qx.ui.layout.VBox,properties:{columnSpacing:{check:"Integer",init:0,apply:"_applyLayoutChange"},spanColumn:{check:"Integer",init:1,nullable:!0,apply:"_applyLayoutChange"},iconColumnWidth:{check:"Integer",init:0,themeable:!0,apply:"_applyLayoutChange"},arrowColumnWidth:{check:"Integer",init:0,themeable:!0,apply:"_applyLayoutChange"}},members:{__columnSizes:null,_computeSizeHint:function(){for(var e,t,i,n=this._getLayoutChildren(),s=this.getSpanColumn(),r=this.__columnSizes=[0,0,0,0],o=this.getColumnSpacing(),a=0,l=0,u=0,c=n.length;u<c;u++)if(!(e=n[u]).isAnonymous()){t=e.getChildrenSizes();for(var d=0;d<t.length;d++)null!=s&&d==s&&0==t[s+1]?a=Math.max(a,t[d]):r[d]=Math.max(r[d],t[d]);var h=n[u].getInsets();l=Math.max(l,h.left+h.right)}null!=s&&r[s]+o+r[s+1]<a&&(r[s]=a-r[s+1]-o);i=0==a?2*o:3*o;0==r[0]&&(r[0]=this.getIconColumnWidth());0==r[3]&&(r[3]=this.getArrowColumnWidth());var g=qx.ui.menu.Layout.prototype._computeSizeHint.base.call(this).height;return{minHeight:g,height:g,width:qx.lang.Array.sum(r)+l+i}},getColumnSizes:function(){return this.__columnSizes||null}},destruct:function(){this.__columnSizes=null}});qx.ui.menu.Layout.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.SlideBar":{construct:!0,require:!0},"qx.ui.form.HoverButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.menu.MenuSlideBar",{extend:qx.ui.container.SlideBar,construct:function(){qx.ui.container.SlideBar.constructor.call(this,"vertical")},properties:{appearance:{refine:!0,init:"menu-slidebar"}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"button-forward":(i=new qx.ui.form.HoverButton).addListener("execute",this._onExecuteForward,this);this._addAt(i,2);break;case"button-backward":(i=new qx.ui.form.HoverButton).addListener("execute",this._onExecuteBackward,this);this._addAt(i,0)}return i||qx.ui.menu.MenuSlideBar.prototype._createChildControlImpl.base.call(this,e)}}});qx.ui.menu.MenuSlideBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.Slider",{extend:qx.ui.core.Widget,properties:{allowShrinkX:{refine:!0,init:!1},allowShrinkY:{refine:!0,init:!1}}});qx.ui.splitpane.Slider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.Splitter",{extend:qx.ui.core.Widget,construct:function(e){qx.ui.core.Widget.constructor.call(this);if("vertical"==e.getOrientation()){this._setLayout(new qx.ui.layout.HBox(0,"center"));this._getLayout().setAlignY("middle")}else{this._setLayout(new qx.ui.layout.VBox(0,"middle"));this._getLayout().setAlignX("center")}this.getVisible()&&this._createChildControl("knob")},properties:{allowShrinkX:{refine:!0,init:!1},allowShrinkY:{refine:!0,init:!1},visible:{init:!0,check:"Boolean",themeable:!0,apply:"_applyVisible"}},members:{_createChildControlImpl:function(e,t){var i;switch(e){case"knob":i=new qx.ui.basic.Image;this._add(i)}return i||qx.ui.splitpane.Splitter.prototype._createChildControlImpl.base.call(this,e)},_applyVisible:function(e,t){this.getChildControl("knob").setVisibility(e?"visible":"excluded")}}});qx.ui.splitpane.Splitter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.html.Element":{construct:!0,require:!0},"qx.bom.client.Engine":{construct:!0},"qx.util.ResourceManager":{construct:!0}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.Blocker",{extend:qx.html.Element,construct:function(e){var t={position:"absolute",zIndex:11};if("mshtml"==qx.core.Environment.get("engine.name")){t.backgroundImage="url("+qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif")+")";t.backgroundRepeat="repeat"}qx.html.Element.constructor.call(this,"div",t);e?this.setOrientation(e):this.initOrientation()},properties:{orientation:{init:"horizontal",check:["horizontal","vertical"],apply:"_applyOrientation"}},members:{_applyOrientation:function(e,t){if("horizontal"==e){this.setStyle("height","100%");this.setStyle("cursor","col-resize");this.setStyle("top",null)}else{this.setStyle("width","100%");this.setStyle("left",null);this.setStyle("cursor","row-resize")}},setWidth:function(e,t){var i=t+2*e;this.setStyle("width",i+"px")},setHeight:function(e,t){var i=t+2*e;this.setStyle("height",i+"px")},setLeft:function(e,t){var i=t-e;this.setStyle("left",i+"px")},setTop:function(e,t){var i=t-e;this.setStyle("top",i+"px")}}});qx.ui.splitpane.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0},"qx.ui.layout.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.VLayout",{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:function(e,t,i){this.assert("type"===t||"flex"===t,"The property '"+t+"' is not supported by the split layout!");"flex"==t&&this.assertNumber(i);"type"==t&&this.assertString(i)},renderLayout:function(e,t,i){for(var n,s,r,o,a,l=this._getLayoutChildren(),u=l.length,c=i.left||0,d=i.top||0,h=0;h<u;h++)"splitter"===(s=(n=l[h]).getLayoutProperties().type)?o=n:"slider"===s?n:r?a=n:r=n;if(r&&a){var g=r.getLayoutProperties().flex,m=a.getLayoutProperties().flex;null==g&&(g=1);null==m&&(m=1);var f=r.getSizeHint(),p=o.getSizeHint(),_=a.getSizeHint(),x=f.height,q=p.height,v=_.height;if(g>0&&m>0){var b=g+m,y=t-q,C=(v=y-(x=Math.round(y/b*g)),qx.ui.layout.Util.arrangeIdeals(f.minHeight,x,f.maxHeight,_.minHeight,v,_.maxHeight));x=C.begin;v=C.end}else if(g>0){(x=t-q-v)<f.minHeight&&(x=f.minHeight);x>f.maxHeight&&(x=f.maxHeight)}else if(m>0){(v=t-x-q)<_.minHeight&&(v=_.minHeight);v>_.maxHeight&&(v=_.maxHeight)}r.renderLayout(c,d,e,x);o.renderLayout(c,x+d,e,q);a.renderLayout(c,x+q+d,e,v)}else{o.renderLayout(0,0,0,0);r?r.renderLayout(c,d,e,t):a&&a.renderLayout(c,d,e,t)}},_computeSizeHint:function(){for(var e,t,i=this._getLayoutChildren(),n=i.length,s=0,r=0,o=0,a=0,l=0,u=0,c=0;c<n;c++)if("slider"!==(e=i[c]).getLayoutProperties().type){s+=(t=e.getSizeHint()).minHeight;r+=t.height;o+=t.maxHeight;t.minWidth>a&&(a=t.minWidth);t.width>l&&(l=t.width);t.maxWidth>u&&(u=t.maxWidth)}return{minHeight:s,height:r,maxHeight:o,minWidth:a,width:l,maxWidth:u}}}});qx.ui.splitpane.VLayout.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{require:!0},"qx.ui.layout.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.splitpane.HLayout",{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:function(e,t,i){this.assert("type"===t||"flex"===t,"The property '"+t+"' is not supported by the split layout!");"flex"==t&&this.assertNumber(i);"type"==t&&this.assertString(i)},renderLayout:function(e,t,i){for(var n,s,r,o,a,l=this._getLayoutChildren(),u=l.length,c=i.left||0,d=i.top||0,h=0;h<u;h++)"splitter"===(s=(n=l[h]).getLayoutProperties().type)?o=n:"slider"===s?n:r?a=n:r=n;if(r&&a){var g=r.getLayoutProperties().flex,m=a.getLayoutProperties().flex;null==g&&(g=1);null==m&&(m=1);var f=r.getSizeHint(),p=o.getSizeHint(),_=a.getSizeHint(),x=f.width,q=p.width,v=_.width;if(g>0&&m>0){var b=g+m,y=e-q,C=(v=y-(x=Math.round(y/b*g)),qx.ui.layout.Util.arrangeIdeals(f.minWidth,x,f.maxWidth,_.minWidth,v,_.maxWidth));x=C.begin;v=C.end}else if(g>0){(x=e-q-v)<f.minWidth&&(x=f.minWidth);x>f.maxWidth&&(x=f.maxWidth)}else if(m>0){(v=e-x-q)<_.minWidth&&(v=_.minWidth);v>_.maxWidth&&(v=_.maxWidth)}r.renderLayout(c,d,x,t);o.renderLayout(x+c,d,q,t);a.renderLayout(x+q+c,d,v,t)}else{o.renderLayout(0,0,0,0);r?r.renderLayout(c,d,e,t):a&&a.renderLayout(c,d,e,t)}},_computeSizeHint:function(){for(var e,t,i=this._getLayoutChildren(),n=i.length,s=0,r=0,o=0,a=0,l=0,u=0,c=0;c<n;c++)if("slider"!==(e=i[c]).getLayoutProperties().type){s+=(t=e.getSizeHint()).minWidth;r+=t.width;o+=t.maxWidth;t.minHeight>a&&(a=t.minHeight);t.height>l&&(l=t.height);t.maxHeight>u&&(u=t.maxHeight)}return{minWidth:s,width:r,maxWidth:o,minHeight:a,height:l,maxHeight:u}}}});qx.ui.splitpane.HLayout.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.RadioButton":{construct:!0,require:!0},"qx.ui.form.IRadioItem":{require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.basic.Label":{},"qx.ui.basic.Image":{},"qx.ui.form.Button":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tabview.TabButton",{extend:qx.ui.form.RadioButton,implement:qx.ui.form.IRadioItem,construct:function(){qx.ui.form.RadioButton.constructor.call(this);var e=new qx.ui.layout.Grid(2,0);e.setRowAlign(0,"left","middle");e.setColumnAlign(0,"right","middle");this._getLayout().dispose();this._setLayout(e);this.initShowCloseButton()},events:{close:"qx.event.type.Data"},properties:{showCloseButton:{check:"Boolean",init:!1,apply:"_applyShowCloseButton"}},members:{_forwardStates:{focused:!0,checked:!0},_applyIconPosition:function(e,t){var i={icon:this.getChildControl("icon"),label:this.getChildControl("label"),closeButton:this.getShowCloseButton()?this.getChildControl("close-button"):null};for(var n in i)i[n]&&this._remove(i[n]);switch(e){case"top":this._add(i.label,{row:3,column:2});this._add(i.icon,{row:1,column:2});i.closeButton&&this._add(i.closeButton,{row:0,column:4});break;case"bottom":this._add(i.label,{row:1,column:2});this._add(i.icon,{row:3,column:2});i.closeButton&&this._add(i.closeButton,{row:0,column:4});break;case"left":this._add(i.label,{row:0,column:2});this._add(i.icon,{row:0,column:0});i.closeButton&&this._add(i.closeButton,{row:0,column:4});break;case"right":this._add(i.label,{row:0,column:0});this._add(i.icon,{row:0,column:2});i.closeButton&&this._add(i.closeButton,{row:0,column:4})}},_createChildControlImpl:function(e,t){switch(e){case"label":var i;(i=new qx.ui.basic.Label(this.getLabel())).setAnonymous(!0);this._add(i,{row:0,column:2});this._getLayout().setColumnFlex(2,1);break;case"icon":(i=new qx.ui.basic.Image(this.getIcon())).setAnonymous(!0);this._add(i,{row:0,column:0});break;case"close-button":(i=new qx.ui.form.Button).setFocusable(!1);i.setKeepActive(!0);i.addListener("tap",this._onCloseButtonTap,this);this._add(i,{row:0,column:4});this.getShowCloseButton()||i.exclude()}return i||qx.ui.tabview.TabButton.prototype._createChildControlImpl.base.call(this,e)},_onCloseButtonTap:function(){this.fireDataEvent("close",this)},_applyShowCloseButton:function(e,t){e?this._showChildControl("close-button"):this._excludeChildControl("close-button")},_applyCenter:function(e){var t=this._getLayout();e?t.setColumnAlign(2,"center","middle"):t.setColumnAlign(2,"left","middle")}}});qx.ui.tabview.TabButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.ui.window.IWindowManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.window.IDesktop",{members:{setWindowManager:function(e){this.assertInterface(e,qx.ui.window.IWindowManager)},getWindows:function(){},supportsMaximize:function(){},blockContent:function(e){this.assertInteger(e)},unblock:function(){},isBlocked:function(){}}});qx.ui.window.IDesktop.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.basic.Atom":{construct:!0,require:!0},"qx.ui.core.MExecutable":{require:!0},"qx.ui.form.IExecutable":{require:!0},"qx.event.AcceleratingTimer":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.HoverButton",{extend:qx.ui.basic.Atom,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],construct:function(e,t){qx.ui.basic.Atom.constructor.call(this,e,t);this.addListener("pointerover",this._onPointerOver,this);this.addListener("pointerout",this._onPointerOut,this);this.__timer=new qx.event.AcceleratingTimer;this.__timer.addListener("interval",this._onInterval,this)},properties:{appearance:{refine:!0,init:"hover-button"},interval:{check:"Integer",init:80},firstInterval:{check:"Integer",init:200},minTimer:{check:"Integer",init:20},timerDecrease:{check:"Integer",init:2}},members:{__timer:null,_onPointerOver:function(e){if(this.isEnabled()&&e.getTarget()===this){this.__timer.set({interval:this.getInterval(),firstInterval:this.getFirstInterval(),minimum:this.getMinTimer(),decrease:this.getTimerDecrease()}).start();this.addState("hovered")}},_onPointerOut:function(e){this.__timer.stop();this.removeState("hovered");this.isEnabled()&&e.getTarget()},_onInterval:function(){this.isEnabled()?this.execute():this.__timer.stop()}},destruct:function(){this._disposeObjects("__timer")}});qx.ui.form.HoverButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.layout.Grid":{},"qx.ui.container.Composite":{},"qx.ui.form.TextField":{},"qx.ui.form.ComboBox":{},"qx.ui.core.FocusHandler":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.Focus",{extend:qx.test.ui.LayoutTestCase,members:{getContainer:function(){if(!this._container){var e=new qx.ui.layout.Grid(10,10);this._container=new qx.ui.container.Composite(e).set({padding:20});this.getRoot().add(this._container)}return this._container},setUp:function(){this.flush();this.ref=new qx.ui.form.TextField;this.addReferenceInput();this.ref.focus();this.flush();this.ref.addListener("blur",this.onRefBlur,this);this.ref_blur_called=!1;this.target_focus_called=!1;this.target_blur_called=!1;this.flush();this.input=new qx.ui.form.TextField;this.input.addListener("focus",this.onInputFocus,this);this.input.addListener("blur",this.onInputBlur,this)},tearDown:function(){qx.test.ui.Focus.prototype.tearDown.base.call(this);this.input&&this.input.destroy();this.ref&&this.ref.destroy();if(this._container){this._container.destroy();this._container=null}this.flush()},addInput:function(){this.getContainer().add(this.input,{row:2,column:0})},addReferenceInput:function(){this.getContainer().add(this.ref,{row:1,column:0,colSpan:2})},onRefBlur:function(){this.ref_blur_called=!0},onInputFocus:function(){this.target_focus_called=!0},onInputBlur:function(){this.target_blur_called=!0},testNotInsertedBeforeFlush:function(){this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.addInput()},testExcludedBeforeFlush:function(){this.addInput();this.input.exclude();this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.input.show()},testHiddenBeforeFlush:function(){this.addInput();this.input.hide();this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.input.show()},testNotInsertedAfterFlush:function(){this.addInput();this.flush();this.input.getLayoutParent().remove(this.input);this.flush();this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.addInput()},testExcludedAfterFlush:function(){this.addInput();this.flush();this.input.getLayoutParent().remove(this.input);this.flush();this.addInput();this.input.exclude();this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.input.show()},testHiddenAfterFlush:function(){this.addInput();this.flush();this.input.getLayoutParent().remove(this.input);this.flush();this.addInput();this.input.hide();this.input.focus();this.flush();this.assertFalse(this.ref_blur_called);this.assertFalse(this.target_focus_called);this.assertFalse(this.target_blur_called);this.input.show()},testInsertedBeforeFlush:function(){this.addInput();this.input.focus();this.flush();this.assertTrue(this.ref_blur_called,"reference must be blurred");this.assertTrue(this.target_focus_called,"target must be focused");this.assertFalse(this.target_blur_called,"target must not be blurred")},testFocusRemoveBeforeFlush:function(){this.addInput();this.input.focus();this.flush();this.input.getLayoutParent().remove(this.input);this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertTrue(this.target_blur_called);this.addInput()},testFocusExcludeBeforeFlush:function(){this.addInput();this.input.focus();this.flush();this.input.exclude();this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertTrue(this.target_blur_called);this.input.show()},testFocusHideBeforeFlush:function(){this.addInput();this.input.focus();this.flush();this.input.hide();this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertTrue(this.target_blur_called);this.input.show()},testInsertedAfterFlush:function(){this.addInput();this.flush();this.input.focus();this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertFalse(this.target_blur_called)},testFocusRemoveAfterFlush:function(){this.addInput();this.input.focus();this.flush();this.input.getLayoutParent().remove(this.input);this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertTrue(this.target_blur_called);this.addInput()},testFocusExcludeAfterFlush:function(){this.addInput();this.flush();this.input.focus();this.flush();this.input.exclude();this.flush();this.assertTrue(this.ref_blur_called);this.assertTrue(this.target_focus_called);this.assertTrue(this.target_blur_called);this.input.show()},testFocusHideAfterFlush:function(){this.addInput();this.flush();this.input.focus();this.flush();this.input.hide();this.flush();this.assertTrue(this.ref_blur_called,"reference must be blurred");this.assertTrue(this.target_focus_called,"target must be focused");this.assertTrue(this.target_blur_called,"target must be blurred");this.input.show()},testFocusComboBox:function(){var e=new qx.ui.form.ComboBox;this.getRoot().add(e);e.focus();this.flush();this.assertEquals(e.getChildControl("textfield"),qx.ui.core.FocusHandler.getInstance().getActiveWidget());e.destroy()}},destruct:function(){this.ref=this.input=null}});qx.test.ui.Focus.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.Widget":{},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.Insets",{extend:qx.test.ui.LayoutTestCase,members:{testPadding:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);this.assertPadding(e,0,0,0,0);e.setPadding(1,2,3,4);this.assertPadding(e,1,2,3,4);e.setPadding(1);this.assertPadding(e,1,1,1,1);e.setPadding(2,5);this.assertPadding(e,2,5,2,5);this.getRoot().remove(e);e.dispose();var t;e=new qx.ui.core.Widget;this.getRoot().add(e);this.assertPadding(e,0,0,0,0);t=(new qx.ui.decoration.Decorator).set({width:1});e.setDecorator(t);this.assertPadding(e,0,0,0,0);t.dispose();t=(new qx.ui.decoration.Decorator).set({width:2});e.setDecorator(t);e.setPadding(2);this.assertPadding(e,2,2,2,2);t.dispose();t=(new qx.ui.decoration.Decorator).set({width:[2,3,5,7]});e.setDecorator(t);e.setPadding(1,4,16,64);this.assertPadding(e,1,4,16,64);e.setDecorator(null);this.assertPadding(e,1,4,16,64);t.dispose();t=(new qx.ui.decoration.Decorator).set({width:2,innerWidth:2});e.setDecorator(t);e.setPadding(2);this.assertPadding(e,4,4,4,4);this.getRoot().remove(e);e.dispose();t.dispose()},testDecoration:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);var t=new qx.ui.decoration.Decorator;e.setDecorator(t);this.assertPadding(e,0,0,0,0);this.getRoot().remove(e);e.dispose();t.dispose()}}});qx.test.ui.Insets.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.locale.MTranslation":{require:!0},"qx.locale.Manager":{construct:!0},"qx.ui.command.Command":{},"qx.ui.menu.Button":{},"qx.ui.basic.Label":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.LocaleSwitch",{extend:qx.test.ui.LayoutTestCase,include:qx.locale.MTranslation,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);this.manager=qx.locale.Manager.getInstance()},members:{manager:null,__translationAdded:null,setUp:function(){if(!this.__translationAdded){this.manager.addTranslation("en_QX",{"test one":"test one","test two":"test two","test Hello %1!":"test Hello %1!","test Jonny":"test Jonny","test One car":"test One car","test %1 cars":"test %1 cars",key_short_Shift:"Shift"});this.manager.addTranslation("de_QX",{"test one":"Eins","test two":"Zwei","test Hello %1!":"Servus %1!","test Jonny":"Jonathan","test One car":"Ein Auto","test %1 cars":"%1 Autos",key_short_Shift:"Umschalt"});this.__translationAdded=!0}this.manager.setLocale("en_QX")},tearDown:function(){this.manager.resetLocale()},testCommandInMenuButton:function(){var e=new qx.ui.command.Command("Shift-A"),t=new qx.ui.menu.Button("Juhu",null,e);this.assertEquals("Shift+A",e.toString());this.assertEquals("Shift+A",t.getChildControl("shortcut").getValue());this.manager.setLocale("de_QX");this.assertEquals("Umschalt+A",e.toString());this.assertEquals("Umschalt+A",t.getChildControl("shortcut").getValue());t.dispose();e.dispose()},testLabel:function(){var e=new qx.ui.basic.Label(this.tr("test one"));this.getRoot().add(e);this.assertEquals("test one",e.getValue());this.manager.setLocale("de_QX");this.assertEquals("Eins",e.getValue());this.manager.setLocale("en_QX");e.setValue(this.tr("test Hello %1!",this.tr("test Jonny")));this.assertEquals("test Hello test Jonny!",e.getValue());this.manager.setLocale("de_QX");this.assertEquals("Servus Jonathan!",e.getValue());e.setValue(this.tr("test two"));this.assertEquals("Zwei",e.getValue());this.manager.setLocale("en_QX");this.assertEquals("test two",e.getValue());e.destroy()},testToolTipText:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);e.setToolTipText(this.tr("test one"));this.assertEquals("test one",e.getToolTipText());this.manager.setLocale("de_QX");this.assertEquals("Eins",e.getToolTipText());e.destroy()}}});qx.test.ui.LocaleSwitch.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.Shortcut":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.command.Command",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this._shortcut=new qx.bom.Shortcut(e);this._shortcut.addListener("execute",this.execute,this);void 0!==e&&this.setShortcut(e)},events:{execute:"qx.event.type.Data"},properties:{active:{init:!0,check:"Boolean",event:"changeActive",apply:"_applyActive"},enabled:{init:!0,check:"Boolean",event:"changeEnabled",apply:"_applyEnabled"},shortcut:{check:"String",apply:"_applyShortcut",nullable:!0},label:{check:"String",nullable:!0,event:"changeLabel"},icon:{check:"String",nullable:!0,event:"changeIcon"},toolTipText:{check:"String",nullable:!0,event:"changeToolTipText"},value:{nullable:!0,event:"changeValue"},menu:{check:"qx.ui.menu.Menu",nullable:!0,event:"changeMenu"}},members:{_shortcut:null,_applyActive:function(e){!1===e?this._shortcut.setEnabled(!1):this._shortcut.setEnabled(this.getEnabled())},_applyEnabled:function(e){this.getActive()&&this._shortcut.setEnabled(e)},_applyShortcut:function(e){this._shortcut.setShortcut(e)},execute:function(e){this.getActive()&&this.getEnabled()&&this.fireDataEvent("execute",e)},toString:function(){return this._shortcut?this._shortcut.toString():qx.ui.command.Command.prototype.toString.base.call(this)}},destruct:function(){this._shortcut.removeListener("execute",this.execute,this);this._disposeObjects("_shortcut")}});qx.ui.command.Command.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Registration":{},"qx.event.util.Keyboard":{},"qx.lang.String":{},"qx.locale.Key":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.bom.Shortcut",{extend:qx.core.Object,implement:[qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__modifier={};this.__key=null;null!=e&&this.setShortcut(e);this.initEnabled()},events:{execute:"qx.event.type.Data"},properties:{enabled:{init:!0,check:"Boolean",event:"changeEnabled",apply:"_applyEnabled"},shortcut:{check:"String",apply:"_applyShortcut",nullable:!0},autoRepeat:{check:"Boolean",init:!1}},members:{__modifier:"",__key:"",execute:function(e){this.fireDataEvent("execute",e)},__onKeyDown:function(e){if(this.getEnabled()&&this.__matchesKeyEvent(e)){this.isAutoRepeat()||this.execute(e.getTarget());e.stop()}},__onKeyPress:function(e){if(this.getEnabled()&&this.__matchesKeyEvent(e)){this.isAutoRepeat()&&this.execute(e.getTarget());e.stop()}},_applyEnabled:function(e,t){if(e){qx.event.Registration.addListener(document.documentElement,"keydown",this.__onKeyDown,this);qx.event.Registration.addListener(document.documentElement,"keypress",this.__onKeyPress,this)}else{qx.event.Registration.removeListener(document.documentElement,"keydown",this.__onKeyDown,this);qx.event.Registration.removeListener(document.documentElement,"keypress",this.__onKeyPress,this)}},_applyShortcut:function(e,t){if(e){if(-1!=e.search(/[\s]+/)){var i="Whitespaces are not allowed within shortcuts";this.error(i);throw new Error(i)}this.__modifier={Control:!1,Shift:!1,Meta:!1,Alt:!1};this.__key=null;for(var n,s=[];e.length>0&&-1!=n;){n=e.search(/[-+]+/);s.push(1==e.length||-1==n?e:e.substring(0,n));e=e.substring(n+1)}for(var r=s.length,o=0;o<r;o++){var a=this.__normalizeKeyIdentifier(s[o]);switch(a){case"Control":case"Shift":case"Meta":case"Alt":this.__modifier[a]=!0;break;case"Unidentified":i="Not a valid key name for a shortcut: "+s[o];this.error(i);throw i;default:if(this.__key){i="You can only specify one non modifier key!";this.error(i);throw i}this.__key=a}}}return!0},__matchesKeyEvent:function(e){var t=this.__key;return!!t&&(!(!this.__modifier.Shift&&e.isShiftPressed()||this.__modifier.Shift&&!e.isShiftPressed()||!this.__modifier.Control&&e.isCtrlPressed()||this.__modifier.Control&&!e.isCtrlPressed()||!this.__modifier.Meta&&e.isMetaPressed()||this.__modifier.Meta&&!e.isMetaPressed()||!this.__modifier.Alt&&e.isAltPressed()||this.__modifier.Alt&&!e.isAltPressed())&&t==e.getKeyIdentifier())},__oldKeyNameToKeyIdentifierMap:{esc:"Escape",ctrl:"Control",print:"PrintScreen",del:"Delete",pageup:"PageUp",pagedown:"PageDown",numlock:"NumLock",numpad_0:"0",numpad_1:"1",numpad_2:"2",numpad_3:"3",numpad_4:"4",numpad_5:"5",numpad_6:"6",numpad_7:"7",numpad_8:"8",numpad_9:"9",numpad_divide:"/",numpad_multiply:"*",numpad_minus:"-",numpad_plus:"+"},__normalizeKeyIdentifier:function(e){var t=qx.event.util.Keyboard;if(t.isValidKeyIdentifier(e))return e;if(1==e.length&&e>="a"&&e<="z")return e.toUpperCase();e=e.toLowerCase();var i=this.__oldKeyNameToKeyIdentifierMap[e]||qx.lang.String.firstUp(e);return t.isValidKeyIdentifier(i)?i:"Unidentified"},toString:function(){var e=this.__key,t=[];for(var i in this.__modifier)this.__modifier[i]&&t.push(qx.locale.Key.getKeyName("short",i));e&&t.push(qx.locale.Key.getKeyName("short",e));return t.join("+")}},destruct:function(){this.setEnabled(!1);this.__modifier=this.__key=null}});qx.bom.Shortcut.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.RadioButton":{},"qx.ui.menu.RadioButton":{},"qx.ui.toolbar.RadioButton":{},"qx.ui.form.RadioGroup":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.RadioItems",{extend:qx.test.ui.LayoutTestCase,members:{testTwiceClickForm:function(){var e=new qx.ui.form.RadioButton;this.__testTwiceClick(e);e.destroy()},testTwiceClickMenu:function(){var e=new qx.ui.menu.RadioButton;this.__testTwiceClick(e);e.destroy()},testTwiceClickToolbar:function(){var e=new qx.ui.toolbar.RadioButton;this.__testTwiceClick(e);e.destroy()},__testTwiceClick:function(e){this.assertFalse(e.getValue());e.execute();this.assertTrue(e.getValue(),"1");e.execute();this.assertTrue(e.getValue(),"2")},testTwiceClickEmptySelectionForm:function(){var e=new qx.ui.form.RadioButton;this.__testTwiceClickEmptySelection(e);e.destroy()},testTwiceClickEmptySelectionMenu:function(){var e=new qx.ui.menu.RadioButton;this.__testTwiceClickEmptySelection(e);e.destroy()},testTwiceClickEmptySelectionToolbar:function(){var e=new qx.ui.toolbar.RadioButton;this.__testTwiceClickEmptySelection(e);e.destroy()},__testTwiceClickEmptySelection:function(e){var t=new qx.ui.form.RadioGroup;t.setAllowEmptySelection(!0);e.setGroup(t);this.assertFalse(e.getValue());e.execute();this.assertTrue(e.getValue(),"1");e.execute();this.assertFalse(e.getValue(),"2");t.dispose()}}});qx.test.ui.RadioItems.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.Widget",{extend:qx.dev.unit.TestCase,members:{__widget:null,setUp:function(){this.__widget=new qx.ui.core.Widget},tearDown:function(){this.__widget.destroy()},testAddState:function(){this.__widget.addState("test");this.assertTrue(this.__widget.hasState("test"))},testRemoveState:function(){this.__widget.addState("test");this.assertTrue(this.__widget.hasState("test"));this.__widget.removeState("test");this.assertFalse(this.__widget.hasState("test"))},testReplaceState:function(){this.__widget.addState("test");this.assertTrue(this.__widget.hasState("test"));this.__widget.replaceState("test","affe");this.assertTrue(this.__widget.hasState("affe"));this.assertFalse(this.__widget.hasState("test"))},testWidgetThatContainsItself:function(){this.assertFalse(qx.ui.core.Widget.contains(this.__widget,this.__widget))}}});qx.test.ui.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.window.Window":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.Window",{extend:qx.test.ui.LayoutTestCase,members:{_win:null,setUp:function(){qx.test.ui.Window.prototype.setUp.base.call(this);this._win=[];for(var e=0;e<5;e++){var t=new qx.ui.window.Window("My Window "+e);this._win.push(t);this.getRoot().add(t)}this.flush()},tearDown:function(){qx.test.ui.Window.prototype.tearDown.base.call(this);this._disposeArray("_win")},testActiveWindowBeforeWindowOpened:function(){this.assertNull(this.getRoot().getActiveWindow())},testActiveWindowAfterWindowOpened:function(){this._win[0].open();this.flush();this.assertIdentical(this._win[0],this.getRoot().getActiveWindow())},testActiveWindowAfterWindowOpened2:function(){this._win[0].open();this._win[1].open();this.flush();this.assertIdentical(this._win[1],this.getRoot().getActiveWindow())},testActiveWindowAfterWindowClosed:function(){this._win[0].open();this.flush();this._win[0].close();this.flush();this.assertNull(this.getRoot().getActiveWindow())},testActiveWindowAfterWindowClosed2:function(){this._win[0].open();this._win[1].open();this.flush();this._win[1].close();this.flush();this.assertIdentical(this._win[0],this.getRoot().getActiveWindow())},testActiveWindowAfterAllWindowsOpened:function(){for(var e=0;e<this._win.length;e++)this._win[e].open();this.flush();this.assertIdentical(this._win[this._win.length-1],this.getRoot().getActiveWindow())},testActiveWindowAfterRemovingOpenedWindow:function(){this._win[0].open();this.flush();this.getRoot().remove(this._win[0]);this.flush();this.assertNull(this.getRoot().getActiveWindow())},testActiveWindowAfterRemovingOpenedWindow2:function(){this._win[0].open();this._win[1].open();this.flush();this.getRoot().remove(this._win[1]);this.flush();this.assertIdentical(this._win[0],this.getRoot().getActiveWindow())},testActiveWindowAfterRemovingAllWindows:function(){for(var e=0;e<this._win.length;e++)this._win[e].open();this.flush();this.getRoot().removeAll();this.flush();this.assertNull(this.getRoot().getActiveWindow())},testModalWindowIsAlwaysActiveIfOpen:function(){this._win[0].setModal(!0);this._win[0].open();this._win[1].open();this.flush();this.assertIdentical(this._win[0],this.getRoot().getActiveWindow())},testOrderModalOverAlwaysOnTopOverNormalWindow:function(){var e=this._win[0],t=this._win[1],i=this._win[2];e.setModal(!0);t.setAlwaysOnTop(!0);e.open();t.open();i.open();this.flush();this.assertTrue(+e.getZIndex()>+t.getZIndex());this.assertTrue(+t.getZIndex()>+i.getZIndex())}}});qx.test.ui.Window.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.basic.Atom":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.basic.Atom",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MMock],members:{tearDown:function(){this.getSandbox().restore()},testSelectableSetOnCreation:function(){var e=new qx.ui.basic.Atom("test").set({selectable:!0});this.getRoot().add(e);this.flush();var t=e.getChildControl("label");this.assertEquals("on",t.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableUnSetOnCreation:function(){var e=new qx.ui.basic.Atom("test").set({selectable:!1});this.getRoot().add(e);this.flush();var t=e.getChildControl("label");this.assertEquals("off",t.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableSet:function(){var e=new qx.ui.basic.Atom("test");e.setSelectable(!0);this.getRoot().add(e);this.flush();var t=e.getChildControl("label");this.assertEquals("on",t.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableUnset:function(){var e=new qx.ui.basic.Atom("test");e.setSelectable(!1);this.getRoot().add(e);this.flush();var t=e.getChildControl("label");this.assertEquals("off",t.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()}}});qx.test.ui.basic.Atom.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.basic.Image":{},"qx.bom.client.Css":{},"qx.io.ImageLoader":{},"qx.dev.unit.RequirementError":{},"qx.html.Image":{},"qx.html.Label":{},"qx.bom.client.Device":{},"qx.util.ResourceManager":{},"qx.bom.client.Engine":{},"qx.theme.manager.Font":{},"qx.Theme":{}},environment:{provided:[],required:{"css.alphaimageloaderneeded":{className:"qx.bom.client.Css"},"engine.name":{className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.basic.Image",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,members:{tearDown:function(){this.getSandbox().restore()},testSwitchScaling:function(){var e=new qx.ui.basic.Image;this.addAutoDispose(e);e.set({source:"qx/icon/Tango/48/places/folder.png",scale:!1});this.getRoot().add(e);this.flush();var t=e.getContentElement().getNodeName();this.assertTrue("div"==t);e.setScale(!0);this.flush();var i=e.getContentElement().getNodeName();qx.core.Environment.get("css.alphaimageloaderneeded")?this.assertTrue("div"==i):this.assertTrue("img"==i);e.destroy()},testSwitchPngToGif:function(){var e=new qx.ui.basic.Image("qx/icon/Tango/48/places/folder.png");this.addAutoDispose(e);this.getRoot().add(e);this.flush();var t=e.getContentElement().getNodeName();this.assertTrue("div"==t);e.setSource("qx/static/blank.gif");this.flush();var i=e.getContentElement().getNodeName();this.assertTrue("div"==i);e.destroy()},testSwitchGifToPng:function(){var e=new qx.ui.basic.Image("qx/static/blank.gif");this.addAutoDispose(e);e.setScale(!0);this.getRoot().add(e);this.flush();var t=e.getContentElement();qx.core.Environment.get("css.alphaimageloaderneeded")&&(t=t.getChildren()[0]);var i=t.getNodeName();this.assertTrue("img"==i);e.setSource("qx/icon/Tango/48/places/folder.png");this.flush();t=e.getContentElement();qx.core.Environment.get("css.alphaimageloaderneeded")&&(t=t.getChildren()[0]);var n=t.getNodeName();qx.core.Environment.get("css.alphaimageloaderneeded")?this.assertTrue("div"==n):this.assertTrue("img"==n);e.destroy()},testSwitchDimension:function(){var e=new qx.ui.basic.Image("qx/icon/Tango/48/places/folder.png");this.addAutoDispose(e);this.getRoot().add(e);e.set({width:100,height:100});this.flush();var t=e.getContentElement();qx.core.Environment.get("css.alphaimageloaderneeded")&&(t=t.getChildren()[0]);var i=t.getStyle("width"),n=t.getStyle("height");e.setScale(!0);this.flush();t=e.getContentElement();qx.core.Environment.get("css.alphaimageloaderneeded")&&(t=t.getChildren()[0]);this.assertEquals(parseInt(t.getStyle("width")),parseInt(i));this.assertEquals(parseInt(t.getStyle("height")),parseInt(n));e.destroy()},testSwitchWithDecorator:function(){var e=new qx.ui.basic.Image("qx/icon/Tango/48/places/folder.png");this.addAutoDispose(e);this.getRoot().add(e);e.setDecorator("main");this.flush();var t=e.getContentElement().getChild(2);e.setScale(!0);this.flush();this.assertEquals(e.getContentElement().getChild(2),t);e.destroy()},testSwitchWithSelectable:function(){var e=new qx.ui.basic.Image("qx/icon/Tango/48/places/folder.png");this.addAutoDispose(e);this.getRoot().add(e);e.setSelectable(!0);this.flush();var t=e.getContentElement().getAttribute("qxselectable");e.setScale(!0);this.flush();var i=e.getContentElement().getAttribute("qxselectable");this.assertEquals(t,i);e.destroy()},testFailedEvent:function(){var e=new qx.ui.basic.Image("affe.xyz"+Math.random());this.addAutoDispose(e);e.addListener("loadingFailed",function(){this.resume(function(){window.setTimeout(function(){e.destroy()})})},this);this.wait()},testLoadedEvent:function(){var e="../resource/qx/icon/Tango/16/places/folder.png?"+Date.now();this.assertFalse(qx.io.ImageLoader.isLoaded(e),"Image already loaded, but this should not happen!");var t=new qx.ui.basic.Image(e);this.addAutoDispose(t);t.addListener("loaded",function(){this.resume(function(){window.setTimeout(function(){t.destroy()})})},this);this.wait(1e3)},"test: Abort image loading on changing source":function(){var e="../resource/qx/test/delayedImage.php?"+Date.now(),t="../resource/qx/icon/Tango/16/places/folder.png?"+Date.now(),i=new qx.ui.basic.Image(e);this.addAutoDispose(i);var n=this.spy();i.addListener("aborted",n,this);this.assertTrue(qx.io.ImageLoader.isLoading(e),"SourceA should be in loading state!");i.setSource(t);this.assertFalse(qx.io.ImageLoader.isLoaded(e),"SourceA should not be loaded after source change!");this.assertCalledOnce(n)},"test: Abort image loading through the ImageLoader":function(){var e="../resource/qx/test/delayedImage.php?"+Date.now(),t=new qx.ui.basic.Image(e);this.addAutoDispose(t);var i=this.spy();t.addListener("aborted",i,this);this.assertTrue(qx.io.ImageLoader.isLoading(e),"Source should be in loading state!");qx.io.ImageLoader.abort(e);this.assertFalse(qx.io.ImageLoader.isLoaded(e),"Source should not be loaded after source change!");this.assertCalledOnce(i)},testLoadedEventForUnmanagedImage:function(){if(this.isFirefox())throw new qx.dev.unit.RequirementError;var e="../resource/qx/icon/Tango/16/places/folder.png?"+Date.now();this.assertFalse(qx.io.ImageLoader.isLoaded(e),"Image already loaded, but this should not happen!");var t=new qx.ui.basic.Image;this.addAutoDispose(t);var i=this.spy();t.addListener("loaded",i,this);t.setSource(e);t.addListenerOnce("loaded",function(){t.resetSource();t.setSource(e)},this);this.wait(500,function(){this.assertCalledTwice(i);window.setTimeout(function(){t.destroy()})}.bind(this))},testLoadedEventForManagedImage:function(){var e="qx/icon/Tango/48/places/folder.png",t=new qx.ui.basic.Image;this.addAutoDispose(t);var i=this.spy();t.addListener("loaded",i,this);t.setSource(e);t.addListenerOnce("loaded",function(){t.resetSource();t.setSource(e)},this);this.wait(500,function(){this.assertCalledTwice(i);window.setTimeout(function(){t.destroy()})}.bind(this))},testAbortedEventForUnmanagedImage:function(){if(this.isFirefox())throw new qx.dev.unit.RequirementError;var e="../resource/qx/icon/Tango/16/places/folder.png?"+Date.now();this.assertFalse(qx.io.ImageLoader.isLoaded(e),"Image already loaded, but this should not happen!");var t=new qx.ui.basic.Image;this.addAutoDispose(t);var i=this.spy();t.addListener("aborted",i,this);t.setSource(e);t.addListenerOnce("loaded",function(){t.resetSource();t.setSource(e);t.resetSource();t.setSource(e)},this);this.wait(500,function(){this.assertCalledOnce(i);window.setTimeout(function(){t.destroy()})}.bind(this))},testWebFontImage:function(){this._initWebFont();var e=new qx.ui.basic.Image("@FontAwesome/heart");this.addAutoDispose(e);var t=e.getContentElement();this.assertEquals("",t.getValue());e.getWidth(),e.getHeight();e.setScale(!1);e.setWidth(20);this.assertEquals("40px",t.getStyle("fontSize"));e.setScale(!0);this.assertEquals("20px",t.getStyle("fontSize"));e.setWidth(30);this.assertEquals("30px",t.getStyle("fontSize"));e.setScale(!1);e.setWidth(40);this.assertEquals("40px",t.getStyle("fontSize"));e.setSource("@FontAwesome/heart/55");this.assertEquals("55px",t.getStyle("fontSize"));e.setSource("@FontAwesome/heart");this.assertEquals("40px",t.getStyle("fontSize"));e.setSource("icon/16/apps/office-spreadsheet.png");t=e.getContentElement();this.assertInstance(t,qx.html.Image);e.setSource("@FontAwesome/arrow_right");t=e.getContentElement();this.assertInstance(t,qx.html.Label);e.setSource("@FontAwesome/f004");this.assertEquals("",t.getValue());e.resetSource();this.assertEquals(null,t.getValue());e.destroy()},testHighResImage:function(){qx.core.Environment.get("css.alphaimageloaderneeded")&&this.skip();var e=this.stub(qx.bom.client.Device,"getDevicePixelRatio",function(){return 2}),t=new qx.ui.basic.Image("qx/static/drawer.png");this.addAutoDispose(t);var i=qx.util.ResourceManager.getInstance();this.assertTrue(i.has("qx/static/drawer@2x.png"));this.assertEquals("qx/static/drawer@2x.png",t.getContentElement().getSource());t.destroy();e.restore()},testHighResImageWithDecoratorAndSourceInConstructor:function(){qx.core.Environment.get("css.alphaimageloaderneeded")&&this.skip();var e=this.stub(qx.bom.client.Device,"getDevicePixelRatio",function(){return 2}),t=new qx.ui.basic.Image("qx/static/drawer.png");this.addAutoDispose(t);t.setDecorator("toolbar-part");var i=qx.util.ResourceManager.getInstance();this.assertTrue(i.has("qx/static/drawer@2x.png"));var n=t.getContentElement().getStyle("backgroundImage");this.assertTrue(n.indexOf("drawer@2x.png")>-1);this.assertTrue(n.indexOf("toolbar-part.gif")>-1);t.destroy();e.restore()},testHighResImageWithDecoratorAndSourceInSetter:function(){qx.core.Environment.get("css.alphaimageloaderneeded")&&this.skip();var e=this.stub(qx.bom.client.Device,"getDevicePixelRatio",function(){return 2}),t=new qx.ui.basic.Image;this.addAutoDispose(t);t.setDecorator("toolbar-part");t.setSource("qx/static/drawer.png");var i=qx.util.ResourceManager.getInstance();this.assertTrue(i.has("qx/static/drawer@2x.png"));var n=t.getContentElement().getStyle("backgroundImage");this.assertTrue(n.indexOf("drawer@2x.png")>-1);this.assertTrue(n.indexOf("toolbar-part.gif")>-1);t.destroy();e.restore()},isFirefox:function(){return"gecko"===qx.core.Environment.get("engine.name")},_initWebFont:function(){qx.$$resources["@FontAwesome/heart"]=[40,40,61444];qx.$$resources["@FontAwesome/arrow_right"]=[40,47,61537];var e=qx.theme.manager.Font.getInstance().getTheme();qx.Theme.define("qx.theme.icon.Font",{fonts:{FontAwesome:{size:40,lineHeight:1,comparisonString:"",family:["FontAwesome"],sources:[{family:"FontAwesome",source:["qx/test/webfonts/fontawesome-webfont.ttf","qx/test/webfonts/fontawesome-webfont.woff"]}]}}});qx.Theme.include(e,qx.theme.icon.Font)}}});qx.test.ui.basic.Image.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.client.Browser":{},"qx.bom.webfonts.Manager":{},"qx.ui.container.Composite":{},"qx.ui.layout.Grow":{},"qx.ui.basic.Label":{},"qx.bom.webfonts.WebFont":{},"qx.util.ResourceManager":{},"qx.event.Timer":{},"qx.bom.Font":{},"qx.ui.form.TextField":{},"qx.lang.Array":{},"qx.locale.Manager":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.basic.Label",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{hasWebFontSupport:function(){var e=qx.core.Environment.get("browser.name"),t=qx.core.Environment.get("browser.version");return!("firefox"==e&&t<3.5||"opera"==e&&t<10)},tearDown:function(){qx.test.ui.basic.Label.prototype.tearDown.base.call(this);this.getSandbox().restore();qx.bom.webfonts.Manager.getInstance().dispose();delete qx.bom.webfonts.Manager.$$instance},testHeightForWidth:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.Grow);this.getRoot().add(e);var t=new qx.ui.basic.Label("juhu kinners juhu kinners juhu kinners juhu kinners juhu kinners juhu kinners ").set({rich:!0});e.add(t);this.flush();var i=t.getBounds().width;this.assertEquals(i,e.getBounds().width);e.setWidth(10);this.flush();e.resetWidth();this.flush();this.assertEquals(i,t.getBounds().width);e.destroy()},testSelectableSetOnCreate:function(){var e=(new qx.ui.basic.Label).set({selectable:!0});this.getRoot().add(e);this.flush();this.assertEquals("on",e.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableUnSetOnCreate:function(){var e=(new qx.ui.basic.Label).set({selectable:!1});this.getRoot().add(e);this.flush();this.assertEquals("off",e.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableSet:function(){var e=new qx.ui.basic.Label;e.setSelectable(!0);this.getRoot().add(e);this.flush();this.assertEquals("on",e.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testSelectableUnset:function(){var e=new qx.ui.basic.Label;e.setSelectable(!1);this.getRoot().add(e);this.flush();this.assertEquals("off",e.getContentElement().getDomElement().getAttribute("qxselectable"));e.destroy()},testWrapSet:function(){var e=new qx.ui.basic.Label;e.setRich(!0);e.setWrap(!0);this.assertEquals("normal",e.getContentElement().getStyle("whiteSpace"));e.dispose()},testTextAlign:function(){var e;(e=new qx.ui.basic.Label).setRich(!0);e.setTextAlign("justify");this.assertEquals("justify",e.getContentElement().getStyle("textAlign"));e.dispose();(e=new qx.ui.basic.Label).setRich(!0);e.setTextAlign("right");this.assertEquals("right",e.getContentElement().getStyle("textAlign"));e.dispose();(e=new qx.ui.basic.Label).setRich(!0);e.setTextAlign("left");this.assertEquals("left",e.getContentElement().getStyle("textAlign"));e.dispose();(e=new qx.ui.basic.Label).setRich(!0);e.setTextAlign("center");this.assertEquals("center",e.getContentElement().getStyle("textAlign"));e.dispose()},testWrapNotSet:function(){var e=new qx.ui.basic.Label;e.setRich(!0);e.setWrap(!1);this.assertEquals("nowrap",e.getContentElement().getStyle("whiteSpace"));e.dispose()},testApplyWebFont:function(){this.require(["webFontSupport"]);var e=new qx.ui.basic.Label("Laugh while you can, monkey boy!"),t=new qx.bom.webfonts.WebFont;t.set({size:18,family:["monospace"],sources:[{family:"FinelinerScriptRegular",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.eot")]},{family:"YanoneKaffeesatzRegular",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.eot")]}]});var i=this.spy(e,"_onWebFontStatusChange");e.setFont(t);qx.event.Timer.once(function(){this.resume(function(){e.dispose();t.dispose();this.assertCalledTwice(i)},this)},this,4e3);this.wait(8e3)},testApplyFontColorAndTextColor:function(){var e=new qx.bom.Font;e.setColor("#FF0000");var t=new qx.ui.basic.Label("test 1");t.setTextColor("#00FF00");t.setFont(e);this.getRoot().add(t);this.flush();this.assertEquals("#00FF00",t.getContentElement().getStyle("color"),"Color property should have more priority than font color.");t.destroy();e.dispose()},testBuddy:function(){var e=new qx.ui.basic.Label,t=new qx.ui.form.TextField,i=new qx.ui.form.TextField;e.setBuddy(t);this.assertEquals(1,e.getBindings().length,"There must be one binding!");this.assertEquals(1,t.getBindings().length,"There must be one binding!");this.assertTrue(qx.lang.Array.equals(e.getBindings()[0],t.getBindings()[0]),"label and textfield1 must have the same binding");e.setBuddy(i);this.assertEquals(0,t.getBindings().length,"There is still a binding!");this.assertEquals(1,e.getBindings().length,"There must be one binding!");this.assertEquals(1,i.getBindings().length,"There must be one binding!");this.assertTrue(qx.lang.Array.equals(e.getBindings()[0],i.getBindings()[0]),"label and textfield1 must have the same binding");e.dispose()},testLocaleInitialization:function(){var e=new qx.ui.basic.Label,t=qx.locale.Manager.getInstance();t.addTranslation("en",{TEST:"EN"});t.addTranslation("de",{TEST:"DE"});t.setLocale("en");var i=qx.locale.Manager.tr("TEST");t.setLocale("de");e.setValue(i);this.assertEquals("DE",e.getContentElement().getValue(),"label must have the current locale set")}}});qx.test.ui.basic.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.command.Command":{},"qx.ui.form.Button":{},"qx.ui.toolbar.Button":{},"qx.ui.menu.Button":{},"qx.locale.Manager":{},"qx.ui.menu.CheckBox":{},"qx.ui.menu.RadioButton":{},"qx.ui.form.ToggleButton":{},"qx.ui.form.SplitButton":{},"qx.ui.menu.Menu":{},"qx.ui.core.queue.Manager":{}},environment:{provided:[],required:{"qx.command.bindEnabled":{}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.command.Command",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__cmd:null,__button:null,__toolbarButton:null,__menuButton:null,setUp:function(){this.__cmd=new qx.ui.command.Command;this.__button=new qx.ui.form.Button("a");this.__button.setCommand(this.__cmd);this.__toolbarButton=new qx.ui.toolbar.Button("b");this.__toolbarButton.setCommand(this.__cmd);this.__menuButton=new qx.ui.menu.Button("c");this.__menuButton.setCommand(this.__cmd);qx.locale.Manager.getInstance().setLocale("en")},tearDown:function(){this.__cmd.dispose();this.__button.destroy();this.__toolbarButton.destroy();this.__menuButton.destroy();qx.locale.Manager.getInstance().resetLocale()},testLabel:function(){this.__cmd.setLabel("a");this.assertEquals(this.__cmd.getLabel(),this.__button.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__toolbarButton.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__menuButton.getLabel());this.__cmd.setLabel(null);this.assertEquals(this.__cmd.getLabel(),this.__button.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__toolbarButton.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__menuButton.getLabel());this.__cmd.setLabel("b");this.assertEquals(this.__cmd.getLabel(),this.__button.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__toolbarButton.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__menuButton.getLabel());this.__cmd.resetLabel();this.assertEquals(this.__cmd.getLabel(),this.__button.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__toolbarButton.getLabel());this.assertEquals(this.__cmd.getLabel(),this.__menuButton.getLabel())},testEnabled:function(){if(qx.core.Environment.get("qx.command.bindEnabled")){this.__cmd.setEnabled(!1);this.assertEquals(this.__cmd.getEnabled(),this.__button.getEnabled());this.assertEquals(this.__cmd.getEnabled(),this.__toolbarButton.getEnabled());this.assertEquals(this.__cmd.getEnabled(),this.__menuButton.getEnabled());this.__cmd.setEnabled(!0);this.assertEquals(this.__cmd.getEnabled(),this.__button.getEnabled());this.assertEquals(this.__cmd.getEnabled(),this.__toolbarButton.getEnabled());this.assertEquals(this.__cmd.getEnabled(),this.__menuButton.getEnabled())}else this.skip("Skipped because binding the Enabled property has been deprecated")},testIcon:function(){this.__cmd.setIcon("a");this.assertEquals(this.__cmd.getIcon(),this.__button.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__toolbarButton.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__menuButton.getIcon());this.__cmd.setIcon(null);this.assertEquals(this.__cmd.getIcon(),this.__button.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__toolbarButton.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__menuButton.getIcon());this.__cmd.setIcon("b");this.assertEquals(this.__cmd.getIcon(),this.__button.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__toolbarButton.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__menuButton.getIcon());this.__cmd.resetIcon();this.assertEquals(this.__cmd.getIcon(),this.__button.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__toolbarButton.getIcon());this.assertEquals(this.__cmd.getIcon(),this.__menuButton.getIcon())},testToolTipText:function(){this.__cmd.setToolTipText("a");this.assertEquals(this.__cmd.getToolTipText(),this.__button.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__toolbarButton.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__menuButton.getToolTipText());this.__cmd.setIcon(null);this.assertEquals(this.__cmd.getToolTipText(),this.__button.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__toolbarButton.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__menuButton.getToolTipText());this.__cmd.setIcon("b");this.assertEquals(this.__cmd.getToolTipText(),this.__button.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__toolbarButton.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__menuButton.getToolTipText());this.__cmd.resetIcon();this.assertEquals(this.__cmd.getToolTipText(),this.__button.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__toolbarButton.getToolTipText());this.assertEquals(this.__cmd.getToolTipText(),this.__menuButton.getToolTipText())},testRemoveCommand:function(){this.__button.setCommand(null);this.__toolbarButton.setCommand(null);this.__menuButton.setCommand(null);this.__cmd.setLabel("x");this.assertEquals("a",this.__button.getLabel());this.assertEquals("b",this.__toolbarButton.getLabel());this.assertEquals("c",this.__menuButton.getLabel())},testValue:function(){var e=new qx.ui.menu.CheckBox,t=new qx.ui.menu.RadioButton,i=new qx.ui.form.ToggleButton;t.setCommand(this.__cmd);e.setCommand(this.__cmd);i.setCommand(this.__cmd);this.__cmd.setValue(!0);this.assertEquals(this.__cmd.getValue(),e.getValue());this.assertEquals(this.__cmd.getValue(),t.getValue());this.assertEquals(this.__cmd.getValue(),i.getValue());this.__cmd.setValue(!1);this.assertEquals(this.__cmd.getValue(),e.getValue());this.assertEquals(this.__cmd.getValue(),t.getValue());this.assertEquals(this.__cmd.getValue(),i.getValue());i.dispose();e.dispose();t.dispose()},testMenu:function(){var e=new qx.ui.form.SplitButton;e.setCommand(this.__cmd);var t=new qx.ui.menu.Menu;this.__cmd.setMenu(t);this.assertEquals(t,e.getMenu());this.assertEquals(t,this.__menuButton.getMenu());this.__cmd.resetMenu();this.assertNull(e.getMenu());this.assertNull(this.__menuButton.getMenu());e.dispose();t.destroy()},testInit:function(){this.assertEquals("a",this.__button.getLabel());this.assertEquals("b",this.__toolbarButton.getLabel());this.assertEquals("c",this.__menuButton.getLabel());var e=new qx.ui.command.Command;e.setLabel("x");this.__button.setCommand(e);this.__toolbarButton.setCommand(e);this.__menuButton.setCommand(e);this.assertEquals(e.getLabel(),this.__button.getLabel());this.assertEquals(e.getLabel(),this.__toolbarButton.getLabel());this.assertEquals(e.getLabel(),this.__menuButton.getLabel());e.dispose()},testIconAsToolTipText:function(){var e=new qx.ui.command.Command("Control+D");e.setToolTipText("affe");var t=new qx.ui.form.Button("x","y");t.setCommand(e);this.assertEquals("affe",t.getToolTipText());t.dispose();e.dispose()},testDestructExecutable:function(){var e=new qx.ui.command.Command("Meta+T"),t=new qx.ui.form.Button("Command button",null,e);e.setEnabled(!1);t.destroy();qx.ui.core.queue.Manager.flush();e.setEnabled(!0);e.dispose()},testFireExecuteCount:function(){var e=this.spy(),t=new qx.ui.command.Command("Meta+T");t.addListener("execute",e);t.setEnabled(!1);t.setActive(!1);t.execute();this.assertCallCount(e,0);t.setEnabled(!0);t.setActive(!1);t.execute();this.assertCallCount(e,0);t.setEnabled(!0);t.setActive(!0);t.execute();this.assertCallCount(e,1);t.dispose()},testGetShortcut:function(){var e=new qx.ui.command.Command("Control+X");this.assertEquals("Control+X",e.getShortcut());e.dispose()},testShortCutToString:function(){var e=new qx.ui.command.Command("Ctrl+X");this.assertEquals("Ctrl+X",e.toString());e.dispose();this.assertEquals("qx.ui.command.Command[undefined]",e.toString())}}});qx.test.ui.command.Command.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.command.Group":{},"qx.ui.command.Command":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.command.Group",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{testAddingAndActivating:function(){var e=this.spy(),t=new qx.ui.command.Group,i=new qx.ui.command.Command("Meta+T");i.addListener("execute",e);this.assertTrue(t.add("test",i));t.setActive(!1);i.execute();this.assertCallCount(e,0);t.setActive(!0);i.execute();this.assertCallCount(e,1)},testHasCommand:function(){this.spy();var e=new qx.ui.command.Group,t=new qx.ui.command.Command("Meta+T");this.assertTrue(e.add("test",t));this.assertTrue(e.has("test"),"The command added with key 'test' must be registered.");this.assertFalse(e.has("foo"),"The command 'foo' must not be registered.")},testRemoveCommand:function(){var e=new qx.ui.command.Group,t=new qx.ui.command.Command("Meta+T");this.assertTrue(e.add("test",t));this.assertInstance(e.get("test"),qx.ui.command.Command,"Returned value is not an instance of qx.ui.command.Command.");this.assertInstance(e.remove("test"),qx.ui.command.Command);this.assertNull(e.get("test"),"The returned value is not null. We expected null after removing the command from group.")}}});qx.test.ui.command.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.command.Command":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.command.Group",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this._cmds={}},properties:{active:{init:!0,check:"Boolean",apply:"_applyActive"}},members:{_cmds:null,_applyActive:function(e){for(var t in this._cmds)this._cmds[t].setActive(e)},add:function(e,t){this.assertArgumentsCount(arguments,2,2,"Given parameter count mismatch! Please provide a key as string and a command intsance.");this.assertString(e,"Key parameter must be a string.");this.assertInstance(t,qx.ui.command.Command,"Given command is not an instance of qx.ui.command.Command");if(this.has(e)){this.debug("Command with key: '"+e+"' already exists!");return!1}this._cmds[e]=t;return!0},get:function(e){this.assertString(e,"Key parameter must be a string.");var t=this._cmds[e];if(!t){this.debug("The key: '"+e+"' was not added before. Please use 'add()' method to add the command.");return null}return t},has:function(e){this.assertString(e,"Key parameter must be a string.");return!!this._cmds[e]},remove:function(e){this.assertString(e,"Key parameter must be a string.");var t=this._cmds[e];if(!t){this.debug("The key: '"+e+"' was not added before. Please use 'add()' method to add the command.");return null}delete this._cmds[e];return t}},destruct:function(){this._cmds=null}});qx.ui.command.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.command.GroupManager":{},"qx.ui.command.Group":{},"qx.ui.command.Command":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.command.GroupManager",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{testGroupManager:function(){var e=this.spy(),t=new qx.ui.command.GroupManager,i=new qx.ui.command.Group,n=new qx.ui.command.Command("Meta+T"),s=new qx.ui.command.Group,r=new qx.ui.command.Command("Meta+T");n.addListener("execute",e);r.addListener("execute",e);i.add("cmd",n);s.add("cmd2",r);t.add(i);t.add(s);t.setActive(i);n.execute();r.execute();this.assertCallCount(e,1);t.setActive(i);n.execute();r.execute();this.assertCallCount(e,2);t.unblock(i);n.execute();r.execute();this.assertCallCount(e,3);t.block(i);n.execute();r.execute();this.assertCallCount(e,3)},"test: add and remove group":function(){var e=new qx.ui.command.GroupManager,t=new qx.ui.command.Group,i=(new qx.ui.command.Command("Meta+T"),new qx.ui.command.Group);new qx.ui.command.Command("Meta+T");e.add(t);e.add(i);e.setActive(t);e.remove(t);this.assertFalse(e.has(t));this.assertNull(e.getActive(t))}}});qx.test.ui.command.GroupManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.command.Group":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.command.GroupManager",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__groups=[]},members:{__groups:null,__activeGroup:null,add:function(e){this.assertInstance(e,qx.ui.command.Group,"Given group is not an instance of qx.ui.command.Group");if(this.__groups.includes(e)){this.debug("Group is already added!");return!1}this.__groups.push(e);e.setActive(!1);return!0},has:function(e){this.assertInstance(e,qx.ui.command.Group,"Given group is not an instance of qx.ui.command.Group");return!!this._getGroup(e)},remove:function(e){this.assertInstance(e,qx.ui.command.Group,"Group must be an instance of qx.ui.command.Group");var t=this.__groups.indexOf(e);-1===t&&this.debug("Group was not added before. Please use 'add()' method to add the group.");this.getActive()===e&&(this.__activeGroup=null);this.__groups.splice(t,1);return e},setActive:function(e){this.assertInstance(e,qx.ui.command.Group,"Given group is not an instance of qx.ui.command.Group");if(!this.has(e)){this.debug("Group was not added before! You have to use 'addCommand()' method before activating!");return!1}for(var t=0;t<this.__groups.length;t++){var i=this.__groups[t];if(i!=e)i.setActive(!1);else{i.setActive(!0);this.__activeGroup=i}}return!0},getActive:function(){return this.__activeGroup},block:function(){this.__activeGroup&&this.__activeGroup.setActive(!1)},unblock:function(){this.__activeGroup&&this.__activeGroup.setActive(!0)},_getGroup:function(e){var t=this.__groups.indexOf(e);return-1===t?null:this.__groups[t]}},destruct:function(){this.__groups=this.__activeGroup=null}});qx.ui.command.GroupManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.container.Stack":{},"qx.ui.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.container.Stack",{extend:qx.dev.unit.TestCase,members:{__stack:null,__c1:null,__c2:null,__c3:null,setUp:function(){this.__stack=new qx.ui.container.Stack;var e=this.__c1=new qx.ui.container.Composite,t=this.__c2=new qx.ui.container.Composite,i=this.__c3=new qx.ui.container.Composite;e.set({backgroundColor:"#F00",width:200,height:200});t.set({backgroundColor:"#0F0",width:200,height:200});i.set({backgroundColor:"#00F",width:200,height:200})},tearDown:function(){this.__stack.destroy();this.__c1.destroy();this.__c2.destroy();this.__c3.destroy()},testAddAndSelectChild:function(){this.__stack.add(this.__c1);this.assertIdentical(this.__c1,this.__stack.getSelection()[0])},testAddAndDontSelectChildInADynamicStack:function(){this.__stack.setDynamic(!1);this.__stack.add(this.__c1);this.__stack.add(this.__c2);this.assertIdentical(this.__c1,this.__stack.getSelection()[0]);this.assertTrue(this.__c2.isHidden())},testAddAndDontSelectChildInANonDynamicStack:function(){this.__stack.setDynamic(!0);this.__stack.add(this.__c1);this.__stack.add(this.__c2);this.assertIdentical(this.__c1,this.__stack.getSelection()[0]);this.assertTrue(this.__c2.isExcluded())},testRemoveSelectedChildSelectFirstOne:function(){this.__stack.add(this.__c1);this.__stack.add(this.__c2);this.__stack.setSelection([this.__c2]);this.__stack.remove(this.__c2);this.assertIdentical(this.__c1,this.__stack.getSelection()[0])},testRemoveSelectedChildResetSelection:function(){this.__stack.add(this.__c1);this.__stack.add(this.__c2);this.__stack.add(this.__c3);this.__stack.remove(this.__c1);this.__stack.remove(this.__c2);this.__stack.remove(this.__c3);this.assertArrayEquals([],this.__stack.getSelection())}}});qx.test.ui.container.Stack.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.core.scroll.AbstractScrollArea":{},"qx.ui.container.Composite":{},"qx.ui.layout.Grow":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.AbstractScrollArea",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,members:{__widget:null,__outer:null,setUp:function(){qx.Class.define("qx.test.ui.core.AbstractScrollArea.fixture.CustomWidget",{extend:qx.ui.core.scroll.AbstractScrollArea,members:{setSingleChild:function(e){this.getChildControl("pane").add(e)},hasScrollBar:function(e){this._computeScrollbars();return this._isChildControlVisible("scrollbar-"+e)}}});this.__outer=new qx.ui.container.Composite(new qx.ui.layout.Grow);this.__outer.set({maxWidth:100,maxHeight:100});this.__widget=new qx.test.ui.core.AbstractScrollArea.fixture.CustomWidget;this.__outer.add(this.__widget);this.getRoot().add(this.__outer);qx.test.ui.core.AbstractScrollArea.prototype.setUp.base.call(this)},tearDown:function(){this.getSandbox().restore();qx.Class.undefine("qx.test.ui.core.AbstractScrollArea.fixture.CustomWidget");qx.test.ui.core.AbstractScrollArea.prototype.tearDown.base.call(this)},assertBounds:function(e,t){var i,n;i=e instanceof qx.ui.core.Widget?e.getBounds():e;n=t.getBounds();this.assertIdentical(i.top,n.top);this.assertIdentical(i.left,n.left);this.assertIdentical(i.width,n.width);this.assertIdentical(i.height,n.height)},"test default behaviour":function(){var e=new qx.ui.core.Widget;this.__widget.setSingleChild(e);this.flush();this.assertBounds(e,this.__widget)},"test smaller widget than container":function(){var e=new qx.ui.core.Widget;e.set({minWidth:80,minHeight:80});this.__widget.setSingleChild(e);this.flush();this.assertBounds(e,this.__widget);this.assertFalse(this.__widget.hasScrollBar("x"));this.assertFalse(this.__widget.hasScrollBar("y"))},"test bigger widget than container":function(){var e=new qx.ui.core.Widget;e.set({minWidth:120,minHeight:120});this.__widget.setSingleChild(e);this.flush();this.assertBounds({left:0,top:0,width:100,height:100},this.__widget);this.assertBounds({left:0,top:0,width:120,height:120},e);this.assertTrue(this.__widget.hasScrollBar("x"));this.assertTrue(this.__widget.hasScrollBar("y"))},"test bigger preferred widget than container":function(){var e=new qx.ui.core.Widget;e.set({width:120,height:120});this.__widget.setSingleChild(e);this.flush();this.assertBounds({left:0,top:0,width:100,height:100},this.__widget);this.assertBounds({left:0,top:0,width:100,height:100},e);this.assertFalse(this.__widget.hasScrollBar("x"));this.assertFalse(this.__widget.hasScrollBar("y"))},"test bigger widget than smaller preferred container":function(){var e=new qx.ui.core.Widget;e.set({minWidth:120,minHeight:120});this.__widget.setSingleChild(e);this.__outer.set({width:100,height:100});this.__outer.resetMaxWidth();this.__outer.resetMaxHeight();this.flush();this.assertBounds({left:0,top:0,width:100,height:100},this.__widget);this.assertBounds({left:0,top:0,width:120,height:120},e);this.assertTrue(this.__widget.hasScrollBar("x"));this.assertTrue(this.__widget.hasScrollBar("y"))}}});qx.test.ui.core.AbstractScrollArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.theme.manager.Appearance":{},"qx.Theme":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.layout.Grow":{construct:!0},"qx.ui.form.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Appearance",{extend:qx.test.ui.LayoutTestCase,members:{__oldAppearance:null,setUp:function(){this.__oldAppearance=qx.theme.manager.Appearance.getInstance().getTheme();qx.theme.manager.Appearance.getInstance().setTheme(qx.test.ui.core.Theme)},tearDown:function(){qx.test.ui.core.Appearance.prototype.tearDown.base.call(this);qx.theme.manager.Appearance.getInstance().setTheme(this.__oldAppearance)},testDefault:function(){var e=new qx.test.ui.core.Test;e.setAppearance("test");this.getRoot().add(e);e.getChildControl("text");this.flush();this.assertEquals("red",e.getBackgroundColor());this.assertEquals("blue",e.getChildControl("text").getBackgroundColor());e.destroy()},testFallback:function(){var e=new qx.test.ui.core.Test;e.setAppearance("test2");this.getRoot().add(e);e.getChildControl("text");this.flush();this.assertEquals("yellow",e.getBackgroundColor());this.assertEquals("green",e.getChildControl("text").getBackgroundColor());e.destroy()},testChange:function(){var e=new qx.test.ui.core.Test;e.setAppearance("test2");this.getRoot().add(e);e.getChildControl("text");this.flush();this.assertEquals("yellow",e.getBackgroundColor());this.assertEquals("green",e.getChildControl("text").getBackgroundColor());e.setAppearance("test");this.flush();this.assertEquals("red",e.getBackgroundColor());this.assertEquals("blue",e.getChildControl("text").getBackgroundColor());e.destroy()},testReuseNotDefined:function(){var e=new qx.test.ui.core.Test;e.setAppearance("test");this.getRoot().add(e);e.getChildControl("text");e.getChildControl("text2").setAppearance("nix");this.flush();this.assertEquals("red",e.getBackgroundColor());this.assertEquals("blue",e.getChildControl("text").getBackgroundColor());e.setAppearance("test2");this.flush();this.assertEquals("yellow",e.getBackgroundColor());this.assertEquals("black",e.getChildControl("text2").getBackgroundColor());this.assertEquals("green",e.getChildControl("text").getBackgroundColor());e.destroy()}}});qx.Theme.define("qx.test.ui.core.Theme",{appearances:{test:{style:function(e){return{backgroundColor:"red"}}},"test/text":{style:function(e){return{backgroundColor:"blue"}}},textfield:{style:function(e){return{backgroundColor:"green"}}},test2:{style:function(e){return{backgroundColor:"yellow"}}},"test2/text2":{style:function(e){return{backgroundColor:"black"}}}}});qx.Class.define("qx.test.ui.core.Test",{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.Grow)},members:{_createChildControlImpl:function(e,t){if("text"==e||"text2"==e){var i=new qx.ui.form.TextField("affe");this._add(i);return i}return qx.test.ui.core.Test.prototype._createChildControlImpl.base.call(this,e)}}});qx.test.ui.core.Appearance.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.Blocker":{},"qx.event.Registration":{},"qx.event.handler.Focus":{},"qx.ui.form.TextField":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Blocker",{extend:qx.test.ui.LayoutTestCase,members:{__blocker:null,setUp:function(){qx.test.ui.core.Blocker.prototype.setUp.base.call(this);this.__blocker=new qx.ui.core.Blocker(this.getRoot());this.__blocker.setColor("green");this.__blocker.setOpacity(.5)},tearDown:function(){qx.test.ui.core.Blocker.prototype.tearDown.base.call(this);this.__blocker.dispose()},testBlocker:function(){var e=this.__blocker.getBlockerElement();this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.unblock();this.flush();this.assertFalse(this.__blocker.isBlocked(),"isBlocked()");this.assertFalse(e.isIncluded(),"isIncluded()")},testBlockerThrice:function(){var e=this.__blocker.getBlockerElement();this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.unblock();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.unblock();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.unblock();this.flush();this.assertFalse(this.__blocker.isBlocked(),"isBlocked()");this.assertFalse(e.isIncluded(),"isIncluded()")},testForceUnblock:function(){var e=this.__blocker.getBlockerElement();this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(e.isIncluded(),"isIncluded()");this.__blocker.forceUnblock();this.flush();this.assertFalse(this.__blocker.isBlocked(),"isBlocked()");this.assertFalse(e.isIncluded(),"isIncluded()")},testBlockedEvent:function(){this.__blockedEventFired=!1;this.__unblockedEventFired=!1;this.__blocker.addListenerOnce("blocked",function(e){this.__blockedEventFired=!0},this);this.__blocker.addListenerOnce("unblocked",function(e){this.__unblockedEventFired=!0},this);this.__blocker.block();this.__blocker.unblock();this.wait(100,function(){this.assertTrue(this.__blockedEventFired,"'blocked' event was not fired, after block() was executed!");this.assertTrue(this.__unblockedEventFired,"'unblocked' event was not fired, after unblock() was executed!")},this)},testRestoreActiveAndFocusedWidgets:function(){var e,t,i=qx.event.Registration.getManager(window).getHandler(qx.event.handler.Focus),n=new qx.ui.form.TextField;this.getRoot().add(n,{left:100,top:0});n.focus();var s=new qx.ui.form.TextField;this.getRoot().add(s);s.activate();this.flush();var r=this.__blocker.getBlockerElement();this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(r.isIncluded(),"isIncluded()");e=qx.ui.core.Widget.getWidgetByElement(i.getActive());this.assertFalse(e===s,"text field 1 must not be active");t=qx.ui.core.Widget.getWidgetByElement(i.getFocus());this.assertFalse(t===n,"text field 2 must not be focused");this.__blocker.unblock();this.flush();this.assertFalse(this.__blocker.isBlocked(),"isBlocked()");this.assertFalse(r.isIncluded(),"isIncluded()");e=qx.ui.core.Widget.getWidgetByElement(i.getActive());this.assertTrue(e===s,"text field 1 must be active");t=qx.ui.core.Widget.getWidgetByElement(i.getFocus());this.assertTrue(t===n,"text field 2 must be focused");s.destroy();n.destroy();this.flush()},testRestoreDisposedWidget:function(){var e,t=qx.event.Registration.getManager(window).getHandler(qx.event.handler.Focus),i=new qx.ui.form.TextField;this.getRoot().add(i);i.focus();this.flush();var n=this.__blocker.getBlockerElement();this.__blocker.block();this.flush();this.assertTrue(this.__blocker.isBlocked(),"isBlocked()");this.assertTrue(n.isIncluded(),"isIncluded()");i.destroy();this.flush();this.__blocker.unblock();this.flush();this.assertFalse(this.__blocker.isBlocked(),"isBlocked()");this.assertFalse(n.isIncluded(),"isIncluded()");e=qx.ui.core.Widget.getWidgetByElement(t.getFocus());this.assertFalse(e===i,"text field must be focused, because it is destroyed");i.destroy();this.flush()}}});qx.test.ui.core.Blocker.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.MDragDropScrolling":{require:!0},"qx.ui.form.List":{},"qx.ui.form.ListItem":{},"qx.ui.core.DragDropScrolling":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.DragDropScrolling",{extend:qx.test.ui.LayoutTestCase,include:qx.ui.core.MDragDropScrolling,members:{list:null,setUp:function(){this.list=this._createDummyList();this.getRoot().add(this.list,{left:150});this.flush()},tearDown:function(){this.list.destroy()},_createDummyList:function(){for(var e=new qx.ui.form.List,t=0;t<20;t++)e.add(new qx.ui.form.ListItem("Item "+t));return e},testFindScrollableParent:function(){var e=this.list.findItem("Item 7");this.assertNotNull(this._findScrollableParent(e))},testIsScrollable:function(){this.assertTrue(this._isScrollable(this.list));this.assertFalse(this._isScrollable(this))},testGetBounds:function(){var e=this._getBounds(this.list);this.assertKeyInMap("top",e);this.assertKeyInMap("right",e);this.assertKeyInMap("bottom",e);this.assertKeyInMap("left",e)},testGetEdgeType:function(){var e={};e={left:-20,right:0,bottom:0,top:0};this.assertEquals("left",this._getEdgeType(e,20,30));e={left:0,right:20,bottom:0,top:0};this.assertEquals("right",this._getEdgeType(e,20,30));e={left:0,right:0,bottom:0,top:-30};this.assertEquals("top",this._getEdgeType(e,20,30));e={left:0,right:0,bottom:30,top:0};this.assertEquals("bottom",this._getEdgeType(e,20,30))},testGetAxis:function(){this.assertEquals("x",this._getAxis("left"));this.assertEquals("x",this._getAxis("right"));this.assertEquals("y",this._getAxis("top"));this.assertEquals("y",this._getAxis("bottom"));this.assertException(function(){this._getAxis("notLeftRightTopOrBottom")},Error)},testGetThresholdByEdgeType:function(){this.setDragScrollThresholdX(15);this.assertEquals(15,this._getThresholdByEdgeType("left"));this.assertEquals(15,this._getThresholdByEdgeType("right"));this.setDragScrollThresholdY(25);this.assertEquals(25,this._getThresholdByEdgeType("top"));this.assertEquals(25,this._getThresholdByEdgeType("bottom"))},testIsScrollbarVisible:function(){this.assertTrue(this._isScrollbarVisible(this.list,"y"));this.assertFalse(this._isScrollbarVisible(this.list,"x"))},testIsScrollbarExceedingMaxPos:function(){var e=this.list.getChildControl("scrollbar-y",!0);this.assertFalse(this._isScrollbarExceedingMaxPos(e,"y",30))},testCalculateThresholdExeedance:function(){this.assertEquals(10,this._calculateThresholdExceedance(10,20));this.assertEquals(-10,this._calculateThresholdExceedance(-10,20))},testCalculateScrollAmount:function(){this.assertEquals(10,this._calculateScrollAmount(500,20));this.assertEquals(-10,this._calculateScrollAmount(-500,20))},testScrollBy:function(){var e=this.list.getChildControl("scrollbar-y",!0),t=e.getPosition(),i=this._calculateScrollAmount(e.getBounds().height,20);this._scrollBy(this.list,"y",20);this.assertEquals(Math.ceil(t+i),e.getPosition())},testRootWidget:function(){var e;e=new qx.ui.core.DragDropScrolling;this.assertTrue(e._getWidget()===this.getRoot(),"Root widget must be application root!");e.dispose();var t=new qx.ui.core.Widget;e=new qx.ui.core.DragDropScrolling(t);this.assertTrue(e._getWidget()===t,"Wrong root widget!");e.dispose();t.dispose()},testListenerTargets:function(){var e;e=new qx.ui.core.DragDropScrolling;this.assertTrue(e._getWidget().hasListener("drag"),"'drag' event listener not found !");this.assertTrue(e._getWidget().hasListener("dragend"),"'dragend' event listener not found !");e.dispose();var t=new qx.ui.core.Widget;e=new qx.ui.core.DragDropScrolling(t);this.assertTrue(t.hasListener("drag"),"'drag' event listener not found !");this.assertTrue(t.hasListener("dragend"),"'dragend' event listener not found !");e.dispose();t.dispose();this.assertTrue(this.list.hasListener("drag"),"'drag' event listener not found !");this.assertTrue(this.list.hasListener("dragend"),"'dragend' event listener not found !")}}});qx.test.ui.core.DragDropScrolling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.Widget":{},"qx.ui.core.MPlacement":{},"qx.ui.popup.Popup":{},"qx.ui.menu.Menu":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Placement",{extend:qx.test.ui.LayoutTestCase,members:{__nogo:null,setUp:function(){this.__nogo=(new qx.ui.core.Widget).set({backgroundColor:"red",width:100,height:300});this.getRoot().add(this.__nogo,{left:150});qx.ui.core.MPlacement.setVisibleElement(this.__nogo)},tearDown:function(){qx.test.ui.core.Placement.prototype.tearDown.base.call(this);qx.ui.core.MPlacement.setVisibleElement(null);this.__nogo.destroy()},__testAlwaysVisibleElement:function(e){e.show();e.hide();e.setWidth(100);e.setVisibility("visible");this.flush();e.moveTo(100,0);this.flush();var t=e.getBounds(),i=t.left+t.width;this.assertEquals(150,i);this.assertEquals(50,t.left)},testVisibleWithPopoup:function(){var e=new qx.ui.popup.Popup;this.__testAlwaysVisibleElement(e);e.destroy()},testVisibleWithMenu:function(){var e=new qx.ui.menu.Menu;this.__testAlwaysVisibleElement(e);e.destroy()},__testAlwaysVisibleElementTooBig:function(e){e.show();e.hide();e.setWidth(200);e.setVisibility("visible");this.flush();e.moveTo(100,0);this.flush();var t=e.getBounds(),i=t.left+t.width;this.assertEquals(200,i);this.assertEquals(0,t.left)},testVisibleWithPopoupTooBig:function(){var e=new qx.ui.popup.Popup;this.__testAlwaysVisibleElementTooBig(e);e.destroy()},testVisibleWithMenuTooBig:function(){var e=new qx.ui.menu.Menu;this.__testAlwaysVisibleElementTooBig(e);e.destroy()},__testAlwaysVisibleElementAbove:function(e){e.show();e.hide();this.__nogo.setLayoutProperties({top:100});e.setWidth(100);e.setVisibility("visible");this.flush();e.moveTo(100,0);this.flush();var t=e.getBounds(),i=t.left+t.width;this.assertEquals(200,i);this.assertEquals(100,t.left)},testVisibleWithPopoupAbove:function(){var e=new qx.ui.popup.Popup;this.__testAlwaysVisibleElementAbove(e);e.destroy()},testVisibleWithMenuAbove:function(){var e=new qx.ui.menu.Menu;this.__testAlwaysVisibleElementAbove(e);e.destroy()},__testAlwaysVisibleElementBelow:function(e){e.show();e.hide();e.setWidth(100);e.setVisibility("visible");this.flush();e.moveTo(100,400);this.flush();var t=e.getBounds(),i=t.left+t.width;this.assertEquals(200,i);this.assertEquals(100,t.left)},testVisibleWithPopoupBelow:function(){var e=new qx.ui.popup.Popup;this.__testAlwaysVisibleElementBelow(e);e.destroy()},testVisibleWithMenuBelow:function(){var e=new qx.ui.menu.Menu;this.__testAlwaysVisibleElementBelow(e);e.destroy()}}});qx.test.ui.core.Placement.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.core.queue.Manager":{},"qx.ui.core.Widget":{},"qx.ui.core.queue.Widget":{},"qx.ui.core.queue.Appearance":{},"qx.ui.core.queue.Visibility":{},"qx.ui.core.queue.Dispose":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Queues",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__widget1:null,__widget2:null,__widget3:null,__widget4:null,setUp:function(){qx.ui.core.queue.Manager.flush();this.__widget1=new qx.ui.core.Widget;this.__widget1.$$hash=1e6;this.__widget2=new qx.ui.core.Widget;this.__widget2.$$hash=1000001;this.__widget3=new qx.ui.core.Widget;this.__widget3.$$hash=1000002;this.__widget4=new qx.ui.core.Widget;this.__widget4.$$hash=1000003},tearDown:function(){this.__widget1.dispose();this.__widget2.dispose();this.__widget3.dispose();this.__widget4.dispose()},testWidgetOrder:function(){qx.ui.core.queue.Widget.add(this.__widget4);qx.ui.core.queue.Widget.add(this.__widget3);qx.ui.core.queue.Widget.add(this.__widget2);qx.ui.core.queue.Widget.add(this.__widget1);var e=this.spy(this.__widget1,"syncWidget"),t=this.spy(this.__widget2,"syncWidget"),i=this.spy(this.__widget3,"syncWidget"),n=this.spy(this.__widget4,"syncWidget");qx.ui.core.queue.Widget.flush();this.assertCalledOnce(e);this.assertCalledOnce(t);this.assertCalledOnce(i);this.assertCalledOnce(n);this.assertCallOrder(n,i,t,e)},testAppearanceOrder:function(){qx.ui.core.queue.Appearance.add(this.__widget4);qx.ui.core.queue.Appearance.add(this.__widget3);qx.ui.core.queue.Appearance.add(this.__widget2);qx.ui.core.queue.Appearance.add(this.__widget1);var e=this.spy(this.__widget1,"syncAppearance"),t=this.spy(this.__widget2,"syncAppearance"),i=this.spy(this.__widget3,"syncAppearance"),n=this.spy(this.__widget4,"syncAppearance"),s=this.stub(qx.ui.core.queue.Visibility,"isVisible").returns(!0);qx.ui.core.queue.Appearance.flush();s.restore();this.assertCalledOnce(e);this.assertCalledOnce(t);this.assertCalledOnce(i);this.assertCalledOnce(n);this.assertCallOrder(n,i,t,e)},testDisposeOrder:function(){qx.ui.core.queue.Dispose.add(this.__widget4);qx.ui.core.queue.Dispose.add(this.__widget3);qx.ui.core.queue.Dispose.add(this.__widget2);qx.ui.core.queue.Dispose.add(this.__widget1);var e=this.spy(this.__widget1,"dispose"),t=this.spy(this.__widget2,"dispose"),i=this.spy(this.__widget3,"dispose"),n=this.spy(this.__widget4,"dispose");qx.ui.core.queue.Dispose.flush();this.assertCalledOnce(e);this.assertCalledOnce(t);this.assertCalledOnce(i);this.assertCalledOnce(n);this.assertCallOrder(n,i,t,e)},testVisibilityOrder:function(){qx.ui.core.queue.Visibility.add(this.__widget4);qx.ui.core.queue.Visibility.add(this.__widget3);qx.ui.core.queue.Visibility.add(this.__widget2);qx.ui.core.queue.Visibility.add(this.__widget1);var e=this.spy(this.__widget1,"isRootWidget"),t=this.spy(this.__widget2,"isRootWidget"),i=this.spy(this.__widget3,"isRootWidget"),n=this.spy(this.__widget4,"isRootWidget");qx.ui.core.queue.Visibility.flush();this.assertCalledOnce(e);this.assertCalledOnce(t);this.assertCalledOnce(i);this.assertCalledOnce(n);this.assertCallOrder(n,i,t,e)},testWidgetAddJobs:function(){qx.ui.core.queue.Widget.add(this.__widget4,"job4");qx.ui.core.queue.Widget.add(this.__widget3,"job3");qx.ui.core.queue.Widget.add(this.__widget2);qx.ui.core.queue.Widget.add(this.__widget1,"job1");qx.ui.core.queue.Widget.add(this.__widget1,"job1");qx.ui.core.queue.Widget.add(this.__widget1,"job3");qx.ui.core.queue.Widget.add(this.__widget1,"job2");var e=this.spy(this.__widget1,"syncWidget"),t=this.spy(this.__widget2,"syncWidget"),i=this.spy(this.__widget3,"syncWidget"),n=this.spy(this.__widget4,"syncWidget");qx.ui.core.queue.Widget.flush();this.assertCalledOnce(e,"widgte1");this.assertCalledOnce(t,"widget2");this.assertCalledOnce(i,"widget3");this.assertCalledOnce(n,"widget4");this.assertCallOrder(n,i,t,e);this.assertTrue(e.args[0][0].job1);this.assertTrue(e.args[0][0].job2);this.assertTrue(e.args[0][0].job3);this.assertTrue(t.args[0][0].$$default);this.assertTrue(i.args[0][0].job3);this.assertTrue(n.args[0][0].job4)},testWidgetRemoveJobs:function(){qx.ui.core.queue.Widget.add(this.__widget2);qx.ui.core.queue.Widget.add(this.__widget1,"job1");qx.ui.core.queue.Widget.add(this.__widget1,"job1");qx.ui.core.queue.Widget.add(this.__widget1,"job3");qx.ui.core.queue.Widget.add(this.__widget1,"job2");qx.ui.core.queue.Widget.remove(this.__widget1,"job1");var e=this.spy(this.__widget1,"syncWidget"),t=this.spy(this.__widget2,"syncWidget");qx.ui.core.queue.Widget.flush();this.assertCalledOnce(e,"widgte1");this.assertCalledOnce(t,"widget2");this.assertTrue(e.args[0][0].job2);this.assertTrue(e.args[0][0].job3);this.assertUndefined(e.args[0][0].job1);this.assertTrue(t.args[0][0].$$default)}}});qx.test.ui.core.Queues.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.core.Widget":{},"qx.core.AssertionError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.SizeHint",{extend:qx.dev.unit.TestCase,type:"abstract",members:{setUp:function(){this.widget=new qx.ui.core.Widget},tearDown:function(){this.widget.dispose()},getHint:function(){this.widget.invalidateLayoutCache();return this.widget.getSizeHint()},assertHint:function(e,t,i){throw new Error("abstract method call")},getDefaultSize:function(){throw new Error("abstract method call")},setSize:function(e,t,i){throw new Error("abstract method call")},setStretching:function(e,t){throw new Error("abstract method call")},testDefaultSize:function(){this.assertHint(0,this.getDefaultSize(),1/0)},testSize:function(){this.setStretching(!0,!0);this.setSize(null,200,null);this.assertHint(0,200,1/0)},testMinLargerThanSize:function(){this.setStretching(!0,!0);this.setSize(200,100,null);this.assertHint(200,200,1/0)},testMinSmallerThanSize:function(){this.setStretching(!0,!0);this.setSize(50,150,null);this.assertHint(50,150,1/0)},testMaxSmallerThanSize:function(){this.setStretching(!0,!0);this.setSize(null,100,10);this.assertHint(0,10,10)},testMaxLargerThanSize:function(){this.setStretching(!0,!0);this.setSize(null,100,150);this.assertHint(0,100,150)},testNoGrow:function(){this.setStretching(!0,!1);this.setSize(null,100,null);this.assertHint(0,100,100)},testNoShrink:function(){this.setStretching(!1,!0);this.setSize(null,100,null);this.assertHint(100,100,1/0)},testNoStretch:function(){this.setStretching(!1,!1);this.setSize(null,100,null);this.assertHint(100,100,100)},testNoGrowAndMaxLargerThanSize:function(){this.setStretching(!0,!1);this.setSize(null,100,150);this.assertHint(0,100,100)},testNoGrowAndMaxSmallerThanSize:function(){this.setStretching(!0,!1);this.setSize(null,100,50);this.assertHint(0,50,50)},testNoGrowAndMinLargerThanSize:function(){this.setStretching(!0,!1);this.setSize(150,100,null);this.assertHint(150,150,150)},testNoShrinkAndMinLargerSize:function(){this.setStretching(!1,!0);this.setSize(150,100,null);this.assertHint(150,150,1/0)},testNoShrinkAndMinSmallerSize:function(){this.setStretching(!1,!0);this.setSize(50,100,null);this.assertHint(100,100,1/0)},testNoShrinkAndMaxSmallerSize:function(){this.setStretching(!1,!0);this.setSize(null,100,50);this.assertHint(50,50,50)},testMinLargerThanMax:function(){this.setStretching(!0,!0);this.setSize(200,100,150);if(this.isDebugOn()){var e=this;this.assertException(function(){e.getHint()},qx.core.AssertionError)}},testMinAndMaxLargerThanSize:function(){this.setStretching(!0,!0);this.setSize(150,100,200);this.assertHint(150,150,200)},testMinAndMaxSmallerThanSize:function(){this.setStretching(!0,!0);this.setSize(150,300,200);this.assertHint(150,200,200)}}});qx.test.ui.core.SizeHint.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.core.SizeHint":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.SizeHintX",{extend:qx.test.ui.core.SizeHint,members:{assertHint:function(e,t,i){var n=this.getHint();this.assertEquals(e,n.minWidth,"min width");this.assertEquals(t,n.width,"width");this.assertEquals(i,n.maxWidth,"max width")},getDefaultSize:function(){return 100},setSize:function(e,t,i){this.widget.set({minWidth:e,width:t,maxWidth:i})},setStretching:function(e,t){this.widget.setAllowStretchX(t,e)}}});qx.test.ui.core.SizeHintX.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.core.SizeHint":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.SizeHintY",{extend:qx.test.ui.core.SizeHint,members:{assertHint:function(e,t,i){var n=this.getHint();this.assertEquals(e,n.minHeight,"min height");this.assertEquals(t,n.height,"height");this.assertEquals(i,n.maxHeight,"max height")},getDefaultSize:function(){return 50},setSize:function(e,t,i){this.widget.set({minHeight:e,height:t,maxHeight:i})},setStretching:function(e,t){this.widget.setAllowStretchY(t,e)}}});qx.test.ui.core.SizeHintY.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.core.Spacer":{},"qx.ui.core.queue.Dispose":{},"qx.ui.layout.HBox":{},"qx.ui.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Spacer",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{tearDown:function(){this.getSandbox().restore()},testConstructor:function(){var e=new qx.ui.core.Spacer;this.assertEquals(0,e.getWidth());this.assertEquals(0,e.getHeight());e.destroy()},testConstructorWithParams:function(){var e=new qx.ui.core.Spacer(100,200);this.assertEquals(100,e.getWidth());this.assertEquals(200,e.getHeight());e.destroy()},testDestroy:function(){this.spy(qx.ui.core.queue.Dispose,"add");var e=new qx.ui.core.Spacer;e.destroy();this.assertCalledOnce(qx.ui.core.queue.Dispose.add);this.assertCalledWith(qx.ui.core.queue.Dispose.add,e)},testDestroyOnAlreadyDestroyed:function(){var e=new qx.ui.core.Spacer;e.destroy();qx.ui.core.queue.Dispose.flush();this.spy(qx.ui.core.queue.Dispose,"add");e.destroy();this.assertNotCalled(qx.ui.core.queue.Dispose.add)},testDestroyWithParent:function(){var e=new qx.ui.layout.HBox,t=new qx.ui.container.Composite(e),i=new qx.ui.core.Spacer;t.add(i);this.spy(t,"_remove");i.destroy();this.assertCalledOnce(t._remove);this.assertCalledWith(t._remove,i);t.destroy();e.dispose()}}});qx.test.ui.core.Spacer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.ui.core.Widget":{},"qx.ui.container.Composite":{},"qx.ui.layout.Canvas":{},"qx.ui.container.Scroll":{},"qx.ui.layout.VBox":{},"qx.event.Timer":{},"qx.core.AssertionError":{},"qx.bom.Font":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.core.Widget",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],members:{testIsTabable:function(){var e=(new qx.ui.core.Widget).set({focusable:!0});this.assertFalse(e.isTabable(),"Non rendered widgets are not tabable");this.getRoot().add(e);this.flush();this.assertTrue(e.isTabable(),"Rendered focusable widgets are tabable");e.setFocusable(!1);this.assertFalse(e.isTabable(),"Non focusable widgets are not tabable");e.destroy()},testIsSeeableDepth0AfterFlush:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);this.flush();this.assertTrue(e.isSeeable());e.hide();this.flush();this.assertFalse(e.isSeeable());e.destroy()},testIsSeeableDepth1AfterFlush:function(){var e=new qx.ui.container.Composite,t=new qx.ui.layout.Canvas;e.setLayout(t);this.getRoot().add(e);var i=new qx.ui.core.Widget;e.add(i);this.flush();this.assertTrue(i.isSeeable());e.hide();this.flush();this.assertFalse(i.isSeeable());t.dispose();i.destroy();e.destroy()},testIsSeeableDepth2AfterFlush:function(){var e=new qx.ui.container.Composite,t=new qx.ui.layout.Canvas;e.setLayout(t);this.getRoot().add(e);var i=new qx.ui.container.Composite,n=new qx.ui.layout.Canvas;i.setLayout(n);e.add(i);var s=new qx.ui.core.Widget;i.add(s);this.flush();this.assertTrue(s.isSeeable());e.hide();this.flush();this.assertFalse(s.isSeeable());t.dispose();e.destroy();n.dispose();s.destroy();i.destroy()},testIsSeeableDepth0:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);this.assertTrue(e.isSeeable());e.hide();this.assertFalse(e.isSeeable());e.destroy()},testIsSeeableDepth1:function(){var e=new qx.ui.container.Composite,t=new qx.ui.layout.Canvas;e.setLayout(t);this.getRoot().add(e);var i=new qx.ui.core.Widget;e.add(i);this.assertTrue(i.isSeeable());e.hide();this.assertFalse(i.isSeeable());t.dispose();i.destroy();e.destroy()},testIsSeeableDepth2:function(){var e=new qx.ui.container.Composite,t=new qx.ui.layout.Canvas;e.setLayout(t);this.getRoot().add(e);var i=new qx.ui.container.Composite,n=new qx.ui.layout.Canvas;i.setLayout(n);e.add(i);var s=new qx.ui.core.Widget;i.add(s);this.assertTrue(s.isSeeable());e.hide();this.assertFalse(s.isSeeable());t.dispose();e.destroy();n.dispose();s.destroy();i.destroy()},testIsSeeableDepth0AfterFlushExclude:function(){var e=new qx.ui.core.Widget;this.getRoot().add(e);this.flush();this.assertTrue(e.isSeeable());e.exclude();this.flush();this.assertFalse(e.isSeeable());e.destroy()},testIsSeeableNotInRoot:function(){var e=new qx.ui.core.Widget;this.assertFalse(e.isSeeable());e.destroy()},testScrollChildIntoViewChangesScheduled:function(){var e,t,i,n,s=(new qx.ui.container.Scroll).set({width:100,height:100});this.getRoot().add(s);var r=new qx.ui.container.Composite(new qx.ui.layout.VBox);s.add(r);var o=(new qx.ui.core.Widget).set({height:100,backgroundColor:"red"});r.add(o);var a=(new qx.ui.core.Widget).set({height:20,backgroundColor:"green"});r.add(a);t=s._getChildren()[0];s.scrollChildIntoView(a);this.flush();i=t.getContentElement().getDomElement().scrollTop;o.setHeight(200);s.scrollChildIntoView(a);qx.event.Timer.once(function(){n=t.getContentElement().getDomElement().scrollTop},this,250);this.wait(500,function(){e="Must scroll further down, but was: "+i+" is: "+n;this.assert(n>i,e);s.destroy()},this)},testLazyScrollChildIntoViewY:function(){var e=(new qx.ui.container.Scroll).set({width:100,height:100});this.getRoot().add(e);var t=new qx.ui.container.Composite(new qx.ui.layout.VBox);e.add(t);var i=(new qx.ui.core.Widget).set({height:150,backgroundColor:"red"});t.add(i);var n=(new qx.ui.core.Widget).set({height:20,backgroundColor:"green"});t.add(n);var s=null,r=e.addListener("disappear",function(e){var t=this.getChildren()[0].getChildren()[1];this.scrollChildIntoView(t);this.setVisibility("visible")}),o=e.addListener("appear",function(e){var t=this._getChildren()[0];s=t.getContentElement().getDomElement().scrollTop});qx.event.Timer.once(function(){e.setVisibility("hidden")},this,250);this.wait(1e3,function(){this.assert(s>0,"Child was not scrolled!");e.removeListenerById(r);e.removeListenerById(o);e.destroy()},this)},testReleaseChildControl:function(){qx.Class.define("qx.test.ui.core.W",{extend:qx.ui.core.Widget,members:{_createChildControlImpl:function(e){return new qx.ui.core.Widget}}});var e=new qx.test.ui.core.W,t=e.getChildControl("xyz");this.flush();this.assertEquals(e._getCreatedChildControls().xyz,t);e._releaseChildControl("xyz");this.assertUndefined(e._getCreatedChildControls().xyz);t.dispose();e.dispose();qx.Class.undefine("qx.test.ui.core.W")},testChildGetSubcontrolId:function(){qx.Class.define("qx.test.ui.core.W",{extend:qx.ui.core.Widget,members:{_createChildControlImpl:function(e,t){var i;switch(e){case"xyz":i=new qx.ui.core.Widget}return i||qx.test.ui.core.W.prototype._createChildControlImpl.base.call(this,e)}}});var e=new qx.test.ui.core.W,t=e.getChildControl("xyz");this.flush();this.assertEquals("xyz",t.getSubcontrolId());this.assertNull(e.getSubcontrolId());t.dispose();e.dispose();qx.Class.undefine("qx.test.ui.core.W")},testCreateChildControlHash:function(){qx.Class.define("qx.test.ui.core.W",{extend:qx.ui.core.Widget,members:{_createChildControlImpl:function(e,t){this.test=e+"-"+t;return this}}});var e=new qx.test.ui.core.W;e.getChildControl("affe#afffe");this.assertEquals("affe-afffe",e.test);e.getChildControl("affe#afffe#juhu");this.assertEquals("affe-afffe#juhu",e.test);e.dispose();qx.Class.undefine("qx.test.ui.core.W")},testComputeSizeHintMinWidthBiggerMax:function(){var e=new qx.ui.core.Widget;e.setMaxWidth(100);this.stub(e,"_getContentHint").returns({minWidth:200});var t=e._computeSizeHint();this.assertEquals(100,t.minWidth);e.dispose()},testComputeSizeHintMinHeightBiggerMax:function(){var e=new qx.ui.core.Widget;e.setMaxHeight(100);this.stub(e,"_getContentHint").returns({minHeight:200});var t=e._computeSizeHint();this.assertEquals(100,t.minHeight);e.dispose()},testComputeSizeHintMaxWidthSmallerMin:function(){var e=new qx.ui.core.Widget;e.setMinWidth(200);this.stub(e,"_getContentHint").returns({maxWidth:100});var t=e._computeSizeHint();this.assertEquals(200,t.maxWidth);e.dispose()},testComputeSizeHintMaxHeightSmallerMin:function(){var e=new qx.ui.core.Widget;e.setMinHeight(200);this.stub(e,"_getContentHint").returns({maxHeight:100});var t=e._computeSizeHint();this.assertEquals(200,t.maxHeight);e.dispose()},testAddUndefined:function(){this.require(["qx.debug"]);var e=new qx.ui.core.Widget;this.assertException(function(){e._add(void 0)},qx.core.AssertionError.constructor,/Expected value to be instanceof 'qx.ui.core.LayoutItem'/);e.dispose()},testAddNoWidget:function(){this.require(["qx.debug"]);var e=new qx.ui.core.Widget;this.assertException(function(){e._add(new qx.bom.Font)},qx.core.AssertionError.constructor,/Expected value to be instanceof 'qx.ui.core.LayoutItem'/);e.dispose()},testAddWidget:function(){this.require(["qx.debug"]);var e=new qx.ui.core.Widget;e._add(new qx.ui.container.Composite);e.dispose()}}});qx.test.ui.core.Widget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.Widget":{},"qx.ui.decoration.Decorator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.decoration.LinearGradient",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__w=new qx.ui.core.Widget;this.__w.setHeight(100);this.__dec=new qx.ui.decoration.Decorator;this.__dec.set({startColor:"red",endColor:"black"});this.getRoot().add(this.__w)},tearDown:function(){this.__w.destroy();this.__dec.dispose()},testDefault:function(){this.__dec.set({startColorPosition:0,endColorPosition:100});this.__w.setDecorator(this.__dec);this.flush()},testDefaultPx:function(){this.__dec.set({startColorPosition:0,endColorPosition:200,colorPositionUnit:"px"});this.__w.setDecorator(this.__dec);this.flush()},testNegativeStart:function(){this.__dec.set({startColorPosition:-100,endColorPosition:100});this.__w.setDecorator(this.__dec);this.flush()},testBigEnd:function(){this.__dec.set({startColorPosition:0,endColorPosition:200});this.__w.setDecorator(this.__dec);this.flush()},testBigEndPx:function(){this.__dec.set({startColorPosition:0,endColorPosition:200,colorPositionUnit:"px"});this.__w.setDecorator(this.__dec);this.flush()},testNegativeStartPx:function(){this.__dec.set({startColorPosition:0,endColorPosition:200,colorPositionUnit:"px"});this.__w.setDecorator(this.__dec);this.flush()}}});qx.test.ui.decoration.LinearGradient.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.ui.embed.Flash":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"qx.test.travis":{},"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.embed.Flash",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MMock,qx.dev.unit.MRequirements],statics:{isFlashReady:!1,flashCallback:function(){qx.test.ui.embed.Flash.isFlashReady=!0}},members:{__flash:null,__params:null,__variables:null,setUp:function(){this.require(["plugin.flash"]);this.flush();this.__params={wmode:"opaque",quality:"best",allowScriptAccess:"sameDomain",swLiveConnect:"true",play:"true",loop:"true",menu:"true"};this.__variables={init:"qx.test.ui.embed.Flash.flashCallback",flashVar1:"bli bla blub",flashVar2:"bulb alb ilb"};var e=this.__flash=new qx.ui.embed.Flash("qx/test/UnitTestFlash.swf","flashmovie");e.setVariables(this.__variables);e.setScale("noscale");e.setPlay(!0);e.setLoop(!0);e.setMenu(!0);this.getRoot().add(this.__flash,{edge:10})},tearDown:function(){qx.test.ui.embed.Flash.isFlashReady=!1;this.getRoot().removeAll();this.__flash.destroy();this.__flash=null},testEvents:function(){this.require(["noChromeOnLinux"]);var e={loading:function(){},loaded:function(){},timeout:function(){}},t=this.spy(e,"loading"),i=this.spy(e,"loaded"),n=this.spy(e,"timeout");this.__flash.addListener("loading",e.loading);this.__flash.addListener("loaded",e.loaded);this.__flash.addListener("timeout",e.timeout);var s=this;this.wait(2e3,function(){s.assertCalled(t);s.assertCalled(i);s.assertNotCalled(n);i.calledAfter(t)})},testLoadTimeout:function(){"true"==qx.core.Environment.get("qx.test.travis")&&this.skip("Test disabled on travis");var e={loading:function(){},loaded:function(){},timeout:function(){}},t=this.spy(e,"loading"),i=this.spy(e,"loaded"),n=this.spy(e,"timeout"),s=new qx.ui.embed.Flash("qx/test/invalidmovie.swf","invalidmovie");s.setLoadTimeout(1e3);this.getRoot().removeAll();this.getRoot().add(s,{edge:10});s.addListener("loading",e.loading);s.addListener("loaded",e.loaded);s.addListener("timeout",e.timeout);var r=this;this.wait(2e3,function(){r.assertCalled(t);r.assertNotCalled(i);r.assertCalled(n);n.calledAfter(t)})},testCreateFlash:function(){var e=this;this.wait(2e3,function(){var t=e.__flash.getFlashElement();e.assertNotNull(t,"DOM element for Flash movie is not created!");e.assertIdentical("object",t.nodeName.toLowerCase());e.assertIdentical("100%",t.width);e.assertIdentical("100%",t.height);e.assertIdentical("flashmovie",t.id);if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<11)e.assertIdentical("clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",t.classid);else{var i=t.data.lastIndexOf("qx/test/UnitTestFlash.swf"),n=t.data.substring(i,t.data.length);e.assertIdentical("qx/test/UnitTestFlash.swf",n);e.assertIdentical("application/x-shockwave-flash",t.type)}var s=e.__params;s.flashvars="init=qx.test.ui.embed.Flash.flashCallback&flashVar1=bli bla blub&flashVar2=bulb alb ilb";var r=t.childNodes;for(var o in s){for(var a=!1,l=0;l<r.length;l++){e.assertIdentical("param",r[l].nodeName.toLowerCase());if(r[l].name===o){a=!0;e.assertIdentical(s[o],r[l].value);break}}e.assertTrue(a,"Param element with name:'"+o+"' not found!")}})},testProperties:function(){var e=this;this.wait(5e3,function(){e.assertException(function(){e.__flash.setSource("new.swf")},Error,null,"Error expected by calling 'setSource'!");e.assertException(function(){e.__flash.setId("newId")},Error,null,"Error expected by calling 'setId'!");e.assertException(function(){e.__flash.setQuality("low")},Error,null,"Error expected by calling 'setQuality'!");e.assertException(function(){e.__flash.setScale("excactfit")},Error,null,"Error expected by calling 'setScale'!");e.assertException(function(){e.__flash.setWmode("transparent")},Error,null,"Error expected by calling 'setWmode'!");e.assertException(function(){e.__flash.setPlay(!1)},Error,null,"Error expected by calling 'setPlay'!");e.assertException(function(){e.__flash.setLoop(!1)},Error,null,"Error expected by calling 'setLoop'!");e.assertException(function(){e.__flash.setMenu(!1)},Error,null,"Error expected by calling 'setMenu'!");e.assertException(function(){e.__flash.setAllowScriptAccess("never")},Error,null,"Error expected by calling 'setAllowScriptAccess'!");e.assertException(function(){e.__flash.setLiveConnect(!1)},Error,null,"Error expected by calling 'setLiveConnect'!");e.assertException(function(){e.__flash.setVariables({key:"value"})},Error,null,"Error expected by calling 'setVariables'!")})},testExternalInterface:function(){if(0===location.protocol.indexOf("http")){var e="",t=this;this.wait(5e3,function(){if(qx.test.ui.embed.Flash.isFlashReady){var i=t.__flash.getFlashElement();i.echo&&(e=i.echo("hello echo!"));t.assertIdentical("hello echo!",e)}else t.warn("ExternalInterface not ready -> skipped test")})}else this.warn("Skipped test 'testExternalInterface', because a webserver is needed to run this test.")}}});qx.test.ui.embed.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.core.Assert":{construct:!0},"qx.html.Flash":{},"qx.util.TimerManager":{},"qx.util.ResourceManager":{},"qx.ui.core.queue.Layout":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.embed.Flash",{extend:qx.ui.core.Widget,construct:function(e,t){qx.ui.core.Widget.constructor.call(this);qx.core.Assert.assertString(e,"Invalid parameter 'source'.");t&&qx.core.Assert.assertString(t,"Invalid parameter 'id'.");this.setSource(e);t?this.setId(t):this.setId("flash"+this.toHashCode());this.initQuality();this.initWmode();this.initAllowScriptAccess();this.initLiveConnect();this.addListenerOnce("appear",function(){this._checkLoading();this.getContentElement().createFlash()},this)},events:{loading:"qx.event.type.Event",loaded:"qx.event.type.Event",timeout:"qx.event.type.Event"},properties:{source:{check:"String",apply:"_applySource"},id:{check:"String",apply:"_applyId"},quality:{check:["low","autolow","autohigh","medium","high","best"],init:"best",nullable:!0,apply:"_applyQuality"},scale:{check:["showall","noborder","exactfit","noscale"],nullable:!0,apply:"_applyScale"},wmode:{check:["window","opaque","transparent"],init:"opaque",nullable:!0,apply:"_applyWmode"},play:{check:"Boolean",nullable:!0,apply:"_applyPlay"},loop:{check:"Boolean",nullable:!0,apply:"_applyLoop"},mayScript:{check:"Boolean",nullable:!1,apply:"_applyMayScript"},menu:{check:"Boolean",nullable:!0,apply:"_applyMenu"},allowScriptAccess:{check:["sameDomain","always","never"],init:"sameDomain",nullable:!0,apply:"_applyAllowScriptAccess"},liveConnect:{check:"Boolean",init:!0,nullable:!0,apply:"_applyLiveConnect"},variables:{init:{},check:"Map",apply:"_applyVariables"},loadTimeout:{check:"Integer",init:1e4}},members:{__time:null,getFlashElement:function(){var e=this.getContentElement();return e?e.getFlashElement():null},isLoaded:function(){return 100===this.getPercentLoaded()},getPercentLoaded:function(){var e=this.getFlashElement();if(void 0===e||null==e)return 0;try{return e.PercentLoaded()}catch(e){return 0}},_createContentElement:function(){var e=new qx.html.Flash;e.connectWidget(this);return e},_checkLoading:function(){var e=this.getSource();if(""!=e&&null!=e&&"undefined"!=e)if(this.isLoaded()){this.fireEvent("loaded");this.__time=null}else{this.__time||(this.__time=(new Date).getTime());var t=(new Date).getTime()-this.__time;if(this.getLoadTimeout()>t){qx.util.TimerManager.getInstance().start(this._checkLoading,0,this,null,10);this.fireEvent("loading")}else{this.debug("Timeout after: "+t);this.fireEvent("timeout");this.__time=null}}},_applySource:function(e,t){var i=qx.util.ResourceManager.getInstance().toUri(e);this.getContentElement().setSource(i);qx.ui.core.queue.Layout.add(this)},_applyId:function(e,t){this.getContentElement().setId(e);qx.ui.core.queue.Layout.add(this)},_applyVariables:function(e,t){this.getContentElement().setVariables(e);qx.ui.core.queue.Layout.add(this)},_applyMayScript:function(e,t){this.getContentElement().setAttribute("mayscript",!!e&&"");qx.ui.core.queue.Layout.add(this)},_applyQuality:function(e,t){this.__flashParamHelper("quality",e)},_applyScale:function(e,t){this.__flashParamHelper("scale",e)},_applyWmode:function(e,t){this.__flashParamHelper("wmode",e)},_applyPlay:function(e,t){this.__flashParamHelper("play",e)},_applyLoop:function(e,t){this.__flashParamHelper("loop",e)},_applyMenu:function(e,t){this.__flashParamHelper("menu",e)},_applyAllowScriptAccess:function(e,t){this.__flashParamHelper("allowScriptAccess",e)},_applyLiveConnect:function(e,t){this.__flashParamHelper("swLiveConnect",e)},__flashParamHelper:function(e,t){this.getContentElement().setParam(e,t);qx.ui.core.queue.Layout.add(this)}}});qx.ui.embed.Flash.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.event.Idle":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.TimerManager",{extend:qx.core.Object,type:"singleton",statics:{__timerQueue:[],__timerData:{},__timerId:0},members:{__timerListenerActive:!1,start:function(e,t,i,n,s){"number"!=typeof s&&(s=t||0);var r=(new Date).getTime()+s;qx.util.TimerManager.__timerData[++qx.util.TimerManager.__timerId]={callback:e,userData:n||null,expireAt:r,recurTime:t,context:i||this};this.__insertNewTimer(r,qx.util.TimerManager.__timerId);return qx.util.TimerManager.__timerId},stop:function(e){for(var t=qx.util.TimerManager.__timerQueue,i=t.length,n=0;n<i;n++)if(t[n]==e){t.splice(n,1);break}delete qx.util.TimerManager.__timerData[e];if(0==t.length&&this.__timerListenerActive){qx.event.Idle.getInstance().removeListener("interval",this.__processQueue,this);this.__timerListenerActive=!1}},__insertNewTimer:function(e,t){for(var i=qx.util.TimerManager.__timerQueue,n=qx.util.TimerManager.__timerData,s=i.length,r=0;r<s;r++)if(n[i[r]].expireAt>e){i.splice(r,0,t);break}i.length==s&&i.push(t);if(!this.__timerListenerActive){qx.event.Idle.getInstance().addListener("interval",this.__processQueue,this);this.__timerListenerActive=!0}},__processQueue:function(){for(var e=(new Date).getTime(),t=qx.util.TimerManager.__timerQueue,i=qx.util.TimerManager.__timerData;t.length>0&&i[t[0]].expireAt<=e;){var n=t.shift(),s=i[n];s.callback.call(s.context,s.userData,n);if(s.recurTime&&i[n]){var r=(new Date).getTime();s.expireAt=r+s.recurTime;this.__insertNewTimer(s.expireAt,n)}else delete i[n]}if(0==t.length&&this.__timerListenerActive){qx.event.Idle.getInstance().removeListener("interval",this.__processQueue,this);this.__timerListenerActive=!1}}}});qx.util.TimerManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.embed.Iframe":{},"qx.ui.core.queue.Manager":{},"qx.util.ResourceManager":{},"qx.util.Uri":{},"qx.bom.client.Browser":{},"qx.ui.container.Composite":{},"qx.ui.layout.VBox":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.embed.Iframe",{extend:qx.test.ui.LayoutTestCase,members:{__iframe:null,setUp:function(){this.__iframe=new qx.ui.embed.Iframe;this.__iframe.set({width:200,height:500})},tearDown:function(){this.__iframe.destroy()},testHiddenSetSourceInitial:function(){this.__iframe.set({visibility:"hidden"});this.getRoot().add(this.__iframe);qx.ui.core.queue.Manager.flush();this.assertNotNull(this.__iframe.getContentElement().getDomElement())},testHiddenSetSource:function(){this.getRoot().add(this.__iframe);qx.ui.core.queue.Manager.flush();this.__iframe.hide();qx.ui.core.queue.Manager.flush();var e=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html");e=qx.util.Uri.getAbsolute(e);this.__iframe.setSource(e);qx.ui.core.queue.Manager.flush();this.__iframe.addListenerOnce("load",function(){this.resume(function(){this.assertEquals(this.__iframe.getSource(),this.__iframe.getWindow().location.href)})},this);this.wait(1e4)},testGetWindow:function(){this.getRoot().add(this.__iframe);this.__iframe.addListener("load",function(){this.resume(function(){this.assertNotNull(this.__iframe.getWindow())},this)},this);var e=qx.util.ResourceManager.getInstance().toUri("qx/static/blank.html");this.__iframe.setSource(e);this.wait(1e4)},testSyncSourceAfterDOMMove:function(){"chrome"==qx.core.Environment.get("browser.name")&&this.skip("Optimization makes this test fail frequently for chrome - skipping");var e=qx.util.ResourceManager.getInstance(),t=e.toUri("qx/static/blank.html"),i=e.toUri("qx/test/hello.html"),n=this.__iframe,s=new qx.ui.container.Composite(new qx.ui.layout.VBox),r=new qx.ui.container.Composite(new qx.ui.layout.VBox),o=new qx.ui.container.Composite(new qx.ui.layout.VBox);s.add(r,{flex:1});s.add(o,{flex:1});this.getRoot().add(s);n.setSource(t);r.add(n,{flex:1});window.setTimeout(function(){n.setSource(i);o.add(n,{flex:1})},500);window.setTimeout(function(){this.resume(function(){var e=n.getWindow().document.body.innerText;"string"!=typeof e||"edge"!=qx.core.Environment.get("browser.name")&&"ie"!=qx.core.Environment.get("browser.name")||(e=e.replace(/\s$/gm,""));this.assertEquals("Hello World!",e)})}.bind(this),4e3);this.wait(1e4)}}});qx.test.ui.embed.Iframe.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.SelectBox":{},"qx.ui.form.ComboBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.AbstractSelectBox",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__selectBox=new qx.ui.form.SelectBox;this.getRoot().add(this.__selectBox);this.__comboBox=new qx.ui.form.ComboBox;this.getRoot().add(this.__comboBox);this.flush()},tearDown:function(){qx.test.ui.form.AbstractSelectBox.prototype.tearDown.base.call(this);this.__selectBox.dispose();this.__selectBox=null;this.__comboBox.dispose();this.__comboBox=null},testStatePopupOpen:function(){this.__selectBox.open();this.flush();this.assertTrue(this.__selectBox.hasState("popupOpen"));this.__selectBox.close();this.flush();this.assertFalse(this.__selectBox.hasState("popupOpen"));this.__comboBox.open();this.flush();this.assertTrue(this.__comboBox.hasState("popupOpen"));this.__comboBox.close();this.flush();this.assertFalse(this.__comboBox.hasState("popupOpen"))}}});qx.test.ui.form.AbstractSelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.VirtualSelectBox":{},"qx.ui.form.VirtualComboBox":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.AbstractVirtualBox",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__selectBox=new qx.ui.form.VirtualSelectBox;this.getRoot().add(this.__selectBox);this.__comboBox=new qx.ui.form.VirtualComboBox;this.getRoot().add(this.__comboBox);this.flush()},tearDown:function(){qx.test.ui.form.AbstractVirtualBox.prototype.tearDown.base.call(this);this.__selectBox.dispose();this.__selectBox=null;this.__comboBox.dispose();this.__comboBox=null},testStatePopupOpen:function(){this.__selectBox.open();this.flush();this.assertTrue(this.__selectBox.hasState("popupOpen"));this.__selectBox.close();this.flush();this.assertFalse(this.__selectBox.hasState("popupOpen"));this.__comboBox.open();this.flush();this.assertTrue(this.__comboBox.hasState("popupOpen"));this.__comboBox.close();this.flush();this.assertFalse(this.__comboBox.hasState("popupOpen"))},testListLengthAfterModelChangeSelectBox:function(){var e=new qx.data.Array(["a","b","c"]);this.__selectBox.setModel(e);this.__selectBox.open();this.flush();var t=this.__selectBox.getChildControl("dropdown"),i=t.getBounds().height;this.assertPositiveInteger(i);e.replace(["d","e","f","g","h","j","k","l"]);this.flush();var n=t.getBounds().height;this.assertPositiveInteger(n);this.assertNotEquals(n,i);this.assertTrue(n>i);this.__selectBox.close();this.__selectBox.resetModel()},testListLengthAfterModelChangeComboBox:function(){var e=new qx.data.Array(["a","b","c"]);this.__comboBox.setModel(e);this.__comboBox.open();this.flush();var t=this.__comboBox.getChildControl("dropdown"),i=t.getBounds().height;this.assertPositiveInteger(i);e.replace(["d","e","f","g","h","j","k","l"]);this.flush();var n=t.getBounds().height;this.assertPositiveInteger(n);this.assertNotEquals(n,i);this.assertTrue(n>i);this.__comboBox.close();this.__comboBox.resetModel()}}});qx.test.ui.form.AbstractVirtualBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.data.Array":{construct:!0},"qx.ui.core.queue.Widget":{},"qx.ui.form.core.VirtualDropDownList":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.core.AbstractVirtualBox",{extend:qx.ui.core.Widget,include:qx.ui.form.MForm,implement:qx.ui.form.IForm,type:"abstract",construct:function(e){qx.ui.core.Widget.constructor.call(this);var t=new qx.ui.layout.HBox;this._setLayout(t);t.setAlignY("middle");this.addListener("keypress",this._handleKeyboard,this);this.addListener("tap",this._handlePointer,this);this.addListener("blur",this._onBlur,this);this.addListener("resize",this._onResize,this);this._createChildControl("dropdown");this.bind("allowGrowDropDown",this.getChildControl("dropdown"),"allowGrowDropDown");if(null!=e)this.initModel(e);else{this.__defaultModel=new qx.data.Array;this.initModel(this.__defaultModel)}},properties:{focusable:{refine:!0,init:!0},width:{refine:!0,init:120},model:{check:"qx.data.Array",apply:"_applyModel",event:"changeModel",nullable:!1,deferredInit:!0},delegate:{apply:"_applyDelegate",event:"changeDelegate",init:null,nullable:!0},labelPath:{check:"String",apply:"_applyLabelPath",event:"changeLabelPath",nullable:!0},labelOptions:{apply:"_applyLabelOptions",event:"changeLabelOptions",nullable:!0},iconPath:{check:"String",event:"changeIconPath",apply:"_applyIconPath",nullable:!0},iconOptions:{apply:"_applyIconOptions",event:"changeIconOptions",nullable:!0},itemHeight:{check:"Integer",init:25,apply:"_applyRowHeight",themeable:!0},maxListHeight:{check:"Number",apply:"_applyMaxListHeight",nullable:!0,init:200},allowGrowDropDown:{init:!1,nullable:!1,check:"Boolean",event:"changeAllowGrowDropDown"}},members:{__defaultModel:null,_forwardStates:{focused:!0,invalid:!0},refresh:function(){this.getChildControl("dropdown").getChildControl("list").refresh();qx.ui.core.queue.Widget.add(this)},open:function(){this._beforeOpen();this.getChildControl("dropdown").open()},close:function(){this._beforeClose();this.getChildControl("dropdown").close()},toggle:function(){this.getChildControl("dropdown").isVisible()?this.close():this.open()},_createChildControlImpl:function(e,t){var i;switch(e){case"dropdown":(i=new qx.ui.form.core.VirtualDropDownList(this)).addListener("changeVisibility",this._onPopupChangeVisibility,this)}return i||qx.ui.form.core.AbstractVirtualBox.prototype._createChildControlImpl.base.call(this,e,t)},_beforeOpen:function(){},_beforeClose:function(){},_getAction:function(e){var t=e.getKeyIdentifier(),i=this.getChildControl("dropdown").isVisible(),n=this._isModifierPressed(e);return i||n||"Down"!==t&&"Up"!==t?i&&!n&&"Escape"===t?"close":null:"open"},_getBindPath:function(e,t){var i=e+"[0]";null!=t&&""!=t&&(i+="."+t);return i},_isModifierPressed:function(e){var t=e.isAltPressed(),i=e.isCtrlOrCommandPressed(),n=e.isShiftPressed(),s=e.isMetaPressed();return t||i||n||s},_onBlur:function(e){this.close()},_handleKeyboard:function(e){var t=this._getAction(e),i=this.getChildControl("dropdown").isVisible();switch(t){case"open":this.open();break;case"close":this.close();break;default:i&&this.getChildControl("dropdown")._handleKeyboard(e)}},_handlePointer:function(e){},_onResize:function(e){this.getChildControl("dropdown").setMinWidth(e.getData().width)},_onPopupChangeVisibility:function(e){"visible"==e.getData()?this.addState("popupOpen"):this.removeState("popupOpen")},_applyModel:function(e,t){this.getChildControl("dropdown").getChildControl("list").setModel(e);qx.ui.core.queue.Widget.add(this)},_applyDelegate:function(e,t){this.getChildControl("dropdown").getChildControl("list").setDelegate(e)},_applyLabelPath:function(e,t){this.getChildControl("dropdown").getChildControl("list").setLabelPath(e);qx.ui.core.queue.Widget.add(this)},_applyLabelOptions:function(e,t){this.getChildControl("dropdown").getChildControl("list").setLabelOptions(e);qx.ui.core.queue.Widget.add(this)},_applyIconPath:function(e,t){this.getChildControl("dropdown").getChildControl("list").setIconPath(e);qx.ui.core.queue.Widget.add(this)},_applyIconOptions:function(e,t){this.getChildControl("dropdown").getChildControl("list").setIconOptions(e);qx.ui.core.queue.Widget.add(this)},_applyRowHeight:function(e,t){this.getChildControl("dropdown").getChildControl("list").setItemHeight(e)},_applyMaxListHeight:function(e,t){this.getChildControl("dropdown").getChildControl("list").setMaxHeight(e)}},destruct:function(){this.__defaultModel&&this.__defaultModel.dispose()}});qx.ui.form.core.AbstractVirtualBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.core.AbstractVirtualBox":{construct:!0,require:!0},"qx.data.controller.ISelection":{require:!0},"qx.ui.form.IField":{require:!0},"qx.event.Timer":{construct:!0},"qx.ui.core.Spacer":{},"qx.ui.form.ListItem":{},"qx.ui.basic.Image":{},"qx.ui.core.queue.Widget":{},"qx.data.SingleValueBinding":{},"qx.util.Delegate":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.VirtualSelectBox",{extend:qx.ui.form.core.AbstractVirtualBox,implement:[qx.data.controller.ISelection,qx.ui.form.IField],construct:function(e){qx.ui.form.core.AbstractVirtualBox.constructor.call(this,e);this._createChildControl("atom");this._createChildControl("spacer");this._createChildControl("arrow");this.addListener("pointerover",this._onPointerOver,this);this.addListener("pointerout",this._onPointerOut,this);this.__bindings=[];this.initSelection(this.getChildControl("dropdown").getSelection());this.__searchTimer=new qx.event.Timer(500);this.__searchTimer.addListener("interval",this.__preselect,this);this.getSelection().addListener("change",this._updateSelectionValue,this)},properties:{appearance:{refine:!0,init:"virtual-selectbox"},width:{refine:!0,init:120},selection:{check:"qx.data.Array",event:"changeSelection",apply:"_applySelection",nullable:!1,deferredInit:!0}},events:{changeSelection:"qx.event.type.Data",changeValue:"qx.event.type.Data"},members:{__searchValue:"",__searchTimer:null,__bindings:null,setValue:function(e){if(null===e){this.getSelection().removeAll();return null}this.getSelection().setItem(0,e);return null},getValue:function(){var e=this.getSelection();return 0===e.length?null:e.getItem(0)},resetValue:function(){this.setValue(null)},syncWidget:function(e){this._removeBindings();this._addBindings()},_createChildControlImpl:function(e,t){var i;switch(e){case"spacer":i=new qx.ui.core.Spacer;this._add(i,{flex:1});break;case"atom":(i=new qx.ui.form.ListItem("")).setCenter(!1);i.setAnonymous(!0);this._add(i,{flex:1});break;case"arrow":(i=new qx.ui.basic.Image).setAnonymous(!0);this._add(i)}return i||qx.ui.form.VirtualSelectBox.prototype._createChildControlImpl.base.call(this,e,t)},_getAction:function(e){var t=e.getKeyIdentifier(),i=this.getChildControl("dropdown").isVisible(),n=this._isModifierPressed(e);return i||n||"Enter"!==t&&"Space"!==t?i&&e.isPrintable()?"search":qx.ui.form.VirtualSelectBox.prototype._getAction.base.call(this,e):"open"},_addBindings:function(){var e=this.getChildControl("atom"),t=this._getBindPath("selection",""),i=this.bind(t,e,"model",null);this.__bindings.push(i);var n=this._getBindPath("selection",this.getLabelPath());i=this.bind(n,e,"label",this.getLabelOptions());this.__bindings.push(i);if(null!=this.getIconPath()){var s=this._getBindPath("selection",this.getIconPath());i=this.bind(s,e,"icon",this.getIconOptions());this.__bindings.push(i)}},_removeBindings:function(){for(;this.__bindings.length>0;){var e=this.__bindings.pop();this.removeBinding(e)}},_handlePointer:function(e){qx.ui.form.VirtualSelectBox.prototype._handlePointer.base.call(this,e);"tap"===e.getType()&&this.toggle()},_handleKeyboard:function(e){switch(this._getAction(e)){case"search":this.__searchValue+=this.__convertKeyIdentifier(e.getKeyIdentifier());this.__searchTimer.restart();break;default:qx.ui.form.VirtualSelectBox.prototype._handleKeyboard.base.call(this,e)}},_onPointerOver:function(e){if(this.isEnabled()&&e.getTarget()===this){if(this.hasState("abandoned")){this.removeState("abandoned");this.addState("pressed")}this.addState("hovered")}},_onPointerOut:function(e){if(this.isEnabled()&&e.getTarget()===this){this.removeState("hovered");if(this.hasState("pressed")){this.removeState("pressed");this.addState("abandoned")}}},_applySelection:function(e,t){this.getChildControl("dropdown").setSelection(e);qx.ui.core.queue.Widget.add(this)},__preselect:function(){this.__searchTimer.stop();var e=this.__searchValue;if(null!==e&&""!==e){for(var t=this.getModel(),i=this.getChildControl("dropdown").getChildControl("list"),n=i.getSelection(),s=i._getLookupTable().length,r=t.indexOf(n.getItem(0)),o=i._reverseLookup(r),a=1;a<=s;a++){var l=(a+o)%s,u=t.getItem(i._lookup(l));if(u){var c=u;if(this.getLabelPath()){c=qx.data.SingleValueBinding.resolvePropertyChain(u,this.getLabelPath());var d=this.getLabelOptions();if(d){var h=qx.util.Delegate.getMethod(d,"converter");h&&(c=h(c,u))}}if(c.toLowerCase().startsWith(e.toLowerCase())){n.push(u);break}}}this.__searchValue=""}},__convertKeyIdentifier:function(e){return"Space"===e?" ":e},_updateSelectionValue:function(e){var t=e.getData(),i=t.removed.length?t.removed[0]:null;this.fireDataEvent("changeValue",t.added[0],i)}},destruct:function(){this._removeBindings();this.getSelection().removeListener("change",this._updateSelectionValue,this);this.__searchTimer.removeListener("interval",this.__preselect,this);this.__searchTimer.dispose();this.__searchTimer=null}});qx.ui.form.VirtualSelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.core.AbstractVirtualBox":{construct:!0,require:!0},"qx.ui.form.IStringForm":{require:!0},"qx.event.type.Focus":{construct:!0},"qx.ui.form.TextField":{},"qx.ui.form.Button":{},"qx.data.SingleValueBinding":{},"qx.lang.Type":{},"qx.util.Delegate":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.VirtualComboBox",{extend:qx.ui.form.core.AbstractVirtualBox,implement:[qx.ui.form.IStringForm],construct:function(e){qx.ui.form.core.AbstractVirtualBox.constructor.call(this,e);var t=this._createChildControl("textfield");this._createChildControl("button");var i=this.getChildControl("dropdown");i.getChildControl("list").setSelectionMode("single");this.__selection=i.getSelection();this.__selection.addListener("change",this.__onSelectionChange,this);this.bind("value",t,"value");t.bind("value",this,"value");this.addListener("focusin",function(e){t.fireNonBubblingEvent("focusin",qx.event.type.Focus)},this);this.addListener("focusout",function(e){t.fireNonBubblingEvent("focusout",qx.event.type.Focus);this.fireNonBubblingEvent("blur",qx.event.type.Focus)},this)},properties:{appearance:{refine:!0,init:"virtual-combobox"},width:{refine:!0,init:120},value:{nullable:!0,event:"changeValue"},placeholder:{check:"String",nullable:!0,apply:"_applyPlaceholder"},defaultFormat:{check:"Function",init:null,nullable:!0}},members:{__localBindId:null,__textFieldBindId:null,__selection:null,__ignoreChangeSelection:null,getTextSelection:function(){return this.getChildControl("textfield").getTextSelection()},getTextSelectionLength:function(){return this.getChildControl("textfield").getTextSelectionLength()},setTextSelection:function(e,t){this.getChildControl("textfield").setTextSelection(e,t)},clearTextSelection:function(){this.getChildControl("textfield").clearTextSelection()},selectAllText:function(){this.getChildControl("textfield").selectAllText()},resetAllTextSelection:function(){this.clearTextSelection();this.selectAllText()},tabFocus:function(){var e=this.getChildControl("textfield");e.getFocusElement().focus();e.selectAllText()},focus:function(){qx.ui.form.VirtualComboBox.prototype.focus.base.call(this);this.getChildControl("textfield").getFocusElement().focus()},_createChildControlImpl:function(e,t){var i;switch(e){case"textfield":(i=new qx.ui.form.TextField).setFocusable(!1);i.addState("inner");this._add(i,{flex:1});break;case"button":(i=new qx.ui.form.Button).setFocusable(!1);i.setKeepActive(!0);i.addState("inner");i.addListener("execute",this.toggle,this);this._add(i)}return i||qx.ui.form.VirtualComboBox.prototype._createChildControlImpl.base.call(this,e,t)},_beforeOpen:function(){this.__selectFirstMatch()},_handleKeyboard:function(e){switch(this._getAction(e)){case"select":this.setValue(this.getChildControl("textfield").getValue());break;default:qx.ui.form.VirtualComboBox.prototype._handleKeyboard.base.call(this,e)}},_getAction:function(e){var t=e.getKeyIdentifier(),i=this.getChildControl("dropdown").isVisible(),n=this._isModifierPressed(e);return i||n||"Enter"!==t?qx.ui.form.VirtualComboBox.prototype._getAction.base.call(this,e):"select"},_handlePointer:function(e){qx.ui.form.VirtualComboBox.prototype._handlePointer.base.call(this,e);"tap"===e.getType()&&this.close()},__onSelectionChange:function(e){if(1!=this.__ignoreChangeSelection){var t=this.__selection.getItem(0);if(t){t=this.__convertValue(t);this.setValue(t)}}},_applyPlaceholder:function(e,t){this.getChildControl("textfield").setPlaceholder(e)},__selectFirstMatch:function(){var e=this.getValue(),t=this.getChildControl("dropdown"),i=t.getSelection(),n=i.getItem(0);if(void 0===n||this.__convertValue(n)!==e){if(void 0!==n){this.__ignoreChangeSelection=!0;i.removeAll();this.__ignoreChangeSelection=!1}if(null==e||""==e)return;for(var s=this.getModel(),r=t.getChildControl("list")._getLookupTable(),o=0,a=r.length;o<a;o++){var l=s.getItem(r[o]),u=this.__convertValue(l);if(u&&0==u.indexOf(e)){t.setPreselected(l);break}}}},__convertValue:function(e){var t=this.getLabelOptions(),i=this.getDefaultFormat(),n=this.getLabelPath(),s=null;null!=n?s=qx.data.SingleValueBinding.resolvePropertyChain(e,n):qx.lang.Type.isString(e)&&(s=e);var r=qx.util.Delegate.getMethod(t,"converter");null!=r&&(s=r(s));null!=s&&null!=i&&(s=i(qx.lang.String.stripTags(s)));return s}},destruct:function(){var e=this.getChildControl("textfield");this.removeAllBindings();e.removeAllBindings();this.__selection.removeListener("change",this.__onSelectionChange,this);this.__selection=null}});qx.ui.form.VirtualComboBox.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.popup.Popup":{construct:!0,require:!0},"qx.core.Assert":{construct:!0},"qx.ui.form.core.AbstractVirtualBox":{construct:!0},"qx.ui.layout.VBox":{construct:!0},"qx.data.Array":{construct:!0},"qx.ui.list.List":{},"qx.bom.Viewport":{},"qx.util.Delegate":{},"qx.ui.form.ListItem":{},"qx.theme.manager.Font":{},"qx.bom.Font":{},"qx.bom.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.core.VirtualDropDownList",{extend:qx.ui.popup.Popup,construct:function(e){qx.core.Assert.assertNotNull(e,"Invalid parameter 'target'!");qx.core.Assert.assertNotUndefined(e,"Invalid parameter 'target'!");qx.core.Assert.assertInterface(e,qx.ui.form.core.AbstractVirtualBox,"Invalid parameter 'target'!");qx.ui.popup.Popup.constructor.call(this,new qx.ui.layout.VBox);this._target=e;this._createChildControl("list");this.addListener("changeVisibility",this.__onChangeVisibility,this);this.__defaultSelection=new qx.data.Array;this.initSelection(this.__defaultSelection)},properties:{autoHide:{refine:!0,init:!1},keepActive:{refine:!0,init:!0},selection:{check:"qx.data.Array",event:"changeSelection",apply:"_applySelection",nullable:!1,deferredInit:!0},allowGrowDropDown:{init:!1,nullable:!1,check:"Boolean",apply:"_adjustSize",event:"changeAllowGrowDropDown"}},events:{changeSelection:"qx.event.type.Data"},members:{_target:null,_preselected:null,__ignoreSelection:!1,__ignoreListSelection:!1,__defaultSelection:null,__cachedMaxListItemWidth:0,open:function(){this.placeToWidget(this._target,!0);this.show()},close:function(){this.hide()},setPreselected:function(e){this._preselected=e;this.__ignoreListSelection=!0;var t=this.getChildControl("list").getSelection(),i=new qx.data.Array([e]);this.__synchronizeSelection(i,t);i.dispose();this.__ignoreListSelection=!1},_createChildControlImpl:function(e,t){var i;switch(e){case"list":(i=(new qx.ui.list.List).set({focusable:!1,keepFocus:!0,keepActive:!0,height:null,width:null,maxHeight:this._target.getMaxListHeight(),selectionMode:"one",quickSelection:!0})).getSelection().addListener("change",this._onListChangeSelection,this);i.addListener("tap",this._handlePointer,this);i.addListener("changeModel",this._onChangeModel,this);i.addListener("changeModelLength",this._onChangeModelLength,this);i.addListener("changeDelegate",this._onChangeDelegate,this);this.add(i,{flex:1})}return i||qx.ui.form.core.VirtualDropDownList.prototype._createChildControlImpl.base.call(this,e,t)},_handleKeyboard:function(e){if(this.isVisible()&&"Enter"===e.getKeyIdentifier())this.__selectPreselected();else{var t=e.clone();t.setTarget(this.getChildControl("list"));t.setBubbles(!1);this.getChildControl("list").dispatchEvent(t)}},_handlePointer:function(e){this.__selectPreselected()},__onChangeSelection:function(e){if(!this.__ignoreSelection){var t=this.getSelection(),i=this.getChildControl("list").getSelection();this.__ignoreListSelection=!0;this.__synchronizeSelection(t,i);this.__ignoreListSelection=!1;this.__ignoreSelection=!0;this.__synchronizeSelection(i,t);this.__ignoreSelection=!1}},_onListChangeSelection:function(e){if(!this.__ignoreListSelection){var t=this.getChildControl("list").getSelection();if(this.isVisible())this.setPreselected(t.getItem(0));else{this.__ignoreSelection=!0;this.__synchronizeSelection(t,this.getSelection());this.__ignoreSelection=!1}}},__onChangeVisibility:function(e){if(this.isVisible()){if(null==this._preselected){var t=this.getSelection(),i=this.getChildControl("list").getSelection();this.__synchronizeSelection(t,i)}this._adjustSize()}else this.setPreselected(null)},_onChangeModel:function(e){this.getAllowGrowDropDown()&&this._recalculateMaxListItemWidth();this._adjustSize()},_onChangeModelLength:function(e){this.getAllowGrowDropDown()&&this._recalculateMaxListItemWidth();this._adjustSize()},_onChangeDelegate:function(e){this.getSelection().removeAll()},_applySelection:function(e,t){e.addListener("change",this.__onChangeSelection,this);null!=t&&t.removeListener("change",this.__onChangeSelection,this);this.__synchronizeSelection(e,this.getChildControl("list").getSelection(e))},__selectPreselected:function(){if(null!=this._preselected){this.getSelection().splice(0,1,this._preselected);this._preselected=null;this.close()}},__synchronizeSelection:function(e,t){if(!e.equals(t))if(e.getLength()<=0)t.removeAll();else{var i=[0,t.length];i=i.concat(e.toArray());t.splice.apply(t,i).dispose()}},_adjustSize:function(){if(this._target.getBounds()){this._adjustWidth();this._adjustHeight()}else this.addListenerOnce("appear",this._adjustSize,this)},_adjustWidth:function(){var e=this._target.getBounds().width,t=this.getChildControl("list");if(this.getAllowGrowDropDown()){this.setWidth(null);this.__cachedMaxListItemWidth>0?t.setWidth(this.__cachedMaxListItemWidth):t.setWidth(e)}else{this.setWidth(e);t.resetWidth()}},_adjustHeight:function(){var e=this._getAvailableHeight();if(null!==e){var t=this._target.getMaxListHeight(),i=this.getChildControl("list"),n=i.getPane().getRowConfig().getTotalSize();(null==t||n<t)&&(t=n);t>e&&(t=e);var s=i.getMinHeight();null!==s&&s>t&&(t=s);i.setMaxHeight(t)}},_getAvailableHeight:function(){var e=this.getLayoutLocation(this._target);if(!e)return null;var t=qx.bom.Viewport.getHeight(),i=e.top,n=t-e.bottom;return i>n?i:n},_recalculateMaxListItemWidth:function(){var e=0,t=this.getChildControl("list"),i=t.getModel();if(i&&i.length){var n=qx.util.Delegate.getMethod(t.getDelegate(),"createItem");n||(n=function(){return new qx.ui.form.ListItem});var s,r=n();r.syncAppearance();var o=r.getFont();o&&(s=qx.theme.manager.Font.getInstance().resolve(o).getStyles());s||(s=qx.bom.Font.getDefaultStyles());var a=t.getPaddingLeft()+t.getPaddingRight()+r.getPaddingLeft()+r.getPaddingRight()+r.getMarginLeft()+r.getMarginRight(),l=r.getChildControl("label");if(l){l.syncAppearance();a+=l.getPaddingLeft()+l.getPaddingRight()+l.getMarginLeft()+l.getMarginRight()}i.forEach(function(i){var n,r=0;"string"==typeof i?n=i:"object"===_typeof(i)&&null!==i&&(n=i.get(t.getLabelPath()));n&&(r=qx.bom.Label.getHtmlSize(n,s,void 0).width+a)>e&&(e=r)});r.dispose()}this.__cachedMaxListItemWidth=e},_getMaxListItemWidth:function(){return this.__cachedMaxListItemWidth}},destruct:function(){this.__defaultSelection&&this.__defaultSelection.dispose()}});qx.ui.form.core.VirtualDropDownList.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.scroll.AbstractScrollArea":{construct:!0,require:!0},"qx.ui.virtual.core.Pane":{construct:!0},"qx.bom.client.Scroll":{construct:!0}},environment:{provided:[],required:{"os.scrollBarOverlayed":{construct:!0,className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.core.Scroller",{extend:qx.ui.core.scroll.AbstractScrollArea,construct:function(e,t,i,n){qx.ui.core.scroll.AbstractScrollArea.constructor.call(this);this.__pane=new qx.ui.virtual.core.Pane(e,t,i,n);this.__pane.addListener("update",this._computeScrollbars,this);this.__pane.addListener("scrollX",this._onScrollPaneX,this);this.__pane.addListener("scrollY",this._onScrollPaneY,this);qx.core.Environment.get("os.scrollBarOverlayed")?this._add(this.__pane,{edge:0}):this._add(this.__pane,{row:0,column:0})},members:{__pane:null,getPane:function(){return this.__pane},_createChildControlImpl:function(e,t){return"pane"===e?this.__pane:qx.ui.virtual.core.Scroller.prototype._createChildControlImpl.base.call(this,e)},getItemTop:function(e){throw new Error("The method 'getItemTop' is not implemented!")},getItemBottom:function(e){throw new Error("The method 'getItemBottom' is not implemented!")},getItemLeft:function(e){throw new Error("The method 'getItemLeft' is not implemented!")},getItemRight:function(e){throw new Error("The method 'getItemRight' is not implemented!")},_onScrollBarX:function(e){this.__pane.setScrollX(e.getData())},_onScrollBarY:function(e){this.__pane.setScrollY(e.getData())}},destruct:function(){this.__pane.dispose();this.__pane=null}});qx.ui.virtual.core.Scroller.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.data.Array":{construct:!0},"qx.ui.virtual.selection.Row":{},"qx.lang.Type":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.virtual.selection.MModel",{construct:function(){this._initSelectionManager();this.__defaultSelection=new qx.data.Array;this.initSelection(this.__defaultSelection)},properties:{selection:{check:"qx.data.Array",event:"changeSelection",apply:"_applySelection",nullable:!1,deferredInit:!0},selectionMode:{check:["single","multi","additive","one"],init:"single",apply:"_applySelectionMode"},dragSelection:{check:"Boolean",init:!1,apply:"_applyDragSelection"},quickSelection:{check:"Boolean",init:!1,apply:"_applyQuickSelection"}},events:{changeSelection:"qx.event.type.Data",changeValue:"qx.event.type.Data"},members:{_manager:null,__ignoreChangeSelection:!1,__ignoreManagerChangeSelection:!1,__defaultSelection:null,setValue:function(e){null===e?this.resetSelection():this.setSelection(e);return null},getValue:function(){return this.getSelection()},resetValue:function(){this.resetSelection()},_initSelectionManager:function(){var e=this,t={isItemSelectable:function(t){return e._provider.isSelectable(t)},styleSelectable:function(t,i,n){"selected"==i&&(n?e._provider.styleSelectabled(t):e._provider.styleUnselectabled(t))}};this._manager=new qx.ui.virtual.selection.Row(this.getPane(),t);this._manager.attachPointerEvents(this.getPane());this._manager.attachKeyEvents(this);this._manager.addListener("changeSelection",this._onManagerChangeSelection,this)},setAutoScrollIntoView:function(e){this._manager._autoScrollIntoView=e},getAutoScrollIntoView:function(){return this._manager._autoScrollIntoView},_updateSelection:function(){null!=this._manager&&this._onChangeSelection()},_applySelection:function(e,t){e.addListener("change",this._onChangeSelection,this);null!=t&&t.removeListener("change",this._onChangeSelection,this);this._onChangeSelection()},_applySelectionMode:function(e,t){this._manager.setMode(e)},_applyDragSelection:function(e,t){this._manager.setDrag(e)},_applyQuickSelection:function(e,t){this._manager.setQuick(e)},_onChangeSelection:function(e){if(1!=this.__ignoreManagerChangeSelection){this.__ignoreChangeSelection=!0;for(var t=this.getSelection(),i=[],n=0;n<t.getLength();n++){var s=t.getItem(n),r=this._getSelectables(),o=-1;null!=r&&(o=r.indexOf(s));var a=this._reverseLookup(o);a>=0&&i.push(a)}null!=this._beforeApplySelection&&qx.lang.Type.isFunction(this._beforeApplySelection)&&this._beforeApplySelection(i);try{qx.lang.Array.equals(i,this._manager.getSelection())||this._manager.replaceSelection(i)}catch(e){this._manager.selectItem(i[i.length-1])}this.__synchronizeSelection();null!=this._afterApplySelection&&qx.lang.Type.isFunction(this._afterApplySelection)&&this._afterApplySelection();this.__ignoreChangeSelection=!1}},_onManagerChangeSelection:function(e){if(1!=this.__ignoreChangeSelection){this.__ignoreManagerChangeSelection=!0;this.__synchronizeSelection();this.__ignoreManagerChangeSelection=!1;this.fireDataEvent("changeValue",e.getData(),e.getOldData())}},__synchronizeSelection:function(){if(!this.__isSelectionEquals()){for(var e=this._manager.getSelection(),t=[],i=0;i<e.length;i++){var n=this._getDataFromRow(e[i]);null!=n&&t.push(n)}this.__replaceSelection(t)}},__replaceSelection:function(e){var t=this.getSelection();if(e.length>0){var i=[0,t.getLength()];i=i.concat(e);t.splice.apply(t,i).dispose()}else t.removeAll()},__isSelectionEquals:function(){var e=this.getSelection(),t=this._manager.getSelection();if(e.getLength()!==t.length)return!1;for(var i=0;i<e.getLength();i++){var n=e.getItem(i),s=this._getSelectables(),r=-1;null!=s&&(r=s.indexOf(n));if(this._reverseLookup(r)!==t[i])return!1}return!0},_applyDefaultSelection:function(){null!=this._manager&&this._manager._applyDefaultSelection()}},destruct:function(){this._manager.dispose();this._manager=null;this.__defaultSelection&&this.__defaultSelection.dispose()}});qx.ui.virtual.selection.MModel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.virtual.core.Axis":{construct:!0},"qx.ui.container.Composite":{construct:!0},"qx.ui.virtual.core.ILayer":{},"qx.event.Timer":{},"qx.ui.virtual.core.CellEvent":{},"qx.lang.Array":{},"qx.ui.core.queue.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.core.Pane",{extend:qx.ui.core.Widget,construct:function(e,t,i,n){qx.ui.core.Widget.constructor.call(this);this.__rowConfig=new qx.ui.virtual.core.Axis(i,e);this.__columnConfig=new qx.ui.virtual.core.Axis(n,t);this.__scrollTop=0;this.__scrollLeft=0;this.__paneHeight=0;this.__paneWidth=0;this.__layerWindow={};this.__jobs={};this.__layerContainer=new qx.ui.container.Composite;this.__layerContainer.setUserBounds(0,0,0,0);this._add(this.__layerContainer);this.__layers=[];this.__rowConfig.addListener("change",this.fullUpdate,this);this.__columnConfig.addListener("change",this.fullUpdate,this);this.addListener("resize",this._onResize,this);this.addListenerOnce("appear",this._onAppear,this);this.addListener("pointerdown",this._onPointerDown,this);this.addListener("tap",this._onTap,this);this.addListener("dbltap",this._onDbltap,this);this.addListener("contextmenu",this._onContextmenu,this)},events:{cellTap:"qx.ui.virtual.core.CellEvent",cellContextmenu:"qx.ui.virtual.core.CellEvent",cellDbltap:"qx.ui.virtual.core.CellEvent",update:"qx.event.type.Event",scrollX:"qx.event.type.Data",scrollY:"qx.event.type.Data"},properties:{width:{refine:!0,init:400},height:{refine:!0,init:300}},members:{__rowConfig:null,__columnConfig:null,__scrollTop:null,__scrollLeft:null,__paneHeight:null,__paneWidth:null,__layerWindow:null,__jobs:null,__layerContainer:null,__layers:null,__dontFireUpdate:null,__columnSizes:null,__rowSizes:null,__pointerDownCoords:null,getRowConfig:function(){return this.__rowConfig},getColumnConfig:function(){return this.__columnConfig},getChildren:function(){return[this.__layerContainer]},addLayer:function(e){this.assertInterface(e,qx.ui.virtual.core.ILayer);this.__layers.push(e);e.setUserBounds(0,0,0,0);this.__layerContainer.add(e)},getLayers:function(){return this.__layers},getVisibleLayers:function(){for(var e=[],t=0;t<this.__layers.length;t++){var i=this.__layers[t];i.isVisible()&&e.push(i)}return e},getScrollMaxX:function(){var e=this.getInnerSize();return e?Math.max(0,this.__columnConfig.getTotalSize()-e.width):0},getScrollMaxY:function(){var e=this.getInnerSize();return e?Math.max(0,this.__rowConfig.getTotalSize()-e.height):0},setScrollY:function(e){var t=this.getScrollMaxY();e<0?e=0:e>t&&(e=t);if(this.__scrollTop!==e){var i=this.__scrollTop;this.__scrollTop=e;this._deferredUpdateScrollPosition();this.fireDataEvent("scrollY",e,i)}},getScrollY:function(){return this.__scrollTop},setScrollX:function(e){var t=this.getScrollMaxX();e<0?e=0:e>t&&(e=t);if(e!==this.__scrollLeft){var i=this.__scrollLeft;this.__scrollLeft=e;this._deferredUpdateScrollPosition();this.fireDataEvent("scrollX",e,i)}},getScrollX:function(){return this.__scrollLeft},getScrollSize:function(){return{width:this.__columnConfig.getTotalSize(),height:this.__rowConfig.getTotalSize()}},scrollRowIntoView:function(e){var t=this.getBounds();if(t){var i=this.__rowConfig.getItemPosition(e),n=i+this.__rowConfig.getItemSize(e),s=this.getScrollY();i<s?this.setScrollY(i):n>s+t.height&&this.setScrollY(n-t.height)}else this.addListenerOnce("appear",function(){qx.event.Timer.once(function(){this.scrollRowIntoView(e)},this,0)},this)},scrollColumnIntoView:function(e){var t=this.getBounds();if(t){var i=this.__columnConfig.getItemPosition(e),n=i+this.__columnConfig.getItemSize(e),s=this.getScrollX();i<s?this.setScrollX(i):n>s+t.width&&this.setScrollX(n-t.width)}else this.addListenerOnce("appear",function(){qx.event.Timer.once(function(){this.scrollColumnIntoView(e)},this,0)},this)},scrollCellIntoView:function(e,t){if(this.getBounds()){this.scrollColumnIntoView(e);this.scrollRowIntoView(t)}else this.addListenerOnce("appear",function(){qx.event.Timer.once(function(){this.scrollCellIntoView(e,t)},this,0)},this)},getCellAtPosition:function(e,t){var i,n,s=this.getContentLocation();if(!s||t<s.top||t>=s.bottom||e<s.left||e>=s.right)return null;i=this.__rowConfig.getItemAtPosition(this.getScrollY()+t-s.top);n=this.__columnConfig.getItemAtPosition(this.getScrollX()+e-s.left);return i&&n?{row:i.index,column:n.index}:null},prefetchX:function(e,t,i,n){var s=this.getVisibleLayers();if(0!=s.length){var r=this.getBounds();if(r){var o=this.__scrollLeft+r.width,a=this.__paneWidth-o;if(this.__scrollLeft-this.__layerWindow.left<Math.min(this.__scrollLeft,e)||this.__layerWindow.right-o<Math.min(a,i)){var l=Math.min(this.__scrollLeft,t),u=Math.min(a,n);this._setLayerWindow(s,this.__scrollLeft-l,this.__scrollTop,r.width+l+u,r.height,!1)}}}},prefetchY:function(e,t,i,n){var s=this.getVisibleLayers();if(0!=s.length){var r=this.getBounds();if(r){var o=this.__scrollTop+r.height,a=this.__paneHeight-o;if(this.__scrollTop-this.__layerWindow.top<Math.min(this.__scrollTop,e)||this.__layerWindow.bottom-o<Math.min(a,i)){var l=Math.min(this.__scrollTop,t),u=Math.min(a,n);this._setLayerWindow(s,this.__scrollLeft,this.__scrollTop-l,r.width,r.height+l+u,!1)}}}},_onResize:function(){if(this.getContentElement().getDomElement()){this.__dontFireUpdate=!0;this._updateScrollPosition();this.__dontFireUpdate=null;this.fireEvent("update")}},_onAppear:function(){this.fullUpdate()},_onPointerDown:function(e){this.__pointerDownCoords=this.getCellAtPosition(e.getDocumentLeft(),e.getDocumentTop())},_onTap:function(e){this.__handlePointerCellEvent(e,"cellTap")},_onContextmenu:function(e){this.__handlePointerCellEvent(e,"cellContextmenu")},_onDbltap:function(e){this.__handlePointerCellEvent(e,"cellDbltap")},_checkScrollBounds:function(){var e=this.getScrollMaxX(),t=this.getScrollMaxY();this.__scrollLeft<0?this.__scrollLeft=0:this.__scrollLeft>e&&(this.__scrollLeft=e);this.__scrollTop<0?this.__scrollTop=0:this.__scrollTop>t&&(this.__scrollTop=t)},__handlePointerCellEvent:function(e,t){var i=this.getCellAtPosition(e.getDocumentLeft(),e.getDocumentTop());if(i){var n=this.__pointerDownCoords;null!=n&&n.row===i.row&&n.column===i.column&&this.fireNonBubblingEvent(t,qx.ui.virtual.core.CellEvent,[this,e,i.row,i.column])}},syncWidget:function(e){if(this.__jobs._fullUpdate){this._checkScrollBounds();this._fullUpdate()}else if(this.__jobs._updateScrollPosition){this._checkScrollBounds();this._updateScrollPosition()}this.__jobs={}},_setLayerWindow:function(e,t,i,n,s,r){var o=this.__rowConfig.getItemAtPosition(i);if(o)var a=o.index,l=this.__rowConfig.getItemSizes(a,s+o.offset),u=qx.lang.Array.sum(l),c=i-o.offset,d=i-o.offset+u;else a=0,l=[],u=0,c=0,d=0;var h=this.__columnConfig.getItemAtPosition(t);if(h)var g=h.index,m=this.__columnConfig.getItemSizes(g,n+h.offset),f=qx.lang.Array.sum(m),p=t-h.offset,_=t-h.offset+f;else g=0,m=[],f=0,p=0,_=0;this.__layerWindow={top:c,bottom:d,left:p,right:_};this.__layerContainer.setUserBounds((this.getPaddingLeft()||0)+(this.__layerWindow.left-this.__scrollLeft),(this.getPaddingTop()||0)+(this.__layerWindow.top-this.__scrollTop),f,u);this.__columnSizes=m;this.__rowSizes=l;for(var x=0;x<this.__layers.length;x++){var q=this.__layers[x];q.setUserBounds(0,0,f,u);r?q.fullUpdate(a,g,l,m):q.updateLayerWindow(a,g,l,m)}},__checkPaneResize:function(){if(!this.__dontFireUpdate){var e=this.getScrollSize();if(this.__paneHeight!==e.height||this.__paneWidth!==e.width){this.__paneHeight=e.height;this.__paneWidth=e.width;this.fireEvent("update")}}},fullUpdate:function(){this.__jobs._fullUpdate=1;qx.ui.core.queue.Widget.add(this)},isUpdatePending:function(){return!!this.__jobs._fullUpdate},_fullUpdate:function(){var e=this.getVisibleLayers();if(0!=e.length){var t=this.getBounds();if(t){this._setLayerWindow(e,this.__scrollLeft,this.__scrollTop,t.width,t.height,!0);this.__checkPaneResize()}}else this.__checkPaneResize()},_deferredUpdateScrollPosition:function(){this.__jobs._updateScrollPosition=1;qx.ui.core.queue.Widget.add(this)},_updateScrollPosition:function(){var e=this.getVisibleLayers();if(0!=e.length){var t=this.getBounds();if(t){var i=this.__scrollTop,n=this.__scrollTop+t.height,s=this.__scrollLeft,r=this.__scrollLeft+t.width;this.__layerWindow.top<=i&&this.__layerWindow.bottom>=n&&this.__layerWindow.left<=s&&this.__layerWindow.right>=r?this.__layerContainer.setUserBounds((this.getPaddingLeft()||0)+(this.__layerWindow.left-s),(this.getPaddingTop()||0)+(this.__layerWindow.top-i),this.__layerWindow.right-this.__layerWindow.left,this.__layerWindow.bottom-this.__layerWindow.top):this._setLayerWindow(e,this.__scrollLeft,this.__scrollTop,t.width,t.height,!1);this.__checkPaneResize()}}else this.__checkPaneResize()}},destruct:function(){this._disposeArray("__layers");this._disposeObjects("__rowConfig","__columnConfig","__layerContainer");this.__layerWindow=this.__jobs=this.__columnSizes=this.__rowSizes=null}});qx.ui.virtual.core.Pane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.core.Scroller":{construct:!0,require:!0},"qx.ui.virtual.selection.MModel":{require:!0},"qx.data.controller.ISelection":{require:!0},"qx.data.Array":{construct:!0},"qx.ui.virtual.layer.Row":{},"qx.ui.list.provider.WidgetProvider":{},"qx.event.type.Data":{},"qx.util.DeferredCall":{},"qx.util.Delegate":{},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.list.List",{extend:qx.ui.virtual.core.Scroller,include:[qx.ui.virtual.selection.MModel],implement:qx.data.controller.ISelection,construct:function(e){qx.ui.virtual.core.Scroller.constructor.call(this,0,1,20,100);this._init();this.__defaultGroups=new qx.data.Array;this.initGroups(this.__defaultGroups);null!=e&&this.initModel(e);this.initItemHeight()},events:{changeModelLength:"qx.event.type.Data"},properties:{appearance:{refine:!0,init:"virtual-list"},focusable:{refine:!0,init:!0},width:{refine:!0,init:100},height:{refine:!0,init:200},model:{check:"qx.data.IListData",apply:"_applyModel",event:"changeModel",nullable:!0,deferredInit:!0},itemHeight:{check:"Integer",init:25,apply:"_applyRowHeight",themeable:!0},groupItemHeight:{check:"Integer",init:null,nullable:!0,apply:"_applyGroupRowHeight",themeable:!0},labelPath:{check:"String",apply:"_applyLabelPath",nullable:!0},iconPath:{check:"String",apply:"_applyIconPath",nullable:!0},groupLabelPath:{check:"String",apply:"_applyGroupLabelPath",nullable:!0},labelOptions:{apply:"_applyLabelOptions",nullable:!0},iconOptions:{apply:"_applyIconOptions",nullable:!0},groupLabelOptions:{apply:"_applyGroupLabelOptions",nullable:!0},delegate:{apply:"_applyDelegate",event:"changeDelegate",init:null,nullable:!0},autoGrouping:{check:"Boolean",init:!0},groups:{check:"qx.data.Array",event:"changeGroups",nullable:!1,deferredInit:!0},variableItemHeight:{check:"Boolean",apply:"_applyVariableItemHeight",nullable:!1,init:!0}},members:{_background:null,_provider:null,_layer:null,__lookupTable:null,__lookupTableForGroup:null,__groupHashMap:null,__groupStringsUsed:!1,__groupObjectsUsed:!1,__defaultGroupUsed:!1,__defaultGroups:null,__deferredLayerUpdate:null,refresh:function(){this.__buildUpLookupTable()},_createChildControlImpl:function(e,t){var i;switch(e){case"row-layer":i=new qx.ui.virtual.layer.Row(null,null)}return i||qx.ui.list.List.prototype._createChildControlImpl.base.call(this,e)},_init:function(){this._provider=new qx.ui.list.provider.WidgetProvider(this);this.__lookupTable=[];this.__lookupTableForGroup=[];this.__groupHashMap={};this.__groupStringsUsed=!1;this.__groupObjectsUsed=!1;this.__defaultGroupUsed=!1;this.getPane().addListener("resize",this._onResize,this);this._initBackground();this._initLayer()},_initBackground:function(){this._background=this.getChildControl("row-layer");this.getPane().addLayer(this._background)},_initLayer:function(){this._layer=this._provider.createLayer();this._layer.addListener("updated",this._onLayerUpdated,this);this.getPane().addLayer(this._layer)},_getDataFromRow:function(e){var t=null,i=this.getModel();return null==i?null:null!=(t=this._isGroup(e)?this.getGroups().getItem(this._lookupGroup(e)):i.getItem(this._lookup(e)))?t:null},_getLookupTable:function(){return this.__lookupTable},_lookup:function(e){return this.__lookupTable[e]},_lookupGroup:function(e){return this.__lookupTableForGroup.indexOf(e)},_reverseLookup:function(e){return e<0?-1:this.__lookupTable.indexOf(e)},_isGroup:function(e){return-1==this._lookup(e)},_getSelectables:function(){return this.getModel()},_applyModel:function(e,t){null!=e&&e.addListener("changeLength",this._onModelChange,this);null!=t&&t.removeListener("changeLength",this._onModelChange,this);this._onModelChange()},_applyRowHeight:function(e,t){this.getPane().getRowConfig().setDefaultItemSize(e)},_applyGroupRowHeight:function(e,t){this.__updateGroupRowHeight()},_applyLabelPath:function(e,t){this._provider.setLabelPath(e)},_applyIconPath:function(e,t){this._provider.setIconPath(e)},_applyGroupLabelPath:function(e,t){this._provider.setGroupLabelPath(e)},_applyLabelOptions:function(e,t){this._provider.setLabelOptions(e)},_applyIconOptions:function(e,t){this._provider.setIconOptions(e)},_applyGroupLabelOptions:function(e,t){this._provider.setGroupLabelOptions(e)},_applyDelegate:function(e,t){this._provider.setDelegate(e);this.__buildUpLookupTable()},_applyVariableItemHeight:function(e,t){if(e)this._setRowItemSize();else{this.getPane().getRowConfig().resetItemSizes();this.getPane().fullUpdate()}},_onResize:function(e){this.getPane().getColumnConfig().setItemSize(0,e.getData().width)},_onModelChange:function(e){this._provider.removeBindings();this.__buildUpLookupTable();this._applyDefaultSelection();e instanceof qx.event.type.Data&&this.fireDataEvent("changeModelLength",e.getData(),e.getOldData())},_onLayerUpdated:function(){if(!1!==this.isVariableItemHeight()){null===this.__deferredLayerUpdate&&(this.__deferredLayerUpdate=new qx.util.DeferredCall(function(){this._setRowItemSize()},this));this.__deferredLayerUpdate.schedule()}},__updateRowCount:function(){this.getPane().getRowConfig().setItemCount(this.__lookupTable.length);this.getPane().fullUpdate()},__updateGroupRowHeight:function(){if(!this.isVariableItemHeight()){var e=this.getPane().getRowConfig(),t=this.getGroupItemHeight();e.resetItemSizes();if(t)for(var i=0,n=this.__lookupTable.length;i<n;++i)-1==this.__lookupTable[i]&&e.setItemSize(i,t)}},__buildUpLookupTable:function(){this.__lookupTable=[];this.__lookupTableForGroup=[];this.__groupHashMap={};this.isAutoGrouping()&&this.getGroups().removeAll();var e=this.getModel();if(null!=e){this._runDelegateFilter(e);this._runDelegateSorter(e);this._runDelegateGroup(e)}this._updateSelection();this.__updateGroupRowHeight();this.__updateRowCount()},_runDelegateFilter:function(e){for(var t=qx.util.Delegate.getMethod(this.getDelegate(),"filter"),i=0,n=e.length;i<n;++i)(null==t||t(e.getItem(i)))&&this.__lookupTable.push(i)},_runDelegateSorter:function(e){if(0!=this.__lookupTable.length){var t=qx.util.Delegate.getMethod(this.getDelegate(),"sorter");null!=t&&this.__lookupTable.sort(function(i,n){return t(e.getItem(i),e.getItem(n))})}},_runDelegateGroup:function(e){var t=qx.util.Delegate.getMethod(this.getDelegate(),"group");if(null!=t){for(var i=0,n=this.__lookupTable.length;i<n;++i){var s=this.__lookupTable[i],r=t(this.getModel().getItem(s));this.__addGroup(r,s)}this.__lookupTable=this.__createLookupFromGroup()}},__addGroup:function(e,t){if(null==e){this.__defaultGroupUsed=!0;e="???"}var i=this.__getUniqueGroupName(e);if(null==this.__groupHashMap[i]){this.__groupHashMap[i]=[];this.isAutoGrouping()&&this.getGroups().push(e)}this.__groupHashMap[i].push(t)},__createLookupFromGroup:function(){this.__checkGroupStructure();for(var e=[],t=0,i=this.getGroups(),n=0;n<i.getLength();n++){var s=i.getItem(n);e.push(-1);this.__lookupTableForGroup.push(t);t++;var r=this.__getUniqueGroupName(s),o=this.__groupHashMap[r];if(null!=o)for(var a=0;a<o.length;a++){e.push(o[a]);t++}}return e},__getUniqueGroupName:function(e){var t=null;if(qx.lang.Type.isString(e)){this.__groupStringsUsed=!0;t=e}else{var i=this.getGroups().indexOf(e);this.__groupObjectsUsed=!0;t="group";t+=-1==i?this.getGroups().getLength():i}return t},__checkGroupStructure:function(){if(this.__groupObjectsUsed&&this.__defaultGroupUsed||this.__groupObjectsUsed&&this.__groupStringsUsed)throw new Error("GroupingTypeError: You can't mix 'Objects' and 'Strings' as group identifier!")},_setRowItemSize:function(){for(var e=this.getPane().getRowConfig(),t=this._layer,i=t.getFirstRow(),n=i+t.getRowSizes().length,s=i;s<n;s++){var r=t.getRenderedCellWidget(s,0);if(null!==r){var o=r.getSizeHint().height;e.setItemSize(s,o)}}}},destruct:function(){this._disposeObjects("__deferredLayerUpdate");var e=this.getModel();null!=e&&e.removeListener("changeLength",this._onModelChange,this);var t=this.getPane();null!=t&&t.removeListener("resize",this._onResize,this);this._background.dispose();this._provider.dispose();this._layer.dispose();this._background=this._provider=this._layer=this.__lookupTable=this.__lookupTableForGroup=this.__groupHashMap=null;this.__defaultGroups&&this.__defaultGroups.dispose()}});qx.ui.list.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.selection.Abstract":{construct:!0,require:!0},"qx.ui.virtual.core.Pane":{construct:!0},"qx.bom.element.Location":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.selection.Abstract",{extend:qx.ui.core.selection.Abstract,construct:function(e,t){qx.ui.core.selection.Abstract.constructor.call(this);this.assertInstance(e,qx.ui.virtual.core.Pane);this._pane=e;this._delegate=t||{}},members:{_autoScrollIntoView:!0,_isSelectable:function(e){return!this._delegate.isItemSelectable||this._delegate.isItemSelectable(e)},_styleSelectable:function(e,t,i){this._delegate.styleSelectable&&this._delegate.styleSelectable(e,t,i)},attachPointerEvents:function(){var e=this._pane.getContentElement();e.addListener("pointerdown",this.handlePointerDown,this);e.addListener("tap",this.handleTap,this);e.addListener("pointerover",this.handlePointerOver,this);e.addListener("pointermove",this.handlePointerMove,this);e.addListener("losecapture",this.handleLoseCapture,this)},detatchPointerEvents:function(){var e=this._pane.getContentElement();e.removeListener("pointerdown",this.handlePointerDown,this);e.removeListener("tap",this.handleTap,this);e.removeListener("pointerover",this.handlePointerOver,this);e.removeListener("pointermove",this.handlePointerMove,this);e.removeListener("losecapture",this.handleLoseCapture,this)},attachKeyEvents:function(e){e.addListener("keypress",this.handleKeyPress,this)},detachKeyEvents:function(e){e.removeListener("keypress",this.handleKeyPress,this)},attachListEvents:function(e){e.addListener("addItem",this.handleAddItem,this);e.addListener("removeItem",this.handleRemoveItem,this)},detachListEvents:function(e){e.removeListener("addItem",this.handleAddItem,this);e.removeListener("removeItem",this.handleRemoveItem,this)},_capture:function(){this._pane.capture()},_releaseCapture:function(){this._pane.releaseCapture()},_getScroll:function(){return{left:this._pane.getScrollX(),top:this._pane.getScrollY()}},_scrollBy:function(e,t){this._pane.setScrollX(this._pane.getScrollX()+e);this._pane.setScrollY(this._pane.getScrollY()+t)},_getLocation:function(){var e=this._pane.getContentElement().getDomElement();return e?qx.bom.element.Location.get(e):null},_getDimension:function(){return this._pane.getInnerSize()}},destruct:function(){this._pane=this._delegate=null}});qx.ui.virtual.selection.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.selection.Abstract":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.selection.Row",{extend:qx.ui.virtual.selection.Abstract,members:{_getItemCount:function(){return this._pane.getRowConfig().getItemCount()},_getSelectableFromPointerEvent:function(e){var t=this._pane.getCellAtPosition(e.getDocumentLeft(),e.getDocumentTop());return t&&this._isSelectable(t.row)?t.row:null},getSelectables:function(e){for(var t=[],i=0,n=this._getItemCount();i<n;i++)this._isSelectable(i)&&t.push(i);return t},_getSelectableRange:function(e,t){for(var i=[],n=Math.min(e,t),s=Math.max(e,t),r=n;r<=s;r++)this._isSelectable(r)&&i.push(r);return i},_getFirstSelectable:function(){for(var e=this._getItemCount(),t=0;t<e;t++)if(this._isSelectable(t))return t;return null},_getLastSelectable:function(){for(var e=this._getItemCount()-1;e>=0;e--)if(this._isSelectable(e))return e;return null},_getRelatedSelectable:function(e,t){if("above"==t)var i=e-1,n=0,s=-1;else{if("under"!=t)return null;i=e+1,n=this._getItemCount()-1,s=1}for(var r=i;r!==n+s;r+=s)if(this._isSelectable(r))return r;return null},_getPage:function(e,t){var i,n,s=this._pane.getRowConfig();i=this._pane.getInnerSize();n=this._pane.getScrollY();t?this._pane.setScrollY(n-i.height+s.getDefaultItemSize()):this._pane.setScrollY(n+i.height);n=this._pane.getScrollY();return s.getItemAtPosition(n).index},_selectableToHashCode:function(e){return e},_scrollItemIntoView:function(e){this._autoScrollIntoView&&this._pane.scrollRowIntoView(e)},_getSelectableLocationX:function(e){return{left:0,right:this._pane.getColumnConfig().getTotalSize()-1}},_getSelectableLocationY:function(e){var t=this._pane.getRowConfig(),i=t.getItemPosition(e);return{top:i,bottom:i+t.getItemSize(e)-1}}}});qx.ui.virtual.selection.Row.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.virtual.core.ILayer",{members:{fullUpdate:function(e,t,i,n){this.assertArgumentsCount(arguments,6,6);this.assertPositiveInteger(e);this.assertPositiveInteger(t);this.assertArray(i);this.assertArray(n)},updateLayerWindow:function(e,t,i,n){this.assertArgumentsCount(arguments,6,6);this.assertPositiveInteger(e);this.assertPositiveInteger(t);this.assertArray(i);this.assertArray(n)},updateLayerData:function(){}}});qx.ui.virtual.core.ILayer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.virtual.core.ILayer":{require:!0},"qx.ui.core.queue.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.Abstract",{extend:qx.ui.core.Widget,type:"abstract",implement:[qx.ui.virtual.core.ILayer],construct:function(){qx.ui.core.Widget.constructor.call(this);this.__jobs={}},properties:{anonymous:{refine:!0,init:!0}},members:{__jobs:null,__arguments:null,__firstRow:null,__firstColumn:null,__rowSizes:null,__columnSizes:null,getFirstRow:function(){return this.__firstRow},getFirstColumn:function(){return this.__firstColumn},getRowSizes:function(){return this.__rowSizes||[]},getColumnSizes:function(){return this.__columnSizes||[]},syncWidget:function(e){if(this.getContentElement().getDomElement()){this.__jobs.fullUpdate||this.__jobs.updateLayerWindow&&this.__jobs.updateLayerData?this._fullUpdate.apply(this,this.__arguments):this.__jobs.updateLayerWindow?this._updateLayerWindow.apply(this,this.__arguments):this.__jobs.updateLayerData&&this.__rowSizes&&this._updateLayerData();if(this.__jobs.fullUpdate||this.__jobs.updateLayerWindow){var t=this.__arguments;this.__firstRow=t[0];this.__firstColumn=t[1];this.__rowSizes=t[2];this.__columnSizes=t[3]}this.__jobs={}}},_updateLayerData:function(){this._fullUpdate(this.__firstRow,this.__firstColumn,this.__rowSizes,this.__columnSizes)},_fullUpdate:function(e,t,i,n){throw new Error("Abstract method '_fullUpdate' called!")},_updateLayerWindow:function(e,t,i,n){this._fullUpdate(e,t,i,n)},updateLayerData:function(){this.__jobs.updateLayerData=!0;qx.ui.core.queue.Widget.add(this)},fullUpdate:function(e,t,i,n){this.__arguments=arguments;this.__jobs.fullUpdate=!0;qx.ui.core.queue.Widget.add(this)},updateLayerWindow:function(e,t,i,n){this.__arguments=arguments;this.__jobs.updateLayerWindow=!0;qx.ui.core.queue.Widget.add(this)}},destruct:function(){this.__jobs=this.__arguments=this.__rowSizes=this.__columnSizes=null}});qx.ui.virtual.layer.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.theme.manager.Color":{},"qx.theme.manager.Decoration":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.AbstractBackground",{extend:qx.ui.virtual.layer.Abstract,construct:function(e,t){qx.ui.virtual.layer.Abstract.constructor.call(this);e&&this.setColorEven(e);t&&this.setColorOdd(t);this.__customColors={};this.__decorators={}},properties:{colorEven:{nullable:!0,check:"Color",apply:"_applyColorEven",themeable:!0},colorOdd:{nullable:!0,check:"Color",apply:"_applyColorOdd",themeable:!0}},members:{__colorEven:null,__colorOdd:null,__customColors:null,__decorators:null,setColor:function(e,t){t?this.__customColors[e]=qx.theme.manager.Color.getInstance().resolve(t):delete this.__customColors[e]},clearCustomColors:function(){this.__customColors={};this.updateLayerData()},getColor:function(e){var t=this.__customColors[e];return t||(e%2==0?this.__colorEven:this.__colorOdd)},_applyColorEven:function(e,t){this.__colorEven=e?qx.theme.manager.Color.getInstance().resolve(e):null;this.updateLayerData()},_applyColorOdd:function(e,t){this.__colorOdd=e?qx.theme.manager.Color.getInstance().resolve(e):null;this.updateLayerData()},setBackground:function(e,t){t?this.__decorators[e]=qx.theme.manager.Decoration.getInstance().resolve(t):delete this.__decorators[e];this.updateLayerData()},getBackground:function(e){return this.__decorators[e]}},destruct:function(){this.__customColors=this.__decorators=null}});qx.ui.virtual.layer.AbstractBackground.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.AbstractBackground":{require:!0},"qx.lang.Array":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.Row",{extend:qx.ui.virtual.layer.AbstractBackground,properties:{appearance:{refine:!0,init:"row-layer"}},members:{_fullUpdate:function(e,t,i,n){for(var s=[],r=qx.lang.Array.sum(n),o=0,a=e,l=0;l<i.length;l++){var u=this.getColor(a),c=u?"background-color:"+u+";":"",d=this.getBackground(a),h=d?qx.bom.element.Style.compile(d.getStyles()):"";s.push("<div style='","position: absolute;","left: 0;","top:",o,"px;","height:",i[l],"px;","width:",r,"px;",c,h,"'>","</div>");0;o+=i[l];a+=1}var g=this.getContentElement().getDomElement();g.style.display="none";g.innerHTML=s.join("");g.style.display="block";this._width=r},_updateLayerWindow:function(e,t,i,n){(e!==this.getFirstRow()||i.length!==this.getRowSizes().length||this._width<qx.lang.Array.sum(n))&&this._fullUpdate(e,t,i,n)},setColor:function(e,t){qx.ui.virtual.layer.Row.prototype.setColor.base.call(this,e,t);this.__isRowRendered(e)&&this.updateLayerData()},setBackground:function(e,t){qx.ui.virtual.layer.Row.prototype.setBackground.base.call(this,e,t);this.__isRowRendered(e)&&this.updateLayerData()},__isRowRendered:function(e){var t=this.getFirstRow(),i=t+this.getRowSizes().length-1;return e>=t&&e<=i}}});qx.ui.virtual.layer.Row.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.virtual.core.IWidgetCellProvider",{members:{getCellWidget:function(e,t){},poolCellWidget:function(e){}}});qx.ui.virtual.core.IWidgetCellProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.list.provider.IListProvider",{members:{createLayer:function(){},createItemRenderer:function(){},createGroupRenderer:function(){},styleSelectabled:function(e){},styleUnselectabled:function(e){},isSelectable:function(e){},setLabelPath:function(e){},setIconPath:function(e){},setLabelOptions:function(e){},setIconOptions:function(e){},setDelegate:function(e){},removeBindings:function(){}}});qx.ui.list.provider.IListProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.list.core.MWidgetController",{construct:function(){this.__boundItems=[]},properties:{labelPath:{check:"String",nullable:!0},iconPath:{check:"String",nullable:!0},groupLabelPath:{check:"String",nullable:!0},labelOptions:{nullable:!0},iconOptions:{nullable:!0},groupLabelOptions:{nullable:!0},delegate:{event:"changeDelegate",init:null,nullable:!0}},members:{__boundItems:null,bindDefaultProperties:function(e,t){if("group"!=e.getUserData("cell.type")){this.bindProperty("","model",null,e,t);this.bindProperty(this.getLabelPath(),"label",this.getLabelOptions(),e,t);null!=this.getIconPath()&&this.bindProperty(this.getIconPath(),"icon",this.getIconOptions(),e,t)}else this.bindProperty(this.getGroupLabelPath(),"value",this.getGroupLabelOptions(),e,t)},bindProperty:function(e,t,i,n,s){var r=n.getUserData("cell.type"),o=this.__getBindPath(s,e,r);i&&(i.ignoreConverter="model");var a=this._list.bind(o,n,t,i);this.__addBinding(n,a)},bindPropertyReverse:function(e,t,i,n,s){var r=n.getUserData("cell.type"),o=this.__getBindPath(s,e,r),a=n.bind(t,this._list,o,i);this.__addBinding(n,a)},removeBindings:function(){for(;this.__boundItems.length>0;){var e=this.__boundItems.pop();this._removeBindingsFrom(e)}},_configureItem:function(e){var t=this.getDelegate();null!=t&&null!=t.configureItem&&t.configureItem(e)},_configureGroupItem:function(e){var t=this.getDelegate();null!=t&&null!=t.configureGroupItem&&t.configureGroupItem(e)},_bindItem:function(e,t){var i=this.getDelegate();null!=i&&null!=i.bindItem?i.bindItem(this,e,t):this.bindDefaultProperties(e,t)},_bindGroupItem:function(e,t){var i=this.getDelegate();null!=i&&null!=i.bindGroupItem?i.bindGroupItem(this,e,t):this.bindDefaultProperties(e,t)},_removeBindingsFrom:function(e){for(var t=this.__getBindings(e);t.length>0;){var i=t.pop();try{this._list.removeBinding(i)}catch(t){e.removeBinding(i)}}this.__boundItems.includes(e)&&qx.lang.Array.remove(this.__boundItems,e)},__getBindPath:function(e,t,i){var n="model["+e+"]";"group"==i&&(n="groups["+e+"]");null!=t&&""!=t&&(n+="."+t);return n},__addBinding:function(e,t){var i=this.__getBindings(e);i.includes(t)||i.push(t);this.__boundItems.includes(e)||this.__boundItems.push(e)},__getBindings:function(e){var t=e.getUserData("BindingIds");if(null==t){t=[];e.setUserData("BindingIds",t)}return t}},destruct:function(){this.__boundItems=null}});qx.ui.list.core.MWidgetController.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.virtual.core.IWidgetCellProvider":{require:!0},"qx.ui.list.provider.IListProvider":{require:!0},"qx.ui.list.core.MWidgetController":{require:!0},"qx.ui.virtual.layer.WidgetCell":{},"qx.util.Delegate":{},"qx.ui.form.ListItem":{},"qx.ui.virtual.cell.WidgetCell":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.list.provider.WidgetProvider",{extend:qx.core.Object,implement:[qx.ui.virtual.core.IWidgetCellProvider,qx.ui.list.provider.IListProvider],include:[qx.ui.list.core.MWidgetController],construct:function(e){qx.core.Object.constructor.call(this);this._list=e;this._itemRenderer=this.createItemRenderer();this._groupRenderer=this.createGroupRenderer();this._itemRenderer.addListener("created",this._onItemCreated,this);this._groupRenderer.addListener("created",this._onGroupItemCreated,this);this._list.addListener("changeDelegate",this._onChangeDelegate,this)},members:{_itemRenderer:null,_groupRenderer:null,getCellWidget:function(e,t){var i=null;if(this._list._isGroup(e)){(i=this._groupRenderer.getCellWidget()).setUserData("cell.type","group");this._bindGroupItem(i,this._list._lookupGroup(e))}else{(i=this._itemRenderer.getCellWidget()).setUserData("cell.type","item");this._bindItem(i,this._list._lookup(e));this._list._manager.isItemSelected(e)?this._styleSelectabled(i):this._styleUnselectabled(i)}return i},poolCellWidget:function(e){this._removeBindingsFrom(e);"item"==e.getUserData("cell.type")?this._itemRenderer.pool(e):"group"==e.getUserData("cell.type")&&this._groupRenderer.pool(e);this._onPool(e)},createLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this)},createItemRenderer:function(){var e=qx.util.Delegate.getMethod(this.getDelegate(),"createItem");null==e&&(e=function(){return new qx.ui.form.ListItem});var t=new qx.ui.virtual.cell.WidgetCell;t.setDelegate({createWidget:e});return t},createGroupRenderer:function(){var e=qx.util.Delegate.getMethod(this.getDelegate(),"createGroupItem");null==e&&(e=function(){var e=new qx.ui.basic.Label;e.setAppearance("group-item");return e});var t=new qx.ui.virtual.cell.WidgetCell;t.setDelegate({createWidget:e});return t},styleSelectabled:function(e){var t=this.__getWidgetFrom(e);this._styleSelectabled(t)},styleUnselectabled:function(e){var t=this.__getWidgetFrom(e);this._styleUnselectabled(t)},isSelectable:function(e){if(this._list._isGroup(e))return!1;var t=this._list._layer.getRenderedCellWidget(e,0);return null==t||t.isEnabled()},_styleSelectabled:function(e){this.__updateStates(e,{selected:1})},_styleUnselectabled:function(e){this.__updateStates(e,{})},_onPool:function(e){var t=qx.util.Delegate.getMethod(this.getDelegate(),"onPool");null!=t&&t(e)},_onItemCreated:function(e){var t=e.getData();this._configureItem(t)},_onGroupItemCreated:function(e){var t=e.getData();this._configureGroupItem(t)},_onChangeDelegate:function(e){this._itemRenderer.dispose();this._itemRenderer=this.createItemRenderer();this._itemRenderer.addListener("created",this._onItemCreated,this);this._groupRenderer.dispose();this._groupRenderer=this.createGroupRenderer();this._groupRenderer.addListener("created",this._onGroupItemCreated,this);this.removeBindings();this._list.getPane().fullUpdate()},__getWidgetFrom:function(e){return this._list._layer.getRenderedCellWidget(e,0)},__updateStates:function(e,t){null!=e&&this._itemRenderer.updateStates(e,t)}},destruct:function(){this._itemRenderer.dispose();this._groupRenderer.dispose();this._itemRenderer=this._groupRenderer=null}});qx.ui.list.provider.WidgetProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.core.Axis",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);this.itemCount=t;this.defaultItemSize=e;this.customSizes={}},events:{change:"qx.event.type.Event"},members:{__ranges:null,getDefaultItemSize:function(){return this.defaultItemSize},setDefaultItemSize:function(e){if(this.defaultItemSize!==e){this.defaultItemSize=e;this.__ranges=null;this.fireNonBubblingEvent("change")}},getItemCount:function(){return this.itemCount},setItemCount:function(e){if(this.itemCount!==e){this.itemCount=e;this.__ranges=null;this.fireNonBubblingEvent("change")}},setItemSize:function(e,t){this.assertArgumentsCount(arguments,2,2);this.assert(t>=0||null===t,"'size' must be 'null' or an integer larger than 0.");if(this.customSizes[e]!=t){null===t?delete this.customSizes[e]:this.customSizes[e]=t;this.__ranges=null;this.fireNonBubblingEvent("change")}},getItemSize:function(e){return this.customSizes[e]||this.defaultItemSize},resetItemSizes:function(){this.customSizes={};this.__ranges=null;this.fireNonBubblingEvent("change")},__getRanges:function(){if(this.__ranges)return this.__ranges;var e=this.defaultItemSize,t=this.itemCount,i=[];for(var n in this.customSizes){(a=parseInt(n,10))<t&&i.push(a)}if(0==i.length){var s=[{startIndex:0,endIndex:t-1,firstItemSize:e,rangeStart:0,rangeEnd:t*e-1}];this.__ranges=s;return s}i.sort(function(e,t){return e>t?1:-1});s=[];for(var r=0,o=0;o<i.length;o++){var a;if((a=i[o])>=t)break;var l=this.customSizes[a],u=a*e+r;r+=l-e;s[o]={startIndex:a,firstItemSize:l,rangeStart:u};if(o>0){s[o-1].rangeEnd=u-1;s[o-1].endIndex=a-1}}s[0].rangeStart>0&&s.unshift({startIndex:0,endIndex:s[0].startIndex-1,firstItemSize:e,rangeStart:0,rangeEnd:s[0].rangeStart-1});var c=s[s.length-1],d=(t-c.startIndex-1)*e;c.rangeEnd=c.rangeStart+c.firstItemSize+d-1;c.endIndex=t-1;this.__ranges=s;return s},__findRangeByPosition:function(e){for(var t=this.__ranges||this.__getRanges(),i=0,n=t.length-1;;){var s=i+(n-i>>1),r=t[s];if(r.rangeEnd<e)i=s+1;else{if(!(r.rangeStart>e))return r;n=s-1}}},getItemAtPosition:function(e){if(e<0||e>=this.getTotalSize())return null;var t=this.__findRangeByPosition(e),i=t.rangeStart,n=t.startIndex,s=t.firstItemSize;if(i+s>e)return{index:n,offset:e-i};var r=this.defaultItemSize;return{index:n+1+Math.floor((e-i-s)/r),offset:(e-i-s)%r}},__findRangeByIndex:function(e){for(var t=this.__ranges||this.__getRanges(),i=0,n=t.length-1;;){var s=i+(n-i>>1),r=t[s];if(r.endIndex<e)i=s+1;else{if(!(r.startIndex>e))return r;n=s-1}}},getItemPosition:function(e){if(e<0||e>=this.itemCount)return null;var t=this.__findRangeByIndex(e);return t.startIndex==e?t.rangeStart:t.rangeStart+t.firstItemSize+(e-t.startIndex-1)*this.defaultItemSize},getTotalSize:function(){var e=this.__ranges||this.__getRanges();return e[e.length-1].rangeEnd+1},getItemSizes:function(e,t){for(var i=this.customSizes,n=this.defaultItemSize,s=0,r=[],o=0;s<t;){var a=null!=i[e]?i[e]:n;e++;s+=a;r[o++]=a;if(e>=this.itemCount)break}return r}},destruct:function(){this.customSizes=this.__ranges=null}});qx.ui.virtual.core.Axis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.core.CellEvent",{extend:qx.event.type.Pointer,properties:{row:{check:"Integer",nullable:!0},column:{check:"Integer",nullable:!0}},members:{init:function(e,t,i,n){t.clone(this);this.setBubbles(!1);this.setRow(i);this.setColumn(n)}}});qx.ui.virtual.core.CellEvent.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{require:!0},"qx.ui.virtual.core.IWidgetCellProvider":{construct:!0},"qx.ui.core.Spacer":{},"qx.ui.core.FocusHandler":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.WidgetCell",{extend:qx.ui.virtual.layer.Abstract,include:[qx.ui.core.MChildrenHandling],construct:function(e){qx.ui.virtual.layer.Abstract.constructor.call(this);this.setZIndex(12);this.assertInterface(e,qx.ui.virtual.core.IWidgetCellProvider);this._cellProvider=e;this.__spacerPool=[]},properties:{anonymous:{refine:!0,init:!1}},events:{updated:"qx.event.type.Event"},members:{__spacerPool:null,getRenderedCellWidget:function(e,t){if(0===this._getChildren().length)return null;var i=this.getColumnSizes().length,n=this.getRowSizes().length,s=this.getFirstRow(),r=this.getFirstColumn();if(e<s||e>=s+n||t<r||t>=r+i)return null;var o=t-r+(e-s)*i,a=this._getChildren()[o];return!a||a.getUserData("cell.empty")?null:a},_getSpacer:function(){var e=this.__spacerPool.pop();e||(e=new qx.ui.core.Spacer).setUserData("cell.empty",1);return e},_activateNotEmptyChild:function(e){var t=qx.ui.core.FocusHandler.getInstance().getActiveWidget();if(t==e||qx.ui.core.Widget.contains(e,t))for(var i=this._getChildren(),n=i.length-1;n>=0;n--)if(!i[n].getUserData("cell.empty")){i[n].activate();break}},_fullUpdate:function(e,t,i,n){for(var s=this._cellProvider,r=this._getChildren().concat(),o=0;o<r.length;o++){var a=r[o];if(a.getUserData("cell.empty"))this.__spacerPool.push(a);else{this._activateNotEmptyChild(a);s.poolCellWidget(a)}}for(var l=0,u=0,c=[],d=0;d<i.length;d++){for(var h=0;h<n.length;h++){var g=e+d,m=t+h,f=s.getCellWidget(g,m)||this._getSpacer();c.push(f);f.setUserBounds(u,l,n[h],i[d]);f.setUserData("cell.row",g);f.setUserData("cell.column",m);this._add(f);u+=n[h]}l+=i[d];u=0}r.forEach(function(e){-1===c.indexOf(e)&&this._remove(e)}.bind(this));this.fireEvent("updated")},_updateLayerWindow:function(e,t,i,n){this.assertPositiveInteger(e);this.assertPositiveInteger(t);this.assertArray(i);this.assertArray(n);var s=e+i.length-1,r=t+n.length-1,o=Math.max(e,this.getFirstRow()),a=Math.min(s,this._lastRow),l=Math.max(t,this.getFirstColumn()),u=Math.min(r,this._lastColumn);this._lastColumn=r;this._lastRow=s;if(o>a||l>u)return this._fullUpdate(e,t,i,n);for(var c=this._getChildren(),d=this.getColumnSizes().length,h=[],g={},m=e;m<=s;m++){h[m]=[];for(var f=t;f<=r;f++)if(m>=o&&m<=a&&f>=l&&f<=u){var p=f-this.getFirstColumn(),_=(w=m-this.getFirstRow())*d+p;h[m][f]=c[_];g[_]=!0}}for(var x=this._cellProvider,q=(c=this._getChildren().concat(),0);q<c.length;q++)if(!g[q]){var v=c[q];if(v.getUserData("cell.empty"))this.__spacerPool.push(v);else{this._activateNotEmptyChild(v);x.poolCellWidget(v)}}for(var b=0,y=0,C=[],w=0;w<i.length;w++){for(p=0;p<n.length;p++){f=t+p;var E=h[m=e+w][f]||x.getCellWidget(m,f)||this._getSpacer();C.push(E);E.setUserBounds(y,b,n[p],i[w]);E.setUserData("cell.row",m);E.setUserData("cell.column",f);this._add(E);y+=n[p]}b+=i[w];y=0}c.forEach(function(e){-1===C.indexOf(e)&&this._remove(e)}.bind(this));this.fireEvent("updated")}},destruct:function(){for(var e=this._getChildren(),t=0;t<e.length;t++)e[t].dispose();this._cellProvider=this.__spacerPool=null}});qx.ui.virtual.layer.WidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.virtual.cell.IWidgetCell",{members:{getCellWidget:function(e,t){},pool:function(e){},updateStates:function(e,t){},updateData:function(e,t){}}});qx.ui.virtual.cell.IWidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.virtual.cell.IWidgetCell":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.cell.AbstractWidget",{extend:qx.core.Object,implement:[qx.ui.virtual.cell.IWidgetCell],construct:function(){qx.core.Object.constructor.call(this);this.__pool=[]},events:{created:"qx.event.type.Data"},members:{__pool:null,_createWidget:function(){throw new Error("abstract method call")},updateData:function(e,t){throw new Error("abstract method call")},updateStates:function(e,t){var i=e.getUserData("cell.states");if(i){var n=t||{};for(var s in i)n[s]||e.removeState(s)}else i={};if(t)for(var s in t)i.state||e.addState(s);e.setUserData("cell.states",t)},getCellWidget:function(e,t){var i=this.__getWidgetFromPool();this.updateStates(i,t);this.updateData(i,e);return i},pool:function(e){this.__pool.push(e)},_cleanupPool:function(){for(var e=this.__pool.pop();e;){e.destroy();e=this.__pool.pop()}},__getWidgetFromPool:function(){var e=this.__pool.shift();if(null==e){e=this._createWidget();this.fireDataEvent("created",e)}return e}},destruct:function(){this._cleanupPool();this.__pool=null}});qx.ui.virtual.cell.AbstractWidget.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.cell.AbstractWidget":{require:!0},"qx.ui.core.Widget":{},"qx.util.PropertyUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.cell.WidgetCell",{extend:qx.ui.virtual.cell.AbstractWidget,properties:{delegate:{apply:"_applyDelegate",init:null,nullable:!0}},members:{_applyDelegate:function(e,t){this._cleanupPool()},_createWidget:function(){var e=this.getDelegate();return null!=e&&null!=e.createWidget?e.createWidget():new qx.ui.core.Widget},updateData:function(e,t){for(var i in t){if(!qx.Class.hasProperty(e.constructor,i))throw new Error("Can't update data! The key '"+i+"' is not a Property!");qx.util.PropertyUtil.setUserValue(e,i,t[i])}}}});qx.ui.virtual.cell.WidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IBooleanForm":{},"qx.ui.form.CheckBox":{},"qx.ui.form.ToggleButton":{},"qx.ui.menu.CheckBox":{},"qx.ui.form.RadioButton":{},"qx.ui.menu.RadioButton":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.groupbox.CheckGroupBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.BooleanFormat",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e,t){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IBooleanForm),"Interface is not implemented.");this.assertEquals(t,e.getValue(),"Wrong init value set.");e.resetValue();e.setValue(!0);this.assertEquals(!0,e.getValue(),"Set or get does not work.");var i=this;this.assertEventFired(e,"changeValue",function(){e.setValue(!1)},function(e){i.assertEquals(!1,e.getData(),"Not the right data in the event.");i.assertEquals(!0,e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");e.setValue(null);e.destroy()},testCheckBox:function(){this.__test(new qx.ui.form.CheckBox,!1)},testToggleButton:function(){this.__test(new qx.ui.form.ToggleButton,!1)},testMenuCheckBox:function(){this.__test(new qx.ui.menu.CheckBox,!1)},testRadioButton:function(){this.__test(new qx.ui.form.RadioButton,!1)},testMenuRadioButton:function(){this.__test(new qx.ui.menu.RadioButton,!1)},testRadioGroupBox:function(){this.__test(new qx.ui.groupbox.RadioGroupBox,!0)},testCheckGroupBox:function(){this.__test(new qx.ui.groupbox.CheckGroupBox,!0)}}});qx.test.ui.form.BooleanFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IColorForm":{},"qx.ui.control.ColorSelector":{},"qx.ui.control.ColorPopup":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Color",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IColorForm),"Interface is not implemented.");this.assertNull(e.getValue(),"Wrong init value set.");e.resetValue();e.setValue("#008000");this.assertEquals("#008000",e.getValue(),"Set or get does not work.");var t=this;this.assertEventFired(e,"changeValue",function(){e.setValue("#CCCCCC")},function(e){t.assertEquals("#CCCCCC",e.getData(),"Wrong data in the event.")},"Event is wrong!");e.setValue(null);e.destroy()},testColorSelector:function(){this.__test(new qx.ui.control.ColorSelector)},testColorPopup:function(){this.__test(new qx.ui.control.ColorPopup)}}});qx.test.ui.form.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.form.ComboBox":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.ComboBox",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,members:{testWithSetValueWithArbitraryValue:function(){var e=this.__createComboBox("arbitrary value");this.getRoot().add(e);this.flush();this.assertIdentical("arbitrary value",e.getValue(),"Wrong result from getValue()");e.open();this.flush();this.assertIdentical(0,e.getChildrenContainer().getSelection().length,"The pop-up list has an item selected!");this.getRoot().removeAll();e.dispose();this.flush()},testWithSetValueWith:function(){var e=this.__createComboBox("Item 0");this.getRoot().add(e);this.flush();this.assertIdentical("Item 0",e.getValue(),"Wrong result from getValue()");e.open();this.flush();var t=e.getChildrenContainer(),i=t.findItem("Item 0");this.assertIdentical(i,t.getSelection()[0],"The wrong item selected in pop-up list!");e.setValue("item 2");this.assertEquals("item 2",e.getValue());this.assertEquals(0,t.getSelection().length);this.getRoot().removeAll();e.dispose();this.flush()},testWithoutSetValue:function(){var e=this.__createComboBox();this.getRoot().add(e);this.flush();this.assertIdentical(null,e.getValue(),"Wrong result from getValue()");e.open();this.flush();this.assertIdentical(0,e.getChildrenContainer().getSelection().length,"The pop-up list has an item selected!");this.getRoot().removeAll();e.dispose();this.flush()},testFocusTextOnClose:function(){var e=this.__createComboBox();this.getRoot().add(e);this.flush();e.open();this.flush();var t=e.getChildControl("list"),i=t.findItem("Item 0");t.setSelection([i]);this.flush();this.spy(e,"tabFocus");e.close();this.assertCalled(e.tabFocus);this.getRoot().removeAll();e.dispose()},testNotFocusTextOnCloseWhenInvisibleBefore:function(){var e=this.__createComboBox();this.getRoot().add(e);this.flush();e.setValue("Item 0");this.flush();this.spy(e,"tabFocus");e.close();this.assertNotCalled(e.tabFocus);this.getRoot().removeAll();e.dispose()},__createComboBox:function(e){var t=new qx.ui.form.ComboBox;e&&t.setValue(e);for(var i=0;i<10;i++)t.add(new qx.ui.form.ListItem("Item "+i));return t}}});qx.test.ui.form.ComboBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IDateForm":{},"qx.ui.form.DateField":{},"qx.ui.control.DateChooser":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Date",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IDateForm),"Interface is not implemented.");this.assertNull(e.getValue(),"Wrong init value set.");e.resetValue();var t=new Date(1981,1,10);e.setValue(t);this.assertEquals(t.toString(),e.getValue().toString(),"Set or get does not work.");var i=new Date(2009,4,1);this.assertEventFired(e,"changeValue",function(){e.setValue(i)},function(e){},"Event is wrong!");e.setValue(null);e.destroy()},testDateField:function(){var e=new qx.ui.form.DateField;this.__test(e);e.dispose()},testDateChooser:function(){var e=new qx.ui.control.DateChooser;this.__test(e);e.dispose()},testDateFieldIsEmpty:function(){var e=new qx.ui.form.DateField;this.assertTrue(e.isEmpty(),"DateField should be empty on initialization.");e.dispose()},testDateFieldPopupState:function(){var e=new qx.ui.form.DateField;this.getRoot().add(e);this.flush();e.open();this.flush();this.assertTrue(e.hasState("popupOpen"));e.close();this.flush();this.assertFalse(e.hasState("popupOpen"));this.getRoot().remove(e);this.flush();e.dispose();e=null}}});qx.test.ui.form.Date.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MRemoteChildrenHandling":{require:!0},"qx.ui.form.MForm":{require:!0},"qx.ui.form.IForm":{require:!0},"qx.ui.form.IDateForm":{require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.event.type.Focus":{construct:!0},"qx.locale.Date":{},"qx.util.format.DateFormat":{},"qx.locale.Manager":{},"qx.ui.form.TextField":{},"qx.ui.form.Button":{},"qx.ui.control.DateChooser":{},"qx.ui.popup.Popup":{},"qx.ui.layout.VBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.DateField",{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling,qx.ui.form.MForm],implement:[qx.ui.form.IForm,qx.ui.form.IDateForm],construct:function(){qx.ui.core.Widget.constructor.call(this);var e=new qx.ui.layout.HBox;this._setLayout(e);e.setAlignY("middle");var t=this._createChildControl("textfield");this._createChildControl("button");this.addListener("tap",this._onTap,this);this.addListener("blur",this._onBlur,this);this.addListener("focusin",function(e){t.fireNonBubblingEvent("focusin",qx.event.type.Focus)},this);this.addListener("focusout",function(e){t.fireNonBubblingEvent("focusout",qx.event.type.Focus)},this);this._setDefaultDateFormat();this._addLocaleChangeListener()},events:{changeValue:"qx.event.type.Data"},properties:{dateFormat:{check:"qx.util.format.DateFormat",apply:"_applyDateFormat"},placeholder:{check:"String",nullable:!0,apply:"_applyPlaceholder"},appearance:{refine:!0,init:"datefield"},focusable:{refine:!0,init:!0},width:{refine:!0,init:120}},statics:{__dateFormat:null,__formatter:null,getDefaultDateFormatter:function(){var e=qx.locale.Date.getDateFormat("medium").toString();if(e==this.__dateFormat)return this.__formatter;this.__formatter&&this.__formatter.dispose();this.__formatter=new qx.util.format.DateFormat(e,qx.locale.Manager.getInstance().getLocale());this.__dateFormat=e;return this.__formatter}},members:{__localeListenerId:null,_forwardStates:{focused:!0,invalid:!0},_setDefaultDateFormat:function(){this.setDateFormat(qx.ui.form.DateField.getDefaultDateFormatter())},_addLocaleChangeListener:function(){this.__localeListenerId=qx.locale.Manager.getInstance().addListener("changeLocale",function(){this._setDefaultDateFormat()},this)},setValue:function(e){this.getChildControl("textfield").setValue(this.getDateFormat().format(e));this.getChildControl("list").setValue(e)},getValue:function(){var e=this.getChildControl("textfield").getValue();try{return null==e||0==e.length?null:this.getDateFormat().parse(e)}catch(e){return null}},resetValue:function(){this.getChildControl("textfield").setValue("");this.getChildControl("list").setValue(null)},open:function(){var e=this.getChildControl("popup");e.placeToWidget(this,!0);e.show()},close:function(){this.getChildControl("popup").hide()},toggle:function(){this.getChildControl("popup").isVisible()?this.close():this.open()},_applyDateFormat:function(e,t){if(t)try{var i=this.getChildControl("textfield"),n=i.getValue();if(null!=n){var s=t.parse(n);i.setValue(e.format(s))}}catch(e){}},_applyPlaceholder:function(e,t){this.getChildControl("textfield").setPlaceholder(e)},_createChildControlImpl:function(e,t){var i;switch(e){case"textfield":(i=new qx.ui.form.TextField).setFocusable(!1);i.addState("inner");i.addListener("changeValue",this._onTextFieldChangeValue,this);i.addListener("blur",this.close,this);this._add(i,{flex:1});break;case"button":(i=new qx.ui.form.Button).setFocusable(!1);i.setKeepActive(!0);i.addState("inner");i.addListener("execute",this.toggle,this);this._add(i);break;case"list":(i=new qx.ui.control.DateChooser).setFocusable(!1);i.setKeepFocus(!0);i.addListener("execute",this._onChangeDate,this);break;case"popup":(i=new qx.ui.popup.Popup(new qx.ui.layout.VBox)).setAutoHide(!1);i.add(this.getChildControl("list"));i.addListener("pointerup",this._onChangeDate,this);i.addListener("changeVisibility",this._onPopupChangeVisibility,this)}return i||qx.ui.form.DateField.prototype._createChildControlImpl.base.call(this,e)},_onChangeDate:function(e){var t=this.getChildControl("textfield"),i=this.getChildControl("list").getValue();t.setValue(this.getDateFormat().format(i));this.close()},_onTap:function(e){this.close()},_onBlur:function(e){this.close()},_onKeyPress:function(e){var t=e.getKeyIdentifier();if("Down"==t&&e.isAltPressed()){this.toggle();e.stopPropagation()}else{if("hidden"!=this.getChildControl("popup").getVisibility())if("Escape"!=t){"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t||e.preventDefault();this.getChildControl("list").handleKeyPress(e)}else{this.close();e.stopPropagation()}}},_onPopupChangeVisibility:function(e){"visible"==e.getData()?this.addState("popupOpen"):this.removeState("popupOpen");if(this.getChildControl("popup").isVisible()){var t=this.getChildControl("list"),i=this.getValue();t.setValue(i)}},_onTextFieldChangeValue:function(e){var t=this.getValue();if(null!=t){this.getChildControl("list").setValue(t)}this.fireDataEvent("changeValue",this.getValue())},isEmpty:function(){var e=this.getChildControl("textfield").getValue();return null==e||""==e},focus:function(){qx.ui.form.DateField.prototype.focus.base.call(this);this.getChildControl("textfield").getFocusElement().focus()}},destruct:function(){this.__localeListenerId&&qx.locale.Manager.getInstance().removeListenerById(this.__localeListenerId)}});qx.ui.form.DateField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.DateField":{},"qx.dev.unit.RequirementError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.DateField",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__datefield=new qx.ui.form.DateField;this.getRoot().add(this.__datefield)},tearDown:function(){this.__datefield.destroy();qx.test.ui.form.DateField.prototype.tearDown.base.call(this)},"test: setting value sets date of chooser":function(){var e=this.__datefield,t=e.getChildControl("list"),i=new Date;e.setValue(i);this.assertEquals(i,t.getValue())},"test: choosing date fills in formatted date":function(){var e=this.__datefield,t=e.getChildControl("textfield"),i=e.getChildControl("list"),n=new Date,s=this.formatDate(n);i.setValue(n);e._onChangeDate();this.assertEquals(s,t.getValue())},formatDate:function(e){return this.__datefield.getDateFormat().format(e)},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)}}});qx.test.ui.form.DateField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IExecutable":{},"qx.ui.command.Command":{},"qx.ui.form.ToggleButton":{},"qx.ui.form.CheckBox":{},"qx.ui.form.Button":{},"qx.ui.form.RepeatButton":{},"qx.ui.form.MenuButton":{},"qx.ui.form.RadioButton":{},"qx.ui.toolbar.Button":{},"qx.ui.toolbar.SplitButton":{},"qx.ui.menu.CheckBox":{},"qx.ui.menu.RadioButton":{},"qx.ui.menu.Button":{},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.control.DateChooser":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Executable",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IExecutable),"Interface is not implemented.");var t=new qx.ui.command.Command;e.setCommand(t);this.assertEquals(t,e.getCommand(),"Setter / Getter not working.");this.assertEventFired(e,"execute",function(){e.execute()},function(e){},"Execute event on the widget is wrong! (1)");this.assertEventFired(t,"execute",function(){e.execute()},function(e){},"Execute event on the command is wrong! (2)");this.assertEventFired(t,"execute",function(){t.execute()},function(e){},"Execute event on the command is wrong! (3)");this.assertEventFired(e,"execute",function(){t.execute()},function(e){},"Execute event on the widget is wrong! (4)");e.setCommand(null);this.assertEventNotFired(e,"execute",function(){t.execute()},function(e){},"Execute event on the widget is wrong! (5)");t.dispose();e.destroy()},testToggleButton:function(){this.__test(new qx.ui.form.ToggleButton)},testCheckBox:function(){this.__test(new qx.ui.form.CheckBox)},testButton:function(){this.__test(new qx.ui.form.Button)},testRepeatButton:function(){this.__test(new qx.ui.form.RepeatButton)},testMenuButton:function(){this.__test(new qx.ui.form.MenuButton)},testRadioButton:function(){this.__test(new qx.ui.form.RadioButton)},testToolbarButton:function(){this.__test(new qx.ui.toolbar.Button)},testSplitButton:function(){this.__test(new qx.ui.toolbar.SplitButton)},testMenuCheckBox:function(){this.__test(new qx.ui.menu.CheckBox)},testMenuRadioButton:function(){this.__test(new qx.ui.menu.RadioButton)},testButtonInMenu:function(){this.__test(new qx.ui.menu.Button)},testCheckGroupBox:function(){this.__test(new qx.ui.groupbox.CheckGroupBox)},testRadioGroupBox:function(){this.__test(new qx.ui.groupbox.RadioGroupBox)},testDateChooser:function(){this.__test(new qx.ui.control.DateChooser)}}});qx.test.ui.form.Executable.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.bom.client.Browser":{},"qx.bom.webfonts.Manager":{},"qx.ui.form.TextField":{},"qx.bom.webfonts.WebFont":{},"qx.util.ResourceManager":{},"qx.event.Timer":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"},"browser.version":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Field",{extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MRequirements,qx.dev.unit.MMock],members:{hasWebFontSupport:function(){var e=qx.core.Environment.get("browser.name"),t=qx.core.Environment.get("browser.version");return!("firefox"==e&&t<3.5||"opera"==e&&t<10)},tearDown:function(){this.getSandbox().restore();qx.bom.webfonts.Manager.getInstance().dispose();delete qx.bom.webfonts.Manager.$$instance},testSelectTextAllBeforeFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();e.selectAllText();this.flush();var t=this;this.wait(1e3,function(){t.assertEquals("affe",e.getTextSelection());e.destroy()})},testSelectAllTextAfterFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();this.flush();e.selectAllText();var t=this;this.wait(1e3,function(){t.assertEquals("affe",e.getTextSelection());e.destroy()})},testClearTextSelectionBeforeFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();e.selectAllText();e.clearTextSelection();this.flush();var t=this;this.wait(100,function(){t.assertEquals("",e.getTextSelection());e.destroy()})},testClearTextSelectionAfterFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();this.flush();var t=this;this.wait(1e3,function(){e.selectAllText();e.clearTextSelection();t.assertEquals("",e.getTextSelection());e.destroy()})},testGetTextSelectionStartEndAfterFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();this.flush();var t=this;this.wait(1e3,function(){e.setTextSelection(1,2);t.assertEquals(1,e.getTextSelectionStart());t.assertEquals(2,e.getTextSelectionEnd());e.destroy()})},testGetTextSelectionStartEndBeforeFlush:function(){var e=new qx.ui.form.TextField("affe");this.getRoot().add(e);e.focus();e.setTextSelection(2,3);this.flush();var t=this;this.wait(100,function(){t.assertEquals(2,e.getTextSelectionStart());t.assertEquals(3,e.getTextSelectionEnd());e.destroy()})},testApplyWebFont:function(){this.require(["webFontSupport"]);var e=new qx.ui.form.TextField("Laugh while you can, monkey boy!"),t=new qx.bom.webfonts.WebFont;t.set({size:18,family:["monospace"],sources:[{family:"FinelinerScriptRegular",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/fineliner_script-webfont.eot")]},{family:"YanoneKaffeesatzRegular",source:[qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.woff"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.ttf"),qx.util.ResourceManager.getInstance().toUri("qx/test/webfonts/yanonekaffeesatz-regular-webfont.eot")]}]});var i=this.spy(e,"_onWebFontStatusChange");e.setFont(t);qx.event.Timer.once(function(){this.resume(function(){e.dispose();t.dispose();this.assertCalledTwice(i)},this)},this,4e3);this.wait(8e3)}}});qx.test.ui.form.Field.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.form.IForm":{},"qx.ui.form.Spinner":{},"qx.ui.form.Slider":{},"qx.ui.form.TextField":{},"qx.ui.form.TextArea":{},"qx.ui.form.PasswordField":{},"qx.ui.form.ComboBox":{},"qx.ui.form.SelectBox":{},"qx.ui.form.CheckBox":{},"qx.ui.form.RadioButton":{},"qx.ui.groupbox.GroupBox":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.form.List":{},"qx.ui.tree.Tree":{},"qx.ui.form.DateField":{},"qx.ui.form.RadioGroup":{},"qx.ui.form.RadioButtonGroup":{},"qx.ui.form.Form":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Form",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,members:{__testRequired:function(e){this.assert(qx.Class.hasInterface(e.constructor,qx.ui.form.IForm),"Interface not implemented.");this.assertFalse(e.getRequired(),"Default required state is wrong.");var t=this;e.setRequired(!1);this.assertEventFired(e,"changeRequired",function(){e.setRequired(!0)},function(e){t.assertTrue(e.getData(),"Wrong data in the event!");t.assertFalse(e.getOldData(),"Wrong old data in the event!")},"Change event not fired!");this.assertTrue(e.getRequired(),"Setting of the required flag did not work.");e.dispose()},__testValid:function(e,t){this.assert(qx.Class.hasInterface(e.constructor,qx.ui.form.IForm),"Interface not implemented.");this.getRoot().add(e);this.assertTrue(e.getValid(),"Default valid state is wrong.");this.assertFalse(!!e.hasState("invalid"),"Should not have the invalid state.");e.setValid(!1);this.assertFalse(e.getValid(),"Setting of the valid flag did not work.");this.assertTrue(e.hasState("invalid"),"Should have the invalid state.");var i=this;this.assertEventFired(e,"changeValid",function(){e.setValid(!0)},function(e){i.assertTrue(e.getData(),"Wrong data in the event.");i.assertFalse(e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");this.assertEventFired(e,"changeInvalidMessage",function(){e.setInvalidMessage("affe")},function(e){i.assertEquals("affe",e.getData(),"Wrong data in the event.");i.assertEquals("",e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");e.setValid(!1);if("dont"!==t){i=this;window.setTimeout(function(){i.resume(function(){this.__testInvalidBorder(e);e.destroy()},i)},100);this.wait()}e.destroy()},__testInvalidBorder:function(e){this.flush();this.assertNotEquals(-1,e.getDecorator().indexOf("invalid"),"Decorator not set!");e.focus();this.flush();this.assertNotEquals(-1,e.getDecorator().indexOf("invalid"),"Decorator not set!")},testRequiredSpinner:function(){this.__testRequired(new qx.ui.form.Spinner)},testValidSpinner:function(){this.__testValid(new qx.ui.form.Spinner)},testRequiredSlider:function(){this.__testRequired(new qx.ui.form.Slider)},testValidSlider:function(){this.__testValid(new qx.ui.form.Slider)},testRequiredTextField:function(){this.__testRequired(new qx.ui.form.TextField)},testValidTextField:function(){this.__testValid(new qx.ui.form.TextField)},testRequiredTextArea:function(){this.__testRequired(new qx.ui.form.TextArea)},testValidTextArea:function(){this.__testValid(new qx.ui.form.TextArea)},testRequiredPasswordField:function(){this.__testRequired(new qx.ui.form.PasswordField)},testValidPasswordField:function(){this.__testValid(new qx.ui.form.PasswordField)},testRequiredComboBox:function(){this.__testRequired(new qx.ui.form.ComboBox)},testValidComboBox:function(){this.__testValid(new qx.ui.form.ComboBox)},testRequiredSelectBox:function(){this.__testRequired(new qx.ui.form.SelectBox)},testValidSelectBox:function(){this.__testValid(new qx.ui.form.SelectBox)},testRequiredCheckBox:function(){this.__testRequired(new qx.ui.form.CheckBox)},testValidCheckBox:function(){this.__testValid(new qx.ui.form.CheckBox,"dont")},testValidRadioButton:function(){this.__testValid(new qx.ui.form.RadioButton,"dont")},testRequiredRadioButton:function(){this.__testRequired(new qx.ui.form.RadioButton)},testValidGroupBox:function(){this.__testValid(new qx.ui.groupbox.GroupBox,"dont")},testRequiredGroupBox:function(){this.__testRequired(new qx.ui.groupbox.GroupBox)},testValidRadioGroupBox:function(){this.__testValid(new qx.ui.groupbox.RadioGroupBox,"dont")},testRequiredRadioGroupBox:function(){this.__testRequired(new qx.ui.groupbox.RadioGroupBox)},testValidCheckGroupBox:function(){this.__testValid(new qx.ui.groupbox.CheckGroupBox,"dont")},testRequiredCheckGroupBox:function(){this.__testRequired(new qx.ui.groupbox.CheckGroupBox)},testValidList:function(){this.__testValid(new qx.ui.form.List)},testRequiredList:function(){this.__testRequired(new qx.ui.form.List)},testValidTree:function(){this.__testValid(new qx.ui.tree.Tree)},testRequiredTree:function(){this.__testRequired(new qx.ui.tree.Tree)},testRequiredDateField:function(){this.__testRequired(new qx.ui.form.DateField)},testValidDateField:function(){this.__testValid(new qx.ui.form.DateField)},testRequiredDateChooser:function(){this.__testRequired(new qx.ui.form.DateField)},testValidDateChooser:function(){this.__testValid(new qx.ui.form.DateField)},testValidRadioGroup:function(){var e=new qx.ui.form.RadioGroup,t=new qx.ui.form.RadioButton;e.add(t);this.assert(qx.Class.hasInterface(e.constructor,qx.ui.form.IForm),"Interface not implemented.");this.assertTrue(e.getValid(),"Default valid state is wrong.");e.setValid(!1);this.assertFalse(e.getValid(),"Setting of the valid flag did not work.");var i=this;this.assertEventFired(e,"changeValid",function(){e.setValid(!0)},function(e){i.assertTrue(e.getData(),"Wrong data in the event.");i.assertFalse(e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");this.assertEventFired(e,"changeInvalidMessage",function(){e.setInvalidMessage("affe")},function(e){i.assertEquals("affe",e.getData(),"Wrong data in the event.");i.assertEquals("",e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");e.setValid(!1);this.assertFalse(t.getValid(),"Child is valid!");this.assertEquals("affe",t.getInvalidMessage(),"Invalid messages not set on child.");e.dispose();t.destroy()},testRequiredRadioGroup:function(){this.__testRequired(new qx.ui.form.RadioGroup)},testRequiredRadioButtonGroup:function(){this.__testRequired(new qx.ui.form.RadioButtonGroup)},testValidRadioButtonGroup:function(){var e=new qx.ui.form.RadioButtonGroup,t=new qx.ui.form.RadioButton;e.add(t);this.assert(qx.Class.hasInterface(e.constructor,qx.ui.form.IForm),"Interface not implemented.");this.assertTrue(e.getValid(),"Default valid state is wrong.");e.setValid(!1);this.assertFalse(e.getValid(),"Setting of the valid flag did not work.");var i=this;this.assertEventFired(e,"changeValid",function(){e.setValid(!0)},function(e){i.assertTrue(e.getData(),"Wrong data in the event.");i.assertFalse(e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");this.assertEventFired(e,"changeInvalidMessage",function(){e.setInvalidMessage("affe")},function(e){i.assertEquals("affe",e.getData(),"Wrong data in the event.");i.assertEquals("",e.getOldData(),"Wrong old data in the event.")},"Change event not fired!");e.setValid(!1);this.assertFalse(t.getValid(),"Child is valid!");this.assertEquals("affe",t.getInvalidMessage(),"Invalid messages not set on child.");e.dispose();t.destroy()},testRedefineItem:function(){var e=new qx.ui.form.Form,t=e._resetter;t.redefineItem=this.spy(t.redefineItem);var i=new qx.ui.form.TextField;e.add(i,"xyz");e.redefineResetterItem(i);this.assertCalledOnce(t.redefineItem);i.dispose();e.dispose()}}});qx.test.ui.form.Form.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.dev.unit.MMock":{require:!0},"qx.ui.form.renderer.AbstractRenderer":{construct:!0},"qx.ui.form.renderer.IFormRenderer":{},"qx.ui.form.Form":{},"qx.ui.form.TextField":{},"qx.util.Validate":{},"qx.ui.form.Button":{},"qx.ui.form.RepeatButton":{},"qx.ui.control.DateChooser":{},"qx.ui.form.CheckBox":{},"qx.ui.form.ComboBox":{},"qx.ui.form.DateField":{},"qx.ui.form.List":{},"qx.ui.form.PasswordField":{},"qx.ui.form.RadioButton":{},"qx.ui.form.SelectBox":{},"qx.ui.form.Slider":{},"qx.ui.form.Spinner":{},"qx.ui.form.TextArea":{},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.form.RadioButtonGroup":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.form.renderer.Single":{},"qx.ui.form.renderer.SinglePlaceholder":{},"qx.ui.form.renderer.Double":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.FormManager",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MMock,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Class.define("qx.test.DummyFormRenderer",{extend:qx.ui.form.renderer.AbstractRenderer,implement:qx.ui.form.renderer.IFormRenderer,construct:function(e){this.groups=[];this.buttons=[];qx.ui.form.renderer.AbstractRenderer.constructor.call(this,e)},properties:{buttons:{},groups:{}},members:{addItems:function(e,t,i,n,s){this.groups.push({items:e,names:t,title:i,headerOptions:s,options:n})},addButton:function(e,t){this.buttons.push({button:e,options:t})}}})},members:{__form:null,__tf1:null,__tf2:null,setUp:function(){this.__form=new qx.ui.form.Form;this.__tf1=new qx.ui.form.TextField;this.__tf2=new qx.ui.form.TextField},tearDown:function(){this.__tf2.dispose();this.__tf1.dispose();this.__form.dispose()},testValidationContext:function(){var e=this;this.__form.add(this.__tf2,"TF2",function(){e.assertEquals(1,this.a)},null,{a:1});this.__form.validate()},testAddTwo:function(){this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[0].items[1],this.__tf2);this.assertEquals(e.groups[0].names[0],"TF1");this.assertEquals(e.groups[0].names[1],"TF2");e.dispose()},testRemove:function(){this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[0].items[1],this.__tf2);e.dispose();this.assertTrue(this.__form.remove(this.__tf1));this.assertFalse(this.__form.remove(this.__tf1));e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf2);e.dispose()},testAddTwoWithValidator:function(){this.__tf1.setRequired(!0);this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2",qx.util.Validate.email());this.assertFalse(this.__form.validate());this.assertFalse(this.__tf1.getValid());this.assertFalse(this.__tf2.getValid());this.__tf1.setValue("a");this.__tf2.setValue("ab@cd.ef");this.assertTrue(this.__form.validate());this.assertTrue(this.__tf1.getValid());this.assertTrue(this.__tf2.getValid());this.assertTrue(this.__form.getValidationManager().validate())},testAddTwoWithHeader:function(){this.__form.addGroupHeader("affe");this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[0].items[1],this.__tf2);this.assertEquals(e.groups[0].names[0],"TF1");this.assertEquals(e.groups[0].names[1],"TF2");this.assertEquals("affe",e.groups[0].title);e.dispose()},testRemoveHeader:function(){this.__form.addGroupHeader("affe0");this.__form.add(this.__tf1,"TF1");this.__form.addGroupHeader("affe1");this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[1].items[0],this.__tf2);this.assertEquals("affe0",e.groups[0].title);this.assertEquals("affe1",e.groups[1].title);e.dispose();this.assertTrue(this.__form.removeGroupHeader("affe1"));this.assertFalse(this.__form.removeGroupHeader("affe1"));e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[0].items[1],this.__tf2);this.assertEquals("affe0",e.groups[0].title);e.dispose()},testAddTwoWithTwoGroups:function(){this.__form.addGroupHeader("affe");this.__form.add(this.__tf1,"TF1");this.__form.addGroupHeader("affee");this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e.groups[0].items[0],this.__tf1);this.assertEquals(e.groups[1].items[0],this.__tf2);this.assertEquals(e.groups[0].names[0],"TF1");this.assertEquals(e.groups[1].names[0],"TF2");this.assertEquals("affe",e.groups[0].title);this.assertEquals("affee",e.groups[1].title);e.dispose()},testAddTwoButtons:function(){var e=new qx.ui.form.Button,t=new qx.ui.form.RepeatButton;this.__form.addButton(e);this.__form.addButton(t);var i=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e,i.buttons[0].button);this.assertEquals(t,i.buttons[1].button);t.dispose();e.dispose();i.dispose()},testRemoveButton:function(){var e=new qx.ui.form.Button,t=new qx.ui.form.RepeatButton;this.__form.addButton(e);this.__form.addButton(t);var i=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(e,i.buttons[0].button);this.assertEquals(t,i.buttons[1].button);i.dispose();this.assertTrue(this.__form.removeButton(e));this.assertFalse(this.__form.removeButton(e));i=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(t,i.buttons[0].button);i.dispose();t.dispose();e.dispose()},testAddTwoWithButtons:function(){var e=new qx.ui.form.Button,t=new qx.ui.form.RepeatButton;this.__form.add(this.__tf1,"TF1");this.__form.addButton(e);this.__form.add(this.__tf2,"TF2");this.__form.addButton(t);var i=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(i.groups[0].items[0],this.__tf1);this.assertEquals(i.groups[0].items[1],this.__tf2);this.assertEquals(i.groups[0].names[0],"TF1");this.assertEquals(i.groups[0].names[1],"TF2");this.assertEquals(e,i.buttons[0].button);this.assertEquals(t,i.buttons[1].button);t.dispose();e.dispose();i.dispose()},testAddTwoWithOptions:function(){this.__form.add(this.__tf1,"TF1",null,"tf1",null,{a:1});this.__form.add(this.__tf2,"TF2",null,"tf2",null,{a:2});var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(1,e.groups[0].options[0].a);this.assertEquals(2,e.groups[0].options[1].a);e.dispose()},testAddTwoWithButtonsOptions:function(){var e=new qx.ui.form.Button,t=new qx.ui.form.RepeatButton;this.__form.add(this.__tf1,"TF1");this.__form.addButton(e,{a:1});this.__form.add(this.__tf2,"TF2");this.__form.addButton(t,{a:2});var i=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(1,i.buttons[0].options.a);this.assertEquals(2,i.buttons[1].options.a);t.dispose();e.dispose();i.dispose()},testAddTwoWithHeaderOptions:function(){this.__form.addGroupHeader("affe",{a:1});this.__form.add(this.__tf1,"TF1");this.__form.addGroupHeader("affee",{a:2});this.__form.add(this.__tf2,"TF2");var e=new qx.test.DummyFormRenderer(this.__form);this.assertEquals(1,e.groups[0].headerOptions.a);this.assertEquals(2,e.groups[1].headerOptions.a);e.dispose()},testResetter:function(){this.__tf1.setValue("aaaa");this.__tf2.setValue("bbbb");this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2");this.__tf1.setValue("111");this.__tf2.setValue("222");this.__form.reset();this.assertEquals("aaaa",this.__tf1.getValue());this.assertEquals("bbbb",this.__tf2.getValue())},testAll:function(){var e=[];e.push(new qx.ui.control.DateChooser);e.push(new qx.ui.form.CheckBox);e.push(new qx.ui.form.ComboBox);e.push(new qx.ui.form.DateField);e.push(new qx.ui.form.List);e.push(new qx.ui.form.PasswordField);e.push(new qx.ui.form.RadioButton);e.push(new qx.ui.form.SelectBox);e.push(new qx.ui.form.Slider);e.push(new qx.ui.form.Spinner);e.push(new qx.ui.form.TextArea);e.push(new qx.ui.form.TextField);e.push(new qx.ui.groupbox.CheckGroupBox);e.push(new qx.ui.form.RadioButtonGroup);e.push(new qx.ui.groupbox.RadioGroupBox);for(var t=0;t<e.length;t++)this.__form.add(e[t],"name"+t);this.__form.reset();this.assertTrue(this.__form.validate());for(t=0;t<e.length;t++)e[t].dispose()},testGetItems:function(){this.__form.add(this.__tf1,"TF1",null,"a");this.__form.add(this.__tf2,"TF2",null,"b");var e=this.__form.getItems();this.assertEquals(e.a,this.__tf1);this.assertEquals(e.b,this.__tf2)},testGetItemsFallback:function(){this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"T F 2");var e=this.__form.getItems();this.assertEquals(e.TF1,this.__tf1);this.assertEquals(e.TF2,this.__tf2)},testGetItemsMixedWithGroups:function(){this.__form.add(this.__tf1,"TF1");this.__form.add(this.__tf2,"TF2",null,"b");this.__form.addGroupHeader("x");var e=new qx.ui.form.TextField;this.__form.add(e,"TF3");var t=this.__form.getItems();this.assertEquals(t.TF1,this.__tf1);this.assertEquals(t.b,this.__tf2);this.assertEquals(t.TF3,e);e.destroy()},testRedefineResetter:function(){this.__form.redefineResetter()},testEvent:function(){var e=this.spy();this.__form.addListener("change",e);this.__form.add(this.__tf1,"TF1");this.assertCalledOnce(e);this.__form.addGroupHeader("GROUP");this.assertCalledTwice(e);this.__form.add(this.__tf2,"TF2");this.assertEquals(3,e.callCount);this.__form.remove(this.__tf1);this.assertEquals(4,e.callCount);this.__form.removeGroupHeader("GROUP");this.assertEquals(5,e.callCount);var t=new qx.ui.form.Button;this.__form.addButton(t);this.assertEquals(6,e.callCount);this.__form.removeButton(t);this.assertEquals(7,e.callCount);t.dispose()},testSingleRenderer:function(){var e=new qx.ui.form.Button;this.__form.addGroupHeader("header");this.__form.add(this.__tf1,"TF1");this.__form.addButton(e);new qx.ui.form.renderer.Single(this.__form).dispose();e.dispose()},testSinglePlaceholderRenderer:function(){var e=new qx.ui.form.Button;this.__form.addGroupHeader("header");this.__form.add(this.__tf1,"TF1");this.__form.addButton(e);new qx.ui.form.renderer.SinglePlaceholder(this.__form).dispose();e.dispose()},testDoubleRenderer:function(){var e=new qx.ui.form.Button;this.__form.addGroupHeader("header");this.__form.add(this.__tf1,"TF1");this.__form.addButton(e);new qx.ui.form.renderer.Double(this.__form).dispose();e.dispose()},testGetItem:function(){var e=new qx.ui.form.TextField,t=new qx.ui.form.TextField,i=new qx.ui.form.TextField;this.__form.add(e,"a");this.__form.add(t,"c");this.__form.add(i,"label",null,"x");this.assertIdentical(e,this.__form.getItem("a"));this.assertNull(this.__form.getItem("b"));this.assertIdentical(t,this.__form.getItem("c"));this.assertNull(this.__form.getItem("label"));this.assertIdentical(i,this.__form.getItem("x"));[e,t,i].forEach(function(e){e.dispose()})}}});qx.test.ui.form.FormManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.form.renderer.IFormRenderer":{require:!0},"qx.locale.Manager":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.renderer.AbstractRenderer",{type:"abstract",extend:qx.ui.core.Widget,implement:qx.ui.form.renderer.IFormRenderer,construct:function(e){qx.ui.core.Widget.constructor.call(this);this._labels=[];qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this);this._names=[];this._form=e;this._render();e.addListener("change",this._onFormChange,this)},properties:{labelSuffix:{check:"String",init:" :",event:"changeLabelSuffix",nullable:!0},requiredSuffix:{check:"String",init:" <span style='color:red'>*</span> ",event:"changeRequiredSuffix",nullable:!1}},members:{_names:null,_form:null,_labels:null,_render:function(){for(var e=this._form.getGroups(),t=0;t<e.length;t++){var i=e[t];this.addItems(i.items,i.labels,i.title,i.options,i.headerOptions)}var n=this._form.getButtons(),s=this._form.getButtonOptions();for(t=0;t<n.length;t++)this.addButton(n[t],s[t])},_onFormChange:function(){this._removeAll();for(var e=0;e<this._labels.length;e++)this._labels[e].dispose();this._labels=[];this._render()},_connectVisibility:function(e,t){e.bind("visibility",t,"visibility")},_onChangeLocale:function(e){for(var t=0;t<this._names.length;t++){var i=this._names[t];i.name&&i.name.translate&&(i.name=i.name.translate());var n=this._createLabelText(i.name,i.item);i.label.setValue(n)}},_createLabelText:function(e,t){var i="";t.getRequired()&&(i=this.getRequiredSuffix());return e+i+(e.length>0||t.getRequired()?this.getLabelSuffix():"")},addItems:function(e,t,i){throw new Error("Abstract method call")},addButton:function(e){throw new Error("Abstract method call")}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this);this._names=null;this._form.removeListener("change",this._onFormChange,this);this._form=null}});qx.ui.form.renderer.AbstractRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.renderer.AbstractRenderer":{construct:!0,require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.renderer.Single",{extend:qx.ui.form.renderer.AbstractRenderer,construct:function(e){var t=new qx.ui.layout.Grid;t.setSpacing(6);t.setColumnFlex(1,1);t.setColumnAlign(0,"right","top");this._setLayout(t);qx.ui.form.renderer.AbstractRenderer.constructor.call(this,e)},members:{_row:0,_buttonRow:null,_onFormChange:function(){if(this._buttonRow){this._buttonRow.destroy();this._buttonRow=null}this._row=0;qx.ui.form.renderer.Single.prototype._onFormChange.base.call(this)},addItems:function(e,t,i){if(null!=i){this._add(this._createHeader(i),{row:this._row,column:0,colSpan:2});this._row++}for(var n=0;n<e.length;n++){var s=this._createLabel(t[n],e[n]);this._add(s,{row:this._row,column:0});var r=e[n];s.setBuddy(r);this._add(r,{row:this._row,column:1});this._row++;this._connectVisibility(r,s);this._names.push({name:t[n],label:s,item:e[n]})}},addButton:function(e){if(null==this._buttonRow){this._buttonRow=new qx.ui.container.Composite;this._buttonRow.setMarginTop(5);var t=new qx.ui.layout.HBox;t.setAlignX("right");t.setSpacing(5);this._buttonRow.setLayout(t);this._add(this._buttonRow,{row:this._row,column:0,colSpan:2});this._row++}this._buttonRow.add(e)},getLayout:function(){return this._getLayout()},_createLabel:function(e,t){var i=new qx.ui.basic.Label(this._createLabelText(e,t));this._labels.push(i);i.setRich(!0);i.setAppearance("form-renderer-label");return i},_createHeader:function(e){var t=new qx.ui.basic.Label(e);this._labels.push(t);t.setFont("bold");0!=this._row&&t.setMarginTop(10);t.setAlignX("left");return t}},destruct:function(){if(this._buttonRow){this._buttonRow.removeAll();this._disposeObjects("_buttonRow")}}});qx.ui.form.renderer.Single.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.renderer.Single":{require:!0},"qx.ui.form.renderer.IFormRenderer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.renderer.SinglePlaceholder",{extend:qx.ui.form.renderer.Single,implement:qx.ui.form.renderer.IFormRenderer,members:{addItems:function(e,t,i){if(null!=i){this._add(this._createHeader(i),{row:this._row,column:0,colSpan:2});this._row++}for(var n=0;n<e.length;n++){if(void 0===e[n].setPlaceholder)throw new Error("Only widgets with placeholders supported.");e[n].setPlaceholder(t[n]);this._add(e[n],{row:this._row,column:0});this._row++}}}});qx.ui.form.renderer.SinglePlaceholder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.renderer.AbstractRenderer":{construct:!0,require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.container.Composite":{},"qx.ui.layout.HBox":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.form.renderer.Double",{extend:qx.ui.form.renderer.AbstractRenderer,construct:function(e){var t=new qx.ui.layout.Grid;t.setSpacing(6);t.setColumnAlign(0,"right","top");t.setColumnAlign(1,"left","top");t.setColumnAlign(2,"right","top");t.setColumnAlign(3,"left","top");this._setLayout(t);qx.ui.form.renderer.AbstractRenderer.constructor.call(this,e)},members:{_row:0,_buttonRow:null,_onFormChange:function(){if(this._buttonRow){this._buttonRow.destroy();this._buttonRow=null}this._row=0;qx.ui.form.renderer.Double.prototype._onFormChange.base.call(this)},addItems:function(e,t,i){if(null!=i){this._add(this._createHeader(i),{row:this._row,column:0,colSpan:4});this._row++}for(var n=0;n<e.length;n++){var s=this._createLabel(t[n],e[n]);this._add(s,{row:this._row,column:2*n%4});var r=e[n];s.setBuddy(r);this._connectVisibility(r,s);this._add(r,{row:this._row,column:2*n%4+1});n%2==1&&this._row++;this._names.push({name:t[n],label:s,item:e[n]})}n%2==1&&this._row++},addButton:function(e){if(null==this._buttonRow){this._buttonRow=new qx.ui.container.Composite;this._buttonRow.setMarginTop(5);var t=new qx.ui.layout.HBox;t.setAlignX("right");t.setSpacing(5);this._buttonRow.setLayout(t);this._add(this._buttonRow,{row:this._row,column:0,colSpan:4});this._row++}this._buttonRow.add(e)},getLayout:function(){return this._getLayout()},_createLabel:function(e,t){var i=new qx.ui.basic.Label(this._createLabelText(e,t));this._labels.push(i);i.setRich(!0);return i},_createHeader:function(e){var t=new qx.ui.basic.Label(e);this._labels.push(t);t.setFont("bold");0!=this._row&&t.setMarginTop(10);t.setAlignX("left");return t}},destruct:function(){if(this._buttonRow){this._buttonRow.removeAll();this._disposeObjects("_buttonRow")}}});qx.ui.form.renderer.Double.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.ui.form.TextField":{},"qx.ui.form.validation.Manager":{},"qx.lang.Type":{},"qx.core.ValidationError":{},"qx.ui.form.validation.AsyncValidator":{},"qx.ui.form.RadioButtonGroup":{},"qx.ui.form.RadioButton":{},"qx.ui.form.Spinner":{},"qx.core.Object":{},"qx.ui.form.SelectBox":{},"qx.ui.form.VirtualSelectBox":{},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.FormValidator",{extend:qx.test.ui.LayoutTestCase,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this)},members:{__username:null,__password1:null,__password2:null,__manager:null,setUp:function(){this.__username=new qx.ui.form.TextField;this.__password1=new qx.ui.form.TextField;this.__password2=new qx.ui.form.TextField;this.__manager=new qx.ui.form.validation.Manager},tearDown:function(){this.__manager.dispose();this.__username.dispose();this.__password1.dispose();this.__password2.dispose()},__notEmptyValidator:function(e,t){var i=qx.lang.Type.isString(e)&&e.length>0;i?t.setInvalidMessage(""):t.setInvalidMessage("fail");return i},__notEmptyValidatorError:function(e){if(!qx.lang.Type.isString(e)||0==e.length)throw new qx.core.ValidationError("fail")},__asyncValidator:function(e,t){window.setTimeout(function(){var i=null!=t&&t.length>0;e.setValid(i,"fail")},100)},testSyncContext:function(){var e=this;this.__manager.add(this.__username,function(t,i){e.assertEquals(1,this.a)},{a:1});this.__manager.validate()},testSync2Context:function(){var e=this;this.__manager.add(this.__username,function(t,i){e.assertEquals(1,this.a)},{a:1});this.__manager.add(this.__password1,function(t,i){e.assertEquals(2,this.a)},{a:2});this.__manager.validate()},testAsyncContext:function(){var e=this,t=new qx.ui.form.validation.AsyncValidator(function(t,i){e.assertEquals(1,this.a)});this.__manager.add(this.__username,t,{a:1});this.__manager.validate();t.dispose()},testAsync2Context:function(){var e=this,t=new qx.ui.form.validation.AsyncValidator(function(t,i){e.assertEquals(1,this.a)}),i=new qx.ui.form.validation.AsyncValidator(function(t,i){e.assertEquals(2,this.a)});this.__manager.add(this.__username,t,{a:1});this.__manager.add(this.__password1,i,{a:2});this.__manager.validate();t.dispose();i.dispose()},testSyncFormContext:function(){var e=this;this.__manager.setValidator(function(){e.assertEquals(1,this.a)});this.__manager.setContext({a:1});this.__manager.validate()},testAsyncFormContext:function(){var e=this,t=new qx.ui.form.validation.AsyncValidator(function(){e.assertEquals(1,this.a)});this.__manager.setValidator(t);this.__manager.setContext({a:1});this.__manager.validate();t.dispose()},testSyncSelfContained1NotNull:function(){this.__manager.add(this.__username,this.__notEmptyValidator);this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertFalse(this.__username.getValid());this.assertEquals("fail",this.__username.getInvalidMessage());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.__username.setValue("affe");this.assertTrue(this.__manager.validate());this.assertTrue(this.__manager.getValid());this.assertTrue(this.__username.getValid());this.__username.resetValue();this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertFalse(this.__username.getValid())},testSyncSelfContained1NotNullRadioButtonGroup:function(){var e=new qx.ui.form.RadioButtonGroup;e.setRequired(!0);e.getRadioGroup().setAllowEmptySelection(!0);var t=new qx.ui.form.RadioButton("a"),i=new qx.ui.form.RadioButton("b");e.add(t);e.add(i);this.__manager.add(e);this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertFalse(e.getValid());e.setSelection([t]);this.assertTrue(this.__manager.validate());this.assertTrue(this.__manager.getValid());this.assertTrue(e.getValid());e.dispose()},testSyncSelfContained1NotNullEvents:function(e){this.__manager.add(this.__username,this.__notEmptyValidator);var t=this;this.assertEventFired(this.__manager,"changeValid",function(){t.__manager.validate()},function(e){t.assertFalse(e.getData());t.assertNull(e.getOldData())});this.__username.setValue("affe");this.assertEventFired(this.__manager,"changeValid",function(){t.__manager.validate()},function(e){t.assertTrue(e.getData());t.assertFalse(e.getOldData())})},__testSyncSelfContained3NotNull:function(e){this.__manager.add(this.__username,e);this.__manager.add(this.__password1,e);this.__manager.add(this.__password2,e);this.assertFalse(this.__manager.validate());this.assertFalse(this.__username.getValid());this.assertFalse(this.__password1.getValid());this.assertFalse(this.__password2.getValid());this.assertEquals("fail",this.__username.getInvalidMessage());this.assertEquals("fail",this.__password1.getInvalidMessage());this.assertEquals("fail",this.__password2.getInvalidMessage());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.assertEquals("fail",this.__manager.getInvalidMessages()[1]);this.assertEquals("fail",this.__manager.getInvalidMessages()[2]);this.assertEquals(3,this.__manager.getInvalidMessages().length);this.__password1.setValue("1");this.__password2.setValue("2");this.assertFalse(this.__manager.validate());this.assertFalse(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid());this.assertEquals("fail",this.__username.getInvalidMessage());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.assertEquals(1,this.__manager.getInvalidMessages().length);this.__username.setValue("affe");this.assertTrue(this.__manager.validate());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid());this.assertEquals(0,this.__manager.getInvalidMessages().length);this.__username.resetValue();this.assertFalse(this.__manager.validate());this.assertFalse(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid());this.assertEquals(1,this.__manager.getInvalidMessages().length)},testSyncSelfContained3NotNull:function(){this.__testSyncSelfContained3NotNull(this.__notEmptyValidator)},testSyncSelfContained3NotNullError:function(){this.__testSyncSelfContained3NotNull(this.__notEmptyValidatorError)},__testSyncRelatedNoIndividual:function(e){this.__manager.add(this.__username);this.__manager.add(this.__password1);this.__manager.add(this.__password2);this.__password1.setValue("affe");this.__manager.setValidator(e);this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertEquals("fail",this.__manager.getInvalidMessage());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.__password2.setValue("affe");this.assertTrue(this.__manager.validate());this.assertTrue(this.__manager.getValid());this.assertEquals(0,this.__manager.getInvalidMessages().length)},testSyncRelatedNoIndividual:function(){this.__testSyncRelatedNoIndividual(function(e,t){var i=e[1].getValue()==e[2].getValue();i||t.setInvalidMessage("fail");return i})},testSyncRelatedNoIndividualError:function(){this.__testSyncRelatedNoIndividual(function(e,t){if(e[1].getValue()!=e[2].getValue())throw new qx.core.ValidationError("fail")})},testSyncRelatedWithIndividual:function(){this.__manager.add(this.__username,this.__notEmptyValidator);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,this.__notEmptyValidator);this.__password1.setValue("affe");this.__manager.setValidator(function(e,t){var i=e[1].getValue()==e[2].getValue();i||t.setInvalidMessage("fail");return i});this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertFalse(this.__username.getValid());this.assertFalse(this.__password2.getValid());var e=this.__manager.getInvalidMessages();this.assertEquals("fail",this.__manager.getInvalidMessage());this.assertEquals("fail",e[0]);this.assertEquals("fail",e[1]);this.assertEquals("fail",e[2]);this.assertEquals(3,e.length);this.__password2.setValue("affe");this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.assertEquals(1,this.__manager.getInvalidMessages().length);this.__username.setValue("user");this.assertTrue(this.__manager.validate());this.assertTrue(this.__manager.getValid());this.assertEquals(0,this.__manager.getInvalidMessages().length);this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid());this.__password1.setValue("user");this.assertFalse(this.__manager.validate());this.assertFalse(this.__manager.getValid());this.assertEquals(1,this.__manager.getInvalidMessages().length);this.assertTrue(this.__username.getValid())},testRequired:function(){this.__username.setRequired(!0);this.__password1.setRequired(!0);this.__password2.setRequired(!0);this.__manager.add(this.__username);this.__manager.add(this.__password1);this.__manager.add(this.__password2);this.assertFalse(this.__manager.validate());this.assertFalse(this.__username.getValid());this.assertFalse(this.__password1.getValid());this.assertFalse(this.__password2.getValid());this.__password1.setValue("1");this.__password2.setValue("2");this.assertFalse(this.__manager.validate());this.assertFalse(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid());this.__username.setValue("affe");this.assertTrue(this.__manager.validate());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},testRequiredFieldMessage:function(){this.__manager.setRequiredFieldMessage("affe");this.__password1.setRequiredInvalidMessage("AFFEN");this.__username.setRequired(!0);this.__password1.setRequired(!0);this.__manager.add(this.__username);this.__manager.add(this.__password1);this.assertFalse(this.__manager.validate());this.assertEquals("affe",this.__username.getInvalidMessage());this.assertEquals("AFFEN",this.__password1.getInvalidMessage())},testRequiredNumberZero:function(){var e=new qx.ui.form.Spinner(-1,1,1);e.setRequired(!0);this.__manager.add(e);this.assertTrue(this.__manager.validate());this.assertTrue(e.getValid());e.setValue(0);this.assertTrue(this.__manager.validate());this.assertTrue(e.getValid());e.dispose()},testAsyncSelfContained1NotNullFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertFalse(this.__username.getValid());this.assertEquals("fail",this.__username.getInvalidMessage())},this)},this);this.__manager.validate();this.wait()},testAsyncSelfContained1NotNull:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__username.setValue("affe");this.__manager.addListener("complete",function(){this.resume(function(){this.assertTrue(this.__manager.isValid());this.assertTrue(this.__username.getValid())},this)},this);this.__manager.validate();this.wait()},testAsyncSelfContained3NotNullFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),i=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertFalse(this.__username.getValid());this.assertEquals("fail",this.__username.getInvalidMessage());this.assertEquals("fail",this.__password1.getInvalidMessage());this.assertEquals("fail",this.__password2.getInvalidMessage());this.assertEquals(3,this.__manager.getInvalidMessages().length);this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.assertEquals("fail",this.__manager.getInvalidMessages()[1]);this.assertEquals("fail",this.__manager.getInvalidMessages()[2])},this)},this);this.__manager.validate();this.wait()},testAsyncSelfContained3NotNull:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),i=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__manager.addListener("complete",function(){this.resume(function(){this.assertTrue(this.__manager.isValid());this.assertTrue(this.__username.getValid())},this)},this);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__manager.validate();this.wait()},testAsyncSelfContained2NotNullFailMixed:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){e.setValid(!1,"fail")},300)}),i=new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){e.setValid(!0,"WIN")},500)});this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__username.setValid(!1);this.__password1.setValid(!1);this.__password2.setValid(!1);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertFalse(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__username.setValue("a");this.__manager.validate();this.wait()},testAsyncSelfContained3NotNullHalfFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),i=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertFalse(this.__username.getValid());this.assertEquals("fail",this.__username.getInvalidMessage());this.assertEquals("fail",this.__manager.getInvalidMessages()[0]);this.assertEquals(1,this.__manager.getInvalidMessages().length)},this)},this);this.__password1.setValue("b");this.__password2.setValue("c");this.__manager.validate();this.wait()},testAsyncRelated3NotNullFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),i=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__username.setValue("u");this.__password1.setValue("a");this.__password2.setValue("b");this.__manager.validate();this.wait()},testAsyncRelated3NotNull:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),i=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,t);this.__manager.add(this.__password2,i);this.__manager.addListener("complete",function(){this.resume(function(){this.assertTrue(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__username.setValue("u");this.__password1.setValue("a");this.__password2.setValue("a");this.__manager.validate();this.wait()},testMixedSelfContained3NotNullAsyncFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,this.__notEmptyValidator);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertFalse(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__password1.setValue("a");this.__password2.setValue("b");this.__manager.validate();this.wait()},testMixedSelfContained3NotNullSyncFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,this.__notEmptyValidator);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertFalse(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__username.setValue("a");this.__password2.setValue("b");this.__manager.validate();this.wait()},testMixedSelfContained3NotNullSync:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,this.__notEmptyValidator);this.__manager.addListener("complete",function(){this.resume(function(){this.assertTrue(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__manager.validate();this.wait()},testMixedSelfContained2SyncRequired:function(e){var t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__password1.setRequired(!0);this.__manager.add(this.__username,t);this.__manager.add(this.__password1);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertFalse(this.__password1.getValid())},this)},this);this.__username.setValue("a");this.__manager.validate();this.wait()},testMixedRelated3NotNull:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,t);this.__manager.addListener("complete",function(){this.resume(function(){this.assertTrue(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__username.setValue("u");this.__password1.setValue("a");this.__password2.setValue("a");this.__manager.validate();this.wait()},testMixedRelated3NotNullSyncFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,t);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertFalse(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__username.setValue("u");this.__password2.setValue("a");this.__manager.validate();this.wait()},testMixedRelated3NotNullAsyncFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,t);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertFalse(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__password1.setValue("a");this.__password2.setValue("a");this.__manager.validate();this.wait()},testMixedRelated3NotNullAsyncFormFail:function(){var e=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator),t=new qx.ui.form.validation.AsyncValidator(this.__asyncValidator);this.__manager.add(this.__username,e);this.__manager.add(this.__password1,this.__notEmptyValidator);this.__manager.add(this.__password2,t);this.__manager.addListener("complete",function(){this.resume(function(){this.assertFalse(this.__manager.isValid());this.assertTrue(this.__username.getValid());this.assertTrue(this.__password1.getValid());this.assertTrue(this.__password2.getValid())},this)},this);this.__manager.setValidator(new qx.ui.form.validation.AsyncValidator(function(e,t){window.setTimeout(function(){t.setValid(e[1].getValue()==e[2].getValue())},100)}));this.__username.setValue("u");this.__password1.setValue("a");this.__password2.setValue("b");this.__manager.validate();this.wait()},testAddWrong:function(){this.assertException(function(){this.__manager.add(new qx.core.Object)});this.assertException(function(){this.__manager.add(123)});this.assertException(function(){this.__manager.add({})})},testAddSelectBoxWithValidator:function(){var e=new qx.ui.form.SelectBox;this.assertException(function(){this.__manager.add(e,function(){})});e.dispose()},testRemove:function(){this.__manager.add(this.__username,function(e,t){this.assertFalse(!0,"validation method called!")},this);this.assertEquals(this.__username,this.__manager.remove(this.__username));this.__manager.validate()},testGetItems:function(){this.__manager.add(this.__username);this.__manager.add(this.__password1);var e=this.__manager.getItems();this.assertInArray(this.__username,e);this.assertInArray(this.__password1,e)},testValidateDataBindingSelection:function(){"use strict";var e=new qx.ui.form.VirtualSelectBox;e.setRequired(!0);this.__manager.add(e);this.__manager.validate();this.assertFalse(e.isValid());var t=qx.data.marshal.Json.createModel(["a","b"]);e.setModel(t);this.__manager.validate();this.assertTrue(e.isValid());e.dispose();t.dispose()}}});qx.test.ui.form.FormValidator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.basic.Label":{},"qx.ui.form.TextField":{},"qx.ui.form.Spinner":{},"qx.ui.form.CheckBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Label",{extend:qx.test.ui.LayoutTestCase,members:{__formWidget:null,__label:null,setUp:function(){this.__label=new qx.ui.basic.Label("abc")},tearDown:function(){this.__label.destroy();this.__formWidget.destroy()},__testEnabled:function(){this.__label.setBuddy(this.__formWidget);this.assertTrue(this.__formWidget.getEnabled(),"Form widget is disabled.");this.assertTrue(this.__label.getEnabled(),"Label widget is disabled.");this.__formWidget.setEnabled(!1);this.assertFalse(this.__formWidget.getEnabled(),"Form widget is not disabled.");this.assertFalse(this.__label.getEnabled(),"Label widget is not disabled.");this.__label.setEnabled(!0);this.assertFalse(this.__formWidget.getEnabled(),"Form widget is not disabled at the end.");this.assertTrue(this.__label.getEnabled(),"Label widget is ensabled at the end.")},__testEnabledRemove:function(){this.__label.setBuddy(this.__formWidget);this.__formWidget.setEnabled(!1);this.assertFalse(this.__formWidget.getEnabled(),"Form widget is not disabled.");this.assertFalse(this.__label.getEnabled(),"Label widget is not disabled.");this.__label.setBuddy(null);this.__formWidget.setEnabled(!0);this.assertFalse(this.__label.getEnabled(),"Label widget is not disabled at the end.");this.assertTrue(this.__formWidget.getEnabled(),"Form widget is ensabled at the end.")},__testFocus:function(){this.getRoot().add(this.__formWidget);this.__label.setBuddy(this.__formWidget);this.__formWidget.addListener("focus",function(){this.resume(function(){},this)},this);this.tapOn(this.__label);this.wait()},__testFocusRemove:function(){this.getRoot().add(this.__formWidget);this.__label.setBuddy(this.__formWidget);this.__label.setBuddy(null);var e=!1;this.__formWidget.addListener("focus",function(){e=!0},this);var t=this;window.setTimeout(function(){t.resume(function(){this.assertFalse(t.__label.hasListener("click"),"Listener still there.");this.assertFalse(e,"Element has been focused")},t)},1e3);this.tapOn(this.__label);this.wait()},testEnabledRemoveTextField:function(){this.__formWidget=new qx.ui.form.TextField("abc");this.__testEnabledRemove()},testEnabledTextField:function(){this.__formWidget=new qx.ui.form.TextField("abc");this.__testEnabled()},testEnabledRemoveSpinner:function(){this.__formWidget=new qx.ui.form.Spinner;this.__testEnabledRemove()},testEnabledSpinner:function(){this.__formWidget=new qx.ui.form.Spinner;this.__testEnabled()},testEnabledRemoveCheckBox:function(){this.__formWidget=new qx.ui.form.CheckBox;this.__testEnabledRemove()},testEnabledCheckBox:function(){this.__formWidget=new qx.ui.form.CheckBox;this.__testEnabled()},testFocusTextField:function(){this.__formWidget=new qx.ui.form.TextField("abc");this.__testFocus()},testFocusSpinner:function(){this.__formWidget=new qx.ui.form.Spinner;this.__testFocus()},testFocusCheckBox:function(){this.__formWidget=new qx.ui.form.CheckBox;this.__testFocus()},testFocusRemoveTextField:function(){this.__formWidget=new qx.ui.form.TextField("abc");this.__testFocusRemove()},testFocusRemoveSpinner:function(){this.__formWidget=new qx.ui.form.Spinner;this.__testFocusRemove()},testFocusRemoveCheckBox:function(){this.__formWidget=new qx.ui.form.CheckBox;this.__testFocusRemove()},testFocusNotFocusableTextField:function(){this.__formWidget=new qx.ui.form.TextField;this.__formWidget.setReadOnly(!0);this.__label.setBuddy(this.__formWidget);this.tapOn(this.__label)}},destruct:function(){this.__label=this.__formWidget=null}});qx.test.ui.form.Label.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.List":{},"qx.ui.form.ListItem":{},"qx.ui.container.Composite":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.List",{extend:qx.test.ui.LayoutTestCase,members:{__list:null,setUp:function(){var e=this.__list=new qx.ui.form.List;["AAA","BBB","CCC"].forEach(function(t){t=new qx.ui.form.ListItem(t);e.add(t)});this.getRoot().add(e);this.flush()},"test: find regular item":function(){var e=this.__list.findItem("AAA");this.assertInstance(e,qx.ui.form.ListItem,"Item not found")},"test: find rich-text item":function(){var e=this.__list,t=new qx.ui.form.ListItem("<b>Bold</b>").set({rich:!0});e.add(t);this.flush();var i=e.findItem("Bold");this.assertInstance(i,qx.ui.form.ListItem,"Item not found")},"test: get container for list items":function(){var e=this.__list._createListItemContainer();this.assertInstance(e,qx.ui.container.Composite,"Wrong return value of '_createListItemContainer'");e.dispose()},tearDown:function(){qx.test.ui.form.List.prototype.tearDown.base.call(this);this.__list.destroy()}}});qx.test.ui.form.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.menu.Menu":{},"qx.ui.menu.Button":{},"qx.ui.form.MenuButton":{},"qx.ui.menu.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.MenuButton",{extend:qx.test.ui.LayoutTestCase,members:{__menu:null,__menuButton:null,setUp:function(){qx.test.ui.form.MenuButton.prototype.setUp.base.call(this);this.__menu=new qx.ui.menu.Menu;this.__menu.add(new qx.ui.menu.Button("Undo"));this.__menu.add(new qx.ui.menu.Button("Redo"));this.__menu.add(new qx.ui.menu.Button("Cut"));this.__menuButton=new qx.ui.form.MenuButton("Menu Button",null,this.__menu);this.getRoot().add(this.__menuButton);this.flush()},tearDown:function(){qx.test.ui.form.MenuButton.prototype.tearDown.base.call(this);for(var e=this.__menu.getChildren(),t=0;t<e.length;t++)e[t].dispose();this.__menu.dispose();this.__menuButton.dispose();this.flush()},testOpen:function(){this.__menuButton.open();this.assertTrue(this.__menu.isVisible());this.assertNull(this.__menu.getSelectedButton());qx.ui.menu.Manager.getInstance().hideAll();this.assertFalse(this.__menu.isVisible())},testOpenSelectFirst:function(){this.__menuButton.open(!0);this.assertTrue(this.__menu.isVisible());this.assertEquals(this.__menu.getChildren()[0],this.__menu.getSelectedButton());qx.ui.menu.Manager.getInstance().hideAll();this.assertFalse(this.__menu.isVisible())},testOpenSelectFirstWithDisabledElement:function(){this.__menu.getChildren()[0].setEnabled(!1);this.__menuButton.open(!0);this.assertTrue(this.__menu.isVisible());this.assertEquals(this.__menu.getChildren()[1],this.__menu.getSelectedButton());qx.ui.menu.Manager.getInstance().hideAll();this.assertFalse(this.__menu.isVisible())}}});qx.test.ui.form.MenuButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IModel":{},"qx.ui.form.ListItem":{},"qx.ui.form.RadioButton":{},"qx.ui.groupbox.RadioGroupBox":{},"qx.ui.form.CheckBox":{},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.tree.TreeFolder":{},"qx.ui.tree.TreeFile":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.ModelProperty",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IModel),"Interface not implemented");this.assertNull(e.getModel());e.setModel("affe");this.assertEquals("affe",e.getModel());e.setModel(123);this.assertEquals(123,e.getModel());e.resetModel();this.assertNull(e.getModel());var t=this;this.assertEventFired(e,"changeModel",function(){e.setModel(!0)},function(e){t.assertEquals(!0,e.getData());t.assertEquals(null,e.getOldData())},"Event is wrong!");t=this;this.assertEventFired(e,"changeModel",function(){e.setModel("abc")},function(e){t.assertEquals("abc",e.getData());t.assertEquals(!0,e.getOldData())},"Event is wrong!");e.dispose()},testListItem:function(){this.__test(new qx.ui.form.ListItem)},testRadioButton:function(){this.__test(new qx.ui.form.RadioButton)},testRadioGroupBox:function(){this.__test(new qx.ui.groupbox.RadioGroupBox)},testCheckBox:function(){this.__test(new qx.ui.form.CheckBox)},testCheckGroupBox:function(){this.__test(new qx.ui.groupbox.CheckGroupBox)},testTreeFolder:function(){this.__test(new qx.ui.tree.TreeFolder)},testTreeFile:function(){this.__test(new qx.ui.tree.TreeFile)}}});qx.test.ui.form.ModelProperty.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.SelectBox":{},"qx.ui.form.List":{},"qx.ui.form.ListItem":{},"qx.ui.form.RadioGroup":{},"qx.ui.form.RadioButtonGroup":{},"qx.ui.form.RadioButton":{},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.ModelSelection",{extend:qx.test.ui.LayoutTestCase,members:{__testGetSingle:function(e,t){t=t||e.getChildren();e.setSelection([t[0]]);this.assertEquals(1,e.getModelSelection().getItem(0));e.setSelection([t[2]]);this.assertEquals(3,e.getModelSelection().getItem(0))},__testGetMulti:function(e,t){t=t||e.getChildren();e.setSelection([t[0]]);this.assertEquals(1,e.getModelSelection().getItem(0));e.setSelection([t[1],t[2]]);this.assertEquals(2,e.getModelSelection().getLength(),"Wrong length");this.assertTrue(e.getModelSelection().contains(2));this.assertTrue(e.getModelSelection().contains(3))},__testSetSingle:function(e,t){t=t||e.getChildren();e.setModelSelection([2]);this.assertEquals(t[1],e.getSelection()[0]);e.setModelSelection([3]);this.assertEquals(t[2],e.getSelection()[0])},__testSetMulti:function(e,t){t=t||e.getChildren();e.setModelSelection([2]);this.assertEquals(t[1],e.getSelection()[0]);e.setModelSelection([2,3]);this.assertEquals(2,e.getSelection().length);this.assertTrue(e.getSelection().includes(t[1]));this.assertTrue(e.getSelection().includes(t[2]))},__createSelectBox:function(){var e=new qx.ui.form.SelectBox;this.__addListItems(e);return e},__createList:function(){var e=new qx.ui.form.List;this.__addListItems(e);return e},__addListItems:function(e){for(var t=0;t<3;t++){var i=new qx.ui.form.ListItem("I"+(t+1));i.setModel(t+1);e.add(i)}},__createRadioGroup:function(){var e=new qx.ui.form.RadioGroup;this.__addRadioButton(e);return e},__createRadioButtonGroup:function(){var e=new qx.ui.form.RadioButtonGroup;this.__addRadioButton(e);return e},__addRadioButton:function(e){for(var t=0;t<3;t++){var i=new qx.ui.form.RadioButton;i.setModel(t+1);e.add(i)}},__createTree:function(){var e=new qx.ui.tree.Tree,t=(new qx.ui.tree.TreeFolder).set({model:3}),i=(new qx.ui.tree.TreeFolder).set({model:2}),n=(new qx.ui.tree.TreeFolder).set({model:1});e.setRoot(n);n.add(i);i.add(t);i.setOpen(!0);return e},__getRidOf:function(e){for(var t=e.getChildren(),i=0;i<t.length;i++)t[i].dispose();e.dispose()},testSelectBoxGetSingle:function(){var e=this.__createSelectBox();this.__testGetSingle(e);this.__getRidOf(e)},testSelectBoxSetSingle:function(){var e=this.__createSelectBox();this.__testSetSingle(e);this.__getRidOf(e)},testListGetSingle:function(){var e=this.__createList();this.__testGetSingle(e);this.__getRidOf(e)},testListSetSingle:function(){var e=this.__createList();this.__testSetSingle(e);this.__getRidOf(e)},testListGetMulti:function(){var e=this.__createList();e.setSelectionMode("multi");this.__testGetMulti(e);this.__getRidOf(e)},testListSetMulti:function(){var e=this.__createList();e.setSelectionMode("multi");this.__testSetMulti(e);this.__getRidOf(e)},testRadioGroupGetSingle:function(){var e=this.__createRadioGroup();this.__testGetSingle(e);this.__getRidOf(e)},testRadioGroupSetSingle:function(){var e=this.__createRadioGroup();this.__testSetSingle(e);this.__getRidOf(e)},testRadioButtonGroupGetSingle:function(){var e=this.__createRadioButtonGroup();this.__testGetSingle(e);this.__getRidOf(e)},testRadioButtonGroupSetSingle:function(){var e=this.__createRadioButtonGroup();this.__testSetSingle(e);this.__getRidOf(e)},testTreeGetSingle:function(){var e=this.__createTree(),t=e.getItems(!0);this.__testGetSingle(e,t);e.destroy()},testTreeSetSingle:function(){var e=this.__createTree(),t=e.getItems(!0);this.__testSetSingle(e,t);e.destroy()},testTreeGetMulti:function(){var e=this.__createTree();e.setSelectionMode("multi");var t=e.getItems(!0);this.__testGetMulti(e,t);e.destroy()},testTreeSetMulti:function(){var e=this.__createTree();e.setSelectionMode("multi");var t=e.getItems(!0);this.__testSetMulti(e,t);e.destroy()}}});qx.test.ui.form.ModelSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.INumberForm":{},"qx.ui.form.Spinner":{},"qx.ui.form.Slider":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.NumberFormat",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.INumberForm),"Interface not implemented");this.assertEquals(0,e.getValue(),"Wrong init value set.");e.resetValue();e.setValue(10);this.assertEquals(10,e.getValue(),"Set or get does not work.");var t=this;this.assertEventFired(e,"changeValue",function(){e.setValue(11)},function(e){t.assertEquals(11,e.getData(),"Not the right number in the event.");t.assertEquals(10,e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");e.setValue(null);e.destroy()},testSpinner:function(){this.__test(new qx.ui.form.Spinner)},testSlider:function(){this.__test(new qx.ui.form.Slider)}}});qx.test.ui.form.NumberFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.ComboBox":{},"qx.ui.form.DateField":{},"qx.ui.form.AbstractField":{},"qx.bom.client.Css":{},"qx.ui.core.FocusHandler":{},"qx.ui.form.TextField":{},"qx.ui.form.TextArea":{},"qx.ui.form.PasswordField":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"css.placeholder":{className:"qx.bom.client.Css"},"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Placeholder",{extend:qx.test.ui.LayoutTestCase,members:{__testInit:function(e,t){var i=new e;i.setValue("affe");i.setPlaceholder("aaa");this.getRoot().add(i);this.flush();this.assertEquals("affe",this.__getVisibleValueOf(i),"placeholder visible");this.assertEquals("affe",i.getValue(),"Wrong value returned.");this.assertFalse(this.__isPlaceholderVisible(i));i.destroy();(i=new e).setPlaceholder("abc");this.getRoot().add(i);this.__syncAppearance(i);this.assertTrue(this.__isPlaceholderVisible(i));this.assertEquals("abc",this.__getPlaceholderValueOf(i),"placeholder not visible");this.assertNull(i.getValue(),"Wrong value returned.");i.destroy()},__testChangeValue:function(e){var t=new e;t.setPlaceholder("abc");this.getRoot().add(t);t.setValue("def");this.assertEquals("def",t.getValue(),"wrong value");this.assertEquals("def",this.__getVisibleValueOf(t),"wrong visible value");this.assertFalse(this.__isPlaceholderVisible(t));t.resetValue();this.__syncAppearance(t);this.assertNull(t.getValue(),"wrong value");this.assertTrue(this.__isPlaceholderVisible(t));this.assertEquals("abc",this.__getPlaceholderValueOf(t),"wrong visible value");t.destroy()},__testFocus:function(e){var t=new e;t.setPlaceholder("abc");this.getRoot().add(t);t.focus();this.flush();this.assertEquals("",this.__getVisibleValueOf(t),"wrong visible value after focus");this.assertFalse(this.__isPlaceholderVisible(t),"1");this.getRoot().focus();this.flush();window.setTimeout(function(){this.resume(function(){this.getRoot().focus();this.flush();this.assertTrue(this.__isPlaceholderVisible(t),"2");this.assertEquals("abc",this.__getPlaceholderValueOf(t),"wrong visible value after blur");t.destroy()},this)}.bind(this),500);this.wait()},__testRemovePlaceholder:function(e){var t=new e;t.setPlaceholder("abc");t.setPlaceholder(null);this.assertFalse(this.__isPlaceholderVisible(t));this.assertNull(t.getValue(),"wrong value");this.assertEquals("",this.__getVisibleValueOf(t),"wrong visible value after focus");t.destroy()},__testDisabled:function(e){var t=new e;this.getRoot().add(t);t.setPlaceholder("abc");t.setEnabled(!1);this.flush();this.assertNull(t.getValue(),"wrong value");this.assertFalse(this.__isPlaceholderVisible(t));this.assertEquals("",this.__getVisibleValueOf(t),"wrong visible value");t.setEnabled(!0);this.__syncAppearance(t);this.assertNull(t.getValue(),"wrong value");this.assertTrue(this.__isPlaceholderVisible(t));this.assertEquals("abc",this.__getPlaceholderValueOf(t),"wrong visible value");t.destroy()},__hasTextfieldChildControl:function(e){return qx.Class.isSubClassOf(e.constructor,qx.ui.form.ComboBox)||qx.Class.isSubClassOf(e.constructor,qx.ui.form.DateField)},__syncAppearance:function(e){qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField)?e.syncAppearance():this.__hasTextfieldChildControl(e)&&e.getChildControl("textfield").syncAppearance()},__getVisibleValueOf:function(e){return qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField)?e.getContentElement().getValue():this.__hasTextfieldChildControl(e)?e.getChildControl("textfield").getContentElement().getValue():void 0},__getPlaceholderValueOf:function(e){if(!qx.core.Environment.get("css.placeholder")){if(qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField))return e._getPlaceholderElement().getValue();if(this.__hasTextfieldChildControl(e))return e.getChildControl("textfield")._getPlaceholderElement().getValue()}else{if(qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField))return e.getContentElement().getAttribute("placeholder");if(this.__hasTextfieldChildControl(e))return e.getChildControl("textfield").getContentElement().getAttribute("placeholder")}},__isPlaceholderVisible:function(e){if(!qx.core.Environment.get("css.placeholder")){if(qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField))return"hidden"!=e._getPlaceholderElement().getStyle("visibility");if(this.__hasTextfieldChildControl(e))return"hidden"!=e.getChildControl("textfield")._getPlaceholderElement().getStyle("visibility")}else{var t;if(qx.Class.isSubClassOf(e.constructor,qx.ui.form.AbstractField)){t=e.getContentElement();return(null==e.getValue()||""==e.getValue())&&""!=t.getAttribute("placeholder")&&null!=t.getAttribute("placeholder")&&!qx.ui.core.FocusHandler.getInstance().isFocused(e)}if(this.__hasTextfieldChildControl(e)){t=e.getChildControl("textfield").getContentElement();return(null==e.getChildControl("textfield").getValue()||""==e.getChildControl("textfield").getValue())&&""!=t.getAttribute("placeholder")&&null!=t.getAttribute("placeholder")&&!qx.ui.core.FocusHandler.getInstance().isFocused(e)}}},testInitTextField:function(){this.__testInit(qx.ui.form.TextField)},testChangeValueTextField:function(){this.__testChangeValue(qx.ui.form.TextField)},testFocusTextField:function(){this.__testFocus(qx.ui.form.TextField)},testRemovePlaceholderTextField:function(){this.__testRemovePlaceholder(qx.ui.form.TextField)},testDisabledTextField:function(){this.__testDisabled(qx.ui.form.TextField)},testInitTextArea:function(){this.__testInit(qx.ui.form.TextArea)},testChangeValueTextArea:function(){this.__testChangeValue(qx.ui.form.TextArea)},testFocusTextArea:function(){this.__testFocus(qx.ui.form.TextArea)},testRemovePlaceholderTextArea:function(){this.__testRemovePlaceholder(qx.ui.form.TextArea)},testDisabledTextArea:function(){this.__testDisabled(qx.ui.form.TextArea)},testInitPasswordField:function(){this.__testInit(qx.ui.form.PasswordField)},testChangeValuePasswordField:function(){"mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("browser.documentmode")<9&&this.skip("Skipped in IE 8 until bug #8424 is fixed.");this.__testChangeValue(qx.ui.form.PasswordField)},testFocusPasswordField:function(){this.__testFocus(qx.ui.form.PasswordField)},testRemovePlaceholderPasswordField:function(){this.__testRemovePlaceholder(qx.ui.form.PasswordField)},testDisabledPasswordField:function(){this.__testDisabled(qx.ui.form.PasswordField)},testInitComboBox:function(){this.__testInit(qx.ui.form.ComboBox)},testChangeValueComboBox:function(){this.__testChangeValue(qx.ui.form.ComboBox)},testFocusComboBox:function(){this.__testFocus(qx.ui.form.ComboBox)},testRemovePlaceholderComboBox:function(){this.__testRemovePlaceholder(qx.ui.form.ComboBox)},testDisabledComboBox:function(){this.__testDisabled(qx.ui.form.ComboBox)},testFocusDateField:function(){this.__testFocus(qx.ui.form.DateField)},testRemovePlaceholderDateField:function(){this.__testRemovePlaceholder(qx.ui.form.DateField)},testDisabledDateField:function(){this.__testDisabled(qx.ui.form.DateField)}}});qx.test.ui.form.Placeholder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.RadioButtonGroup":{},"qx.ui.form.RadioButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.RadioButtonGroup",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__radioButtonGroup=new qx.ui.form.RadioButtonGroup;this.__radioButtons=[];for(var e,t=0;t<10;t++){(e=new qx.ui.form.RadioButton("option "+t)).setModel("option"+t);this.__radioButtons.push(e);this.__radioButtonGroup.add(e)}},tearDown:function(){qx.test.ui.form.RadioButtonGroup.prototype.tearDown.base.call(this);this.__radioButtonGroup.removeAll();this.__radioButtons=null},testRemoveAll:function(){this.__radioButtonGroup.removeAll();var e=this.__radioButtonGroup.getRadioGroup().getItems().length;this.assertEquals(0,e,"There are still some radio buttons left.")}}});qx.test.ui.form.RadioButtonGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.RadioGroup":{},"qx.ui.form.RadioButton":{},"qx.ui.container.Composite":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.RadioGroup",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__radioGroup=new qx.ui.form.RadioGroup;this.__radioGroup.setAllowEmptySelection(!0);this.__radioButtons=[];for(var e,t=0;t<3;t++){(e=new qx.ui.form.RadioButton("option "+t)).setModel("option"+t);this.__radioButtons.push(e);this.__radioGroup.add(e)}},tearDown:function(){qx.test.ui.form.RadioGroup.prototype.tearDown.base.call(this);for(var e=0,t=this.__radioButtons.length;e<t;e++){this.__radioGroup.remove(this.__radioButtons[e]);this.__radioButtons.shift().dispose()}this.__radioGroup.dispose();this.__radioButtons=null},testHiddenRadioButtons:function(){for(var e=new qx.ui.container.Composite,t=0,i=this.__radioButtons.length;t<i;t++)e.add(this.__radioButtons[t]);this.getRoot().add(e,{left:100,top:50});this.__radioGroup.setModelSelection([this.__radioButtons[1].getModel()]);this.assertEquals(this.__radioButtons[1].getModel(),this.__radioGroup.getModelSelection().getItem(0),"Model selection does not work correctly!");this.assertTrue(this.__radioGroup.isSelected(this.__radioButtons[1]),"Wrong radio button selected!");for(t=0,i=this.__radioButtons.length;t<i;t++)this.__radioButtons[t].exclude();this.__radioGroup.setModelSelection([this.__radioButtons[0].getModel()]);this.assertEquals(this.__radioButtons[0].getModel(),this.__radioGroup.getModelSelection().getItem(0),"Model selection does not work correctly!");this.assertTrue(this.__radioGroup.isSelected(this.__radioButtons[0]),"Hidden radio button not selected!");e.destroy()},testAlteredGroupProperty:function(){qx.Class.define("qx.test.ui.form.RadioGroupTest",{extend:qx.core.Object,properties:{locked:{init:!1,check:"Boolean",event:"changeLocked",nullable:!1},lockedGroup:{init:null,check:"qx.ui.form.RadioGroup",nullable:!0}}});var e,t,i,n;(e=new qx.ui.form.RadioGroup).set({groupedProperty:"locked",groupProperty:"lockedGroup"});t=new qx.test.ui.form.RadioGroupTest;i=new qx.test.ui.form.RadioGroupTest;n=new qx.test.ui.form.RadioGroupTest;e.add(t,i,n);this.assertTrue(t.getLocked());this.assertFalse(i.getLocked());this.assertFalse(n.getLocked());e.setSelection([i]);this.assertTrue(i.getLocked());this.assertFalse(t.getLocked());this.assertFalse(n.getLocked());this.assertEquals(e.getSelection()[0],i);t.dispose();i.dispose();n.dispose();qx.Class.undefine("qx.test.ui.form.RadioGroupTest")}}});qx.test.ui.form.RadioGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.Spinner":{},"qx.ui.form.Slider":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Range",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){e.setMinimum(10);this.assertEquals(10,e.getMinimum(),"Set or get does not work. (min)");var t=this;this.assertEventFired(e,"changeMinimum",function(){e.setMinimum(11)},function(e){t.assertEquals(11,e.getData(),"Not the right number in the event.");t.assertEquals(10,e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");e.setMaximum(20);this.assertEquals(20,e.getMaximum(),"Set or get does not work. (max)");t=this;this.assertEventFired(e,"changeMaximum",function(){e.setMaximum(21)},function(e){t.assertEquals(21,e.getData(),"Not the right number in the event.");t.assertEquals(20,e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");e.setSingleStep(2);this.assertEquals(2,e.getSingleStep(),"Set or get does not work. (singleStep)");e.setPageStep(11);this.assertEquals(11,e.getPageStep(),"Set or get does not work. (pageStep)");e.destroy()},testSpinner:function(){this.__test(new qx.ui.form.Spinner)},testSlider:function(){this.__test(new qx.ui.form.Slider)}}});qx.test.ui.form.Range.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.Form":{},"qx.ui.form.Button":{},"qx.ui.form.renderer.Single":{},"qx.ui.form.renderer.Double":{},"qx.ui.form.TextField":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Renderer",{extend:qx.test.ui.LayoutTestCase,members:{__form:null,__b:null,setUp:function(){this.__form=new qx.ui.form.Form;this.__b=new qx.ui.form.Button("a");this.__form.addButton(this.__b)},tearDown:function(){this.__form.dispose();this.__b.dispose()},testDisposeSingle:function(){var e=new qx.ui.form.renderer.Single(this.__form);e.dispose();this.assertNull(e._buttonRow);this.assertNotNull(this.__b);this.assertFalse(this.__b.isDisposed())},testDisposeDouble:function(){var e=new qx.ui.form.renderer.Double(this.__form);e.dispose();this.assertNull(e._buttonRow);this.assertNotNull(this.__b);this.assertFalse(this.__b.isDisposed())},__testExclude:function(e){var t=new qx.ui.form.TextField;this.__form.add(t,"test");var i=new e(this.__form),n=i._getChildren()[0];t.setVisibility("excluded");this.assertEquals(t.getVisibility(),n.getVisibility());i.dispose();t.dispose()},testExcludeSingle:function(){this.__testExclude(qx.ui.form.renderer.Single)},testExcludeDouble:function(){this.__testExclude(qx.ui.form.renderer.Double)},__testBindings:function(e){var t=new qx.ui.form.TextField;this.__form.add(t,"test");var i=new e(this.__form),n=i._getChildren()[0];this.assertEquals(2,t.getBindings().length,"Text field should have one binding!");this.assertEquals(2,n.getBindings().length,"Label should have one binding!");this.assertTrue(qx.lang.Array.equals(t.getBindings(),n.getBindings()),"Text field and label bindings must be equal");i.dispose();this.assertTrue(t.isDisposed(),"Disposing renderer should have disposed text field as well.");this.assertTrue(n.isDisposed(),"Disposing renderer should have disposed label as well.");this.assertTrue(i.isDisposed(),"Renderer must be disposed.");this.assertEquals(0,t.getBindings().length,"Still bindings there!");this.assertEquals(0,n.getBindings().length,"Still bindings there!")},testBindingsSingle:function(){this.__testBindings(qx.ui.form.renderer.Single)},testBindingsDouble:function(){this.__testBindings(qx.ui.form.renderer.Double)}}});qx.test.ui.form.Renderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.ui.form.TextField":{},"qx.ui.form.Resetter":{},"qx.ui.form.SelectBox":{},"qx.ui.form.ListItem":{},"qx.ui.form.Slider":{},"qx.ui.form.TextArea":{},"qx.ui.form.RadioButton":{},"qx.ui.form.List":{},"qx.data.Array":{},"qx.ui.form.VirtualSelectBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Resetter",{extend:qx.test.ui.LayoutTestCase,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this)},members:{__username:null,__password1:null,__password2:null,__resetter:null,setUp:function(){this.__username=new qx.ui.form.TextField;this.__password1=new qx.ui.form.TextField;this.__password2=new qx.ui.form.TextField;this.__resetter=new qx.ui.form.Resetter},tearDown:function(){this.__resetter.dispose();this.__username.dispose();this.__password1.dispose();this.__password2.dispose()},testReset:function(){this.__username.setValue("A");this.__password1.setValue("B");this.__password2.setValue("C");this.__resetter.add(this.__username);this.__resetter.add(this.__password1);this.__resetter.add(this.__password2);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__resetter.reset();this.assertEquals("A",this.__username.getValue());this.assertEquals("B",this.__password1.getValue());this.assertEquals("C",this.__password2.getValue())},testRemove:function(){this.__username.setValue("A");this.__password1.setValue("B");this.__resetter.add(this.__username);this.__resetter.add(this.__password1);this.__username.setValue("a");this.__password1.setValue("b");this.assertTrue(this.__resetter.remove(this.__password1));this.assertFalse(this.__resetter.remove(this.__password1));this.__resetter.reset();this.assertEquals("A",this.__username.getValue());this.assertEquals("b",this.__password1.getValue())},testResetWithSelectBox:function(){var e=new qx.ui.form.SelectBox,t=new qx.ui.form.ListItem("1"),i=new qx.ui.form.ListItem("2");e.add(t);e.add(i);e.setSelection([i]);this.assertEquals(i,e.getSelection()[0],"1");this.__resetter.add(e);e.setSelection([t]);this.assertEquals(t,e.getSelection()[0],"");this.__resetter.reset();this.assertEquals(i,e.getSelection()[0],"3");i.dispose();t.dispose();e.dispose()},testDifferentWidgets:function(){var e=new qx.ui.form.Slider,t=new qx.ui.form.TextArea,i=new qx.ui.form.RadioButton,n=new qx.ui.form.List,s=new qx.ui.form.ListItem("1");n.add(s);var r=new qx.ui.form.ListItem("2");n.add(r);var o=new qx.data.Array("a","b","c"),a=new qx.ui.form.VirtualSelectBox(o);e.setValue(22);t.setValue("aaa");i.setValue(!1);n.setSelection([r]);a.getSelection().setItem(0,"b");this.__resetter.add(e);this.__resetter.add(t);this.__resetter.add(i);this.__resetter.add(n);this.__resetter.add(a);e.setValue(55);t.setValue("bbb");i.setValue(!0);n.setSelection([s]);a.getSelection().setItem(0,"c");this.__resetter.reset();this.assertEquals(22,e.getValue());this.assertEquals("aaa",t.getValue());this.assertEquals(!1,i.getValue());this.assertEquals(r,n.getSelection()[0]);this.assertEquals("b",a.getSelection().getItem(0));n.dispose();i.dispose();t.dispose();e.dispose();a.destroy();o.dispose()},testRedefine:function(){this.__username.setValue("A");this.__password1.setValue("B");this.__password2.setValue("C");this.__resetter.add(this.__username);this.__resetter.add(this.__password1);this.__resetter.add(this.__password2);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__resetter.redefine();this.__username.setValue("aa");this.__password1.setValue("bb");this.__password2.setValue("cc");this.__resetter.reset();this.assertEquals("a",this.__username.getValue());this.assertEquals("b",this.__password1.getValue());this.assertEquals("c",this.__password2.getValue())},testRefineSelection:function(){var e=new qx.ui.form.SelectBox,t=new qx.ui.form.ListItem("1"),i=new qx.ui.form.ListItem("2");e.add(t);e.add(i);e.setSelection([i]);this.__resetter.add(e);e.setSelection([t]);this.assertEquals(t,e.getSelection()[0]);this.__resetter.redefine();e.setSelection([i]);this.__resetter.reset();this.assertEquals(t,e.getSelection()[0]);i.dispose();t.dispose();e.dispose()},testResetOneItem:function(){this.__username.setValue("A");this.__password1.setValue("B");this.__password2.setValue("C");this.__resetter.add(this.__username);this.__resetter.add(this.__password1);this.__resetter.add(this.__password2);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__resetter.resetItem(this.__username);this.__resetter.resetItem(this.__password1);this.assertEquals("A",this.__username.getValue());this.assertEquals("B",this.__password1.getValue());this.assertEquals("c",this.__password2.getValue());var e=this;this.assertException(function(){e.__resetter.resetItem(this)},Error)},testRedefineOneItem:function(){this.__username.setValue("A");this.__password1.setValue("B");this.__password2.setValue("C");this.__resetter.add(this.__username);this.__resetter.add(this.__password1);this.__resetter.add(this.__password2);this.__username.setValue("a");this.__password1.setValue("b");this.__password2.setValue("c");this.__resetter.redefineItem(this.__username);this.__resetter.redefineItem(this.__password1);this.__username.setValue("1");this.__password1.setValue("2");this.__resetter.reset();this.assertEquals("a",this.__username.getValue());this.assertEquals("b",this.__password1.getValue());this.assertEquals("C",this.__password2.getValue());var e=this;this.assertException(function(){e.__resetter.redefineItem(this)},Error)}}});qx.test.ui.form.Resetter.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.Slider":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Slider",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__slider=new qx.ui.form.Slider;this.__slider.setWidth(100);this.getRoot().add(this.__slider);this.flush()},tearDown:function(){this.__slider.destroy()},testKnobPositionAfterBlur:function(){this.__slider.setValue(0);this.flush();var e=this.__slider.getChildControl("knob").getContentElement().getStyle("left");this.__slider.setValue(30);this.flush();var t=this.__slider.getChildControl("knob").getContentElement().getStyle("left");this.__slider.focus();this.flush();var i=this.__slider.getChildControl("knob").getContentElement().getStyle("left");this.assertNotEquals(e,i);this.assertEquals(t,i)},testInitOrientation:function(){var e=new qx.ui.form.Slider;this.assertIdentical(e.getOrientation(),"horizontal");var t=new qx.ui.form.Slider("horizontal");this.assertIdentical(t.getOrientation(),"horizontal");var i=new qx.ui.form.Slider("vertical");this.assertIdentical(i.getOrientation(),"vertical")},testSlideMethods:function(){var e=this.__slider.getMinimum(),t=this.__slider.getMaximum();this.__slider.slideToBegin();this.assertIdentical(this.__slider.getValue(),e);this.__slider.slideToEnd();this.assertIdentical(this.__slider.getValue(),t);var i=this.__slider.getSingleStep(),n=this.__slider.getValue();this.__slider.slideForward();this.assertIdentical(this.__slider.getValue(),Math.min(n+i,t));n=this.__slider.getValue();this.__slider.slideBack();this.assertIdentical(this.__slider.getValue(),Math.max(n-i,e));var s=this.__slider.getPageStep();n=this.__slider.getValue();this.__slider.slidePageForward();this.assertIdentical(this.__slider.getValue(),Math.min(n+s,t));n=this.__slider.getValue();this.__slider.slidePageBack();this.assertIdentical(this.__slider.getValue(),Math.max(n-s,e))}}});qx.test.ui.form.Slider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.form.Spinner":{},"qx.util.format.NumberFormat":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.Spinner",{extend:qx.dev.unit.TestCase,members:{testCorrectLocaleUsed:function(){var e=new qx.ui.form.Spinner,t=new qx.util.format.NumberFormat("de");e.setNumberFormat(t);e.setValue(1.23);this.assertEquals("1,23",e.getChildControl("textfield").getValue());e.destroy();t.dispose()},testPostfixIsAlwaysSet:function(){var e=new qx.ui.form.Spinner;e.set({maximum:120,minimum:1});var t=new qx.util.format.NumberFormat;t.setPostfix("min");e.setNumberFormat(t);var i=e.getChildControl("textfield");i.setValue("113");this.assertEquals("113min",i.getValue());i.setValue("121");this.assertEquals("120min",i.getValue());i.setValue("122");this.assertEquals("120min",i.getValue());i.setValue("-67");this.assertEquals("1min",i.getValue());i.setValue("-99");this.assertEquals("1min",i.getValue());i.setValue("50");this.assertEquals("50min",i.getValue());i.setValue("50");this.assertEquals("50min",i.getValue());e.destroy();t.dispose()}}});qx.test.ui.form.Spinner.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.format.IFormat":{require:!0},"qx.core.IDisposable":{require:!0},"qx.lang.Type":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.locale.Number":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.format.NumberFormat",{extend:qx.core.Object,implement:[qx.util.format.IFormat,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);if(arguments.length>0){if(1!==arguments.length)throw new Error("Wrong number of arguments.");if(!qx.lang.Type.isString(e))throw new Error("Wrong argument type. String is expected.");this.setLocale(e)}if(!e){this.setLocale(qx.locale.Manager.getInstance().getLocale());qx.locale.Manager.getInstance().bind("locale",this,"locale")}},properties:{minimumIntegerDigits:{check:"Number",init:0},maximumIntegerDigits:{check:"Number",nullable:!0},minimumFractionDigits:{check:"Number",init:0},maximumFractionDigits:{check:"Number",nullable:!0},groupingUsed:{check:"Boolean",init:!0},prefix:{check:"String",init:"",event:"changeNumberFormat"},postfix:{check:"String",init:"",event:"changeNumberFormat"},locale:{check:"String",init:null,event:"changeLocale"}},members:{format:function(e){if(isNaN(e))return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity"}var t=e<0;t&&(e=-e);if(null!=this.getMaximumFractionDigits()){var i=Math.pow(10,this.getMaximumFractionDigits());e=Math.round(e*i)/i}for(var n=String(Math.floor(e)).length,s=""+e,r=s.substring(0,n);r.length<this.getMinimumIntegerDigits();)r="0"+r;null!=this.getMaximumIntegerDigits()&&r.length>this.getMaximumIntegerDigits()&&(r=r.substring(r.length-this.getMaximumIntegerDigits()));for(var o=s.substring(n+1);o.length<this.getMinimumFractionDigits();)o+="0";null!=this.getMaximumFractionDigits()&&o.length>this.getMaximumFractionDigits()&&(o=o.substring(0,this.getMaximumFractionDigits()));if(this.getGroupingUsed()){var a,l=r;r="";for(a=l.length;a>3;a-=3)r=""+qx.locale.Number.getGroupSeparator(this.getLocale())+l.substring(a-3,a)+r;r=l.substring(0,a)+r}var u=this.getPrefix()?this.getPrefix():"",c=this.getPostfix()?this.getPostfix():"",d=u+(t?"-":"")+r;o.length>0&&(d+=""+qx.locale.Number.getDecimalSeparator(this.getLocale())+o);return d+=c},parse:function(e){var t=qx.lang.String.escapeRegexpChars(qx.locale.Number.getGroupSeparator(this.getLocale())+""),i=qx.lang.String.escapeRegexpChars(qx.locale.Number.getDecimalSeparator(this.getLocale())+""),n=new RegExp("^("+qx.lang.String.escapeRegexpChars(this.getPrefix())+")?([-+]){0,1}([0-9]{1,3}(?:"+t+"{0,1}[0-9]{3}){0,}){0,1}("+i+"\\d+){0,1}("+qx.lang.String.escapeRegexpChars(this.getPostfix())+")?$").exec(e);if(null==n)throw new Error("Number string '"+e+"' does not match the number format");var s="-"==n[2],r=n[3]||"0",o=n[4];r=r.replace(new RegExp(t,"g"),"");var a=(s?"-":"")+r;null!=o&&0!=o.length&&(a+="."+(o=o.replace(new RegExp(i),"")));return parseFloat(a)}},destruct:function(){qx.locale.Manager.getInstance().removeRelatedBindings(this)}});qx.util.format.NumberFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.SplitButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.SplitButton",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this._split=new qx.ui.form.SplitButton;this.getRoot().add(this._split)},tearDown:function(){this._split.destroy();this.flush()},testArrowAvailable:function(){this._split.setIcon("qx/icon/Oxygen/22/emotes/face-smile.png");var e=this._split.getChildControl("arrow").getChildControl("icon"),t=this._split.getChildControl("button").getChildControl("icon");this.flush();this.assertTrue(e.isVisible(),"init arrow");this.assertTrue(t.isVisible(),"init icon");this._split.setShow("label");this.flush();this.assertTrue(e.isVisible(),"changed arrow");this.assertFalse(t.isVisible(),"changed icon")}}});qx.test.ui.form.SplitButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.IStringForm":{},"qx.ui.form.TextField":{},"qx.ui.form.PasswordField":{},"qx.ui.form.TextArea":{},"qx.ui.form.ComboBox":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.StringFormat",{extend:qx.test.ui.LayoutTestCase,members:{__test:function(e){this.assertTrue(qx.Class.hasInterface(e.constructor,qx.ui.form.IStringForm),"Interface is not implemented.");this.assertNull(e.getValue(),"Wrong init value set.");e.resetValue();e.setValue("affe");this.assertEquals("affe",e.getValue(),"Set or get does not work.");var t=this;this.assertEventFired(e,"changeValue",function(){e.setValue("affen")},function(e){t.assertEquals("affen",e.getData(),"Not the right number in the event.");t.assertEquals("affe",e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");this.assertEventFired(e,"changeValue",function(){e.setValue(null)},function(e){t.assertEquals(null,e.getData(),"Not the right number in the event.");t.assertEquals("affen",e.getOldData(),"Wrong old data in the event.")},"Event is wrong!");e.destroy()},testTextField:function(){this.__test(new qx.ui.form.TextField)},testPasswordField:function(){this.__test(new qx.ui.form.PasswordField)},testTextArea:function(){this.__test(new qx.ui.form.TextArea)},testComboBox:function(){this.__test(new qx.ui.form.ComboBox)},testLabel:function(){this.__test(new qx.ui.basic.Label)}}});qx.test.ui.form.StringFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.ui.form.TextArea":{},"qx.bom.client.Engine":{},"qx.bom.client.Browser":{},"qx.type.Array":{},"qx.dev.unit.RequirementError":{},"qx.ui.core.queue.Dispose":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"browser.documentmode":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.TextArea",{extend:qx.test.ui.LayoutTestCase,include:qx.dev.unit.MRequirements,members:{__textArea:null,setUp:function(){var e=this.__textArea=new qx.ui.form.TextArea;this.getRoot().add(e)},hasNoBuggyIe:function(){return"mshtml"!=qx.core.Environment.get("engine.name")||qx.core.Environment.get("browser.documentmode")>10},"test: textarea set value":function(){var e=this.__textArea;e.setValue("Affe");this.flush();this.assertEquals("Affe",e.getValue())},"test: textarea set minimal line-height":function(){var e=this.__textArea;this.flush();var t=e.getSizeHint().height;e.setMinimalLineHeight(1);this.flush();var i=e.getSizeHint().height,n="Widget height must decrease (was: "+t+" is: "+i+")";this.assert(i<t,n)},"test: textarea with autoSize grows when input would trigger scrollbar":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.setAutoSize(!0);this.flush();e.setValue("Affe\nMaus\nElefant");this.flush();var t=e.getSizeHint().height;e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();var i=e.getSizeHint().height,n="Widget height must increase (was: "+t+" is: "+i+")";this.assert(i>t,n)},"test: textarea with autoSize shrinks when removal would hide scrollbar":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.setAutoSize(!0);this.flush();e.setValue("Affe\nMaus\nElefant");this.flush();e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();var t=e.getSizeHint().height;e.setValue("Affe\nMaus\nElefant");this.flush();var i=e.getSizeHint().height,n="Widget height must decrease (was: "+t+" is: "+i+")";this.assert(i<t,n)},"test: textarea with autoSize does not shrink below original height":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.setAutoSize(!0);this.flush();var t=e.getBounds().height;e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();e.setValue("Affe\nMaus\nElefant");var i=e.getSizeHint().height;this.flush();var n="Widget height must not shrink below original height (is: "+i+" original: "+t+")";this.assert(!(i<t),n)},"test: textarea with autoSize shows scroll-bar when above maxHeight":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.set({autoSize:!0,maxHeight:50,value:"Affe\nMaus\nElefant"});this.flush();e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();var t=e.getContentElement().getStyle("overflowY");this.assertEquals("auto",t)},"test: textarea with autoSize shows scroll-bar when finally above maxHeight":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.set({autoSize:!0,value:"Affe\nMaus\nElefant"});this.flush();e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();e.setMaxHeight(50);this.flush();var t=e.getContentElement().getStyle("overflowY");this.assertEquals("auto",t)},"test: textarea with autoSize hides scroll-bar when finally below maxHeight":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.set({autoSize:!0,maxHeight:50});this.flush();e.setValue("Affe\nMaus\nElefant\nGiraffe\nTiger");this.flush();e.setValue("Affe");this.flush();var t=e.getContentElement().getStyle("overflowY");this.assertEquals("hidden",t)},"test: textarea with autoSize respects initial value":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.set({autoSize:!0,value:this.__getLongValue()});var t=new qx.ui.form.TextArea;t.set({autoSize:!0,value:""});this.getRoot().add(t,{left:100});this.flush();var i=e.getBounds().height,n=t.getBounds().height;this.assert(i>n,"Must be higher with long value than without value");t.destroy()},"test: textarea with autoSize respects initial wrap":function(){this.require(["noBuggyIe"]);var e=this.__textArea;e.set({autoSize:!0,wrap:!1,minimalLineHeight:2,value:this.__getLongValue()});this.flush();var t=e.getBounds().height;e.setWrap(!0);this.flush();e.setWrap(!1);this.flush();var i=e.getBounds().height;this.assertEquals(t,i)},"test: textarea with autoSize shrinks when long line is unwrapped":function(){this.require(["noBuggyIe"]);this.__supportsLiveWrap()||this.skip();var e=this.__textArea;e.setAutoSize(!0);this.flush();var t=this.__getLongValue();e.setValue(t);this.flush();var i=e.getSizeHint().height;e.setWrap(!1);this.flush();var n=e.getSizeHint().height,s="Must shrink when long line is unwrapped";this.assertNotEquals(i,n,s);this.assert(n<i,s)},"test: textarea with autoSize grows when long line is wrapped":function(){this.require(["noBuggyIe"]);this.__supportsLiveWrap()||this.skip();var e=this.__textArea;e.set({autoSize:!0,wrap:!0});this.flush();var t=this.__getLongValue();e.setValue(t);this.flush();var i=e.getSizeHint().height;e.setWrap(!1);this.flush();var n=e.getSizeHint().height;e.setWrap(!0);this.flush();var s=e.getSizeHint().height,r="Must grow when long line is unwrapped";this.assertNotEquals(s,n,r);this.assert(s>n,r);r="Must be same height when wrap is toggled";this.assertEquals(i,s,r)},__getLongValue:function(){for(var e=new qx.type.Array(50),t=0;t<e.length;t++)e[t]="AAAAA ";return e.join("")},__supportsLiveWrap:function(){return"opera"!=qx.core.Environment.get("engine.name")},skip:function(e){throw new qx.dev.unit.RequirementError(null,e)},tearDown:function(){qx.test.ui.form.TextArea.prototype.tearDown.base.call(this);this.__textArea.destroy();qx.ui.core.queue.Dispose.flush()}}});qx.test.ui.form.TextArea.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.TextField",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__field=new qx.ui.form.TextField;this.getRoot().add(this.__field)},tearDown:function(){this.__field.destroy();this.__field=null;qx.test.ui.form.TextField.prototype.tearDown.base.call(this)},"test: get default length":function(){var e=this.__field.getMaxLength();this.assertEquals(1/0,e)},"test: set max length":function(){this.__field.setMaxLength(4);var e=this.__field.getMaxLength();this.assertEquals(4,e)},"test: reset max length":function(){this.__field.setMaxLength(4);var e=this.__field.getMaxLength();this.assertEquals(4,e);this.__field.resetMaxLength();e=this.__field.getMaxLength();this.assertEquals(1/0,e)},"test: validate input with filter":function(){this.__field.setFilter(/[0-9]/);var e=this.__field._validateInput("a");this.assertEquals("",e);e=this.__field._validateInput("111");this.assertEquals("111",e)},"test: validate input with complex filter":function(){this.__field.setFilter(/^(\+|-)?\d*$/);var e=this.__field._validateInput("a");this.assertEquals("",e);e=this.__field._validateInput("1");this.assertEquals("1",e);e=this.__field._validateInput("-");this.assertEquals("-",e);e=this.__field._validateInput("111");this.assertEquals("111",e);e=this.__field._validateInput("-111");this.assertEquals("-111",e);e=this.__field._validateInput("-11-1");this.assertEquals("",e)},"test: validate input with complex filter 2":function(){this.__field.setFilter(/^xy$/);var e=this.__field._validateInput("x? y?");this.assertEquals("",e)},__field:null}});qx.test.ui.form.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.ToggleButton":{},"qx.event.type.Event":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.ToggleButton",{extend:qx.test.ui.LayoutTestCase,members:{__button:null,setUp:function(){var e=this.__button=new qx.ui.form.ToggleButton;this.getRoot().add(e);this.flush()},testInitial:function(){var e=this.__button;this.assertNotState(e,"checked")},testCheck:function(){var e=this.__button;e.setValue(!0);this.assertState(e,"checked")},testUncheck:function(){var e=this.__button;e.setValue(!1);this.assertNotState(e,"checked")},testImplicitCheckTri:function(){var e=this.__button;e.setTriState(!0);e.setValue(null);this.assertNotState(e,"checked");this.assertState(e,"undetermined")},testImplicitCheckTriLater:function(){var e=this.__button;e.setValue(null);e.setTriState(!0);this.assertNotState(e,"checked");this.assertState(e,"undetermined")},testCheckTri:function(){var e=this.__button;e.setTriState(!0);e.setValue(null);e.setValue(!0);this.assertState(e,"checked");this.assertNotState(e,"undetermined")},testUncheckTri:function(){var e=this.__button;e.setTriState(!0);e.setValue(null);e.setValue(!1);this.assertNotState(e,"checked");this.assertNotState(e,"undetermined")},assertState:function(e,t){this.assertTrue(e.hasState(t),"State "+t+" not set")},assertNotState:function(e,t){this.assertFalse(e.hasState(t),"State "+t+" is set")},executeOn:function(e){var t=this;window.setTimeout(function(){t.immediateExecuteOn(e)})},immediateExecuteOn:function(e){e.fireEvent("execute",qx.event.type.Event,[!1,!0])},tearDown:function(){qx.test.ui.form.ToggleButton.prototype.tearDown.base.call(this);this.__button.destroy()}}});qx.test.ui.form.ToggleButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.VirtualSelectBox":{},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.VirtualSelectBox",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.__selectBox=new qx.ui.form.VirtualSelectBox;this.getRoot().add(this.__selectBox);this.flush()},tearDown:function(){qx.test.ui.form.VirtualSelectBox.prototype.tearDown.base.call(this);this.__selectBox.destroy();this.__selectBox=null},__simulateUiInteraction:function(){this.__selectBox.getSelection().setItem(0,this.__selectBox.getModel().getItem(1))},testChangeValueEvent:function(){var e=qx.data.marshal.Json.createModel(["a","b"]);this.__selectBox.addListenerOnce("changeValue",function(e){this.assertIdentical("a",e.getData());this.assertNull(e.getOldData())}.bind(this));this.__selectBox.setModel(e);this.__selectBox.addListenerOnce("changeValue",function(e){this.assertIdentical("b",e.getData());this.assertIdentical("a",e.getOldData())}.bind(this));this.__simulateUiInteraction()},testChangeModelWhileNotVisible:function(){"use strict";var e=new qx.ui.form.VirtualSelectBox;e.setLabelPath("b");var t=qx.data.marshal.Json.createModel([{a:123,b:"item 1"},{a:456,b:"item 2"}]);t.setAutoDisposeItems(!0);e.setModel(t);try{t.pop()}catch(e){this.assertTrue(!1,"Changing the model should not cause an exception in VirtualDropDownList#_getAvailableHeight")}t.dispose()},"test dropdown list same width as selectbox":function(){"use strict";var e=this,t=qx.data.marshal.Json.createModel(["asdddddddddddddddddddddddddddddddddddddddddddddddddddd","dsaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]);this.__selectBox.setAllowGrowDropDown(!1);this.__selectBox.setModel(t);this.__selectBox.setWidth(150);this.__selectBox.open();this.flush();setTimeout(function(){e.assertIdentical(e.__selectBox.getWidth(),e.__selectBox.getBounds().width);e.assertIdentical(e.__selectBox.getWidth(),e.__selectBox.getChildControl("dropdown").getBounds().width);e.resume()},10);this.wait()},"test dropdown list wider than selectbox":function(){"use strict";var e=this,t=qx.data.marshal.Json.createModel(["asddddddddddddddddddddddddddddddddddddddddddddddddddddasddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd","dsaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"]);this.__selectBox.setAllowGrowDropDown(!0);this.__selectBox.setModel(t);this.__selectBox.setWidth(150);this.__selectBox.open();this.flush();setTimeout(function(){e.assertIdentical(e.__selectBox.getWidth(),e.__selectBox.getBounds().width);e.assertTrue(e.__selectBox.getChildControl("dropdown").getBounds().width>666,"dropdown could not fit the whole item");e.resume()},10);this.wait()}}});qx.test.ui.form.VirtualSelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.VirtualComboBox":{},"qx.data.Array":{},"qx.data.marshal.Json":{},"qx.lang.String":{},"qx.bom.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.virtual.VirtualComboBox",{extend:qx.test.ui.LayoutTestCase,members:{__comboBox:null,__model:null,setUp:function(){qx.test.ui.form.virtual.VirtualComboBox.prototype.setUp.base.call(this);this.__comboBox=new qx.ui.form.VirtualComboBox;this.getRoot().add(this.__comboBox);this.flush()},tearDown:function(){qx.test.ui.form.virtual.VirtualComboBox.prototype.tearDown.base.call(this);this.__comboBox.destroy();this.__comboBox=null;this.__model.dispose();this.flush()},__createSimpleModel:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+(t+1));return e},__createRichModel:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("<b>item "+(t+1)+"</b>");return e},__createNestedModel:function(){return qx.data.marshal.Json.createModel([{firstname:"James",lastname:"Kirk"},{firstname:"Jean-Luc",lastname:"Picard"},{firstname:"Benjamin",lastname:"Sisko"}])},testPreselectOnOpen:function(){this.__model=this.__createSimpleModel();this.__comboBox.setModel(this.__model);this.__comboBox.setValue("i");this.flush();this.__comboBox.open();this.flush();this.__comboBox.close();this.flush();this.assertNotEquals("item 1",this.__comboBox.getValue());this.assertEquals("i",this.__comboBox.getValue())},testSelectFirstMatch:function(){this.__model=this.__createSimpleModel();this.__comboBox.setModel(this.__model);this.__comboBox.setValue("item 4");this.flush();this.__comboBox.open();this.flush();var e=this.__comboBox.getChildControl("dropdown")._preselected;this.assertEquals("item 4",e);this.assertEquals("item 4",this.__comboBox.getValue())},testSelectFirstMatchWithSortedModel:function(){this.__model=this.__createSimpleModel();this.__comboBox.setModel(this.__model);this.__comboBox.setDelegate({sorter:function(e,t){return e<t?1:e>t?-1:0}});this.__comboBox.setValue("item 4");this.flush();this.__comboBox.open();this.flush();var e=this.__comboBox.getChildControl("dropdown")._preselected;this.assertEquals("item 49",e);this.assertEquals("item 4",this.__comboBox.getValue());var t=this;window.setTimeout(function(){t.resume()},100);this.wait(200)},testSelectFirstMatchWithFilteredModel:function(){this.__model=this.__createSimpleModel();this.__comboBox.setModel(this.__model);var e={filter:function(e){return!!(parseInt(/([0-9]+)/.exec(e)[1],10)%2)}};this.__comboBox.setDelegate(e);this.__comboBox.setValue("item 22");this.flush();this.__comboBox.open();this.flush();var t=this.__comboBox.getChildControl("dropdown")._preselected;this.assertNull(t);this.assertEquals("item 22",this.__comboBox.getValue())},testSelectFirstMatchWithFormatter:function(){this.__model=this.__createRichModel();this.__comboBox.setModel(this.__model);this.__comboBox.setDelegate({configureItem:function(e){e.setRich(!0)}});this.__comboBox.setDefaultFormat(function(e){if(e){e=qx.lang.String.stripTags(e);e=qx.bom.String.unescape(e)}return e});this.__comboBox.setValue("item 4");this.flush();this.__comboBox.open();this.flush();var e=this.__comboBox.getChildControl("dropdown")._preselected;this.assertEquals("<b>item 4</b>",e);this.assertEquals("item 4",this.__comboBox.getValue())},testSelectFirstMatchByLabelPath:function(){this.__model=this.__createNestedModel();this.__comboBox.setLabelPath("lastname");this.__comboBox.setModel(this.__model);this.__comboBox.setValue("Si");this.flush();this.__comboBox.open();this.flush();var e=this.__comboBox.getChildControl("dropdown")._preselected.getLastname();this.assertEquals("Sisko",e);this.assertEquals("Si",this.__comboBox.getValue())},testEmptySelection:function(){this.__comboBox.setLabelPath("label");var e=this.__model=qx.data.marshal.Json.createModel([{label:"foo"}]);this.__comboBox.setModel(e);var t=this.__comboBox.getChildControl("dropdown").getSelection();t.push(this.__comboBox.getModel().getItem(0));t.removeAll()},testOpenWithUnrenderedWidget:function(){var e=new qx.ui.form.VirtualComboBox;e.open();this.getRoot().add(e)}}});qx.test.ui.form.virtual.VirtualComboBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.test.ui.list.MAssert",{members:{assertModelEqualsRowData:function(e,t){for(var i=0;i<e.getLength();i++)this.assertIdentical(e.getItem(i),t._getDataFromRow(i))},assertDataArrayEquals:function(e,t){this.assertIdentical(e.getLength(),t.getLength(),"The length of both arrays are not equal!");for(var i=0;i<e.getLength();i++)this.assertTrue(t.contains(e.getItem(i)),"The array doesn't contain item '"+e.getItem(i)+"'")}}});qx.test.ui.list.MAssert.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.test.ui.list.MAssert":{require:!0},"qx.ui.form.core.AbstractVirtualBox":{},"qx.ui.form.core.VirtualDropDownList":{},"qx.ui.core.Widget":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.virtual.VirtualDropDownList",{extend:qx.test.ui.LayoutTestCase,include:qx.test.ui.list.MAssert,construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Class.define("qx.ui.form.core.AbstractVirtualBoxMock",{extend:qx.ui.form.core.AbstractVirtualBox,members:{_addBindings:function(){},_removeBindings:function(){}}})},members:{__target:null,__dropdown:null,__model:null,setUp:function(){qx.test.ui.form.virtual.VirtualDropDownList.prototype.setUp.base.call(this);this.__target=new qx.ui.form.core.AbstractVirtualBoxMock;this.__dropdown=new qx.ui.form.core.VirtualDropDownList(this.__target);this.__model=this.__createModelData();this.__dropdown.getChildControl("list").setModel(this.__model);this.getRoot().add(this.__target)},tearDown:function(){qx.test.ui.form.virtual.VirtualDropDownList.prototype.tearDown.base.call(this);this.__target.destroy();this.__dropdown.destroy();this.__target=null;this.__dropdown=null;this.__model.dispose();this.__model=null},testException:function(){this.assertException(function(){new qx.ui.form.core.VirtualDropDownList},Error,"Invalid parameter 'target'!");this.assertException(function(){new qx.ui.form.core.VirtualDropDownList(null)},Error,"Invalid parameter 'target'!");var e=new qx.ui.core.Widget;this.assertException(function(){new qx.ui.form.core.VirtualDropDownList(e)},Error,"Invalid parameter 'target'!");e.dispose()},testCreation:function(){var e=this.__model,t=this.__dropdown.getChildControl("list").getModel();this.assertEquals(e,t,"Model instance not equals!");this.__testCreation(e)},testCreationWithSorter:function(){var e=this.__applySortingAndReturnSortedModel();this.__testCreation(e);e.dispose()},testCreationWithFilter:function(){var e=this.__applyFilterAndReturnFilteredModel();this.__testCreation(e);e.dispose()},__testCreation:function(e){var t=this.__dropdown.getChildControl("list");this.assertModelEqualsRowData(e,t);this.__checkSelection(e.getItem(0))},testSelection:function(){this.__testSelection(this.__model)},testSelectionWithSorter:function(){var e=this.__applySortingAndReturnSortedModel();this.__testSelection(e);e.dispose()},testSelectionWithFilter:function(){var e=this.__applyFilterAndReturnFilteredModel();this.__testCreation(e);var t=this.__model,i=this.__dropdown.getSelection(),n=t.getItem(2);this.assertFalse(e.contains(n));this.__checkEvent(i,function(){i.push(n)},2);this.__checkSelection(e.getItem(0));e.dispose()},__testSelection:function(e){var t=this.__dropdown.getSelection(),i=e.getItem(2);this.__checkEvent(t,function(){t.push(i)},2);this.__checkSelection(i);i=e.getItem(4);this.__checkEvent(t,function(){t.splice(0,1,i).dispose()},1);this.__checkSelection(i)},__createModelData:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+t);return e},__checkSelection:function(e){this.assertTrue(this.__model.contains(e),"The itme '"+e+"' is not in the model!");var t=this.__model.indexOf(e),i=this.__dropdown.getSelection(),n=this.__dropdown.getChildControl("list").getSelection();this.assertEquals(1,i.getLength(),"Selection length not equals!");this.assertEquals(this.__model.getItem(t),i.getItem(0),"Selection instance not equals!");this.assertEquals(i.getLength(),n.getLength(),"Selection length not equals with list selection length!");this.assertEquals(i.getItem(0),n.getItem(0),"Selection instance not equals with list selection instance!")},__checkEvent:function(e,t,i){var n=0;this.assertEventFired(e,"change",t,function(){n++});this.assertEquals(i,n,"The event is not fired the expected times!")},__applySortingAndReturnSortedModel:function(){var e=function(e,t){return e<t?1:e>t?-1:0};this.__dropdown.getChildControl("list").setDelegate({sorter:e});var t=this.__model.copy();t.sort(e);return t},__applyFilterAndReturnFilteredModel:function(){var e=function(e){return parseInt(e.slice(5,e.length),10)%2==1};this.__dropdown.getChildControl("list").setDelegate({filter:e});for(var t=new qx.data.Array,i=0;i<this.__model.getLength();i++){var n=this.__model.getItem(i);e(n)&&t.push(n)}return t}},destruct:function(){qx.Class.undefine("qx.ui.form.core.AbstractVirtualBoxMock")}});qx.test.ui.form.virtual.VirtualDropDownList.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.VirtualSelectBox":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.form.virtual.VirtualSelectBox",{extend:qx.test.ui.LayoutTestCase,members:{__selectBox:null,setUp:function(){qx.test.ui.form.virtual.VirtualSelectBox.prototype.setUp.base.call(this);this.__model=this.__createModelData();this.__selectBox=new qx.ui.form.VirtualSelectBox(this.__model);this.getRoot().add(this.__selectBox);this.flush()},tearDown:function(){qx.test.ui.form.virtual.VirtualSelectBox.prototype.tearDown.base.call(this);this.__selectBox.destroy();this.__selectBox=null;this.__model.dispose();this.__model=null},__createModelData:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+(t+1));return e},testCreation:function(){this.assertEquals(this.__model.getLength(),this.__selectBox.getModel().getLength(),"Model length not equals!");this.assertEquals(this.__model,this.__selectBox.getModel(),"Model instance not equals!");this.assertEquals(this.__model,this.__selectBox.getChildControl("dropdown").getChildControl("list").getModel(),"Model instance on list not equals!");this.assertEquals(1,this.__selectBox.getSelection().getLength(),"Selection length not equals!");this.assertEquals(this.__model.getItem(0),this.__selectBox.getSelection().getItem(0),"Selection instance not equals!")}}});qx.test.ui.form.virtual.VirtualSelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.groupbox.CheckGroupBox":{},"qx.ui.layout.HBox":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.groupbox.CheckGroupBox",{extend:qx.test.ui.LayoutTestCase,members:{_checkGroupBox:null,_label:null,setUp:function(){qx.test.ui.groupbox.CheckGroupBox.prototype.setUp.base.call(this);var e=this._checkGroupBox=new qx.ui.groupbox.CheckGroupBox;this.getRoot().add(e);e.setLayout(new qx.ui.layout.HBox);this._label=new qx.ui.basic.Label;e.add(this._label);this.flush()},tearDown:function(){qx.test.ui.groupbox.CheckGroupBox.prototype.tearDown.base.call(this);this._disposeObjects("_checkGroupBox")},testEnabledConsistencyBetweenContentAndParent:function(){this.assertTrue(this._checkGroupBox.isEnabled());this.assertTrue(this._label.isEnabled());this._checkGroupBox.setValue(!1);this.assertFalse(this._label.isEnabled());this._checkGroupBox.setValue(!0);this.assertTrue(this._label.isEnabled());this._checkGroupBox.getLayoutParent().setEnabled(!1);this.assertFalse(this._checkGroupBox.isEnabled());this.assertFalse(this._label.isEnabled());this._checkGroupBox.getLayoutParent().setEnabled(!0);this.assertTrue(this._checkGroupBox.isEnabled());this.assertTrue(this._label.isEnabled())}}});qx.test.ui.groupbox.CheckGroupBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.indicator.ProgressBar":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.indicator.ProgressBar",{extend:qx.dev.unit.TestCase,members:{__pb:null,tearDown:function(){this.__pb.destroy()},testConstructor:function(){var e=0,t=100;this.__pb=new qx.ui.indicator.ProgressBar;this.assertIdentical(e,this.__pb.getValue());this.assertIdentical(t,this.__pb.getMaximum());e=10;this.__pb.dispose();this.__pb=new qx.ui.indicator.ProgressBar(e);this.assertIdentical(e,this.__pb.getValue());this.assertIdentical(t,this.__pb.getMaximum());t=120;this.__pb.dispose();this.__pb=new qx.ui.indicator.ProgressBar(e,t);this.assertIdentical(e,this.__pb.getValue());this.assertIdentical(t,this.__pb.getMaximum());this.__pb.dispose();this.__pb=new qx.ui.indicator.ProgressBar(1200,1e3);this.assertIdentical(1e3,this.__pb.getValue());this.assertIdentical(1e3,this.__pb.getMaximum())},testValue:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.assertIdentical(20,this.__pb.setValue(20));this.assertIdentical(20,this.__pb.getValue())},testLimitValueToZero:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.__pb.setValue(-20);this.assertIdentical(0,this.__pb.getValue())},testLimitValueToMaximum:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.__pb.setValue(this.__pb.getMaximum()+1);this.assertIdentical(this.__pb.getMaximum(),this.__pb.getValue())},testMaximum:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.assertIdentical(200,this.__pb.setMaximum(200));this.assertIdentical(200,this.__pb.getMaximum())},testDoNothingIfMaximumIsSetToZero:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.__pb.setMaximum(0);this.assertIdentical(100,this.__pb.getMaximum())},testLimitMaximumToValue:function(){this.__pb=new qx.ui.indicator.ProgressBar;this.__pb.setValue(20);this.__pb.setMaximum(19);this.assertIdentical(20,this.__pb.getMaximum())},testChangeEvent:function(){var e=this;this.__pb=new qx.ui.indicator.ProgressBar;this.assertEventFired(this.__pb,"change",function(){e.__pb.setValue(10)},function(t){e.assertIdentical(0,t.getOldData());e.assertIdentical(10,t.getData())},"event not fired.")},testCompleteEvent:function(){var e=this,t=this.__pb.getMaximum();this.__pb=new qx.ui.indicator.ProgressBar;this.assertEventFired(this.__pb,"complete",function(){e.__pb.setValue(t)},null,"event not fired.");t=200;this.__pb.dispose();this.__pb=new qx.ui.indicator.ProgressBar(0,t);this.assertEventFired(this.__pb,"complete",function(){e.__pb.setValue(t)},null,"event not fired.")},testCompleteEventFiresOnTime:function(){var e=this;this.__pb=new qx.ui.indicator.ProgressBar(0,200);this.assertEventNotFired(this.__pb,"complete",function(){e.__pb.setValue(199)},null,"event fired.");this.assertEventFired(this.__pb,"complete",function(){e.__pb.setValue(200)},null,"event not fired.")}}});qx.test.ui.indicator.ProgressBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.lang.Type":{},"qx.ui.layout.Canvas":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.indicator.ProgressBar",{extend:qx.ui.container.Composite,construct:function(e,t){qx.ui.container.Composite.constructor.call(this);this._createChildControl("progress");this.setLayout(new qx.ui.layout.HBox);null!=t&&this.setMaximum(t);null!=e&&this.setValue(e)},properties:{appearance:{refine:!0,init:"progressbar"},maximum:{init:100,event:"changeMaximum",apply:"_applyMaximum"},value:{init:0,event:"changeValue",apply:"_applyValue"}},events:{complete:"qx.event.type.Event",change:"qx.event.type.Data"},members:{_applyValue:function(e,t){var i=this.getMaximum();qx.lang.Type.isNumber(e)&&isFinite(e)||(e=t);e<0?e=0:e>i&&(e=i);this.setValue(e);this._changeProgress(e/i)},_applyMaximum:function(e,t){var i=e,n=this.getValue();(!qx.lang.Type.isNumber(i)||!isFinite(i)||i<=0)&&(i=t);i<n&&(i=n);this.setMaximum(i);this._changeProgress(n/i)},_createChildControlImpl:function(e,t){var i;switch(e){case"progress":i=new qx.ui.container.Composite(new qx.ui.layout.Canvas);this._add(i,{width:"0%"})}return i||qx.ui.indicator.ProgressBar.prototype._createChildControlImpl.base.call(this,e)},_changeProgress:function(e){var t=this.getChildControl("progress"),i=Math.floor(100*e),n=parseInt(t.getLayoutProperties().width,10);t.setLayoutProperties({width:i+"%"});i!=n&&this.fireDataEvent("change",i,n);100===i&&this.fireEvent("complete")}}});qx.ui.indicator.ProgressBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.test.ui.layout.LayoutRoot":{},"qx.ui.container.Composite":{},"qx.ui.core.Widget":{},"qx.ui.layout.HBox":{},"qx.ui.layout.VBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.Box",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){qx.test.ui.layout.Box.prototype.setUp.base.call(this);this.root=new qx.test.ui.layout.LayoutRoot},tearDown:function(){qx.test.ui.layout.Box.prototype.tearDown.base.call(this);this.root.dispose()},__testExclude:function(e,t){var i=new qx.ui.container.Composite;i.setBackgroundColor("#AA0000");i.setLayout(e);this.getRoot().add(i,{edge:0});var n=new qx.ui.core.Widget;n.setBackgroundColor("#662222");n.exclude();i.add(n);var s=new qx.ui.core.Widget;s.setBackgroundColor("#FF6666");i.add(s,{flex:1});this.flush();n.show();this.flush();if("height"==t){var r=parseInt(n.getContentElement().getStyle("height"),10),o=n.getSizeHint().height;this.assertEquals(o,r,"height")}else if("width"==t){var a=parseInt(n.getContentElement().getStyle("width"),10),l=n.getSizeHint().width;this.assertEquals(l,a,"width")}i.destroy()},testExcludeHBox:function(){var e=new qx.ui.layout.HBox;this.__testExclude(e,"width");e.dispose()},testExcludeVBox:function(){var e=new qx.ui.layout.VBox;this.__testExclude(e,"height");e.dispose()}}});qx.test.ui.layout.Box.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.LayoutItem":{construct:!0,require:!0},"qx.ui.core.queue.Layout":{},"qx.ui.core.queue.Visibility":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.LayoutItem",{extend:qx.ui.core.LayoutItem,construct:function(e,t){qx.ui.core.LayoutItem.constructor.call(this);void 0!==e&&this.setWidth(e);void 0!==t&&this.setHeight(t);this.bounds={}},properties:{visibility:{check:["visible","hidden","excluded"],init:"visible",apply:"_applyVisibility",event:"changeVisibility"}},members:{bounds:null,__layout:null,__children:null,renderLayout:function(e,t,i,n){var s=qx.test.ui.layout.LayoutItem.prototype.renderLayout.base.call(this,e,t,i,n);if(s){this.bounds={left:e,top:t,width:i,height:n};(s.size||s.local||s.margin)&&this.__layout&&this.getLayoutChildren().length>0&&this.__layout.renderLayout(i,n,{top:0,right:0,bottom:0,left:0});return s}},setLayout:function(e){e.connectToWidget(this);qx.ui.core.queue.Layout.add(this);this.__layout=e},_getLayout:function(){return this.__layout},invalidateLayoutCache:function(){qx.test.ui.layout.LayoutItem.prototype.invalidateLayoutCache.base.call(this);this.__layout&&this.__layout.invalidateLayoutCache()},invalidateLayoutChildren:function(){var e=this.__layout;e&&e.invalidateChildrenCache();qx.ui.core.queue.Layout.add(this)},_applyVisibility:function(e,t){var i=this.$$parent;!i||null!=t&&null!=e&&"excluded"!==t&&"excluded"!==e||i.invalidateLayoutChildren();qx.ui.core.queue.Visibility.add(this)},_getContentHint:function(){return this.__layout&&this.getLayoutChildren().length>0?this.__layout.getSizeHint():{width:0,height:0}},_computeSizeHint:function(){var e=this.getWidth(),t=this.getMinWidth(),i=this.getMaxWidth(),n=this.getHeight(),s=this.getMinHeight(),r=this.getMaxHeight(),o=this._getContentHint();null==e&&(e=o.width);null==n&&(n=o.height);null==t&&null!=o.minWidth&&(t=o.minWidth);null==s&&null!=o.minHeight&&(s=o.minHeight);null==i&&(i=null==o.maxWidth?1/0:o.maxWidth);null==r&&(r=null==o.maxHeight?1/0:o.maxHeight);return{width:e,minWidth:t,maxWidth:i,height:n,minHeight:s,maxHeight:r}},add:function(e,t){this.__children||(this.__children=[]);this.__children.push(e);this.__layout.invalidateChildrenCache();t?e.setLayoutProperties(t):this.updateLayoutProperties();e.setLayoutParent(this);qx.ui.core.queue.Layout.add(this)},remove:function(e){this.__children||(this.__children=[]);qx.lang.Array.remove(this.__children,e);e.setLayoutParent(null);this.__layout&&this.__layout.invalidateChildrenCache();qx.ui.core.queue.Layout.add(this)},getLayoutChildren:function(){for(var e=this.__children||[],t=[],i=0;i<e.length;i++){var n=e[i];"excluded"!==n.getVisibility()&&t.push(n)}return t},checkAppearanceNeeds:function(){},addChildrenToQueue:function(e){var t=this.__children;if(t)for(var i,n=0,s=t.length;n<s;n++){i=t[n];e.push(i);i.addChildrenToQueue(e)}}},destruct:function(){this.bounds=this.__layout=this.__children=null}});qx.test.ui.layout.LayoutItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.layout.LayoutItem":{construct:!0,require:!0},"qx.ui.layout.Basic":{construct:!0},"qx.ui.core.queue.Visibility":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.LayoutRoot",{extend:qx.test.ui.layout.LayoutItem,construct:function(){qx.test.ui.layout.LayoutItem.constructor.call(this,1e4,1e4);this.setLayout(new qx.ui.layout.Basic);qx.ui.core.queue.Visibility.add(this)},members:{isRootWidget:function(){return!0}},destruct:function(){this._getLayout().dispose()}});qx.test.ui.layout.LayoutRoot.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.ui.layout.LayoutRoot":{},"qx.ui.core.queue.Manager":{},"qx.test.ui.layout.LayoutItem":{},"qx.ui.layout.Flow":{},"qx.ui.layout.HBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.Flow",{extend:qx.dev.unit.TestCase,members:{_container:null,setUp:function(){this.root=new qx.test.ui.layout.LayoutRoot;this.flush()},tearDown:function(){this.root.dispose();for(var e=this._container.getLayoutChildren(),t=0,i=e.length;t<i;t++){this._container.remove(e[t]);e[t].dispose()}this.root.remove(this._container);this._container._getLayout().dispose();this._container.dispose()},flush:function(){qx.ui.core.queue.Manager.flush()},testChangeThemeFromFlow:function(){var e=new qx.test.ui.layout.LayoutItem(100,50);this._container=new qx.test.ui.layout.LayoutItem(200,200);this._container.setLayout(new qx.ui.layout.Flow);this._container.add(e);this.root.add(this._container);this._container.setLayout(new qx.ui.layout.HBox)},testChildrenFitInLine:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(400,50).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50);t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();this.assertJsonEquals({left:0,top:0,width:100,height:50},i.bounds);this.assertJsonEquals({left:100,top:0,width:100,height:50},n.bounds);this.assertJsonEquals({left:200,top:0,width:100,height:50},s.bounds)},testAutoSize:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));this.flush();this.assertJsonEquals({left:0,top:0,width:300,height:50},t.bounds);t.getLayoutChildren()[0].setHeight(60);this.flush();this.assertEquals(60,t.bounds.height);this.assertEquals(60,t.getLayoutChildren()[0].bounds.height);this.assertEquals(50,t.getLayoutChildren()[1].bounds.height)},testWrapThirdChild:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(250,300).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));this.flush();var i=t.getLayoutChildren();this.assertEquals(0,i[0].bounds.top);this.assertEquals(0,i[0].bounds.left);this.assertEquals(0,i[1].bounds.top);this.assertEquals(100,i[1].bounds.left);this.assertEquals(50,i[2].bounds.top);this.assertEquals(0,i[2].bounds.left)},testAlignX:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(500,300).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50));e.setAlignX("left");this.flush();var i=t.getLayoutChildren();this.assertEquals(0,i[0].bounds.left,"align left");this.assertEquals(100,i[1].bounds.left,"align left");this.assertEquals(200,i[2].bounds.left,"align left");e.setAlignX("right");this.flush();i=t.getLayoutChildren();this.assertEquals(200,i[0].bounds.left,"align right");this.assertEquals(300,i[1].bounds.left,"align right");this.assertEquals(400,i[2].bounds.left,"align right");e.setAlignX("center");this.flush();i=t.getLayoutChildren();this.assertEquals(100,i[0].bounds.left,"align center");this.assertEquals(200,i[1].bounds.left,"align center");this.assertEquals(300,i[2].bounds.left,"align center")},testAlignXWithWrapping:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(80,300).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(50,50));t.add(new qx.test.ui.layout.LayoutItem(60,50));t.add(new qx.test.ui.layout.LayoutItem(70,50));e.setAlignX("right");this.flush();var i=t.getLayoutChildren();this.assertEquals(30,i[0].bounds.left,"align right");this.assertEquals(20,i[1].bounds.left,"align right");this.assertEquals(10,i[2].bounds.left,"align right");e.setAlignX("center");this.flush();i=t.getLayoutChildren();this.assertEquals(15,i[0].bounds.left);this.assertEquals(10,i[1].bounds.left);this.assertEquals(5,i[2].bounds.left)},testLayoutAlignY:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(100,60));t.add(new qx.test.ui.layout.LayoutItem(100,100));t.add(new qx.test.ui.layout.LayoutItem(100,40));t.add(new qx.test.ui.layout.LayoutItem(100,160));e.setAlignY("top");this.flush();var i=t.getLayoutChildren();this.assertEquals(0,i[0].bounds.top);this.assertEquals(0,i[1].bounds.top);this.assertEquals(0,i[2].bounds.top);e.setAlignY("middle");this.flush();i=t.getLayoutChildren();this.assertEquals(50,i[0].bounds.top);this.assertEquals(30,i[1].bounds.top);this.assertEquals(60,i[2].bounds.top);e.setAlignY("bottom");this.flush();i=t.getLayoutChildren();this.assertEquals(100,i[0].bounds.top);this.assertEquals(60,i[1].bounds.top);this.assertEquals(120,i[2].bounds.top)},testChildAlignY:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,60).set({alignY:"top"});t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,100).set({alignY:"middle"});t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,40).set({alignY:"bottom"});t.add(s);t.add(new qx.test.ui.layout.LayoutItem(100,160));this.flush();this.assertEquals(0,i.bounds.top);this.assertEquals(30,n.bounds.top);this.assertEquals(120,s.bounds.top)},testReversed:function(){var e=(new qx.ui.layout.Flow).set({reversed:!1}),t=this._container=new qx.test.ui.layout.LayoutItem(400,50).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50);t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();this.assertArrayEquals([i,n,s],t.getLayoutChildren());e.setReversed(!0);this.flush();this.assertArrayEquals([i,n,s],t.getLayoutChildren());this.assertEquals(200,i.bounds.left);this.assertEquals(100,n.bounds.left);this.assertEquals(0,s.bounds.left)},testLineBreakAutoSize:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);t.add(new qx.test.ui.layout.LayoutItem(100,50));t.add(new qx.test.ui.layout.LayoutItem(100,50),{lineBreak:!0});t.add(new qx.test.ui.layout.LayoutItem(100,50));this.flush();this.assertJsonEquals({left:0,top:0,width:200,height:100},t.bounds);var i=t.getLayoutChildren();this.assertEquals(0,i[0].bounds.top);this.assertEquals(0,i[1].bounds.top);this.assertEquals(50,i[2].bounds.top);this.assertEquals(0,i[2].bounds.left)},testMargins:function(){var e=(new qx.ui.layout.Flow).set(),t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50).set({margin:[10,20,30,40]});t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();this.assertJsonEquals({left:0,top:0,width:360,height:90},t.bounds);this.assertJsonEquals({left:140,top:10,width:100,height:50},n.bounds);this.assertEquals(260,s.bounds.left)},testMarginXCollapse:function(){var e=(new qx.ui.layout.Flow).set(),t=this._container=new qx.test.ui.layout.LayoutItem(300,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50).set({margin:[5,10,15,20]});t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50).set({margin:[10,20,30,40]});t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50).set({margin:[15]});t.add(s);this.flush();this.assertJsonEquals({left:0,top:0,width:300,height:170},t.bounds);this.assertEquals(20,i.bounds.left);this.assertEquals(160,n.bounds.left)},testSpacingX:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50);t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();e.setSpacingX(10);this.flush();this.assertEquals(320,t.bounds.width);this.assertEquals(0,i.bounds.left);this.assertEquals(110,n.bounds.left);this.assertEquals(220,s.bounds.left)},testSpacingXAndMarginCollapsing:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(null,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50).set({margin:5});t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50).set({margin:5});t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50).set({margin:15});t.add(s);e.setSpacingX(10);this.flush();this.assertEquals(330,t.bounds.width);this.assertEquals(5,i.bounds.left);this.assertEquals(115,n.bounds.left);this.assertEquals(230,s.bounds.left)},testSpacingY:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(110,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50);t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();e.setSpacingY(10);this.flush();this.assertEquals(170,t.bounds.height);this.assertEquals(0,i.bounds.top);this.assertEquals(60,n.bounds.top);this.assertEquals(120,s.bounds.top)},testHeightForWidth:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(110,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(100,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(100,50);t.add(n);var s=new qx.test.ui.layout.LayoutItem(100,50);t.add(s);this.flush();this.assertJsonEquals({left:0,top:0,width:110,height:150},t.bounds);this.assertEquals(0,i.bounds.top);this.assertEquals(50,n.bounds.top);this.assertEquals(100,s.bounds.top)},testLargeChildInLine:function(){var e=new qx.ui.layout.Flow,t=this._container=new qx.test.ui.layout.LayoutItem(100,null).set({layout:e});this.root.add(t);var i=new qx.test.ui.layout.LayoutItem(150,50);t.add(i);var n=new qx.test.ui.layout.LayoutItem(80,50);t.add(n);this.flush();this.assertEquals(0,i.bounds.top);this.assertEquals(0,i.bounds.left);this.assertEquals(50,n.bounds.top)}},destruct:function(){this.root=null}});qx.test.ui.layout.Flow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.layout.Abstract":{construct:!0,require:!0},"qx.ui.layout.LineSizeIterator":{},"qx.ui.layout.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.Flow",{extend:qx.ui.layout.Abstract,construct:function(e,t,i){qx.ui.layout.Abstract.constructor.call(this);e&&this.setSpacingX(e);t&&this.setSpacingY(t);i&&this.setAlignX(i)},properties:{alignX:{check:["left","center","right"],init:"left",apply:"_applyLayoutChange"},alignY:{check:["top","middle","bottom"],init:"top",apply:"_applyLayoutChange"},spacingX:{check:"Integer",init:0,apply:"_applyLayoutChange"},spacingY:{check:"Integer",init:0,apply:"_applyLayoutChange"},reversed:{check:"Boolean",init:!1,apply:"_applyLayoutChange"}},members:{verifyLayoutProperty:function(e,t,i){this.assertInArray(t,["lineBreak","stretch"],"The property '"+t+"' is not supported by the flow layout!")},connectToWidget:function(e){qx.ui.layout.Flow.prototype.connectToWidget.base.call(this,e);e&&e.setAllowShrinkY(!1)},renderLayout:function(e,t,i){var n=this._getLayoutChildren();this.getReversed()&&(n=n.concat().reverse());for(var s=new qx.ui.layout.LineSizeIterator(n,this.getSpacingX()),r=i.top;s.hasMoreLines();){var o=s.computeNextLine(e);this.__renderLine(o,r,e,i);r+=o.height+this.getSpacingY()}},__renderLine:function(e,t,i,n){var s=qx.ui.layout.Util,r=n.left;if("left"!=this.getAlignX()){r=n.left+i-e.width;"center"==this.getAlignX()&&(r=n.left+Math.round((i-e.width)/2))}for(var o=0;o<e.children.length;o++){var a=e.children[o],l=a.getSizeHint(),u=a.getMarginTop(),c=a.getMarginBottom(),d=s.computeVerticalAlignOffset(a.getAlignY()||this.getAlignY(),u+l.height+c,e.height,u,c),h=a.getLayoutProperties();h.stretch&&h.stretch&&(l.width+=i-e.width);a.renderLayout(r+e.gapsBefore[o],t+d,l.width,l.height);r+=e.gapsBefore[o]+l.width}},_computeSizeHint:function(){return this.__computeSize(1/0)},hasHeightForWidth:function(){return!0},getHeightForWidth:function(e){return this.__computeSize(e).height},getLastLineChildren:function(e){for(var t=new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(),this.getSpacingX()),i=[];t.hasMoreLines();)i=t.computeNextLine(e).children;return i},__computeSize:function(e){for(var t=new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(),this.getSpacingX()),i=0,n=0,s=0;t.hasMoreLines();){var r=t.computeNextLine(e);s+=1;n=Math.max(n,r.width);i+=r.height}return{width:n,height:i+this.getSpacingY()*(s-1)}}}});qx.ui.layout.Flow.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.layout.LineSizeIterator",{extend:Object,construct:function(e,t){this.__children=e;this.__spacing=t;this.__hasMoreLines=e.length>0;this.__childIndex=0},members:{__children:null,__spacing:null,__hasMoreLines:null,__childIndex:null,computeNextLine:function(e){e=e||1/0;if(!this.__hasMoreLines)throw new Error("No more lines to compute");for(var t=this.__children,i=0,n=0,s=[],r=[],o=this.__childIndex;o<t.length;o++){var a=t[o],l=a.getSizeHint(),u=this.__computeGapBeforeChild(o),c=l.width+u;if(!(o==this.__childIndex)&&n+c>e){this.__childIndex=o;break}var d=l.height+a.getMarginTop()+a.getMarginBottom();s.push(a);r.push(u);n+=c;i=Math.max(i,d);if(a.getLayoutProperties().lineBreak){this.__childIndex=o+1;break}}o>=t.length&&(this.__hasMoreLines=!1);return{height:i,width:n,children:s,gapsBefore:r}},__computeGapBeforeChild:function(e){return e==this.__childIndex?this.__children[e].getMarginLeft():Math.max(this.__children[e-1].getMarginRight(),this.__children[e].getMarginLeft(),this.__spacing)},hasMoreLines:function(){return this.__hasMoreLines}}});qx.ui.layout.LineSizeIterator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.test.ui.layout.LayoutItem":{},"qx.ui.layout.Grid":{},"qx.test.ui.layout.LayoutRoot":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.Grid",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this._gridWidget=new qx.test.ui.layout.LayoutItem(100,50);this._gridLayout=new qx.ui.layout.Grid;this._gridWidget.setLayout(this._gridLayout);this.root=new qx.test.ui.layout.LayoutRoot;this.root.add(this._gridWidget)},tearDown:function(){this.root.dispose();this._gridWidget.dispose();this._gridLayout.dispose()},flush:function(){qx.ui.core.queue.Manager.flush()},assertSize:function(e,t,i){this.flush();this.assertEquals(t,e.bounds.width);this.assertEquals(i,e.bounds.height)},_getFixedWidget:function(){var e=new qx.test.ui.layout.LayoutItem(200,100);e.set({allowGrowX:!1,allowShrinkX:!1,allowGrowY:!1,allowShrinkY:!1});return e},testRowSpanWithoutFlex:function(){this._gridLayout.setSpacingY(6);var e=new qx.test.ui.layout.LayoutItem(100,100);this._gridWidget.add(e,{row:0,column:1});var t=new qx.test.ui.layout.LayoutItem(100,100);this._gridWidget.add(t,{row:1,column:1});var i=new qx.test.ui.layout.LayoutItem(100,300);this._gridWidget.add(i,{row:0,column:0,rowSpan:2});this.flush();this.assertEquals(300,this._gridWidget.bounds.height);e.dispose();t.dispose();i.dispose()},testGetCellWidget:function(){var e=this._gridLayout;this.assertNull(e.getCellWidget(0,0));this.assertNull(e.getCellWidget(1,1));var t=this._getFixedWidget();this._gridWidget.add(t,{row:0,column:0});this.assertEquals(t,e.getCellWidget(0,0));this.assertNull(e.getCellWidget(1,1));var i=this._getFixedWidget();this._gridWidget.add(i,{row:1,column:1});this.assertEquals(t,e.getCellWidget(0,0));this.assertEquals(i,e.getCellWidget(1,1));this.assertNull(e.getCellWidget(1,0))},testAutoSize:function(){this._gridWidget.add(this._getFixedWidget(),{row:0,column:0});this._gridWidget.add(this._getFixedWidget(),{row:0,column:1});this._gridWidget.add(this._getFixedWidget(),{row:1,column:0});this._gridWidget.add(this._getFixedWidget(),{row:1,column:1});this.assertSize(this._gridWidget,400,200);this._gridLayout.setSpacingY(10);this._gridLayout.setSpacingX(20);this.assertSize(this._gridWidget,420,210)},testAddRemove:function(){var e=this._getFixedWidget(),t=this._getFixedWidget(),i=this._getFixedWidget(),n=this._getFixedWidget();this._gridLayout.setSpacingY(10);this._gridLayout.setSpacingX(20);this._gridWidget.add(e,{row:0,column:0});this._gridWidget.add(t,{row:0,column:1});this._gridWidget.add(i,{row:1,column:0});this._gridWidget.add(n,{row:1,column:1});this.assertSize(this._gridWidget,420,210);this._gridWidget.remove(t);this._gridWidget.remove(n);this.assertSize(this._gridWidget,200,210);this._gridWidget.remove(i);this._gridWidget.add(n,{row:0,column:1});this._gridWidget.add(t,{row:0,column:2});this._gridWidget.add(i,{row:0,column:3});this.assertSize(this._gridWidget,860,100)},testVisibility:function(){var e=this._getFixedWidget(),t=this._getFixedWidget(),i=this._getFixedWidget(),n=this._getFixedWidget();this._gridLayout.setSpacingY(10);this._gridLayout.setSpacingX(20);this._gridWidget.add(e,{row:0,column:0});this._gridWidget.add(t,{row:0,column:1});this._gridWidget.add(i,{row:1,column:0});this._gridWidget.add(n,{row:1,column:1});this.assertSize(this._gridWidget,420,210);e.setVisibility("hidden");t.setVisibility("hidden");i.setVisibility("hidden");this.assertSize(this._gridWidget,420,210);t.setVisibility("visible");i.setVisibility("excluded");n.setVisibility("excluded");this.assertSize(this._gridWidget,420,100);e.setVisibility("excluded");t.setVisibility("excluded");i.setVisibility("visible");n.setVisibility("visible");this.assertSize(this._gridWidget,420,110)},testCellSize:function(){this._gridLayout.setRowHeight(0,40);this._gridLayout.setRowHeight(1,150);this._gridLayout.setColumnWidth(0,70);this._gridLayout.setColumnWidth(1,290);var e=new qx.test.ui.layout.LayoutItem(100,50),t=new qx.test.ui.layout.LayoutItem(100,50),i=new qx.test.ui.layout.LayoutItem(100,50),n=new qx.test.ui.layout.LayoutItem(100,50);this._gridWidget.add(e,{row:0,column:0});this._gridWidget.add(t,{row:0,column:1});this._gridWidget.add(i,{row:1,column:0});this._gridWidget.add(n,{row:1,column:1});this.assertSize(e,70,40);this.assertSize(t,290,40);this.assertSize(i,70,150);this.assertSize(n,290,150)},testCellMinSize:function(){var e=new qx.test.ui.layout.LayoutItem(100,50).set({minWidth:200,minHeight:200}),t=new qx.test.ui.layout.LayoutItem(100,50),i=new qx.test.ui.layout.LayoutItem(100,50),n=new qx.test.ui.layout.LayoutItem(100,50);this._gridWidget.add(e,{row:0,column:0});this._gridWidget.add(t,{row:0,column:1});this._gridWidget.add(i,{row:1,column:0});this._gridWidget.add(n,{row:1,column:1});this.assertSize(e,200,200);this.assertSize(t,100,200);this.assertSize(i,200,50);this.assertSize(n,100,50)},testGetRowCount:function(){this.assertEquals(0,this._gridLayout.getRowCount());this._gridWidget.add(new qx.test.ui.layout.LayoutItem(100,50),{row:0,column:0});this.assertEquals(1,this._gridLayout.getRowCount());this._gridWidget.add(new qx.test.ui.layout.LayoutItem(100,50),{row:4,column:0});this.assertEquals(5,this._gridLayout.getRowCount())},testGetColumnCount:function(){this.assertEquals(0,this._gridLayout.getColumnCount());this._gridWidget.add(new qx.test.ui.layout.LayoutItem(100,50),{row:0,column:0});this.assertEquals(1,this._gridLayout.getColumnCount());this._gridWidget.add(new qx.test.ui.layout.LayoutItem(100,50),{row:0,column:4});this.assertEquals(5,this._gridLayout.getColumnCount())}},destruct:function(){this._gridWidget=this._gridLayout=null}});qx.test.ui.layout.Grid.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.layout.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.layout.Util",{extend:qx.dev.unit.TestCase,members:{testFlex:function(){for(var e=0;e<500;e++){for(var t=Math.round(20*Math.random())+1,i=0,n=0,s=0,r={},o=0;o<t;o++){var a=Math.round(20*Math.random()),l=a+Math.round(50*Math.random())+1,u=a+Math.round(Math.random()*(l-a));n+=l;i+=a;s+=u;r[o]={min:a,value:u,max:l,flex:Math.ceil(5*Math.random())}}var c=Math.round(500*Math.random()),d=qx.ui.layout.Util.computeFlexOffsets(r,c,s),h=0;for(var g in d){var m=r[g].value+d[g].offset;h+=m;this.assert(r[g].min<=m);this.assert(r[g].max>=m)}c!==h?this.assert(h==i||h==n):this.assertEquals(c,h)}},testFlexFairness:function(){for(var e=0;e<500;e++){for(var t=Math.round(20*Math.random())+1,i=0,n=0,s={},r=0;r<t;r++){var o=Math.round(20*Math.random());32e3;0;i+=o;s[r]={min:0,value:o,max:32e3,flex:1+Math.ceil(5*Math.random())};n+=s[r].flex}var a=i+Math.round(100*Math.random()),l=qx.ui.layout.Util.computeFlexOffsets(s,a,i),u=0;for(var c in l)u+=l[c].offset;if(n>0){var d=u/n;for(var r in l){var h=l[r].offset-d*s[r].flex;this.assertTrue(Math.abs(h)<=1,"The error must be at most one pixel!")}}}}}});qx.test.ui.layout.Util.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.test.ui.list.MAssert":{require:!0},"qx.ui.list.List":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.AbstractListTest",{type:"abstract",extend:qx.test.ui.LayoutTestCase,include:[qx.test.ui.list.MAssert],members:{_model:null,_list:null,setUp:function(){qx.test.ui.list.AbstractListTest.prototype.setUp.base.call(this);this._model=this.createModelData();this._list=new qx.ui.list.List(this._model);this.configureList();this.getRoot().add(this._list);this.flush()},tearDown:function(){qx.test.ui.list.AbstractListTest.prototype.tearDown.base.call(this);this._list.dispose();this._list=null;this._model.dispose();this._model=null},createModelData:function(){throw new Error("Abstract 'createModelData' method call!")},configureList:function(){}}});qx.test.ui.list.AbstractListTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.list.AbstractListTest":{require:!0},"qx.data.marshal.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.Group",{extend:qx.test.ui.list.AbstractListTest,members:{__names:["Luise Siemer","Trauhard Franke","Sarina Wilde","Florine Bähr","Sigurd Adolph","Sigmund Kurz","Pankratius Hill","Gerlinda Seel","Trixi Clauß","Cecilia Hemmer","Rosely Fröhlich","Annemargret Hunger","Dietgar Münster","Bertwin Joseph","Edwina Schwarz","Riana Dirks"],createModelData:function(){return qx.data.marshal.Json.createModel(this.__names)},testGroup:function(){var e=qx.data.marshal.Json.createModel(["L","Luise Siemer","T","Trauhard Franke","Trixi Clauß","S","Sarina Wilde","Sigurd Adolph","Sigmund Kurz","F","Florine Bähr","P","Pankratius Hill","G","Gerlinda Seel","C","Cecilia Hemmer","R","Rosely Fröhlich","Riana Dirks","A","Annemargret Hunger","D","Dietgar Münster","B","Bertwin Joseph","E","Edwina Schwarz"]);this._list.setDelegate({group:function(e){return e.charAt(0).toUpperCase()}});this.flush();this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"On Layer");this.assertEquals(12,this._list.getGroups().getLength(),"On List");e.dispose()},testDefaultGroup:function(){var e=qx.data.marshal.Json.createModel(["L","Luise Siemer","T","Trauhard Franke","Trixi Clauß","???","Sarina Wilde","Sigurd Adolph","Sigmund Kurz","F","Florine Bähr","P","Pankratius Hill","G","Gerlinda Seel","C","Cecilia Hemmer","R","Rosely Fröhlich","Riana Dirks","A","Annemargret Hunger","D","Dietgar Münster","B","Bertwin Joseph","E","Edwina Schwarz"]);this._list.setDelegate({group:function(e){var t=e.charAt(0).toUpperCase();return"S"==t?null:e.charAt(0).toUpperCase()}});this.flush();this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"On Layer");this.assertEquals(12,this._list.getGroups().getLength(),"On List");e.dispose()},testGroupWithSorter:function(){var e=qx.data.marshal.Json.createModel(["T","Trixi Clauß","Trauhard Franke","S","Sigurd Adolph","Sigmund Kurz","Sarina Wilde","R","Rosely Fröhlich","Riana Dirks","P","Pankratius Hill","L","Luise Siemer","G","Gerlinda Seel","F","Florine Bähr","E","Edwina Schwarz","D","Dietgar Münster","C","Cecilia Hemmer","B","Bertwin Joseph","A","Annemargret Hunger"]);this._list.setDelegate({sorter:function(e,t){return e<t?1:e>t?-1:0},group:function(e){return e.charAt(0).toUpperCase()}});this.flush();this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"On Layer");this.assertEquals(12,this._list.getGroups().getLength(),"On List");e.dispose()}}});qx.test.ui.list.Group.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.list.AbstractListTest":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.Array":{},"qx.data.marshal.Json":{},"qx.event.Timer":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.List",{extend:qx.test.ui.list.AbstractListTest,include:qx.dev.unit.MMock,members:{createModelData:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+(t+1));return e},testCreation:function(){this._list.setWidth(300);this._list.setItemHeight(30);this.flush();this.assertEquals(this._list.getPane().getBounds().width,this._list.getPane().getColumnConfig().getItemSize(0));this.assertEquals(30,this._list.getPane().getRowConfig().getDefaultItemSize());this.assertEquals(this._model.getLength(),this._list.getPane().getRowConfig().getItemCount());this.assertEquals(this._model,this._list.getModel());this.assertEquals(0,this._list.getSelection().getLength())},testNullModel:function(){this._list.setModel(null);this.assertEquals(0,this._list.getPane().getRowConfig().getItemCount());this.assertEquals(0,this._list.getSelection().getLength())},testChangeModelSize:function(){this._model.push("new item");this.assertModelEqualsRowData(this._model,this._list);this.assertEquals(this._model.getLength(),this._list.getPane().getRowConfig().getItemCount());this._model.dispose();this._model=new qx.data.Array;this._model.push("item");this._list.setModel(this._model);this.assertModelEqualsRowData(this._model,this._list);this.assertEquals(this._model.getLength(),this._list.getPane().getRowConfig().getItemCount())},testChangeModelContent:function(){this._model.setItem(0,"new item");this.flush();this.assertModelEqualsRowData(this._model,this._list);this.assertEquals(this._model.getLength(),this._list.getPane().getRowConfig().getItemCount());this.assertEquals("new item",this._list._layer.getRenderedCellWidget(0,0).getLabel())},testResetModel:function(){var e=new qx.data.Array;e.push("item");this._list.setModel(e);this.flush();this.assertModelEqualsRowData(e,this._list);this._list.resetModel();this.flush();this.assertModelEqualsRowData(this._model,this._list);this.assertEquals(this._model,this._list.getModel());this.assertEquals(this._list.getModel().getLength(),this._list.getPane().getRowConfig().getItemCount(),"b");e.dispose()},testComplexModel:function(){for(var e=[],t=0;t<10;t++)e[t]={label:"Item "+t,icon:"icon/16/places/folder.png"};var i=qx.data.marshal.Json.createModel(e);this._list.setLabelPath("label");this._list.setIconPath("icon");this._list.setModel(i);this.flush();this.assertModelEqualsRowData(i,this._list);this.assertEquals(i.getLength(),this._list.getPane().getRowConfig().getItemCount());this.assertEquals("Item 5",this._list._layer.getRenderedCellWidget(5,0).getLabel());this.assertEquals("icon/16/places/folder.png",this._list._layer.getRenderedCellWidget(0,0).getIcon());i.dispose()},testReverseBinding:function(){this._list.setDelegate({bindItem:function(e,t,i){e.bindDefaultProperties(t,i);e.bindPropertyReverse(null,"label",null,t,i)}});this.flush();this._list._layer.getRenderedCellWidget(0,0).setLabel("abcde");this.flush();this.assertEquals(this._model.getLength(),this._list.getPane().getRowConfig().getItemCount(),"Model size <-> pane size");this.assertEquals("abcde",this._list._layer.getRenderedCellWidget(0,0).getLabel(),"Widget value");this.assertEquals("abcde",this._list.getModel().getItem(0),"Model value")},testFilter:function(){for(var e=new qx.data.Array,t=0;t<this._model.getLength();t++)t%2==0&&e.push("item "+(t+1));var i={filter:function(e){return(parseInt(e.slice(5,e.length),10)-1)%2==0}};this._list.setDelegate(i);this.flush();this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"two");e.dispose()},testSorter:function(){for(var e=new qx.data.Array,t=function(e,t){return e<t?1:e>t?-1:0},i=0;i<this._model.getLength();i++)e.push(this._model.getItem(i));e.sort(t);var n={sorter:t};this._list.setDelegate(n);this.flush();this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"two");e.dispose()},testSorterWithFilter:function(){for(var e=new qx.data.Array,t=0;t<this._model.getLength();t++)t%2==0&&e.push("item "+(t+1));var i=new qx.data.Array,n=function(e,t){return e<t?1:e>t?-1:0};for(t=0;t<e.getLength();t++)i.push(e.getItem(t));i.sort(n);var s={sorter:n,filter:function(e){return(parseInt(e.slice(5,e.length),10)-1)%2==0}};this._list.setDelegate(s);this.flush();this.assertModelEqualsRowData(i,this._list);this.assertEquals(i.getLength(),this._list.getPane().getRowConfig().getItemCount(),"two");i.dispose();e.dispose()},testDisabledElements:function(){for(var e=[],t=0;t<10;t++)e[t]={label:"Item "+t,icon:"icon/16/places/folder.png",enabled:3!=t};var i=qx.data.marshal.Json.createModel(e);this._list.setDelegate({bindItem:function(e,t,i){e.bindDefaultProperties(t,i);e.bindProperty("enabled","enabled",null,t,i)}});this._list.setLabelPath("label");this._list.setIconPath("icon");this._list.setModel(i);this.flush();for(t=0;t<10;t++){var n=this._list._layer.getRenderedCellWidget(t,0);null!=n&&(3!=t?this.assertTrue(n.isEnabled()):this.assertFalse(n.isEnabled()))}i.dispose()},testOnPool:function(){var e={onPool:function(e){}},t=this.spy(e,"onPool");this._list._provider.setDelegate(e);var i=this._list._provider.getCellWidget(4,0);this._list._provider.poolCellWidget(i);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},testMultiSelectionMode:function(){var e=qx.data.marshal.Json.createModel(["a","b","c"]);this._list.setModel(e);this._list.setSelectionMode("multi");this._list.getSelection().push(e.getItem(0));this._list.getSelection().removeAll();this.assertNull(this._list._manager.getLeadItem());e.dispose()},testVariableItemHeight:function(){this._list.setModel(null);this.flush();this._list.getPane().getRowConfig().resetItemSizes();for(var e=[16,32,48,16,32,48,16,32,48,16,32,48],t=[],i=0;i<e.length;i++)t[i]={label:"Item "+e[i]+"px",icon:"icon/"+e[i]+"/places/folder.png"};var n=qx.data.marshal.Json.createModel(t);this._list.setVariableItemHeight(!0);this._list.setDelegate({bindItem:function(e,t,i){e.bindDefaultProperties(t,i)}});this._list.setLabelPath("label");this._list.setIconPath("icon");this._list.setModel(n);this.flush();qx.event.Timer.once(function(){this.resume(function(){for(var e=this._list.getPane().getRowConfig(),i=0,s=0;s<t.length;s++){var r=this._list._layer.getRenderedCellWidget(s,0);if(null!=r){this.assertEquals(r.getSizeHint().height,e.getItemSize(s));i++}}this.assertTrue(i>=3);this._list.setVariableItemHeight(!1);n.dispose()})},this,100);this.wait()},testChangeModelLengthListener:function(){var e=new qx.data.Array(["a"]);this._list.setModel(e);this.assertEquals(1,e.getLength());this.assertEventFired(this._list,"changeModelLength",function(){e.push("b")},function(e){this.assertInstance(e,qx.event.type.Data);this.assertPositiveInteger(e.getData());this.assertEquals(2,e.getData());this.assertPositiveInteger(e.getOldData());this.assertEquals(1,e.getOldData())}.bind(this));this._list.setModel(null);e.dispose()}}});qx.test.ui.list.List.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.list.AbstractListTest":{require:!0},"qx.data.Array":{},"qx.test.ui.list.fixture.GroupMock":{},"qx.test.ui.list.fixture.ItemMock":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.ObjectGroup",{extend:qx.test.ui.list.AbstractListTest,members:{__names:["Luise Siemer","Trauhard Franke","Sarina Wilde","Florine Bähr","Sigurd Adolph","Sigmund Kurz","Pankratius Hill","Gerlinda Seel","Trixi Clauß","Cecilia Hemmer","Rosely Fröhlich","Annemargret Hunger","Dietgar Münster","Bertwin Joseph","Edwina Schwarz","Riana Dirks"],__groups:null,createModelData:function(){var e=new qx.data.Array;e.setAutoDisposeItems(!0);for(var t=this.__groups={},i=0;i<this.__names.length;i++){var n=this.__names[i],s=n.charAt(0),r=t[s];null==r&&(r=t[s]=new qx.test.ui.list.fixture.GroupMock).setName(s);var o=new qx.test.ui.list.fixture.ItemMock;o.setName(n);o.setGroup(r);e.push(o)}return e},configureList:function(){this._list.setLabelPath("name");this._list.setGroupLabelPath("name")},tearDown:function(){qx.test.ui.list.ObjectGroup.prototype.tearDown.base.call(this);for(var e in this.__groups)this.__groups.hasOwnProperty(e)&&this.__groups[e].dispose();this.__groups=null},testGroup:function(){this._list.setDelegate({group:function(e){return e.getGroup()}});this.flush();var e=this.__convertModel(this._model);this.assertModelEqualsRowData(e,this._list);this.assertEquals(e.getLength(),this._list.getPane().getRowConfig().getItemCount(),"On Layer");this.assertEquals(12,this._list.getGroups().getLength(),"On List");e.dispose()},testMixWithObjectsAndDefaultGroup:function(){var e=this;this.assertException(function(){e._list.setDelegate({group:function(e){var t=e.getGroup();return"A"==t.getName()?null:t}});e.flush()},Error,/GroupingTypeError:/)},testMixWithObjectsAndDefaultGroupAsFirstItem:function(){var e=this;this.assertException(function(){var t={group:function(t){return 0==e._model.indexOf(t)?null:t.getGroup()}};e._list.setDelegate(t);e.flush()},Error,/GroupingTypeError:/)},testMixWithObjectsAndStrings:function(){var e=this;this.assertException(function(){e._list.setDelegate({group:function(e){var t=e.getGroup();return"A"==t.getName()?t.getName():t}});e.flush()},Error,/GroupingTypeError:/)},testMixWithObjectsStringsAndDefaultGroup:function(){var e=this;this.assertException(function(){var t={group:function(t){var i=t.getGroup();return 0==e._model.indexOf(t)?null:"A"==i.getName()?i.getName():i}};e._list.setDelegate(t);e.flush()},Error,/GroupingTypeError:/)},testGroupWithSorter:function(){for(var e=new qx.data.Array,t=function(e,t){return(e=e.getName())<(t=t.getName())?1:e>t?-1:0},i=0;i<this._model.getLength();i++)e.push(this._model.getItem(i));e.sort(t);var n={sorter:t,group:function(e){return e.getGroup()}};this._list.setDelegate(n);this.flush();var s=this.__convertModel(e);this.assertModelEqualsRowData(s,this._list);this.assertEquals(s.getLength(),this._list.getPane().getRowConfig().getItemCount(),"On Layer");this.assertEquals(12,this._list.getGroups().getLength(),"On List");s.dispose();e.dispose()},__convertModel:function(e){for(var t=new qx.data.Array,i=[],n=0;n<e.getLength();n++){var s=e.getItem(n).getGroup();-1==i.indexOf(s)&&i.push(s)}for(n=0;n<i.length;n++){t.push(i[n]);for(var r=0;r<e.getLength();r++){var o=e.getItem(r);s=o.getGroup();i[n]===s&&t.push(o)}}return t}}});qx.test.ui.list.ObjectGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.fixture.GroupMock",{extend:qx.core.Object,properties:{name:{event:"changeName"}}});qx.test.ui.list.fixture.GroupMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.fixture.ItemMock",{extend:qx.core.Object,properties:{name:{event:"changeName"},group:{event:"changeGroup"}}});qx.test.ui.list.fixture.ItemMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.list.AbstractListTest":{require:!0},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.core.MultiSelection",{extend:qx.test.ui.list.AbstractListTest,members:{setUp:function(){qx.test.ui.list.core.MultiSelection.prototype.setUp.base.call(this);this._list.setSelectionMode("multi")},createModelData:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+(t+1));return e},testSelection:function(){var e=this._list.getSelection();e.push(this._model.getItem(1));e.push(this._model.getItem(2));e.push(this._model.getItem(3));this.flush();this.assertEquals(3,this._list.getSelection().getLength(),"On List");var t=new qx.data.Array([this._model.getItem(1),this._model.getItem(2),this._model.getItem(3)]);this.assertDataArrayEquals(e,t,"On List");t.dispose();for(var i=this._list._manager.getSelection(),n=0;n<i.length;n++)i[n]=this._list._getDataFromRow(i[n]);this.assertEquals(3,i.length,"On selection manager");t=new qx.data.Array(i);this.assertDataArrayEquals(e,t,"On selection manager");t.dispose()},testSelectionByUserInteraction:function(){var e=this._list.getSelection();this._list._manager.replaceSelection([2,3,4,7,8,9]);this.flush();for(var t=this._list._manager.getSelection(),i=0;i<t.length;i++)t[i]=this._list._getDataFromRow(t[i]);this.assertEquals(6,t.length,"On selection manager");var n=new qx.data.Array(t);this.assertTrue(e.equals(n),"On selection manager");n.dispose();this.assertEquals(6,e.getLength(),"On List");n=new qx.data.Array([this._model.getItem(2),this._model.getItem(3),this._model.getItem(4),this._model.getItem(7),this._model.getItem(8),this._model.getItem(9)]);this.assertDataArrayEquals(e,n,"On List");n.dispose()},testSelectionEventByUserInteraction:function(){var e=this._list.getSelection(),t=this;this.assertEventFired(e,"change",function(){t._list._manager.replaceSelection([2,3,4,7,8,9]);t.flush()},function(i){for(var n=t._list._manager.getSelection(),s=0;s<n.length;s++)n[s]=t._list._getDataFromRow(n[s]);t.assertEquals(6,n.length,"On selection manager");var r=new qx.data.Array(n);t.assertDataArrayEquals(e,r,"On selection manager");r.dispose();t.assertEquals(6,e.getLength(),"On List");r=new qx.data.Array([t._model.getItem(2),t._model.getItem(3),t._model.getItem(4),t._model.getItem(7),t._model.getItem(8),t._model.getItem(9)]);t.assertDataArrayEquals(e,r,"On List");r.dispose()})},testSelectionWithSorter:function(){this._list.setDelegate({sorter:function(e,t){return e<t?1:e>t?-1:0}});this.testSelection()},testOneSelection:function(){var e=this._list.getSelection();this.assertEquals(0,e.getLength());this._list.setSelectionMode("one");this.assertEquals(1,e.getLength());this.assertEquals(this._model.getItem(0),e.getItem(0))},testOneSelectionByChangingModel:function(){var e=this._list.getSelection();this.assertEquals(0,e.getLength());var t=this._model.copy();this._model.removeAll();this._list.setSelectionMode("one");this.assertEquals(0,e.getLength());this._model.dispose();this._model=t;this._list.setModel(this._model);this.assertEquals(1,e.getLength());this.assertEquals(this._model.getItem(0),e.getItem(0))},testOneSelectionWithEmptyModel:function(){var e=this._list.getSelection(),t=this._model.copy();this._model.removeAll();this._list.setSelectionMode("one");this.assertEquals(0,e.getLength());this._model.push(t.getItem(2));this.assertEquals(1,e.getLength());this.assertEquals(this._model.getItem(0),e.getItem(0));t.dispose()}}});qx.test.ui.list.core.MultiSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.list.AbstractListTest":{require:!0},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.list.core.SingleSelection",{extend:qx.test.ui.list.AbstractListTest,members:{createModelData:function(){for(var e=new qx.data.Array,t=0;t<100;t++)e.push("item "+t);return e},testSelection:function(){var e=this._list.getSelection();e.push(this._model.getItem(1));this.flush();this.assertEquals(1,this._list.getSelection().getLength(),"On List");var t=new qx.data.Array([this._model.getItem(1)]);this.assertDataArrayEquals(e,t,"On List");t.dispose();var i=this._list._manager.getSelectedItem();i=this._list._getDataFromRow(i);this.assertEquals(this._model.getItem(1),i)},testInvalidSelection:function(){(t=this._list.getSelection()).push(this._model.getItem(1));t.push(this._model.getItem(2));this.flush();this.assertEquals(1,this._list.getSelection().getLength(),"On List");var e=new qx.data.Array([this._model.getItem(2)]);this.assertDataArrayEquals(t,e,"On List");e.dispose();var t=this._list._manager.getSelection();this.assertEquals(1,t.length);this.assertEquals(2,t[0])},testSelectionByUserInteraction:function(){var e=this._list.getSelection();this._list._manager.selectItem(2);this.flush();this.assertEquals(1,e.getLength());this.assertEquals(this._model.getItem(2),e.getItem(0));this.assertEquals(2,this._list._manager.getSelectedItem())},testSelectionEventByUserInteraction:function(){var e=this._list.getSelection(),t=this;this.assertEventFired(e,"change",function(){t._list._manager.selectItem(2);t.flush()},function(i){t.assertEquals(1,e.getLength());t.assertEquals(t._model.getItem(2),e.getItem(0));t.assertEquals(2,t._list._manager.getSelectedItem())})},testSelectionWithSorter:function(){this._list.setDelegate({sorter:function(e,t){return e<t?1:e>t?-1:0}});this.testSelection()},testSelectionWithFilter:function(){this._list.setDelegate({filter:function(e){return parseInt(e.slice(5,e.length),10)%2==1}});(t=this._list.getSelection()).push(this._model.getItem(1));this.flush();this.assertEquals(1,this._list.getSelection().getLength(),"On List");var e=new qx.data.Array([this._model.getItem(1)]);this.assertDataArrayEquals(t,e,"On List");e.dispose();var t=this._list._manager.getSelection();this.assertEquals(1,t.length);this.assertEquals(0,t[0])},testInvalidSelectionWithFilter:function(){this._list.setDelegate({filter:function(e){return parseInt(e.slice(5,e.length),10)%2==1}});(e=this._list.getSelection()).push(this._model.getItem(0));this.flush();this.assertEquals(0,this._list.getSelection().getLength(),"On List");var e=this._list._manager.getSelection();this.assertEquals(0,e.length)},testApplyFilterAfterSelection:function(){(e=this._list.getSelection()).push(this._model.getItem(0));this.flush();this._list.setDelegate({filter:function(e){return parseInt(e.slice(5,e.length),10)%2==1}});this.flush();this.assertEquals(0,this._list.getSelection().getLength(),"On List");var e=this._list._manager.getSelection();this.assertEquals(0,e.length,"On Manager")},testApplySortingAfterSelection:function(){(e=this._list.getSelection()).push(this._model.getItem(0));this.flush();this.assertEquals(1,this._list.getSelection().getLength(),"On List");var e=this._list._manager.getSelection();this.assertEquals(1,e.length,"On Manager");this._list.setDelegate({sorter:function(e,t){return e<t?1:e>t?-1:0}});this.flush();var t=new qx.data.Array([this._model.getItem(0)]);this.assertDataArrayEquals(t,this._list.getSelection(),"On List");t.dispose();e=this._list._manager.getSelection();this.assertEquals(1,e.length,"On Manager");this.assertEquals(this._model.getLength()-1,this._list._manager.getSelection()[0],"Row is wrong on Manager")},testRemoveItem:function(){(e=this._list.getSelection()).push(this._model.getItem(0));this.flush();this._model.removeAt(0);this.flush();this.assertEquals(0,this._list.getSelection().getLength(),"On List");var e=this._list._manager.getSelection();this.assertEquals(0,e.length,"On Manager")},testRemoveItemWithGrouping:function(){this._list.setDelegate({group:function(e){return e}});var e=this._model.getLength()-1;(t=this._list.getSelection()).push(this._model.getItem(e));this.flush();this._model.removeAt(e);this.flush();this.assertEquals(0,this._list.getSelection().getLength(),"On List");var t=this._list._manager.getSelection();this.assertEquals(0,t.length,"On Manager")}}});qx.test.ui.list.core.SingleSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dom.Element":{},"qx.bom.element.Style":{},"qx.ui.root.Inline":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.root.Inline",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__inlineIsleElement=qx.dom.Element.create("div");qx.bom.element.Style.setCss(this.__inlineIsleElement,"position:absolute;top:50px;left:50px;width:200px;height:200px");qx.dom.Element.insertBegin(this.__inlineIsleElement,document.body)},tearDown:function(){qx.dom.Element.remove(this.__inlineIsleElement)},testAppearEvent:function(){var e=new qx.ui.root.Inline(this.__inlineIsleElement);e.addListener("appear",function(t){this.resume(function(){this.assertTrue(qx.dom.Element.isInDom(e.getContentElement().getDomElement()))},this)},this);this.wait()}}});qx.test.ui.root.Inline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.event.handler.ElementResize":{defer:"runtime"},"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.root.Abstract":{construct:!0,require:!0},"qx.ui.core.MLayoutHandling":{defer:"runtime",require:!0},"qx.ui.layout.Basic":{construct:!0},"qx.ui.core.queue.Layout":{construct:!0},"qx.ui.core.FocusHandler":{construct:!0},"qx.bom.client.Engine":{construct:!0},"qx.dom.Node":{construct:!0},"qx.event.Registration":{construct:!0,defer:"runtime"},"qx.bom.element.Dimension":{},"qx.bom.element.Style":{},"qx.html.Root":{},"qx.event.Timer":{}},environment:{provided:[],required:{"engine.name":{construct:!0,className:"qx.bom.client.Engine"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.root.Inline",{extend:qx.ui.root.Abstract,include:[qx.ui.core.MLayoutHandling],construct:function(e,t,i){this.assertElement(e,"Please use a DOM element to create an inline root.");this.__elem=e;e.style.overflow="hidden";e.style.textAlign="left";this.__dynX=t||!1;this.__dynY=i||!1;this.__initDynamicMode();qx.ui.root.Abstract.constructor.call(this);this._setLayout(new qx.ui.layout.Basic);qx.ui.core.queue.Layout.add(this);qx.ui.core.FocusHandler.getInstance().connectTo(this);"mshtml"==qx.core.Environment.get("engine.name")&&this.setKeepFocus(!0);var n=qx.dom.Node.getWindow(e);qx.event.Registration.addListener(n,"resize",this._onWindowResize,this);this.getContentElement().setStyle("-webkit-backface-visibility","hidden")},members:{__dynX:!1,__dynY:!1,__elem:null,__initDynamicMode:function(){if(this.__dynX||this.__dynY){var e=qx.bom.element.Dimension.getSize(this.__elem);if(this.__dynX&&e.width<1)throw new Error("The root element "+this.__elem+" of "+this+" needs a width when its width size should be used!");if(this.__dynY){if(e.height<1)throw new Error("The root element "+this.__elem+" of "+this+" needs a height when its height size should be used!");e.height>=1&&""==qx.bom.element.Style.get(this.__elem,"height",3)&&qx.bom.element.Style.set(this.__elem,"height",e.height+"px")}qx.event.Registration.addListener(this.__elem,"resize",this._onResize,this)}},_createContentElement:function(){var e=this.__elem;if(this.__dynX||this.__dynY){var t=document.createElement("div");e.appendChild(t)}else t=e;var i=new qx.html.Root(t);t.style.position="relative";i.connectWidget(this);qx.event.Timer.once(function(e){this.fireEvent("appear")},this,0);return i},_onResize:function(e){var t=e.getData();(t.oldWidth!==t.width&&this.__dynX||t.oldHeight!==t.height&&this.__dynY)&&qx.ui.core.queue.Layout.add(this)},_onWindowResize:function(){qx.ui.popup&&qx.ui.popup.Manager&&qx.ui.popup.Manager.getInstance().hideAll();qx.ui.menu&&qx.ui.menu.Manager&&qx.ui.menu.Manager.getInstance().hideAll()},_computeSizeHint:function(){var e=this.__dynX,t=this.__dynY;if(e&&t)i={};else var i=qx.ui.root.Inline.prototype._computeSizeHint.base.call(this);var n=qx.bom.element.Dimension;if(e){var s=n.getContentWidth(this.__elem);i.width=s;i.minWidth=s;i.maxWidth=s}if(t){var r=n.getContentHeight(this.__elem);i.height=r;i.minHeight=r;i.maxHeight=r}return i}},defer:function(e,t){qx.ui.core.MLayoutHandling.remap(t)},destruct:function(){qx.event.Registration.removeListener(this.__elem,"resize",this._onResize,this);this.__elem=null}});qx.ui.root.Inline.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.IEventHandler":{require:!0},"qx.core.IDisposable":{require:!0},"qx.event.Timer":{construct:!0},"qx.event.Registration":{defer:"runtime",require:!0},"qx.core.ObjectRegistry":{},"qx.bom.element.Dimension":{},"qx.lang.Object":{},"qx.event.type.Data":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.event.handler.ElementResize",{extend:qx.core.Object,implement:[qx.event.IEventHandler,qx.core.IDisposable],construct:function(e){qx.core.Object.constructor.call(this);this.__manager=e;this.__elements={};this.__timer=new qx.event.Timer(200);this.__timer.addListener("interval",this._onInterval,this)},statics:{PRIORITY:qx.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{resize:!0},TARGET_CHECK:qx.event.IEventHandler.TARGET_DOMNODE,IGNORE_CAN_HANDLE:!1},members:{__elements:null,__manager:null,__timer:null,canHandleEvent:function(e,t){return"body"!==e.tagName.toLowerCase()},registerEvent:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e),s=this.__elements;if(!s[n]){s[n]={element:e,width:qx.bom.element.Dimension.getWidth(e),height:qx.bom.element.Dimension.getHeight(e)};this.__timer.start()}},unregisterEvent:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(e),s=this.__elements;if(s[n]){delete s[n];qx.lang.Object.isEmpty(s)&&this.__timer.stop()}},_onInterval:function(e){var t=this.__elements;for(var i in t){var n=t[i],s=n.element,r=qx.bom.element.Dimension.getWidth(s),o=qx.bom.element.Dimension.getHeight(s);if(n.height!==o||n.width!==r){qx.event.Registration.fireNonBubblingEvent(s,"resize",qx.event.type.Data,[{width:r,oldWidth:n.width,height:o,oldHeight:n.height}]);n.width=r;n.height=o}}}},destruct:function(){this.__manager=this.__elements=null;this._disposeObjects("__timer")},defer:function(e){qx.event.Registration.addHandler(e)}});qx.event.handler.ElementResize.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.AbstractSingleSelectonTest",{extend:qx.test.ui.LayoutTestCase,type:"abstract",members:{_widget:null,_mode:null,_selection:null,_notInSelection:null,_getChildren:function(){throw new Error("Abstract method call: _getChildren()")},_createTestElement:function(e){throw new Error("Abstract method call: _createTestElement()")},_assertArrayEquals:function(e,t,i){e.sort();t.sort();this.assertArrayEquals(e,t,i)},testGetSelection:function(){var e=this._widget.getSelection();this._assertArrayEquals(this._selection,e,"The result of the selection is wrong")},testSetSelection:function(){this._testSetSelection([this._notInSelection[0]])},testDisabledSetSelection:function(){this._widget.setEnabled(!1);this._testSetSelection([this._notInSelection[0]])},_testSetSelection:function(e){var t=this,i=this._widget;this._selection=e;this.assertEventFired(i,"changeSelection",function(){i.setSelection(t._selection);t.flush()},function(e){var i=e.getData();t._assertArrayEquals(t._selection,i,"The result of the 'changeSelection' event is wrong!")},"'changeSelection' event not fired!");var n=this._widget.getSelection();this._assertArrayEquals(this._selection,n,"The result of 'getSelection' method is wrong!")},testSameSetSelection:function(){var e=this,t=this._widget;this._assertArrayEquals(this._selection,this._widget.getSelection(),"The test setup is wrong!");this.assertEventNotFired(t,"changeSelection",function(){t.setSelection(e._selection)},function(e){},"'changeSelection' event fired!")},testSetSelectionWithNotChildElement:function(){var e=this._createTestElement("Test Element"),t=this;this.assertException(function(){t._widget.setSelection([e])},Error,null,"No error occurs by trying to select an element which isn't a child element!");e.destroy()},testSetSelectionWithTooMuchElements:function(){var e=[this._selection[0],this._notInSelection[0]],t=this;this.assertException(function(){t._widget.setSelection(e)},Error,null,"It isn't possible to select more than one element!");this._assertArrayEquals(this._selection,this._widget.getSelection(),"The wrong setSelection call has changed the old seclection!")},testResetSelection:function(){var e=this._widget,t=this;this.assertEventFired(e,"changeSelection",function(){e.resetSelection();t.flush()},function(e){"one"===t._mode?t._assertArrayEquals([t._getChildren()[0]],e.getData(),"The first element isn't selected!"):t.assertIdentical(0,e.getData().length,"Event isn't empty!")},"'changeSelection' event not fired!");var i=this._widget.getSelection();"one"===this._mode?this._assertArrayEquals([this._getChildren()[0]],i,"The first element isn't selected!"):this.assertIdentical(0,i.length,"The result isn't empty!")},testDisabledResetSelection:function(){this._widget.setEnabled(!1);this.testResetSelection()},testResetSelectionWithEmptySelection:function(){var e=this._widget,t=this;this.assertEventFired(e,"changeSelection",function(){e.setSelection([]);t.flush()},function(e){"one"===t._mode?t._assertArrayEquals([t._getChildren()[0]],e.getData(),"The first element isn't selected!"):t.assertIdentical(0,e.getData().length,"Event isn't empty!")},"'changeSelection' event not fired!");var i=this._widget.getSelection();"one"===this._mode?this._assertArrayEquals([this._getChildren()[0]],i,"The first element isn't selected!"):this.assertIdentical(0,i.length,"The result isn't empty!")},testIsSelected:function(){var e=this._widget.isSelected(this._selection[0]);this.assertTrue(e,"The wrong item is selected!");var t=this._notInSelection[0];e=this._widget.isSelected(t);this.assertFalse(e,"The wrong item is selected!")},testIsSelectedWithNotChildElement:function(){var e=this._createTestElement("Test Element"),t=this;this.assertException(function(){t._widget.isSelected(e)},Error,null,"No error occurs by calling 'isSelected' with an element which isn't a child element!");e.destroy()},testIsSelectionEmpty:function(){var e=this._widget.isSelectionEmpty();this.assertFalse(e,"The selection is empty!");this._widget.resetSelection();this.flush();e=this._widget.isSelectionEmpty();"one"===this._mode?this.assertFalse(e,"The selection is empty!"):this.assertTrue(e,"The selection isn't empty!")},testGetSelectables:function(){var e=this._getChildren(),t=this._widget.getSelectables(!0);this._assertArrayEquals(e,t,"This list of the returned selectables are wrong!")},testDisabledGetSelectables:function(){this._widget.setEnabled(!1);this.testGetSelectables()},testGetUserSelectables:function(){for(var e=[],t=this._getChildren(),i=0;i<t.length;i++)i%2==0?e.push(t[i]):t[i].setEnabled(!1);var n=this._widget.getSelectables();this._assertArrayEquals(e,n,"This list of the returned selectables are wrong!")}}});qx.test.ui.selection.AbstractSingleSelectonTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.AbstractMultiSelectonTest",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,type:"abstract",members:{testSetSelectionWithTooMuchElements:function(){},testSetSelection:function(){qx.test.ui.selection.AbstractMultiSelectonTest.prototype.testSetSelection.base.call(this);var e=[];e[0]=this._notInSelection[0];e[1]=this._notInSelection[1];e[2]=this._notInSelection[2];e[3]=this._notInSelection[3];e[4]=this._notInSelection[4];this._testSetSelection(e);this.flush()},testSetSelectionOverrideWithLess:function(){this._selection=[];this._selection[0]=this._notInSelection[0];this._selection[1]=this._notInSelection[1];this._selection[2]=this._notInSelection[2];this._selection[3]=this._notInSelection[3];this._selection[4]=this._notInSelection[4];this._widget.setSelection(this._selection);this.flush();var e=[this._selection[0],this._selection[2],this._selection[4]];this._widget.setSelection(e);var t=this._widget.getSelection();this._assertArrayEquals(e,t,"Selection is wrong");this._widget.setSelection(this._selection);this._widget.setSelection([this._selection[0]]);t=this._widget.getSelection();e=[this._selection[0]];this._assertArrayEquals(e,t,"Selection is wrong");this.flush()},testSelectAll:function(){this._widget.resetSelection();var e=this._widget,t=this;this.assertEventFired(e,"changeSelection",function(){e.selectAll();t.flush()},function(e){t._assertArrayEquals(t._getChildren(),e.getData(),"Selection is wrong!")},"'changeSelection' event not fired!");this.assertEventNotFired(e,"changeSelection",function(){e.selectAll()},function(e){},"'changeSelection' event fired!");this._selection=this._widget.getSelection();this._assertArrayEquals(this._getChildren(),this._selection,"Selection is wrong!")},testAddToSelection:function(){var e=this._notInSelection[0];this._selection[this._selection.length]=e;var t=this._widget,i=this;this.assertEventFired(t,"changeSelection",function(){t.addToSelection(e);i.flush()},function(e){i._assertArrayEquals(i._selection,e.getData(),"The result of the selection is wrong")},"'changeSelection' event not fired!");this.assertEventNotFired(t,"changeSelection",function(){t.addToSelection(e)},function(e){},"'changeSelection' event fired!");this._assertArrayEquals(this._selection,this._widget.getSelection(),"Selection is wrong")},testAddToSelectionWithNotChildElement:function(){var e=this,t=this._createTestElement("Test Element");this.assertException(function(){e._widget.addToSelection(t)},Error,null,"No error occurs by trying to add an element to the selection which isn't a child element!");t.destroy()},testRemoveFromSelection:function(){var e=this._selection,t=e[e.length-1];delete e[e.length-1];e.length=e.length-1;var i=this._widget,n=this;this.assertEventFired(i,"changeSelection",function(){i.removeFromSelection(t);n.flush()},function(e){n._assertArrayEquals(n._selection,e.getData(),"The result of the selection is wrong")},"'changeSelection' event not fired!");this._assertArrayEquals(this._selection,this._widget.getSelection(),"Selection is wrong")},testRemoveFromSelectionWithNotChildElement:function(){var e=this,t=this._createTestElement("Test Element");this.assertException(function(){e._widget.removeFromSelection(t)},Error,null,"No error occurs by trying to remove an element which isn't a child element!");t.destroy()},testRemoveFromSelectionWithNotSelectedElement:function(){var e=this._notInSelection[0],t=this._widget;this.assertEventNotFired(t,"changeSelection",function(){t.removeFromSelection(e)},function(e){},"'changeSelection' event fired!")},testInvertSelection:function(){var e=this,t=this._widget;this.assertEventFired(t,"changeSelection",function(){t.invertSelection();e.flush()},function(t){e._assertArrayEquals(e._notInSelection,t.getData(),"The result of the selection is wrong")},"'changeSelection' event not fired!");this._assertArrayEquals(this._notInSelection,this._widget.getSelection(),"Selection is wrong")},testInvertSelectionWithErrors:function(){var e=this._widget;e.setSelectionMode("single");this.assertException(function(){e.invertSelection()},Error,null,"No error occurs by trying to invert elements in 'single' selection mode!")},testInvertSelectionWithDisabledChildElements:function(){for(var e=[],t=0;t<this._notInSelection.length;t++)e.push(this._notInSelection[t]);this._notInSelection=e;var i=this,n=this._widget;this.assertEventFired(n,"changeSelection",function(){n.invertSelection();i.flush()},function(e){i._assertArrayEquals(i._notInSelection,e.getData(),"The result of the selection is wrong")},"'changeSelection' event not fired!");this._assertArrayEquals(this._notInSelection,this._widget.getSelection(),"Selection is wrong")}}});qx.test.ui.selection.AbstractMultiSelectonTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractMultiSelectonTest":{require:!0},"qx.ui.form.List":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.ListMultiSelection",{extend:qx.test.ui.selection.AbstractMultiSelectonTest,members:{setUp:function(){this._selection=[];this._notInSelection=[];this._mode="multi";this._widget=(new qx.ui.form.List).set({selectionMode:this._mode,width:200,height:400});this.getRoot().add(this._widget);var e=this._widget.getSelection();this.assertIdentical(e.length,0,"Couldn't setup test, because selection isn't empty");for(var t=0;t<10;t++){var i=new qx.ui.form.ListItem("ListItem"+t);this._widget.add(i);if(t%2==0){this._widget.addToSelection(i);this._selection.push(i)}else this._notInSelection.push(i)}this.flush()},tearDown:function(){qx.test.ui.selection.ListMultiSelection.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getChildren():[]},_createTestElement:function(e){return new qx.ui.form.ListItem(e)}}});qx.test.ui.selection.ListMultiSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.form.List":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.ListSingleSelection",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{setUp:function(){this._notInSelection=[];this._mode="single";this._widget=(new qx.ui.form.List).set({selectionMode:this._mode,width:200,height:400});this.getRoot().add(this._widget);for(var e=0;e<10;e++){var t=new qx.ui.form.ListItem("ListItem"+e);this._widget.add(t);if(5==e){this.assertIdentical(0,this._widget.getSelection().length,"Couldn't setup test, because selection isn't empty");this._widget.setSelection([t]);this._selection=[t]}else this._notInSelection.push(t)}this.flush()},tearDown:function(){qx.test.ui.selection.ListSingleSelection.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getChildren():[]},_createTestElement:function(e){return new qx.ui.form.ListItem(e)}}});qx.test.ui.selection.ListSingleSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.form.RadioGroup":{},"qx.ui.form.RadioButton":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.RadioGroup",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{__radioButtons:null,setUp:function(){this._mode="one";this.__radioButtons=[];this._notInSelection=[];this._widget=new qx.ui.form.RadioGroup;for(var e=this.getRoot(),t=0;t<10;t++){var i=new qx.ui.form.RadioButton("RadioButton"+t);e.add(i,{top:20*t});this._widget.add(i);this.__radioButtons.push(i);if(5==t){this._widget.setSelection([i]);this._selection=[i]}else this._notInSelection.push(i)}this.flush()},tearDown:function(){qx.test.ui.selection.RadioGroup.prototype.tearDown.base.call(this);for(var e=0;e<this.__radioButtons.length;e++)this.__radioButtons[e].destroy();this.__radioButtons=null;this._widget.dispose();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getItems():[]},_createTestElement:function(e){return new qx.ui.form.RadioButton(e)},testAllowEmptySelection:function(){this._mode="";this._widget.setAllowEmptySelection(!0);this.testResetSelection();this._widget.setAllowEmptySelection(!1);var e=this._widget.getSelection();this._assertArrayEquals([this._widget.getSelectables()[0]],e,"The result of 'getSelection' method is wrong!")},testAdd:function(){var e=new qx.ui.form.RadioGroup,t=new qx.ui.form.RadioButton("RadioButton");e.add(t);var i=e.getSelection();this._assertArrayEquals([e.getSelectables()[0]],i,"The result of 'getSelection' method is wrong!");e.dispose();t.destroy()},testAddWithAllowEmptySelection:function(){var e=new qx.ui.form.RadioGroup;e.setAllowEmptySelection(!0);var t=new qx.ui.form.RadioButton("RadioButton");e.add(t);var i=e.getSelection();this.assertEquals(0,i.length,"The result of 'getSelection' method is wrong!");e.dispose();t.destroy()},testSetGroup:function(){var e=new qx.ui.form.RadioButton,t=new qx.ui.form.RadioButton,i=new qx.ui.form.RadioGroup;e.setGroup(i);t.setGroup(i);this.assertEquals(e,i.getItems()[0],"First button not in the group.");this.assertEquals(t,i.getItems()[1],"Second button not in the group.");i.dispose();t.dispose();e.dispose()}}});qx.test.ui.selection.RadioGroup.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.form.SelectBox":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.SelectBox",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{setUp:function(){this._notInSelection=[];this._mode="one";this._widget=new qx.ui.form.SelectBox;this.getRoot().add(this._widget);for(var e=0;e<10;e++){var t=new qx.ui.form.ListItem("ListItem"+e);this._widget.add(t);if(5==e){this._widget.setSelection([t]);this._selection=[t]}else this._notInSelection.push(t)}this.flush()},tearDown:function(){qx.test.ui.selection.SelectBox.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},testResetSelectionAllowEmpty:function(){this._mode="single";this._widget.getChildrenContainer().setSelectionMode(this._mode);this.testResetSelection()},_getChildren:function(){return null!=this._widget?this._widget.getChildrenContainer().getChildren():[]},_createTestElement:function(e){return new qx.ui.form.ListItem(e)}}});qx.test.ui.selection.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.container.Stack":{},"qx.ui.tabview.Page":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.Stack",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{__radioButtons:null,setUp:function(){this._notInSelection=[];this._mode="";var e=[{background:"blue",textColor:"white"},{background:"red",textColor:"black"},{background:"green",textColor:"black"},{background:"yellow",textColor:"black"},{background:"brown",textColor:"white"},{background:"aqua",textColor:"black"},{background:"fuchsia",textColor:"black"},{background:"silver",textColor:"white"},{background:"black",textColor:"white"},{background:"white",textColor:"black"}];this._widget=new qx.ui.container.Stack;this.getRoot().add(this._widget);for(var t=0;t<10;t++){var i=this.__createItem("Page"+t,e[t]);this._widget.add(i);if(5==t){this._widget.setSelection([i]);this._selection=[i]}else this._notInSelection.push(i)}this.flush()},tearDown:function(){qx.test.ui.selection.Stack.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getChildren():[]},_createTestElement:function(e){return new qx.ui.tabview.Page(e)},__createItem:function(e,t){return new qx.ui.basic.Label(e).set({width:300,height:300,allowShrinkX:!1,allowShrinkY:!1,backgroundColor:t.background,textColor:t.textColor,padding:10})}}});qx.test.ui.selection.Stack.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.tabview.TabView":{},"qx.ui.tabview.Page":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.TabView",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{__radioButtons:null,setUp:function(){this._notInSelection=[];this._mode="one";this._widget=new qx.ui.tabview.TabView;this.getRoot().add(this._widget);for(var e=0;e<10;e++){var t=new qx.ui.tabview.Page("Page"+e);this._widget.add(t);if(5==e){this._widget.setSelection([t]);this._selection=[t]}else this._notInSelection.push(t)}this.flush()},tearDown:function(){qx.test.ui.selection.TabView.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getChildren():[]},testAddAtIndex:function(){var e=parseInt(this._widget.getChildren().length/2),t=new qx.ui.tabview.Page("insertedPage_"+e);this._widget.addAt(t,e);this.assertEquals(t.getLabel(),this._widget.getChildren()[e].getLabel())},testAddPage:function(){var e=new qx.ui.tabview.Page("insertedPage_Last");this._widget.add(e);this.assertEquals(e.getLabel(),this._widget.getChildren()[this._widget.getChildren().length-1].getLabel())},testAddAtLastIndex:function(){var e=this._widget.getChildren().length,t=new qx.ui.tabview.Page("insertedPage_"+e);this._widget.addAt(t,e);this.assertEquals(t.getLabel(),this._widget.getChildren()[e].getLabel());this.assertEquals(t.getLabel(),this._widget.getChildren()[this._widget.getChildren().length-1].getLabel())},_createTestElement:function(e){return new qx.ui.tabview.Page(e)}}});qx.test.ui.selection.TabView.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractMultiSelectonTest":{require:!0},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.ui.tree.TreeFile":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.TreeMultiSelection",{extend:qx.test.ui.selection.AbstractMultiSelectonTest,members:{setUp:function(){this._selection=[];this._notInSelection=[];this._mode="multi";this._widget=(new qx.ui.tree.Tree).set({selectionMode:this._mode,width:200,height:400});this.getRoot().add(this._widget);var e=new qx.ui.tree.TreeFolder("Root");e.setOpen(!0);this._widget.setRoot(e);this._notInSelection.push(e);for(var t=0;t<10;t++){var i=new qx.ui.tree.TreeFolder("Folder"+t);i.setOpen(!0);this._notInSelection.push(i);var n=new qx.ui.tree.TreeFile("File"+t);i.add(n);e.add(i);if(t%2==0){this._widget.addToSelection(n);this._selection.push(n)}else this._notInSelection.push(n)}this.flush()},tearDown:function(){qx.test.ui.selection.TreeMultiSelection.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getItems():[]},_createTestElement:function(e){return new qx.ui.tree.TreeFile(e)}}});qx.test.ui.selection.TreeMultiSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.selection.AbstractSingleSelectonTest":{require:!0},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.ui.tree.TreeFile":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.selection.TreeSingleSelection",{extend:qx.test.ui.selection.AbstractSingleSelectonTest,members:{setUp:function(){this._notInSelection=[];this._mode="single";this._widget=(new qx.ui.tree.Tree).set({selectionMode:this._mode,width:200,height:400});this.getRoot().add(this._widget);var e=new qx.ui.tree.TreeFolder("Root");e.setOpen(!0);this._widget.setRoot(e);for(var t=0;t<10;t++){var i=new qx.ui.tree.TreeFolder("Folder"+t);i.setOpen(!0);var n=new qx.ui.tree.TreeFile("File"+t);i.add(n);e.add(i);if(5==t){this.assertIdentical(0,this._widget.getSelection().length,"Couldn't setup test, because selection isn't empty");this._widget.setSelection([n]);this._selection=[n]}else this._notInSelection.push(n)}this.flush()},tearDown:function(){qx.test.ui.selection.TreeSingleSelection.prototype.tearDown.base.call(this);this._widget.destroy();this._widget=null;this._selection=null;this._notInSelection=null;this.flush()},_getChildren:function(){return null!=this._widget?this._widget.getItems():[]},_createTestElement:function(e){return new qx.ui.tree.TreeFile(e)},testFolderOpen:function(){var e=new qx.ui.tree.Tree;this.getRoot().add(e);var t=new qx.ui.tree.TreeFolder("root");e.setRoot(t);var i=new qx.ui.tree.TreeFolder("f1"),n=new qx.ui.tree.TreeFolder("f2");t.add(i);i.add(n);e.setSelection([i]);this.assertTrue(t.getOpen());t.setOpen(!1);e.setSelection([n]);this.assertTrue(t.getOpen());this.assertTrue(i.getOpen());i.destroy();n.destroy();t.destroy();e.destroy()}}});qx.test.ui.selection.TreeSingleSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.model.Simple":{},"qx.ui.table.Table":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.Dispose",{extend:qx.test.ui.LayoutTestCase,members:{createModel:function(){var e=new qx.ui.table.model.Simple;e.setColumns(["ID","A number","A date","Boolean"]);e.setData(this.createRandomRows(200));return e},createRandomRows:function(e){for(var t=[],i=(new Date).getTime(),n=0,s=0;s<e;s++){var r=new Date(i+3456e7*Math.random()-1728e7);t.push([n++,1e4*Math.random(),r,Math.random()>.5])}return t},testSimple:function(){this.assertDestroy(function(){var e=this.createModel(),t=new qx.ui.table.Table(e);this.getRoot().add(t);this.flush();t.destroy();e.dispose()},this,"Dispose simple table")},changeModel:function(e){var t=e.getTableModel();e.setTableModel(this.createModel());t.dispose()},testChangeModel:function(){this.assertDestroy(function(){var e=new qx.ui.table.Table(this.createModel());this.changeModel(e);this.getRoot().add(e);this.flush();this.changeModel(e);var t=e.getTableModel();e.destroy();t.dispose()},this,"Dispose table with changed model")}}});qx.test.ui.table.Dispose.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.ITableModel",{events:{dataChanged:"qx.event.type.Data",metaDataChanged:"qx.event.type.Event",sorted:"qx.event.type.Data"},members:{getRowCount:function(){},getRowData:function(e){},getColumnCount:function(){},getColumnId:function(e){},getColumnIndexById:function(e){},getColumnName:function(e){},isColumnEditable:function(e){},isColumnSortable:function(e){},sortByColumn:function(e,t){},getSortColumnIndex:function(){},isSortAscending:function(){},prefetchRows:function(e,t){},getValue:function(e,t){},getValueById:function(e,t){},setValue:function(e,t,i){},setValueById:function(e,t,i){}}});qx.ui.table.ITableModel.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.table.ITableModel":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.model.Abstract",{type:"abstract",extend:qx.core.Object,implement:qx.ui.table.ITableModel,events:{dataChanged:"qx.event.type.Data",metaDataChanged:"qx.event.type.Event",sorted:"qx.event.type.Data"},construct:function(){qx.core.Object.constructor.call(this);this.__columnIdArr=[];this.__columnNameArr=[];this.__columnIndexMap={}},members:{__columnIdArr:null,__columnNameArr:null,__columnIndexMap:null,__internalChange:null,init:function(e){},getRowCount:function(){throw new Error("getRowCount is abstract")},getRowData:function(e){return null},isColumnEditable:function(e){return!1},isColumnSortable:function(e){return!1},sortByColumn:function(e,t){},getSortColumnIndex:function(){return-1},isSortAscending:function(){return!0},prefetchRows:function(e,t){},getValue:function(e,t){throw new Error("getValue is abstract")},getValueById:function(e,t){return this.getValue(this.getColumnIndexById(e),t)},setValue:function(e,t,i){throw new Error("setValue is abstract")},setValueById:function(e,t,i){this.setValue(this.getColumnIndexById(e),t,i)},getColumnCount:function(){return this.__columnIdArr.length},getColumnIndexById:function(e){return this.__columnIndexMap[e]},getColumnId:function(e){return this.__columnIdArr[e]},getColumnName:function(e){return this.__columnNameArr[e]},setColumnIds:function(e){this.__columnIdArr=e;this.__columnIndexMap={};for(var t=0;t<e.length;t++)this.__columnIndexMap[e[t]]=t;this.__columnNameArr=new Array(e.length);this.__internalChange||this.fireEvent("metaDataChanged")},setColumnNamesByIndex:function(e){if(this.__columnIdArr.length!=e.length)throw new Error("this.__columnIdArr and columnNameArr have different length: "+this.__columnIdArr.length+" != "+e.length);this.__columnNameArr=e;this.fireEvent("metaDataChanged")},setColumnNamesById:function(e){this.__columnNameArr=new Array(this.__columnIdArr.length);for(var t=0;t<this.__columnIdArr.length;++t)this.__columnNameArr[t]=e[this.__columnIdArr[t]]},setColumns:function(e,t){var i=0==this.__columnIdArr.length||t;null==t&&(t=0==this.__columnIdArr.length?e:this.__columnIdArr);if(t.length!=e.length)throw new Error("columnIdArr and columnNameArr have different length: "+t.length+" != "+e.length);if(i){this.__internalChange=!0;this.setColumnIds(t);this.__internalChange=!1}this.setColumnNamesByIndex(e)}},destruct:function(){this.__columnIdArr=this.__columnNameArr=this.__columnIndexMap=null}});qx.ui.table.model.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.model.Abstract":{construct:!0,require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.model.Simple",{extend:qx.ui.table.model.Abstract,construct:function(){qx.ui.table.model.Abstract.constructor.call(this);this._rowArr=[];this.__sortColumnIndex=-1;this.__sortMethods=[];this.__editableColArr=null},properties:{caseSensitiveSorting:{check:"Boolean",init:!0}},statics:{_defaultSortComparatorAscending:function(e,t,i){var n=e[i],s=t[i];if(qx.lang.Type.isNumber(n)&&qx.lang.Type.isNumber(s)){var r=isNaN(n)?isNaN(s)?0:1:isNaN(s)?-1:null;if(null!=r)return r}return n>s?1:n==s?0:-1},_defaultSortComparatorInsensitiveAscending:function(e,t,i){var n=e[i].toLowerCase?e[i].toLowerCase():e[i],s=t[i].toLowerCase?t[i].toLowerCase():t[i];if(qx.lang.Type.isNumber(n)&&qx.lang.Type.isNumber(s)){var r=isNaN(n)?isNaN(s)?0:1:isNaN(s)?-1:null;if(null!=r)return r}return n>s?1:n==s?0:-1},_defaultSortComparatorDescending:function(e,t,i){var n=e[i],s=t[i];if(qx.lang.Type.isNumber(n)&&qx.lang.Type.isNumber(s)){var r=isNaN(n)?isNaN(s)?0:1:isNaN(s)?-1:null;if(null!=r)return r}return n<s?1:n==s?0:-1},_defaultSortComparatorInsensitiveDescending:function(e,t,i){var n=e[i].toLowerCase?e[i].toLowerCase():e[i],s=t[i].toLowerCase?t[i].toLowerCase():t[i];if(qx.lang.Type.isNumber(n)&&qx.lang.Type.isNumber(s)){var r=isNaN(n)?isNaN(s)?0:1:isNaN(s)?-1:null;if(null!=r)return r}return n<s?1:n==s?0:-1}},members:{_rowArr:null,__editableColArr:null,__sortableColArr:null,__sortMethods:null,__sortColumnIndex:null,__sortAscending:null,getRowData:function(e){var t=this._rowArr[e];return null==t||null==t.originalData?t:t.originalData},getRowDataAsMap:function(e){var t=this._rowArr[e];if(null!=t){for(var i={},n=0;n<this.getColumnCount();n++)i[this.getColumnId(n)]=t[n];if(null!=t.originalData)for(var s in t.originalData)void 0==i[s]&&(i[s]=t.originalData[s]);return i}return t&&t.originalData?t.originalData:null},getDataAsMapArray:function(){for(var e=this.getRowCount(),t=[],i=0;i<e;i++)t.push(this.getRowDataAsMap(i));return t},setEditable:function(e){this.__editableColArr=[];for(var t=0;t<this.getColumnCount();t++)this.__editableColArr[t]=e;this.fireEvent("metaDataChanged")},setColumnEditable:function(e,t){if(t!=this.isColumnEditable(e)){null==this.__editableColArr&&(this.__editableColArr=[]);this.__editableColArr[e]=t;this.fireEvent("metaDataChanged")}},isColumnEditable:function(e){return!!this.__editableColArr&&1==this.__editableColArr[e]},setColumnSortable:function(e,t){if(t!=this.isColumnSortable(e)){null==this.__sortableColArr&&(this.__sortableColArr=[]);this.__sortableColArr[e]=t;this.fireEvent("metaDataChanged")}},isColumnSortable:function(e){return!this.__sortableColArr||!1!==this.__sortableColArr[e]},sortByColumn:function(e,t){var i,n=this.__sortMethods[e];(i=n?t?n.ascending:n.descending:this.getCaseSensitiveSorting()?t?qx.ui.table.model.Simple._defaultSortComparatorAscending:qx.ui.table.model.Simple._defaultSortComparatorDescending:t?qx.ui.table.model.Simple._defaultSortComparatorInsensitiveAscending:qx.ui.table.model.Simple._defaultSortComparatorInsensitiveDescending).columnIndex=e;this._rowArr.sort(function(t,n){return i(t,n,e)});this.__sortColumnIndex=e;this.__sortAscending=t;var s={columnIndex:e,ascending:t};this.fireDataEvent("sorted",s);this.fireEvent("metaDataChanged")},setSortMethods:function(e,t){var i;i=qx.lang.Type.isFunction(t)?{ascending:t,descending:function(e,i,n){t.columnIndex=n;return t(i,e,n)}}:t;this.__sortMethods[e]=i},getSortMethods:function(e){return this.__sortMethods[e]},clearSorting:function(){if(-1!=this.__sortColumnIndex){this.__sortColumnIndex=-1;this.__sortAscending=!0;this.fireEvent("metaDataChanged")}},getSortColumnIndex:function(){return this.__sortColumnIndex},_setSortColumnIndex:function(e){this.__sortColumnIndex=e},isSortAscending:function(){return this.__sortAscending},_setSortAscending:function(e){this.__sortAscending=e},getRowCount:function(){return this._rowArr.length},getValue:function(e,t){if(t<0||t>=this._rowArr.length)throw new Error("this._rowArr out of bounds: "+t+" (0.."+this._rowArr.length+")");return this._rowArr[t][e]},setValue:function(e,t,i){if(this._rowArr[t][e]!=i){this._rowArr[t][e]=i;if(this.hasListener("dataChanged")){var n={firstRow:t,lastRow:t,firstColumn:e,lastColumn:e};this.fireDataEvent("dataChanged",n)}e==this.__sortColumnIndex&&this.clearSorting()}},setData:function(e,t){this._rowArr=e;if(this.hasListener("dataChanged")){var i={firstRow:0,lastRow:e.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",i)}!1!==t&&this.clearSorting()},getData:function(){return this._rowArr},setDataAsMapArray:function(e,t,i){this.setData(this._mapArray2RowArr(e,t),i)},addRows:function(e,t,i){null==t&&(t=this._rowArr.length);e.splice(0,0,t,0);Array.prototype.splice.apply(this._rowArr,e);var n={firstRow:t,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",n);!1!==i&&this.clearSorting()},addRowsAsMapArray:function(e,t,i,n){this.addRows(this._mapArray2RowArr(e,i),t,n)},setRows:function(e,t,i){null==t&&(t=0);e.splice(0,0,t,e.length);Array.prototype.splice.apply(this._rowArr,e);var n={firstRow:t,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",n);!1!==i&&this.clearSorting()},setRowsAsMapArray:function(e,t,i,n){this.setRows(this._mapArray2RowArr(e,i),t,n)},removeRows:function(e,t,i){this._rowArr.splice(e,t);var n={firstRow:e,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1,removeStart:e,removeCount:t};this.fireDataEvent("dataChanged",n);!1!==i&&this.clearSorting()},_mapArray2RowArr:function(e,t){for(var i,n=e.length,s=this.getColumnCount(),r=new Array(n),o=0;o<n;++o){i=[];t&&(i.originalData=e[o]);for(var a=0;a<s;++a)i[a]=e[o][this.getColumnId(a)];r[o]=i}return r}},destruct:function(){this._rowArr=this.__editableColArr=this.__sortMethods=this.__sortableColArr=null}});qx.ui.table.model.Simple.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MDragDropScrolling":{require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.container.Composite":{construct:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.table.rowrenderer.Default":{construct:!0},"qx.locale.Manager":{construct:!0},"qx.ui.table.columnmenu.Button":{},"qx.ui.table.selection.Manager":{},"qx.ui.table.selection.Model":{},"qx.ui.table.columnmodel.Basic":{},"qx.ui.table.pane.Pane":{},"qx.ui.table.pane.Header":{},"qx.ui.table.pane.Scroller":{},"qx.ui.table.pane.Model":{},"qx.ui.basic.Label":{},"qx.ui.table.model.Simple":{},"qx.event.Registration":{},"qx.log.Logger":{},"qx.ui.table.pane.FocusIndicator":{},"qx.lang.Number":{},"qx.event.Timer":{},"qx.core.Assert":{},"qx.ui.table.IColumnMenuItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.Table",{extend:qx.ui.core.Widget,include:qx.ui.core.MDragDropScrolling,construct:function(e,t){qx.ui.core.Widget.constructor.call(this);t||(t={});t.initiallyHiddenColumns&&this.setInitiallyHiddenColumns(t.initiallyHiddenColumns);t.selectionManager&&this.setNewSelectionManager(t.selectionManager);t.selectionModel&&this.setNewSelectionModel(t.selectionModel);t.tableColumnModel&&this.setNewTableColumnModel(t.tableColumnModel);t.tablePane&&this.setNewTablePane(t.tablePane);t.tablePaneHeader&&this.setNewTablePaneHeader(t.tablePaneHeader);t.tablePaneScroller&&this.setNewTablePaneScroller(t.tablePaneScroller);t.tablePaneModel&&this.setNewTablePaneModel(t.tablePaneModel);t.columnMenu&&this.setNewColumnMenu(t.columnMenu);this._setLayout(new qx.ui.layout.VBox);this.__scrollerParent=new qx.ui.container.Composite(new qx.ui.layout.HBox);this._add(this.__scrollerParent,{flex:1});this.setDataRowRenderer(new qx.ui.table.rowrenderer.Default(this));this.__selectionManager=this.getNewSelectionManager()(this);this.setSelectionModel(this.getNewSelectionModel()(this));this.setTableModel(e||this.getEmptyTableModel());this.setMetaColumnCounts([-1]);this.setTabIndex(1);this.addListener("keydown",this._onKeyDown);this.addListener("focus",this._onFocusChanged);this.addListener("blur",this._onFocusChanged);var i=(new qx.ui.core.Widget).set({height:0});this._add(i);i.addListener("resize",this._onResize,this);this.__focusedCol=null;this.__focusedRow=null;qx.locale.Manager.getInstance().addListener("changeLocale",this._onChangeLocale,this);this.initStatusBarVisible();(e=this.getTableModel()).init&&"function"==typeof e.init&&e.init(this)},events:{columnVisibilityMenuCreateStart:"qx.event.type.Data",columnVisibilityMenuCreateEnd:"qx.event.type.Data",tableWidthChanged:"qx.event.type.Event",verticalScrollBarChanged:"qx.event.type.Data",cellTap:"qx.ui.table.pane.CellEvent",cellDbltap:"qx.ui.table.pane.CellEvent",cellContextmenu:"qx.ui.table.pane.CellEvent",dataEdited:"qx.event.type.Data"},statics:{__redirectEvents:{cellTap:1,cellDbltap:1,cellContextmenu:1}},properties:{appearance:{refine:!0,init:"table"},focusable:{refine:!0,init:!0},minWidth:{refine:!0,init:50},initiallyHiddenColumns:{init:null},selectable:{refine:!0,init:!1},selectionModel:{check:"qx.ui.table.selection.Model",apply:"_applySelectionModel",event:"changeSelectionModel"},tableModel:{check:"qx.ui.table.ITableModel",apply:"_applyTableModel",event:"changeTableModel"},rowHeight:{check:"Number",init:20,apply:"_applyRowHeight",event:"changeRowHeight",themeable:!0},forceLineHeight:{check:"Boolean",init:!0},headerCellsVisible:{check:"Boolean",init:!0,apply:"_applyHeaderCellsVisible",themeable:!0},headerCellHeight:{check:"Integer",init:16,apply:"_applyHeaderCellHeight",event:"changeHeaderCellHeight",nullable:!0,themeable:!0},statusBarVisible:{check:"Boolean",init:!0,apply:"_applyStatusBarVisible"},additionalStatusBarText:{nullable:!0,init:null,apply:"_applyAdditionalStatusBarText"},columnVisibilityButtonVisible:{check:"Boolean",init:!0,apply:"_applyColumnVisibilityButtonVisible",themeable:!0},metaColumnCounts:{check:"Object",apply:"_applyMetaColumnCounts"},focusCellOnPointerMove:{check:"Boolean",init:!1,apply:"_applyFocusCellOnPointerMove"},rowFocusChangeModifiesSelection:{check:"Boolean",init:!0},showCellFocusIndicator:{check:"Boolean",init:!0,apply:"_applyShowCellFocusIndicator"},contextMenuFromDataCellsOnly:{check:"Boolean",init:!0,apply:"_applyContextMenuFromDataCellsOnly"},keepFirstVisibleRowComplete:{check:"Boolean",init:!0,apply:"_applyKeepFirstVisibleRowComplete"},alwaysUpdateCells:{check:"Boolean",init:!1},resetSelectionOnHeaderTap:{check:"Boolean",init:!0,apply:"_applyResetSelectionOnHeaderTap"},dataRowRenderer:{check:"qx.ui.table.IRowRenderer",init:null,nullable:!0,event:"changeDataRowRenderer"},modalCellEditorPreOpenFunction:{check:"Function",init:null,nullable:!0},excludeScrollerScrollbarsIfNotNeeded:{check:"Boolean",init:!1,nullable:!1},newColumnMenu:{check:"Function",init:function(){return new qx.ui.table.columnmenu.Button}},newSelectionManager:{check:"Function",init:function(e){return new qx.ui.table.selection.Manager(e)}},newSelectionModel:{check:"Function",init:function(e){return new qx.ui.table.selection.Model(e)}},newTableColumnModel:{check:"Function",init:function(e){return new qx.ui.table.columnmodel.Basic(e)}},newTablePane:{check:"Function",init:function(e){return new qx.ui.table.pane.Pane(e)}},newTablePaneHeader:{check:"Function",init:function(e){return new qx.ui.table.pane.Header(e)}},newTablePaneScroller:{check:"Function",init:function(e){return new qx.ui.table.pane.Scroller(e)}},newTablePaneModel:{check:"Function",init:function(e){return new qx.ui.table.pane.Model(e)}}},members:{__focusedCol:null,__focusedRow:null,__scrollerParent:null,__selectionManager:null,__additionalStatusBarText:null,__lastRowCount:null,__internalChange:null,__columnMenuButtons:null,__columnModel:null,__emptyTableModel:null,__hadVerticalScrollBar:null,__timer:null,_createChildControlImpl:function(e,t){var i;switch(e){case"statusbar":(i=new qx.ui.basic.Label).set({allowGrowX:!0});this._add(i);break;case"column-button":(i=this.getNewColumnMenu()()).set({focusable:!1});i.factory("menu",{table:this}).addListener("appear",this._initColumnMenu,this)}return i||qx.ui.table.Table.prototype._createChildControlImpl.base.call(this,e)},_applySelectionModel:function(e,t){this.__selectionManager.setSelectionModel(e);null!=t&&t.removeListener("changeSelection",this._onSelectionChanged,this);e.addListener("changeSelection",this._onSelectionChanged,this)},_applyRowHeight:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].updateVerScrollBarMaximum()},_applyHeaderCellsVisible:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)e?i[n]._showChildControl("header"):i[n]._excludeChildControl("header");this.getColumnVisibilityButtonVisible()&&this._applyColumnVisibilityButtonVisible(e)},_applyHeaderCellHeight:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].getHeader().setHeight(e)},getEmptyTableModel:function(){if(!this.__emptyTableModel){this.__emptyTableModel=new qx.ui.table.model.Simple;this.__emptyTableModel.setColumns([]);this.__emptyTableModel.setData([])}return this.__emptyTableModel},_applyTableModel:function(e,t){this.getTableColumnModel().init(e.getColumnCount(),this);if(null!=t){t.removeListener("metaDataChanged",this._onTableModelMetaDataChanged,this);t.removeListener("dataChanged",this._onTableModelDataChanged,this)}e.addListener("metaDataChanged",this._onTableModelMetaDataChanged,this);e.addListener("dataChanged",this._onTableModelDataChanged,this);this._updateStatusBar();this._updateTableData(0,e.getRowCount(),0,e.getColumnCount());this._onTableModelMetaDataChanged();t&&e.init&&"function"==typeof e.init&&e.init(this)},getTableColumnModel:function(){if(!this.__columnModel){var e=this.__columnModel=this.getNewTableColumnModel()(this);e.addListener("visibilityChanged",this._onColVisibilityChanged,this);e.addListener("widthChanged",this._onColWidthChanged,this);e.addListener("orderChanged",this._onColOrderChanged,this);var t=this.getTableModel();e.init(t.getColumnCount(),this);for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++){i[n].getTablePaneModel().setTableColumnModel(e)}}return this.__columnModel},_applyStatusBarVisible:function(e,t){e?this._showChildControl("statusbar"):this._excludeChildControl("statusbar");e&&this._updateStatusBar()},_applyAdditionalStatusBarText:function(e,t){this.__additionalStatusBarText=e;this._updateStatusBar()},_applyColumnVisibilityButtonVisible:function(e,t){e?this._showChildControl("column-button"):this._excludeChildControl("column-button")},_applyMetaColumnCounts:function(e,t){var i=e,n=this._getPaneScrollerArr(),s={};if(e>t){var r=qx.event.Registration.getManager(n[0]);for(var o in qx.ui.table.Table.__redirectEvents){s[o]={};s[o].capture=r.getListeners(n[0],o,!0);s[o].bubble=r.getListeners(n[0],o,!1)}}this._cleanUpMetaColumns(i.length);for(var a=0,l=0;l<n.length;l++){(c=(p=n[l]).getTablePaneModel()).setFirstColumnX(a);c.setMaxColumnCount(i[l]);a+=i[l]}if(i.length>n.length){var u=this.getTableColumnModel();for(l=n.length;l<i.length;l++){var c;(c=this.getNewTablePaneModel()(u)).setFirstColumnX(a);c.setMaxColumnCount(i[l]);a+=i[l];(p=this.getNewTablePaneScroller()(this)).setTablePaneModel(c);p.addListener("changeScrollY",this._onScrollY,this);for(o in qx.ui.table.Table.__redirectEvents){if(!s[o])break;if(s[o].capture&&s[o].capture.length>0)for(var d=s[o].capture,h=0;h<d.length;h++){(m=d[h].context)?m==n[0]&&(m=p):m=this;p.addListener(o,d[h].handler,m,!0)}if(s[o].bubble&&s[o].bubble.length>0){var g=s[o].bubble;for(h=0;h<g.length;h++){var m;(m=g[h].context)?m==n[0]&&(m=p):m=this;p.addListener(o,g[h].handler,m,!1)}}}var f=l==i.length-1?1:0;this.__scrollerParent.add(p,{flex:f});n=this._getPaneScrollerArr()}}for(l=0;l<n.length;l++){var p=n[l],_=l==n.length-1;p.getHeader().setHeight(this.getHeaderCellHeight());p.setTopRightWidget(_?this.getChildControl("column-button"):null)}this.isColumnVisibilityButtonVisible()||this._excludeChildControl("column-button");this._updateScrollerWidths();this._updateScrollBarVisibility()},_applyFocusCellOnPointerMove:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].setFocusCellOnPointerMove(e)},_applyShowCellFocusIndicator:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].setShowCellFocusIndicator(e)},_applyContextMenuFromDataCellsOnly:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].setContextMenuFromDataCellsOnly(e)},_applyKeepFirstVisibleRowComplete:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].onKeepFirstVisibleRowCompleteChanged()},_applyResetSelectionOnHeaderTap:function(e,t){for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].setResetSelectionOnHeaderTap(e)},getSelectionManager:function(){return this.__selectionManager},_getPaneScrollerArr:function(){return this.__scrollerParent.getChildren()},getPaneScroller:function(e){return this._getPaneScrollerArr()[e]},_cleanUpMetaColumns:function(e){var t=this._getPaneScrollerArr();if(null!=t)for(var i=t.length-1;i>=e;i--)t[i].destroy()},_onChangeLocale:function(e){this.updateContent();this._updateStatusBar()},_onChangeTheme:function(){qx.ui.table.Table.prototype._onChangeTheme.base.call(this);this.getDataRowRenderer().initThemeValues();this.updateContent();this._updateStatusBar()},_onSelectionChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].onSelectionChanged();this._updateStatusBar()},_onTableModelMetaDataChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].onTableModelMetaDataChanged();this._updateStatusBar()},_onTableModelDataChanged:function(e){var t=e.getData();this._updateTableData(t.firstRow,t.lastRow,t.firstColumn,t.lastColumn,t.removeStart,t.removeCount)},_onContextMenuOpen:function(e){},_updateTableData:function(e,t,i,n,s,r){var o=this._getPaneScrollerArr();if(r){this.getSelectionModel().removeSelectionInterval(s,s+r-1,!0);this.__focusedRow>=s&&this.__focusedRow<s+r&&this.setFocusedCell()}for(var a=0;a<o.length;a++)o[a].onTableModelDataChanged(e,t,i,n);var l=this.getTableModel().getRowCount();if(l!=this.__lastRowCount){this.__lastRowCount=l;this._updateScrollBarVisibility();this._updateStatusBar()}},_onScrollY:function(e){if(!this.__internalChange){this.__internalChange=!0;for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].setScrollY(e.getData());this.__internalChange=!1}},_onKeyPress:function(e){qx.log.Logger.deprecatedMethodWarning(this._onKeyPress,"The method '_onKeyPress()' is deprecated. Please use '_onKeyDown()' instead.");qx.log.Logger.deprecateMethodOverriding(this,qx.ui.table.Table,"_onKeyPress","The method '_onKeyPress()' is deprecated. Please use '_onKeyDown()' instead.");this._onKeyDown(e)},_onKeyDown:function(e){if(this.getEnabled()){var t=this.__focusedRow,i=!1,n=e.getKeyIdentifier();if(this.isEditing()){if(0==e.getModifiers())switch(n){case"Enter":this.stopEditing();t=this.__focusedRow;this.moveFocusedCell(0,1);this.__focusedRow!=t&&(i=this.startEditing());break;case"Escape":this.cancelEditing();this.focus();break;default:i=!1}}else{i=!0;if(e.isCtrlPressed())switch(n){case"A":(s=this.getTableModel().getRowCount())>0&&this.getSelectionModel().setSelectionInterval(0,s-1);break;default:i=!1}else switch(n){case"Space":this.__selectionManager.handleSelectKeyDown(this.__focusedRow,e);break;case"F2":case"Enter":this.startEditing();i=!0;break;case"Home":this.setFocusedCell(this.__focusedCol,0,!0);break;case"End":var s=this.getTableModel().getRowCount();this.setFocusedCell(this.__focusedCol,s-1,!0);break;case"Left":this.moveFocusedCell(-1,0);break;case"Right":this.moveFocusedCell(1,0);break;case"Up":this.moveFocusedCell(0,-1);break;case"Down":this.moveFocusedCell(0,1);break;case"PageUp":case"PageDown":var r=this.getPaneScroller(0),o=r.getTablePane(),a=this.getRowHeight(),l="PageUp"==n?-1:1;s=o.getVisibleRowCount()-1;r.setScrollY(r.getScrollY()+l*s*a);this.moveFocusedCell(0,l*s);break;default:i=!1}}t!=this.__focusedRow&&this.getRowFocusChangeModifiesSelection()&&this.__selectionManager.handleMoveKeyDown(this.__focusedRow,e);if(i){e.preventDefault();e.stopPropagation()}}},_onFocusChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].onFocusChanged()},_onColVisibilityChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].onColVisibilityChanged();var n=e.getData();null!=this.__columnMenuButtons&&null!=n.col&&null!=n.visible&&this.__columnMenuButtons[n.col].setColumnVisible(n.visible);this._updateScrollerWidths();this._updateScrollBarVisibility()},_onColWidthChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++){var n=e.getData();t[i].setColumnWidth(n.col,n.newWidth)}this._updateScrollerWidths();this._updateScrollBarVisibility()},_onColOrderChanged:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++)t[i].onColOrderChanged();this._updateScrollerWidths();this._updateScrollBarVisibility()},getTablePaneScrollerAtPageX:function(e){var t=this._getMetaColumnAtPageX(e);return-1!=t?this.getPaneScroller(t):null},setFocusedCell:function(e,t,i){if(!this.isEditing()&&(e!=this.__focusedCol||t!=this.__focusedRow)){null===e&&(e=0);this.__focusedCol=e;this.__focusedRow=t;for(var n=this._getPaneScrollerArr(),s=0;s<n.length;s++)n[s].setFocusedCell(e,t);null!=e&&i&&this.scrollCellVisible(e,t)}},resetSelection:function(){this.getSelectionModel().resetSelection()},resetCellFocus:function(){this.setFocusedCell(null,null,!1)},getFocusedColumn:function(){return this.__focusedCol},getFocusedRow:function(){return this.__focusedRow},highlightFocusedRow:function(e){this.getDataRowRenderer().setHighlightFocusRow(e)},clearFocusedRowHighlight:function(e){if(e){var t=e.getRelatedTarget();if(t instanceof qx.ui.table.pane.Pane||t instanceof qx.ui.table.pane.FocusIndicator)return}this.resetCellFocus();for(var i=this._getPaneScrollerArr(),n=0;n<i.length;n++)i[n].onFocusChanged()},moveFocusedCell:function(e,t){var i=this.__focusedCol,n=this.__focusedRow;if(null!=i&&null!=n){if(0!=e){var s=this.getTableColumnModel(),r=s.getVisibleX(i),o=s.getVisibleColumnCount();r=qx.lang.Number.limit(r+e,0,o-1);i=s.getVisibleColumnAtX(r)}if(0!=t){var a=this.getTableModel();n=qx.lang.Number.limit(n+t,0,a.getRowCount()-1)}this.setFocusedCell(i,n,!0)}},scrollCellVisible:function(e,t){this.getContentElement().getDomElement()||this.addListenerOnce("appear",function(){this.scrollCellVisible(e,t)},this);var i=this.getTableColumnModel().getVisibleX(e),n=this._getMetaColumnAtColumnX(i);-1!=n&&this.getPaneScroller(n).scrollCellVisible(e,t)},isEditing:function(){if(null!=this.__focusedCol){var e=this.getTableColumnModel().getVisibleX(this.__focusedCol),t=this._getMetaColumnAtColumnX(e);return this.getPaneScroller(t).isEditing()}return!1},startEditing:function(){if(null!=this.__focusedCol){var e=this.getTableColumnModel().getVisibleX(this.__focusedCol),t=this._getMetaColumnAtColumnX(e);return this.getPaneScroller(t).startEditing()}return!1},stopEditing:function(){if(null!=this.__focusedCol){var e=this.getTableColumnModel().getVisibleX(this.__focusedCol),t=this._getMetaColumnAtColumnX(e);this.getPaneScroller(t).stopEditing()}},cancelEditing:function(){if(null!=this.__focusedCol){var e=this.getTableColumnModel().getVisibleX(this.__focusedCol),t=this._getMetaColumnAtColumnX(e);this.getPaneScroller(t).cancelEditing()}},updateContent:function(){for(var e=this._getPaneScrollerArr(),t=0;t<e.length;t++)e[t].getTablePane().updateContent(!0)},blockHeaderElements:function(){for(var e=this._getPaneScrollerArr(),t=0;t<e.length;t++)e[t].getHeader().getBlocker().blockContent(20);this.getChildControl("column-button").getBlocker().blockContent(20)},unblockHeaderElements:function(){for(var e=this._getPaneScrollerArr(),t=0;t<e.length;t++)e[t].getHeader().getBlocker().unblock();this.getChildControl("column-button").getBlocker().unblock()},_getMetaColumnAtPageX:function(e){for(var t=this._getPaneScrollerArr(),i=0;i<t.length;i++){var n=t[i].getContentLocation();if(e>=n.left&&e<=n.right)return i}return-1},_getMetaColumnAtColumnX:function(e){for(var t=this.getMetaColumnCounts(),i=0,n=0;n<t.length;n++){var s=t[n];if(-1==s||e<(i+=s))return n}return-1},_updateStatusBar:function(){var e=this.getTableModel();if(this.getStatusBarVisible()){var t,i=this.getSelectionModel().getSelectedCount(),n=e.getRowCount();n>=0&&(t=0==i?this.trn("one row","%1 rows",n,n):this.trn("one of one row","%1 of %2 rows",n,i,n));this.__additionalStatusBarText&&(t?t+=this.__additionalStatusBarText:t=this.__additionalStatusBarText);t&&this.getChildControl("statusbar").setValue(t)}},_updateScrollerWidths:function(){for(var e=this._getPaneScrollerArr(),t=0;t<e.length;t++){var i=t==e.length-1,n=e[t].getTablePaneModel().getTotalWidth();e[t].setPaneWidth(n);var s=i?1:0;e[t].setLayoutProperties({flex:s})}},_updateScrollBarVisibility:function(){if(this.getBounds()){var e,t=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR,i=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR,n=this._getPaneScrollerArr(),s=!1,r=!1;if(!(e=this.getExcludeScrollerScrollbarsIfNotNeeded()))for(var o=0;o<n.length;o++){var a=o==n.length-1,l=n[o].getNeededScrollBars(s,!a);l&t&&(s=!0);a&&l&i&&(r=!0)}for(o=0;o<n.length;o++){a=o==n.length-1;if(e){s=!!(n[o].getNeededScrollBars(!1,!a)&t);n[o].setHorizontalScrollBarVisible(s||null)}else n[o].setHorizontalScrollBarVisible(s);if(a){r=!!(n[o].getNeededScrollBars(!1,!1)&i);if(null==this.__hadVerticalScrollBar){this.__hadVerticalScrollBar=n[o].getVerticalScrollBarVisible();this.__timer=qx.event.Timer.once(function(){this.__hadVerticalScrollBar=null;this.__timer=null},this,0)}}n[o].setVerticalScrollBarVisible(a&&r);a&&r!=this.__hadVerticalScrollBar&&this.fireDataEvent("verticalScrollBarChanged",r)}}},_initColumnMenu:function(){var e=this.getTableModel(),t=this.getTableColumnModel(),i=this.getChildControl("column-button");i.empty();var n=i.getMenu(),s={table:this,menu:n,columnButton:i};this.fireDataEvent("columnVisibilityMenuCreateStart",s);this.__columnMenuButtons={};for(var r=0,o=e.getColumnCount();r<o;r++){var a=i.factory("menu-button",{text:e.getColumnName(r),column:r,bVisible:t.isColumnVisible(r)});qx.core.Assert.assertInterface(a,qx.ui.table.IColumnMenuItem);a.addListener("changeColumnVisible",this._createColumnVisibilityCheckBoxHandler(r),this);this.__columnMenuButtons[r]=a}s={table:this,menu:n,columnButton:i};this.fireDataEvent("columnVisibilityMenuCreateEnd",s)},_createColumnVisibilityCheckBoxHandler:function(e){return function(t){this.getTableColumnModel().setColumnVisible(e,t.getData())}},setColumnWidth:function(e,t){this.getTableColumnModel().setColumnWidth(e,t)},_onResize:function(){this.fireEvent("tableWidthChanged");this._updateScrollerWidths();this._updateScrollBarVisibility()},addListener:function(e,t,i,n){if(qx.ui.table.Table.__redirectEvents[e]){for(var s=[e],r=0,o=this._getPaneScrollerArr();r<o.length;r++)s.push(o[r].addListener.apply(o[r],arguments));return s.join('"')}return qx.ui.table.Table.prototype.addListener.base.call(this,e,t,i,n)},removeListener:function(e,t,i,n){if(qx.ui.table.Table.__redirectEvents[e])for(var s=0,r=this._getPaneScrollerArr();s<r.length;s++)r[s].removeListener.apply(r[s],arguments);else qx.ui.table.Table.prototype.removeListener.base.call(this,e,t,i,n)},removeListenerById:function(e){var t=e.split('"'),i=t.shift();if(qx.ui.table.Table.__redirectEvents[i]){for(var n=!0,s=0,r=this._getPaneScrollerArr();s<r.length;s++)n=r[s].removeListenerById.call(r[s],t[s])&&n;return n}return qx.ui.table.Table.prototype.removeListenerById.base.call(this,e)},destroy:function(){this.getChildControl("column-button").getMenu().destroy();qx.ui.table.Table.prototype.destroy.base.call(this)}},destruct:function(){qx.locale.Manager.getInstance().removeListener("changeLocale",this._onChangeLocale,this);var e=this.getSelectionModel();e&&e.dispose();var t=this.getDataRowRenderer();t&&t.dispose();this._cleanUpMetaColumns(0);this.getTableColumnModel().dispose();this._disposeObjects("__selectionManager","__scrollerParent","__emptyTableModel","__emptyTableModel","__columnModel","__timer");this._disposeMap("__columnMenuButtons")}});qx.ui.table.Table.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.IRowRenderer",{members:{updateDataRowElement:function(e,t){},getRowHeightStyle:function(e){},createRowStyle:function(e){},getRowClass:function(e){}}});qx.ui.table.IRowRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.table.IRowRenderer":{require:!0},"qx.theme.manager.Meta":{construct:!0},"qx.theme.manager.Font":{},"qx.theme.manager.Color":{},"qx.bom.element.Style":{},"qx.bom.Font":{},"qx.bom.client.Css":{}},environment:{provided:[],required:{"css.boxmodel":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.rowrenderer.Default",{extend:qx.core.Object,implement:qx.ui.table.IRowRenderer,construct:function(){qx.core.Object.constructor.call(this);this.initThemeValues();qx.theme.manager.Meta.getInstance().addListener("changeTheme",this.initThemeValues,this)},properties:{highlightFocusRow:{check:"Boolean",init:!0}},members:{_colors:null,_fontStyle:null,_fontStyleString:null,initThemeValues:function(){this._fontStyleString="";this._fontStyle={};this._colors={};this._renderFont(qx.theme.manager.Font.getInstance().resolve("default"));var e=qx.theme.manager.Color.getInstance();this._colors.bgcolFocusedSelected=e.resolve("table-row-background-focused-selected");this._colors.bgcolFocused=e.resolve("table-row-background-focused");this._colors.bgcolSelected=e.resolve("table-row-background-selected");this._colors.bgcolEven=e.resolve("table-row-background-even");this._colors.bgcolOdd=e.resolve("table-row-background-odd");this._colors.colSelected=e.resolve("table-row-selected");this._colors.colNormal=e.resolve("table-row");this._colors.horLine=e.resolve("table-row-line")},_insetY:1,_renderFont:function(e){if(e){this._fontStyle=e.getStyles();this._fontStyleString=qx.bom.element.Style.compile(this._fontStyle);this._fontStyleString=this._fontStyleString.replace(/"/g,"'")}else{this._fontStyleString="";this._fontStyle=qx.bom.Font.getDefaultStyles()}},updateDataRowElement:function(e,t){var i=this._fontStyle,n=t.style;qx.bom.element.Style.setStyles(t,i);e.focusedRow&&this.getHighlightFocusRow()?n.backgroundColor=e.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused:e.selected?n.backgroundColor=this._colors.bgcolSelected:n.backgroundColor=e.row%2==0?this._colors.bgcolEven:this._colors.bgcolOdd;n.color=e.selected?this._colors.colSelected:this._colors.colNormal;n.borderBottom="1px solid "+this._colors.horLine},getRowHeightStyle:function(e){"content"==qx.core.Environment.get("css.boxmodel")&&(e-=this._insetY);return"height:"+e+"px;"},createRowStyle:function(e){var t=[];t.push(";");t.push(this._fontStyleString);t.push("background-color:");e.focusedRow&&this.getHighlightFocusRow()?t.push(e.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused):e.selected?t.push(this._colors.bgcolSelected):t.push(e.row%2==0?this._colors.bgcolEven:this._colors.bgcolOdd);t.push(";color:");t.push(e.selected?this._colors.colSelected:this._colors.colNormal);t.push(";border-bottom: 1px solid ",this._colors.horLine);return t.join("")},getRowClass:function(e){return""},getRowAttributes:function(e){return""}},destruct:function(){this._colors=this._fontStyle=this._fontStyleString=null;qx.theme.manager.Meta.getInstance().removeListener("changeTheme",this.initThemeValues,this)}});qx.ui.table.rowrenderer.Default.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.IColumnMenuButton",{properties:{menu:{}},members:{factory:function(e,t){return!0},empty:function(){return!0}}});qx.ui.table.IColumnMenuButton.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.form.MenuButton":{construct:!0,require:!0},"qx.ui.table.IColumnMenuButton":{require:!0},"qx.ui.core.Blocker":{construct:!0},"qx.ui.menu.Menu":{},"qx.ui.table.columnmenu.MenuItem":{},"qx.ui.menu.Button":{},"qx.ui.menu.Separator":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.columnmenu.Button",{extend:qx.ui.form.MenuButton,implement:qx.ui.table.IColumnMenuButton,construct:function(){qx.ui.form.MenuButton.constructor.call(this);this.__blocker=new qx.ui.core.Blocker(this)},members:{__columnMenuButtons:null,__blocker:null,factory:function(e,t){switch(e){case"menu":var i=new qx.ui.menu.Menu;this.setMenu(i);return i;case"menu-button":var n=new qx.ui.table.columnmenu.MenuItem(t.text);n.setColumnVisible(t.bVisible);this.getMenu().add(n);return n;case"user-button":var s=new qx.ui.menu.Button(t.text);s.set({appearance:"table-column-reset-button"});return s;case"separator":return new qx.ui.menu.Separator;default:throw new Error("Unrecognized factory request: "+e)}},getBlocker:function(){return this.__blocker},empty:function(){for(var e=this.getMenu().getChildren(),t=0,i=e.length;t<i;t++)e[0].destroy()}},destruct:function(){this.__blocker.dispose()}});qx.ui.table.columnmenu.Button.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.type.Dom":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.selection.Manager",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this)},properties:{selectionModel:{check:"qx.ui.table.selection.Model"}},members:{__lastPointerDownHandled:null,handleTap:function(e,t){if(t.isLeftPressed()){if((i=this.getSelectionModel()).isSelectedIndex(e))this.__lastPointerDownHandled=!1;else{this._handleSelectEvent(e,t);this.__lastPointerDownHandled=!0}}else if(t.isRightPressed()&&0==t.getModifiers()){var i;(i=this.getSelectionModel()).isSelectedIndex(e)||i.setSelectionInterval(e,e)}t.isLeftPressed()&&!this.__lastPointerDownHandled&&this._handleSelectEvent(e,t)},handleSelectKeyDown:function(e,t){this._handleSelectEvent(e,t)},handleMoveKeyDown:function(e,t){var i=this.getSelectionModel();switch(t.getModifiers()){case 0:i.setSelectionInterval(e,e);break;case qx.event.type.Dom.SHIFT_MASK:var n=i.getAnchorSelectionIndex();-1==n?i.setSelectionInterval(e,e):i.setSelectionInterval(n,e)}},_handleSelectEvent:function(e,t){var i=this.getSelectionModel(),n=i.getLeadSelectionIndex(),s=i.getAnchorSelectionIndex();if(t.isShiftPressed()){if(e!=n||i.isSelectionEmpty()){-1==s&&(s=e);t.isCtrlOrCommandPressed()?i.addSelectionInterval(s,e):i.setSelectionInterval(s,e)}}else t.isCtrlOrCommandPressed()?i.isSelectedIndex(e)?i.removeSelectionInterval(e,e):i.addSelectionInterval(e,e):i.setSelectionInterval(e,e)}}});qx.ui.table.selection.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.selection.Model",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__selectedRangeArr=[];this.__anchorSelectionIndex=-1;this.__leadSelectionIndex=-1;this.hasBatchModeRefCount=0;this.__hadChangeEventInBatchMode=!1},events:{changeSelection:"qx.event.type.Event"},statics:{NO_SELECTION:1,SINGLE_SELECTION:2,SINGLE_INTERVAL_SELECTION:3,MULTIPLE_INTERVAL_SELECTION:4,MULTIPLE_INTERVAL_SELECTION_TOGGLE:5},properties:{selectionMode:{init:2,check:[1,2,3,4,5],apply:"_applySelectionMode"}},members:{__hadChangeEventInBatchMode:null,__anchorSelectionIndex:null,__leadSelectionIndex:null,__selectedRangeArr:null,_applySelectionMode:function(e){this.resetSelection()},setBatchMode:function(e){if(e)this.hasBatchModeRefCount+=1;else{if(0==this.hasBatchModeRefCount)throw new Error("Try to turn off batch mode althoug it was not turned on.");this.hasBatchModeRefCount-=1;if(this.__hadChangeEventInBatchMode){this.__hadChangeEventInBatchMode=!1;this._fireChangeSelection()}}return this.hasBatchMode()},hasBatchMode:function(){return this.hasBatchModeRefCount>0},getAnchorSelectionIndex:function(){return this.__anchorSelectionIndex},_setAnchorSelectionIndex:function(e){this.__anchorSelectionIndex=e},getLeadSelectionIndex:function(){return this.__leadSelectionIndex},_setLeadSelectionIndex:function(e){this.__leadSelectionIndex=e},_getSelectedRangeArr:function(){return this.__selectedRangeArr},resetSelection:function(){if(!this.isSelectionEmpty()){this._resetSelection();this._fireChangeSelection()}},isSelectionEmpty:function(){return 0==this.__selectedRangeArr.length},getSelectedCount:function(){for(var e=0,t=0;t<this.__selectedRangeArr.length;t++){var i=this.__selectedRangeArr[t];e+=i.maxIndex-i.minIndex+1}return e},isSelectedIndex:function(e){for(var t=0;t<this.__selectedRangeArr.length;t++){var i=this.__selectedRangeArr[t];if(e>=i.minIndex&&e<=i.maxIndex)return!0}return!1},getSelectedRanges:function(){for(var e=[],t=0;t<this.__selectedRangeArr.length;t++)e.push({minIndex:this.__selectedRangeArr[t].minIndex,maxIndex:this.__selectedRangeArr[t].maxIndex});return e},iterateSelection:function(e,t){for(var i=0;i<this.__selectedRangeArr.length;i++)for(var n=this.__selectedRangeArr[i].minIndex;n<=this.__selectedRangeArr[i].maxIndex;n++)e.call(t,n)},setSelectionInterval:function(e,t){var i=qx.ui.table.selection.Model;switch(this.getSelectionMode()){case i.NO_SELECTION:return;case i.SINGLE_SELECTION:if(this.isSelectedIndex(t))return;e=t;break;case i.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this.setBatchMode(!0);try{for(var n=e;n<=t;n++)this.isSelectedIndex(n)?this.removeSelectionInterval(n,n):this._addSelectionInterval(n,n)}catch(e){throw e}finally{this.setBatchMode(!1)}this._fireChangeSelection();return}this._resetSelection();this._addSelectionInterval(e,t);this._fireChangeSelection()},addSelectionInterval:function(e,t){var i=qx.ui.table.selection.Model;switch(this.getSelectionMode()){case i.NO_SELECTION:return;case i.MULTIPLE_INTERVAL_SELECTION:case i.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this._addSelectionInterval(e,t);this._fireChangeSelection();break;default:this.setSelectionInterval(e,t)}},removeSelectionInterval:function(e,t,i){this.__anchorSelectionIndex=e;this.__leadSelectionIndex=t;for(var n=Math.min(e,t),s=Math.max(e,t),r=s+1-n,o=[],a=null,l=0;l<this.__selectedRangeArr.length;l++){var u=this.__selectedRangeArr[l];if(u.minIndex>s){if(i){u.minIndex-=r;u.maxIndex-=r}}else if(u.maxIndex>=n){var c=u.minIndex>=n,d=u.maxIndex>=n&&u.maxIndex<=s;if(c&&d)u=null;else if(c)if(i){u.minIndex=n;u.maxIndex-=r}else u.minIndex=s+1;else if(d)u.maxIndex=n-1;else if(i)u.maxIndex-=r;else{a={minIndex:s+1,maxIndex:u.maxIndex};u.maxIndex=n-1}}if(u){o.push(u);u=null}if(a){o.push(a);a=null}}this.__selectedRangeArr=o;this._fireChangeSelection()},_resetSelection:function(){this.__selectedRangeArr=[];this.__anchorSelectionIndex=-1;this.__leadSelectionIndex=-1},_addSelectionInterval:function(e,t){this.__anchorSelectionIndex=e;this.__leadSelectionIndex=t;for(var i=Math.min(e,t),n=Math.max(e,t),s=0;s<this.__selectedRangeArr.length;s++){if((a=this.__selectedRangeArr[s]).minIndex>i)break}this.__selectedRangeArr.splice(s,0,{minIndex:i,maxIndex:n});for(var r=this.__selectedRangeArr[0],o=1;o<this.__selectedRangeArr.length;o++){var a=this.__selectedRangeArr[o];if(r.maxIndex+1>=a.minIndex){r.maxIndex=Math.max(r.maxIndex,a.maxIndex);this.__selectedRangeArr.splice(o,1);o--}else r=a}},_dumpRanges:function(){for(var e="Ranges:",t=0;t<this.__selectedRangeArr.length;t++){var i=this.__selectedRangeArr[t];e+=" ["+i.minIndex+".."+i.maxIndex+"]"}this.debug(e)},_fireChangeSelection:function(){this.hasBatchMode()?this.__hadChangeEventInBatchMode=!0:this.fireEvent("changeSelection")}},destruct:function(){this.__selectedRangeArr=null}});qx.ui.table.selection.Model.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.IHeaderRenderer",{members:{createHeaderCell:function(e){return!0},updateHeaderCell:function(e,t){return!0}}});qx.ui.table.IHeaderRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.table.IHeaderRenderer":{require:!0},"qx.ui.table.headerrenderer.HeaderCell":{},"qx.ui.tooltip.ToolTip":{},"qx.util.DisposeUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.headerrenderer.Default",{extend:qx.core.Object,implement:qx.ui.table.IHeaderRenderer,statics:{STATE_SORTED:"sorted",STATE_SORTED_ASCENDING:"sortedAscending"},properties:{toolTip:{check:"String",init:null,nullable:!0}},members:{createHeaderCell:function(e){var t=new qx.ui.table.headerrenderer.HeaderCell;this.updateHeaderCell(e,t);return t},updateHeaderCell:function(e,t){var i=qx.ui.table.headerrenderer.Default;e.name&&e.name.translate?t.setLabel(e.name.translate()):t.setLabel(e.name);var n=t.getToolTip();if(null!=this.getToolTip())if(null==n){n=new qx.ui.tooltip.ToolTip(this.getToolTip());t.setToolTip(n);qx.util.DisposeUtil.disposeTriggeredBy(n,t)}else n.setLabel(this.getToolTip());e.sorted?t.addState(i.STATE_SORTED):t.removeState(i.STATE_SORTED);e.sortedAscending?t.addState(i.STATE_SORTED_ASCENDING):t.removeState(i.STATE_SORTED_ASCENDING)}}});qx.ui.table.headerrenderer.Default.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.ICellRenderer",{members:{createDataCellHtml:function(e,t){return!0}}});qx.ui.table.ICellRenderer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Stylesheet":{require:!0},"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.ICellRenderer":{require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.theme.manager.Meta":{construct:!0},"qx.theme.manager.Color":{},"qx.bom.element.Style":{},"qx.bom.client.Css":{},"qx.bom.element.BoxSizing":{}},environment:{provided:[],required:{"css.boxsizing":{className:"qx.bom.client.Css"},"css.boxmodel":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.cellrenderer.Abstract",{type:"abstract",implement:qx.ui.table.ICellRenderer,extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);var e=qx.ui.table.cellrenderer.Abstract;if(!e.__clazz){e.__clazz=qx.ui.table.cellrenderer.Abstract;this._createStyleSheet();qx.theme.manager.Meta.getInstance().addListener("changeTheme",this._onChangeTheme,this)}},properties:{defaultCellStyle:{init:null,check:"String",nullable:!0}},members:{_onChangeTheme:function(){qx.bom.Stylesheet.removeAllRules(qx.ui.table.cellrenderer.Abstract.__clazz.stylesheet);this._createStyleSheet()},_insetX:13,_insetY:0,_createStyleSheet:function(){var e=qx.theme.manager.Color.getInstance(),t=".qooxdoo-table-cell {"+qx.bom.element.Style.compile({position:"absolute",top:"0px",overflow:"hidden",whiteSpace:"nowrap",borderRight:"1px solid "+e.resolve("table-column-line"),padding:"0px 6px",cursor:"default",textOverflow:"ellipsis",userSelect:"none"})+"} .qooxdoo-table-cell-right { text-align:right } .qooxdoo-table-cell-italic { font-style:italic} .qooxdoo-table-cell-bold { font-weight:bold } ";qx.core.Environment.get("css.boxsizing")&&(t+=".qooxdoo-table-cell {"+qx.bom.element.BoxSizing.compile("content-box")+"}");qx.ui.table.cellrenderer.Abstract.__clazz.stylesheet=qx.bom.Stylesheet.createElement(t)},_getCellClass:function(e){return"qooxdoo-table-cell"},_getCellStyle:function(e){return e.style||""},_getCellAttributes:function(e){return""},_getContentHtml:function(e){return e.value||""},_getCellSizeStyle:function(e,t,i,n){var s="";if("content"==qx.core.Environment.get("css.boxmodel")){e-=i;t-=n}s+="width:"+Math.max(e,0)+"px;";return s+="height:"+Math.max(t,0)+"px;"},createDataCellHtml:function(e,t){t.push('<div class="',this._getCellClass(e),'" style="',"left:",e.styleLeft,"px;",this._getCellSizeStyle(e.styleWidth,e.styleHeight,this._insetX,this._insetY),this._getCellStyle(e),'" ',this._getCellAttributes(e),">"+this._getContentHtml(e),"</div>")}},destruct:function(){qx.theme.manager.Meta.getInstance().removeListener("changeTheme",this._onChangeTheme,this)}});qx.ui.table.cellrenderer.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.cellrenderer.Abstract":{require:!0},"qx.bom.String":{},"qx.util.format.NumberFormat":{},"qx.util.format.DateFormat":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.cellrenderer.Default",{extend:qx.ui.table.cellrenderer.Abstract,statics:{STYLEFLAG_ALIGN_RIGHT:1,STYLEFLAG_BOLD:2,STYLEFLAG_ITALIC:4,_numberFormat:null},properties:{useAutoAlign:{check:"Boolean",init:!0}},members:{_getStyleFlags:function(e){return this.getUseAutoAlign()&&"number"==typeof e.value?qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT:0},_getCellClass:function(e){var t=qx.ui.table.cellrenderer.Default.prototype._getCellClass.base.call(this,e);if(!t)return"";var i=this._getStyleFlags(e);i&qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT&&(t+=" qooxdoo-table-cell-right");i&qx.ui.table.cellrenderer.Default.STYLEFLAG_BOLD&&(t+=" qooxdoo-table-cell-bold");i&qx.ui.table.cellrenderer.Default.STYLEFLAG_ITALIC&&(t+=" qooxdoo-table-cell-italic");return t},_getContentHtml:function(e){return qx.bom.String.escape(this._formatValue(e))},_formatValue:function(e){var t,i=e.value;if(null==i)return"";if("string"==typeof i)return i;if("number"==typeof i){if(!qx.ui.table.cellrenderer.Default._numberFormat){qx.ui.table.cellrenderer.Default._numberFormat=new qx.util.format.NumberFormat;qx.ui.table.cellrenderer.Default._numberFormat.setMaximumFractionDigits(2)}t=qx.ui.table.cellrenderer.Default._numberFormat.format(i)}else t=i instanceof Date?qx.util.format.DateFormat.getDateInstance().format(i):i.toString();return t}}});qx.ui.table.cellrenderer.Default.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.ICellEditorFactory",{members:{createCellEditor:function(e){return!0},getCellEditorValue:function(e){return!0}}});qx.ui.table.ICellEditorFactory.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.table.ICellEditorFactory":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.celleditor.AbstractField",{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,type:"abstract",properties:{validationFunction:{check:"Function",nullable:!0,init:null}},members:{_createEditor:function(){throw new Error("Abstract method call!")},createCellEditor:function(e){var t=this._createEditor();t.originalValue=e.value;null!==e.value&&void 0!==e.value||(e.value="");t.setValue(""+e.value);t.addListener("appear",function(){t.selectAllText()});return t},getCellEditorValue:function(e){var t=e.getValue(),i=this.getValidationFunction();i&&(t=i(t,e.originalValue));"number"==typeof e.originalValue&&(t=parseFloat(t));return t}}});qx.ui.table.celleditor.AbstractField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.celleditor.AbstractField":{require:!0},"qx.ui.form.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.celleditor.TextField",{extend:qx.ui.table.celleditor.AbstractField,members:{getCellEditorValue:function(e){var t=e.getValue(),i=this.getValidationFunction();i&&(t=i(t,e.originalValue));"number"==typeof e.originalValue&&null!=t&&""!=t&&(t=parseFloat(t));return t},_createEditor:function(){var e=new qx.ui.form.TextField;e.setAppearance("table-editor-textfield");return e}}});qx.ui.table.celleditor.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.table.headerrenderer.Default":{require:!0},"qx.ui.table.cellrenderer.Default":{require:!0},"qx.ui.table.celleditor.TextField":{require:!0},"qx.ui.table.IHeaderRenderer":{},"qx.ui.table.ICellRenderer":{},"qx.ui.table.ICellEditorFactory":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.columnmodel.Basic",{extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);this.__overallColumnArr=[];this.__visibleColumnArr=[]},events:{widthChanged:"qx.event.type.Data",visibilityChangedPre:"qx.event.type.Data",visibilityChanged:"qx.event.type.Data",orderChanged:"qx.event.type.Data",headerCellRendererChanged:"qx.event.type.Data"},statics:{DEFAULT_WIDTH:100,DEFAULT_HEADER_RENDERER:qx.ui.table.headerrenderer.Default,DEFAULT_DATA_RENDERER:qx.ui.table.cellrenderer.Default,DEFAULT_EDITOR_FACTORY:qx.ui.table.celleditor.TextField},members:{__internalChange:null,__colToXPosMap:null,__visibleColumnArr:null,__overallColumnArr:null,__columnDataArr:null,__headerRenderer:null,__dataRenderer:null,__editorFactory:null,init:function(e,t){this.assertInteger(e,"Invalid argument 'colCount'.");this.__columnDataArr=[];var i,n=qx.ui.table.columnmodel.Basic.DEFAULT_WIDTH,s=this.__headerRenderer||(this.__headerRenderer=new qx.ui.table.columnmodel.Basic.DEFAULT_HEADER_RENDERER),r=this.__dataRenderer||(this.__dataRenderer=new qx.ui.table.columnmodel.Basic.DEFAULT_DATA_RENDERER),o=this.__editorFactory||(this.__editorFactory=new qx.ui.table.columnmodel.Basic.DEFAULT_EDITOR_FACTORY);this.__overallColumnArr=[];this.__visibleColumnArr=[];t&&(i=t.getInitiallyHiddenColumns());i=i||[];for(var a=0;a<e;a++){this.__columnDataArr[a]={width:n,headerRenderer:s,dataRenderer:r,editorFactory:o};this.__overallColumnArr[a]=a;this.__visibleColumnArr[a]=a}this.__colToXPosMap=null;this.__internalChange=!0;for(var l=0;l<i.length;l++)this.setColumnVisible(i[l],!1);this.__internalChange=!1;for(a=0;a<e;a++){var u={col:a,visible:this.isColumnVisible(a)};this.fireDataEvent("visibilityChangedPre",u);this.fireDataEvent("visibilityChanged",u)}},getVisibleColumns:function(){return null!=this.__visibleColumnArr?this.__visibleColumnArr:[]},setColumnWidth:function(e,t,i){this.assertInteger(e,"Invalid argument 'col'.");this.assertInteger(t,"Invalid argument 'width'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");var n=this.__columnDataArr[e].width;if(n!=t){this.__columnDataArr[e].width=t;var s={col:e,newWidth:t,oldWidth:n,isPointerAction:i||!1};this.fireDataEvent("widthChanged",s)}},getColumnWidth:function(e){this.assertInteger(e,"Invalid argument 'col'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");return this.__columnDataArr[e].width},setHeaderCellRenderer:function(e,t){this.assertInteger(e,"Invalid argument 'col'.");this.assertInterface(t,qx.ui.table.IHeaderRenderer,"Invalid argument 'renderer'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");var i=this.__columnDataArr[e].headerRenderer;i!==this.__headerRenderer&&i.dispose();this.__columnDataArr[e].headerRenderer=t;this.__internalChange||this.fireDataEvent("headerCellRendererChanged",{col:e})},setHeaderCellRenderers:function(e){var t;this.__internalChange=!0;for(t in e)this.setHeaderCellRenderer(+t,e[t]);this.__internalChange=!1;this.fireDataEvent("headerCellRendererChanged",{cols:Object.keys(e)})},getHeaderCellRenderer:function(e){this.assertInteger(e,"Invalid argument 'col'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");return this.__columnDataArr[e].headerRenderer},setDataCellRenderer:function(e,t){this.assertInteger(e,"Invalid argument 'col'.");this.assertInterface(t,qx.ui.table.ICellRenderer,"Invalid argument 'renderer'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");var i=this.__columnDataArr[e].dataRenderer;this.__columnDataArr[e].dataRenderer=t;return i!==this.__dataRenderer?i:null},getDataCellRenderer:function(e){this.assertInteger(e,"Invalid argument 'col'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");return this.__columnDataArr[e].dataRenderer},setCellEditorFactory:function(e,t){this.assertInteger(e,"Invalid argument 'col'.");this.assertInterface(t,qx.ui.table.ICellEditorFactory,"Invalid argument 'factory'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");var i=this.__columnDataArr[e].editorFactory;if(i!==t){i!==this.__editorFactory&&i.dispose();this.__columnDataArr[e].editorFactory=t}},getCellEditorFactory:function(e){this.assertInteger(e,"Invalid argument 'col'.");this.assertNotUndefined(this.__columnDataArr[e],"Column not found in table model");return this.__columnDataArr[e].editorFactory},_getColToXPosMap:function(){if(null==this.__colToXPosMap){this.__colToXPosMap={};for(var e=0;e<this.__overallColumnArr.length;e++){var t=this.__overallColumnArr[e];this.__colToXPosMap[t]={overX:e}}for(var i=0;i<this.__visibleColumnArr.length;i++){t=this.__visibleColumnArr[i];this.__colToXPosMap[t].visX=i}}return this.__colToXPosMap},getVisibleColumnCount:function(){return null!=this.__visibleColumnArr?this.__visibleColumnArr.length:0},getVisibleColumnAtX:function(e){this.assertInteger(e,"Invalid argument 'visXPos'.");return this.__visibleColumnArr[e]},getVisibleX:function(e){this.assertInteger(e,"Invalid argument 'col'.");return this._getColToXPosMap()[e].visX},getOverallColumnCount:function(){return this.__overallColumnArr.length},getOverallColumnAtX:function(e){this.assertInteger(e,"Invalid argument 'overXPos'.");return this.__overallColumnArr[e]},getOverallX:function(e){this.assertInteger(e,"Invalid argument 'col'.");return this._getColToXPosMap()[e].overX},isColumnVisible:function(e){this.assertInteger(e,"Invalid argument 'col'.");return null!=this._getColToXPosMap()[e].visX},setColumnVisible:function(e,t){this.assertInteger(e,"Invalid argument 'col'.");this.assertBoolean(t,"Invalid argument 'visible'.");if(t!=this.isColumnVisible(e)){if(t){var i,n=this._getColToXPosMap(),s=n[e].overX;if(null==s)throw new Error("Showing column failed: "+e+". The column is not added to this TablePaneModel.");for(var r=s+1;r<this.__overallColumnArr.length;r++){var o=n[this.__overallColumnArr[r]].visX;if(null!=o){i=o;break}}null==i&&(i=this.__visibleColumnArr.length);this.__visibleColumnArr.splice(i,0,e)}else{var a=this.getVisibleX(e);this.__visibleColumnArr.splice(a,1)}this.__colToXPosMap=null;if(!this.__internalChange){var l={col:e,visible:t};this.fireDataEvent("visibilityChangedPre",l);this.fireDataEvent("visibilityChanged",l)}}},moveColumn:function(e,t){this.assertInteger(e,"Invalid argument 'fromOverXPos'.");this.assertInteger(t,"Invalid argument 'toOverXPos'.");this.__internalChange=!0;var i=this.__overallColumnArr[e],n=this.isColumnVisible(i);n&&this.setColumnVisible(i,!1);this.__overallColumnArr.splice(e,1);this.__overallColumnArr.splice(t,0,i);this.__colToXPosMap=null;n&&this.setColumnVisible(i,!0);this.__internalChange=!1;var s={col:i,fromOverXPos:e,toOverXPos:t};this.fireDataEvent("orderChanged",s)},setColumnsOrder:function(e){this.assertArray(e,"Invalid argument 'newPositions'.");if(e.length!=this.__overallColumnArr.length)throw new Error("setColumnsOrder: Invalid number of column positions given, expected "+this.__overallColumnArr.length+", got "+e.length);this.__internalChange=!0;for(var t=new Array(e.length),i=0;i<this.__overallColumnArr.length;i++){var n=this.isColumnVisible(i);t[i]=n;n&&this.setColumnVisible(i,!1)}this.__overallColumnArr=qx.lang.Array.clone(e);this.__colToXPosMap=null;for(i=0;i<this.__overallColumnArr.length;i++)t[i]&&this.setColumnVisible(i,!0);this.__internalChange=!1;this.fireDataEvent("orderChanged")}},destruct:function(){for(var e=0;e<this.__columnDataArr.length;e++){this.__columnDataArr[e].headerRenderer.dispose();this.__columnDataArr[e].dataRenderer.dispose();this.__columnDataArr[e].editorFactory.dispose()}this.__overallColumnArr=this.__visibleColumnArr=this.__columnDataArr=this.__colToXPosMap=null;this._disposeObjects("__headerRenderer","__dataRenderer","__editorFactory")}});qx.ui.table.columnmodel.Basic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.Pane",{extend:qx.ui.core.Widget,construct:function(e){qx.ui.core.Widget.constructor.call(this);this.__paneScroller=e;this.__lastColCount=0;this.__lastRowCount=0;this.__rowCache=[]},events:{paneReloadsData:"qx.event.type.Data",paneUpdated:"qx.event.type.Event"},properties:{firstVisibleRow:{check:"Number",init:0,apply:"_applyFirstVisibleRow"},visibleRowCount:{check:"Number",init:0,apply:"_applyVisibleRowCount"},maxCacheLines:{check:"Number",init:1e3,apply:"_applyMaxCacheLines"},allowShrinkX:{refine:!0,init:!1}},members:{__lastRowCount:null,__lastColCount:null,__paneScroller:null,__tableContainer:null,__focusedRow:null,__focusedCol:null,__rowCache:null,__rowCacheCount:0,_applyFirstVisibleRow:function(e,t){this.updateContent(!1,e-t)},_applyVisibleRowCount:function(e,t){this.updateContent(!0)},_getContentHint:function(){return{width:this.getPaneScroller().getTablePaneModel().getTotalWidth(),height:400}},getPaneScroller:function(){return this.__paneScroller},getTable:function(){return this.__paneScroller.getTable()},setFocusedCell:function(e,t,i){if(e!=this.__focusedCol||t!=this.__focusedRow){var n=this.__focusedRow;this.__focusedCol=e;this.__focusedRow=t;if(t!=n&&!i){null!==n&&this.updateContent(!1,null,n,!0);null!==t&&this.updateContent(!1,null,t,!0)}}},onSelectionChanged:function(){this.updateContent(!1,null,null,!0)},onFocusChanged:function(){this.updateContent(!1,null,null,!0)},setColumnWidth:function(e,t){this.updateContent(!0)},onColOrderChanged:function(){this.updateContent(!0)},onPaneModelChanged:function(){this.updateContent(!0)},onTableModelDataChanged:function(e,t,i,n){this.__rowCacheClear();var s=this.getFirstVisibleRow(),r=this.getVisibleRowCount();(-1==t||t>=s&&e<s+r)&&this.updateContent()},onTableModelMetaDataChanged:function(){this.updateContent(!0)},_applyMaxCacheLines:function(e,t){this.__rowCacheCount>=e&&-1!==e&&this.__rowCacheClear()},__rowCacheClear:function(){this.__rowCache=[];this.__rowCacheCount=0},__rowCacheGet:function(e,t,i){return t||i||!this.__rowCache[e]?null:this.__rowCache[e]},__rowCacheSet:function(e,t,i,n){var s=this.getMaxCacheLines();if(!i&&!n&&!this.__rowCache[e]&&s>0){this._applyMaxCacheLines(s);this.__rowCache[e]=t;this.__rowCacheCount+=1}},updateContent:function(e,t,i,n){e&&this.__rowCacheClear();t&&Math.abs(t)<=Math.min(10,this.getVisibleRowCount())?this._scrollContent(t):n&&!this.getTable().getAlwaysUpdateCells()?this._updateRowStyles(i):this._updateAllRows()},_updateRowStyles:function(e){var t=this.getContentElement().getDomElement();if(t&&t.firstChild){var i=this.getTable(),n=i.getSelectionModel(),s=i.getTableModel(),r=i.getDataRowRenderer(),o=t.firstChild.childNodes,a={table:i},l=this.getFirstVisibleRow(),u=0,c=o.length;if(null!=e){var d=e-l;if(!(d>=0&&d<c))return;l=e;u=d;c=d+1}for(;u<c;u++,l++){a.row=l;a.selected=n.isSelectedIndex(l);a.focusedRow=this.__focusedRow==l;a.rowData=s.getRowData(l);r.updateDataRowElement(a,o[u])}}else this._updateAllRows()},_getRowsHtml:function(e,t){var i=this.getTable(),n=i.getSelectionModel(),s=i.getTableModel(),r=i.getTableColumnModel(),o=this.getPaneScroller().getTablePaneModel(),a=i.getDataRowRenderer();s.prefetchRows(e,e+t-1);for(var l=i.getRowHeight(),u=o.getColumnCount(),c=0,d=[],h=0;h<u;h++){var g=o.getColumnAtX(h),m=r.getColumnWidth(g);d.push({col:g,xPos:h,editable:s.isColumnEditable(g),focusedCol:this.__focusedCol==g,styleLeft:c,styleWidth:m});c+=m}for(var f=[],p=!1,_=e;_<e+t;_++){var x=n.isSelectedIndex(_),q=this.__focusedRow==_,v=this.__rowCacheGet(_,x,q);if(v)f.push(v);else{var b=[],y={table:i};y.styleHeight=l;y.row=_;y.selected=x;y.focusedRow=q;y.rowData=s.getRowData(_);y.rowData||(p=!0);b.push("<div ");var C=a.getRowAttributes(y);C&&b.push(C);var w=a.getRowClass(y);w&&b.push('class="',w,'" ');var E=a.createRowStyle(y);(E+=";position:relative;"+a.getRowHeightStyle(l)+"width:100%;")&&b.push('style="',E,'" ');b.push(">");var S=!1;for(h=0;h<u&&!S;h++){var T=d[h];for(var I in T)y[I]=T[I];g=y.col;y.value=s.getValue(g,_);var A=r.getDataCellRenderer(g);y.style=A.getDefaultCellStyle();S=A.createDataCellHtml(y,b)||!1}b.push("</div>");var D=b.join("");this.__rowCacheSet(_,D,x,q);f.push(D)}}this.fireDataEvent("paneReloadsData",p);return f.join("")},_scrollContent:function(e){var t=this.getContentElement().getDomElement();if(t&&t.firstChild){var i=t.firstChild,n=i.childNodes,s=this.getVisibleRowCount(),r=this.getFirstVisibleRow();if(r+s>this.getTable().getTableModel().getRowCount())this._updateAllRows();else{for(var o=e<0?s+e:0,a=e<0?0:s-e,l=Math.abs(e)-1;l>=0;l--){var u=n[o];try{i.removeChild(u)}catch(e){break}}this.__tableContainer||(this.__tableContainer=document.createElement("div"));var c="<div>";c+=this._getRowsHtml(r+a,Math.abs(e));c+="</div>";this.__tableContainer.innerHTML=c;var d=this.__tableContainer.firstChild.childNodes;if(e>0)for(l=d.length-1;l>=0;l--){u=d[0];i.appendChild(u)}else for(l=d.length-1;l>=0;l--){u=d[d.length-1];i.insertBefore(u,i.firstChild)}if(null!==this.__focusedRow){this._updateRowStyles(this.__focusedRow-e);this._updateRowStyles(this.__focusedRow)}this.fireEvent("paneUpdated")}}else this._updateAllRows()},_updateAllRows:function(){var e=this.getContentElement().getDomElement();if(e){var t=this.getTable(),i=t.getTableModel(),n=this.getPaneScroller().getTablePaneModel(),s=n.getColumnCount(),r=t.getRowHeight(),o=this.getFirstVisibleRow(),a=this.getVisibleRowCount(),l=i.getRowCount();o+a>l&&(a=Math.max(0,l-o));var u=n.getTotalWidth(),c=(a>0?["<div style='","width: 100%;",t.getForceLineHeight()?"line-height: "+r+"px;":"","overflow: hidden;","'>",this._getRowsHtml(o,a),"</div>"]:[]).join("");e.innerHTML=c;this.setWidth(u);this.__lastColCount=s;this.__lastRowCount=a;this.fireEvent("paneUpdated")}else this.addListenerOnce("appear",this._updateAllRows,this)}},destruct:function(){this.__tableContainer=this.__paneScroller=this.__rowCache=null;this.removeListener("track",this._onTrack,this)}});qx.ui.table.pane.Pane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.layout.HBox":{construct:!0},"qx.ui.core.Blocker":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.Header",{extend:qx.ui.core.Widget,construct:function(e){qx.ui.core.Widget.constructor.call(this);this._setLayout(new qx.ui.layout.HBox);this.__blocker=new qx.ui.core.Blocker(this);this.__paneScroller=e},members:{__paneScroller:null,__moveFeedback:null,__lastPointerOverColumn:null,__blocker:null,getPaneScroller:function(){return this.__paneScroller},getTable:function(){return this.__paneScroller.getTable()},getBlocker:function(){return this.__blocker},onColOrderChanged:function(){this._updateContent(!0)},onPaneModelChanged:function(){this._updateContent(!0)},onTableModelMetaDataChanged:function(){this._updateContent()},setColumnWidth:function(e,t,i){var n=this.getHeaderWidgetAtColumn(e);null!=n&&n.setWidth(t)},setPointerOverColumn:function(e){if(e!=this.__lastPointerOverColumn){if(null!=this.__lastPointerOverColumn){var t=this.getHeaderWidgetAtColumn(this.__lastPointerOverColumn);null!=t&&t.removeState("hovered")}null!=e&&this.getHeaderWidgetAtColumn(e).addState("hovered");this.__lastPointerOverColumn=e}},getHeaderWidgetAtColumn:function(e){var t=this.getPaneScroller().getTablePaneModel().getX(e);return this._getChildren()[t]},showColumnMoveFeedback:function(e,t){var i=this.getContentLocation();if(null==this.__moveFeedback){var n=this.getTable(),s=this.getPaneScroller().getTablePaneModel().getX(e),r=this._getChildren()[s],o=n.getTableModel(),a=n.getTableColumnModel(),l={xPos:s,col:e,name:o.getColumnName(e),table:n},u=a.getHeaderCellRenderer(e).createHeaderCell(l),c=r.getBounds();u.setWidth(c.width);u.setHeight(c.height);u.setZIndex(1e6);u.setOpacity(.8);u.setLayoutProperties({top:i.top});this.getApplicationRoot().add(u);this.__moveFeedback=u}this.__moveFeedback.setLayoutProperties({left:i.left+t});this.__moveFeedback.show()},hideColumnMoveFeedback:function(){if(null!=this.__moveFeedback){this.__moveFeedback.destroy();this.__moveFeedback=null}},isShowingColumnMoveFeedback:function(){return null!=this.__moveFeedback},_updateContent:function(e){var t=this.getTable(),i=t.getTableModel(),n=t.getTableColumnModel(),s=this.getPaneScroller().getTablePaneModel(),r=this._getChildren(),o=s.getColumnCount(),a=i.getSortColumnIndex();e&&this._cleanUpCells();var l={};l.sortedAscending=i.isSortAscending();for(var u=0;u<o;u++){var c=s.getColumnAtX(u);if(void 0!==c){var d=n.getColumnWidth(c),h=n.getHeaderCellRenderer(c);l.xPos=u;l.col=c;l.name=i.getColumnName(c);l.editable=i.isColumnEditable(c);l.sorted=c==a;l.table=t;var g=r[u];if(null==g){(g=h.createHeaderCell(l)).set({width:d});this._add(g)}else h.updateHeaderCell(l,g);if(0===u){g.addState("first");g.removeState("last")}else if(u===o-1){g.removeState("first");g.addState("last")}else{g.removeState("first");g.removeState("last")}}}},_cleanUpCells:function(){for(var e=this._getChildren(),t=e.length-1;t>=0;t--){e[t].destroy()}}},destruct:function(){this.__blocker.dispose();this._disposeObjects("__paneScroller")}});qx.ui.table.pane.Header.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.scroll.MScrollBarFactory":{require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.container.Composite":{construct:!0},"qx.ui.layout.HBox":{construct:!0},"qx.bom.client.Device":{construct:!0},"qx.bom.client.Scroll":{construct:!0},"qx.ui.layout.Canvas":{construct:!0},"qx.event.Timer":{construct:!0},"qx.ui.table.pane.FocusIndicator":{},"qx.ui.core.scroll.AbstractScrollArea":{},"qx.ui.table.pane.Clipper":{},"qx.ui.table.pane.CellEvent":{},"qx.lang.Number":{},"qx.ui.window.Window":{},"qx.event.GlobalError":{usage:"dynamic",require:!0}},environment:{provided:[],required:{"device.type":{construct:!0,className:"qx.bom.client.Device"},"os.scrollBarOverlayed":{construct:!0,className:"qx.bom.client.Scroll"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.Scroller",{extend:qx.ui.core.Widget,include:[qx.ui.core.scroll.MScrollBarFactory],construct:function(e){qx.ui.core.Widget.constructor.call(this);this.__table=e;var t=new qx.ui.layout.Grid;t.setColumnFlex(0,1);t.setRowFlex(1,1);this._setLayout(t);this.__header=this._showChildControl("header");this.__tablePane=this._showChildControl("pane");this.__top=new qx.ui.container.Composite(new qx.ui.layout.HBox).set({minWidth:0});this._add(this.__top,{row:0,column:0,colSpan:2});this._headerClipper=this._createHeaderClipper();this._headerClipper.add(this.__header);this._headerClipper.addListener("losecapture",this._onChangeCaptureHeader,this);this._headerClipper.addListener("pointermove",this._onPointermoveHeader,this);this._headerClipper.addListener("pointerdown",this._onPointerdownHeader,this);this._headerClipper.addListener("pointerup",this._onPointerupHeader,this);this._headerClipper.addListener("tap",this._onTapHeader,this);this.__top.add(this._headerClipper,{flex:1});this._paneClipper=this._createPaneClipper();this._paneClipper.add(this.__tablePane);this._paneClipper.addListener("roll",this._onRoll,this);this._paneClipper.addListener("pointermove",this._onPointermovePane,this);this._paneClipper.addListener("pointerdown",this._onPointerdownPane,this);this._paneClipper.addListener("tap",this._onTapPane,this);this._paneClipper.addListener("contextmenu",this._onTapPane,this);this._paneClipper.addListener("contextmenu",this._onContextMenu,this);"desktop"===qx.core.Environment.get("device.type")?this._paneClipper.addListener("dblclick",this._onDbltapPane,this):this._paneClipper.addListener("dbltap",this._onDbltapPane,this);this._paneClipper.addListener("resize",this._onResizePane,this);if(qx.core.Environment.get("os.scrollBarOverlayed")){this.__clipperContainer=new qx.ui.container.Composite;this.__clipperContainer.setLayout(new qx.ui.layout.Canvas);this.__clipperContainer.add(this._paneClipper,{edge:0});this._add(this.__clipperContainer,{row:1,column:0})}else this._add(this._paneClipper,{row:1,column:0});this.__horScrollBar=this._showChildControl("scrollbar-x");this.__verScrollBar=this._showChildControl("scrollbar-y");this.__focusIndicator=this.getChildControl("focus-indicator");this.initShowCellFocusIndicator();this.getChildControl("resize-line").hide();this.addListener("pointerout",this._onPointerout,this);this.addListener("appear",this._onAppear,this);this.addListener("disappear",this._onDisappear,this);this.__timer=new qx.event.Timer;this.__timer.addListener("interval",this._oninterval,this);this.initScrollTimeout()},statics:{MIN_COLUMN_WIDTH:10,RESIZE_REGION_RADIUS:5,TAP_TOLERANCE:5,HORIZONTAL_SCROLLBAR:1,VERTICAL_SCROLLBAR:2},events:{changeScrollY:"qx.event.type.Data",changeScrollX:"qx.event.type.Data",cellTap:"qx.ui.table.pane.CellEvent",cellDbltap:"qx.ui.table.pane.CellEvent",cellContextmenu:"qx.ui.table.pane.CellEvent",beforeSort:"qx.event.type.Data"},properties:{horizontalScrollBarVisible:{check:"Boolean",init:!1,apply:"_applyHorizontalScrollBarVisible",event:"changeHorizontalScrollBarVisible",nullable:!0},verticalScrollBarVisible:{check:"Boolean",init:!1,apply:"_applyVerticalScrollBarVisible",event:"changeVerticalScrollBarVisible"},tablePaneModel:{check:"qx.ui.table.pane.Model",apply:"_applyTablePaneModel",event:"changeTablePaneModel"},liveResize:{check:"Boolean",init:!1},focusCellOnPointerMove:{check:"Boolean",init:!1},selectBeforeFocus:{check:"Boolean",init:!1},showCellFocusIndicator:{check:"Boolean",init:!0,apply:"_applyShowCellFocusIndicator"},contextMenuFromDataCellsOnly:{check:"Boolean",init:!0},resetSelectionOnHeaderTap:{check:"Boolean",init:!0},scrollTimeout:{check:"Integer",init:100,apply:"_applyScrollTimeout"},appearance:{refine:!0,init:"table-scroller"}},members:{__lastRowCount:null,__table:null,__updateInterval:null,__updateContentPlanned:null,__onintervalWrapper:null,_moveColumn:null,__lastMoveColPos:null,_lastMoveTargetX:null,_lastMoveTargetScroller:null,__lastMovePointerPageX:null,__resizeColumn:null,__lastResizePointerPageX:null,__lastResizeWidth:null,__lastPointerDownCell:null,__firedTapEvent:!1,__ignoreTap:null,__lastPointerPageX:null,__lastPointerPageY:null,__focusedCol:null,__focusedRow:null,_cellEditor:null,__cellEditorFactory:null,__topRightWidget:null,__horScrollBar:null,__verScrollBar:null,__header:null,_headerClipper:null,__tablePane:null,_paneClipper:null,__clipperContainer:null,__focusIndicator:null,__top:null,__timer:null,__focusIndicatorPointerDownListener:null,getPaneInsetRight:function(){var e=this.getTopRightWidget(),t=e&&e.isVisible()&&e.getBounds()?e.getBounds().width+e.getMarginLeft()+e.getMarginRight():0,i=this.__verScrollBar,n=this.getVerticalScrollBarVisible()?this.getVerticalScrollBarWidth()+i.getMarginLeft()+i.getMarginRight():0;return Math.max(t,n)},setPaneWidth:function(e){this.isVerticalScrollBarVisible()&&(e+=this.getPaneInsetRight());this.setWidth(e)},_createChildControlImpl:function(e,t){var i;switch(e){case"header":i=this.getTable().getNewTablePaneHeader()(this);break;case"pane":i=this.getTable().getNewTablePane()(this);break;case"focus-indicator":(i=new qx.ui.table.pane.FocusIndicator(this)).setUserBounds(0,0,0,0);i.setZIndex(1e3);i.addListener("pointerup",this._onPointerupFocusIndicator,this);this._paneClipper.add(i);i.show();i.setDecorator(null);break;case"resize-line":(i=new qx.ui.core.Widget).setUserBounds(0,0,0,0);i.setZIndex(1e3);this._paneClipper.add(i);break;case"scrollbar-x":(i=this._createScrollBar("horizontal").set({alignY:"bottom"})).addListener("scroll",this._onScrollX,this);if(null!=this.__clipperContainer){i.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this.__clipperContainer.add(i,{bottom:0,right:0,left:0})}else this._add(i,{row:2,column:0});break;case"scrollbar-y":(i=this._createScrollBar("vertical")).addListener("scroll",this._onScrollY,this);null!=this.__clipperContainer?this.__clipperContainer.add(i,{right:0,bottom:0,top:0}):this._add(i,{row:1,column:1})}return i||qx.ui.table.pane.Scroller.prototype._createChildControlImpl.base.call(this,e)},_applyHorizontalScrollBarVisible:function(e,t){null===e?this.__horScrollBar.setVisibility("hidden"):this.__horScrollBar.setVisibility(e?"visible":"excluded")},_applyVerticalScrollBarVisible:function(e,t){this.__verScrollBar.setVisibility(e?"visible":"excluded")},_applyTablePaneModel:function(e,t){null!=t&&t.removeListener("modelChanged",this._onPaneModelChanged,this);e.addListener("modelChanged",this._onPaneModelChanged,this)},_applyShowCellFocusIndicator:function(e,t){if(e){this.__focusIndicator.setDecorator("table-scroller-focus-indicator");this._updateFocusIndicator()}else this.__focusIndicator&&this.__focusIndicator.setDecorator(null)},getScrollY:function(){return this.__verScrollBar.getPosition()},setScrollY:function(e,t){this.__verScrollBar.scrollTo(e);t&&this._updateContent()},getScrollX:function(){return this.__horScrollBar.getPosition()},setScrollX:function(e){this.__horScrollBar.scrollTo(e)},getTable:function(){return this.__table},_createPaneClipper:function(){return new qx.ui.table.pane.Clipper},_createHeaderClipper:function(){return new qx.ui.table.pane.Clipper},onColVisibilityChanged:function(){this.updateHorScrollBarMaximum();this._updateFocusIndicator()},setColumnWidth:function(e,t){this.__header.setColumnWidth(e,t);this.__tablePane.setColumnWidth(e,t);if(-1!=this.getTablePaneModel().getX(e)){this.updateHorScrollBarMaximum();this._updateFocusIndicator()}},onColOrderChanged:function(){this.__header.onColOrderChanged();this.__tablePane.onColOrderChanged();this.updateHorScrollBarMaximum()},onTableModelDataChanged:function(e,t,i,n){this.__tablePane.onTableModelDataChanged(e,t,i,n);var s=this.getTable().getTableModel().getRowCount(),r=this.__table.getTableColumnModel().getOverallColumnCount();if(s!=this.__lastRowCount){this.updateVerScrollBarMaximum();null===this.getFocusedRow()&&s>0&&r>0?this.setFocusedCell(this.getFocusedColumn()||0,0):this.getFocusedRow()>=s&&(0==s?this.setFocusedCell(null,null):this.setFocusedCell(this.getFocusedColumn(),s-1));this.__lastRowCount=s}},onSelectionChanged:function(){this.__tablePane.onSelectionChanged()},onFocusChanged:function(){this.__tablePane.onFocusChanged()},onTableModelMetaDataChanged:function(){this.__header.onTableModelMetaDataChanged();this.__tablePane.onTableModelMetaDataChanged()},_onPaneModelChanged:function(){this.__header.onPaneModelChanged();this.__tablePane.onPaneModelChanged()},_onResizePane:function(){this.updateHorScrollBarMaximum();this.updateVerScrollBarMaximum();this._updateContent();this.__header._updateContent();this.__table._updateScrollBarVisibility()},updateHorScrollBarMaximum:function(){var e=this._paneClipper.getInnerSize();if(e){var t=this.getTablePaneModel().getTotalWidth(),i=this.__horScrollBar;if(e.width<t){var n=Math.max(0,t-e.width);i.setMaximum(n);i.setKnobFactor(e.width/t);var s=i.getPosition();i.setPosition(Math.min(s,n))}else{i.setMaximum(0);i.setKnobFactor(1);i.setPosition(0)}}},updateVerScrollBarMaximum:function(){var e=this._paneClipper.getInnerSize();if(e){var t=this.getTable().getTableModel().getRowCount();this.getTable().getKeepFirstVisibleRowComplete()&&(t+=1);var i=t*this.getTable().getRowHeight(),n=this.__verScrollBar;if(e.height<i){var s=Math.max(0,i-e.height);n.setMaximum(s);n.setKnobFactor(e.height/i);var r=n.getPosition();n.setPosition(Math.min(r,s))}else{n.setMaximum(0);n.setKnobFactor(1);n.setPosition(0)}}},onKeepFirstVisibleRowCompleteChanged:function(){this.updateVerScrollBarMaximum();this._updateContent()},_onAppear:function(){this._startInterval(this.getScrollTimeout())},_onDisappear:function(){this._stopInterval()},_onScrollX:function(e){var t=e.getData();this.fireDataEvent("changeScrollX",t,e.getOldData());this._headerClipper.scrollToX(t);this._paneClipper.scrollToX(t)},__inOnScrollY:!1,_onScrollY:function(e){if(!this.__inOnScrollY){var t=this.__verScrollBar;this.__inOnScrollY=!0;var i=this.getTable().getRowHeight(),n=e.getData()-e.getOldData();Math.abs(n)>1&&Math.abs(n)<i&&(n=e.getOldData()+Math.sign(n)*i)>=0&&n<=t.getMaximum()&&t.setPosition(n);this.__inOnScrollY=!1;this.fireDataEvent("changeScrollY",t.getPosition(),e.getOldData());this._postponedUpdateContent()}},_onRoll:function(e){var t=this.getTable();if("mouse"!=e.getPointerType()&&t.getEnabled()){var i=e.getDelta();i.y>0&&i.y<1?i.y=1:i.y<0&&i.y>-1&&(i.y=-1);this.__verScrollBar.scrollBy(parseInt(i.y,10));var n=0!=i.y&&!this.__isAtEdge(this.__verScrollBar,i.y);i.x>0&&i.x<1?i.x=1:i.x<0&&i.x>-1&&(i.x=-1);this.__horScrollBar.scrollBy(parseInt(i.x,10));this.__lastPointerPageX&&this.getFocusCellOnPointerMove()&&this._focusCellAtPagePos(this.__lastPointerPageX,this.__lastPointerPageY);(n=n||0!=i.x&&!this.__isAtEdge(this.__horScrollBar,i.x))?e.stop():e.stopMomentum()}},__isAtEdge:function(e,t){var i=e.getPosition();return t<0&&i<=0||t>0&&i>=e.getMaximum()},__handleResizeColumn:function(e){var t=this.getTable(),i=this.__header.getHeaderWidgetAtColumn(this.__resizeColumn).getSizeHint().minWidth,n=Math.max(i,this.__lastResizeWidth+e-this.__lastResizePointerPageX);if(this.getLiveResize()){t.getTableColumnModel().setColumnWidth(this.__resizeColumn,n,!0)}else{var s=this.getTablePaneModel();this._showResizeLine(s.getColumnLeft(this.__resizeColumn)+n)}this.__lastResizePointerPageX+=n-this.__lastResizeWidth;this.__lastResizeWidth=n},__handleMoveColumn:function(e){var t=qx.ui.table.pane.Scroller.TAP_TOLERANCE;if(this.__header.isShowingColumnMoveFeedback()||e>this.__lastMovePointerPageX+t||e<this.__lastMovePointerPageX-t){this.__lastMoveColPos+=e-this.__lastMovePointerPageX;this.__header.showColumnMoveFeedback(this._moveColumn,this.__lastMoveColPos);var i=this.__table.getTablePaneScrollerAtPageX(e);this._lastMoveTargetScroller&&this._lastMoveTargetScroller!=i&&this._lastMoveTargetScroller.hideColumnMoveFeedback();this._lastMoveTargetX=null!=i?i.showColumnMoveFeedback(e):null;this._lastMoveTargetScroller=i;this.__lastMovePointerPageX=e}},_onPointermoveHeader:function(e){var t=this.getTable();if(t.getEnabled()){var i=!1,n=null,s=e.getDocumentLeft(),r=e.getDocumentTop();this.__lastPointerPageX=s;this.__lastPointerPageY=r;if(null!=this.__resizeColumn){this.__handleResizeColumn(s);i=!0;e.stopPropagation()}else if(null!=this._moveColumn){this.__handleMoveColumn(s);e.stopPropagation()}else{if(-1!=this._getResizeColumnForPageX(s))i=!0;else{var o=t.getTableModel(),a=this._getColumnForPageX(s);null!=a&&o.isColumnSortable(a)&&(n=a)}}var l=i?"col-resize":null;this.getApplicationRoot().setGlobalCursor(l);this.setCursor(l);this.__header.setPointerOverColumn(n)}},_onPointermovePane:function(e){if(this.getTable().getEnabled()){var t=e.getDocumentLeft(),i=e.getDocumentTop();this.__lastPointerPageX=t;this.__lastPointerPageY=i;var n=!1;-1!=this._getResizeColumnForPageX(t)&&(n=!0);var s=n?"col-resize":null;this.getApplicationRoot().setGlobalCursor(s);this.setCursor(s);null!=this._getRowForPagePos(t,i)&&null!=this._getColumnForPageX(t)&&this.getFocusCellOnPointerMove()&&this._focusCellAtPagePos(t,i);this.__header.setPointerOverColumn(null)}},_onPointerdownHeader:function(e){if(this.getTable().getEnabled()){var t=e.getDocumentLeft(),i=this._getResizeColumnForPageX(t);if(-1!=i){this._startResizeHeader(i,t);e.stop()}else{var n=this._getColumnForPageX(t);if(null!=n){this._startMoveHeader(n,t);e.stop()}}}},_startResizeHeader:function(e,t){var i=this.getTable().getTableColumnModel();this.__resizeColumn=e;this.__lastResizePointerPageX=t;this.__lastResizeWidth=i.getColumnWidth(this.__resizeColumn);this._headerClipper.capture()},_startMoveHeader:function(e,t){this._moveColumn=e;this.__lastMovePointerPageX=t;this.__lastMoveColPos=this.getTablePaneModel().getColumnLeft(e);this._headerClipper.capture()},_onPointerdownPane:function(e){var t=this.getTable();if(t.getEnabled()){t.isEditing()&&t.stopEditing();var i=e.getDocumentLeft(),n=this._getResizeColumnForPageX(i);if(-1==n){var s=e.getDocumentTop(),r=this._getRowForPagePos(i,s),o=this._getColumnForPageX(i);if(null!==r){this.__lastPointerDownCell={row:r,col:o};this.__firedTapEvent=!1}}else{this._startResizeHeader(n,i);e.stop()}}},_onPointerupFocusIndicator:function(e){if(!this.__lastPointerDownCell||this.__firedTapEvent||this.isEditing()||this.__focusIndicator.getRow()!=this.__lastPointerDownCell.row||this.__focusIndicator.getColumn()!=this.__lastPointerDownCell.col)this.isEditing()||this._onPointerdownPane(e);else{this.fireEvent("cellTap",qx.ui.table.pane.CellEvent,[this,e,this.__lastPointerDownCell.row,this.__lastPointerDownCell.col],!0);this.__firedTapEvent=!0}},_onChangeCaptureHeader:function(e){null!=this.__resizeColumn&&this._stopResizeHeader();null!=this._moveColumn&&this._stopMoveHeader()},_stopResizeHeader:function(){var e=this.getTable().getTableColumnModel();if(!this.getLiveResize()){this._hideResizeLine();e.setColumnWidth(this.__resizeColumn,this.__lastResizeWidth,!0)}this.__resizeColumn=null;this._headerClipper.releaseCapture();this.getApplicationRoot().setGlobalCursor(null);this.setCursor(null)},_stopMoveHeader:function(){var e=this.getTable().getTableColumnModel(),t=this.getTablePaneModel();this.__header.hideColumnMoveFeedback();this._lastMoveTargetScroller&&this._lastMoveTargetScroller.hideColumnMoveFeedback();if(null!=this._lastMoveTargetX){var i=t.getFirstColumnX()+t.getX(this._moveColumn),n=this._lastMoveTargetX;if(n!=i&&n!=i+1){var s=e.getVisibleColumnAtX(i),r=e.getVisibleColumnAtX(n),o=e.getOverallX(s),a=null!=r?e.getOverallX(r):e.getOverallColumnCount();a>o&&a--;e.moveColumn(o,a);this._updateFocusIndicator()}}this._moveColumn=null;this._lastMoveTargetX=null;this._headerClipper.releaseCapture()},_onPointerupHeader:function(e){if(this.getTable().getEnabled())if(null!=this.__resizeColumn){this._stopResizeHeader();this.__ignoreTap=!0;e.stop()}else if(null!=this._moveColumn){this._stopMoveHeader();e.stop()}},_onTapHeader:function(e){if(this.__ignoreTap)this.__ignoreTap=!1;else{var t=this.getTable();if(t.getEnabled()){var i=t.getTableModel(),n=e.getDocumentLeft();if(-1==this._getResizeColumnForPageX(n)){var s=this._getColumnForPageX(n);if(null!=s&&i.isColumnSortable(s)){var r=s!=i.getSortColumnIndex()||!i.isSortAscending(),o={column:s,ascending:r,tapEvent:e};if(this.fireDataEvent("beforeSort",o,null,!0)){t.isEditing()&&t.stopEditing();i.sortByColumn(s,r);this.getResetSelectionOnHeaderTap()&&t.getSelectionModel().resetSelection()}}}e.stop()}}},_onTapPane:function(e){var t=this.getTable();if(t.getEnabled()){var i=e.getDocumentLeft(),n=e.getDocumentTop(),s=this._getRowForPagePos(i,n),r=this._getColumnForPageX(i);if(null!=s&&null!=r){var o=this.getSelectBeforeFocus();o&&t.getSelectionManager().handleTap(s,e);this.getFocusCellOnPointerMove()||this._focusCellAtPagePos(i,n);o||t.getSelectionManager().handleTap(s,e);if(this.__focusIndicator.isHidden()||this.__lastPointerDownCell&&!this.__firedTapEvent&&!this.isEditing()&&s==this.__lastPointerDownCell.row&&r==this.__lastPointerDownCell.col){this.fireEvent("cellTap",qx.ui.table.pane.CellEvent,[this,e,s,r],!0);this.__firedTapEvent=!0}}}},_onContextMenu:function(e){var t=e.getDocumentLeft(),i=e.getDocumentTop(),n=this._getRowForPagePos(t,i),s=this._getColumnForPageX(t);if((null!==n||!this.getContextMenuFromDataCellsOnly())&&(!this.getShowCellFocusIndicator()||null===n||this.__lastPointerDownCell&&n==this.__lastPointerDownCell.row&&s==this.__lastPointerDownCell.col)){this.fireEvent("cellContextmenu",qx.ui.table.pane.CellEvent,[this,e,n,s],!0);var r=this.getTable().getContextMenu();if(r){r.getChildren().length>0?r.openAtPointer(e):r.exclude();e.preventDefault()}}},_onContextMenuOpen:function(e){},_onDbltapPane:function(e){var t=e.getDocumentLeft(),i=e.getDocumentTop();if(null!==this._getColumnForPageX(t)){this._focusCellAtPagePos(t,i);this.startEditing();var n=this._getRowForPagePos(t,i);-1!=n&&null!=n&&this.fireEvent("cellDbltap",qx.ui.table.pane.CellEvent,[this,e,n],!0)}},_onPointerout:function(e){if(this.getTable().getEnabled()){if(null==this.__resizeColumn){this.setCursor(null);this.getApplicationRoot().setGlobalCursor(null)}this.__header.setPointerOverColumn(null);this.getFocusCellOnPointerMove()&&this.__table.setFocusedCell()}},_showResizeLine:function(e){var t=this._showChildControl("resize-line"),i=t.getWidth(),n=this._paneClipper.getBounds();t.setUserBounds(e-Math.round(i/2),0,i,n.height)},_hideResizeLine:function(){this._excludeChildControl("resize-line")},showColumnMoveFeedback:function(e){for(var t=this.getTablePaneModel(),i=this.getTable().getTableColumnModel(),n=this.__tablePane.getContentLocation().left,s=t.getColumnCount(),r=0,o=0,a=n,l=0;l<s;l++){var u=t.getColumnAtX(l),c=i.getColumnWidth(u);if(e<a+c/2)break;r=l+1;o=(a+=c)-n}var d=this._paneClipper.getContentLocation().left,h=this._paneClipper.getBounds().width,g=d-n;o=qx.lang.Number.limit(o,g+2,g+h-1);this._showResizeLine(o);return t.getFirstColumnX()+r},hideColumnMoveFeedback:function(){this._hideResizeLine()},_focusCellAtPagePos:function(e,t){var i=this._getRowForPagePos(e,t);if(-1!=i&&null!=i){var n=this._getColumnForPageX(e);this.__table.setFocusedCell(n,i)}},setFocusedCell:function(e,t){if(!this.isEditing()){this.__tablePane.setFocusedCell(e,t,this.__updateContentPlanned);this.__focusedCol=e;this.__focusedRow=t;this._updateFocusIndicator()}},getFocusedColumn:function(){return this.__focusedCol},getFocusedRow:function(){return this.__focusedRow},scrollCellVisible:function(e,t){var i=this.getTablePaneModel();if(-1!=i.getX(e)){var n=this._paneClipper.getInnerSize();if(!n)return;var s=this.getTable().getTableColumnModel(),r=i.getColumnLeft(e),o=s.getColumnWidth(e),a=this.getTable().getRowHeight(),l=t*a,u=this.getScrollX(),c=this.getScrollY(),d=Math.min(r,r+o-n.width),h=r;this.setScrollX(Math.max(d,Math.min(h,u)));var g=l+a-n.height;this.getTable().getKeepFirstVisibleRowComplete()&&(g+=a);var m=l;this.setScrollY(Math.max(g,Math.min(m,c)),!0)}},isEditing:function(){return null!=this._cellEditor},startEditing:function(){var e=this.getTable(),t=e.getTableModel(),i=this.__focusedCol;if(!this.isEditing()&&null!=i&&t.isColumnEditable(i)){var n=this.__focusedRow,s=this.getTablePaneModel().getX(i),r=t.getValue(i,n);this.scrollCellVisible(i,n);this.__cellEditorFactory=e.getTableColumnModel().getCellEditorFactory(i);var o={col:i,row:n,xPos:s,value:r,table:e};this._cellEditor=this.__cellEditorFactory.createCellEditor(o);if(null===this._cellEditor)return!1;if(this._cellEditor instanceof qx.ui.window.Window){this._cellEditor.setModal(!0);this._cellEditor.setShowClose(!1);this._cellEditor.addListener("close",this._onCellEditorModalWindowClose,this);var a=e.getModalCellEditorPreOpenFunction();null!=a&&a(this._cellEditor,o);this._cellEditor.open()}else{this.__focusIndicatorPointerDownListener=this.__focusIndicator.addListener("pointerdown",function(e){this.__lastPointerDownCell={row:this.__focusedRow,col:this.__focusedCol};e.stopPropagation()},this);this.__focusIndicator.add(this._cellEditor);this.__focusIndicator.addState("editing");this.__focusIndicator.setKeepActive(!1);this.__focusIndicator.setDecorator("table-scroller-focus-indicator");this._cellEditor.focus();this._cellEditor.activate()}return!0}return!1},stopEditing:function(){this.getShowCellFocusIndicator()||this.__focusIndicator.setDecorator(null);this.flushEditor(!0)},flushEditor:function(e){if(this.isEditing()){var t=this.__cellEditorFactory.getCellEditorValue(this._cellEditor),i=this.getTable().getTableModel().getValue(this.__focusedCol,this.__focusedRow);this.getTable().getTableModel().setValue(this.__focusedCol,this.__focusedRow,t);this.__table.focus();e&&this.cancelEditing();this.__table.fireDataEvent("dataEdited",{row:this.__focusedRow,col:this.__focusedCol,oldValue:i,value:t})}},cancelEditing:function(){if(this.isEditing()){if(!(this._cellEditor instanceof qx.ui.window.Window)){this.__focusIndicator.removeState("editing");this.__focusIndicator.setKeepActive(!0);if(null!==this.__focusIndicatorPointerDownListener){this.__focusIndicator.removeListenerById(this.__focusIndicatorPointerDownListener);this.__focusIndicatorPointerDownListener=null}}this._cellEditor.destroy();this._cellEditor=null;this.__cellEditorFactory=null}},_onCellEditorModalWindowClose:function(e){this.stopEditing()},_getColumnForPageX:function(e){for(var t=this.getTable().getTableColumnModel(),i=this.getTablePaneModel(),n=i.getColumnCount(),s=this.__tablePane.getContentLocation().left,r=0;r<n;r++){var o=i.getColumnAtX(r);if(e<(s+=t.getColumnWidth(o)))return o}return null},_getResizeColumnForPageX:function(e){var t=this.__header.getContentLocation()||this.__tablePane.getContentLocation();if(t)for(var i=t.left,n=this.getTable().getTableColumnModel(),s=this.getTablePaneModel(),r=s.getColumnCount(),o=qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS,a=0;a<r;a++){var l=s.getColumnAtX(a);if(e>=(i+=n.getColumnWidth(l))-o&&e<=i+o)return l}return-1},_getRowForPagePos:function(e,t){var i=this.__tablePane.getContentLocation();if(e<i.left||e>i.right)return null;if(t>=i.top&&t<=i.bottom){var n=this.getTable().getRowHeight(),s=this.__verScrollBar.getPosition();this.getTable().getKeepFirstVisibleRowComplete()&&(s=Math.floor(s/n)*n);var r=s+t-i.top,o=Math.floor(r/n);return o<this.getTable().getTableModel().getRowCount()?o:null}var a=this.__header.getContentLocation();return t>=a.top&&t<=a.bottom&&e<=a.right?-1:null},setTopRightWidget:function(e){var t=this.__topRightWidget;null!=t&&this.__top.remove(t);null!=e&&this.__top.add(e);this.__topRightWidget=e},getTopRightWidget:function(){return this.__topRightWidget},getHeader:function(){return this.__header},getTablePane:function(){return this.__tablePane},getVerticalScrollBarWidth:function(){var e=this.__verScrollBar;return e.isVisible()&&e.getSizeHint().width||0},getNeededScrollBars:function(e,t){var i=this.__verScrollBar,n=i.getSizeHint().width+i.getMarginLeft()+i.getMarginRight(),s=this.__horScrollBar,r=s.getSizeHint().height+s.getMarginTop()+s.getMarginBottom(),o=this._paneClipper.getInnerSize(),a=o?o.width:0;this.getVerticalScrollBarVisible()&&(a+=n);var l=o?o.height:0;this.getHorizontalScrollBarVisible()&&(l+=r);var u=this.getTable().getTableModel().getRowCount(),c=this.getTablePaneModel().getTotalWidth(),d=this.getTable().getRowHeight()*u,h=!1,g=!1;if(c>a){h=!0;d>l-r&&(g=!0)}else if(d>l){g=!0;!t&&c>a-n&&(h=!0)}var m=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR,f=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;return(e||h?m:0)|(t||!g?0:f)},getPaneClipper:function(){return this._paneClipper},getScrollAreaContainer:function(){return this.getPaneClipper()},_applyScrollTimeout:function(e,t){this._startInterval(e)},_startInterval:function(e){this.__timer.setInterval(e);this.__timer.start()},_stopInterval:function(){this.__timer.stop()},_postponedUpdateContent:function(){this._updateContent()},_oninterval:qx.event.GlobalError.observeMethod(function(){if(this.__updateContentPlanned&&!this.__tablePane._layoutPending){this.__updateContentPlanned=!1;this._updateContent()}}),_updateContent:function(){var e=this._paneClipper.getInnerSize();if(e){var t=e.height,i=this.__horScrollBar.getPosition(),n=this.__verScrollBar.getPosition(),s=this.getTable().getRowHeight(),r=Math.floor(n/s),o=this.__tablePane.getFirstVisibleRow();this.__tablePane.setFirstVisibleRow(r);var a=Math.ceil(t/s),l=0,u=this.getTable().getKeepFirstVisibleRowComplete();if(!u){a++;l=n%s}this.__tablePane.setVisibleRowCount(a);r!=o&&this._updateFocusIndicator();this._paneClipper.scrollToX(i);u||this._paneClipper.scrollToY(l)}},_updateFocusIndicator:function(){this.getTable().getEnabled()&&this.__focusIndicator.moveToCell(this.__focusedCol,this.__focusedRow)}},destruct:function(){this._stopInterval();var e=this.getTablePaneModel();e&&e.dispose();this.__lastPointerDownCell=this.__topRightWidget=this.__table=null;this._disposeObjects("__horScrollBar","__verScrollBar","_headerClipper","_paneClipper","__focusIndicator","__header","__tablePane","__top","__timer","__clipperContainer")}});qx.ui.table.pane.Scroller.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.Model",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.setTableColumnModel(e)},events:{modelChanged:"qx.event.type.Event"},statics:{EVENT_TYPE_MODEL_CHANGED:"modelChanged"},properties:{firstColumnX:{check:"Integer",init:0,apply:"_applyFirstColumnX"},maxColumnCount:{check:"Number",init:-1,apply:"_applyMaxColumnCount"}},members:{__columnCount:null,__tableColumnModel:null,_applyFirstColumnX:function(e,t){this.__columnCount=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED)},_applyMaxColumnCount:function(e,t){this.__columnCount=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED)},setTableColumnModel:function(e){if(this.__tableColumnModel){this.__tableColumnModel.removeListener("visibilityChangedPre",this._onColVisibilityChanged,this);this.__tableColumnModel.removeListener("headerCellRendererChanged",this._onHeaderCellRendererChanged,this)}this.__tableColumnModel=e;this.__tableColumnModel.addListener("visibilityChangedPre",this._onColVisibilityChanged,this);this.__tableColumnModel.addListener("headerCellRendererChanged",this._onHeaderCellRendererChanged,this);this.__columnCount=null},_onColVisibilityChanged:function(e){this.__columnCount=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED)},_onHeaderCellRendererChanged:function(e){this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED)},getColumnCount:function(){if(null==this.__columnCount){var e=this.getFirstColumnX(),t=this.getMaxColumnCount(),i=this.__tableColumnModel.getVisibleColumnCount();this.__columnCount=-1==t||e+t>i?i-e:t}return this.__columnCount},getColumnAtX:function(e){var t=this.getFirstColumnX();return this.__tableColumnModel.getVisibleColumnAtX(t+e)},getX:function(e){var t=this.getFirstColumnX(),i=this.getMaxColumnCount(),n=this.__tableColumnModel.getVisibleX(e)-t;return n>=0&&(-1==i||n<i)?n:-1},getColumnLeft:function(e){for(var t=0,i=this.getColumnCount(),n=0;n<i;n++){var s=this.getColumnAtX(n);if(s==e)return t;t+=this.__tableColumnModel.getColumnWidth(s)}return-1},getTotalWidth:function(){for(var e=0,t=this.getColumnCount(),i=0;i<t;i++){var n=this.getColumnAtX(i);e+=this.__tableColumnModel.getColumnWidth(n)}return e}},destruct:function(){if(this.__tableColumnModel){this.__tableColumnModel.removeListener("visibilityChangedPre",this._onColVisibilityChanged,this);this.__tableColumnModel.removeListener("headerCellRendererChanged",this._onHeaderCellRendererChanged,this)}this.__tableColumnModel=null}});qx.ui.table.pane.Model.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.Grow":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.FocusIndicator",{extend:qx.ui.container.Composite,construct:function(e){qx.ui.container.Composite.constructor.call(this,new qx.ui.layout.Grow);this.__scroller=e;this.setKeepActive(!0);this.addListener("keypress",this._onKeyPress,this)},properties:{visibility:{refine:!0,init:"excluded"},row:{check:"Integer",nullable:!0},column:{check:"Integer",nullable:!0}},members:{__scroller:null,_onKeyPress:function(e){var t=e.getKeyIdentifier();"Escape"!==t&&"Enter"!==t&&e.stopPropagation()},moveToCell:function(e,t){if(this.__scroller.getShowCellFocusIndicator()||this.__scroller.getTable().getTableModel().isColumnEditable(e)){this.show();if(null==e){this.hide();this.setRow(null);this.setColumn(null)}else{if(-1==this.__scroller.getTablePaneModel().getX(e)){this.hide();this.setRow(null);this.setColumn(null)}else{var i=this.__scroller.getTable(),n=i.getTableColumnModel(),s=this.__scroller.getTablePaneModel(),r=this.__scroller.getTablePane().getFirstVisibleRow(),o=i.getRowHeight();this.setUserBounds(s.getColumnLeft(e)-2,(t-r)*o-2,n.getColumnWidth(e)+3,o+3);this.show();this.setRow(t);this.setColumn(e)}}}else this.exclude()}},destruct:function(){this.__scroller=null}});qx.ui.table.pane.FocusIndicator.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.table.IColumnMenuItem",{properties:{columnVisible:{}},events:{changeColumnVisible:"qx.event.type.Data"}});qx.ui.table.IColumnMenuItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.menu.CheckBox":{construct:!0,require:!0},"qx.ui.table.IColumnMenuItem":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.columnmenu.MenuItem",{extend:qx.ui.menu.CheckBox,implement:qx.ui.table.IColumnMenuItem,construct:function(e){qx.ui.menu.CheckBox.constructor.call(this,e);this.bind("value",this,"columnVisible");this.bind("columnVisible",this,"value")},properties:{columnVisible:{check:"Boolean",init:!0,event:"changeColumnVisible"}}});qx.ui.table.columnmenu.MenuItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.Grid":{construct:!0},"qx.ui.basic.Label":{},"qx.ui.basic.Image":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.headerrenderer.HeaderCell",{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.constructor.call(this);var e=new qx.ui.layout.Grid;e.setRowFlex(0,1);e.setColumnFlex(1,1);e.setColumnFlex(2,1);this.setLayout(e)},properties:{appearance:{refine:!0,init:"table-header-cell"},label:{check:"String",init:null,nullable:!0,apply:"_applyLabel"},sortIcon:{check:"String",init:null,nullable:!0,apply:"_applySortIcon",themeable:!0},icon:{check:"String",init:null,nullable:!0,apply:"_applyIcon"}},members:{_applyLabel:function(e,t){e?this._showChildControl("label").setValue(e):this._excludeChildControl("label")},_applySortIcon:function(e,t){e?this._showChildControl("sort-icon").setSource(e):this._excludeChildControl("sort-icon")},_applyIcon:function(e,t){e?this._showChildControl("icon").setSource(e):this._excludeChildControl("icon")},_createChildControlImpl:function(e,t){var i;switch(e){case"label":i=new qx.ui.basic.Label(this.getLabel()).set({anonymous:!0,allowShrinkX:!0});this._add(i,{row:0,column:1});break;case"sort-icon":(i=new qx.ui.basic.Image(this.getSortIcon())).setAnonymous(!0);this._add(i,{row:0,column:2});break;case"icon":i=new qx.ui.basic.Image(this.getIcon()).set({anonymous:!0,allowShrinkX:!0});this._add(i,{row:0,column:0})}return i||qx.ui.table.headerrenderer.HeaderCell.prototype._createChildControlImpl.base.call(this,e)}}});qx.ui.table.headerrenderer.HeaderCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.Grow":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.Clipper",{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.constructor.call(this,new qx.ui.layout.Grow);this.setMinWidth(0)},members:{scrollToX:function(e){this.getContentElement().scrollToX(e,!1)},scrollToY:function(e){this.getContentElement().scrollToY(e,!0)}}});qx.ui.table.pane.Clipper.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.pane.CellEvent",{extend:qx.event.type.Pointer,properties:{row:{check:"Integer",nullable:!0},column:{check:"Integer",nullable:!0}},members:{init:function(e,t,i,n){t.clone(this);this.setBubbles(!1);null!=i?this.setRow(i):this.setRow(e._getRowForPagePos(this.getDocumentLeft(),this.getDocumentTop()));null!=n?this.setColumn(n):this.setColumn(e._getColumnForPageX(this.getDocumentLeft()))},clone:function(e){var t=qx.ui.table.pane.CellEvent.prototype.clone.base.call(this,e);t.set({row:this.getRow(),column:this.getColumn()});return t}}});qx.ui.table.pane.CellEvent.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.model.Simple":{},"qx.ui.table.Table":{},"qx.event.type.Mouse":{},"qx.ui.table.pane.CellEvent":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.Table",{extend:qx.test.ui.LayoutTestCase,members:{createModel:function(){var e=new qx.ui.table.model.Simple;e.setColumns(["ID","A number","String","A date","Boolean"]);e.setData(this.createRandomRows(5));return e},createRandomRows:function(e){for(var t=[],i=0,n=["a","b","c","d"],s=0;s<e;s++){var r=new Date(s*s*s),o=s%2==0?s/2:NaN;t.push([i++,o,n[s%4],r,s%2==1])}return t},testSortInteger:function(){var e=this.createModel(),t=new qx.ui.table.Table(e);e.sortByColumn(0);for(var i=e.getData(),n=0;n<i.length-1;n++)this.assertTrue(i[n][0]>=i[n+1][0]);e.sortByColumn(0,!0);for(n=0;n<i.length-1;n++)this.assertTrue(i[n][0]<=i[n+1][0]);t.destroy();e.dispose()},testSortIntegerNaN:function(){var e=this.createModel(),t=new qx.ui.table.Table(e);e.sortByColumn(1);for(var i=e.getData(),n=0;n<i.length-1;n++)isNaN(i[n][1])?this.assertTrue(isNaN(i[n+1][1])):isNaN(i[n+1][1])?this.assertFalse(isNaN(i[n][1])):this.assertTrue(i[n][1]>=i[n+1][1]);e.sortByColumn(1,!0);for(i=e.getData(),n=0;n<i.length-1;n++)isNaN(i[n][1])?this.assertTrue(isNaN(i[n+1][1])):isNaN(i[n+1][1])?this.assertFalse(isNaN(i[n][1])):this.assertTrue(i[n][1]<=i[n+1][1]);t.destroy();e.dispose()},testSortIntegerNaNInsensitive:function(){var e=this.createModel(),t=new qx.ui.table.Table(e);e.setCaseSensitiveSorting(!1);e.sortByColumn(1);for(var i=e.getData(),n=0;n<i.length-1;n++)isNaN(i[n][1])?this.assertTrue(isNaN(i[n+1][1])):isNaN(i[n+1][1])?this.assertFalse(isNaN(i[n][1])):this.assertTrue(i[n][1]>=i[n+1][1]);e.sortByColumn(1,!0);for(i=e.getData(),n=0;n<i.length-1;n++)isNaN(i[n][1])?this.assertTrue(isNaN(i[n+1][1])):isNaN(i[n+1][1])?this.assertFalse(isNaN(i[n][1])):this.assertTrue(i[n][1]<=i[n+1][1]);t.destroy();e.dispose()},testSortStringInsensitive:function(){var e=this.createModel(),t=new qx.ui.table.Table(e);e.setCaseSensitiveSorting(!1);e.sortByColumn(2);for(var i=e.getData(),n=0;n<i.length-1;n++)this.assertTrue(i[n][2]>=i[n+1][2]);e.sortByColumn(2,!0);for(n=0;n<i.length-1;n++)this.assertTrue(i[n][2]<=i[n+1][2]);t.destroy();e.dispose()},testSortString:function(){var e=this.createModel(),t=new qx.ui.table.Table(e);e.sortByColumn(2);for(var i=e.getData(),n=0;n<i.length-1;n++)this.assertTrue(i[n][2]>=i[n+1][2]);e.sortByColumn(2,!0);for(n=0;n<i.length-1;n++)this.assertTrue(i[n][2]<=i[n+1][2]);t.destroy();e.dispose()},testRegularListener:function(){var e=new qx.ui.table.Table,t=!1,i=e.addListener("changeRowHeight",function(){t=!0},this);this.assertNotNull(i);e.removeListenerById(i);e.setRowHeight(111);this.assertFalse(t);e.destroy()},testSpecialListener:function(){var e=new qx.ui.table.Table;e.setMetaColumnCounts([1,-1]);var t=!1,i=e.addListener("cellClick",function(){t=!0},this);this.assertNotNull(i);e.removeListenerById(i);var n=e._getPaneScrollerArr()[0],s=new qx.event.type.Mouse;s.init({},n,n,!1,!0);n.fireEvent("cellClick",qx.ui.table.pane.CellEvent,[n,s,0,0],!0);this.assertFalse(t,"Listener not removed");s.dispose();e.destroy()},testScrollAfterScrollbarVisibilityChange:function(){for(var e=[],t=0;t<15;t++)e.push([t]);var i=new qx.ui.table.model.Simple;i.setColumns(["ID"]);i.setData(e);var n=new qx.ui.table.Table(i).set({width:200,height:200});this.getRoot().add(n);qx.ui.core.queue.Manager.flush();n.getPaneScroller(0).setScrollY(100);n.getTableColumnModel().setColumnWidth(0,300);n.getTableColumnModel().setColumnWidth(0,100);this.assertEquals(100,n.getPaneScroller(0).getScrollY());n.destroy();i.dispose()},testFocusAfterRemove:function(){var e=new qx.ui.table.model.Simple;e.setColumns(["Location","Team"]);var t=new qx.ui.table.Table(e);e.setData([[1,"team1"],[2,"team2"],[3,"team3"]]);t.getSelectionModel().addSelectionInterval(1,1);t.setFocusedCell(1,1);e.removeRows(1,1);this.assertEquals(null,t.getFocusedRow());this.assertEquals(0,t.getSelectionModel().getSelectedCount());t.destroy();e.dispose()}}});qx.test.ui.table.Table.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.celleditor.AbstractField",{extend:qx.test.ui.LayoutTestCase,type:"abstract",members:{setUp:function(){throw new Error("Abstract method call!")},tearDown:function(){this.flush()},_getCellInfo:function(e){return{value:e}},testCreateCellEditor:function(){var e=this.factory.createCellEditor(this._getCellInfo());this.assertInstance(e,qx.ui.core.Widget);this.assertEquals("",e.getValue());e.destroy()},testCreateCellEditorWithValue:function(){var e=this.factory.createCellEditor(this._getCellInfo("juhu"));this.assertEquals("juhu",e.getValue());e.destroy()},testGetCellEditorValue:function(){var e=this.factory.createCellEditor(this._getCellInfo());e.setValue("Kinners");this.assertEquals("Kinners",this.factory.getCellEditorValue(e));e.destroy()},testValidationFunction:function(){var e=!1;this.factory.setValidationFunction(function(t){e=!0;return"_"+t+"_"});var t=this.factory.createCellEditor(this._getCellInfo());t.setValue("juhu");var i=this.factory.getCellEditorValue(t);this.assert(e);this.assertEquals("_juhu_",i);t.setValue("kinners");i=this.factory.getCellEditorValue(t);this.assert(e);this.assertEquals("_kinners_",i)},testAutoconvertToNumber:function(){var e=this.factory.createCellEditor(this._getCellInfo(10));e.setValue("-12.5");this.assertEquals(-12.5,this.factory.getCellEditorValue(e));this.assertNumber(this.factory.getCellEditorValue(e));e.destroy()}}});qx.test.ui.table.celleditor.AbstractField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.table.celleditor.AbstractField":{require:!0},"qx.ui.table.celleditor.ComboBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.celleditor.ComboBox",{extend:qx.test.ui.table.celleditor.AbstractField,members:{setUp:function(){this.factory=new qx.ui.table.celleditor.ComboBox},tearDown:function(){qx.test.ui.table.celleditor.ComboBox.prototype.tearDown.base.call(this);this.factory.dispose()},_getCellInfo:function(e){return{value:e,col:0,table:{getTableColumnModel:function(){return{getDataCellRenderer:function(e){return{_getContentHtml:function(e){return e.value}}}}}}}},testChangeEditorSelection:function(){this.factory.setListData(["elefant","affe","banane"]);var e=this.factory.createCellEditor(this._getCellInfo("affe")),t=e.getChildControl("list");this.assertEquals("affe",t.getSelection()[0].getLabel());t.setSelection([t.getChildren()[2]]);this.assertEquals("banane",this.factory.getCellEditorValue(e));e.destroy()}}});qx.test.ui.table.celleditor.ComboBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.table.ICellEditorFactory":{require:!0},"qx.ui.form.ComboBox":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.celleditor.ComboBox",{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,properties:{validationFunction:{check:"Function",nullable:!0,init:null},listData:{check:"Array",init:null,nullable:!0}},members:{createCellEditor:function(e){var t=(new qx.ui.form.ComboBox).set({appearance:"table-editor-combobox"}),i=e.value;t.originalValue=i;var n=e.table.getTableColumnModel().getDataCellRenderer(e.col)._getContentHtml(e);i!=n&&(i=n);null!==i&&void 0!==i||(i="");var s=this.getListData();if(s)for(var r,o=0,a=s.length;o<a;o++){var l=s[o];r=l instanceof Array?new qx.ui.form.ListItem(l[0],l[1]):new qx.ui.form.ListItem(l,null);t.add(r)}t.setValue(""+i);t.addListener("appear",function(){t.selectAllText()});return t},getCellEditorValue:function(e){var t=e.getValue()||"",i=this.getValidationFunction();i&&(t=i(t,e.originalValue));"number"==typeof e.originalValue&&(t=parseFloat(t));return t}}});qx.ui.table.celleditor.ComboBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.table.celleditor.AbstractField":{require:!0},"qx.ui.table.celleditor.PasswordField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.celleditor.PasswordField",{extend:qx.test.ui.table.celleditor.AbstractField,members:{setUp:function(){this.factory=new qx.ui.table.celleditor.PasswordField},tearDown:function(){qx.test.ui.table.celleditor.PasswordField.prototype.tearDown.base.call(this);this.factory.dispose()}}});qx.test.ui.table.celleditor.PasswordField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.celleditor.AbstractField":{require:!0},"qx.ui.form.PasswordField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.celleditor.PasswordField",{extend:qx.ui.table.celleditor.AbstractField,members:{_createEditor:function(){var e=new qx.ui.form.PasswordField;e.setAppearance("table-editor-textfield");return e}}});qx.ui.table.celleditor.PasswordField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.celleditor.SelectBox":{},"qx.ui.core.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.celleditor.SelectBox",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.factory=new qx.ui.table.celleditor.SelectBox},tearDown:function(){qx.test.ui.table.celleditor.SelectBox.prototype.tearDown.base.call(this);this.factory.dispose()},_getCellInfo:function(e){return{value:e,col:0,table:{getTableColumnModel:function(){return{getDataCellRenderer:function(e){return{_getContentHtml:function(e){return e.value}}}}}}}},testCreateCellEditor:function(){var e=this.factory.createCellEditor(this._getCellInfo());this.assertInstance(e,qx.ui.core.Widget);this.assertEquals(0,e.getSelection().length);e.destroy()},testCreateCellEditorWithValue:function(){this.factory.setListData(["juhu","kinners"]);var e=this.factory.createCellEditor(this._getCellInfo("juhu"));this.assertEquals("juhu",e.getSelection()[0].getLabel());e.destroy()},testGetCellEditorValue:function(){this.factory.setListData(["juhu","kinners"]);var e=this.factory.createCellEditor(this._getCellInfo());e.setSelection([e.getChildren()[1]]);this.assertEquals("kinners",this.factory.getCellEditorValue(e));e.destroy()},testValidationFunction:function(){this.factory.setListData(["juhu","kinners"]);var e=!1;this.factory.setValidationFunction(function(t){e=!0;return"_"+t+"_"});var t=this.factory.createCellEditor(this._getCellInfo());t.setSelection([t.getChildren()[0]]);var i=this.factory.getCellEditorValue(t);this.assert(e);this.assertEquals("_juhu_",i);t.setSelection([t.getChildren()[1]]);i=this.factory.getCellEditorValue(t);this.assert(e);this.assertEquals("_kinners_",i)},testAutoconvertToNumber:function(){this.factory.setListData(["10.0","-12.5"]);var e=this.factory.createCellEditor(this._getCellInfo(10));e.setSelection([e.getChildren()[1]]);this.assertEquals(-12.5,this.factory.getCellEditorValue(e));this.assertNumber(this.factory.getCellEditorValue(e));e.destroy()}}});qx.test.ui.table.celleditor.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.ui.table.ICellEditorFactory":{require:!0},"qx.ui.form.SelectBox":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.celleditor.SelectBox",{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,properties:{validationFunction:{check:"Function",nullable:!0,init:null},listData:{check:"Array",init:null,nullable:!0}},members:{createCellEditor:function(e){var t=(new qx.ui.form.SelectBox).set({appearance:"table-editor-selectbox"}),i=e.value;t.originalValue=i;var n=e.table.getTableColumnModel().getDataCellRenderer(e.col)._getContentHtml(e);i!=n&&(i=n);null===i&&(i="");var s=this.getListData();if(s)for(var r,o=0,a=s.length;o<a;o++){var l=s[o];if(l instanceof Array){(r=new qx.ui.form.ListItem(l[0],l[1])).setUserData("row",l[2]);i==l[2]&&(n=l[0])}else(r=new qx.ui.form.ListItem(l,null)).setUserData("row",l);t.add(r)}if(null!=n)var u=t.getChildrenContainer().findItem(n+"");u?t.setSelection([u]):t.resetSelection();t.addListener("appear",function(){t.open()});return t},getCellEditorValue:function(e){var t=e.getSelection(),i="";if(t&&t[0]){var n=t[0].getUserData("row");i=void 0===n?t[0].getLabel():n}var s=this.getValidationFunction();s&&(i=s(i,e.originalValue));"number"==typeof e.originalValue&&(i=parseFloat(i));return i}}});qx.ui.table.celleditor.SelectBox.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.table.celleditor.AbstractField":{require:!0},"qx.ui.table.celleditor.TextField":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.celleditor.TextField",{extend:qx.test.ui.table.celleditor.AbstractField,members:{setUp:function(){this.factory=new qx.ui.table.celleditor.TextField},tearDown:function(){qx.test.ui.table.celleditor.TextField.prototype.tearDown.base.call(this);this.factory.dispose()}}});qx.test.ui.table.celleditor.TextField.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.model.Simple":{},"qx.ui.table.Table":{},"qx.core.AssertionError":{},"qx.ui.table.headerrenderer.Default":{},"qx.ui.table.cellrenderer.Default":{},"qx.ui.table.celleditor.SelectBox":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.columnmodel.Basic",{extend:qx.test.ui.LayoutTestCase,members:{createModel:function(){var e=new qx.ui.table.model.Simple;e.setColumns(["ID","A number","String","A date","Boolean"]);e.setData(this.createRandomRows(5));return e},createRandomRows:function(e){for(var t=[],i=0,n=["a","b","c","d"],s=0;s<e;s++){var r=new Date(s*s*s),o=s%2==0?s/2:NaN;t.push([i++,o,n[s%4],r,s%2==1])}return t},testSetColumnWidth:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.setColumnWidth(6,10)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testGetColumnWidth:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.getColumnWidth(6,10)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testSetHeaderCellRenderer:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.setHeaderCellRenderer(6,new qx.ui.table.headerrenderer.Default)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testGetHeaderCellRenderer:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.getHeaderCellRenderer(6)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testSetDataCellRenderer:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.setDataCellRenderer(6,qx.ui.table.cellrenderer.Default)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testGetDataCellRenderer:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.getDataCellRenderer(6)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testSetCellEditorFactory:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.setCellEditorFactory(6,qx.ui.table.celleditor.SelectBox)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()},testGetCellEditorFactory:function(){var e=this.createModel(),t=new qx.ui.table.Table(e),i=t.getTableColumnModel();this.assertException(function(){i.getCellEditorFactory(6)},qx.core.AssertionError,"Column not found in table model","Invalid column width.");t.destroy();e.dispose()}}});qx.test.ui.table.columnmodel.Basic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.table.Table":{},"qx.ui.table.model.Filtered":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.model.Filtered",{extend:qx.dev.unit.TestCase,members:{createTable:function(){var e=new qx.ui.table.Table(new qx.ui.table.model.Filtered);e.getTableModel().setColumns(["a"]);e.getTableModel().setDataAsMapArray([{a:1},{a:2},{a:3},{a:4},{a:5},{a:6},{a:7},{a:8},{a:9},{a:10}]);return e},testBetween:function(){var e=this.createTable(),t=e.getTableModel();t.addBetweenFilter("!between",4,6,"a");t.applyFilters();this.assertIdentical(3,t.getRowCount());var i=[];t.getDataAsMapArray().forEach(function(e){i.push(e.a)});this.assertNotInArray(3,i);this.assertInArray(4,i);this.assertInArray(5,i);this.assertInArray(6,i);this.assertNotInArray(7,i);e.destroy()},testNotBetween:function(){var e=this.createTable(),t=e.getTableModel();t.addBetweenFilter("between",2,8,"a");t.applyFilters();var i=[];e.getTableModel().getDataAsMapArray().forEach(function(e){i.push(e.a)});this.assertNotInArray(3,i);this.assertNotInArray(7,i);this.assertInArray(1,i);this.assertInArray(9,i);e.destroy()},testNumericFilter:function(){var e=this.createTable(),t=e.getTableModel();t.addNumericFilter("==",8,"a");t.applyFilters();this.assertIdentical(9,t.getRowCount());t.resetHiddenRows();t.addNumericFilter("<",4,"a");t.applyFilters();this.assertIdentical(7,t.getRowCount());t.resetHiddenRows();t.addNumericFilter(">=",9,"a");t.applyFilters();this.assertIdentical(8,t.getRowCount());t.resetHiddenRows();t.addNumericFilter("!=",1,"a");t.applyFilters();this.assertIdentical(1,t.getRowCount());e.destroy()}}});qx.test.ui.table.model.Filtered.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.table.model.Simple":{construct:!0,require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.table.model.Filtered",{extend:qx.ui.table.model.Simple,construct:function(){qx.ui.table.model.Simple.constructor.call(this);this.__filterTypes={"==":"numeric","!=":"numeric",">":"numeric","<":"numeric","<=":"numeric",">=":"numeric",between:"between","!between":"between"};this.__applyingFilters=!1;this.Filters=[]},members:{__fullArr:null,__applyingFilters:null,__filterTypes:null,getFullArray:function(){return this.__fullArr},_js_in_array:function(e,t){return""!=t.toString()&&new RegExp(e,"g").test(t)},addBetweenFilter:function(e,t,i,n){if("between"===this.__filterTypes[e]&&null!=n&&null!=t&&null!=i)var s=new Array(e,t,i,n);if(null==s)throw new Error("Filter not recognized or value1/value2 is null!");this.Filters.push(s)},addNumericFilter:function(e,t,i){var n=null;"numeric"===this.__filterTypes[e]&&null!=i&&null!=t&&(n=[e,t,i]);if(null==n)throw new Error("Filter not recognized: value or target is null!");this.Filters.push(n)},addRegex:function(e,t,i){var n;n=i?"gi":"g";if(null!=e&&null!=t)var s=new Array("regex",e,t,n);if(null==s)throw new Error("regex cannot be null!");this.Filters.push(s)},addNotRegex:function(e,t,i){var n;n=i?"gi":"g";if(null!=e&&null!=t)var s=new Array("notregex",e,t,n);if(null==s)throw new Error("notregex cannot be null!");this.Filters.push(s)},applyFilters:function(){for(var e,t,i,n=this.getData(),s=n.length,r=[],o=0;o<s;o++){t=!1;for(e in this.Filters){if("numeric"===this.__filterTypes[this.Filters[e][0]]){i=this.getValueById(this.Filters[e][2],o);switch(this.Filters[e][0]){case"==":i==this.Filters[e][1]&&(t=!0);break;case"!=":i!=this.Filters[e][1]&&(t=!0);break;case">":i>this.Filters[e][1]&&(t=!0);break;case"<":i<this.Filters[e][1]&&(t=!0);break;case">=":i>=this.Filters[e][1]&&(t=!0);break;case"<=":i<=this.Filters[e][1]&&(t=!0)}}else if("between"===this.__filterTypes[this.Filters[e][0]]){i=this.getValueById(this.Filters[e][3],o);switch(this.Filters[e][0]){case"between":i>=this.Filters[e][1]&&i<=this.Filters[e][2]&&(t=!0);break;case"!between":(i<this.Filters[e][1]||i>this.Filters[e][2])&&(t=!0)}}else if("regex"===this.Filters[e][0]){i=this.getValueById(this.Filters[e][2],o);t=new RegExp(this.Filters[e][1],this.Filters[e][3]).test(i)}else if("notregex"===this.Filters[e][0]){i=this.getValueById(this.Filters[e][2],o);t=!new RegExp(this.Filters[e][1],this.Filters[e][3]).test(i)}if(!0===t)break}!0===t&&r.push(o)}if(!this.__applyingFilters){this.__fullArr=n.slice(0);this.__applyingFilters=!0}n=n.filter(function(e,t){return!r.includes(t)});this._rowArr=n;var a={firstRow:0,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",a)},hideRows:function(e,t,i){var n=this.getData();i=null==i||i;if(!this.__applyingFilters){this.__fullArr=n.slice(0);this.__applyingFilters=!0}(null==t||t<1)&&(t=1);for(var s=e;s<n.length-t;s++)n[s]=n[s+t];this.removeRows(s,t);if(i){var r={firstRow:0,lastRow:n.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",r)}},resetHiddenRows:function(){if(this.__fullArr){this.Filters=[];this.setData(qx.lang.Array.clone(this.__fullArr))}},setData:function(e,t){this.__fullArr=qx.lang.Array.clone(e);this.Filters=[];qx.ui.table.model.Filtered.prototype.setData.base.call(this,e,t)}},destruct:function(){this.__fullArr=this.__filterTypes=this.Filters=null}});qx.ui.table.model.Filtered.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.model.Simple":{},"qx.ui.table.Table":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.model.Simple",{extend:qx.test.ui.LayoutTestCase,members:{testGetRowDataAsMap:function(){var e=new qx.ui.table.model.Simple;e.setColumns(["Col1","Col2"],["col1","col2"]);e.setDataAsMapArray([{id:100,col1:"test",col2:"test2"}],!0);var t=e.getRowDataAsMap(0);this.assertEquals(100,t.id);this.assertEquals("test",t.col1);this.assertEquals("test2",t.col2);e.setValue(0,0,"affe");t=e.getRowDataAsMap(0);this.assertEquals(100,t.id);this.assertEquals("affe",t.col1);this.assertEquals("test2",t.col2);e.dispose()},getStringValues:function(){return["aaaa","bbbb","cccc","dddd","eeee","ffff"]},createRandomRows:function(e){for(var t=[],i=this.getStringValues(),n=0;n<e;n++)t.push([n+1,i[n%i.length]]);return t},testCustomSortFunction:function(){var e=this.getStringValues(),t=new qx.ui.table.model.Simple;t.setColumns(["ID","String"]);t.setData(this.createRandomRows(20));t.setSortMethods(0,{ascending:function(e,t,i){var n=e[i],s=t[i];return n>s?1:n==s?0:-1},descending:function(e,t,i){var n=t[i],s=e[i];return n>s?1:n==s?0:-1}});t.setSortMethods(1,function(e,t,i){var n=e[i],s=t[i];return n.localeCompare(s)});var i=new qx.ui.table.Table(t);t.sortByColumn(1);var n=t.getData();this.assertTrue(n[0][1]==e[e.length-1]);this.assertTrue(n[n.length-1][1]==e[0]);t.sortByColumn(1,!0);this.assertTrue(n[0][1]==e[0]);this.assertTrue(n[n.length-1][1]==e[e.length-1]);t.sortByColumn(0);this.assertTrue(20==n[0][0]);this.assertTrue(1==n[n.length-1][0]);t.sortByColumn(0,!0);this.assertTrue(1==n[0][0]);this.assertTrue(20==n[n.length-1][0]);i.destroy();t.dispose()},testCustomSortFunctionArgumentsCalleeColumnIndexDeprecated:function(){var e=this.getStringValues(),t=new qx.ui.table.model.Simple;t.setColumns(["ID","String"]);t.setData(this.createRandomRows(20));t.setSortMethods(0,{ascending:function(e,t){var i=arguments.callee.columnIndex,n=e[i],s=t[i];return n>s?1:n==s?0:-1},descending:function(e,t){var i=arguments.callee.columnIndex,n=t[i],s=e[i];return n>s?1:n==s?0:-1}});t.setSortMethods(1,function(e,t){var i=arguments.callee.columnIndex,n=e[i],s=t[i];return n.localeCompare(s)});var i=new qx.ui.table.Table(t);t.sortByColumn(1);var n=t.getData();this.assertTrue(n[0][1]==e[e.length-1]);this.assertTrue(n[n.length-1][1]==e[0]);t.sortByColumn(1,!0);this.assertTrue(n[0][1]==e[0]);this.assertTrue(n[n.length-1][1]==e[e.length-1]);t.sortByColumn(0);this.assertTrue(20==n[0][0]);this.assertTrue(1==n[n.length-1][0]);t.sortByColumn(0,!0);this.assertTrue(1==n[0][0]);this.assertTrue(20==n[n.length-1][0]);i.destroy();t.dispose()}}});qx.test.ui.table.model.Simple.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.table.selection.Model":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.table.selection.Model",{extend:qx.test.ui.LayoutTestCase,members:{testRemoveSelectionInterval:function(){var e=new qx.ui.table.selection.Model;e.setSelectionMode(4);e.removeSelectionInterval(0,0);this.assertIdentical(0,e._getSelectedRangeArr().length);e.removeSelectionInterval(0,0,!0);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(0,1);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.removeSelectionInterval(0,1);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(0,1);e.removeSelectionInterval(0,2);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(0,1);e.removeSelectionInterval(0,2,!0);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(1,1);e.removeSelectionInterval(0,2);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(1,1);e.removeSelectionInterval(0,2,!0);this.assertIdentical(0,e._getSelectedRangeArr().length);e.setSelectionInterval(0,1);e.removeSelectionInterval(0,0);this.assertJsonEquals([{minIndex:1,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(0,1);e.removeSelectionInterval(0,0,!0);this.assertJsonEquals([{minIndex:0,maxIndex:0}],e._getSelectedRangeArr());e.setSelectionInterval(0,1);e.removeSelectionInterval(1,1);this.assertJsonEquals([{minIndex:0,maxIndex:0}],e._getSelectedRangeArr());e.setSelectionInterval(0,1);e.removeSelectionInterval(1,1,!0);this.assertJsonEquals([{minIndex:0,maxIndex:0}],e._getSelectedRangeArr());e.setSelectionInterval(1,2);e.removeSelectionInterval(0,0);this.assertJsonEquals([{minIndex:1,maxIndex:2}],e._getSelectedRangeArr());e.setSelectionInterval(1,2);e.removeSelectionInterval(0,0,!0);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(0,1);e.removeSelectionInterval(2,2);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(0,1);e.removeSelectionInterval(2,2,!0);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(1,3);e.removeSelectionInterval(1,1);this.assertJsonEquals([{minIndex:2,maxIndex:3}],e._getSelectedRangeArr());e.setSelectionInterval(1,3);e.removeSelectionInterval(1,1,!0);this.assertJsonEquals([{minIndex:1,maxIndex:2}],e._getSelectedRangeArr());e.setSelectionInterval(0,2);e.removeSelectionInterval(2,3);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(0,2);e.removeSelectionInterval(2,3,!0);this.assertJsonEquals([{minIndex:0,maxIndex:1}],e._getSelectedRangeArr());e.setSelectionInterval(0,5);e.removeSelectionInterval(2,3);this.assertJsonEquals([{minIndex:0,maxIndex:1},{minIndex:4,maxIndex:5}],e._getSelectedRangeArr());e.setSelectionInterval(0,5);e.removeSelectionInterval(2,3,!0);this.assertJsonEquals([{minIndex:0,maxIndex:3}],e._getSelectedRangeArr())}}});qx.test.ui.table.selection.Model.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.container.Composite":{},"qx.ui.layout.VBox":{},"qx.ui.toolbar.ToolBar":{},"qx.ui.toolbar.Button":{},"qx.ui.core.Spacer":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.toolbar.OverflowHandling",{extend:qx.test.ui.LayoutTestCase,members:{__container:null,__toolbar:null,__b1:null,__b2:null,__b3:null,__indicator:null,setUp:function(){qx.test.ui.toolbar.OverflowHandling.prototype.setUp.base.call(this);this.__container=new qx.ui.container.Composite;this.__container.setLayout(new qx.ui.layout.VBox);this.getRoot().add(this.__container);this.__container.setWidth(100);this.__toolbar=new qx.ui.toolbar.ToolBar;this.__container.add(this.__toolbar);this.__b1=new qx.ui.toolbar.Button("B1");this.__b2=new qx.ui.toolbar.Button("B2");this.__b3=new qx.ui.toolbar.Button("B3")},tearDown:function(){qx.test.ui.toolbar.OverflowHandling.prototype.tearDown.base.call(this);this.__b1.destroy();this.__b2.destroy();this.__b3.destroy();this.__toolbar.destroy();this.__container.destroy();this.__indicator&&this.__indicator.destroy()},__addButtons:function(){this.__toolbar.add(this.__b1);this.__toolbar.add(this.__b2);this.__toolbar.add(this.__b3)},testShow:function(){this.__addButtons();this.__toolbar.setShow("label");this.assertEquals(this.__toolbar.getShow(),this.__b1.getShow());this.assertEquals(this.__toolbar.getShow(),this.__b2.getShow());this.assertEquals(this.__toolbar.getShow(),this.__b3.getShow());this.__toolbar.setShow("icon");this.assertEquals(this.__toolbar.getShow(),this.__b1.getShow());this.assertEquals(this.__toolbar.getShow(),this.__b2.getShow());this.assertEquals(this.__toolbar.getShow(),this.__b3.getShow())},testSpacing:function(){this.__toolbar.setSpacing(123);this.assertEquals(this.__toolbar.getSpacing(),this.__toolbar._getLayout().getSpacing())},testSpacer:function(){this.__toolbar.addSpacer();this.assertTrue(this.__toolbar.getChildren()[0]instanceof qx.ui.core.Spacer)},testHideItem:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);var e=this;this.assertEventFired(this.__toolbar,"hideItem",function(){e.__container.setWidth(60);e.flush()},function(t){e.assertEquals(e.__b3,t.getData());e.assertEquals("excluded",e.__b3.getVisibility())})},testShowItem:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__container.setWidth(60);this.flush();var e=this;this.assertEventFired(this.__toolbar,"showItem",function(){e.__container.setWidth(100);e.flush()},function(t){e.assertEquals(e.__b3,t.getData());e.assertEquals("visible",e.__b3.getVisibility())})},testHideItemPriority:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__toolbar.setRemovePriority(this.__b2,2);var e=this;this.assertEventFired(this.__toolbar,"hideItem",function(){e.__container.setWidth(60);e.flush()},function(t){e.assertEquals(e.__b2,t.getData());e.assertEquals("excluded",e.__b2.getVisibility())})},testShowItemPriority:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__toolbar.setRemovePriority(this.__b2,2);this.__container.setWidth(60);this.flush();var e=this;this.assertEventFired(this.__toolbar,"showItem",function(){e.__container.setWidth(100);e.flush()},function(t){e.assertEquals(e.__b2,t.getData());e.assertEquals("visible",e.__b2.getVisibility())})},testShowIndicator:function(e){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__indicator=new qx.ui.basic.Label(".");this.__toolbar.add(this.__indicator);this.__toolbar.setOverflowIndicator(this.__indicator);this.assertEquals("excluded",this.__indicator.getVisibility());this.__indicator.addListener("changeVisibility",function(){this.resume(function(){this.assertEquals("visible",this.__indicator.getVisibility())},this)},this);this.__container.setWidth(60);this.wait()},testHideIndicator:function(e){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__indicator=new qx.ui.basic.Label(".");this.__toolbar.add(this.__indicator);this.__toolbar.setOverflowIndicator(this.__indicator);this.assertEquals("excluded",this.__indicator.getVisibility());this.__container.setWidth(60);this.flush();this.__indicator.addListener("changeVisibility",function(){this.resume(function(){this.assertEquals("excluded",this.__indicator.getVisibility())},this)},this);this.__container.setWidth(160);this.wait()},testShowIndicatorHuge:function(e){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__indicator=new qx.ui.basic.Label(".....");this.__toolbar.add(this.__indicator);this.__toolbar.setOverflowIndicator(this.__indicator);this.assertEquals("excluded",this.__indicator.getVisibility());this.__b2.addListener("changeVisibility",function(){this.resume(function(){this.assertEquals("visible",this.__indicator.getVisibility());this.assertEquals("excluded",this.__b3.getVisibility(),"1");this.assertEquals("excluded",this.__b2.getVisibility(),"2")},this)},this);this.__container.setWidth(60);this.wait()},testHideItemRemoved:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__toolbar.remove(this.__b3);var e=this;this.assertEventNotFired(this.__toolbar,"hideItem",function(){e.__container.setWidth(60);e.flush()})},testShowItemRemoved:function(){this.__addButtons();this.flush();this.__toolbar.setOverflowHandling(!0);this.__container.setWidth(60);this.flush();var e=this;this.assertEventFired(this.__toolbar,"showItem",function(){e.__toolbar.remove(e.__b3);e.flush()},function(t){e.assertEquals(e.__b3,t.getData());e.assertEquals("visible",e.__b3.getVisibility())})},testAddItem:function(){this.__indicator=new qx.ui.basic.Label(".");this.__toolbar.add(this.__indicator);this.__toolbar.setOverflowIndicator(this.__indicator);this.__toolbar.setOverflowHandling(!0);this.__container.setWidth(60);this.flush();var e=this;this.assertEventFired(this.__indicator,"changeVisibility",function(){e.__addButtons();e.flush()},function(t){e.assertEquals("visible",e.__indicator.getVisibility());e.assertEquals("excluded",e.__b3.getVisibility())})}}});qx.test.ui.toolbar.OverflowHandling.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.toolbar.ToolBar":{},"qx.ui.toolbar.Button":{},"qx.ui.toolbar.Part":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.toolbar.ToolBar",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){qx.test.ui.toolbar.ToolBar.prototype.setUp.base.call(this);this.__toolbar=new qx.ui.toolbar.ToolBar;this.__b1=new qx.ui.toolbar.Button("b1");this.__b2=new qx.ui.toolbar.Button("b2");this.__b3=new qx.ui.toolbar.Button("b3")},tearDown:function(){qx.test.ui.toolbar.ToolBar.prototype.tearDown.base.call(this);this.__b1.dispose();this.__b2.dispose();this.__b3.dispose();this.__toolbar.dispose()},testShowSyncing:function(){this.__toolbar.add(this.__b1);this.__toolbar.add(this.__b2);this.__toolbar.setShow("label");this.assertEquals("label",this.__b1.getShow());this.assertEquals("label",this.__b2.getShow());this.__toolbar.add(this.__b3);this.assertEquals("label",this.__b3.getShow())},testPositionStates:function(){var e=new qx.ui.toolbar.Part;e.add(this.__b1);e.add(this.__b2);e.add(this.__b3);this.__toolbar.add(e);this.getRoot().add(this.__toolbar);this.flush();this.assertTrue(this.__b1.hasState("left"));this.assertTrue(this.__b2.hasState("middle"));this.assertTrue(this.__b3.hasState("right"));e.dispose()},testPositionStatesAdd:function(){var e=new qx.ui.toolbar.Part;e.add(this.__b1);e.add(this.__b3);this.__toolbar.add(e);this.getRoot().add(this.__toolbar);this.flush();this.assertTrue(this.__b1.hasState("left"));this.assertTrue(this.__b3.hasState("right"));e.addAt(this.__b2,1);this.flush();this.assertTrue(this.__b1.hasState("left"));this.assertTrue(this.__b2.hasState("middle"));this.assertTrue(this.__b3.hasState("right"));e.dispose()},testPositionStatesRemove:function(){var e=new qx.ui.toolbar.Part;e.add(this.__b1);e.add(this.__b2);e.add(this.__b3);this.__toolbar.add(e);this.getRoot().add(this.__toolbar);this.flush();this.assertTrue(this.__b1.hasState("left"));this.assertTrue(this.__b2.hasState("middle"));this.assertTrue(this.__b3.hasState("right"));e.remove(this.__b1);this.flush();this.assertTrue(this.__b2.hasState("left"));this.assertTrue(this.__b3.hasState("right"));e.dispose()},testShowUserValueShouldTakePrecedence:function(){this.__toolbar.add(this.__b1);this.__toolbar.add(this.__b2);this.assertNotEquals("label",this.__b1.getShow());this.assertNotEquals("label",this.__b2.getShow());this.__toolbar.setShow("label");this.assertEquals("label",this.__b1.getShow());this.assertEquals("label",this.__b2.getShow());this.__b1.setShow("icon");this.assertEquals("icon",this.__b1.getShow());this.assertEquals("label",this.__b2.getShow());this.__toolbar.setShow("both");this.__toolbar.add(this.__b3);this.assertEquals("both",this.__b1.getShow());this.assertEquals("both",this.__b2.getShow());this.assertEquals("both",this.__b3.getShow())},testRemoveChildByIndex:function(){this.__toolbar.removeAll();this.__toolbar.add(this.__b1);this.__toolbar.add(this.__b2);this.__toolbar.add(this.__b3);var e=this.__toolbar.indexOf(this.__b2);this.assertEquals(1,e);var t=this.__toolbar.removeAt(1);this.assertEquals(t,this.__b2);var i=this.__toolbar.removeAll();this.assertEquals(2,i.length)},testRemoveAllChildren:function(){this.__toolbar.removeAll();this.__toolbar.add(this.__b1);this.__toolbar.add(this.__b2);var e=this.__toolbar.removeAll();this.assertEquals(2,e.length);e=this.__toolbar.removeAll();this.assertEquals(0,e.length)}}});qx.test.ui.toolbar.ToolBar.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.ui.tree.TreeFile":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.Tree",{extend:qx.test.ui.LayoutTestCase,members:{_tree:null,setUp:function(){qx.test.ui.tree.Tree.prototype.setUp.base.call(this);this._tree=new qx.ui.tree.Tree;this.getRoot().add(this._tree);var e=new qx.ui.tree.TreeFolder("root");this._tree.setRoot(e);e.setOpen(!1);this.flush()},tearDown:function(){qx.test.ui.tree.Tree.prototype.tearDown.base.call(this);this._disposeObjects("_tree")},testGetPreviousSiblingOf:function(){var e=this._tree.getRoot(),t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertNull(this._tree.getPreviousSiblingOf(i));this.assertIdentical(t,this._tree.getPreviousSiblingOf(s))},testGetNextSiblingOf:function(){var e=this._tree.getRoot(),t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertNull(this._tree.getNextSiblingOf(n));this.assertIdentical(s,this._tree.getNextSiblingOf(t))},testGetNextNodeOf:function(){var e=this._tree.getRoot(),t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertIdentical(i,this._tree.getNextNodeOf(t));this.assertIdentical(n,this._tree.getNextNodeOf(i));this.assertNull(this._tree.getNextNodeOf(s))},testGetNextNodeOfInvisible:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertIdentical(s,this._tree.getNextNodeOf(t,!1));t.setOpen(!0);this.assertIdentical(i,this._tree.getNextNodeOf(t,!1))},testGetPreviousNodeOf:function(){var e=this._tree.getRoot(),t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertIdentical(n,this._tree.getPreviousNodeOf(s));this.assertIdentical(i,this._tree.getPreviousNodeOf(n));this.assertNull(this._tree.getPreviousNodeOf(e))},testGetPreviousNodeOfInvisible:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("1_1");t.add(i);var n=new qx.ui.tree.TreeFile("1_2");t.add(n);var s=new qx.ui.tree.TreeFile("2");e.add(s);this.assertIdentical(t,this._tree.getPreviousNodeOf(s,!1));t.setOpen(!0);this.assertIdentical(n,this._tree.getPreviousNodeOf(s,!1))},testAddBefore:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("3");e.add(i);var n=new qx.ui.tree.TreeFile("4");e.add(n);var s=new qx.ui.tree.TreeFile("2");e.addBefore(s,i);this.assertIdentical(t,this._tree.getPreviousNodeOf(s),"check: 1 before 2");this.assertIdentical(i,this._tree.getNextNodeOf(s),"check: 3 after 2")},testAddAfter:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("3");e.add(i);var n=new qx.ui.tree.TreeFile("4");e.add(n);var s=new qx.ui.tree.TreeFile("2");e.addAfter(s,t);this.assertIdentical(t,this._tree.getPreviousNodeOf(s),"check: 1 before 2");this.assertIdentical(i,this._tree.getNextNodeOf(s),"check: 3 after 2")},testChangeOrderWithAddBefore:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("2");e.add(i);var n=new qx.ui.tree.TreeFile("3");e.add(n);var s=new qx.ui.tree.TreeFile("4");e.add(s);e.addBefore(t,n);this.assertIdentical(t,this._tree.getPreviousNodeOf(n),"check: 1 before 3");this.assertIdentical(t,this._tree.getNextNodeOf(i),"check: 1 after 2")},testChangeOrderWithAddAfter:function(){var e=this._tree.getRoot();e.setOpen(!0);var t=new qx.ui.tree.TreeFile("1");e.add(t);var i=new qx.ui.tree.TreeFile("2");e.add(i);var n=new qx.ui.tree.TreeFile("3");e.add(n);var s=new qx.ui.tree.TreeFile("4");e.add(s);e.addAfter(t,n);this.assertIdentical(t,this._tree.getPreviousNodeOf(s),"check: 1 before 4");this.assertIdentical(t,this._tree.getNextNodeOf(n),"check: 1 after 3")},__printChildren:function(e){for(var t="",i=0;i<e.length;i++){t+=e[i].getLabel();i<e.length-1&&(t+="->")}return t}}});qx.test.ui.tree.Tree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.tree.Tree":{},"qx.ui.tree.TreeFolder":{},"qx.util.PropertyUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.TreeFolder",{extend:qx.test.ui.LayoutTestCase,members:{icon_closed:"qx/icon/Oxygen/22/emotes/face-plain.png",icon_opened:"qx/icon/Oxygen/22/emotes/face-smile.png",__tree:null,__root:null,__aa:null,__ab:null,__item:null,setUp:function(){var e=this.__tree=new qx.ui.tree.Tree,t=this.__root=new qx.ui.tree.TreeFolder("A");e.setRoot(t);t.setOpen(!0);var i=this.__aa=new qx.ui.tree.TreeFolder("AA"),n=this.__ab=new qx.ui.tree.TreeFolder("AB");t.add(i,n);this.__item=this.__aa;this.getRoot().add(e);this.flush()},testIconWhenClosed:function(){var e=this.__item;this.flush();this.__assertIcon(e,this.__themeValueIcon(e))},testIconWhenClosedWithIcon:function(){var e=this.__item;e.setIcon(this.icon_closed);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenClosedWithIconOpened:function(){var e=this.__item;e.setIconOpened(this.icon_opened);this.flush();this.__assertIcon(e,this.__themeValueIcon(e))},testIconWhenClosedWithIconAndIconOpened:function(){var e=this.__item;e.setIcon(this.icon_closed);e.setIconOpened(this.icon_opened);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenOpened:function(){var e=this.__item;e.setOpen(!0);this.flush();this.__assertIcon(e,this.__themeValueIconOpened(e))},testIconWhenOpenedWithIcon:function(){var e=this.__item;e.setOpen(!0);e.setIcon(this.icon_closed);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenOpenedWithIconOpened:function(){var e=this.__item;e.setOpen(!0);e.setIconOpened(this.icon_opened);this.flush();this.__assertIcon(e,this.icon_opened)},testIconWhenOpenedWithIconAndIconOpened:function(){var e=this.__item;e.setOpen(!0);e.setIcon(this.icon_closed);e.setIconOpened(this.icon_opened);this.flush();this.__assertIcon(e,this.icon_opened)},testIconWhenOpenedThenClosed:function(){var e=this.__item;e.setOpen(!0);e.setOpen(!1);this.flush();this.__assertIcon(e,this.__themeValueIcon(e))},testIconWhenOpenedThenClosedWithIcon:function(){var e=this.__item;e.setIcon(this.icon_closed);e.setOpen(!0);e.setOpen(!1);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenOpenedThenClosedWithIconOpened:function(){var e=this.__item;e.setIconOpened(this.icon_closed);e.setOpen(!0);e.setOpen(!1);this.flush();this.__assertIcon(e,this.__themeValueIcon(e))},testIconWhenOpenedThenClosedWithIconAndIconOpened:function(){var e=this.__item;e.setIcon(this.icon_closed);e.setIconOpened(this.icon_opened);e.setOpen(!0);e.setOpen(!1);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenClosedThenOpened:function(){var e=this.__item;e.setOpen(!1);e.setOpen(!0);this.flush();this.__assertIcon(e,this.__themeValueIconOpened(e))},testIconWhenClosedThenOpenedWithIcon:function(){var e=this.__item;e.setIcon(this.icon_closed);e.setOpen(!1);e.setOpen(!0);this.flush();this.__assertIcon(e,this.icon_closed)},testIconWhenClosedThenOpenedWithIconOpened:function(){var e=this.__item;e.setIconOpened(this.icon_opened);e.setOpen(!1);e.setOpen(!0);this.flush();this.__assertIcon(e,this.icon_opened)},testIconWhenClosedThenOpenedWithIconAndIconOpened:function(){var e=this.__item;e.setIcon(this.icon_closed);e.setIconOpened(this.icon_opened);e.setOpen(!1);e.setOpen(!0);this.flush();this.__assertIcon(e,this.icon_opened)},testRemoveAll:function(){var e=this.__root.removeAll();this.assertEquals(2,e.length);this.assertEquals(this.__aa,e[0]);this.assertEquals(this.__ab,e[1])},__themeValueIcon:function(e){return qx.util.PropertyUtil.getThemeValue(e,"icon")},__themeValueIconOpened:function(e){return qx.util.PropertyUtil.getThemeValue(e,"iconOpened")},__assertIcon:function(e,t){this.assertEquals(t,e.getChildControl("icon").getSource(),"Unexpected source for icon child control")},tearDown:function(){qx.test.ui.tree.TreeFolder.prototype.tearDown.base.call(this);this.__tree.destroy();this.__root.destroy();this.__aa.destroy();this.__ab.destroy()}}});qx.test.ui.tree.TreeFolder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.dev.unit.MMock":{require:!0},"qx.test.ui.list.MAssert":{require:!0},"qx.core.Object":{construct:!0},"qx.data.marshal.MEventBubbling":{},"qx.data.Array":{construct:!0},"qx.core.ObjectRegistry":{},"qx.ui.tree.VirtualTree":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.AbstractTreeTest",{type:"abstract",extend:qx.test.ui.LayoutTestCase,include:[qx.dev.unit.MMock,qx.test.ui.list.MAssert],construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);qx.Class.define("qx.test.ui.tree.virtual.Leaf",{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,construct:function(e){qx.core.Object.constructor.call(this);this.setName(e)},properties:{name:{check:"String",event:"changeName",apply:"_applyEventPropagation",nullable:!0}},members:{toString:function(){return this.getName()},equals:function(e){return this.getName()===e.getName()}}});qx.Class.define("qx.test.ui.tree.virtual.Node",{extend:qx.test.ui.tree.virtual.Leaf,construct:function(e,t){qx.test.ui.tree.virtual.Leaf.constructor.call(this,e);null==t&&(t=new qx.data.Array);this.setChildren(t)},properties:{children:{check:"qx.data.Array",event:"changeChildren",apply:"_applyEventPropagation",nullable:!0}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){for(var e=this.getChildren(),t=0;t<e.getLength();t++)e.getItem(t).dispose();e.dispose();this.setChildren(null)}}})},members:{tree:null,setUp:function(){qx.test.ui.tree.virtual.AbstractTreeTest.prototype.setUp.base.call(this);this.tree=new qx.ui.tree.VirtualTree;this.getRoot().add(this.tree)},tearDown:function(){qx.test.ui.tree.virtual.AbstractTreeTest.prototype.tearDown.base.call(this);this.tree.dispose();this.tree=null;if(null!=this.model){this.model.dispose();this.model=null}},createModel:function(e){var t=new qx.test.ui.tree.virtual.Node("Root node");this._createNodes(t,e);return t},createModelAndSetModel:function(e){this.model=this.createModel(e);this.tree.setLabelPath("name");this.tree.setChildProperty("children");this.tree.setModel(this.model);return this.model},getVisibleItemsFrom:function(e,t){var i=[];if(null!=e.getChildren())for(var n=0;n<e.getChildren().getLength();n++){var s=e.getChildren().getItem(n);i.push(s);if(t.indexOf(s)>-1){var r=this.getVisibleItemsFrom(s,t);i=i.concat(r)}}return i},_createNodes:function(e,t){if(t>0)for(var i=0;i<5;i++){var n=new qx.test.ui.tree.virtual.Node("Node "+this.__getPrefix(e)+i);e.getChildren().push(n);this._createNodes(n,t-1);this._createLeafs(n)}},_createLeafs:function(e){for(var t=0;t<5;t++){var i=new qx.test.ui.tree.virtual.Leaf("Leaf "+this.__getPrefix(e)+t);e.getChildren().push(i)}},__getPrefix:function(e){var t=e.getName(),i="";t.startsWith("Node")&&(i=t.substr(5,t.length-5)+".");return i}},destruct:function(){qx.Class.isDefined("qx.test.ui.tree.virtual.Leaf")&&qx.Class.undefine("qx.test.ui.tree.virtual.Leaf");qx.Class.isDefined("qx.test.ui.tree.virtual.Node")&&qx.Class.undefine("qx.test.ui.tree.virtual.Node")}});qx.test.ui.tree.virtual.AbstractTreeTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.tree.core.IVirtualTree",{members:{isShowTopLevelOpenCloseIcons:function(){},getLookupTable:function(){},isNode:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},isNodeOpen:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},getLevel:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e)},hasChildren:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},openNode:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},openNodeWithoutScrolling:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},closeNode:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},closeNodeWithoutScrolling:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object)},getSelection:function(){}}});qx.ui.tree.core.IVirtualTree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.core.Scroller":{construct:!0,require:!0},"qx.ui.tree.core.IVirtualTree":{require:!0},"qx.data.controller.ISelection":{require:!0},"qx.ui.virtual.selection.MModel":{require:!0},"qx.ui.core.MContentPadding":{require:!0},"qx.lang.Array":{},"qx.ui.tree.core.OpenCloseController":{},"qx.data.Array":{},"qx.ui.tree.provider.WidgetProvider":{},"qx.ui.tree.core.Util":{},"qx.data.marshal.MEventBubbling":{},"qx.data.SingleValueBinding":{},"qx.util.DeferredCall":{},"qx.ui.core.queue.Widget":{},"qx.util.Delegate":{},"qx.core.ObjectRegistry":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.VirtualTree",{extend:qx.ui.virtual.core.Scroller,implement:[qx.ui.tree.core.IVirtualTree,qx.data.controller.ISelection],include:[qx.ui.virtual.selection.MModel,qx.ui.core.MContentPadding],construct:function(e,t,i,n){qx.ui.virtual.core.Scroller.constructor.call(this,0,1,20,100);this._init();null!=t&&this.setLabelPath(t);null!=i&&this.setChildProperty(i);null!=e&&this.initModel(e);this.initItemHeight();this.initOpenMode();this.addListener("keypress",this._onKeyPress,this);n&&e&&this.openViaModelChanges(n)},events:{open:"qx.event.type.Data",close:"qx.event.type.Data"},properties:{appearance:{refine:!0,init:"virtual-tree"},focusable:{refine:!0,init:!0},width:{refine:!0,init:100},height:{refine:!0,init:200},itemHeight:{check:"Integer",init:25,apply:"_applyRowHeight",themeable:!0},openMode:{check:["tap","dbltap","none"],init:"dbltap",apply:"_applyOpenMode",event:"changeOpenMode",themeable:!0},hideRoot:{check:"Boolean",init:!1,apply:"_applyHideRoot"},showTopLevelOpenCloseIcons:{check:"Boolean",init:!1,apply:"_applyShowTopLevelOpenCloseIcons"},showLeafs:{check:"Boolean",init:!0,apply:"_applyShowLeafs"},childProperty:{check:"String",apply:"_applyChildProperty",nullable:!0},labelPath:{check:"String",apply:"_applyLabelPath",nullable:!0},iconPath:{check:"String",apply:"_applyIconPath",nullable:!0},labelOptions:{apply:"_applyLabelOptions",nullable:!0},iconOptions:{apply:"_applyIconOptions",nullable:!0},model:{check:"qx.core.Object",apply:"_applyModel",event:"changeModel",nullable:!0,deferredInit:!0},delegate:{event:"changeDelegate",apply:"_applyDelegate",init:null,nullable:!0}},members:{_provider:null,_layer:null,__lookupTable:null,__openNodes:null,__nestingLevel:null,__deferredCall:null,_itemWidth:0,__parentChain:null,__openProperty:null,syncWidget:function(e){for(var t=this._layer.getFirstRow(),i=this._layer.getRowSizes().length,n=t;n<t+i;n++){var s=this._layer.getRenderedCellWidget(n,0);null!=s&&(this._itemWidth=Math.max(this._itemWidth,s.getSizeHint().width))}var r=this.getPane().getInnerSize().width;this.getPane().getColumnConfig().setItemSize(0,Math.max(this._itemWidth,r))},openNode:function(e){this.__openNode(e);this.buildLookupTable()},openNodeWithoutScrolling:function(e){var t=this.getAutoScrollIntoView();this.setAutoScrollIntoView(!1);this.openNode(e);this.setAutoScrollIntoView(t)},refresh:function(){this.buildLookupTable()},openNodeAndParents:function(e){this.__openNodeAndAllParents(this.getModel(),e);this.buildLookupTable()},closeNode:function(e){if(this.__openNodes.includes(e)){qx.lang.Array.remove(this.__openNodes,e);this.fireDataEvent("close",e);this.buildLookupTable()}},closeNodeWithoutScrolling:function(e){var t=this.getAutoScrollIntoView();this.setAutoScrollIntoView(!1);this.closeNode(e);this.setAutoScrollIntoView(t)},isNodeOpen:function(e){return this.__openNodes.includes(e)},openViaModelChanges:function(e){this.__openProperty=e;if(e)this._openCloseController=new qx.ui.tree.core.OpenCloseController(this,this.getModel(),e);else if(this._openCloseController){this._openCloseController.dispose();this._openCloseController=null}},getOpenProperty:function(){return this.__openProperty},_init:function(){this.__lookupTable=new qx.data.Array;this.__openNodes=[];this.__nestingLevel=[];this._initLayer()},_initLayer:function(){this._provider=new qx.ui.tree.provider.WidgetProvider(this);this._layer=this._provider.createLayer();this._layer.addListener("updated",this._onUpdated,this);this.getPane().addLayer(this._layer);this.getPane().addListenerOnce("resize",function(e){this.getPane().getColumnConfig().setItemSize(0,e.getData().width)},this)},getLookupTable:function(){return this.__lookupTable},isShowTopLevelOpenCloseIcons:function(){return!0},_reverseLookup:function(e){return e},_getDataFromRow:function(e){return this.__lookupTable.getItem(e)},_getSelectables:function(){return this.__lookupTable},getOpenNodes:function(){return this.__openNodes},isNode:function(e){return qx.ui.tree.core.Util.isNode(e,this.getChildProperty())},getLevel:function(e){return this.__nestingLevel[e]},hasChildren:function(e){return qx.ui.tree.core.Util.hasChildren(e,this.getChildProperty(),!this.isShowLeafs())},_getContentPaddingTarget:function(){return this.getPane()},_applyRowHeight:function(e,t){this.getPane().getRowConfig().setDefaultItemSize(e)},_applyOpenMode:function(e,t){var i=this.getPane();"dbltap"===e?i.addListener("cellDbltap",this._onOpen,this):"tap"===e&&i.addListener("cellTap",this._onOpen,this);"dbltap"===t?i.removeListener("cellDbltap",this._onOpen,this):"tap"===t&&i.removeListener("cellTap",this._onOpen,this)},_applyHideRoot:function(e,t){this.buildLookupTable()},_applyShowTopLevelOpenCloseIcons:function(e,t){this.getLookupTable().removeAll();this.buildLookupTable()},_applyShowLeafs:function(e,t){this.getLookupTable().removeAll();this.buildLookupTable()},_applyChildProperty:function(e,t){this._provider.setChildProperty(e)},_applyLabelPath:function(e,t){this._provider.setLabelPath(e)},_applyIconPath:function(e,t){this._provider.setIconPath(e)},_applyLabelOptions:function(e,t){this._provider.setLabelOptions(e)},_applyIconOptions:function(e,t){this._provider.setIconOptions(e)},_applyModel:function(e,t){this.__openNodes=[];if(null!=e){qx.Class.hasMixin(e.constructor,qx.data.marshal.MEventBubbling)||this.warn("The model item doesn't support the Mixin 'qx.data.marshal.MEventBubbling'. Therefore the tree can not update the view automatically on model changes.");e.addListener("changeBubble",this._onChangeBubble,this);this.__openNode(e)}if(this._openCloseController){this._openCloseController.dispose();this._openCloseController=null}null!=t&&t.removeListener("changeBubble",this._onChangeBubble,this);this.__applyModelChanges()},_applyDelegate:function(e,t){this._provider.setDelegate(e);this.buildLookupTable()},_onChangeBubble:function(e){var t=e.getData(),i=t.name,n=i.lastIndexOf(".");-1!=n&&(i=i.substr(n+1,i.length));if(i.startsWith(this.getChildProperty())){var s=t.item;if(qx.Class.isSubClassOf(s.constructor,qx.data.Array))if(-1===n)s=this.getModel();else{var r=t.name.substr(0,n);s=qx.data.SingleValueBinding.resolvePropertyChain(this.getModel(),r)}-1!=this.__lookupTable.indexOf(s)&&this.__applyModelChanges()}},_onUpdated:function(e){null==this.__deferredCall&&(this.__deferredCall=new qx.util.DeferredCall(function(){qx.ui.core.queue.Widget.add(this)},this));this.__deferredCall.schedule()},_onOpen:function(e){var t=e.getRow(),i=this.__lookupTable.getItem(t);this.isNode(i)&&(this.isNodeOpen(i)?this.closeNode(i):this.openNode(i))},_onKeyPress:function(e){var t=this.getSelection();if(t.getLength()>0){var i=t.getItem(0),n=this.isNode(i);switch(e.getKeyIdentifier()){case"Left":if(n&&this.isNodeOpen(i))this.closeNode(i);else{var s=this.getParent(i);null!=s&&t.splice(0,1,s)}break;case"Right":if(n&&!this.isNodeOpen(i))this.openNode(i);else if(n){var r=i.get(this.getChildProperty());null!=r&&r.getLength()>0&&t.splice(0,1,r.getItem(0))}break;case"Enter":case"Space":if(!n)return;this.isNodeOpen(i)?this.closeNode(i):this.openNode(i)}}},_beforeApplySelection:function(e){if(0===e.length&&"one"===this.getSelectionMode()){var t=this.__getVisibleParent(),i=this.getLookupTable().indexOf(t);i>=0&&e.push(i)}},_afterApplySelection:function(){var e=this.getSelection();e.getLength()>0&&"one"===this.getSelectionMode()?this.__buildParentChain(e.getItem(0)):this.__parentChain=[]},__applyModelChanges:function(){this.buildLookupTable();this._applyDefaultSelection()},buildLookupTable:function(){if(null!=this.getModel()&&(null==this.getChildProperty()||null==this.getLabelPath()))throw new Error("Could not build tree, because 'childProperty' and/or 'labelPath' is 'null'!");this._itemWidth=0;var e=[];this.__nestingLevel=[];var t=-1,i=this.getModel();if(null!=i){if(!this.isHideRoot()){t++;e.push(i);this.__nestingLevel.push(t)}if(this.isNodeOpen(i)){var n=this.__getVisibleChildrenFrom(i,t);e=e.concat(n)}}if(!qx.lang.Array.equals(this.__lookupTable.toArray(),e)){this._provider.removeBindings();this.__lookupTable.removeAll();this.__lookupTable.append(e);this.__updateRowCount();this._updateSelection()}},__getVisibleChildrenFrom:function(e,t){var i=[];t++;if(!this.isNode(e))return i;var n=e.get(this.getChildProperty());if(null==n)return i;n=n.copy();var s=this.getDelegate(),r=qx.util.Delegate.getMethod(s,"filter"),o=qx.util.Delegate.getMethod(s,"sorter");null!=o&&n.sort(o);for(var a=0;a<n.getLength();a++){var l=n.getItem(a);if(!r||r(l))if(this.isNode(l)){this.__nestingLevel.push(t);i.push(l);if(this.isNodeOpen(l)){var u=this.__getVisibleChildrenFrom(l,t);i=i.concat(u)}}else if(this.isShowLeafs()){this.__nestingLevel.push(t);i.push(l)}}n.dispose();return i},__openNode:function(e){if(!this.__openNodes.includes(e)){this.__openNodes.push(e);this.fireDataEvent("open",e)}},__openNodeAndAllParents:function(e,t){if(e===t){this.__openNode(t);return!0}if(!this.isNode(e))return!1;var i=e.get(this.getChildProperty());if(null==i)return!1;for(var n=0;n<i.getLength();n++){var s=i.getItem(n);if(!0===this.__openNodeAndAllParents(s,t)){this.__openNode(s);return!0}}return!1},__updateRowCount:function(){this.getPane().getRowConfig().setItemCount(this.__lookupTable.getLength());this.getPane().fullUpdate()},getParent:function(e){var t=this.__lookupTable.indexOf(e);if(t<0)return null;for(var i=this.__nestingLevel[t];t>0;){t--;if(this.__nestingLevel[t]<i)return this.__lookupTable.getItem(t)}return null},__buildParentChain:function(e){this.__parentChain=[];for(var t=this.getParent(e);null!=t;){this.__parentChain.unshift(t);t=this.getParent(t)}},__getVisibleParent:function(){if(null==this.__parentChain)return this.getModel();for(var e=this.getLookupTable(),t=this.__parentChain.pop();null!=t;){if(e.contains(t))return t;t=this.__parentChain.pop()}return this.getModel()}},destruct:function(){this._openCloseController&&this._openCloseController.dispose();var e=this.getPane();if(null!=e){e.hasListener("cellDbltap")&&e.removeListener("cellDbltap",this._onOpen,this);e.hasListener("cellTap")&&e.removeListener("cellTap",this._onOpen,this)}if(!qx.core.ObjectRegistry.inShutDown&&null!=this.__deferredCall){this.__deferredCall.cancel();this.__deferredCall.dispose()}var t=this.getModel();null!=t&&t.removeListener("changeBubble",this._onChangeBubble,this);this._layer.removeListener("updated",this._onUpdated,this);this._layer.destroy();this._provider.dispose();this.__lookupTable.dispose();this._layer=this._provider=this.__lookupTable=this.__openNodes=this.__deferredCall=null}});qx.ui.tree.VirtualTree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",construct:!0,require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.core.OpenCloseController",{extend:qx.core.Object,construct:function(e,t){var i=e.getOpenProperty();qx.core.Object.constructor.call(this);this._tree=e;this._lids=[];var n=function(t){qx.Class.hasProperty(t.constructor,"children")&&t.getChildren().forEach(n);qx.Class.hasProperty(t.constructor,i)&&(t.get(i)?e.openNode(t):e.closeNode(t))}.bind(this);n(t);var s=e.addListener("open",this._onOpen,this);this._lids.push([e,s]);s=e.addListener("close",this._onClose,this);this._lids.push([e,s]);s=t.addListener("changeBubble",this._onChangeBubble,this);this._lids.push([t,s])},members:{_tree:null,_lids:null,_onOpen:function(e){e.getData().set(this._tree.getOpenProperty(),!0)},_onClose:function(e){e.getData().set(this._tree.getOpenProperty(),!1)},_onChangeBubble:function(e){var t,i,n,s=e.getData();t=s.name.replace(/.*\[([0-9]+)\]$/,"$1");(i=s.item.getItem?s.item.getItem(t):s.item)&&qx.Class.hasProperty(i.constructor,this._tree.getOpenProperty())&&((n=i.get(this._tree.getOpenProperty()))&&!this._tree.isNodeOpen(i)?this._tree.openNode(i):!n&&this._tree.isNodeOpen(i)&&this._tree.closeNode(i));this._tree.refresh()}},destruct:function(){this._tree=null;this._lids.forEach(function(e){e[0].removeListenerById(e[1])})}});qx.ui.tree.core.OpenCloseController.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.tree.provider.IVirtualTreeProvider",{members:{createLayer:function(){},createRenderer:function(){},setChildProperty:function(e){this.assertArgumentsCount(arguments,1,1);this.assertString(e)},setLabelPath:function(e){this.assertArgumentsCount(arguments,1,1);this.assertString(e)},styleSelectabled:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e)},styleUnselectabled:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e)},isSelectable:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e)}}});qx.ui.tree.provider.IVirtualTreeProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.data.SingleValueBinding":{},"qx.util.OOUtil":{},"qx.util.Delegate":{},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.ui.tree.core.MWidgetController",{construct:function(){this.__boundItems=[]},properties:{labelPath:{check:"String",nullable:!0},iconPath:{check:"String",nullable:!0},labelOptions:{nullable:!0},iconOptions:{nullable:!0},childProperty:{check:"String",nullable:!0},delegate:{event:"changeDelegate",init:null,nullable:!0}},members:{__boundItems:null,bindDefaultProperties:function(e,t){this.bindProperty("","model",null,e,t);this.bindProperty(this.getLabelPath(),"label",this.getLabelOptions(),e,t);var i=this.__getBindPath(t),n=this._tree.getLookupTable();n=qx.data.SingleValueBinding.resolvePropertyChain(n,i);qx.util.OOUtil.hasProperty(n.constructor,this.getChildProperty())?this.bindProperty(this.getChildProperty()+".length","appearance",{converter:function(){return"virtual-tree-folder"}},e,t):e.setAppearance("virtual-tree-file");null!=this.getIconPath()&&this.bindProperty(this.getIconPath(),"icon",this.getIconOptions(),e,t)},bindProperty:function(e,t,i,n,s){var r=this.__getBindPath(s,e),o=this._tree.getLookupTable().bind(r,n,t,i);this.__addBinding(n,o)},bindPropertyReverse:function(e,t,i,n,s){var r=this.__getBindPath(s,e),o=this._tree.getLookupTable(),a=n.bind(t,o,r,i);this.__addBinding(n,a)},removeBindings:function(){for(;this.__boundItems.length>0;){var e=this.__boundItems.pop();this._removeBindingsFrom(e)}},_bindItem:function(e,t){var i=qx.util.Delegate.getMethod(this.getDelegate(),"bindItem");null!=i?i(this,e,t):this.bindDefaultProperties(e,t)},_removeBindingsFrom:function(e){for(var t=this.__getBindings(e);t.length>0;){var i=t.pop();try{this._tree.getLookupTable().removeBinding(i)}catch(t){e.removeBinding(i)}}this.__boundItems.includes(e)&&qx.lang.Array.remove(this.__boundItems,e)},__getBindPath:function(e,t){var i="["+e+"]";null!=t&&""!=t&&(i+="."+t);return i},__addBinding:function(e,t){var i=this.__getBindings(e);i.includes(t)||i.push(t);this.__boundItems.includes(e)||this.__boundItems.push(e)},__getBindings:function(e){var t=e.getUserData("BindingIds");if(null==t){t=[];e.setUserData("BindingIds",t)}return t}},destruct:function(){this.__boundItems=null}});qx.ui.tree.core.MWidgetController.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.virtual.core.IWidgetCellProvider":{require:!0},"qx.ui.tree.provider.IVirtualTreeProvider":{require:!0},"qx.ui.tree.core.MWidgetController":{require:!0},"qx.ui.core.queue.Widget":{},"qx.ui.virtual.layer.WidgetCell":{},"qx.util.Delegate":{},"qx.ui.tree.VirtualTreeItem":{},"qx.ui.virtual.cell.WidgetCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.provider.WidgetProvider",{extend:qx.core.Object,implement:[qx.ui.virtual.core.IWidgetCellProvider,qx.ui.tree.provider.IVirtualTreeProvider],include:[qx.ui.tree.core.MWidgetController],construct:function(e){qx.core.Object.constructor.call(this);this._tree=e;this.addListener("changeDelegate",this._onChangeDelegate,this);this._onChangeDelegate()},members:{_tree:null,_renderer:null,getCellWidget:function(e,t){var i=this._tree.getLookupTable().getItem(e),n=!1;this._tree.isNode(i)&&(n=this._tree.hasChildren(i));var s=this._renderer.getCellWidget();s.setOpen(n&&this._tree.isNodeOpen(i));s.addListener("changeOpen",this.__onOpenChanged,this);s.setUserData("cell.childProperty",this.getChildProperty());s.setUserData("cell.showLeafs",this._tree.isShowLeafs());this._tree.getSelection().contains(i)?this._styleSelectabled(s):this._styleUnselectabled(s);var r=this._tree.getLevel(e);this._tree.isShowTopLevelOpenCloseIcons()||(r-=1);s.setUserData("cell.level",r);this._tree.isShowTopLevelOpenCloseIcons()||-1!=r?s.setOpenSymbolMode("auto"):s.setOpenSymbolMode("never");this._tree.getOpenProperty()&&s.setModel(i);this._bindItem(s,e);qx.ui.core.queue.Widget.add(s);return s},poolCellWidget:function(e){e.removeListener("changeOpen",this.__onOpenChanged,this);this._removeBindingsFrom(e);this._renderer.pool(e);this._onPool(e)},createLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this)},createRenderer:function(){var e=qx.util.Delegate.getMethod(this.getDelegate(),"createItem");null==e&&(e=function(){return new qx.ui.tree.VirtualTreeItem});var t=new qx.ui.virtual.cell.WidgetCell;t.setDelegate({createWidget:e});return t},styleSelectabled:function(e){var t=this._tree._layer.getRenderedCellWidget(e,0);this._styleSelectabled(t)},styleUnselectabled:function(e){var t=this._tree._layer.getRenderedCellWidget(e,0);this._styleUnselectabled(t)},isSelectable:function(e){var t=this._tree._layer.getRenderedCellWidget(e,0);return null==t||t.isEnabled()},_styleSelectabled:function(e){null!=e&&this._renderer.updateStates(e,{selected:1})},_styleUnselectabled:function(e){null!=e&&this._renderer.updateStates(e,{})},_onPool:function(e){var t=qx.util.Delegate.getMethod(this.getDelegate(),"onPool");null!=t&&t(e)},_onItemCreated:function(e){var t=qx.util.Delegate.getMethod(this.getDelegate(),"configureItem");if(null!=t){t(e.getData())}},_onChangeDelegate:function(e){if(null!=this._renderer){this._renderer.dispose();this.removeBindings()}this._renderer=this.createRenderer();this._renderer.addListener("created",this._onItemCreated,this)},__onOpenChanged:function(e){var t=e.getTarget().getUserData("cell.row"),i=this._tree.getLookupTable().getItem(t);e.getData()?this._tree.openNodeWithoutScrolling(i):this._tree.closeNodeWithoutScrolling(i)}},destruct:function(){this.removeBindings();this._renderer.dispose();this._tree=this._renderer=null}});qx.ui.tree.provider.WidgetProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.core.Util",{statics:{isNode:function(e,t){return null!=e&&null!=t&&qx.Class.hasProperty(e.constructor,t)},hasChildren:function(e,t,i){if(null==e||null==t||!this.isNode(e,t))return!1;var n=e.get(t);if(null==n)return!1;if(!i)return n.length>0;for(var s=0;s<n.getLength();s++){var r=n.getItem(s);if(this.isNode(r,t))return!0}return!1}}});qx.ui.tree.core.Util.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.tree.core.AbstractItem":{require:!0},"qx.ui.tree.core.Util":{},"qx.lang.String":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tree.VirtualTreeItem",{extend:qx.ui.tree.core.AbstractItem,properties:{appearance:{refine:!0,init:"virtual-tree-folder"}},members:{_forwardStates:{selected:!0},_addWidgets:function(){this.addSpacer();this.addOpenButton();this.addIcon();this.addLabel()},_shouldShowOpenSymbol:function(){return null!=this.getChildControl("open",!0)&&this.isOpenable()},getLevel:function(){return this.getUserData("cell.level")},hasChildren:function(){var e=this.getModel(),t=this.getUserData("cell.childProperty"),i=this.getUserData("cell.showLeafs");return qx.ui.tree.core.Util.hasChildren(e,t,!i)},_applyModel:function(e,t){var i=this.getUserData("cell.childProperty"),n=this.getUserData("cell.showLeafs");if(null!=e&&qx.ui.tree.core.Util.isNode(e,i)){var s="change"+qx.lang.String.firstUp(i);qx.Class.hasProperty(e.constructor,i)&&e.addListener(s,this._onChangeChildProperty,this);if(qx.ui.tree.core.Util.hasChildren(e,i,!n)){e.get(i).addListener("changeLength",this._onChangeLength,this);this._updateIndent()}}if(null!=t&&qx.ui.tree.core.Util.isNode(t,i)){s="change"+qx.lang.String.firstUp(i);t.removeListener(s,this._onChangeChildProperty,this);var r=t.get(i);r&&r.removeListener("changeLength",this._onChangeLength,this)}},_onChangeLength:function(){this._updateIndent()},_onChangeChildProperty:function(e){var t=e.getData(),i=e.getOldData();if(t){this._updateIndent();t.addListener("changeLength",this._onChangeLength,this)}i&&i.removeListener("changeLength",this._onChangeLength,this)}}});qx.ui.tree.VirtualTreeItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.AbstractTreeTest":{require:!0},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.MultiSelection",{extend:qx.test.ui.tree.virtual.AbstractTreeTest,members:{setUp:function(){qx.test.ui.tree.virtual.MultiSelection.prototype.setUp.base.call(this);this.tree.setSelectionMode("multi")},testSelection:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection();t.push(e);t.push(e.getChildren().getItem(0));t.push(e.getChildren().getItem(1));this.assertEquals(3,this.tree.getSelection().getLength(),"On Tree");var i=new qx.data.Array([e,e.getChildren().getItem(0),e.getChildren().getItem(1)]);this.assertDataArrayEquals(t,i,"On Tree");i.dispose();for(var n=this.tree._manager.getSelection(),s=0;s<n.length;s++)n[s]=this.tree._getDataFromRow(n[s]);this.assertEquals(3,n.length,"On selection manager");i=new qx.data.Array(n);this.assertDataArrayEquals(t,i,"On selection manager");i.dispose()},testSelectionByUserInteraction:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection();this.tree._manager.replaceSelection([1,3,5]);for(var i=this.tree._manager.getSelection(),n=0;n<i.length;n++)i[n]=this.tree._getDataFromRow(i[n]);this.assertEquals(3,i.length,"On selection manager");var s=new qx.data.Array(i);this.assertTrue(t.equals(s),"On selection manager");s.dispose();s=new qx.data.Array([e.getChildren().getItem(0),e.getChildren().getItem(2),e.getChildren().getItem(4)]);this.assertEquals(3,t.getLength(),"On Tree");this.assertDataArrayEquals(t,s,"On Tree");s.dispose()},testSelectionEventByUserInteraction:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=this;this.assertEventFired(t,"change",function(){i.tree._manager.replaceSelection([1,3,5])},function(n){for(var s=i.tree._manager.getSelection(),r=0;r<s.length;r++)s[r]=i.tree._getDataFromRow(s[r]);i.assertEquals(3,s.length,"On selection manager");var o=new qx.data.Array(s);i.assertDataArrayEquals(t,o,"On selection manager");o.dispose();i.assertEquals(3,t.getLength(),"On Tree");o=new qx.data.Array([e.getChildren().getItem(0),e.getChildren().getItem(2),e.getChildren().getItem(4)]);i.assertDataArrayEquals(t,o,"On Tree");o.dispose()})},testSelectionAfterCloseParentNode:function(){var e=this.createModelAndSetModel(3),t=e.getChildren().getItem(1);this.tree.openNode(e.getChildren().getItem(1));var i=this.tree.getSelection();i.push(e);i.push(e.getChildren().getItem(0));i.push(t.getChildren().getItem(1));i.push(t.getChildren().getItem(3));i.push(t.getChildren().getItem(5));i.push(t.getChildren().getItem(6));i.push(e.getChildren().getItem(2));this.assertEquals(7,this.tree.getSelection().getLength(),"On Tree");this.assertEquals(7,this.tree._manager.getSelection().length,"On selection manager");this.tree.closeNode(t);this.assertEquals(3,this.tree.getSelection().getLength(),"On Tree");var n=new qx.data.Array([e,e.getChildren().getItem(0),e.getChildren().getItem(2)]);this.assertDataArrayEquals(i,n,"On Tree");n.dispose();for(var s=this.tree._manager.getSelection(),r=0;r<s.length;r++)s[r]=this.tree._getDataFromRow(s[r]);this.assertEquals(3,s.length,"On selection manager");n=new qx.data.Array(s);this.assertDataArrayEquals(i,n,"On selection manager");n.dispose()}}});qx.test.ui.tree.virtual.MultiSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.AbstractTreeTest":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.SingleSelection",{extend:qx.test.ui.tree.virtual.AbstractTreeTest,members:{testSelection:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection();t.push(e);this.assertEquals(1,this.tree.getSelection().getLength(),"On Tree");this.assertEquals(e,t.getItem(0),"On Tree");var i=this.tree._manager.getSelectedItem();this.assertEquals(0,i)},testInvalidSelection:function(){var e=this.createModelAndSetModel(2);(t=this.tree.getSelection()).push(e);t.push(e.getChildren().getItem(0));this.assertEquals(1,this.tree.getSelection().getLength(),"On Tree");this.assertEquals(e.getChildren().getItem(0),t.getItem(0),"On Tree");var t=this.tree._manager.getSelection();this.assertEquals(1,t.length);this.assertEquals(1,t[0])},testSelectionByUserInteraction:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection();this.tree._manager.selectItem(2);this.assertEquals(1,t.getLength());this.assertEquals(e.getChildren().getItem(1),t.getItem(0));this.assertEquals(2,this.tree._manager.getSelectedItem())},testSelectionEventByUserInteraction:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=this;this.assertEventFired(t,"change",function(){i.tree._manager.selectItem(2)},function(n){i.assertEquals(1,t.getLength());i.assertEquals(e.getChildren().getItem(1),t.getItem(0));i.assertEquals(2,i.tree._manager.getSelectedItem())})},testSelectionWithClosedNode:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=e.getChildren().getItem(0),n=i.getChildren().getItem(2);this.tree.openNode(i);t.push(n);this.assertEquals(1,t.getLength(),"On Tree");this.assertEquals(n,t.getItem(0),"On Tree");var s=this.tree._manager.getSelection();this.assertEquals(1,s.length);this.assertEquals(this.tree.getLookupTable().indexOf(n),s[0]);this.tree.closeNode(i);s=this.tree._manager.getSelection();this.assertEquals(0,t.getLength(),"Selection not reset on Tree");this.assertEquals(0,s.length,"Selection not reset on manager")},testRemoveItem:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=e.getChildren().getItem(0),n=i.getChildren().getItem(2);this.tree.openNode(i);t.push(n);this.assertEquals(1,t.getLength(),"On Tree (setup)");this.assertEquals(n,t.getItem(0),"On Tree (setup)");i.getChildren().removeAt(2).dispose();this.assertEquals(0,t.getLength(),"On Tree");var s=this.tree._manager.getSelection();this.assertEquals(0,s.length,"On Manager")}}});qx.test.ui.tree.virtual.SingleSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.SingleSelection":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.OneSelection",{extend:qx.test.ui.tree.virtual.SingleSelection,members:{setUp:function(){qx.test.ui.tree.virtual.OneSelection.prototype.setUp.base.call(this);this.tree.setSelectionMode("one")},testSelectionWithClosedNode:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=e.getChildren().getItem(0),n=i.getChildren().getItem(2);this.tree.openNode(i);t.push(n);this.assertEquals(1,t.getLength(),"On Tree");this.assertEquals(n,t.getItem(0),"On Tree");var s=this.tree._manager.getSelection();this.assertEquals(1,s.length);this.assertEquals(this.tree.getLookupTable().indexOf(n),s[0]);var r=this;this.assertEventFired(t,"change",function(){r.tree.closeNode(i)},function(e){var n=r.tree._manager.getSelection();r.assertEquals(1,t.getLength(),"Selection not reset on Tree");r.assertEquals(i,t.getItem(0),"Selection not reset on Tree");r.assertEquals(1,n.length,"Selection not reset on manager");r.assertEquals(r.tree.getLookupTable().indexOf(i),n[0],"Selection not reset on manager")})},testSelectionWithClosedParentNode:function(){var e=this.createModelAndSetModel(3),t=this.tree.getSelection(),i=e.getChildren().getItem(0),n=i.getChildren().getItem(1),s=n.getChildren().getItem(2);this.tree.openNodeAndParents(n);t.push(s);this.assertEquals(1,t.getLength(),"On Tree");this.assertEquals(s,t.getItem(0),"On Tree");var r=this.tree._manager.getSelection();this.assertEquals(1,r.length);this.assertEquals(this.tree.getLookupTable().indexOf(s),r[0]);var o=this;this.assertEventFired(t,"change",function(){o.tree.closeNode(i)},function(e){var n=o.tree._manager.getSelection();o.assertEquals(1,t.getLength(),"Selection not reset on Tree");o.assertEquals(i,t.getItem(0),"Selection not reset on Tree");o.assertEquals(1,n.length,"Selection not reset on manager");o.assertEquals(o.tree.getLookupTable().indexOf(i),n[0],"Selection not reset on manager")})},testRemoveItem:function(){var e=this.createModelAndSetModel(2),t=this.tree.getSelection(),i=e.getChildren().getItem(0),n=i.getChildren().getItem(2);this.tree.openNode(i);t.push(n);this.assertEquals(1,t.getLength(),"On Tree (setup)");this.assertEquals(n,t.getItem(0),"On Tree (setup)");var s=this;this.assertEventFired(t,"change",function(){i.getChildren().removeAt(2).dispose()},function(e){s.assertEquals(1,t.getLength(),"On Tree");s.assertEquals(i,t.getItem(0),"On Tree");var n=s.tree._manager.getSelection();s.assertEquals(1,n.length,"On Manager");s.assertEquals(s.tree.getLookupTable().indexOf(i),n[0],"On Manager")})}}});qx.test.ui.tree.virtual.OneSelection.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.tree.core.IVirtualTree":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.marshal.Json":{},"qx.ui.tree.core.OpenCloseController":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.OpenCloseController",{extend:qx.dev.unit.TestCase,implement:qx.ui.tree.core.IVirtualTree,include:qx.dev.unit.MMock,events:{open:"qx.event.type.Data",close:"qx.event.type.Data"},properties:{openProperty:{check:"String",init:null}},members:{model:null,controller:null,nodesOpen:null,setUp:function(){if(!this.spyOpenNode){this.spyOpenNode=this.spy(this,"openNode");this.spyCloseNode=this.spy(this,"closeNode")}this.model=qx.data.marshal.Json.createModel([{name:"Root",open:!1,kids:[{name:"Branch 1",open:!1,kids:[{name:"Leaf 1.1"},{name:"Leaf 1.2"},{name:"Branch 1.3",open:!1,kids:[{name:"Branch 1.3.1",open:!1,kids:[{name:"Leaf 1.3.1.1"}]}]}]}]}],!0);var e=qx.data.marshal.Json.createModel({Name:"New parent",kids:[],open:!0},!0);this.model.getItem(0).getKids().push(e);var t=qx.data.marshal.Json.createModel({Name:"Child of new parent"},!0);e.getKids().push(t);t=qx.data.marshal.Json.createModel({Name:"Child of Root"},!0);this.model.getItem(0).getKids().push(t);this.nodesOpen={};this.setOpenProperty("open");this.controller=new qx.ui.tree.core.OpenCloseController(this,this.model.getItem(0))},tearDown:function(){this.controller.dispose();this.controller=null;this.model.dispose();this.model=null},testModelToTree:function(){var e;this.spyOpenNode.reset();this.spyCloseNode.reset();this.model.getItem(0).getKids().getItem(0).setOpen(!0);this.assertCalledOnce(this.spyOpenNode);e=Object.keys(this.nodesOpen);this.assertEquals(e.length,1);this.assertEquals(e[0],"Branch 1");this.model.getItem(0).getKids().getItem(0).setOpen(!1);this.assertCalledOnce(this.spyCloseNode);e=Object.keys(this.nodesOpen);this.assertEquals(e.length,0)},testTreeToModel:function(){var e,t;this.spyOpenNode.reset();this.spyCloseNode.reset();e=this.model.getItem(0).getKids().getItem(0);this.fireDataEvent("open",e);this.assertCalledOnce(this.spyOpenNode);t=Object.keys(this.nodesOpen);this.assertEquals(t.length,1);this.assertEquals(t[0],"Branch 1");this.assertTrue(e.getOpen());this.fireDataEvent("close",e);this.assertCalledOnce(this.spyCloseNode);t=Object.keys(this.nodesOpen);this.assertEquals(t.length,0);this.assertFalse(e.getOpen())},isShowTopLevelOpenCloseIcons:function(){return!0},isShowLeafs:function(){return!0},getSelection:function(){throw new Error("getSelection called unexpectedly")},getLookupTable:function(){throw new Error("getLookupTable called unexpectedly")},isNode:function(e){throw new Error("isNode called unexpectedly")},isNodeOpen:function(e){return this.nodesOpen[e.getName()]},getLevel:function(e){throw new Error("getLevel called unexpectedly")},hasChildren:function(e){throw new Error("hasChildren called unexpectedly")},openNode:function(e){this.nodesOpen[e.getName()]=!0},closeNode:function(e){delete this.nodesOpen[e.getName()]},openNodeWithoutScrolling:function(e){},closeNodeWithoutScrolling:function(e){},refresh:function(){}}});qx.test.ui.tree.virtual.OpenCloseController.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.AbstractTreeTest":{require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.Sorting",{extend:qx.test.ui.tree.virtual.AbstractTreeTest,members:{testSorter:function(){var e=function(e,t){return(e=e.getName())<(t=t.getName())?1:e>t?-1:0},t=this.createModel(2),i=this.createModelAndSetModel(2);this.tree.openNode(i.getChildren().getItem(2));this.tree.openNode(i.getChildren().getItem(2).getChildren().getItem(4));var n=[t,t.getChildren().getItem(2),t.getChildren().getItem(2).getChildren().getItem(4)];this.__sortModel(t,e);var s={sorter:e};this.tree.setDelegate(s);this.flush();var r=this.getVisibleItemsFrom(t,n);qx.lang.Array.insertAt(r,t,0);this.__testBuildLookupTable(r);t.dispose()},testModelUnmodified:function(){var e=this.createModelAndSetModel(1),t=e.getChildren().concat([]),i={sorter:function(e,t){return(e=e.getName())<(t=t.getName())?1:e>t?-1:0}};this.tree.setDelegate(i);this.flush();this.__testOrderNotChanged(t.toArray(),e.getChildren().toArray());t.dispose()},testSorterAndFilter:function(){var e=function(e,t){return(e=e.getName())<(t=t.getName())?1:e>t?-1:0},t=this.createModel(1);this.createModelAndSetModel(1);t.getChildren().removeAt(2);this.__sortModel(t,e);var i={sorter:e,filter:function(e){return"Node 2"!=e.getName()}};this.tree.setDelegate(i);this.flush();var n=this.getVisibleItemsFrom(t,[]);qx.lang.Array.insertAt(n,t,0);this.__testBuildLookupTable(n);t.dispose()},__sortModel:function(e,t){var i=e.getChildren();i.sort(t);for(var n=0;n<i.getLength();n++){var s=i.getItem(n);s instanceof qx.test.ui.tree.virtual.Node&&this.__sortModel(s,t)}},__testBuildLookupTable:function(e){var t=this.tree.getLookupTable().toArray(),i="Expected ["+e.join(", ")+"], but found ["+t.join(", ")+"]";this.assertEquals(e.length,t.length,i);for(var n=0;n<e.length;n++)this.assertTrue(e[n].equals(t[n]),i);this.assertEquals(e.length,this.tree.getPane().getRowConfig().getItemCount())},__testOrderNotChanged:function(e,t){var i="Expected ["+e.join(", ")+"], but found ["+t.join(", ")+"]";this.assertEquals(e.length,t.length,i);for(var n=0;n<e.length;n++)this.assertTrue(e[n].equals(t[n]),i)},__logModel:function(e,t){t=null!=t?t:0;for(var i="",n=0;n<t;n++)i+="-";console.log(i+">",e.getName());if(null!=e.getChildren){var s=e.getChildren();for(n=0;n<s.getLength();n++)this.__logModel(s.getItem(n),t+1)}}}});qx.test.ui.tree.virtual.Sorting.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.AbstractTreeTest":{require:!0},"qx.ui.tree.VirtualTree":{},"qx.lang.Array":{},"qx.data.Array":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.Tree",{extend:qx.test.ui.tree.virtual.AbstractTreeTest,members:{testCreation:function(){this.assertEquals("virtual-tree",this.tree.getAppearance(),"Init value for 'appearance' is wrong!");this.assertTrue(this.tree.getFocusable(),"Init value for 'focusable' is wrong!");this.assertEquals(100,this.tree.getWidth(),"Init value for 'width' is wrong!");this.assertEquals(200,this.tree.getHeight(),"Init value for 'height' is wrong!");this.assertEquals(25,this.tree.getItemHeight(),"Init value for 'itemHeight' is wrong!");this.assertEquals(25,this.tree.getPane().getRowConfig().getDefaultItemSize(),"Init value for 'itemHeight' is wrong!");this.assertEquals("dbltap",this.tree.getOpenMode(),"Init value for 'openMode' is wrong!");this.assertFalse(this.tree.getHideRoot(),"Init value for 'hideRoot' is wrong!");this.assertNull(this.tree.getModel(),"Init value for 'model' is wrong!");this.assertNull(this.tree.getLabelPath(),"Init value for 'labelPath' is wrong!");this.assertNull(this.tree.getIconPath(),"Init value for 'iconPath' is wrong!");this.assertNull(this.tree.getLabelOptions(),"Init value for 'labelOptions' is wrong!");this.assertNull(this.tree.getIconOptions(),"Init value for 'iconOptions' is wrong!");this.assertNull(this.tree.getDelegate(),"Init value for 'delegate' is wrong!");this.assertNull(this.tree.getChildProperty(),"Init value for 'childProperty' is wrong!");this.assertTrue(this.tree.getPane().hasListener("cellDbltap"),"Init listener 'cellDbltap' is wrong!")},testCreationWithParams:function(){this.tree.destroy();var e=this.createModel(0);this.tree=new qx.ui.tree.VirtualTree(e,"name","children");this.getRoot().add(this.tree);this.assertEquals(e,this.tree.getModel(),"Init value for 'model' is wrong!");this.assertEquals("name",this.tree.getLabelPath(),"Init value for 'labelPath' is wrong!");this.assertEquals("children",this.tree.getChildProperty(),"Init value for 'childProperty' is wrong!");e.dispose()},testSetItemHeight:function(){this.tree.setItemHeight(30);this.assertEquals(30,this.tree.getPane().getRowConfig().getDefaultItemSize())},testSetModel:function(){var e=this.createModelAndSetModel(0);this.assertEquals(e,this.tree.getModel())},testResetModel:function(){var e=this.tree.getModel();this.createModelAndSetModel(0);this.tree.resetModel();this.assertEquals(e,this.tree.getModel())},testExceptionOnSetModel:function(){var e=this.createModel(0),t=this;this.assertException(function(){t.tree.setModel(e)},Error,"Could not build tree, because 'childProperty' and/or 'labelPath' is 'null'!");e.dispose()},testBuildLookupTable:function(){var e=this.createModelAndSetModel(2),t=this.getVisibleItemsFrom(e,[e]);qx.lang.Array.insertAt(t,e,0);this.__testBuildLookupTable(t)},testBuildLookupTableWithOpenNodes:function(){var e=this.createModelAndSetModel(3),t=[e,e.getChildren().getItem(4),e.getChildren().getItem(4).getChildren().getItem(2)];this.__openNodes(t);var i=this.getVisibleItemsFrom(e,t);qx.lang.Array.insertAt(i,e,0);this.__testBuildLookupTable(i)},testBuildLookupTableWithRemovedNodes:function(){var e=this.createModelAndSetModel(3),t=[e,e.getChildren().getItem(4),e.getChildren().getItem(4).getChildren().getItem(2)];this.__openNodes(t);this.tree.closeNode(t[t.length-1]);t.pop();var i=this.getVisibleItemsFrom(e,t);qx.lang.Array.insertAt(i,e,0);this.__testBuildLookupTable(i)},testBuildLookupTableWithClosedRoot:function(){var e=this.createModelAndSetModel(1);this.tree.closeNode(e);this.__testBuildLookupTable([e])},testBuildLookupTableWithNoModel:function(){this.createModelAndSetModel(1);this.tree.setModel(null);this.__testBuildLookupTable([])},testBuildLookupTableOnModelChange:function(){var e=this.createModelAndSetModel(1),t=[e,e.getChildren().getItem(2)];this.__openNodes(t);var i=new qx.test.ui.tree.virtual.Node("New Branch");this._createNodes(i,2);e.getChildren().getItem(2).getChildren().push(i);var n=this.getVisibleItemsFrom(e,t);qx.lang.Array.insertAt(n,e,0);this.__testBuildLookupTable(n)},testBuildLookupTableWithHiddenRoot:function(){var e=this.createModelAndSetModel(1);this.tree.setHideRoot(!0);var t=this.getVisibleItemsFrom(e,[e]);this.__testBuildLookupTable(t)},testBuildLookupWithoutLeafs:function(){var e=this.createModelAndSetModel(2),t=[e,e.getChildren().getItem(2)];this.__openNodes(t);this.tree.setShowLeafs(!1);var i=this.getVisibleItemsFrom(e,t);qx.lang.Array.insertAt(i,e,0);for(var n=[],s=0;s<i.length;s++){var r=i[s];this.tree.isNode(r)&&n.push(r)}this.__testBuildLookupTable(n)},__testBuildLookupTable:function(e){this.assertArrayEquals(e,this.tree.getLookupTable().toArray());this.assertEquals(e.length,this.tree.getPane().getRowConfig().getItemCount())},testChangeBubblesAddChild:function(){var e=this.createModelAndSetModel(2),t=this.spy(this.tree,"buildLookupTable"),i=new qx.test.ui.tree.virtual.Leaf("New Leaf");e.getChildren().push(i);this.assertCalledOnce(t);i=new qx.test.ui.tree.virtual.Leaf("New Leaf");e.getChildren().getItem(2).getChildren().push(i);this.assertCalledTwice(t)},testChangeBubblesReplaceChildren:function(){var e=this.createModelAndSetModel(2),t=this.spy(this.tree,"buildLookupTable"),i=new qx.test.ui.tree.virtual.Leaf("New Leaf"),n=e.getChildren().getItem(2).getChildren();e.getChildren().getItem(2).setChildren(new qx.data.Array([i]));this.assertCalledOnce(t);n.setAutoDisposeItems(!0);n.dispose();i=new qx.test.ui.tree.virtual.Leaf("New Leaf");n=e.getChildren();e.setChildren(new qx.data.Array([i]));this.assertCalledTwice(t);n.setAutoDisposeItems(!0);n.dispose()},testChangeBubblesRemoveItems:function(){var e=this.createModelAndSetModel(2),t=this.spy(this.tree,"buildLookupTable"),i=e.getChildren().getItem(2).getChildren().removeAll();this.__disposeChildren(i);this.assertCalledOnce(t);i=e.getChildren().removeAll();this.__disposeChildren(i);this.assertCalledTwice(t)},testChangeBubblesChangeProperty:function(){var e=this.createModelAndSetModel(2),t=this.spy(this.tree,"buildLookupTable");e.setName("Gülleman");this.assertNotCalled(t);e.getChildren().getItem(2).setName("Gülleman");this.assertNotCalled(t)},testNoChangeBubblesAddChild:function(){var e=this.createModelAndSetModel(3),t=this.spy(this.tree,"buildLookupTable"),i=new qx.test.ui.tree.virtual.Node("test");e.getChildren().getItem(2).getChildren().getItem(0).getChildren().push(i);this.assertNotCalled(t)},testGetOpenNodes:function(){var e=this.createModelAndSetModel(1);this.assertArrayEquals([e],this.tree.getOpenNodes())},testIsNodeOpen:function(){var e=this.createModelAndSetModel(2),t=[e,e.getChildren().getItem(0)];this.__openNodes(t);this.assertTrue(this.tree.isNodeOpen(t[0]));this.assertTrue(this.tree.isNodeOpen(t[1]));this.assertFalse(this.tree.isNodeOpen(e.getChildren().getItem(1)))},testOpenNode:function(){var e=this.createModelAndSetModel(3),t=[e,e.getChildren().getItem(0)];this.__openNodes(t);this.assertArrayEquals(t,this.tree.getOpenNodes());this.tree.openNode(t[1]);this.assertArrayEquals(t,this.tree.getOpenNodes())},testCloseNode:function(){var e=this.createModelAndSetModel(2),t=[e,e.getChildren().getItem(0)];this.__openNodes(t);this.assertArrayEquals(t,this.tree.getOpenNodes());this.tree.closeNode(t[1]);t.pop();this.assertArrayEquals(t,this.tree.getOpenNodes())},testCloseNodeWithRoot:function(){var e=this.createModelAndSetModel(2),t=[e,e.getChildren().getItem(0)];this.__openNodes(t);this.assertArrayEquals(t,this.tree.getOpenNodes());this.tree.closeNode(t[1]);this.tree.closeNode(t[0]);this.assertArrayEquals([],this.tree.getOpenNodes())},testOpenNodeWithParents:function(){var e=this.createModelAndSetModel(3),t=[e,e.getChildren().getItem(4),e.getChildren().getItem(4).getChildren().getItem(4),e.getChildren().getItem(4).getChildren().getItem(4).getChildren().getItem(4)];this.tree.openNodeAndParents(t[3]);var i=this.tree.getOpenNodes();this.assertEquals(t.length,i.length);for(var n=0;n<t.length;n++)this.assertTrue(i.includes(t[n]))},testIsNode:function(){var e=this.createModelAndSetModel(3);this.assertTrue(this.tree.isNode(e));this.assertTrue(this.tree.isNode(e.getChildren().getItem(4)));this.assertTrue(this.tree.isNode(e.getChildren().getItem(4).getChildren().getItem(4)));this.assertTrue(this.tree.isNode(e.getChildren().getItem(4).getChildren().getItem(4).getChildren().getItem(4)));this.assertFalse(this.tree.isNode(e.getChildren().getItem(4).getChildren().getItem(4).getChildren().getItem(4).getChildren().getItem(4)))},testGetLevel:function(){var e=this.createModelAndSetModel(3),t=[e,e.getChildren().getItem(2),e.getChildren().getItem(2).getChildren().getItem(3),e.getChildren().getItem(2).getChildren().getItem(3).getChildren().getItem(1)];this.__openNodes(t);this.assertEquals(0,this.tree.getLevel(this.__getRowFrom(t[0])));this.assertEquals(1,this.tree.getLevel(this.__getRowFrom(t[1])));this.assertEquals(2,this.tree.getLevel(this.__getRowFrom(t[2])));this.assertEquals(3,this.tree.getLevel(this.__getRowFrom(t[3])));this.assertEquals(4,this.tree.getLevel(this.__getRowFrom(t[3].getChildren().getItem(4))))},testGetLevelWithHiddenRoot:function(){var e=this.createModelAndSetModel(1);this.tree.openNode(e.getChildren().getItem(4));this.tree.setHideRoot(!0);var t=[e.getChildren().getItem(4),e.getChildren().getItem(4).getChildren().getItem(2)];this.assertEquals(0,this.tree.getLevel(this.__getRowFrom(t[0])));this.assertEquals(1,this.tree.getLevel(this.__getRowFrom(t[1])))},testHasChildren:function(){var e=this.createModelAndSetModel(1);this.assertTrue(this.tree.hasChildren(e));var t=new qx.test.ui.tree.virtual.Node("Node");this.assertFalse(this.tree.hasChildren(t));t.dispose()},testHasChildrenHideLeafs:function(){var e=this.createModelAndSetModel(2);this.tree.setShowLeafs(!1);this.assertTrue(this.tree.hasChildren(e));this.tree.openNode(e.getChildren().getItem(0));this.assertTrue(this.tree.hasChildren(e.getChildren().getItem(0)));var t=new qx.test.ui.tree.virtual.Node("Node");this._createLeafs(t,1);this.assertFalse(this.tree.hasChildren(t));t.dispose();t=new qx.test.ui.tree.virtual.Node("Node");this.assertFalse(this.tree.hasChildren(t));t.dispose()},testSetOpenModeWithTap:function(){this.tree.setOpenMode("tap");this.__testOpenMode(!1,!0);this.tree.resetOpenMode();this.__testOpenMode(!0,!1)},testSetOpenModeWithNone:function(){this.tree.setOpenMode("none");this.__testOpenMode(!1,!1);this.tree.resetOpenMode();this.__testOpenMode(!0,!1)},__testOpenMode:function(e,t){var i=this.tree.getPane();this.assertEquals(e,i.hasListener("cellDbltap"),"Expected "+(e?"":"no ")+" listener for 'cellDbltap'!");this.assertEquals(t,i.hasListener("cellTap"),"Expected "+(t?"":"no ")+" listener for 'cellTap'!")},testFilter:function(){var e=this.model=this.createModel(1);this.tree.setLabelPath("name");this.tree.setChildProperty("children");var t={filter:function(e){return"Node 2"!=e.getName()}};this.tree.setDelegate(t);this.tree.setModel(e);this.flush();for(var i=this.getVisibleItemsFrom(e,[e]),n=0;n<i.length;n++)"Node 2"==i[n].getName()&&i.splice(n,1);qx.lang.Array.insertAt(i,e,0);this.assertArrayEquals(i,this.tree.getLookupTable().toArray())},testOpenNodeWithoutScrolling:function(){var e=this.createModelAndSetModel(1);qx.ui.core.queue.Manager.flush();var t=e.getChildren().getItem(4).getChildren().getItem(4);this.tree.openNodeAndParents(t);this.tree.setSelection(new qx.data.Array([t]));qx.ui.core.queue.Manager.flush();var i=this.tree.getScrollY();this.tree.openNodeWithoutScrolling(e.getChildren().getItem(2));qx.ui.core.queue.Manager.flush();this.assertEquals(this.tree.getScrollY(),i,"Y position of scroller must not be changed");this.tree.closeNode(e.getChildren().getItem(2));qx.ui.core.queue.Manager.flush();this.assertNotEquals(this.tree.getScrollY(),i,"Y position of scroller must be changed")},__getRowFrom:function(e){return this.tree.getLookupTable().indexOf(e)},__openNodes:function(e){for(var t=0;t<e.length;t++)this.tree.openNodeWithoutScrolling(e[t])},__disposeChildren:function(e){for(var t=0;t<e.length;t++)e[t].dispose()}}});qx.test.ui.tree.virtual.Tree.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.tree.virtual.AbstractTreeTest":{construct:!0,require:!0},"qx.core.ObjectRegistry":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.TreeItem",{extend:qx.test.ui.tree.virtual.AbstractTreeTest,construct:function(){qx.test.ui.tree.virtual.AbstractTreeTest.constructor.call(this);qx.Class.define("qx.test.ui.tree.virtual.NodeDefered",{extend:qx.test.ui.tree.virtual.Leaf,properties:{children:{check:"qx.data.Array",event:"changeChildren",apply:"_applyEventPropagation",nullable:!0}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){var e=this.getChildren();if(e){for(var t=0;t<e.getLength();t++)e.getItem(t).dispose();e.dispose()}}}})},members:{testChildrenSetDeferred:function(){var e=this,t=new qx.test.ui.tree.virtual.Node("Root node"),i=new qx.test.ui.tree.virtual.NodeDefered("Node1");t.getChildren().push(i);this.tree.setLabelPath("name");this.tree.setChildProperty("children");this.tree.setModel(t);this.flush();window.setTimeout(e.resumeHandler(function(){i.setChildren(new qx.data.Array([new qx.test.ui.tree.virtual.NodeDefered("Node1.1")]));e.assertTrue(i.hasListener("changeChildren"),"There must be a 'changeChildren' event listener!");e.assertTrue(i.getChildren().hasListener("changeLength"),"There must be a 'changeLength' event listener on children array!");var n=e.__getWidgetForm(i);e.assertTrue(n.isOpenable(),"Must be openable!");t.dispose();e.assertFalse(i.hasListener("changeChildren"),"After disposing, there has not be a 'changeChildren' event listener!");e.assertFalse(i.getChildren().hasListener("changeLength"),"After disposing, there must not be a 'changeLength' event listener on children array!")}),0);this.assertNull(i.getChildren(),"Must be null");this.wait(50)},__getWidgetForm:function(e){var t=null,i=this.tree.getLookupTable().indexOf(e);i>-1&&(t=this.tree._layer.getRenderedCellWidget(i,0));return t}}});qx.test.ui.tree.virtual.TreeItem.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.data.marshal.Json":{},"qx.ui.tree.core.Util":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.UtilTest",{extend:qx.dev.unit.TestCase,members:{model:null,setUp:function(){this.model=qx.data.marshal.Json.createModel({name:"Root",kids:[{name:"Node1",kids:[{name:"Leaf1.1"}]},{name:"Node2",kids:[]},{name:"Node3",kids:null},{name:"Leaf1"},{name:"Leaf2"}]})},tearDown:function(){this.model.dispose();this.model=null},"test isNode with nodes and leafs":function(){var e=this.model;this.assertTrue(qx.ui.tree.core.Util.isNode(e,"kids"));for(var t=e.getKids(),i=0,n=t.getLength();i<n;i++){var s=t.getItem(i),r=qx.ui.tree.core.Util.isNode(s,"kids");void 0!==s.getKids?this.assertTrue(r):this.assertFalse(r)}},"test isNode with invalid child property":function(){this.assertFalse(qx.ui.tree.core.Util.isNode(this.model,"noChildProperty"))},"test isNode with null calls":function(){this.assertFalse(qx.ui.tree.core.Util.isNode(null,"kids"));this.assertFalse(qx.ui.tree.core.Util.isNode(this.model,null));this.assertFalse(qx.ui.tree.core.Util.isNode(null,null))},"test hasChildren with leafs":function(){var e=this.model,t=e.getKids();this.assertTrue(qx.ui.tree.core.Util.hasChildren(e,"kids"));this.assertTrue(qx.ui.tree.core.Util.hasChildren(t.getItem(0),"kids"));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(1),"kids"));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(2),"kids"));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(3),"kids"));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(4),"kids"))},"test hasChildren and ignore leafs":function(){var e=this.model,t=e.getKids();this.assertTrue(qx.ui.tree.core.Util.hasChildren(e,"kids",!0));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(0),"kids",!0));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(1),"kids",!0));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(2),"kids",!0));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(3),"kids",!0));this.assertFalse(qx.ui.tree.core.Util.hasChildren(t.getItem(4),"kids",!0))},"test hasChildren with invalid child property":function(){this.assertFalse(qx.ui.tree.core.Util.hasChildren(this.model,"noChildProperty"))},"test hasChildren with null calls":function(){this.assertFalse(qx.ui.tree.core.Util.hasChildren(null,"kids"));this.assertFalse(qx.ui.tree.core.Util.hasChildren(this.model,null));this.assertFalse(qx.ui.tree.core.Util.hasChildren(null,null))}}});qx.test.ui.tree.virtual.UtilTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.tree.core.IVirtualTree":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.data.marshal.Json":{},"qx.ui.tree.provider.WidgetProvider":{},"qx.ui.virtual.layer.WidgetCell":{},"qx.ui.tree.VirtualTreeItem":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.tree.virtual.WidgetProvider",{extend:qx.dev.unit.TestCase,implement:qx.ui.tree.core.IVirtualTree,include:qx.dev.unit.MMock,properties:{openProperty:{check:"String",init:null}},members:{model:null,provider:null,lookupTable:null,selection:null,setUp:function(){this.model=qx.data.marshal.Json.createModel({name:"Root",icon:"Root",kids:[{name:"Node1",icon:"Node1",kids:[]},{name:"Node2",icon:"Node2",kids:[]},{name:"Leaf1",icon:"Leaf1"},{name:"Leaf2",icon:"Leaf2"}]});this.provider=new qx.ui.tree.provider.WidgetProvider(this);this.provider.setLabelPath("name");this.provider.setIconPath("icon");this.provider.setChildProperty("kids")},tearDown:function(){this.provider.dispose();this.provider=null;for(var e=0;e<this.model.getKids().getLength();e++)this.model.getKids().getItem(e).dispose();this.model.dispose();this.model=null;if(null!=this.lookupTable){this.lookupTable.dispose();this.lookupTable=null}if(null!=this.selection){this.selection.dispose();this.selection=null}},testCreation:function(){this.provider.dispose();this.provider=new qx.ui.tree.provider.WidgetProvider(this);this.assertNull(this.provider.getChildProperty(),"Initial 'childProperty' property value is wrong!");this.assertNull(this.provider.getLabelPath(),"Initial 'labelPath' property value is wrong!");this.assertNull(this.provider.getIconPath(),"Initial 'iconPath' property value is wrong!")},testCreateLayer:function(){var e=this.provider.createLayer();this.assertInstance(e,qx.ui.virtual.layer.WidgetCell);e.dispose()},testGetRootNodeWidget:function(){var e=this.spy(this.provider,"_bindItem"),t=this.spy(this.provider,"_styleUnselectabled"),i=this.provider.getCellWidget(0,0);this.assertInstance(i,qx.ui.tree.VirtualTreeItem);this.assertTrue(i.hasChildren());this.assertTrue(i.getUserData("cell.showLeafs"));this.assertTrue(i.getUserData("cell.showLeafs"));this.assertEquals(0,i.getUserData("cell.level"));this.assertTrue(i.isOpen());this.assertTrue(i.hasListener("changeOpen"));this.assertCalledOnce(e);this.assertCalledWith(e,i,0);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},testGetNodeWidget:function(){var e=this.spy(this.provider,"_bindItem"),t=this.spy(this.provider,"_styleUnselectabled"),i=this.provider.getCellWidget(1,0);this.assertInstance(i,qx.ui.tree.VirtualTreeItem);this.assertFalse(i.hasChildren());this.assertTrue(i.getUserData("cell.showLeafs"));this.assertEquals(1,i.getUserData("cell.level"));this.assertFalse(i.isOpen());this.assertTrue(i.hasListener("changeOpen"));this.assertCalledOnce(e);this.assertCalledWith(e,i,1);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},testGetLeafWidget:function(){var e=this.spy(this.provider,"_bindItem"),t=this.spy(this.provider,"_styleUnselectabled"),i=this.provider.getCellWidget(3,0);this.assertInstance(i,qx.ui.tree.VirtualTreeItem);this.assertFalse(i.hasChildren());this.assertTrue(i.getUserData("cell.showLeafs"));this.assertEquals(1,i.getUserData("cell.level"));this.assertFalse(i.isOpen());this.assertTrue(i.hasListener("changeOpen"));this.assertCalledOnce(e);this.assertCalledWith(e,i,3);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},testPoolWidget:function(){var e=this.provider.getCellWidget(3,0),t=this.spy(this.provider._renderer,"pool"),i=this.spy(this.provider,"_removeBindingsFrom");this.provider.poolCellWidget(e);this.assertCalledOnce(t);this.assertCalledWith(t,e);this.assertCalledOnce(i);this.assertCalledWith(i,e);e.dispose()},testDefaultNodeBinding:function(){var e=new qx.ui.tree.VirtualTreeItem;this.provider._bindItem(e,0);this.assertEquals(4,this.getLookupTable().getBindings().length,"Bindings count not correct!");this.assertEquals("Root",e.getLabel());this.assertEquals("Root",e.getIcon());this.assertEquals("virtual-tree-folder",e.getAppearance());this.assertEquals(this.model,e.getModel());this.provider._bindItem(e,1);this.assertEquals(8,this.getLookupTable().getBindings().length,"Bindings count not correct!");this.assertEquals("Node1",e.getLabel());this.assertEquals("Node1",e.getIcon());this.assertEquals("virtual-tree-folder",e.getAppearance());this.assertEquals(this.model.getKids().getItem(0),e.getModel());e.dispose()},testDefaultLeafBinding:function(){var e=new qx.ui.tree.VirtualTreeItem;this.provider._bindItem(e,3);this.assertEquals(3,this.getLookupTable().getBindings().length,"Bindings count not correct!");this.assertEquals("Leaf1",e.getLabel());this.assertEquals("Leaf1",e.getIcon());this.assertEquals("virtual-tree-file",e.getAppearance());this.assertEquals(this.model.getKids().getItem(2),e.getModel());e.dispose()},testRemoveBindingsFromNode:function(){var e=new qx.ui.tree.VirtualTreeItem,t=e.getBindings().length,i=this.getLookupTable().getBindings().length;this.provider._bindItem(e,0);this.provider._removeBindingsFrom(e);var n=e.getBindings().length,s=this.getLookupTable().getBindings().length;this.assertEquals(t,n,"Binding on widget is not removed!");this.assertEquals(i,s,"Binding on model is not removed!");e.dispose()},testReverseBinding:function(){var e=new qx.ui.tree.VirtualTreeItem,t=e.getBindings().length,i=this.getLookupTable().getBindings().length;this.provider.bindPropertyReverse("name","label",null,e,0);e.setLabel("ort-zerreiber");this.assertEquals("ort-zerreiber",this.model.getName());this.provider._removeBindingsFrom(e);var n=e.getBindings().length,s=this.getLookupTable().getBindings().length;this.assertEquals(t,n,"Binding on widget is not removed!");this.assertEquals(i,s,"Binding on model is not removed!");e.dispose()},testRemoveAllBindings:function(){var e=new qx.ui.tree.VirtualTreeItem,t=new qx.ui.tree.VirtualTreeItem,i=e.getBindings().length,n=(t.getBindings().length,this.getLookupTable().getBindings().length);this.provider.bindProperty("name","label",null,e,0);this.provider.bindProperty("name","label",null,t,1);this.provider.bindPropertyReverse("name","label",null,e,0);this.provider.bindPropertyReverse("name","label",null,t,1);this.provider.removeBindings();var s=e.getBindings().length,r=(t.getBindings().length,this.getLookupTable().getBindings().length);this.assertEquals(i,s,"Binding on first widget is not removed!");this.assertEquals(i,s,"Binding on second widget is not removed!");this.assertEquals(n,r,"Binding on model is not removed!");e.dispose();t.dispose()},testRemoveAllBindingsOnDispose:function(){var e=new qx.ui.tree.provider.WidgetProvider(this),t=this.spy(e,"removeBindings");e.dispose();this.assertCalledOnce(t)},testCreateItem:function(){var e={createItem:function(){return new qx.ui.tree.VirtualTreeItem}},t=this.spy(e,"createItem");this.provider.setDelegate(e);var i=this.provider.getCellWidget(4,0);this.assertCalledOnce(t);i.dispose()},testConfigureItem:function(){var e={configureItem:function(e){}},t=this.spy(e,"configureItem");this.provider.setDelegate(e);var i=this.provider.getCellWidget(4,0);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},testBindItem:function(){var e={bindItem:function(e,t,i){}},t=this.spy(e,"bindItem");this.provider.setDelegate(e);var i=this.provider.getCellWidget(4,0);this.assertCalledOnce(t);this.assertCalledWith(t,this.provider,i,4);i.dispose()},testOnPool:function(){var e={onPool:function(e){}},t=this.spy(e,"onPool");this.provider.setDelegate(e);var i=this.provider.getCellWidget(4,0);this.provider.poolCellWidget(i);this.assertCalledOnce(t);this.assertCalledWith(t,i);i.dispose()},isShowTopLevelOpenCloseIcons:function(){return!0},isShowLeafs:function(){return!0},getSelection:function(){if(null!=this.selection)return this.selection;this.selection=new qx.data.Array;return this.selection},getLookupTable:function(){if(null!=this.lookupTable)return this.lookupTable;var e=this.model;this.lookupTable=new qx.data.Array([e]);for(var t=0;t<e.getKids().getLength();t++)this.lookupTable.push(e.getKids().getItem(t));return this.lookupTable},isNode:function(e){var t=this.getLookupTable().indexOf(e);if(-1==t)throw new Error("Item is not part of the model!");return 0==t||1==t||2==t},isNodeOpen:function(e){if(-1==this.getLookupTable().indexOf(e))throw new Error("Node is not part of the model!");return e==this.model},getLevel:function(e){if(e>this.getLookupTable().getLength()||e<0)throw new Error("Row is not in range of the model!");return 0==e?0:1},hasChildren:function(e){return!!this.isNode(e)&&e.getKids().getLength()>0},openNode:function(e){},openNodeWithoutScrolling:function(e){},closeNode:function(e){},closeNodeWithoutScrolling:function(e){}}});qx.test.ui.tree.virtual.WidgetProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.virtual.core.Axis":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.Axis",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.defaultSize=10;this.count=1e3;this.axis=new qx.ui.virtual.core.Axis(this.defaultSize,this.count)},tearDown:function(){this.axis.dispose()},assertItem:function(e,t,i,n){this.assertEquals(e,i.index,n+": invalid item index");this.assertEquals(t,i.offset,n+": invalid item offset")},testDefaultItemSize:function(){this.assertEquals(this.defaultSize,this.axis.getDefaultItemSize());this.axis.setDefaultItemSize(20);this.assertEquals(20,this.axis.getDefaultItemSize())},testItemCount:function(){this.assertEquals(this.count,this.axis.getItemCount());this.axis.setItemCount(2*this.count);this.assertEquals(2*this.count,this.axis.getItemCount())},testItemSize:function(){var e={100:2,200:30};e[600]=this.defaultSize;for(var t in e)this.axis.setItemSize(parseInt(t,10),e[t]);for(var i=0;i<this.count;i++)this.assertEquals(e[i]||this.defaultSize,this.axis.getItemSize(i));this.axis.setDefaultItemSize(2*this.defaultSize);for(i=0;i<this.count;i++)this.assertEquals(e[i]||2*this.defaultSize,this.axis.getItemSize(i))},testItemAtPosition:function(){this.axis.setItemCount(1e3);this.axis.setDefaultItemSize(10);this.assertItem(500,5,this.axis.getItemAtPosition(5005));this.assertItem(0,0,this.axis.getItemAtPosition(0));this.assertItem(999,9,this.axis.getItemAtPosition(9999));this.assertNull(this.axis.getItemAtPosition(-10));this.assertNull(this.axis.getItemAtPosition(1e4));this.assertNull(this.axis.getItemAtPosition(10100));this.axis.setItemCount(0);this.assertNull(this.axis.getItemAtPosition(0))},testEmptyAxis:function(){this.axis.setItemSize(1,10);this.axis.setItemCount(0);this.assertEquals(0,this.axis.getTotalSize())},testGetItemAtPositionCustomSizes:function(){var e=this.defaultSize,t={};t[100]=e-8;t[200]=e+20;t[600]=e;for(var i in t)this.axis.setItemSize(parseInt(i,10),t[i]);this.assertItem(0,0,this.axis.getItemAtPosition(0*e));this.assertItem(10,0,this.axis.getItemAtPosition(10*e));this.assertItem(101,0,this.axis.getItemAtPosition(101*e-8));this.assertItem(201,0,this.axis.getItemAtPosition(201*e-8+20));this.assertItem(601,0,this.axis.getItemAtPosition(601*e-8+20));this.assertItem(0,4,this.axis.getItemAtPosition(0*e+4));this.assertItem(10,4,this.axis.getItemAtPosition(10*e+4));this.assertItem(101,4,this.axis.getItemAtPosition(101*e-8+4));this.assertItem(201,4,this.axis.getItemAtPosition(201*e-8+20+4));this.assertItem(601,4,this.axis.getItemAtPosition(601*e-8+20+4));this.assertItem(0,e-1,this.axis.getItemAtPosition(0*e+e-1));this.assertItem(10,e-1,this.axis.getItemAtPosition(10*e+e-1));this.assertItem(101,e-1,this.axis.getItemAtPosition(101*e-8+e-1));this.assertItem(201,e-1,this.axis.getItemAtPosition(201*e-8+20+e-1));this.assertItem(601,e-1,this.axis.getItemAtPosition(601*e-8+20+e-1))},ITEM_POS_ITER:5,ITEM_POS_COUNT:1e4,testGetItemAtPositionStress:function(){for(var e=0;e<this.ITEM_POS_ITER;e++){var t=0;this.axis.setItemCount(this.ITEM_POS_COUNT);for(var i=0;i<this.ITEM_POS_COUNT;i++){if(i==this.ITEM_POS_COUNT-10)var n=t+20;var s=50+Math.round(80*Math.random());t+=s;this.axis.setItemSize(i,s)}this.assertItem(this.ITEM_POS_COUNT-10,20,this.axis.getItemAtPosition(n))}},testGetTotalSize:function(){var e=this.defaultSize,t=this.count;this.assertEquals(e*t,this.axis.getTotalSize());for(var i=0,n=1;n<=10;n++){this.axis.setItemSize(10*n,e+2*n);i+=2*n}this.assertEquals(e*t+i,this.axis.getTotalSize())},TOTAL_SIZE_ITER:5,TOTAL_SIZE_ITEMS:100,testGetTotalSizeStress:function(){for(var e=0;e<this.TOTAL_SIZE_ITER;e++){var t=0;this.axis.setItemCount(this.TOTAL_SIZE_ITEMS);for(var i=0;i<this.TOTAL_SIZE_ITEMS;i++){var n=50+Math.round(80*Math.random());t+=n;this.axis.setItemSize(i,n)}this.assertEquals(t,this.axis.getTotalSize())}},testGetItemSizes:function(){this.axis.setDefaultItemSize(10);this.assertArrayEquals([10,10,10,10],this.axis.getItemSizes(0,40));this.assertArrayEquals([10,10,10,10],this.axis.getItemSizes(20,40));this.assertArrayEquals([10,10,10,10],this.axis.getItemSizes(0,31));this.axis.setItemSize(1,5);this.axis.setItemSize(3,25);this.assertArrayEquals([10,5,10,25],this.axis.getItemSizes(0,50));this.assertArrayEquals([10,5,10,25],this.axis.getItemSizes(0,26));this.assertArrayEquals([5,10,25,10],this.axis.getItemSizes(1,41));this.axis.setDefaultItemSize(10);this.axis.setItemCount(10);this.assertArrayEquals([10,10],this.axis.getItemSizes(8,25));this.assertArrayEquals([10],this.axis.getItemSizes(9,30))},testGetItemPosition:function(){var e=this.defaultSize;this.assertEquals(20*e,this.axis.getItemPosition(20));this.assertEquals(0,this.axis.getItemPosition(0));this.assertEquals(e*(this.count-1),this.axis.getItemPosition(this.count-1));this.assertEquals(null,this.axis.getItemPosition(-1));this.assertEquals(null,this.axis.getItemPosition(this.count));this.assertEquals(null,this.axis.getItemPosition(this.count+100))},testGetItemPositionCustomSizes:function(){var e=this.defaultSize,t={};t[100]=e-8;t[200]=e+20;t[600]=e;for(var i in t)this.axis.setItemSize(parseInt(i,10),t[i]);this.assertEquals(0*e,this.axis.getItemPosition(0));this.assertEquals(10*e,this.axis.getItemPosition(10));this.assertEquals(101*e-8,this.axis.getItemPosition(101));this.assertEquals(201*e-8+20,this.axis.getItemPosition(201));this.assertEquals(601*e-8+20,this.axis.getItemPosition(601))},testChangeEvents:function(){var e=this,t=function(){};this.assertEventFired(this.axis,"change",function(){e.axis.setDefaultItemSize(23)},t);this.assertEventNotFired(this.axis,"change",function(){e.axis.setDefaultItemSize(23)},t);this.assertEventFired(this.axis,"change",function(){e.axis.setItemCount(123)},t);this.assertEventNotFired(this.axis,"change",function(){e.axis.setItemCount(123)},t);this.assertEventFired(this.axis,"change",function(){e.axis.setItemSize(10,66)},t);this.assertEventNotFired(this.axis,"change",function(){e.axis.setItemSize(10,66)},t);this.assertEventFired(this.axis,"change",function(){e.axis.setItemSize(10,null)},t);this.assertEventNotFired(this.axis,"change",function(){e.axis.setItemSize(11,null)},t);this.assertEventFired(this.axis,"change",function(){e.axis.resetItemSizes()},t)},SETUP_ITER:10,testPerformanceSetupBestCase:function(){new Date;for(var e=0;e<this.SETUP_ITER;e++){this.axis.__ranges=null;this.axis.getItemAtPosition(0)}new Date},testPerformanceSetupWorstCase:function(){for(var e=0;e<this.count;e++)this.axis.setItemSize(e,this.defaultSize+e%20+1);for(new Date,e=0;e<this.SETUP_ITER;e++){this.axis.__ranges=null;this.axis.getItemAtPosition(0)}new Date},FIND_ITER:100,testPerformanceFindBestCase:function(){for(var e=this.axis.getTotalSize(),t=(new Date,0);t<this.FIND_ITER;t++)this.axis.getItemAtPosition(17*t%e);new Date},testPerformanceFindWorstCase:function(){for(var e=0;e<this.count;e++)this.axis.setItemSize(e,this.defaultSize+e%20+1);var t=this.axis.getTotalSize();for(new Date,e=0;e<this.FIND_ITER;e++)this.axis.getItemAtPosition(17*e%t);new Date}},destruct:function(){this.axis=null}});qx.test.ui.virtual.Axis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.virtual.core.Pane":{},"qx.test.ui.virtual.layer.LayerMock":{},"qx.test.ui.virtual.layer.LayerSimple":{},"qx.test.ui.virtual.PointerEventMock":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.Pane",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){qx.test.ui.virtual.Pane.prototype.setUp.base.call(this);this.defaultWidth=30;this.defaultHeight=10;this.rowCount=1e3;this.colCount=200;var e=new qx.ui.virtual.core.Pane(this.rowCount,this.colCount,this.defaultHeight,this.defaultWidth);this.getRoot().add(e);this.pane=e},tearDown:function(){this.pane.destroy();qx.test.ui.virtual.Pane.prototype.tearDown.base.call(this);this.flush()},assertUpdateArgs:function(e,t,i,n,s,r){this.assertEquals(e,s[0],r);this.assertEquals(t,s[1],r);this.assertArrayEquals(i,s[2],r);this.assertArrayEquals(n,s[3],r)},assertScrollArgs:function(e,t,i,n,s,r){this.assertEquals(e,s[0],r);this.assertEquals(t,s[1],r);this.assertArrayEquals(i,s[2],r);this.assertArrayEquals(n,s[3],r)},assertScroll:function(e,t,i,n){var s=this.pane._getChildren()[0];this.assertEquals(-e,s.getBounds().top,n);this.assertEquals(-t,s.getBounds().left,n)},testConstructor:function(){this.assertNotUndefined(this.pane)},testScrollProperties:function(){this.flush();this.pane.setScrollY(30);this.assertEquals(30,this.pane.getScrollY());this.pane.setScrollX(40);this.assertEquals(40,this.pane.getScrollX())},testGetScrollSize:function(){var e=this.pane.getScrollSize();this.assertEquals(this.defaultWidth*this.colCount,e.width);this.assertEquals(this.defaultHeight*this.rowCount,e.height);var t=this.pane.getRowConfig();t.setDefaultItemSize(50);t.setItemCount(123);t.setItemSize(10,30);this.assertEquals(6130,this.pane.getScrollSize().height)},testLayerAdd:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.assertEquals(e,this.pane.getLayers()[0])},testUpdateEvent:function(){var e=0,t=new qx.ui.virtual.core.Pane(100,20,10,50);t.addListener("update",function(){e++},this);t.set({width:300,height:200});this.getRoot().add(t);this.assertEquals(0,e,"Expect no update after creation");this.flush();this.assertEquals(1,e,"Expect one update after appear");e=0;t.setWidth(400);this.flush();this.assertEquals(1,e,"Expect one update after pane resize");e=0;t.getRowConfig().setItemCount(200);this.flush();this.assertEquals(1,e,"Expect one update after data resize");e=0;t.getRowConfig().setItemCount(300);t.setWidth(500);this.flush();this.assertEquals(2,e,"Expect two updates after data and pane resize");t.destroy()},testFullUpdate:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:100,height:50});this.flush();e.calls=[];this.pane.fullUpdate();this.flush();this.assertEquals(2,e.calls.length);this.assertEquals("fullUpdate",e.calls[0][0]);var t=e.calls[0][1];this.assertUpdateArgs(0,0,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,0,this.pane);this.pane.setScrollY(4);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,0,[10,10,10,10,10,10],[30,30,30,30],t);this.assertScroll(4,0,this.pane);this.pane.setScrollY(10);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(1,0,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,0,this.pane);this.pane.setScrollY(16);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(1,0,[10,10,10,10,10,10],[30,30,30,30],t);this.assertScroll(6,0,this.pane);this.pane.setScrollY(0);this.flush();this.pane.setScrollX(4);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,0,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,4,this.pane);this.pane.setScrollX(30);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,1,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,0,this.pane);this.pane.setScrollX(36);e.calls=[];this.pane.fullUpdate();this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,1,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,6,this.pane)},testNoRows:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);e.calls=[];this.pane.setWidth(100);this.pane.getColumnConfig().setDefaultItemSize(100);this.pane.getColumnConfig().setItemCount(1);this.pane.getRowConfig().setItemCount(0);this.flush();var t=e.calls[0][1];this.assertUpdateArgs(0,0,[],[100],t);this.assertScroll(0,0,this.pane);e.calls=[];this.pane.setWidth(30);this.pane.getColumnConfig().setDefaultItemSize(30);this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,0,[],[30],t);this.assertScroll(0,0,this.pane)},testNoColumns:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);e.calls=[];this.pane.setHeight(100);this.pane.getRowConfig().setDefaultItemSize(100);this.pane.getRowConfig().setItemCount(1);this.pane.getColumnConfig().setItemCount(0);this.flush();var t=e.calls[0][1];this.assertUpdateArgs(0,0,[100],[],t);this.assertScroll(0,0,this.pane);e.calls=[];this.pane.setHeight(30);this.pane.getRowConfig().setDefaultItemSize(30);this.flush();t=e.calls[0][1];this.assertUpdateArgs(0,0,[30],[],t);this.assertScroll(0,0,this.pane)},testPrefetchYAtTop:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.prefetchY(100,200,0,0);this.flush();this.assertEquals(400,e.getBounds().height);this.assertScroll(0,0,this.pane)},testPrefetchYLimitedAtTop:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollY(100);this.pane.prefetchY(100,200,0,0);this.flush();this.assertEquals(500,e.getBounds().height);this.assertScroll(100,0,this.pane)},testPrefetchYAtBottom:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollY(this.pane.getScrollMaxY());this.pane.prefetchY(0,0,100,200);this.flush();this.assertEquals(400,e.getBounds().height);this.assertScroll(0,0,this.pane)},testPrefetchYLimitedAtBottom:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollY(this.pane.getScrollMaxY()-100);this.pane.prefetchY(0,0,100,200);this.flush();this.assertEquals(500,e.getBounds().height);this.assertScroll(0,0,this.pane)},testPrefetchYInMiddle:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollY(500);this.pane.prefetchY(100,200,100,200);this.flush();this.assertEquals(800,e.getBounds().height);this.assertScroll(200,0,this.pane);this.pane.setScrollY(480);this.pane.prefetchY(100,200,100,200);this.flush();this.assertEquals(800,e.getBounds().height);this.assertScroll(180,0,this.pane);this.pane.setScrollY(390);this.pane.prefetchY(100,200,100,200);this.flush();this.assertEquals(800,e.getBounds().height);this.assertScroll(200,0,this.pane);this.pane.setScrollY(410);this.pane.prefetchY(100,200,100,200);this.flush();this.assertEquals(800,e.getBounds().height);this.assertScroll(220,0,this.pane);this.pane.setScrollY(520);this.pane.prefetchY(100,200,100,200);this.flush();this.assertEquals(800,e.getBounds().height);this.assertScroll(200,0,this.pane)},testPrefetchXAtLeft:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.flush();this.pane.prefetchX(100,200,0,0);this.flush();this.assertEquals(300,e.getBounds().width);this.assertScroll(0,0,this.pane)},testPrefetchXLimitedAtLeft:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.getColumnConfig().setDefaultItemSize(10);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollX(100);this.pane.prefetchX(100,200,0,0);this.flush();this.assertEquals(400,e.getBounds().width);this.assertScroll(0,100,this.pane)},testPrefetchXAtBottom:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.getColumnConfig().setDefaultItemSize(10);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollX(this.pane.getScrollMaxX());this.pane.prefetchX(0,0,100,200);this.flush();this.assertEquals(300,e.getBounds().width);this.assertScroll(0,0,this.pane)},testPrefetchXLimitedAtBottom:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.getColumnConfig().setDefaultItemSize(10);this.pane.set({width:300,height:400});this.flush();this.pane.setScrollX(this.pane.getScrollMaxX()-100);this.pane.prefetchX(0,0,100,200);this.flush();this.assertEquals(400,e.getBounds().width);this.assertScroll(0,0,this.pane)},testPrefetchXInMiddle:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:300,height:400});this.pane.getColumnConfig().setDefaultItemSize(10);this.flush();this.pane.setScrollX(500);this.pane.prefetchX(100,200,100,200);this.flush();this.assertEquals(700,e.getBounds().width);this.assertScroll(0,200,this.pane);this.pane.setScrollX(480);this.pane.prefetchX(100,200,100,200);this.flush();this.assertEquals(700,e.getBounds().width);this.assertScroll(0,180,this.pane);this.pane.setScrollX(390);this.pane.prefetchX(100,200,100,200);this.flush();this.assertEquals(700,e.getBounds().width);this.assertScroll(0,200,this.pane);this.pane.setScrollX(410);this.pane.prefetchX(100,200,100,200);this.flush();this.assertEquals(700,e.getBounds().width);this.assertScroll(0,220,this.pane);this.pane.setScrollX(520);this.pane.prefetchX(100,200,100,200);this.flush();this.assertEquals(700,e.getBounds().width);this.assertScroll(0,200,this.pane)},testUpdateLayerWindow:function(){var e=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(e);this.pane.set({width:100,height:50});this.flush();e.calls=[];this.pane.setScrollY(4);this.flush();this.assertEquals("updateLayerWindow",e.calls[0][0]);var t=e.calls[0][1];this.assertScrollArgs(0,0,[10,10,10,10,10,10],[30,30,30,30],t);this.assertScroll(4,0,this.pane);e.calls=[];this.pane.setScrollY(5);this.flush();this.assertEquals(0,e.calls.length);this.assertScroll(5,0,this.pane);e.calls=[];this.pane.setScrollY(10);this.flush();this.assertEquals(0,e.calls.length);this.assertScroll(10,0,this.pane);e.calls=[];this.pane.setScrollY(16);this.flush();this.assertEquals("updateLayerWindow",e.calls[0][0]);t=e.calls[0][1];this.assertScrollArgs(1,0,[10,10,10,10,10,10],[30,30,30,30],t);this.assertScroll(6,0,this.pane);this.pane.setScrollY(0);this.flush();e.calls=[];this.pane.setScrollX(4);this.flush();this.assertEquals(0,e.calls.length);this.assertScroll(0,4,this.pane);e.calls=[];this.pane.setScrollX(30);this.flush();this.assertEquals("updateLayerWindow",e.calls[0][0]);t=e.calls[0][1];this.assertScrollArgs(0,1,[10,10,10,10,10],[30,30,30,30],t);this.assertScroll(0,0,this.pane);e.calls=[];this.pane.setScrollX(36);this.flush();this.assertEquals(0,e.calls.length);this.assertScroll(0,6,this.pane)},testSrollRowIntoView:function(){this.pane.set({width:400,height:305});this.pane.getColumnConfig().setItemCount(1);var e=new qx.test.ui.virtual.layer.LayerSimple;this.pane.addLayer(e);this.flush();this.pane.scrollRowIntoView(100);this.flush();var t=e.getContentElement().getDomElement().childNodes;this.assertScroll(5,0,this.pane);this.assertEquals("70 / 0",t[0].innerHTML);this.assertEquals("100 / 0",t[t.length-1].innerHTML)},testSrollColumnIntoView:function(){this.pane.set({width:405,height:305});this.pane.getRowConfig().setItemCount(1);var e=new qx.test.ui.virtual.layer.LayerSimple;this.pane.addLayer(e);this.flush();this.pane.scrollColumnIntoView(100);this.flush();var t=e.getContentElement().getDomElement().childNodes;this.assertScroll(0,15,this.pane);this.assertEquals("0 / 87",t[0].innerHTML);this.assertEquals("0 / 100",t[t.length-1].innerHTML)},_testSrollRowIntoViewEdgeCase:function(){this.pane.set({width:400,height:305});this.pane.getColumnConfig().setItemCount(1);var e=new qx.test.ui.virtual.layer.LayerSimple;this.pane.addLayer(e);this.flush();this.pane.scrollRowIntoView(2e3);this.flush();var t=e.getContentElement().getDomElement().childNodes;this.assertScroll(5,0,this.pane);this.assertEquals("0 / 969",t[0].innerHTML);this.assertEquals("0 / 999",t[t.length-1].innerHTML)},_testSrollColumnIntoViewEdgeCase:function(){this.pane.set({width:405,height:305});this.pane.getRowConfig().setItemCount(1);var e=new qx.test.ui.virtual.layer.LayerSimple;this.pane.addLayer(e);this.flush();this.pane.scrollColumnIntoView(400);this.flush();var t=e.getContentElement().getDomElement().childNodes;this.assertScroll(0,15,this.pane);this.assertEquals("186 / 0",t[0].innerHTML);this.assertEquals("199 / 0",t[t.length-1].innerHTML)},testGetCellAtPosition:function(){this.pane.getRowConfig().setItemCount(3);this.pane.getColumnConfig().setItemCount(3);var e=new qx.test.ui.virtual.layer.LayerSimple;this.pane.addLayer(e);this.flush();this.assertJsonEquals({row:0,column:0},this.pane.getCellAtPosition(0,0));this.assertEquals(null,this.pane.getCellAtPosition(400,0));this.assertEquals(null,this.pane.getCellAtPosition(0,300));this.assertEquals(null,this.pane.getCellAtPosition(400,300));this.assertJsonEquals({row:2,column:2},this.pane.getCellAtPosition(89,29))},testGetItemAtPositionEmptySpace:function(){var e=this.pane;e.setHeight(100);e.setWidth(50);this.pane.getRowConfig().setItemCount(1);this.pane.getRowConfig().setDefaultItemSize(50);this.flush();this.assertJsonEquals({row:0,column:0},this.pane.getCellAtPosition(1,49));this.assertEquals(null,this.pane.getCellAtPosition(1,50));this.assertEquals(null,this.pane.getCellAtPosition(1,70))},testMouseCellEvents:function(){var e=new qx.ui.virtual.core.Pane(2,2,10,50).set({width:150,height:30});this.getRoot().add(e,{left:100,top:100});this.flush();var t=[],i=function(e){t.push(e)};e.addListener("cellTap",i);e.addListener("cellDbltap",i);e.addListener("cellContextmenu",i);var n=qx.test.ui.virtual.PointerEventMock,s={tap:"cellTap",dbltap:"cellDbltap",contextmenu:"cellContextmenu"};for(var r in s){var o=s[r];t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:99,documentTop:99}));e.dispatchEvent(new n(r,{documentLeft:99,documentTop:99}));this.assertEquals(0,t.length);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:100,documentTop:100}));e.dispatchEvent(new n(r,{documentLeft:100,documentTop:100}));this.assertEquals(1,t.length,o);this.assertEquals(0,t[0].getRow(),o);this.assertEquals(0,t[0].getColumn(),o);this.assertEquals(o,t[0].getType(),o);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:160,documentTop:103}));e.dispatchEvent(new n(r,{documentLeft:160,documentTop:103}));this.assertEquals(1,t.length,o);this.assertEquals(0,t[0].getRow(),o);this.assertEquals(1,t[0].getColumn(),o);this.assertEquals(o,t[0].getType(),o);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:105,documentTop:110}));e.dispatchEvent(new n(r,{documentLeft:105,documentTop:110}));this.assertEquals(1,t.length,o);this.assertEquals(1,t[0].getRow(),o);this.assertEquals(0,t[0].getColumn(),o);this.assertEquals(o,t[0].getType(),o);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:105,documentTop:125}));e.dispatchEvent(new n(r,{documentLeft:105,documentTop:125}));this.assertEquals(0,t.length);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:275,documentTop:105}));e.dispatchEvent(new n(r,{documentLeft:275,documentTop:105}));this.assertEquals(0,t.length);t=[];e.dispatchEvent(new n("pointerdown",{documentLeft:275,documentTop:105}));e.dispatchEvent(new n(r,{documentLeft:275,documentTop:105}));this.assertEquals(0,t.length)}e.destroy();this.flush()},"test mouse click bug #6695":function(){var e=new qx.ui.virtual.core.Pane(2,2,10,50).set({width:150,height:30});this.getRoot().add(e,{left:100,top:100});this.flush();var t=[];e.addListener("cellTap",function(e){t.push(e)});var i=qx.test.ui.virtual.PointerEventMock;t=[];e.dispatchEvent(new i("pointerdown",{documentLeft:100,documentTop:100}));e.dispatchEvent(new i("tap",{documentLeft:100,documentTop:100}));this.assertEquals(1,t.length);this.assertEquals(0,t[0].getRow());this.assertEquals(0,t[0].getColumn());this.assertEquals("cellTap",t[0].getType());t=[];e.dispatchEvent(new i("pointerdown",{documentLeft:100,documentTop:100}));e.dispatchEvent(new i("tap",{documentLeft:160,documentTop:103}));this.assertEquals(0,t.length);e.destroy();this.flush()},testDestroy:function(){this.pane.destroy();this.flush();this.assertDestroy(function(){var e=new qx.ui.virtual.core.Pane(this.rowCount,this.colCount,this.defaultHeight,this.defaultWidth);this.getRoot().add(e);e.destroy()},this)}},destruct:function(){this.pane=null}});qx.test.ui.virtual.Pane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.LayerMock",{extend:qx.ui.virtual.layer.Abstract,construct:function(){qx.ui.virtual.layer.Abstract.constructor.call(this);this.calls=[]},members:{updateLayerData:function(){this.calls.push(["updateLayerData",qx.lang.Array.fromArguments(arguments)]);qx.test.ui.virtual.layer.LayerMock.prototype.updateLayerData.base.call(this)},_updateLayerData:function(){this.calls.push(["_updateLayerData",qx.lang.Array.fromArguments(arguments)])},fullUpdate:function(e,t,i,n){this.calls.push(["fullUpdate",qx.lang.Array.fromArguments(arguments)]);qx.test.ui.virtual.layer.LayerMock.prototype.fullUpdate.base.call(this,e,t,i,n)},_fullUpdate:function(e,t,i,n){this.calls.push(["_fullUpdate",qx.lang.Array.fromArguments(arguments)])},updateLayerWindow:function(e,t,i,n){this.calls.push(["updateLayerWindow",qx.lang.Array.fromArguments(arguments)]);qx.test.ui.virtual.layer.LayerMock.prototype.updateLayerWindow.base.call(this,e,t,i,n)},_updateLayerWindow:function(e,t,i,n){this.calls.push(["_updateLayerWindow",qx.lang.Array.fromArguments(arguments)])}}});qx.test.ui.virtual.layer.LayerMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.LayerSimple",{extend:qx.ui.virtual.layer.Abstract,members:{getCellHtml:function(e,t,i,n,s,r){return["<div style='position:absolute;","left:",i,"px;","top:",n,"px;","width:",s,"px;","height:",r,"px;","'>",e+" / "+t,"</div>"].join("")},_fullUpdate:function(e,t,i,n){for(var s=[],r=0,o=0,a=e,l=t,u=0;u<i.length;u++){r=0,l=t;for(var c=i[u],d=0;d<n.length;d++){var h=n[d];s[s.length]=this.getCellHtml(a,l,r,o,h,c);l++;r+=h}o+=c;a++}this.getContentElement().setAttribute("html",s.join(""))}}});qx.test.ui.virtual.layer.LayerSimple.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.event.type.Pointer":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.PointerEventMock",{extend:qx.event.type.Pointer,construct:function(e,t){qx.event.type.Pointer.constructor.call(this);this.setType(e);this.__config=t},members:{clone:function(){return this},getDocumentLeft:function(){return this.__config.documentLeft||0},getDocumentTop:function(){return this.__config.documentTop||0}},destruct:function(){this.__config=null}});qx.test.ui.virtual.PointerEventMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.virtual.core.Pane":{},"qx.test.ui.virtual.layer.LayerMock":{},"qx.ui.core.queue.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.PaneUpdate",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.pane=new qx.ui.virtual.core.Pane(100,30,20,60);this.layer1=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(this.layer1);this.layer2=new qx.test.ui.virtual.layer.LayerMock;this.pane.addLayer(this.layer2);this.getRoot().add(this.pane)},tearDown:function(){qx.test.ui.virtual.PaneUpdate.prototype.tearDown.base.call(this);this.pane.destroy()},assertCalls:function(e,t,i){this.assertEquals(e.length,t.length);for(var n=0;n<e.length;n++)this.assertEquals(e[n],t[n][0])},resetCalls:function(){this.layer1.calls=[];this.layer2.calls=[]},testNoUpdateBeforeAppear:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.fullUpdate();this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();qx.ui.core.queue.Widget.flush();this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.setScrollX(20);this.pane.setScrollY(100);this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();qx.ui.core.queue.Widget.flush();this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testInitial:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialData:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.layer1.updateLayerData();this.layer2.updateLayerData();this.flush();this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialWindow:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.pane.setScrollX(20);this.pane.setScrollY(30);this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialWindowData:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.layer1.updateLayerData();this.layer2.updateLayerData();this.pane.setScrollX(20);this.pane.setScrollY(30);this.flush();this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialAxis:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialAxisData:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.layer1.updateLayerData();this.layer2.updateLayerData();this.flush();this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialAxisWindow:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.pane.setScrollX(20);this.pane.setScrollY(30);this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testInitialAxisWindowData:function(){this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.pane.getRowConfig().setItemCount(123);this.pane.setScrollX(20);this.pane.setScrollY(30);this.layer1.updateLayerData();this.layer2.updateLayerData();this.flush();this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["updateLayerData","fullUpdate","_fullUpdate"],this.layer2.calls)},testAxis:function(){this.flush();this.resetCalls();this.pane.getRowConfig().setItemCount(123);this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testAxisData:function(){this.flush();this.resetCalls();this.pane.getRowConfig().setItemCount(123);this.layer1.updateLayerData();this.layer2.updateLayerData();this.assertCalls(["updateLayerData"],this.layer1.calls);this.assertCalls(["updateLayerData"],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testAxisWindow:function(){this.flush();this.resetCalls();this.pane.getRowConfig().setItemCount(123);this.pane.setScrollX(20);this.pane.setScrollY(30);this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testAxisWindowData:function(){this.flush();this.resetCalls();this.pane.getRowConfig().setItemCount(123);this.pane.setScrollX(20);this.pane.setScrollY(30);this.layer1.updateLayerData();this.layer2.updateLayerData();this.assertCalls(["updateLayerData"],this.layer1.calls);this.assertCalls(["updateLayerData"],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["fullUpdate","_fullUpdate"],this.layer1.calls);this.assertCalls(["fullUpdate","_fullUpdate"],this.layer2.calls)},testWindow:function(){this.flush();this.resetCalls();this.pane.setScrollX(20);this.pane.setScrollY(30);this.assertCalls([],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["updateLayerWindow","_updateLayerWindow"],this.layer1.calls);this.assertCalls(["updateLayerWindow","_updateLayerWindow"],this.layer2.calls)},testWindowData:function(){this.flush();this.resetCalls();this.pane.setScrollX(20);this.pane.setScrollY(30);this.layer1.updateLayerData();this.layer2.updateLayerData();this.assertCalls(["updateLayerData"],this.layer1.calls);this.assertCalls(["updateLayerData"],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["updateLayerWindow","_fullUpdate"],this.layer1.calls);this.assertCalls(["updateLayerWindow","_fullUpdate"],this.layer2.calls)},testData:function(){this.flush();this.resetCalls();this.layer1.updateLayerData();this.assertCalls(["updateLayerData"],this.layer1.calls);this.assertCalls([],this.layer2.calls);this.resetCalls();this.flush();this.assertCalls(["_updateLayerData"],this.layer1.calls);this.assertCalls([],this.layer2.calls)}}});qx.test.ui.virtual.PaneUpdate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.virtual.core.Scroller":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.Scroller",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){qx.test.ui.virtual.Scroller.prototype.setUp.base.call(this);var e=new qx.ui.virtual.core.Scroller(1,1,10,10);this.getRoot().add(e);this.scroller=e;this.flush()},tearDown:function(){this.scroller.destroy();qx.test.ui.virtual.Scroller.prototype.tearDown.base.call(this);this.flush()},assertScrollbars:function(e,t,i){this.assertEquals(e,this.scroller.getChildControl("scrollbar-x").isVisible(),i);this.assertEquals(t,this.scroller.getChildControl("scrollbar-y").isVisible(),i)},configureScroller:function(e,t,i,n){this.scroller.set({width:i,height:n});this.scroller.getPane().getRowConfig().setItemSize(0,t);this.scroller.getPane().getColumnConfig().setItemSize(0,e);this.scroller.getPane().fullUpdate();this.flush()},testConstructor:function(){this.assertNotUndefined(this.scroller)},testScrollX:function(){this.scroller.setScrollbarY("off");this.configureScroller(3e3,2e3,300,200);this.assertScrollbars(!0,!1);this.assertEquals(0,this.scroller.getScrollX());this.assertEquals(0,this.scroller.getPane().getScrollX());this.scroller.scrollToX(100);this.assertEquals(100,this.scroller.getScrollX());this.assertEquals(100,this.scroller.getPane().getScrollX());this.scroller.scrollToX(3e3);this.assertEquals(2700,this.scroller.getScrollX());this.assertEquals(2700,this.scroller.getPane().getScrollX());this.configureScroller(3e3,2e3,3e3,2e3);this.assertScrollbars(!1,!1);this.assertEquals(0,this.scroller.getScrollX());this.assertEquals(0,this.scroller.getPane().getScrollX())},testScrollY:function(){this.scroller.setScrollbarX("off");this.configureScroller(3e3,2e3,300,200);this.assertScrollbars(!1,!0);this.assertEquals(0,this.scroller.getScrollX());this.assertEquals(0,this.scroller.getPane().getScrollX());this.scroller.scrollToY(100);this.assertEquals(100,this.scroller.getScrollY());this.assertEquals(100,this.scroller.getPane().getScrollY());this.scroller.scrollToY(2e3);this.assertEquals(1800,this.scroller.getScrollY());this.assertEquals(1800,this.scroller.getPane().getScrollY());this.configureScroller(3e3,2e3,3e3,2e3);this.assertScrollbars(!1,!1);this.assertEquals(0,this.scroller.getScrollY());this.assertEquals(0,this.scroller.getPane().getScrollY())},testMaxScrollPosition:function(){this.scroller.setScrollbarX("off");this.configureScroller(3e3,2e3,300,200);this.assertScrollbars(!1,!0);this.scroller.scrollToY(1e4);this.assertEquals(1800,this.scroller.getScrollY());this.configureScroller(3e3,2e3,300,400);this.assertEquals(1600,this.scroller.getScrollY(),"the scroll position must be limited to the max scroll position");this.assertEquals(1600,this.scroller.getPane().getScrollY(),"the scroll position must be limited to the max scroll position")},testScrollbarYAuto:function(){this.scroller.setScrollbarX("off");this.scroller.setScrollbarY("auto");this.configureScroller(300,200,300,200);this.assertScrollbars(!1,!1);this.configureScroller(300,201,300,200);this.assertScrollbars(!1,!0);this.configureScroller(300,201,300,202);this.assertScrollbars(!1,!1);this.configureScroller(301,200,300,200);this.assertScrollbars(!1,!1)},testScrollbarXAuto:function(){this.scroller.setScrollbarX("auto");this.scroller.setScrollbarY("off");this.configureScroller(300,200,300,200);this.assertScrollbars(!1,!1);this.configureScroller(301,200,300,200);this.assertScrollbars(!0,!1);this.configureScroller(301,200,302,200);this.assertScrollbars(!1,!1);this.configureScroller(300,201,300,200);this.assertScrollbars(!1,!1)},testScrollbarXYAuto:function(){this.configureScroller(300,200,300,200);this.assertScrollbars(!1,!1);this.configureScroller(301,200,300,200);this.assertScrollbars(!0,!0);this.configureScroller(300,200,300,200);this.assertScrollbars(!1,!1);this.configureScroller(300,201,300,200);this.assertScrollbars(!0,!0);this.configureScroller(300,201,300,250);this.assertScrollbars(!1,!1);this.configureScroller(300,201,350,250);this.assertScrollbars(!1,!1)}},destruct:function(){this.scroller=null}});qx.test.ui.virtual.Scroller.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.virtual.cell.WidgetCell":{},"qx.ui.form.ListItem":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.cell.WidgetCell",{extend:qx.dev.unit.TestCase,members:{__cell:null,setUp:function(){this.__cell=new qx.ui.virtual.cell.WidgetCell},tearDown:function(){this.__cell.dispose();this.__cell=null},testCreateWidget:function(){var e=this.__cell.getCellWidget();this.assertQxWidget(e);e.dispose()},testCreateWidgetWithDelegate:function(){this.__setUpDelegate();var e=this.__cell.getCellWidget();this.assertInterface(e,qx.ui.form.ListItem);e.dispose()},testPoolOnDelegateChange:function(){var e=this.__cell.getCellWidget();this.assertQxWidget(e);var t=this.__cell.getCellWidget();this.assertQxWidget(t);this.__cell.pool(e);this.__cell.pool(t);this.__setUpDelegate();var i=this.__cell.getCellWidget();this.assertInterface(i,qx.ui.form.ListItem);i.dispose();e.dispose();t.dispose()},testEvent:function(){var e=this,t=null;this.assertEventFired(this.__cell,"created",function(){t=e.__cell.getCellWidget()},function(t){e.assertQxWidget(t.getData())});this.__cell.pool(t);this.assertEventNotFired(this.__cell,"created",function(){e.__cell.getCellWidget()},function(t){e.assertQxWidget(t.getData())});t.dispose()},testUpdateData:function(){this.__setUpDelegate();var e=this.__cell.getCellWidget(),t={label:"label 1",icon:"icon/22/emotes/face-angel.png"};this.__cell.updateData(e,t);this.assertEquals(t.label,e.getLabel());this.assertEquals(t.icon,e.getIcon());e.dispose()},testUpdateEmptyData:function(){this.__setUpDelegate();var e=this.__cell.getCellWidget();this.__cell.updateData(e);this.assertNull(e.getLabel());this.assertNull(e.getIcon());e.dispose()},testUpdateWrongData:function(){var e=this.__cell.getCellWidget(),t={banana:"joe"},i=this;this.assertException(function(){i.__cell.updateData(e,t)});e.dispose()},__setUpDelegate:function(){this.__cell.setDelegate({createWidget:function(){return new qx.ui.form.ListItem}})}}});qx.test.ui.virtual.cell.WidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.virtual.core.Axis":{},"qx.ui.virtual.layer.CellSpanManager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.CellSpanManager",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.rowConfig=new qx.ui.virtual.core.Axis(10,100);this.columnConfig=new qx.ui.virtual.core.Axis(20,100);this.cellSpan=new qx.ui.virtual.layer.CellSpanManager(this.rowConfig,this.columnConfig)},tearDown:function(){qx.test.ui.virtual.layer.CellSpanManager.prototype.tearDown.base.call(this);this.cellSpan.dispose();this.rowConfig.dispose();this.columnConfig.dispose()},assertSorted:function(e,t){for(var i=-1,n=0,s=e.length;n<s;n++){var r=e[n][t];this.assert(i<=r);i=r}},testGetSortedCells:function(){var e=this.cellSpan;e.addCell("c1",6,4,5,3);e.addCell("c2",2,6,3,4);e.addCell("c3",7,7,6,3);e.addCell("c4",2,8,6,13);e.addCell("c5",0,9,1,13);e.addCell("c6",10,10,1,3);var t=e._getSortedCells("firstRow");this.assertEquals(6,t.length);this.assertSorted(t,"firstRow");t=e._getSortedCells("lastRow");this.assertEquals(6,t.length);this.assertSorted(t,"lastRow");t=e._getSortedCells("firstColumn");this.assertEquals(6,t.length);this.assertSorted(t,"firstColumn");t=e._getSortedCells("lastColumn");this.assertEquals(6,t.length);this.assertSorted(t,"lastColumn");e.addCell("c7",6,5,2,5);e.addCell("c8",1,12,7,4);t=e._getSortedCells("firstRow");this.assertEquals(8,t.length);this.assertSorted(t,"firstRow");t=e._getSortedCells("lastRow");this.assertEquals(8,t.length);this.assertSorted(t,"lastRow");t=e._getSortedCells("firstColumn");this.assertEquals(8,t.length);this.assertSorted(t,"firstColumn");t=e._getSortedCells("lastColumn");this.assertEquals(8,t.length);this.assertSorted(t,"lastColumn")},testFindCellsInRange:function(){var e=this.cellSpan;e.addCell("c1",6,4,5,3);e.addCell("c2",2,6,3,4);e.addCell("c3",7,7,6,3);e.addCell("c4",2,8,6,13);e.addCell("c5",1,9,1,13);e.addCell("c6",10,10,1,3);var t=e._findCellsInRange("firstRow",2,6);this.assertArrayEquals(["c1","c2","c4"],Object.keys(t).sort());t=e._findCellsInRange("firstRow",11,20);this.assertArrayEquals([],Object.keys(t));t=e._findCellsInRange("firstRow",0,0);this.assertArrayEquals([],Object.keys(t));t=e._findCellsInRange("firstRow",0,5);this.assertArrayEquals(["c2","c4","c5"],Object.keys(t).sort());t=e._findCellsInRange("lastRow",3,8);this.assertArrayEquals(["c2","c4"],Object.keys(t).sort());t=e._findCellsInRange("firstColumn",3,7);this.assertArrayEquals(["c1","c2","c3"],Object.keys(t).sort());t=e._findCellsInRange("lastColumn",0,22);this.assertArrayEquals(["c1","c2","c3","c4","c5","c6"],Object.keys(t).sort())},testFindCellsInWindow:function(){var e=this.cellSpan;e.addCell("c1",6,4,5,3);e.addCell("c2",2,6,3,4);e.addCell("c3",7,7,6,3);e.addCell("c4",2,8,6,13);e.addCell("c5",1,9,1,13);e.addCell("c6",10,10,1,3);var t=[];e.findCellsInWindow(1,7,5,14).forEach(function(e){t.push(e.id)});this.assertArrayEquals(["c2","c4","c5"],t.sort())},testGetCellOffsets:function(){var e=this.cellSpan,t=e.getCellBounds([{firstRow:1,lastRow:3,firstColumn:2,lastColumn:5}],3,3);this.assertJsonEquals({left:-20,top:-20,width:80,height:30},t[0]);t=e.getCellBounds([{firstRow:1,lastRow:3,firstColumn:2,lastColumn:5}],1,2);this.assertJsonEquals({left:0,top:0,width:80,height:30},t[0]);t=e.getCellBounds([{firstRow:1,lastRow:3,firstColumn:2,lastColumn:5}],0,1);this.assertJsonEquals({left:20,top:10,width:80,height:30},t[0])},testAxisChange:function(){var e=this.cellSpan.getCellBounds([{firstRow:1,lastRow:3,firstColumn:2,lastColumn:5}],3,3);this.assertJsonEquals({left:-20,top:-20,width:80,height:30},e[0]);this.rowConfig.setDefaultItemSize(15);e=this.cellSpan.getCellBounds([{firstRow:1,lastRow:3,firstColumn:2,lastColumn:5}],3,3);this.assertJsonEquals({left:-20,top:-30,width:80,height:45},e[0])},testComputeCellSpanMap:function(){var e=this.cellSpan;e.addCell("c1",0,0,2,2);e.addCell("c2",0,4,2,2);e.addCell("c3",2,2,2,2);e.addCell("c4",4,0,2,2);e.addCell("c5",4,4,2,2);var t=e.findCellsInWindow(1,1,4,4),i=[];t.forEach(function(e){i.push(e.id)});this.assertJsonEquals(["c1","c2","c3","c4","c5"],i.sort());var n=e.computeCellSpanMap(t,1,1,4,4);this.assertJsonEquals([void 0,[void 0,1,void 0,void 0,1],[void 0,void 0,1,1],[void 0,void 0,1,1],[void 0,1,void 0,void 0,1]],n)},testDispose:function(){var e=new qx.ui.virtual.core.Axis(10,100),t=new qx.ui.virtual.core.Axis(20,100);this.assertDestroy(function(){new qx.ui.virtual.layer.CellSpanManager(e,t).dispose()},this);e.dispose();t.dispose()}},destruct:function(){this.cellSpan=this.rowConfig=this.columnConfig=null}});qx.test.ui.virtual.layer.CellSpanManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.virtual.core.Axis":{construct:!0},"qx.lang.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.CellSpanManager",{extend:qx.core.Object,construct:function(e,t){qx.core.Object.constructor.call(this);this.assertInstance(e,qx.ui.virtual.core.Axis);this.assertInstance(t,qx.ui.virtual.core.Axis);this._cells={};this._invalidateSortCache();this._invalidatePositionCache();e.addListener("change",this._onRowConfigChange,this);t.addListener("change",this._onColumnConfigChange,this);this._rowConfig=e;this._columnConfig=t},members:{addCell:function(e,t,i,n,s){this._cells[e]={firstRow:t,lastRow:t+n-1,firstColumn:i,lastColumn:i+s-1,id:e};this._invalidateSortCache()},removeCell:function(e){delete this._cells[e];this._invalidateSortCache()},_invalidateSortCache:function(){this._sorted={}},_getSortedCells:function(e){if(this._sorted[e])return this._sorted[e];var t=this._sorted[e]=Object.values(this._cells);t.sort(function(t,i){return t[e]<i[e]?-1:1});return t},_findCellsInRange:function(e,t,i){var n=this._getSortedCells(e);if(0==n.length)return{};for(var s=0,r=n.length-1;;){var o=s+(r-s>>1);if((l=n[o])[e]>=t&&(0==o||n[o-1][e]<t))break;l[e]>=t?r=o-1:s=o+1;if(s>r)return{}}for(var a={},l=n[o];l&&l[e]>=t&&l[e]<=i;){a[l.id]=l;l=n[o++]}return a},findCellsInWindow:function(e,t,i,n){var s={};if(i>0){var r=e+i-1;qx.lang.Object.mergeWith(s,this._findCellsInRange("firstRow",e,r));qx.lang.Object.mergeWith(s,this._findCellsInRange("lastRow",e,r))}var o={};if(n>0){var a=t+n-1;qx.lang.Object.mergeWith(o,this._findCellsInRange("firstColumn",t,a));qx.lang.Object.mergeWith(o,this._findCellsInRange("lastColumn",t,a))}return this.__intersectionAsArray(o,s)},__intersectionAsArray:function(e,t){var i=[];for(var n in e)t[n]&&i.push(t[n]);return i},_onRowConfigChange:function(e){this._rowPos=[]},_onColumnConfigChange:function(e){this._columnPos=[]},_invalidatePositionCache:function(){this._rowPos=[];this._columnPos=[]},_getRowPosition:function(e){var t=this._rowPos[e];return void 0!==t?t:t=this._rowPos[e]=this._rowConfig.getItemPosition(e)},_getColumnPosition:function(e){var t=this._columnPos[e];return void 0!==t?t:t=this._columnPos[e]=this._columnConfig.getItemPosition(e)},_getSingleCellBounds:function(e,t,i){var n={left:0,top:0,width:0,height:0};n.height=this._getRowPosition(e.lastRow)+this._rowConfig.getItemSize(e.lastRow)-this._getRowPosition(e.firstRow);n.top=this._getRowPosition(e.firstRow)-this._getRowPosition(t);n.width=this._getColumnPosition(e.lastColumn)+this._columnConfig.getItemSize(e.lastColumn)-this._getColumnPosition(e.firstColumn);n.left=this._getColumnPosition(e.firstColumn)-this._getColumnPosition(i);return n},getCellBounds:function(e,t,i){for(var n=[],s=0,r=e.length;s<r;s++)n.push(this._getSingleCellBounds(e[s],t,i));return n},computeCellSpanMap:function(e,t,i,n,s){var r=[];if(n<=0)return r;for(var o=t+n-1,a=t;a<=o;a++)r[a]=[];if(s<=0)return r;for(var l=i+s-1,u=(a=0,e.length);a<u;a++)for(var c,d=e[a],h=Math.max(t,d.firstRow),g=Math.min(o,d.lastRow),m=h;m<=g;m++){c=r[m];for(var f=Math.max(i,d.firstColumn),p=Math.min(l,d.lastColumn),_=f;_<=p;_++)c[_]=1}return r}},destruct:function(){this._rowConfig.removeListener("change",this._onRowConfigChange,this);this._columnConfig.removeListener("change",this._onColumnConfigChange,this);this._cells=this._sorted=this._rowPos=this._columnPos=this._rowConfig=this._columnConfig=null}});qx.ui.virtual.layer.CellSpanManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.test.ui.virtual.layer.LayerMock":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.LayerTestCase",{extend:qx.test.ui.LayoutTestCase,type:"abstract",members:{setUp:function(){this.colWidth=20;this.rowHeight=10;this.layer=this._createLayer();for(var e=[],t=10;t<=20;t++)e.push(this.rowHeight);var i=[];for(t=15;t<=18;t++)i.push(this.colWidth);this.getRoot().add(this.layer);this.flush();this.layer.updateLayerWindow(10,15,e,i);this.flush()},tearDown:function(){qx.test.ui.virtual.layer.LayerTestCase.prototype.tearDown.base.call(this);this.layer.destroy()},_createLayer:function(){return new qx.test.ui.virtual.layer.LayerMock},_assertCells:function(e,t,i,n,s){},_updateLayerWindow:function(e,t,i,n,s){for(var r=[],o=e;o<=t;o++)r.push(this.rowHeight);var a=[];for(o=i;o<=n;o++)a.push(this.colWidth);s?this.layer.fullUpdate(e,i,r,a):this.layer.updateLayerWindow(e,i,r,a);this.flush();this._assertCells(e,i,r.length,a.length)},testInit:function(){this._assertCells(10,15,11,4)},testFullUpdate:function(){this._assertCells(10,15,11,4,!0)},testNoOverlap:function(){this._updateLayerWindow(20,25,19,21)},testScrollDown:function(){this._updateLayerWindow(12,22,15,18)},testScrollUp:function(){this._updateLayerWindow(8,18,15,18)},testScrollLeft:function(){this._updateLayerWindow(10,20,12,15)},testScrollRight:function(){this._updateLayerWindow(10,20,17,20)},testOverlapLeftTop:function(){this._updateLayerWindow(7,11,12,16)},testOverlapTop:function(){this._updateLayerWindow(8,11,14,17)},testOverlapTopRight:function(){this._updateLayerWindow(8,11,17,20)},testOverlapLeft:function(){this._updateLayerWindow(11,18,13,16)},testOverlapInner:function(){this._updateLayerWindow(11,18,16,17)},testOverlapOuter:function(){this._updateLayerWindow(8,21,14,20)},testOverlapRight:function(){this._updateLayerWindow(11,18,17,20)},testOverlapBottomLeft:function(){this._updateLayerWindow(18,22,14,17)},testOverlapBottom:function(){this._updateLayerWindow(18,22,16,17)},testOverlapBottomRight:function(){this._updateLayerWindow(18,22,17,20)}},destruct:function(){this.layer=null}});qx.test.ui.virtual.layer.LayerTestCase.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.layer.Column":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.Column",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{_createLayer:function(){return new qx.ui.virtual.layer.Column("red","green")},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(n,r.length);for(var o=0;o<n;o++){(t+o)%2==0?this.assertCssColor("red",r[o].style.backgroundColor):this.assertCssColor("green",r[o].style.backgroundColor)}}}});qx.test.ui.virtual.layer.Column.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.AbstractBackground":{require:!0},"qx.lang.Array":{},"qx.bom.element.Style":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.Column",{extend:qx.ui.virtual.layer.AbstractBackground,properties:{appearance:{refine:!0,init:"column-layer"}},members:{_fullUpdate:function(e,t,i,n){for(var s=[],r=qx.lang.Array.sum(i),o=0,a=t,l=0;l<n.length;l++){var u=this.getColor(a),c=u?"background-color:"+u+";":"",d=this.getBackground(a),h=d?qx.bom.element.Style.compile(d.getStyles()):"";s.push("<div style='","position: absolute;","top: 0;","left:",o,"px;","width:",n[l],"px;","height:",r,"px;",c,h,"'>","</div>");0;o+=n[l];a+=1}var g=this.getContentElement().getDomElement();g.style.display="none";g.innerHTML=s.join("");g.style.display="block";this._height=r},updateLayerWindow:function(e,t,i,n){(t!==this.getFirstColumn()||n.length!==this.getColumnSizes().length||this._height<qx.lang.Array.sum(i))&&this._fullUpdate(e,t,i,n)},setColor:function(e,t){qx.ui.virtual.layer.Column.prototype.setColor.base.call(this,e,t);var i=this.getFirstColumn(),n=i+this.getColumnSizes().length-1;e>=i&&e<=n&&this.updateLayerData()}}});qx.ui.virtual.layer.Column.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.virtual.layer.GridLines":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.GridLines",{extend:qx.test.ui.LayoutTestCase,members:{_assertGridLines:function(e,t,i,n,s){this.assertEquals(t,e.isHorizontal(),s);this.assertEquals(i,e.getDefaultLineColor(),s);this.assertEquals(n,e.getDefaultLineSize(),s)},testCreate:function(){var e=new qx.ui.virtual.layer.GridLines;this._assertGridLines(e,!0,"gray",1);e.destroy();e=new qx.ui.virtual.layer.GridLines("horizontal");this._assertGridLines(e,!0,"gray",1);e.destroy();e=new qx.ui.virtual.layer.GridLines("vertical","red");this._assertGridLines(e,!1,"red",1);e.destroy();e=new qx.ui.virtual.layer.GridLines("vertical","red",5);this._assertGridLines(e,!1,"red",5);e.destroy()}}});qx.test.ui.virtual.layer.GridLines.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.core.Assert":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.GridLines",{extend:qx.ui.virtual.layer.Abstract,construct:function(e,t,i){qx.ui.virtual.layer.Abstract.constructor.call(this);this.setZIndex(11);t&&this.setDefaultLineColor(t);void 0!==i&&this.setDefaultLineSize(i);this.__lineColors=[];this.__lineSizes=[];this._isHorizontal="horizontal"==(e||"horizontal")},properties:{defaultLineColor:{init:"gray",check:"Color",themeable:!0},defaultLineSize:{init:1,check:"PositiveInteger",themeable:!0}},members:{__lineColors:null,__lineSizes:null,isHorizontal:function(){return this._isHorizontal},setLineColor:function(e,t){qx.core.Assert.assertPositiveNumber(e);qx.core.Assert.assertString(t);this.__lineColors[e]=t;this.__isLineRendered(e)&&this.updateLayerData()},setLineSize:function(e,t){qx.core.Assert.assertPositiveInteger(e);qx.core.Assert.assertPositiveInteger(t);this.__lineSizes[e]=t;this.__isLineRendered(e)&&this.updateLayerData()},__isLineRendered:function(e){if(this._isHorizontal){var t=this.getFirstColumn(),i=t+this.getColumnSizes().length-1;return e>=t&&e<=i}var n=this.getFirstRow(),s=n+this.getRowSizes().length-1;return e>=n&&e<=s},getLineSize:function(e){return this.__lineSizes[e]||this.getDefaultLineSize()},getLineColor:function(e){return this.__lineColors[e]||this.getDefaultLineColor()},__renderHorizontalLines:function(e,t,i){for(var n,s,r=0,o=0;o<i.length-1;o++){n=this.getLineColor(t+o);s=this.getLineSize(t+o);r+=i[o];e.push("<div style='","position: absolute;","height: "+s+"px;","width: 100%;","top:",r-(s>1?Math.floor(s/2):1),"px;","background-color:",n,"'>","</div>")}},__renderVerticalLines:function(e,t,i){for(var n,s,r=0,o=0;o<i.length-1;o++){n=this.getLineColor(t+o);s=this.getLineSize(t+o);r+=i[o];e.push("<div style='","position: absolute;","width: "+s+"px;","height: 100%;","top: 0px;","left:",r-(s>1?Math.floor(s/2):1),"px;","background-color:",n,"'>","</div>")}},_fullUpdate:function(e,t,i,n){var s=[];this._isHorizontal?this.__renderHorizontalLines(s,e,i):this.__renderVerticalLines(s,t,n);this.getContentElement().setAttribute("html",s.join(""))},_updateLayerWindow:function(e,t,i,n){var s=e!==this.getFirstRow()||i.length!==this.getRowSizes().length,r=t!==this.getFirstColumn()||n.length!==this.getColumnSizes().length;(this._isHorizontal&&s||!this._isHorizontal&&r)&&this._fullUpdate(e,t,i,n)}},destruct:function(){this.__lineColors=this.__lineSizes=null}});qx.ui.virtual.layer.GridLines.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.layer.GridLines":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.GridLinesHorizontal",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{_createLayer:function(){return new qx.ui.virtual.layer.GridLines("horizontal")},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(i-1,r.length)}}});qx.test.ui.virtual.layer.GridLinesHorizontal.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.layer.GridLines":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.GridLinesVertical",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{_createLayer:function(){return new qx.ui.virtual.layer.GridLines("vertical")},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(n-1,r.length)}}});qx.test.ui.virtual.layer.GridLinesVertical.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.cell.Cell":{},"qx.ui.virtual.layer.HtmlCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.HtmlCell",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{tearDown:function(){qx.test.ui.virtual.layer.HtmlCell.prototype.tearDown.base.call(this);this.__cellRenderer.dispose()},_createLayer:function(){this.__cellRenderer=new qx.ui.virtual.cell.Cell;return new qx.ui.virtual.layer.HtmlCell(this)},getCellProperties:function(e,t){return this.__cellRenderer.getCellProperties(e+" / "+t,{})},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(i*n,r.length);for(var o=0;o<i;o++)for(var a=0;a<n;a++){var l=e+o,u=t+a,c=r[o*n+a];this.assertEquals(l+" / "+u,c.innerHTML)}}},destruct:function(){this.__cellRenderer=null}});qx.test.ui.virtual.layer.HtmlCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.virtual.cell.ICell",{members:{getCellProperties:function(e,t){}}});qx.ui.virtual.cell.ICell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.bom.Stylesheet":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.ui.virtual.cell.ICell":{require:!0},"qx.ui.virtual.cell.CellStylesheet":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.cell.Abstract",{type:"abstract",extend:qx.core.Object,implement:qx.ui.virtual.cell.ICell,construct:function(){qx.core.Object.constructor.call(this);qx.ui.virtual.cell.CellStylesheet.getInstance()},members:{getCssClasses:function(e,t){return"qx-cell"},getAttributes:function(e,t){return""},getStyles:function(e,t){return""},getInsets:function(e,t){return[0,0]},getContent:function(e,t){return e},getCellProperties:function(e,t){return{classes:this.getCssClasses(e,t),style:this.getStyles(e,t),attributes:this.getAttributes(e,t),content:this.getContent(e,t),insets:this.getInsets(e,t)}}}});qx.ui.virtual.cell.Abstract.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.element.Style":{construct:!0},"qx.bom.client.Css":{construct:!0},"qx.bom.element.BoxSizing":{construct:!0},"qx.bom.Stylesheet":{construct:!0}},environment:{provided:[],required:{"css.boxsizing":{construct:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.cell.CellStylesheet",{extend:qx.core.Object,type:"singleton",construct:function(){qx.core.Object.constructor.call(this);var e=".qx-cell {"+qx.bom.element.Style.compile({position:"absolute",overflow:"hidden",cursor:"default",textOverflow:"ellipsis",userSelect:"none"})+"} ";qx.core.Environment.get("css.boxsizing")&&(e+=".qx-cell {"+qx.bom.element.BoxSizing.compile("content-box")+"}");this.__stylesheet=qx.bom.Stylesheet.createElement(e);this.__classes={};this.__styles={}},members:{__stylesheet:null,__classes:null,__styles:null,getStylesheet:function(){return this.__stylesheet},getCssClass:function(e){return this.__classes[e]||null},computeClassForStyles:function(e,t){if(!(i=this.__styles[t])){var i=this.__getNextClassname();qx.bom.Stylesheet.addRule(this.__stylesheet,"."+i,t);this.__styles[t]=i}this.__classes[e]=i;return i},__getNextClassname:function(){return"qx-cell-"+this.toHashCode()+"-"+this.__classCounter++},__classCounter:0},destruct:function(){this.__stylesheet=this.__classes=this.__styles=null}});qx.ui.virtual.cell.CellStylesheet.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.cell.Abstract":{construct:!0,require:!0},"qx.ui.virtual.cell.CellStylesheet":{construct:!0},"qx.util.PropertyUtil":{},"qx.lang.Object":{},"qx.theme.manager.Color":{},"qx.theme.manager.Font":{},"qx.bom.element.Style":{},"qx.bom.Style":{},"qx.theme.manager.Appearance":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.cell.Cell",{extend:qx.ui.virtual.cell.Abstract,construct:function(){qx.ui.virtual.cell.Abstract.constructor.call(this);this.__stylesheet=qx.ui.virtual.cell.CellStylesheet.getInstance();this.__userStyles={};this.__themeStyles={};this.__userPaddings={};this.__themePaddings={};this.__states={};this.__themeValues={};this.initAppearance();this.__initializeThemableProperties()},properties:{appearance:{check:"String",init:"cell",apply:"_applyAppearance"},backgroundColor:{nullable:!0,check:"Color",apply:"_applyBackgroundColor",themeable:!0},textColor:{nullable:!0,check:"Color",apply:"_applyTextColor",themeable:!0},textAlign:{check:["left","center","right","justify"],nullable:!0,themeable:!0,apply:"_applyTextAlign"},font:{nullable:!0,apply:"_applyFont",check:"Font",themeable:!0},paddingTop:{check:"Integer",init:0,apply:"_applyPadding",themeable:!0},paddingRight:{check:"Integer",nullable:!0,apply:"_applyPadding",themeable:!0},paddingBottom:{check:"Integer",nullable:!0,apply:"_applyPadding",themeable:!0},paddingLeft:{check:"Integer",nullable:!0,apply:"_applyPadding",themeable:!0},padding:{group:["paddingTop","paddingRight","paddingBottom","paddingLeft"],mode:"shorthand",themeable:!0}},members:{__themableProperties:null,__statesKey:null,__states:null,__themeValues:null,__themeStyles:null,__userStyles:null,__userPaddings:null,__themePaddings:null,__isThemed:!1,__stylesheet:null,__initializeThemableProperties:function(){var e=qx.util.PropertyUtil,t=qx.lang.Object.fromArray(this._getCssProperties());this.__themableProperties=[];for(var i=this.constructor;i;){var n=e.getProperties(i);for(var s in n)t[s]||this.__themableProperties.push(s);i=i.superclass}},_getCssProperties:function(){return["backgroundColor","textColor","font","textAlign","paddingTop","paddingRight","paddingBottom","paddingLeft"]},_applyAppearance:function(e,t){t&&(this.__themeStyles={})},_getValue:function(e){return this.__isThemed?qx.util.PropertyUtil.getThemeValue(this,e):qx.util.PropertyUtil.getUserValue(this,e)},_storeStyle:function(e,t){var i;i=this.__isThemed?this.__themeStyles:this.__userStyles;null===t?delete i[e]:i[e]=t},_applyBackgroundColor:function(e,t,i){(e=this._getValue(i))?this._storeStyle(i,"background-color:"+qx.theme.manager.Color.getInstance().resolve(e)):this._storeStyle(i,null)},_applyTextColor:function(e,t,i){(e=this._getValue(i))?this._storeStyle(i,"color:"+qx.theme.manager.Color.getInstance().resolve(e)):this._storeStyle(i,null)},_applyTextAlign:function(e,t,i){(e=this._getValue(i))?this._storeStyle(i,"text-align:"+e):this._storeStyle(i,null)},_applyFont:function(e,t,i){if(e=this._getValue(i)){var n=qx.theme.manager.Font.getInstance().resolve(e);this._storeStyle(i,qx.bom.element.Style.compile(n.getStyles()))}else this._storeStyle(i,null)},_applyPadding:function(e,t,i){e=this._getValue(i);if(this.__isThemed)var n=this.__themePaddings;else n=this.__userPaddings;null===e?delete n[i]:n[i]=e;if(null===e)this._storeStyle(i,null);else{var s=qx.bom.Style.getCssName(i);this._storeStyle(i,s+":"+e+"px")}},getCellProperties:function(e,t){this.__setStates(t);return{classes:this.getCssClasses(e,t),style:this.getStyles(e,t),attributes:this.getAttributes(e,t),content:this.getContent(e,t),insets:this.getInsets(e,t)}},getAttributes:function(e,t){return""},getContent:function(e,t){return e},getCssClasses:function(e,t){return"qx-cell "+(this.__stylesheet.getCssClass(this.__statesKey)||"")},__setStates:function(e){e||(e={});var t=this.getAppearance()+"-"+Object.keys(e).sort().join(" ");if(this.__statesKey!=t){this.__statesKey=t;if(!this.__states[this.__statesKey]){this.__clearThemedPropertyValues();this.__updateThemeableProperties(e);this.__computeCssClassForStates(e);this.__cacheThemedValues();this.__states[this.__statesKey]=1}this.__applyThemeValues()}},__clearThemedPropertyValues:function(){for(var e=qx.util.PropertyUtil,t=this._getCssProperties(),i=0;i<t.length;i++)e.deleteThemeValue(this,t[i])},__updateThemeableProperties:function(e){this.__themeStyles={};this.__isThemed=!0;var t=this.getAppearance(),i=qx.util.PropertyUtil,n=qx.theme.manager.Appearance.getInstance().styleFrom(t,e);for(var s in n)void 0!==n[s]&&i.setThemed(this,s,n[s]);this.__isThemed=!1},__computeCssClassForStates:function(){var e=Object.values(this.__themeStyles).join(";");this.__stylesheet.computeClassForStyles(this.__statesKey,e)},__cacheThemedValues:function(){for(var e=this.__themableProperties,t=qx.util.PropertyUtil,i={},n=0;n<e.length;n++){var s=e[n],r=t.getThemeValue(this,s);void 0!==r&&(i[s]=r)}this.__themeValues[this.__statesKey]=i},__applyThemeValues:function(){var e=qx.util.PropertyUtil,t=this.__themeValues[this.__statesKey]||{};for(var i in t)e.setThemed(this,i,t[i])},getStyles:function(e,t){return Object.values(this.__userStyles).join(";")},getInsets:function(e,t){var i=this.__userPaddings,n=this.__themePaddings,s=(void 0!==i.paddingTop?i.paddingTop:n.paddingTop)||0,r=(void 0!==i.paddingRight?i.paddingRight:n.paddingRight)||0,o=(void 0!==i.paddingBottom?i.paddingBottom:n.paddingBottom)||0;return[((void 0!==i.paddingLeft?i.paddingLeft:n.paddingLeft)||0)+r,s+o]}},destruct:function(){this.__stylesheet=this.__userStyles=this.__themeStyles=this.__userPaddings=this.__themePaddings=this.__states=this.__themeValues=this.__themableProperties=null}});qx.ui.virtual.cell.Cell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.ui.virtual.core.IHtmlCellProvider":{construct:!0},"qx.bom.client.Css":{}},environment:{provided:[],required:{"css.boxmodel":{className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.HtmlCell",{extend:qx.ui.virtual.layer.Abstract,construct:function(e){qx.ui.virtual.layer.Abstract.constructor.call(this);this.setZIndex(12);this.assertInterface(e,qx.ui.virtual.core.IHtmlCellProvider);this._cellProvider=e},members:{_getCellSizeStyle:function(e,t,i,n){var s="";if("content"==qx.core.Environment.get("css.boxmodel")){e-=i;t-=n}s+="width:"+e+"px;";return s+="height:"+t+"px;"},_fullUpdate:function(e,t,i,n){for(var s=[],r=0,o=0,a=e,l=t,u=0;u<i.length;u++){r=0,l=t;for(var c=i[u],d=0;d<n.length;d++){var h=n[d],g=this._cellProvider.getCellProperties(a,l),m=g.insets||[0,0];s.push("<div ","style='","left:",r,"px;","top:",o,"px;",this._getCellSizeStyle(h,c,m[0],m[1]),g.style||"","' ","class='",g.classes||"","' ",g.attributes||"",">",g.content||"","</div>");l++;r+=h}o+=c;a++}this.getContentElement().setAttribute("html",s.join(""))}},destruct:function(){this._cellProvider=null}});qx.ui.virtual.layer.HtmlCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.ui.virtual.core.IHtmlCellProvider",{members:{getCellProperties:function(e,t){}}});qx.ui.virtual.core.IHtmlCellProvider.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.cell.Cell":{},"qx.ui.virtual.core.Axis":{},"qx.ui.virtual.layer.HtmlCellSpan":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.HtmlCellSpan",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{tearDown:function(){qx.test.ui.virtual.layer.HtmlCellSpan.prototype.tearDown.base.call(this);this.__cellRenderer.dispose();this.__rowConfig.dispose();this.__columnConfig.dispose()},_createLayer:function(){this.__cellRenderer=new qx.ui.virtual.cell.Cell;this.__rowConfig=new qx.ui.virtual.core.Axis(10,100);this.__columnConfig=new qx.ui.virtual.core.Axis(20,100);return new qx.ui.virtual.layer.HtmlCellSpan(this,this.__rowConfig,this.__columnConfig)},getCellProperties:function(e,t){return this.__cellRenderer.getCellProperties(e+" / "+t,{})},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(i*n,r.length);for(var o=0;o<i;o++)for(var a=0;a<n;a++){var l=e+o,u=t+a,c=r[o*n+a];this.assertEquals(l+" / "+u,c.innerHTML)}}},destruct:function(){this.__cellRenderer=null}});qx.test.ui.virtual.layer.HtmlCellSpan.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.HtmlCell":{construct:!0,require:!0},"qx.ui.virtual.layer.CellSpanManager":{construct:!0},"qx.ui.core.queue.Widget":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.HtmlCellSpan",{extend:qx.ui.virtual.layer.HtmlCell,construct:function(e,t,i){qx.ui.virtual.layer.HtmlCell.constructor.call(this,e);this._spanManager=new qx.ui.virtual.layer.CellSpanManager(t,i)},members:{setCellSpan:function(e,t,i,n){var s=e+"x"+t;this._spanManager.removeCell(s);(i>1||n>1)&&this._spanManager.addCell(s,e,t,i,n);qx.ui.core.queue.Widget.add(this)},__renderCell:function(e,t,i,n,s,r,o){var a=this._cellProvider.getCellProperties(t,i),l=a.insets||[0,0];e.push("<div ","style='","left:",n,"px;","top:",s,"px;",this._getCellSizeStyle(r,o,l[0],l[1]),a.style||"","' ","class='",a.classes||"","' ",a.attributes||"",">",a.content||"","</div>")},_fullUpdate:function(e,t,i,n){var s=[],r=this._spanManager.findCellsInWindow(e,t,i.length,n.length);if(r.length>0)for(var o=this._spanManager.getCellBounds(r,e,t),a=this._spanManager.computeCellSpanMap(r,e,t,i.length,n.length),l=0,u=r.length;l<u;l++){var c=r[l],d=o[l];this.__renderCell(s,c.firstRow,c.firstColumn,d.left,d.top,d.width,d.height)}else{a=[];for(l=0;l<i.length;l++)a[e+l]=[]}for(var h=0,g=0,m=e,f=t,p=0;p<i.length;p++){h=0,f=t;for(var _=i[p],x=0;x<n.length;x++){var q=n[x];a[m][f]||this.__renderCell(s,m,f,h,g,q,_);f++;h+=q}g+=_;m++}this.getContentElement().setAttribute("html",s.join(""))}},destruct:function(){this._disposeObjects("_spanManager")}});qx.ui.virtual.layer.HtmlCellSpan.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.layer.Row":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.Row",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{_createLayer:function(){return new qx.ui.virtual.layer.Row("red","green")},_assertCells:function(e,t,i,n,s){var r=this.layer.getContentElement().getDomElement().childNodes;this.assertEquals(i,r.length);for(var o=0;o<i;o++){(e+o)%2==0?this.assertCssColor("red",r[o].style.backgroundColor):this.assertCssColor("green",r[o].style.backgroundColor)}}}});qx.test.ui.virtual.layer.Row.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.layer.WidgetCell":{},"qx.ui.core.Widget":{},"qx.data.Array":{},"qx.ui.core.Spacer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.WidgetCell",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{setUp:function(){this._pool=[];qx.test.ui.virtual.layer.WidgetCell.prototype.setUp.base.call(this)},tearDown:function(){for(var e=0;e<this._pool.length;e++)this._pool[e].destroy();this.flush();this._pool=null;qx.test.ui.virtual.layer.WidgetCell.prototype.tearDown.base.call(this)},_createLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this)},getCellWidget:function(e,t){var i=this._pool.pop()||new qx.ui.core.Widget;i.setBackgroundColor((e+t)%2==0?"red":"green");return i},poolCellWidget:function(e){e.setUserData("row",-1);e.setUserData("column",-1);this._pool.push(e)},_assertCells:function(e,t,i,n,s){var r=this.layer._getChildren();this.assertEquals(i*n,r.length);for(var o=0;o<i;o++)for(var a=0;a<n;a++){var l=e+o,u=t+a,c=r[o*n+a];this.assertEquals(l,c.getUserData("cell.row"));this.assertEquals(u,c.getUserData("cell.column"))}},testGetRenderedCellWidget:function(){var e=new qx.data.Array;e.setAutoDisposeItems(!0);var t=new qx.ui.virtual.layer.WidgetCell({getCellWidget:function(t,i){var n=new qx.ui.core.Widget;n.setUserData("test",t+"/"+i);e.push(n);return 2==t&&2==i?null:n},poolCellWidget:function(e){}});this.getRoot().add(t);this.flush();t.fullUpdate(1,1,[10,10,10],[50,50,50]);this.flush();this.assertEquals(null,t.getRenderedCellWidget(0,0));this.assertEquals(null,t.getRenderedCellWidget(0,1));this.assertEquals(null,t.getRenderedCellWidget(1,0));this.assertEquals(null,t.getRenderedCellWidget(2,2));this.assertEquals(null,t.getRenderedCellWidget(4,1));this.assertEquals(null,t.getRenderedCellWidget(1,4));this.assertEquals(null,t.getRenderedCellWidget(4,4));this.assertEquals("1/1",t.getRenderedCellWidget(1,1).getUserData("test"));this.assertEquals("1/3",t.getRenderedCellWidget(1,3).getUserData("test"));this.assertEquals("3/1",t.getRenderedCellWidget(3,1).getUserData("test"));this.assertEquals("3/3",t.getRenderedCellWidget(3,3).getUserData("test"));t.destroy();e.dispose()},testEmptyCells:function(){var e=new qx.ui.virtual.layer.WidgetCell({getCellWidget:function(e,t){return 0===t?new qx.ui.core.Widget:null},poolCellWidget:function(e){e.destroy()}});this.getRoot().add(e);this.flush();e.fullUpdate(0,0,[10,10,10,10,10,10],[30,30,30]);this.flush();for(var t=e.getChildren(),i=0;i<=5;i++)for(var n=0;n<=2;n++){var s=t[3*i+n];0===n?this.assertInstance(s,qx.ui.core.Widget):this.assertInstance(s,qx.ui.core.Spacer)}e.destroy()}}});qx.test.ui.virtual.layer.WidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.layer.LayerTestCase":{require:!0},"qx.ui.virtual.cell.Cell":{},"qx.ui.virtual.core.Axis":{},"qx.ui.virtual.layer.WidgetCellSpan":{},"qx.ui.core.Widget":{},"qx.data.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.layer.WidgetCellSpan",{extend:qx.test.ui.virtual.layer.LayerTestCase,members:{setUp:function(){this._pool=[];qx.test.ui.virtual.layer.WidgetCellSpan.prototype.setUp.base.call(this)},tearDown:function(){qx.test.ui.virtual.layer.WidgetCellSpan.prototype.tearDown.base.call(this);this._disposeArray("_pool");this.__cellRenderer.dispose();this.__rowConfig.dispose();this.__columnConfig.dispose()},_createLayer:function(){this.__cellRenderer=new qx.ui.virtual.cell.Cell;this.__rowConfig=new qx.ui.virtual.core.Axis(10,100);this.__columnConfig=new qx.ui.virtual.core.Axis(20,100);return new qx.ui.virtual.layer.WidgetCellSpan(this,this.__rowConfig,this.__columnConfig)},getCellWidget:function(e,t){var i=this._pool.pop()||new qx.ui.core.Widget;i.setBackgroundColor((e+t)%2==0?"red":"green");return i},poolCellWidget:function(e){this._pool.push(e)},_assertCells:function(e,t,i,n,s){var r=this.layer._cellLayer._getChildren();this.assertEquals(i*n,r.length);for(var o=0;o<i;o++)for(var a=0;a<n;a++){var l=e+o,u=t+a,c=r[o*n+a];this.assertEquals(l,c.getUserData("cell.row"));this.assertEquals(u,c.getUserData("cell.column"))}},testGetRenderedCellWidget:function(){var e=new qx.ui.virtual.core.Axis(10,100),t=new qx.ui.virtual.core.Axis(20,100),i=new qx.data.Array;i.setAutoDisposeItems(!0);var n=new qx.ui.virtual.layer.WidgetCellSpan({getCellWidget:function(e,t){var n=new qx.ui.core.Widget;n.setUserData("test",e+"/"+t);i.push(n);return 1==e&&2==t?null:n},poolCellWidget:function(e){}},e,t);n.setCellSpan(2,0,1,2);n.setCellSpan(2,3,1,2);n.setCellSpan(2,2,2,1);this.getRoot().add(n);this.flush();n.fullUpdate(1,1,[10,10,10],[50,50,50]);this.flush();this.assertEquals(null,n.getRenderedCellWidget(0,0));this.assertEquals(null,n.getRenderedCellWidget(0,1));this.assertEquals(null,n.getRenderedCellWidget(1,0));this.assertEquals(null,n.getRenderedCellWidget(1,2));this.assertEquals(null,n.getRenderedCellWidget(4,1));this.assertEquals(null,n.getRenderedCellWidget(1,4));this.assertEquals(null,n.getRenderedCellWidget(4,4));this.assertEquals("1/1",n.getRenderedCellWidget(1,1).getUserData("test"));this.assertEquals("1/3",n.getRenderedCellWidget(1,3).getUserData("test"));this.assertEquals("3/1",n.getRenderedCellWidget(3,1).getUserData("test"));this.assertEquals("3/3",n.getRenderedCellWidget(3,3).getUserData("test"));this.assertEquals("2/0",n.getRenderedCellWidget(2,0).getUserData("test"));this.assertEquals("2/0",n.getRenderedCellWidget(2,1).getUserData("test"));this.assertEquals("2/3",n.getRenderedCellWidget(2,3).getUserData("test"));this.assertEquals("2/3",n.getRenderedCellWidget(2,4).getUserData("test"));this.assertEquals("2/2",n.getRenderedCellWidget(2,2).getUserData("test"));this.assertEquals("2/2",n.getRenderedCellWidget(3,2).getUserData("test"));n.destroy();e.dispose();t.dispose();i.dispose()}},destruct:function(){this.__cellRenderer=null}});qx.test.ui.virtual.layer.WidgetCellSpan.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{require:!0},"qx.ui.virtual.layer.CellSpanManager":{construct:!0},"qx.ui.virtual.layer.WidgetCell":{construct:!0},"qx.ui.layout.Grow":{construct:!0},"qx.ui.core.queue.Widget":{},"qx.ui.core.Spacer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.virtual.layer.WidgetCellSpan",{extend:qx.ui.virtual.layer.Abstract,include:[qx.ui.core.MChildrenHandling],construct:function(e,t,i){qx.ui.virtual.layer.Abstract.constructor.call(this);this.setZIndex(12);this._spanManager=new qx.ui.virtual.layer.CellSpanManager(t,i);this._cellProvider=e;this.__spacerPool=[];this._cellLayer=new qx.ui.virtual.layer.WidgetCell(this.__getCellProviderForNonSpanningCells());this._cellLayer.setZIndex(0);this._setLayout(new qx.ui.layout.Grow);this._add(this._cellLayer)},properties:{anonymous:{refine:!0,init:!1}},members:{getRenderedCellWidget:function(e,t){var i=this._cellLayer.getRenderedCellWidget(e,t);if(!i||i.getUserData("cell.spanning")){for(var n=this._getChildren(),s=0,r=n.length;s<r;s++){var o=n[s];if(o!=this._cellLayer){var a={row:o.getUserData("cell.row"),column:o.getUserData("cell.column"),rowSpan:o.getUserData("cell.rowspan"),colSpan:o.getUserData("cell.colspan")};if(a.row<=e&&e<a.row+a.rowSpan&&a.column<=t&&t<a.column+a.colSpan)return o}}return null}return i},__spacerPool:null,setCellSpan:function(e,t,i,n){var s=e+"x"+t;this._spanManager.removeCell(s);(i>1||n>1)&&this._spanManager.addCell(s,e,t,i,n);qx.ui.core.queue.Widget.add(this)},_getSpacer:function(){var e=this.__spacerPool.pop();if(!e){(e=new qx.ui.core.Spacer).setUserData("cell.empty",1);e.setUserData("cell.spanning",1)}return e},__getCellProviderForNonSpanningCells:function(){var e=this,t=this._cellProvider,i=this.__spacerPool;return{getCellWidget:function(i,n){if(e._spanMap[i][n])s=e._getSpacer();else var s=t.getCellWidget(i,n);return s},poolCellWidget:function(e){e.getUserData("cell.spanning")?i.push(e):t.poolCellWidget(e)}}},__updateCellSpanData:function(e,t,i,n){this._cells=this._spanManager.findCellsInWindow(e,t,i,n);if(this._cells.length>0){this._bounds=this._spanManager.getCellBounds(this._cells,e,t);this._spanMap=this._spanManager.computeCellSpanMap(this._cells,e,t,i,n)}else{this._bounds=[];this._spanMap=[];for(var s=0;s<i;s++)this._spanMap[e+s]=[]}},__updateCellSpanWidgets:function(){for(var e=this.getChildren(),t=e.length-1;t>=0;t--){var i=e[t];if(i!==this._cellLayer){this._cellProvider.poolCellWidget(i);this._remove(i)}}t=0;for(var n=this._cells.length;t<n;t++){var s=this._cells[t],r=this._bounds[t],o=this._cellProvider.getCellWidget(s.firstRow,s.firstColumn);if(o){o.setUserBounds(r.left,r.top,r.width,r.height);o.setUserData("cell.row",s.firstRow);o.setUserData("cell.column",s.firstColumn);o.setUserData("cell.rowspan",s.lastRow-s.firstRow+1);o.setUserData("cell.colspan",s.lastColumn-s.firstColumn+1);this._add(o)}}},_fullUpdate:function(e,t,i,n){this.__updateCellSpanData(e,t,i.length,n.length);this.__updateCellSpanWidgets();this._cellLayer.fullUpdate(e,t,i,n)},_updateLayerWindow:function(e,t,i,n){this.__updateCellSpanData(e,t,i.length,n.length);this.__updateCellSpanWidgets();this._cellLayer.updateLayerWindow(e,t,i,n)}},destruct:function(){for(var e=this._getChildren(),t=0;t<e.length;t++)e[t].dispose();this._disposeObjects("_spanManager","_cellLayer");this._cellProvider=this.__spacerPool=this._cells=this._bounds=this._spanMap=null}});qx.ui.virtual.layer.WidgetCellSpan.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{construct:!0,require:!0},"qx.lang.Array":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.AbstractLayerTest",{extend:qx.test.ui.LayoutTestCase,type:"abstract",construct:function(){qx.test.ui.LayoutTestCase.constructor.call(this);this.rowCount=30;this.rowHeight=20;this.colCount=20;this.colWidth=40},members:{ITERATIONS:2,setUp:function(){this.layer=this.getLayer().set({width:1e3,height:1e3});this.getRoot().add(this.layer);this.flush();this.rowSizes=[];for(var e=0;e<this.rowCount;e++)this.rowSizes.push(this.rowHeight);this.colSizes=[];for(e=0;e<this.colCount;e++)this.colSizes.push(this.colWidth)},tearDown:function(){this.layer.destroy()},getLayer:function(){throw new Error("Abstract method call (getLayer) in 'AbstractLayerTest'!")},testFullUpdateSameWindow:function(){this.profile("fullUpdate (same window)",function(){this.layer.fullUpdate(0,0,this.rowSizes,this.colSizes)},this,this.ITERATIONS)},testFullUpdateScrollDown:function(){var e=0;this.profile("fullUpdate (scroll)",function(){this.layer.fullUpdate(e,0,this.rowSizes,this.colSizes);e++},this,this.ITERATIONS)},testUpdateLayerWindowScrollDown:function(){var e=0;this.profile("scroll down 10 lines",function(){this.layer.updateLayerWindow(e,0,this.rowSizes,this.colSizes);e+=10},this,this.ITERATIONS)},testUpdateLayerWindowScrollRight:function(){var e=0;this.profile("scroll right 10 columns",function(){this.layer.updateLayerWindow(0,e,this.rowSizes,this.colSizes);e+=10},this,this.ITERATIONS)},testUpdateLayerData:function(){this.layer.fullUpdate(0,0,this.rowSizes,this.colSizes);this.flush();this.profile("update layer data",function(){this.layer.updateLayerData()},this,this.ITERATIONS)},profile:function(e,t,i,n){window.console&&window.console.profile&&console.profile(e+"; "+this.classname);for(var s=[],r=0,o=n;r<o;r++){var a=new Date;t.call(i);this.flush();var l=new Date-a;s.push(l)}s.sort(function(e,t){return e<t?-1:1});var u=Math.round(qx.lang.Array.sum(s.slice(1,-1))/(s.length-2));this.warn(";"+e+";avg:"+u+";"+s.join(";"));window.console&&window.console.profile&&console.profileEnd(e+" "+this.classname)}}});qx.test.ui.virtual.performance.AbstractLayerTest.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.DomCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.DomCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.DomCell}}});qx.test.ui.virtual.performance.DomCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{require:!0},"qx.bom.element.Style":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.DomCell",{extend:qx.ui.virtual.layer.Abstract,members:{_fullUpdate:function(e,t,i,n){var s=this.getContentElement().getDomElement();s.innerHTML="";for(var r=qx.bom.element.Style,o=qx.bom.element.Attribute,a=0,l=0,u=e,c=t,d=document.createDocumentFragment(),h=0;h<i.length;h++){a=0,c=t;for(var g=0;g<n.length;g++){var m=c+" / "+u,f=document.createElement("div");r.setCss(f,["position:absolute;","left:",a,"px;","top:",l,"px;","width:",n[g],"px;","height:",i[h],"px;"].join(""));o.set(f,"text",m);a+=n[g];d.appendChild(f)}l+=i[h];u++}s.appendChild(d)}}});qx.test.ui.virtual.performance.layer.DomCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.DomPoolCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.DomPoolCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.DomPoolCell}}});qx.test.ui.virtual.performance.DomPoolCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.ui.core.queue.Manager":{},"qx.bom.element.Style":{},"qx.bom.element.Attribute":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.DomPoolCell",{extend:qx.ui.virtual.layer.Abstract,construct:function(){qx.ui.virtual.layer.Abstract.constructor.call(this);this._nodePool=[]},members:{_nodePool:null,_fullUpdate:function(e,t,i,n){qx.ui.core.queue.Manager.flush();new Date;var s=this.getContentElement().getDomElement();if(s){var r=s.childNodes,o=0;s.innerHTML="";for(var a=qx.bom.element.Style,l=qx.bom.element.Attribute,u=0,c=0,d=e,h=t,g=0;g<i.length;g++){u=0,h=t;for(var m=0;m<n.length;m++){var f=h+" / "+d;if(!(p=r[o++]))var p=document.createElement("div"),_=!0;a.setCss(p,["position:absolute;","left:",u,"px;","top:",c,"px;","width:",n[m],"px;","height:",i[g],"px;"].join(""));l.set(p,"text",f);u+=n[m];_&&s.appendChild(p)}c+=i[g];d++}for(var x=o;x<r.length;o++)s.removeChild(r[o])}}}});qx.test.ui.virtual.performance.layer.DomPoolCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.ui.virtual.cell.Cell":{},"qx.ui.virtual.layer.HtmlCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.HtmlDivCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){this.__cellRenderer=new qx.ui.virtual.cell.Cell;return new qx.ui.virtual.layer.HtmlCell(this)},getCellProperties:function(e,t){return this.__cellRenderer.getCellProperties(e+" / "+t,{})}}});qx.test.ui.virtual.performance.HtmlDivCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.HtmlDivRelative":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.HtmlDivRelative",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.HtmlDivRelative}}});qx.test.ui.virtual.performance.HtmlDivRelative.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.HtmlDivRelative",{extend:qx.ui.virtual.layer.Abstract,members:{_fullUpdate:function(e,t,i,n){for(var s=[],r=e,o=t,a=0;a<i.length;a++){o=t;for(var l=0;l<n.length;l++){var u=o+" / "+r;s.push("<div style='","float: left;","width:",n[l],"px;","height:",i[a],"px;","'>",u,"</div>");o++;n[l]}i[a];r++}this.getContentElement().setAttribute("html",s.join(""))}}});qx.test.ui.virtual.performance.layer.HtmlDivRelative.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.HtmlTableCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.HtmlTableCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.HtmlTableCell(this)},getCellHtml:function(e,t,i,n,s,r){return["<td ","style='","border-collapse: collapse;","margin: 0px;","padding: 0px;","'>",e," / ",t,"</td>"].join("")}}});qx.test.ui.virtual.performance.HtmlTableCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.HtmlTableCell",{extend:qx.ui.virtual.layer.Abstract,construct:function(e){qx.ui.virtual.layer.Abstract.constructor.call(this);this._cellProvider=e},members:{_fullUpdate:function(e,t,i,n){var s=[],r=0,o=0,a=e,l=t;s.push('<table style="table-layout:fixed; border-collapse: collapse; margin: 0px; padding: 0px;">');s.push("<colgroup>");for(var u=0;u<n.length;u++)s.push('<col width="'+n[u]+'">');s.push("</colgroup>");for(var c=0;c<i.length;c++){r=0,l=t;var d=i[c];s.push('<tr height="'+d+'" style="border-collapse: collapse; margin: 0px; padding: 0px;">');for(u=0;u<n.length;u++){var h=n[u];s.push(this._cellProvider.getCellHtml(a,l,r,o,h,d));l++;r+=h}s.push("</tr>");o+=d;a++}s.push("</table>");this.getContentElement().setAttribute("html",s.join(""))}}});qx.test.ui.virtual.performance.layer.HtmlTableCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.HtmlTableCellNaive":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.HtmlTableCellNaive",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.HtmlTableCellNaive(this)},getCellHtml:function(e,t,i,n,s,r){return["<td ","width: "+s+" ","height: "+r+" ","style='","border-collapse: collapse;","margin: 0px;","padding: 0px;","'>",e," / ",t,"</td>"].join("")}}});qx.test.ui.virtual.performance.HtmlTableCellNaive.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.HtmlTableCellNaive",{extend:qx.ui.virtual.layer.Abstract,construct:function(e){qx.ui.virtual.layer.Abstract.constructor.call(this);this._cellProvider=e},members:{_fullUpdate:function(e,t,i,n){var s=[],r=0,o=0,a=e,l=t;s.push('<table style="border-collapse: collapse; margin: 0px; padding: 0px;">');for(var u=0;u<i.length;u++){r=0,l=t;var c=i[u];s.push('<tr style="border-collapse: collapse; margin: 0px; padding: 0px;">');for(var d=0;d<n.length;d++){var h=n[d];s.push(this._cellProvider.getCellHtml(a,l,r,o,h,c));l++;r+=h}s.push("</tr>");o+=c;a++}s.push("</table>");this.getContentElement().setAttribute("html",s.join(""))}}});qx.test.ui.virtual.performance.layer.HtmlTableCellNaive.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{require:!0},"qx.test.ui.virtual.performance.layer.HtmlTableCssCell":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.HtmlTableCssCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",members:{getLayer:function(){return new qx.test.ui.virtual.performance.layer.HtmlTableCssCell(this)},getCellHtml:function(e,t,i,n,s,r){return["<td>",e," / ",t,"</td>"].join("")}}});qx.test.ui.virtual.performance.HtmlTableCssCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.virtual.layer.Abstract":{construct:!0,require:!0},"qx.bom.element.Style":{construct:!0},"qx.bom.Stylesheet":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.layer.HtmlTableCssCell",{extend:qx.ui.virtual.layer.Abstract,construct:function(e){qx.ui.virtual.layer.Abstract.constructor.call(this);this._cellProvider=e;var t=qx.test.ui.virtual.performance.layer.HtmlTableCssCell;if(!t.__style){var i="table.qooxdoo-table {"+qx.bom.element.Style.compile({tableLayout:"fixed",borderCollapse:"collapse",margin:"0px",padding:"0px"})+"} table.qooxdoo-table tr {"+qx.bom.element.Style.compile({margin:"0px",padding:"0px"})+"} table.qooxdoo-table tr td {"+qx.bom.element.Style.compile({margin:"0px",padding:"0px"})+"} ";t.__style=qx.bom.Stylesheet.createElement(i)}},members:{_fullUpdate:function(e,t,i,n){var s=[],r=0,o=0,a=e,l=t;s.push('<table class="qooxdoo-table">');s.push("<colgroup>");for(var u=0;u<n.length;u++)s.push("<col width="+n[u]+">");s.push("</colgroup>");for(var c=0;c<i.length;c++){r=0,l=t;var d=i[c];s.push("<tr height="+d+">");for(u=0;u<n.length;u++){var h=n[u];s.push(this._cellProvider.getCellHtml(a,l,r,o,h,d));l++;r+=h}s.push("</tr>");o+=d;a++}s.push("</table>");this.getContentElement().setAttribute("html",s.join(""))}}});qx.test.ui.virtual.performance.layer.HtmlTableCssCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.virtual.performance.AbstractLayerTest":{construct:!0,require:!0},"qx.ui.virtual.layer.WidgetCell":{},"qx.ui.basic.Label":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.virtual.performance.WidgetCell",{extend:qx.test.ui.virtual.performance.AbstractLayerTest,type:"abstract",construct:function(){qx.test.ui.virtual.performance.AbstractLayerTest.constructor.call(this);this._pool=[]},members:{ITERATIONS:3,getLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this)},getCellWidget:function(e,t){var i=this._pool.pop()||new qx.ui.basic.Label;i.setContent(e+" / "+t);return i},poolCellWidget:function(e){this._pool.push(e)}}});qx.test.ui.virtual.performance.WidgetCell.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.window.Manager":{},"qx.ui.window.Desktop":{},"qx.ui.window.Window":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.ui.window.Desktop",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){qx.test.ui.window.Desktop.prototype.setUp.base.call(this);var e=new qx.ui.window.Manager,t=new qx.ui.window.Desktop(e);this.getRoot().add(t);this.desktop=t},tearDown:function(){this.desktop.destroy();qx.test.ui.window.Desktop.prototype.tearDown.base.call(this);this.flush()},testEvents:function(){var e=new qx.ui.window.Window("Window");e.set({width:300,height:200,showClose:!1,showMinimize:!1});this.assertEventFired(this.desktop,"windowAdded",function(){this.desktop.add(e)}.bind(this));this.assertEventFired(this.desktop,"windowRemoved",function(){this.desktop.remove(e)}.bind(this))},destruct:function(){this.desktop=null}}});qx.test.ui.window.Desktop.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.ui.core.Widget":{construct:!0,require:!0},"qx.ui.core.MChildrenHandling":{require:!0},"qx.ui.window.MDesktop":{require:!0},"qx.ui.core.MBlocker":{require:!0},"qx.ui.window.IDesktop":{require:!0},"qx.ui.window.Window":{construct:!0},"qx.ui.layout.Canvas":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.window.Desktop",{extend:qx.ui.core.Widget,include:[qx.ui.core.MChildrenHandling,qx.ui.window.MDesktop,qx.ui.core.MBlocker],implement:qx.ui.window.IDesktop,construct:function(e){qx.ui.core.Widget.constructor.call(this);e=e||new qx.ui.window.Window.DEFAULT_MANAGER_CLASS;this.getContentElement().disableScrolling();this._setLayout((new qx.ui.layout.Canvas).set({desktop:!0}));this.setWindowManager(e)}});qx.ui.window.Desktop.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.Base64":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Base64",{extend:qx.dev.unit.TestCase,members:{testEncodeDecode:function(){var e="Luke, I'm your father! Nooooooooooo!",t=qx.util.Base64.encode(e);this.assertEquals(e,qx.util.Base64.decode(t))},testChineseChars:function(){var e="Abecedariab语言工具",t=qx.util.Base64.encode(e);this.assertEquals(e,qx.util.Base64.decode(t))},testChineseCharsExplicitNot8bit:function(){var e="Abecedariab语言工具",t=qx.util.Base64.encode(e,!1);this.assertEquals(e,qx.util.Base64.decode(t,!1))},testChineseCharsExplicit8bit:function(){var e="Abecedariab语言工具",t=qx.util.Base64.encode(e,!1);this.assertNotEquals(e,qx.util.Base64.decode(t,!0))},testGermanChars:function(){var e="Am Donnerstag diskutieren die Abgeordneten dann ab 9 Uhr zweieinhalb Stunden lang in erster Lesung über drei fraktionsübergreifende Gesetzentwürfe zur Präimplantationsdiagnostik (PID). Weitere Themen sind am Donnerstag unter anderem der Schutz vor Straßen- und Schienenlärm und die Einführung eines Mindestlohns",t=qx.util.Base64.encode(e);this.assertEquals(e,qx.util.Base64.decode(t))},testKnownEncoding:function(){var e="Hello\nThis\nIs\nA\nText\nFile",t=qx.util.Base64.encode(e);this.assertEquals(t,"SGVsbG8KVGhpcwpJcwpBClRleHQKRmlsZQ==");this.assertEquals(e,qx.util.Base64.decode(t))}}});qx.test.util.Base64.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.ColorUtil":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.ColorUtil",{extend:qx.dev.unit.TestCase,members:{testRgbToRgbString:function(){this.assertEquals("rgba(255,0,0,1)",qx.util.ColorUtil.rgbToRgbString([255,0,0,1]));this.assertEquals("rgba(255,0,0,0.5)",qx.util.ColorUtil.rgbToRgbString([255,0,0,.5]));this.assertEquals("rgba(255,0,0,0)",qx.util.ColorUtil.rgbToRgbString([255,0,0,0]));this.assertEquals("rgb(255,0,0)",qx.util.ColorUtil.rgbToRgbString([255,0,0]))},testCssStringToRgb:function(){this.assertEquals("255,0,0",qx.util.ColorUtil.cssStringToRgb("rgba(255,0,0,1)"));this.assertEquals("201,23,120",qx.util.ColorUtil.cssStringToRgb("rgba(201,23,120,0.3)"));this.assertEquals("255,0,0",qx.util.ColorUtil.cssStringToRgb("rgb(255,0,0)"));this.assertEquals("201,23,120",qx.util.ColorUtil.cssStringToRgb("rgb(201,23,120)"))},testHex3StringToHex6String:function(){this.assertEquals("#FFFFFF",qx.util.ColorUtil.hex3StringToHex6String("#fff"));this.assertEquals("#ffffff",qx.util.ColorUtil.hex3StringToHex6String("#ffffff"))},testRgbToHexString:function(){this.assertEquals("#FFFFFF",qx.util.ColorUtil.rgbToHexString([255,255,255]));this.assertEquals("#000000",qx.util.ColorUtil.rgbToHexString([0,0,0]))},testStringToRgbString:function(){this.assertEquals("rgb(0,0,0)",qx.util.ColorUtil.stringToRgbString("rgba(0,0,0,0.5)"));this.assertEquals("rgb(-1,-1,-1)",qx.util.ColorUtil.stringToRgbString("rgba(0,0,0,0)"))}}});qx.test.util.ColorUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MRequirements":{require:!0},"qx.locale.Manager":{},"qx.util.format.DateFormat":{},"qx.test.util.DateMock":{},"qx.locale.Date":{},"qx.bom.client.Browser":{}},environment:{provided:[],required:{"browser.name":{className:"qx.bom.client.Browser"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.DateFormat",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MRequirements,members:{__dates:[{date:new Date(2e3,2,14),result:{}},{date:new Date(2006,2,14),result:{}},{date:new Date(2007,3,14),result:{}},{date:new Date(2009,10,30),result:{}},{date:new Date(2009,8,30),result:{}},{date:new Date(2011,3,15),result:{}},{date:new Date(2011,3,16),result:{}},{date:new Date(2011,3,17),result:{}},{date:new Date(2011,0,26),result:{weekOfYear:4}},{date:new Date(2011,0,1),result:{weekOfYear:52}},{date:new Date(2011,0,3),result:{weekOfYear:1}},{date:new Date(2011,0,10),result:{weekOfYear:2}},{date:new Date(2011,9,3),result:{dayOfYear:276,era:{abbrev:"AD",fullName:"Anno Domini",narrow:"A"}}},{date:new Date(2011,0,4),result:{dayOfYear:4,dayOfWeek:2}},{date:new Date(2011,0,4),result:{dayOfYear:4,dayOfWeek:2}},{date:new Date(2011,0,4,9,9,9),result:{h_hour:9,K_hour:9,H_hour:9,k_hour:9}},{date:new Date(2011,0,4,14,9,9),result:{h_hour:2,K_hour:2,H_hour:14,k_hour:14}},{date:new Date(2011,0,4,0,9,9),result:{h_hour:12,K_hour:0,H_hour:0,k_hour:24}},{date:new Date(2011,0,4,12,9,9),result:{h_hour:12,K_hour:0,H_hour:12,k_hour:12}},{date:new Date(2010,12,4,0,0,0),result:{h_hour:12,K_hour:0,H_hour:0,k_hour:24}},{date:new Date(-20,10,14),result:{era:{abbrev:"BC",fullName:"Before Christ",narrow:"B"}}},{date:new Date(2012,4,24,11,49,57,1),result:{}},{date:new Date(2012,4,24,11,49,57,12),result:{}},{date:new Date(2012,4,24,11,49,57,123),result:{}}],tearDown:function(){qx.locale.Manager.getInstance().resetLocale()},__fillNumber:function(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i},__getExpectedYear:function(e,t,i){var n=e+"";if(n.length<t)for(var s=n.length;s<t;s++)n="0"+n;return"-"===i?i+n:n},_testDateParse:function(e,t,i){var n=new qx.util.format.DateFormat(t,i),s=n.format(e),r=n.parse(s);this.assertEquals(e.getFullYear(),r.getFullYear());this.assertEquals(e.getMonth(),r.getMonth());this.assertEquals(e.getDate(),r.getDate());this.assertEquals(e.getDay(),r.getDay());if(t.indexOf(":")>0){this.assertEquals(e.getHours(),r.getHours());this.assertEquals(e.getMinutes(),r.getMinutes())}n.dispose()},testDateParse:function(){for(var e=0;e<this.__dates.length;e++){var t=this.__dates[e].date;this._testDateParse(t,"EEEE dd. MMM yyyy","de_DE");this._testDateParse(t,"yyyyMMdd","en_US");this._testDateParse(t,"ddMMyyyyy","en_US");this._testDateParse(t,"yyyyyyyyyddMM","de_DE");this._testDateParse(t,"yyMMdd","en_US");this._testDateParse(t,"yMMdd","de_DE");this._testDateParse(t,"yyyMMdd","en_US");this._testDateParse(t,"EEE dd. MM yyyy","de_DE");this._testDateParse(t,"EE dd. M yyyy","de_DE");this._testDateParse(t,"EEEE dd. MMM yyyy","fr_FR");this._testDateParse(t,"MMM d, y h:mm a","en_US");this._testDateParse(t,"MMM d, y KK:mm a","en_US");this._testDateParse(t,"YYYY/MM/dd","en_US")}},testInvalidDate:function(){this.require(["noEdge"]);var e=new Date("2011-11-32"),t=new qx.util.format.DateFormat;this.assertNull(t.format(e));t.dispose()},testWeeksInDateParsing:function(){var e,t,i;e=new qx.util.format.DateFormat("EEEE d MMMM yyyy ww");qx.locale.Manager.getInstance().setLocale("en_US");t=new Date(2014,0,1).getTime();i=e.parse("Wednesday 1 January 2014 01");this.assertIdentical(t,i.getTime(),"ww - 01, should have been parsed");try{i=e.parse("Wednesday 1 January 2014 1")}catch(e){i=new Date}this.assertNotIdentical(t,i.getTime(),"ww - 1, should not have been parsed");try{i=e.parse("Wednesday 1 January 2014 ")}catch(e){i=new Date}this.assertNotIdentical(t,i.getTime(),"ww - '', should not have been parsed");t=new Date(2014,4,6).getTime();i=e.parse("Tuesday 6 May 2014 19");this.assertIdentical(t,i.getTime(),"ww - 19, should have been parsed");i=(e=new qx.util.format.DateFormat("EEEE d MMMM yyyy w")).parse("Tuesday 6 May 2014 19");this.assertIdentical(t,i.getTime(),"w - 19, should have been parsed");t=new Date(2014,0,1).getTime();i=e.parse("Wednesday 1 January 2014 01");this.assertIdentical(t,i.getTime(),"w - 01, should have been parsed");i=e.parse("Wednesday 1 January 2014 1");this.assertIdentical(t,i.getTime(),"w - 1, should have been parsed");try{i=e.parse("Wednesday 1 January 2014 ")}catch(e){i=new Date}this.assertNotIdentical(t,i.getTime(),"w - '', should not have been parsed")},testTimeZone:function(){var e=new qx.test.util.DateMock({timezoneOffset:-60,time:1316000836451}),t=new qx.util.format.DateFormat("z","de_DE");this.assertEquals("GMT+01:00",t.format(e));e.dispose();e=new qx.test.util.DateMock({timezoneOffset:60,time:1316000836451});this.assertEquals("GMT-01:00",t.format(e));e.dispose();e=new qx.test.util.DateMock({timezoneOffset:-90,time:1316000836451});this.assertEquals("GMT+01:30",t.format(e));e.dispose();e=new qx.test.util.DateMock({timezoneOffset:90,time:1316000836451});this.assertEquals("GMT-01:30",t.format(e));e.dispose();t.dispose()},testLocalizedDates:function(){for(var e=0;e<this.__dates.length;e++){var t=this.__dates[e].date,i=qx.locale.Date.getDateFormat("short","fr_FR");this._testDateParse(t,i,"fr_FR");i=qx.locale.Date.getDateFormat("medium","fr_FR");this._testDateParse(t,i,"fr_FR");i=qx.locale.Date.getDateFormat("long","fr_FR");this._testDateParse(t,i,"fr_FR");i=qx.locale.Date.getDateFormat("full","fr_FR");this._testDateParse(t,i,"fr_FR");i=qx.locale.Date.getDateFormat("short","de_DE");this._testDateParse(t,i,"de_DE");i=qx.locale.Date.getDateFormat("medium","de_DE");this._testDateParse(t,i,"de_DE");i=qx.locale.Date.getDateFormat("long","de_DE");this._testDateParse(t,i,"de_DE");i=qx.locale.Date.getDateFormat("full","de_DE");this._testDateParse(t,i,"de_DE")}},testPattern_y_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=i.getFullYear()>0?"+":"-",s=""+Math.abs(i.getFullYear()),r=i.getFullYear()+"",o=r.substring(s.length-2);e=new qx.util.format.DateFormat("yyyy");var a=this.__getExpectedYear(s,4,n);this.assertEquals(a,e.format(i));var l=e.parse(e.format(i));this.assertEquals(i.getFullYear(),l.getFullYear());e.dispose();e=new qx.util.format.DateFormat("y");this.assertEquals(r,e.format(i));e.dispose();e=new qx.util.format.DateFormat("yy");this.assertEquals(o,e.format(i));e.dispose();e=new qx.util.format.DateFormat("yyy");a=this.__getExpectedYear(s,3,n);this.assertEquals(a,e.format(i));e.dispose();e=new qx.util.format.DateFormat("yyyy");a=this.__getExpectedYear(s,4,n);this.assertEquals(a,e.format(i));e.dispose();e=new qx.util.format.DateFormat("yyyyy");a=this.__getExpectedYear(s,5,n);this.assertEquals(a,e.format(i));e.dispose();e=new qx.util.format.DateFormat("yyyyyyyyyyy");a=this.__getExpectedYear(s,11,n);this.assertEquals(a,e.format(i));e.dispose()}},testPattern_M_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=0;i<this.__dates.length;i++){var n=this.__dates[i].date,s=""+Math.abs(n.getFullYear()),r=n.getFullYear()>0?"+":"-",o=this.__getExpectedYear(s,4,r),a=n.getMonth(),l=a+1+"";e=new qx.util.format.DateFormat("yyyy/MM");this.assertEquals(o+"/"+this.__fillNumber(l,2),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/M");this.assertEquals(o+"/"+l,e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/MMM");this.assertEquals(o+"/"+qx.locale.Date.getMonthName("abbreviated",a,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/MMMM");this.assertEquals(o+"/"+qx.locale.Date.getMonthName("wide",a,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/MMMMM");this.assertEquals(o+"/"+qx.locale.Date.getMonthName("narrow",a,t,"format",!0),e.format(n));e.dispose()}},testPattern_L_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=0;i<this.__dates.length;i++){var n=this.__dates[i].date,s=n.getMonth(),r=s+1+"";e=new qx.util.format.DateFormat("LL");this.assertEquals(this.__fillNumber(r,2),e.format(n));e.dispose();e=new qx.util.format.DateFormat("L");this.assertEquals(r,e.format(n));e.dispose();e=new qx.util.format.DateFormat("LLL");this.assertEquals(qx.locale.Date.getMonthName("abbreviated",s,t,"stand-alone",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("LLLL");this.assertEquals(qx.locale.Date.getMonthName("wide",s,t,"stand-alone",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("LLLLL");this.assertEquals(qx.locale.Date.getMonthName("narrow",s,t,"stand-alone",!0),e.format(n));e.dispose()}},testPattern_w_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.weekOfYear){var i=this.__dates[t].date,n=this.__dates[t].result.weekOfYear+"";e=new qx.util.format.DateFormat("w");this.assertEquals(n,e.format(i));e.dispose();e=new qx.util.format.DateFormat("ww");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_d_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=i.getDate();e=new qx.util.format.DateFormat("d");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("dd");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_D_:function(){for(var e,t,i=0;i<this.__dates.length;i++){var n=this.__dates[i].date;if(this.__dates[i].result.dayOfYear){var s=this.__dates[i].result.dayOfYear+"";e=new qx.util.format.DateFormat("D");this.assertEquals(s,e.format(n));e.dispose();e=new qx.util.format.DateFormat("DD");this.assertEquals(this.__fillNumber(s,2),e.format(n));e.dispose();e=new qx.util.format.DateFormat("DDD");this.assertEquals(this.__fillNumber(s,3),e.format(n));e.dispose()}var r=new qx.util.format.DateFormat("MM / yyy / DDD");t=r.format(n);var o=r.parse(t);this.assertEquals(n.getFullYear(),o.getFullYear());this.assertEquals(n.getMonth(),o.getMonth());this.assertEquals(n.getDate(),o.getDate());this.assertEquals(n.getDay(),o.getDay());r.dispose()}},testPattern_E_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=0;i<this.__dates.length;i++)if(this.__dates[i].result.dayOfWeek){var n=this.__dates[i].date,s=""+n.getFullYear(),r=this.__dates[i].result.dayOfWeek;e=new qx.util.format.DateFormat("yyyy/E");this.assertEquals(s+"/"+qx.locale.Date.getDayName("abbreviated",r,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/EE");this.assertEquals(s+"/"+qx.locale.Date.getDayName("abbreviated",r,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/EEE");this.assertEquals(s+"/"+qx.locale.Date.getDayName("abbreviated",r,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/EEEE");this.assertEquals(s+"/"+qx.locale.Date.getDayName("wide",r,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("yyyy/EEEEE");this.assertEquals(s+"/"+qx.locale.Date.getDayName("narrow",r,t,"format",!0),e.format(n));e.dispose()}},testPattern_c_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=[t,"en_US","ro_RO","de_DE","fr_FR"],n=0;n<i.length;n++){qx.locale.Manager.getInstance().setLocale(i[n]);for(var s=0;s<this.__dates.length;s++){var r=this.__dates[s].date,o=r.getDay(),a=qx.locale.Date.getWeekStart(i[n]),l=1+(o-a>=0?o-a:o-a+7);e=new qx.util.format.DateFormat("c",i[n]);this.assertEquals(l+"",e.format(r));e.dispose();e=new qx.util.format.DateFormat("ccc",i[n]);this.assertEquals(qx.locale.Date.getDayName("abbreviated",o,i[n],"stand-alone",!0),e.format(r));e.dispose();e=new qx.util.format.DateFormat("cccc",i[n]);this.assertEquals(qx.locale.Date.getDayName("wide",o,i[n],"stand-alone",!0),e.format(r));e.dispose();e=new qx.util.format.DateFormat("ccccc",i[n]);this.assertEquals(qx.locale.Date.getDayName("narrow",o,i[n],"stand-alone",!0),e.format(r));e.dispose()}}qx.locale.Manager.getInstance().setLocale(t)},testPattern_e_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=0;i<this.__dates.length;i++){var n=this.__dates[i].date,s=n.getDay(),r=qx.locale.Date.getWeekStart(t),o=1+(s-r>=0?s-r:s-r+7);e=new qx.util.format.DateFormat("e");this.assertEquals(o+"",e.format(n));e.dispose();e=new qx.util.format.DateFormat("ee");this.assertEquals("0"+o,e.format(n));e.dispose();e=new qx.util.format.DateFormat("eee");this.assertEquals(qx.locale.Date.getDayName("abbreviated",s,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("eeee");this.assertEquals(qx.locale.Date.getDayName("wide",s,t,"format",!0),e.format(n));e.dispose();e=new qx.util.format.DateFormat("eeeee");this.assertEquals(qx.locale.Date.getDayName("narrow",s,t,"format",!0),e.format(n));e.dispose()}},testPattern_e_parse:function(){qx.locale.Manager.getInstance().getLocale();for(var e,t,i=0;i<this.__dates.length;i++){var n=this.__dates[i].date,s=n.getDay();t=(e=new qx.util.format.DateFormat("e-yyyy-MM-dd")).parse(e.format(n));this.assertEquals(s,t.getDay());e.dispose();t=(e=new qx.util.format.DateFormat("ee-yyyy-MM-dd")).parse(e.format(n));this.assertEquals(s,t.getDay());e.dispose();t=(e=new qx.util.format.DateFormat("eee-yyyy-MM-dd")).parse(e.format(n));this.assertEquals(s,t.getDay());e.dispose();t=(e=new qx.util.format.DateFormat("eeee-yyyy-MM-dd")).parse(e.format(n));this.assertEquals(s,t.getDay());e.dispose();t=(e=new qx.util.format.DateFormat("eeeee-yyyy-MM-dd")).parse(e.format(n));this.assertEquals(s,t.getDay());e.dispose()}},testPattern_a_:function(){for(var e,t=qx.locale.Manager.getInstance().getLocale(),i=0;i<this.__dates.length;i++){var n=this.__dates[i].date,s=n.getHours();e=new qx.util.format.DateFormat("a",t);this.assertEquals(s<12?qx.locale.Date.getAmMarker(t).toString():qx.locale.Date.getPmMarker(t).toString(),e.format(n));e.dispose()}},testPattern_h_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.h_hour){var i=this.__dates[t].date,n=this.__dates[t].result.h_hour;e=new qx.util.format.DateFormat("h");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("hh");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_H_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.H_hour){var i=this.__dates[t].date,n=this.__dates[t].result.H_hour;e=new qx.util.format.DateFormat("H");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("HH");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_k_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.k_hour){var i=this.__dates[t].date,n=this.__dates[t].result.k_hour;e=new qx.util.format.DateFormat("k");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("kk");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_K_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.K_hour){var i=this.__dates[t].date,n=this.__dates[t].result.K_hour;e=new qx.util.format.DateFormat("K");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("KK");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_m_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=i.getMinutes();e=new qx.util.format.DateFormat("m");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("mm");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_s_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=i.getSeconds();e=new qx.util.format.DateFormat("s");this.assertEquals(n+"",e.format(i));e.dispose();e=new qx.util.format.DateFormat("ss");this.assertEquals(this.__fillNumber(n,2),e.format(i));e.dispose()}},testPattern_S_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=this.__fillNumber(i.getMilliseconds(),3);e=new qx.util.format.DateFormat("S");this.assertEquals(n.substring(0,1),e.format(i));e.dispose();e=new qx.util.format.DateFormat("SS");this.assertEquals(n.substring(0,2),e.format(i));e.dispose();e=new qx.util.format.DateFormat("SSS");this.assertEquals(n.substring(0,3),e.format(i));e.dispose();e=new qx.util.format.DateFormat("SSSS");this.assertEquals(n.substring(0,3)+"0",e.format(i));e.dispose()}},testPattern_z_:function(){for(var e,t=0;t<this.__dates.length;t++){var i=this.__dates[t].date,n=i.getTimezoneOffset(),s=n>0?1:-1,r=Math.floor(Math.abs(n)/60),o=Math.abs(n)%60,a="GMT"+(s>0?"-":"+")+this.__fillNumber(Math.abs(r),2)+":"+this.__fillNumber(o,2);e=new qx.util.format.DateFormat("z");this.assertEquals(a,e.format(i));e.dispose();e=new qx.util.format.DateFormat("zz");this.assertEquals(a,e.format(i));e.dispose();e=new qx.util.format.DateFormat("zzz");this.assertEquals(a,e.format(i));e.dispose()}},testPattern_G_:function(){for(var e,t=0;t<this.__dates.length;t++)if(this.__dates[t].result.era){var i=this.__dates[t].date,n=this.__dates[t].result.era;e=new qx.util.format.DateFormat("G");this.assertEquals(n.abbrev,e.format(i));e.dispose();var s=(e=new qx.util.format.DateFormat("yyyy MM dd G")).format(i),r=e.parse(s);this.assertEquals(i.getFullYear(),r.getFullYear());this.assertEquals(i.getMonth(),r.getMonth());this.assertEquals(i.getDate(),r.getDate());this.assertEquals(i.getDay(),r.getDay());e.dispose()}},_testIsoMasks:function(e,t,i){var n=new qx.util.format.DateFormat(t),s=new qx.util.format.DateFormat(i),r=n.format(e),o=s.format(e);this.assertEquals(r,o);this.assertEquals(n.parse(r).getTime(),s.parse(o).getTime());n.dispose();s.dispose()},testIsoMasks:function(){for(var e=0;e<this.__dates.length;e++){var t=this.__dates[e].date;this._testIsoMasks(t,"isoDate","yyyy-MM-dd");this._testIsoMasks(t,"isoTime","HH:mm:ss");this._testIsoMasks(t,"isoDateTime","yyyy-MM-dd'T'HH:mm:ss")}},testChangingLocales:function(){var e=qx.locale.Manager.getInstance();e.resetLocale();var t=e.getLocale();e.setLocale("en_US");var i=new qx.util.format.DateFormat("EEEE yyyy-mm-dd"),n=new qx.util.format.DateFormat("EEEE yyyy-mm-dd",t),s=new qx.util.format.DateFormat("EEEE yyyy-mm-dd","fr_FR"),r=new qx.util.format.DateFormat("EEEE yyyy-mm-dd","de_DE"),o=new qx.util.format.DateFormat("EEEE yyyy-mm-dd","en_US"),a=new Date;s.format(a);this.assertEquals(i.format(a),o.format(a));e.setLocale("fr_FR");this.assertEquals(i.format(a),s.format(a));e.setLocale("de_DE");this.assertEquals(i.format(a),r.format(a));e.resetLocale();this.assertEquals(i.format(a),n.format(a));e.setLocale("fr_FR");this.assertEquals(i.format(a),s.format(a));i.resetLocale();this.assertEquals(i.format(a),o.format(a));s.setLocale("de_DE");this.assertEquals(s.format(a),r.format(a));s.resetLocale();i.dispose();n.dispose();s.dispose();r.dispose();o.dispose()},hasNoEdge:function(){return!("edge"==qx.core.Environment.get("browser.name"))}}});qx.test.util.DateFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.DateMock",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.__date=e},members:{getFullYear:function(){return this.__date.fullYear},getMonth:function(){return this.__date.month},getDate:function(){return this.__date.date},getDay:function(){return this.__date.day},getHours:function(){return this.__date.hours},getSeconds:function(){return this.__date.seconds},getMinutes:function(){return this.__date.minutes},getMilliseconds:function(){return this.__date.milliseconds},getTimezoneOffset:function(){return this.__date.timezoneOffset},getTime:function(){return this.__date.time}}});qx.test.util.DateMock.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.event.GlobalError":{},"qx.util.DeferredCall":{},"qx.core.AssertionError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.DeferredCall",{extend:qx.dev.unit.TestCase,members:{testGlobalErrorHandling:function(){var e=new qx.util.DeferredCall(function(){throw new Error("fail")},this);qx.event.GlobalError.setErrorHandler(function(){this.resume(function(){qx.event.GlobalError.setErrorHandler(null,null)})},this);e.schedule();this.wait(1e3,function(){qx.event.GlobalError.setErrorHandler(null,null);throw new qx.core.AssertionError("Asynchronous Test Error","Timeout reached before resume() was called.")})}}});qx.test.util.DeferredCall.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.util.Delegate":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Delegate",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{__delegate:null,setUp:function(){this.__delegate={STATIC:!0,myMethod:function(){}}},tearDown:function(){this.__delegate=null},testGetMethod:function(){this.assertNotNull(qx.util.Delegate.getMethod(this.__delegate,"myMethod"));this.assertFunction(qx.util.Delegate.getMethod(this.__delegate,"myMethod"));this.assertNull(qx.util.Delegate.getMethod(this.__delegate,"STATIC"));this.assertNull(qx.util.Delegate.getMethod(this.__delegate,"banana"))},testContainsMethod:function(){this.assertTrue(qx.util.Delegate.containsMethod(this.__delegate,"myMethod"));this.assertFalse(qx.util.Delegate.containsMethod(this.__delegate,"STATIC"));this.assertFalse(qx.util.Delegate.containsMethod(this.__delegate,"banana"))},testMethodCall:function(){var e=this.spy(this.__delegate,"myMethod");qx.util.Delegate.getMethod(this.__delegate,"myMethod")(99,89,99);this.assertCalled(e);this.assertCalledWith(e,99,89,99);this.assertCalledOn(e,this.__delegate)}}});qx.test.util.Delegate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.ui.container.Composite":{},"qx.ui.layout.VBox":{},"qx.ui.layout.Canvas":{},"qx.ui.container.Stack":{},"qx.ui.basic.Atom":{},"qx.util.DisposeUtil":{},"qx.ui.core.queue.Dispose":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.DisposeUtil",{extend:qx.dev.unit.TestCase,members:{testDestroyContainer:function(){var e=new qx.ui.container.Composite(new qx.ui.layout.VBox),t=new qx.ui.container.Composite(new qx.ui.layout.Canvas),i=new qx.ui.container.Composite(new qx.ui.layout.Canvas),n=new qx.ui.container.Stack,s=new qx.ui.container.Stack,r=new qx.ui.basic.Atom,o=new qx.ui.basic.Atom,a=new qx.ui.basic.Atom,l=new qx.ui.basic.Atom,u=new qx.ui.basic.Atom;t.add(r);i.add(o);n.add(a);e.add(t);e.add(i);e.add(n);e.add(l);e.add(u);e.add(s);qx.util.DisposeUtil.destroyContainer(e);qx.ui.core.queue.Dispose.flush();this.assertTrue(e.isDisposed(),"container not disposed!");this.assertTrue(t.isDisposed(),"childContainer1 not disposed!");this.assertTrue(i.isDisposed(),"childContainer2 not disposed!");this.assertTrue(n.isDisposed(),"childContainer3 not disposed!");this.assertTrue(r.isDisposed(),"child1 not disposed!");this.assertTrue(o.isDisposed(),"child2 not disposed!");this.assertTrue(a.isDisposed(),"child3 not disposed!");this.assertTrue(l.isDisposed(),"child4 not disposed!");this.assertTrue(u.isDisposed(),"child5 not disposed!");this.assertTrue(s.isDisposed(),"childContainer4 not disposed!")}}});qx.test.util.DisposeUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.DynamicScriptLoader":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.DynamicScriptLoader",{extend:qx.dev.unit.TestCase,members:{setUp:function(){qx.test.DYNAMICSCRIPTTEST&&delete qx.test.DYNAMICSCRIPTTEST},tearDown:function(){qx.test.DYNAMICSCRIPTTEST&&delete qx.test.DYNAMICSCRIPTTEST},"test 1: dynamic parallel loading":function(){var e=new qx.util.DynamicScriptLoader(["qx/test/dynamicscriptloader/first.js","qx/test/dynamicscriptloader/second.js","qx/test/dynamicscriptloader/third.js"]),t=new qx.util.DynamicScriptLoader(["qx/test/dynamicscriptloader/first.js","qx/test/dynamicscriptloader/second.js"]),i=!1,n=!1;e.addListenerOnce("ready",function(){i=!0;this.resume(function(){this.assertTrue(i&&n);this.assertEquals(qx.test.DYNAMICSCRIPTTEST.second.third,"dynamically loaded")},this)},this);t.addListenerOnce("ready",function(){n=!0;this.assertTrue(!i&&n)},this);e.start();t.start();this.wait()},"test 2: do not load again":function(){var e=new qx.util.DynamicScriptLoader(["qx/test/dynamicscriptloader/first.js","qx/test/dynamicscriptloader/second.js","qx/test/dynamicscriptloader/third.js"]),t=!0;e.addListener("loaded",function(e){"preloaded"!==e.getData().status&&(t=!1)});e.addListenerOnce("ready",function(){this.assertTrue(t)},this);e.start()},"test 3: fail to load":function(){var e=new qx.util.DynamicScriptLoader(["qx/test/dynamicscriptloader/xyc.js"]);e.addListenerOnce("failed",function(e){var t=e.getData();this.resume(function(){this.assertEquals(t.script,"qx/test/dynamicscriptloader/xyc.js")},this)},this);e.start();this.wait()},"test 4: double start":function(){var e=new qx.util.DynamicScriptLoader("qx/test/dynamicscriptloader/first.js");e.start();try{e.start()}catch(e){this.assertEquals(e.message,"you can only call start once per instance")}}}});qx.test.util.DynamicScriptLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Type":{construct:!0},"qx.lang.Array":{construct:!0},"qx.Promise":{},"qx.util.ResourceManager":{},"qx.bom.request.Script":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.DynamicScriptLoader",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.__started=!1;this.__QUEUE=qx.lang.Type.isString(e)?[e]:qx.lang.Array.clone(e)},events:{loaded:"qx.event.type.Data",failed:"qx.event.type.Data",ready:"qx.event.type.Event"},statics:{__IN_PROGRESS:{},__LOADED:{}},members:{__QUEUE:null,__started:null,start:function(){return new qx.Promise(function(e,t){this.addListenerOnce("ready",e,this);this.addListenerOnce("failed",function(e){t(new Error(e.getData()))},this);this.isDisposed()&&t(new Error("disposed"));this.__started&&t(new Error("you can only call start once per instance"));this.__started=!0;this.__loadScripts()},this)},__loadScripts:function(){var e,t,i,n,s,r,o=qx.util.DynamicScriptLoader;if(e=this.__QUEUE.shift())if(o.__LOADED[e]){this.fireDataEvent("loaded",{script:e,status:"preloaded"});this.__loadScripts()}else if(t=o.__IN_PROGRESS[e]){i=t.addListener("loaded",function(s){if(!this.isDisposed()){var r=s.getData();if(r.script===e){t.removeListenerById(n);t.removeListenerById(i);this.fireDataEvent("loaded",r);this.__loadScripts()}}},this);n=t.addListener("failed",function(s){if(!this.isDisposed()){var r=s.getData();t.removeListenerById(i);t.removeListenerById(n);this.fireDataEvent("failed",{script:e,status:"loading of "+r.script+" failed while waiting for "+e})}},this)}else{s=qx.util.ResourceManager.getInstance().toUri(e);(r=new qx.bom.request.Script).on("load",function(t){if(!this.isDisposed()){o.__LOADED[e]=!0;delete o.__IN_PROGRESS[e];this.fireDataEvent("loaded",{script:e,status:t.status});this.__loadScripts()}},this);var a=function(t){if(!this.isDisposed()){delete o.__IN_PROGRESS[e];this.fireDataEvent("failed",{script:e,status:t.status})}};r.on("error",a,this);r.on("timeout",a,this);r.open("GET",s);o.__IN_PROGRESS[e]=this;r.send()}else this.fireEvent("ready")}},destruct:function(){var e=qx.util.DynamicScriptLoader;for(var t in e.__IN_PROGRESS)e.__IN_PROGRESS[t]===this&&delete e.__IN_PROGRESS[t];this.__QUEUE=void 0}});qx.util.DynamicScriptLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.fsm.FiniteStateMachine":{},"qx.core.Object":{},"qx.lang.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Fsm",{extend:qx.dev.unit.TestCase,members:{testAddRemoveObject:function(){var e,t,i,n,s,r;n=new qx.util.fsm.FiniteStateMachine("testMachine");s=new qx.core.Object;e=qx.lang.Json.stringify(n._getInternalData(),null,2);n.addObject("obj",s);t=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj");i=qx.lang.Json.stringify(n._getInternalData(),null,2);this.assertEquals(e,i,"simple add/remove ("+t+")");n=new qx.util.fsm.FiniteStateMachine("testMachine");s=new qx.core.Object;e=qx.lang.Json.stringify(n._getInternalData(),null,2);n.addObject("obj",s,"group1");t=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj");i=qx.lang.Json.stringify(n._getInternalData(),null,2);this.assertEquals(e,i,"single group ("+t+")");n=new qx.util.fsm.FiniteStateMachine("testMachine");s=new qx.core.Object;e=qx.lang.Json.stringify(n._getInternalData(),null,2);n.addObject("obj",s,["group1","group2"]);t=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj");i=qx.lang.Json.stringify(n._getInternalData(),null,2);this.assertEquals(e,i,"single group ("+t+")");n=new qx.util.fsm.FiniteStateMachine("testMachine");s=new qx.core.Object;r=new qx.core.Object;e=qx.lang.Json.stringify(n._getInternalData(),null,2);n.addObject("obj",s,"group1");n.addObject("obj2",r,"group1");t=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj2");n.removeObject("obj");i=qx.lang.Json.stringify(n._getInternalData(),null,2);this.assertEquals(e,i,"single group ("+t+")");n=new qx.util.fsm.FiniteStateMachine("testMachine");s=new qx.core.Object;r=new qx.core.Object;n.addObject("obj",s,"group1");e=qx.lang.Json.stringify(n._getInternalData(),null,2);n.addObject("obj2",r,"group1");t=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj2");i=qx.lang.Json.stringify(n._getInternalData(),null,2);n.removeObject("obj");this.assertEquals(e,i,"single group ("+t+")")}}});qx.test.util.Fsm.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.fsm.State":{},"qx.core.ObjectRegistry":{},"qx.event.Registration":{},"qx.event.type.Data":{},"qx.event.type.Event":{},"qx.event.Timer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.fsm.FiniteStateMachine",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);this.setName(e);this.__states={};this.__startState=null;this.__savedStates=[];this.__eventQueue=[];this.__blockedEvents=[];this.__friendlyToObject={};this.__friendlyToHash={};this.__hashToFriendly={};this.__groupToFriendly={};this.__friendlyToGroups={}},statics:{StateChange:{CURRENT_STATE:1,POP_STATE_STACK:2,TERMINATE:3},EventHandling:{PREDICATE:1,BLOCKED:2},DebugFlags:{EVENTS:1,TRANSITIONS:2,FUNCTION_DETAIL:4,OBJECT_NOT_FOUND:8}},events:{terminated:"qx.event.type.Data"},properties:{name:{check:"String",nullable:!0},state:{check:"String",nullable:!0},previousState:{check:"String",nullable:!0},nextState:{check:"String",nullable:!0},maxSavedStates:{check:"Number",init:2},debugFlags:{check:"Number",init:7}},members:{__states:null,__startState:null,__eventQueue:null,__blockedEvents:null,__savedStates:null,__friendlyToObject:null,__friendlyToHash:null,__hashToFriendly:null,__groupToFriendly:null,__friendlyToGroups:null,__bEventProcessingInProgress:!1,__bTerminated:!0,isTerminated:function(){return this.__bTerminated},addState:function(e){if(!e instanceof qx.util.fsm.State)throw new Error("Invalid state: not an instance of qx.util.fsm.State");var t=e.getName();if(t in this.__states)throw new Error("State "+t+" already exists");null==this.__startState&&(this.__startState=t);this.__states[t]=e},replaceState:function(e,t){if(!e instanceof qx.util.fsm.State)throw new Error("Invalid state: not an instance of qx.util.fsm.State");var i=e.getName(),n=this.__states[i];this.__states[i]=e;t&&(n._bNeedDispose=!0);return n},addObject:function(e,t,i){var n=qx.core.ObjectRegistry.toHashCode(t);this.__friendlyToHash[e]=n;this.__hashToFriendly[n]=e;this.__friendlyToObject[e]=t;if(i){"string"==typeof i&&(i=[i]);for(var s=0;s<i.length;s++){var r=i[s];this.__groupToFriendly[r]||(this.__groupToFriendly[r]={});this.__groupToFriendly[r][e]=!0;this.__friendlyToGroups[e]||(this.__friendlyToGroups[e]=[]);this.__friendlyToGroups[e].push(r)}}},removeObject:function(e){var t,i,n,s;t=this.__friendlyToHash[e];if(this.__friendlyToGroups[e]){for(var r=0;r<this.__friendlyToGroups[e].length;r++){i=this.__friendlyToGroups[e][r];delete this.__groupToFriendly[i][e];s=!0;for(n in this.__groupToFriendly[i]){s=!1;break}s&&delete this.__groupToFriendly[i]}delete this.__friendlyToGroups[e]}delete this.__hashToFriendly[t];delete this.__friendlyToHash[e];delete this.__friendlyToObject[e]},getObject:function(e){return this.__friendlyToObject[e]},getFriendlyName:function(e){var t=e?qx.core.ObjectRegistry.toHashCode(e):null;return t?this.__hashToFriendly[t]:null},getGroupObjects:function(e){var t=[];for(var i in this.__groupToFriendly[e])t.push(i);return t},displayAllObjects:function(){for(var e in this.__friendlyToHash){var t=this.__friendlyToHash[e],i=this.getObject(e);this.debug(e+" => "+t);this.debug("  "+t+" => "+this.__hashToFriendly[t]);this.debug("  "+e+" => "+this.getObject(e));this.debug("  "+this.getObject(e)+" => "+this.getFriendlyName(i))}},_getInternalData:function(){return{states:this.__states,startState:this.__startState,eventQueue:this.__eventQueue,blockedEvents:this.__blockedEvents,savedStates:this.__savedStates,friendlyToObject:this.__friendlyToObject,friendlyToHash:this.__friendlyToHash,hashToFriendly:this.__hashToFriendly,groupToFriendly:this.__groupToFriendly,friendlyToGroups:this.__friendlyToGroups}},start:function(){this.__bTerminated=!1;var e=this.__startState;if(null==e)throw new Error("Machine started with no available states");this.setState(e);this.setPreviousState(null);this.setNextState(null);var t=this.getDebugFlags()&qx.util.fsm.FiniteStateMachine.DebugFlags.FUNCTION_DETAIL;t&&this.debug(this.getName()+"#"+e+"#actionsBeforeOnentry");this.__states[e].getAutoActionsBeforeOnentry()(this);t&&this.debug(this.getName()+"#"+e+"#entry");this.__states[e].getOnentry()(this,null);t&&this.debug(this.getName()+"#"+e+"#actionsAfterOnentry");this.__states[e].getAutoActionsAfterOnentry()(this)},pushState:function(e){if(this.__savedStates.length>=this.getMaxSavedStates())throw new Error("Saved-state stack is full");!0===e?this.__savedStates.push(this.getState()):e?this.__savedStates.push(e):this.__savedStates.push(this.getPreviousState())},popState:function(){if(0==this.__savedStates.length)throw new Error("Saved-state stack is empty");return this.__savedStates.pop()},postponeEvent:function(e){this.__blockedEvents.unshift(e)},enqueueEvent:function(e,t){t?this.__eventQueue.push(e):this.__eventQueue.unshift(e);if(this.getDebugFlags()&qx.util.fsm.FiniteStateMachine.DebugFlags.EVENTS){var i=this.getFriendlyName(e.getTarget());t?this.debug(this.getName()+": Pushed event: "+e.getType()+(i?" on "+i:"")):this.debug(this.getName()+": Queued event: "+e.getType()+(i?" on "+i:""))}},eventListener:function(e){if(this.__bTerminated)this.debug(this.getName()+": Cannot listen to event '"+e.getType()+"', because the finite state machine is not running.");else{var t=e.clone();this.enqueueEvent(t,!1);this.__processEvents()}},fireImmediateEvent:function(e,t,i){if(this.__bTerminated)this.debug(this.getName()+": Cannot listen to event '"+e+"', because the finite state machine is not running.");else{if(i)var n=qx.event.Registration.createEvent(e,qx.event.type.Data,[i,null,!1]);else n=qx.event.Registration.createEvent(e,qx.event.type.Event,[!1,!1]);n.setTarget(t);this.eventListener(n)}},scheduleEvent:function(e,t,i,n){qx.event.Timer.once(function(){this.fireImmediateEvent(e,t,i)},this,n||20)},__processEvents:function(){if(!this.__bEventProcessingInProgress){this.__bEventProcessingInProgress=!0;for(;this.__eventQueue.length>0;){var e=this.__eventQueue.pop();this.__run(e)&&e.dispose()}this.__bEventProcessingInProgress=!1}},__run:function(e){var t,i,n,s,r,o,a,l=this.getDebugFlags(),u=l&qx.util.fsm.FiniteStateMachine.DebugFlags.EVENTS,c=l&qx.util.fsm.FiniteStateMachine.DebugFlags.TRANSITIONS,d=l&qx.util.fsm.FiniteStateMachine.DebugFlags.FUNCTION_DETAIL,h=l&qx.util.fsm.FiniteStateMachine.DebugFlags.OBJECT_NOT_FOUND,g=this.getFriendlyName(e.getTarget());u&&this.debug(this.getName()+": Process event: "+e.getType()+(g?" on "+g:""));t=this.getState();r=(s=this.__states[t]).transitions;if(!(o=s.getEvents()[e.getType()])){u&&this.debug(this.getName()+": Event '"+e.getType()+"' not handled.  Ignoring.");return!0}if("object"==_typeof(o)){if(!g){h&&this.debug(this.getName()+": Could not find friendly name for '"+e.getType()+"' on '"+e.getTarget()+"'");return!0}if(!(a=o[g])){u&&this.debug(this.getName()+": Event '"+e.getType()+"' not handled for target "+g+".  Ignoring.");return!0}}else a=o;switch(a){case qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE:break;case qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED:u&&this.debug(this.getName()+": Event '"+e.getType()+"' blocked.  Re-queuing.");this.__blockedEvents.unshift(e);return!1;default:if("string"==typeof a){if(!r[a])throw new Error("Explicit transition "+a+" does not exist");var m=r[a];(r={})[a]=m;break}}for(var f in r){switch((m=r[f]).getPredicate()(this,e)){case!0:break;case!1:continue;case null:return!0;default:throw new Error("Transition "+t+":"+f+" returned a value other than true, false, or null.")}if("string"==typeof(i=m.getNextState())){if(!i in this.__states)throw new Error("Attempt to transition to nonexistent state "+i);this.setNextState(i)}else switch(i){case qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE:i=t;this.setNextState(i);break;case qx.util.fsm.FiniteStateMachine.StateChange.POP_STATE_STACK:if(0==this.__savedStates.length)throw new Error("Attempt to transition to POP_STATE_STACK while state stack is empty.");i=this.__savedStates.pop();this.setNextState(i);break;case qx.util.fsm.FiniteStateMachine.StateChange.TERMINATE:this.__bTerminated=!0;this.setNextState(null);break;default:throw new Error("Internal error: invalid nextState")}d&&this.debug(this.getName()+"#"+t+"#"+f+"#autoActionsBeforeOntransition");m.getAutoActionsBeforeOntransition()(this);d&&this.debug(this.getName()+"#"+t+"#"+f+"#ontransition");m.getOntransition()(this,e);d&&this.debug(this.getName()+"#"+t+"#"+f+"#autoActionsAfterOntransition");m.getAutoActionsAfterOntransition()(this);d&&this.debug(this.getName()+"#"+t+"#autoActionsBeforeOnexit");s.getAutoActionsBeforeOnexit()(this);d&&this.debug(this.getName()+"#"+t+"#exit");s.getOnexit()(this,e);d&&this.debug(this.getName()+"#"+t+"#autoActionsAfterOnexit");s.getAutoActionsAfterOnexit()(this);s._bNeedDispose&&s.dispose();if(this.__bTerminated){d&&this.debug(this.getName()+"#TERMINATED");this.fireDataEvent("terminated",t);return!0}s=this.__states[this.getNextState()];this.setPreviousState(t);this.setState(this.getNextState());this.setNextState(null);n=t;t=i;i=void 0;d&&this.debug(this.getName()+"#"+t+"#autoActionsBeforeOnentry");s.getAutoActionsBeforeOnentry()(this);d&&this.debug(this.getName()+"#"+t+"#entry");s.getOnentry()(this,e);d&&this.debug(this.getName()+"#"+t+"#autoActionsAfterOnentry");s.getAutoActionsAfterOnentry()(this);for(var p=0;p<this.__blockedEvents.length;p++){o=this.__blockedEvents.pop();this.__eventQueue.unshift(o)}c&&this.debug(this.getName()+"#"+n+" => "+this.getName()+"#"+t);return!0}c&&this.debug(this.getName()+"#"+t+": event '"+e.getType()+"': no transition found.  No state change.");return!0}},destruct:function(){this._disposeArray("__eventQueue");this._disposeArray("__blockedEvents");this.__savedStates=this.__states=null}});qx.util.fsm.FiniteStateMachine.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.lang.Function":{},"qx.util.fsm.FiniteStateMachine":{},"qx.util.fsm.Transition":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.fsm.State",{extend:qx.core.Object,construct:function(e,t){var i;qx.core.Object.constructor.call(this);this.setName(e);if("object"!=_typeof(t))throw new Error("State info must be an object");i=t.context||window;this.setUserData("context",i);for(var n in t)switch(n){case"onentry":this.setOnentry(this.__bindIfFunction(t[n],i));break;case"onexit":this.setOnexit(this.__bindIfFunction(t[n],i));break;case"autoActionsBeforeOnentry":this.setAutoActionsBeforeOnentry(t[n]);break;case"autoActionsAfterOnentry":this.setAutoActionsAfterOnentry(t[n]);break;case"autoActionsBeforeOnexit":this.setAutoActionsBeforeOnexit(t[n]);break;case"autoActionsAfterOnexit":this.setAutoActionsAfterOnexit(t[n]);break;case"events":this.setEvents(t[n]);break;case"context":break;default:this.setUserData(n,t[n]);this.debug("State "+e+": Adding user-provided field to state: "+n)}if(!this.getEvents())throw new Error("The events object must be provided in new state info");this.transitions={}},statics:{_commonTransformAutoActions:function(e,t,i){if("object"!=_typeof(t))throw new Error("Invalid "+e+" value: "+_typeof(t));var n,s,r="try{";for(var o in t){var a=t[o];if(!a instanceof Array)throw new Error("Invalid function request type: expected array, found "+_typeof(a));for(var l=0;l<a.length;l++){s=a[l];if("object"!=_typeof(s))throw new Error("Invalid function request parameter type: expected object, found "+_typeof(a[void 0]));var u=s.parameters;if(u){if(!u instanceof Array)throw new Error("Invalid function parameters: expected array, found "+_typeof(u))}else u=[];n=o+"(";for(var c=0;c<u.length;c++){0!=c&&(n+=",");"function"==typeof u[c]?n+="("+u[c]+")(fsm)":"string"==typeof u[c]?n+='"'+u[c]+'"':n+=u[c]}n+=")";var d=s.objects;if(d){if(!d instanceof Array)throw new Error("Invalid 'objects' list: expected array, got "+_typeof(d))}else d=[];for(c=0;c<d.length;c++){if("string"!=typeof d[c])throw new Error("Invalid friendly name in 'objects' list: "+d[c]);r+=" fsm.getObject('"+d[c]+"')."+n+";"}var h=s.groups;if(h){if(!h instanceof Array)throw new Error("Invalid 'groups' list: expected array, got "+_typeof(h));for(c=0;c<h.length;c++)r+="  var groupObjects =     fsm.getGroupObjects('"+h[c]+"');  for (var i = 0; i < groupObjects.length; i++)  {    var objName = groupObjects[i];    fsm.getObject(objName)."+n+";  }"}}}r+="}catch(ex){  fsm.debug(ex);}";return qx.lang.Function.bind(new Function("fsm",r),i)}},properties:{name:{transform:"__transformName",nullable:!0},onentry:{transform:"__transformOnentry",nullable:!0,init:function(e,t){}},onexit:{transform:"__transformOnexit",nullable:!0,init:function(e,t){}},autoActionsBeforeOnentry:{transform:"__transformAutoActionsBeforeOnentry",nullable:!0,init:function(e,t){}},autoActionsAfterOnentry:{transform:"__transformAutoActionsAfterOnentry",nullable:!0,init:function(e,t){}},autoActionsBeforeOnexit:{transform:"__transformAutoActionsBeforeOnexit",nullable:!0,init:function(e,t){}},autoActionsAfterOnexit:{transform:"__transformAutoActionsAfterOnexit",nullable:!0,init:function(e,t){}},events:{transform:"__transformEvents",nullable:!0}},members:{__transformName:function(e){if("string"!=typeof e||e.length<1)throw new Error("Invalid state name");return e},__transformOnentry:function(e){switch(_typeof(e)){case"undefined":return function(e,t){};case"function":return qx.lang.Function.bind(e,this.getUserData("context"));default:throw new Error("Invalid onentry type: "+_typeof(e))}},__transformOnexit:function(e){switch(_typeof(e)){case"undefined":return function(e,t){};case"function":return qx.lang.Function.bind(e,this.getUserData("context"));default:throw new Error("Invalid onexit type: "+_typeof(e))}},__transformEvents:function(e){if("object"!=_typeof(e))throw new Error("events must be an object");for(var t in e){var i=e[t];if("number"==typeof i&&i!=qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE&&i!=qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED)throw new Error("Invalid numeric value in events object: "+t+": "+i);if("object"==_typeof(i))for(var n in i){if("number"==typeof i[n]&&i[n]!=qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE&&i[n]!=qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED)throw new Error("Invalid numeric value in events object ("+t+"): "+n+": "+i[n]);if("string"!=typeof i[n]&&"number"!=typeof i[n])throw new Error("Invalid value in events object ("+t+"): "+n+": "+i[n])}else if("string"!=typeof i&&"number"!=typeof i)throw new Error("Invalid value in events object: "+t+": "+e[t])}return e},__transformAutoActionsBeforeOnentry:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOnentry",e,this.getUserData("context"))},__transformAutoActionsAfterOnentry:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOnentry",e,this.getUserData("context"))},__transformAutoActionsBeforeOnexit:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOnexit",e,this.getUserData("context"))},__transformAutoActionsAfterOnexit:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOnexit",e,this.getUserData("context"))},__bindIfFunction:function(e,t){"function"==typeof e&&(e=qx.lang.Function.bind(e,t));return e},addTransition:function(e){if(!e instanceof qx.util.fsm.Transition)throw new Error("Invalid transition: not an instance of qx.util.fsm.Transition");this.transitions[e.getName()]=e}}});qx.util.fsm.State.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.util.fsm.FiniteStateMachine":{require:!0},"qx.lang.Function":{},"qx.util.fsm.State":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.fsm.Transition",{extend:qx.core.Object,construct:function(e,t){var i;qx.core.Object.constructor.call(this);this.setName(e);i=t.context||window;this.setUserData("context",i);for(var n in t)switch(n){case"predicate":this.setPredicate(this.__bindIfFunction(t[n],i));break;case"nextState":this.setNextState(t[n]);break;case"autoActionsBeforeOntransition":this.setAutoActionsBeforeOntransition(this.__bindIfFunction(t[n],i));break;case"autoActionsAfterOntransition":this.setAutoActionsAfterOntransition(this.__bindIfFunction(t[n],i));break;case"ontransition":this.setOntransition(this.__bindIfFunction(t[n],i));break;case"context":break;default:this.setUserData(n,t[n]);this.debug("Transition "+e+": Adding user-provided field to transition: "+n)}},properties:{name:{check:"String",nullable:!0},predicate:{init:function(e,t){return!0},transform:"__transformPredicate"},nextState:{init:qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE,transform:"__transformNextState"},autoActionsBeforeOntransition:{init:function(e,t){},transform:"__transformAutoActionsBeforeOntransition"},autoActionsAfterOntransition:{init:function(e,t){},transform:"__transformAutoActionsAfterOntransition"},ontransition:{init:function(e,t){},transform:"__transformOntransition"}},members:{__transformPredicate:function(e){switch(_typeof(e)){case"undefined":return function(e,t){return!0};case"boolean":return function(t,i){return e};case"function":return qx.lang.Function.bind(e,this.getUserData("context"));default:throw new Error("Invalid transition predicate type: "+_typeof(e))}},__transformNextState:function(e){switch(_typeof(e)){case"string":return e;case"number":switch(e){case qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE:case qx.util.fsm.FiniteStateMachine.StateChange.POP_STATE_STACK:case qx.util.fsm.FiniteStateMachine.StateChange.TERMINATE:return e;default:throw new Error("Invalid transition nextState value: "+e+": nextState must be an explicit state name, or one of the Fsm.StateChange constants")}break;default:throw new Error("Invalid transition nextState type: "+_typeof(e))}},__transformAutoActionsBeforeOntransition:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOntransition",e,this.getUserData("context"))},__transformAutoActionsAfterOntransition:function(e){return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOntransition",e,this.getUserData("context"))},__transformOntransition:function(e){switch(_typeof(e)){case"undefined":return function(e,t){};case"function":return qx.lang.Function.bind(e,this.getUserData("context"));default:throw new Error("Invalid ontransition type: "+_typeof(e))}},__bindIfFunction:function(e,t){"function"==typeof e&&(e=qx.lang.Function.bind(e,t));return e}}});qx.util.fsm.Transition.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.dev.unit.MMock":{require:!0},"qx.util.Function":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Function",{extend:qx.dev.unit.TestCase,include:qx.dev.unit.MMock,members:{testDebounce:function(){var e=this.stub(),t=qx.util.Function.debounce(e,10);t(!0);this.assertNotCalled(e);t(!1);this.wait(50,function(){this.assertCalledOnce(e);this.assertCalledWith(e,!1)},this)},testImmediateDebounce:function(){var e=this.stub(),t=qx.util.Function.debounce(e,10,!0);t(!0);this.assertCalled(e);this.assertCalledWith(e,!0);t(!1);t(!0);t(!1);this.wait(50,function(){this.assertCalledTwice(e);this.assertCalledWith(e,!1)},this)}}});qx.test.util.Function.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{construct:!0,require:!0},"qx.util.LibraryManager":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.LibraryManager",{extend:qx.dev.unit.TestCase,construct:function(){qx.dev.unit.TestCase.constructor.call(this);this.__mgr=qx.util.LibraryManager.getInstance();this.libKeys=["sourceUri","resourceUri"];this.__qxBackup={};for(var e in qx.$$libraries.qx)qx.$$libraries.qx.hasOwnProperty(e)&&(this.__qxBackup[e]=qx.$$libraries.qx[e])},members:{__mgr:null,__qxBackup:null,libKeys:null,testHas:function(){this.assert(this.__mgr.has("qx"));this.assertFalse(this.__mgr.has("foo"))},testGet:function(){for(var e=0,t=this.libKeys.length;e<t;e++){var i=this.libKeys[e];this.assertEquals(qx.$$libraries.qx[i],this.__mgr.get("qx",i))}},testSet:function(){for(var e=0,t=this.libKeys.length;e<t;e++){var i=this.libKeys[e];this.__mgr.set("qx",i,"foo");this.assertEquals("foo",qx.$$libraries.qx[i])}},tearDownTestSet:function(){for(var e in this.__qxBackup)qx.$$libraries.qx[e]=this.__qxBackup[e]}}});qx.test.util.LibraryManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.format.NumberFormat":{},"qx.locale.Manager":{},"qx.ui.form.Spinner":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.NumberFormat",{extend:qx.dev.unit.TestCase,members:{__nf:null,__oldLocale:null,setUp:function(){this.assertNotUndefined(qx.util.format.NumberFormat);this.__oldLocale=qx.locale.Manager.getInstance().getLocale();qx.locale.Manager.getInstance().setLocale("de_DE");this.__nf=new qx.util.format.NumberFormat},tearDown:function(){this.__nf.dispose();qx.locale.Manager.getInstance().setLocale(this.__oldLocale)},testNumberFormatConstructor:function(){var e,t,i,n=[null,void 0,NaN,1/0,1,{},[],!0],s=["de_DE"];try{e=new qx.util.format.NumberFormat}catch(e){this.fail("Failed on an empty arguments list")}try{e.dispose()}catch(e){}try{e=new qx.util.format.NumberFormat("de_DE",!0);this.fail("Did not fail on wrong arguments number")}catch(e){}try{e.dispose()}catch(e){}for(t=0,i=n.length;t<i;t+=1){try{e=new qx.util.format.NumberFormat(n[t]);this.fail("A wrong argument did not raise an error: "+n[t])}catch(e){}try{e.dispose()}catch(e){}}for(t=0,i=s.length;t<i;t+=1){try{e=new qx.util.format.NumberFormat(s[t])}catch(e){this.fail("A correct argument did raise an error: "+s[t])}try{e.dispose()}catch(e){}}},testNumberFormat:function(){var e=this.__nf;this.assertEquals("1.000.000",e.format(1e6));this.assertEquals("-1.000.000",e.format(-1e6));this.assertEquals("-1.000.000",e.format(-1e6));this.assertEquals("0",e.format(0));this.assertEquals("0",e.format(-0));this.assertEquals("12,12",e.format(12.12));this.assertEquals("-Infinity",e.format(-1/0));this.assertEquals("Infinity",e.format(1/0));var t=Math.sqrt(-1);this.assertEquals("NaN",e.format(t))},testNumberParse:function(){var e=this.__nf,t={1000:1e3,"-0,02":-.02,"0,02":.02,",02":.02,"-,02":-.02,"+,02":.02,"-1.111.111,2":-1111111.2,"-1.000.000":-1e6,"+1.000,12":1000.12};for(var i in t)this.assertEquals(e.parse(i),t[i]);for(var n,s=["2hastalavista","2.3.4.5.6","12.10,10","10,1,12"],r=0;r<s.length;r++){n=s[r];this.assertException(function(){e.format(e.parse(n))},Error,"does not match the number format","testing if parsing fails on string '"+n+"'")}},testLocaleSwitch:function(){var e=this.__nf;e.setMinimumFractionDigits(0);e.setMaximumFractionDigits(2);this.assertException(function(){e.parse("0.5")},Error,"does not match the number format","testing if parsing fails on string '0.5'");qx.locale.Manager.getInstance().setLocale("en_US");this.assertEquals(.5,e.parse("0.5"),"parsing failed after locale change")},testNumberFormatChange:function(){var e=this.__nf;e.setPostfix(" %");this.assertException(function(){e.parse("5 Percent")},Error,"does not match the number format","testing if parsing fails on string '5 Percent'");e.setPostfix(" Percent");this.assertEquals(5,e.parse("5 Percent"),"parsing failed after number format change")},testParseWithPrefixOrPostfix:function(){var e=new qx.ui.form.Spinner,t=new qx.util.format.NumberFormat("de").set({maximumFractionDigits:2,minimumFractionDigits:2,prefix:"$ ",postfix:" €"});e.setNumberFormat(t);e.getChildControl("textfield").setValue("$ 1,23 €");this.assertEquals("$ 1,23 €",e.getChildControl("textfield").getValue());e.destroy();t.dispose()}}});qx.test.util.NumberFormat.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.test.ui.LayoutTestCase":{require:!0},"qx.ui.form.Button":{},"qx.util.PropertyUtil":{},"qx.core.Object":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.PropertyUtil",{extend:qx.test.ui.LayoutTestCase,members:{setUp:function(){this.button=new qx.ui.form.Button;this.getRoot().add(this.button);this.flush()},tearDown:function(){qx.test.util.PropertyUtil.prototype.tearDown.base.call(this);this.button.destroy()},testGetUserValue:function(){var e=qx.util.PropertyUtil;this.assertUndefined(e.getUserValue(this.button,"label"));this.button.setLabel("juhu");this.assertEquals("juhu",e.getUserValue(this.button,"label"));this.assertUndefined(e.getUserValue(this.button,"center"))},testGetThemeValue:function(){var e=qx.util.PropertyUtil;this.assertUndefined(e.getThemeValue(this.button,"content"));this.assertEquals(!0,e.getThemeValue(this.button,"center"))},testGetInitValue:function(){var e=qx.util.PropertyUtil;this.assertUndefined(e.getInitValue(this.button,"content"));this.assertEquals(!1,e.getInitValue(this.button,"rich"))},testSetThemed:function(){var e=qx.util.PropertyUtil;this.assertNull(this.button.getIcon());e.setThemed(this.button,"icon","right.png");this.assertEquals("right.png",this.button.getIcon());this.assertEquals("right.png",e.getThemeValue(this.button,"icon"));e.resetThemed(this.button,"icon");this.assertNull(this.button.getIcon());this.assertUndefined(e.getThemeValue(this.button,"icon"))},testGetProperties:function(){qx.Class.define("qx.test.propA",{extend:qx.core.Object,properties:{a:{}}});qx.Class.define("qx.test.propB",{extend:qx.test.propA,properties:{b:{}}});this.assertKeyInMap("a",qx.util.PropertyUtil.getProperties(qx.test.propA));this.assertKeyInMap("b",qx.util.PropertyUtil.getProperties(qx.test.propB));this.assertKeyInMap("a",qx.util.PropertyUtil.getAllProperties(qx.test.propB));this.assertKeyInMap("b",qx.util.PropertyUtil.getAllProperties(qx.test.propB));delete qx.test.propB;delete qx.test.propA}}});qx.test.util.PropertyUtil.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.Request":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Request",{extend:qx.dev.unit.TestCase,members:{"test: isCrossDomain() returns true with cross-domain URL":function(){var e=window.location,t=(e.protocol,e.host,qx.util.Request.isCrossDomain);this.assertTrue(t("http://cross.domain"),"cross");this.assertTrue(t(e.protocol+"//"+e.hostname+":123456"),"port");this.assertTrue(t("foobar://"+e.host),"protocol")},"test: isCrossDomain() returns false with same-origin URL":function(){var e=window.location,t=e.protocol+"//"+e.host,i=qx.util.Request.isCrossDomain;this.assertFalse(i(t));this.assertFalse(i("data.json"),"simple url");this.assertFalse(i("/data.json"),"absolute url");this.assertFalse(i("../data.json"),"relative url");this.assertFalse(i("../foo-bar/meep.in/data.json"),"strange url")},"test: isSuccessful() returns true with successful HTTP status":function(){var e=qx.util.Request.isSuccessful;this.assertTrue(e(200));this.assertTrue(e(304));this.assertFalse(e(404));this.assertFalse(e(500))},"test: isMethod() returns true if HTTP method is known":function(){var e=qx.util.Request.isMethod;this.assertTrue(e("GET"));this.assertTrue(e("POST"));this.assertFalse(e(1));this.assertFalse(e(null));this.assertFalse(e(void 0));this.assertFalse(e([]));this.assertFalse(e({}))},"test: methodAllowsRequestBody() returns false when GET":function(){this.assertFalse(qx.util.Request.methodAllowsRequestBody("GET"))},"test: methodAllowsRequestBody() returns true when POST":function(){this.assertTrue(qx.util.Request.methodAllowsRequestBody("POST"))}}});qx.test.util.Request.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.ResourceManager":{},"qx.bom.client.Engine":{},"qx.bom.client.Transport":{}},environment:{provided:[],required:{"engine.name":{className:"qx.bom.client.Engine"},"io.ssl":{className:"qx.bom.client.Transport"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.ResourceManager",{extend:qx.dev.unit.TestCase,members:{testHasResource:function(){var e=qx.util.ResourceManager.getInstance();this.assertTrue(e.has("qx/static/blank.gif"))},testGetData:function(){var e=qx.util.ResourceManager.getInstance();this.assertArrayEquals(e.getData("qx/static/blank.gif"),[1,1,"gif","qx"],"Resource data not identical")},testGetImageWidth:function(){var e=qx.util.ResourceManager.getInstance();this.assertEquals(e.getImageWidth("qx/static/blank.gif"),1)},testGetImageHeight:function(){var e=qx.util.ResourceManager.getInstance();this.assertEquals(e.getImageWidth("qx/static/blank.gif"),1)},testGetImageFormat:function(){var e=qx.util.ResourceManager.getInstance();this.assertEquals(e.getImageFormat("qx/static/blank.gif"),"gif");this.assertEquals(e.getImageFormat("@FontAwesome/heart"),"font")},testIsFontUri:function(){var e=qx.util.ResourceManager.getInstance();this.assertTrue(e.isFontUri("@FontAwesome/heart"));this.assertFalse(e.isFontUri("qx/static/blank.gif"));this.assertFalse(e.isFontUri(void 0))},testIsClippedImage:function(){var e=qx.util.ResourceManager.getInstance();this.assertFalse(""!=e.getCombinedFormat("qx/static/blank.gif"))},testToUri:function(){var e=qx.util.ResourceManager.getInstance(),t=qx.$$libraries.qx.resourceUri+"/qx/static/blank.gif";if("mshtml"==qx.core.Environment.get("engine.name")&&qx.core.Environment.get("io.ssl")){var i=window.location.href;t=i.substring(0,i.lastIndexOf("/")+1)+t}this.assertEquals(t,e.toUri("qx/static/blank.gif"))}}});qx.test.util.ResourceManager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.ResponseParser":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.ResponseParser",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.responseParser=new qx.util.ResponseParser},tearDown:function(){this.responseParser=null},__assertParser:function(e,t){var i="Content type '"+e+"' handled incorrectly";this.assertEquals(t,this.responseParser._getParser(e),i)},"test: getParser() returns undefined for unknown":function(){this.__assertParser("text/html",void 0);this.__assertParser("application/pdf",void 0)},"test: getParser() returns undefined for malformed":function(){this.__assertParser("",void 0);this.__assertParser("json",void 0);this.__assertParser("text/foo+json",void 0);this.__assertParser("application/foo+jsonish",void 0);this.__assertParser("application/foo+xmlish",void 0)},"test: getParser() detects json":function(){var e=qx.util.ResponseParser.PARSER.json;this.__assertParser("application/json",e);this.__assertParser("application/vnd.affe+json",e);this.__assertParser("application/prs.affe+json",e);this.__assertParser("application/vnd.oneandone.onlineoffice.email+json",e)},"test: getParser() detects xml":function(){var e=qx.util.ResponseParser.PARSER.xml;this.__assertParser("application/xml",e);this.__assertParser("application/vnd.oneandone.domains.domain+xml",e);this.__assertParser("text/xml")},"test: getParser() detects deprecated xml":function(){qx.util.ResponseParser.PARSER.xml;this.__assertParser("text/xml")},"test: getParser() handles character set":function(){var e=qx.util.ResponseParser.PARSER.json;this.__assertParser("application/json; charset=utf-8",e)},"test: setParser() function":function(){var e=function(){};this.responseParser.setParser(e);this.assertEquals(e,this.responseParser._getParser())},"test: setParser() symbolically":function(){this.responseParser.setParser("json");this.assertFunction(this.responseParser._getParser())},"test: parse() not parse empty response":function(){var e=this.responseParser.parse("","application/json");this.assertEquals("",e)},"test: parse() not parse unknown response":function(){this.assertNull(this.responseParser._getParser("application/idontexist"))},"test: parse() json response":function(){var e='{"animals": ["monkey", "mouse"]}',t=qx.util.ResponseParser.PARSER.json.call(this,e),i=this.responseParser.parse(e,"application/json");this.assertEquals(t.animals[0],i.animals[0])},"test: parse() xml response":function(){var e="<animals><monkey/><mouse/></animals>",t=qx.util.ResponseParser.PARSER.xml.call(this,e),i=this.responseParser.parse(e,"application/xml");this.assertEquals(t.documentElement.nodeName,i.documentElement.nodeName)},"test: parse() arbitrary xml response":function(){var e="<animals><monkey/><mouse/></animals>",t=qx.util.ResponseParser.PARSER.xml.call(this,e),i=this.responseParser.parse(e,"animal/affe+xml");this.assertEquals(t.documentElement.nodeName,i.documentElement.nodeName)}}});qx.test.util.ResponseParser.$$dbClassInfo=e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.RingBuffer":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.RingBuffer",{extend:qx.dev.unit.TestCase,members:{testAdd:function(){var e=new qx.util.RingBuffer(3);e.addEntry(1);this.assertEquals(1,e.getAllEntries().length);e.addEntry(2);this.assertEquals(2,e.getAllEntries().length);e.addEntry(3);this.assertEquals(3,e.getAllEntries().length);e.addEntry(4);var t=e.getAllEntries();this.assertEquals(3,t.length);this.assertEquals(t[0],2);this.assertEquals(t[1],3);this.assertEquals(t[2],4)},testAddMany:function(){for(var e=new qx.util.RingBuffer(3),t=0;t<=1003;t++)e.addEntry(t);var i=e.getAllEntries();this.assertEquals(3,i.length);this.assertEquals(i[0],1001);this.assertEquals(i[1],1002);this.assertEquals(i[2],1003)},testGet:function(){var e=new qx.util.RingBuffer(7);e.addEntry(1);e.addEntry(2);e.addEntry(3);e.addEntry(5);e.addEntry(6);e.addEntry(7);e.addEntry(8);e.addEntry(9);e.addEntry(10);var t=e.getEntries(4);this.assertEquals(4,t.length);this.assertEquals(t[0],7);this.assertEquals(t[1],8);this.assertEquals(t[2],9);this.assertEquals(t[3],10)},testMark:function(){var e=new qx.util.RingBuffer(3);e.addEntry(1);e.addEntry(2);e.mark();e.addEntry(3);e.addEntry(4);var t=e.getEntries(9999,!0);this.assertEquals(2,t.length);this.assertEquals(t[0],3);this.assertEquals(t[1],4)},testClear:function(){var e=new qx.util.RingBuffer(3);e.addEntry(1);e.addEntry(2);e.addEntry(3);e.addEntry(4);this.assertEquals(3,e.getAllEntries().length);e.clear();this.assertEquals(0,e.getAllEntries().length)},testDataTypes:function(){var e=new qx.util.RingBuffer(6);e.addEntry(1);e.addEntry(2);e.addEntry(3);e.addEntry(null);e.addEntry(e);e.addEntry("Some string");e.addEntry({some:"map"});e.addEntry(["Some array"]);e.addEntry(function(){});var t=e.getAllEntries();this.assertEquals(6,t.length);this.assertEquals(t[0],null);this.assertEquals(t[1],e);this.assertEquals(t[2],"Some string");this.assertEquals(t[3].some,"map");this.assertEquals(t[4][0],"Some array");this.assertEquals(_typeof(t[5]),"function")}}});qx.test.util.RingBuffer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.Serializer":{construct:!0},"qx.core.Object":{},"qx.ui.form.ListItem":{},"qx.data.Array":{},"qx.ui.core.Widget":{},"qx.data.IListData":{},"qx.data.MBinding":{},"qx.data.marshal.Json":{},"qx.lang.Json":{},"qx.util.format.DateFormat":{},"qx.locale.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Serializer",{extend:qx.dev.unit.TestCase,construct:function(){this.__s=qx.util.Serializer;qx.Class.define("qx.test.SerializerModel",{extend:qx.core.Object,properties:{data1:{nullable:!0},data2:{nullable:!0},data3:{nullable:!0}}})},members:{__model:null,__s:null,setUp:function(){this.__model=new qx.test.SerializerModel},tearDown:function(){this.__model.dispose()},testUrlString:function(){this.__model.setData1("a");this.__model.setData2("b");this.__model.setData3("c");this.assertEquals("data1=a&data2=b&data3=c",this.__s.toUriParameter(this.__model));this.__model.setData1("A");this.__model.setData2("B");this.__model.setData3("C");this.assertEquals("data1=A&data2=B&data3=C",this.__s.toUriParameter(this.__model));this.__model.setData1("1");this.__model.setData2("11");this.__model.setData3("111");this.assertEquals("data1=1&data2=11&data3=111",this.__s.toUriParameter(this.__model))},testUrlStringEncoded:function(){this.__model.setData1("ä");this.__model.setData2("ö");this.__model.setData3("ü");this.assertEquals("data1=%C3%A4&data2=%C3%B6&data3=%C3%BC",this.__s.toUriParameter(this.__model));this.__model.setData1("–");this.__model.setData2(" ");this.__model.setData3("ß");this.assertEquals("data1=%E2%80%93&data2=%20&data3=%C3%9F",this.__s.toUriParameter(this.__model))},testUrlBoolean:function(){this.__model.setData1(!0);this.__model.setData2(!1);this.__model.setData3(null);this.assertEquals("data1=true&data2=false&data3=null",this.__s.toUriParameter(this.__model))},testUrlNumber:function(){this.__model.setData1(10);this.__model.setData2(-15.3443);this.__model.setData3(Number.NaN);this.assertEquals("data1=10&data2=-15.3443&data3=NaN",this.__s.toUriParameter(this.__model))},testUrlKeyEncoded:function(){qx.Class.define("qx.test.SerializerModelEnc",{extend:qx.core.Object,properties:{"äüö":{init:"ÄÜÖ"}}});var e=new qx.test.SerializerModelEnc;this.assertEquals("%C3%A4%C3%BC%C3%B6=%C3%84%C3%9C%C3%96",this.__s.toUriParameter(e));e.dispose()},testUrlQxSerializer:function(){var e=new qx.ui.form.ListItem("a");this.__model.setData1(e);this.__model.setData2("b");this.__model.setData3("c");this.assertEquals("data1=a&data2=b&data3=c",this.__s.toUriParameter(this.__model,function(e){return e.getLabel()}));e.dispose()},testUrlDataArray:function(){var e=new qx.data.Array(["a"]),t=new qx.data.Array(["a","b"]),i=new qx.data.Array(["a","b","c"]);this.__model.setData1(e);this.__model.setData2(t);this.__model.setData3(i);this.assertEquals("data1=a&data2=a&data2=b&data3=a&data3=b&data3=c",this.__s.toUriParameter(this.__model));e.dispose();t.dispose();i.dispose()},testUrlDataArrayNative:function(){this.__model.setData1(["a"]);this.__model.setData2(["a","b"]);this.__model.setData3(["a","b","c"]);this.assertEquals("data1=a&data2=a&data2=b&data3=a&data3=b&data3=c",this.__s.toUriParameter(this.__model))},testUrlInherited:function(){var e=new qx.ui.core.Widget,t=this.__s.toUriParameter(e);this.assertTrue(-1!=t.indexOf("appearance"));this.assertTrue(-1!=t.indexOf("alignY"));e.dispose()},testUrlQxClass:function(){this.__model.setData1(qx.core.Object);this.__model.setData2(qx.data.IListData);this.__model.setData3(qx.data.MBinding);this.assertEquals("data1=qx.core.Object&data2=qx.data.IListData&data3=qx.data.MBinding",this.__s.toUriParameter(this.__model))},testJsonFlat:function(){this.__model.setData1("a");this.__model.setData2(10.456);this.__model.setData3(!0);this.assertEquals('{"data1":"a","data2":10.456,"data3":true}',this.__s.toJson(this.__model))},testJsonExp:function(){var e=new Date(1e3);this.__model.setData1(e);this.__model.setData2(/[0]/);this.__model.setData3(45e12);this.assertEquals('{"data1":"'+e+'","data2":"/[0]/","data3":45000000000000}',this.__s.toJson(this.__model))},testJsonDeep2:function(){var e=new qx.test.SerializerModel;e.setData1("a");e.setData2(11);e.setData3(!1);this.__model.setData1(e);this.__model.setData3(null);this.assertEquals('{"data1":{"data1":"a","data2":11,"data3":false},"data2":null,"data3":null}',this.__s.toJson(this.__model));e.dispose()},testJsonArray:function(){this.__model.setData1([12,1]);this.__model.setData2(["a","b"]);this.__model.setData3([!0,!1]);this.assertEquals('{"data1":[12,1],"data2":["a","b"],"data3":[true,false]}',this.__s.toJson(this.__model))},testJsonDataArray:function(){this.__model.setData1(new qx.data.Array([12,1]));this.__model.setData2(new qx.data.Array(["a","b"]));this.__model.setData3(new qx.data.Array([!0,!1]));this.assertEquals('{"data1":[12,1],"data2":["a","b"],"data3":[true,false]}',this.__s.toJson(this.__model));this.__model.getData1().dispose();this.__model.getData2().dispose();this.__model.getData3().dispose()},testJsonBig:function(){var e=new qx.ui.core.Widget;this.__s.toJson(e);e.dispose()},testJsonInherited:function(){var e=new qx.ui.core.Widget,t=this.__s.toJson(e);this.assertTrue(-1!=t.indexOf("appearance"));this.assertTrue(-1!=t.indexOf("alignY"));e.dispose()},testJsonEmpty:function(){this.__model.setData1(new qx.data.Array);this.__model.setData2([]);this.__model.setData3({});this.assertEquals('{"data1":[],"data2":[],"data3":{}}',this.__s.toJson(this.__model));this.__model.getData1().dispose()},testJsonEscape:function(){this.__model.setData1("''");this.__model.setData2('""');this.__model.setData3("\b\t\n\f\r\\");this.assertEquals('{"data1":"\'\'","data2":"\\"\\"","data3":"\\b\\t\\n\\f\\r\\\\"}',this.__s.toJson(this.__model))},testJsonQxSerializer:function(){var e=new qx.ui.form.ListItem("a");this.__model.setData1(e);this.__model.setData2(10.456);this.__model.setData3(!0);this.assertEquals('{"data1":"a","data2":10.456,"data3":true}',this.__s.toJson(this.__model,function(e){if(e instanceof qx.ui.form.ListItem)return e.getLabel()}));e.dispose()},testJsonWithMarshaler:function(){this.__model.setData1("a");this.__model.setData2(["b"]);this.__model.setData3("c");var e=this.__s.toJson(this.__model),t=qx.data.marshal.Json.createModel(qx.lang.Json.parse(e));this.assertEquals(this.__model.getData1(),t.getData1());this.assertEquals(this.__model.getData2()[0],t.getData2().getItem(0));this.assertEquals(this.__model.getData3(),t.getData3());t.dispose()},testJsonLateObjectSet:function(){var e=qx.data.marshal.Json.createModel({foo:"foo",bar:"bar",goo:{}});e.setGoo({mi:"moo",la:"lili"});this.assertEquals('{"foo":"foo","bar":"bar","goo":{"mi":"moo","la":"lili"}}',qx.util.Serializer.toJson(e));e.dispose()},testJsonQxClass:function(){this.__model.setData1(qx.core.Object);this.__model.setData2(qx.data.IListData);this.__model.setData3(qx.data.MBinding);this.assertEquals('{"data1":"qx.core.Object","data2":"qx.data.IListData","data3":"qx.data.MBinding"}',this.__s.toJson(this.__model))},testNativeObjectFlat:function(){this.__model.setData1("a");this.__model.setData2(10.456);this.__model.setData3(!0);this.assertJsonEquals({data1:"a",data2:10.456,data3:!0},this.__s.toNativeObject(this.__model))},testNativeObjectExp:function(){var e=new Date;this.__model.setData1(e);this.__model.setData2(/[0]/);this.__model.setData3(45e12);this.assertJsonEquals({data1:e,data2:/[0]/,data3:45e12},this.__s.toNativeObject(this.__model))},testNativeObjectDeep2:function(){var e=new qx.test.SerializerModel;e.setData1("a");e.setData2(11);e.setData3(!1);this.__model.setData1(e);this.__model.setData3(null);this.assertJsonEquals({data1:{data1:"a",data2:11,data3:!1},data2:null,data3:null},this.__s.toNativeObject(this.__model));e.dispose()},testNativeObjectArray:function(){this.__model.setData1([12,1]);this.__model.setData2(["a","b"]);this.__model.setData3([!0,!1]);this.assertJsonEquals({data1:[12,1],data2:["a","b"],data3:[!0,!1]},this.__s.toNativeObject(this.__model))},testNativeObjectDataArray:function(){this.__model.setData1(new qx.data.Array([12,1]));this.__model.setData2(new qx.data.Array(["a","b"]));this.__model.setData3(new qx.data.Array([!0,!1]));this.assertJsonEquals({data1:[12,1],data2:["a","b"],data3:[!0,!1]},this.__s.toNativeObject(this.__model));this.__model.getData1().dispose();this.__model.getData2().dispose();this.__model.getData3().dispose()},testNativeObjectBig:function(){var e=new qx.ui.core.Widget;this.__s.toNativeObject(e);e.dispose()},testNativeObjectEmpty:function(){this.__model.setData1(new qx.data.Array);this.__model.setData2([]);this.__model.setData3(new qx.core.Object);this.assertJsonEquals({data1:[],data2:[],data3:{}},this.__s.toNativeObject(this.__model));this.__model.getData1().dispose();this.__model.getData3().dispose()},testNativeObjectEscape:function(){this.__model.setData1("''");this.__model.setData2('""');this.__model.setData3("\b\t\n\f\r\\");this.assertJsonEquals({data1:"''",data2:'""',data3:"\b\t\n\f\r\\"},this.__s.toNativeObject(this.__model))},testNativeObjectQxSerializer:function(){var e=new qx.ui.form.ListItem("a");this.__model.setData1(e);this.__model.setData2(10.456);this.__model.setData3(!0);this.assertJsonEquals({data1:"a",data2:10.456,data3:!0},this.__s.toNativeObject(this.__model,function(e){if(e instanceof qx.ui.form.ListItem)return e.getLabel()}));e.dispose()},testNativeObjectQxClass:function(){this.__model.setData1(qx.core.Object);this.__model.setData2(qx.data.IListData);this.__model.setData3(qx.data.MBinding);this.assertJsonEquals({data1:"qx.core.Object",data2:"qx.data.IListData",data3:"qx.data.MBinding"},this.__s.toNativeObject(this.__model))},__setUpDateModel:function(){var e=new qx.util.format.DateFormat("yyyy-mm-dd","en"),t=new Date(0),i=new Date(1e5),n=new Date(25168418651);this.__model.setData1(t);this.__model.setData2(i);this.__model.setData3(n);return e},testDateFormaterNative:function(){var e=this.__setUpDateModel();this.assertJsonEquals({data1:"1970-00-01",data2:"1970-01-01",data3:"1970-13-19"},this.__s.toNativeObject(this.__model,null,e));e.dispose()},testDateFormaterJson:function(){var e=this.__setUpDateModel();this.assertEquals('{"data1":"1970-00-01","data2":"1970-01-01","data3":"1970-13-19"}',this.__s.toJson(this.__model,null,e));e.dispose()},testDateFormaterUrl:function(){var e=this.__setUpDateModel();this.assertEquals("data1=1970-00-01&data2=1970-01-01&data3=1970-13-19",this.__s.toUriParameter(this.__model,null,e));e.dispose()},testJsonLocalizedStrings:function(){this.assertEquals('"test affe"',qx.util.Serializer.toJson(qx.locale.Manager.tr("test affe")))},testNativeLocalizedStrings:function(){var e=qx.util.Serializer.toNativeObject(qx.locale.Manager.tr("test affe"));this.assertEquals("test affe",e);this.assertUndefined(e.translate)},testUrlLocalizedStrings:function(){this.__model.setData1(qx.locale.Manager.tr("test affe"));this.assertEquals("data1=test%20affe&data2=null&data3=null",qx.util.Serializer.toUriParameter(this.__model))}}});qx.test.util.Serializer.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.StringBuilder":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.StringBuilder",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.__sb=new qx.util.StringBuilder},testAddGet:function(){this.__sb.add("1");this.__sb.add("2");this.assertEquals("12",this.__sb.get());this.__sb.add("3");this.assertEquals("123",this.__sb.get())},testSize:function(){this.__sb.add("123");this.assertEquals(3,this.__sb.size());this.__sb.add("4567");this.assertEquals(7,this.__sb.size())},testEmptyClear:function(){this.assertTrue(this.__sb.isEmpty());this.__sb.add("123");this.assertFalse(this.__sb.isEmpty());this.__sb.clear();this.assertTrue(this.__sb.isEmpty())}}});qx.test.util.StringBuilder.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.type.BaseArray":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.util.StringBuilder",{extend:qx.type.BaseArray,construct:function(e){qx.type.BaseArray.apply(this,arguments)},members:{clear:function(){this.length=0},get:function(){return this.join("")},add:null,isEmpty:function(){return 0===this.length},size:function(){return this.join("").length}},defer:function(e,t){t.add=t.push;t.toString=t.get;t.valueOf=t.get}});qx.util.StringBuilder.$$dbClassInfo=e}();!function(){var $$dbClassInfo={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.StringSplit":{}}};qx.Bootstrap.executePendingDefers($$dbClassInfo);qx.Class.define("qx.test.util.StringSplit",{extend:qx.dev.unit.TestCase,members:{testSplit:function testSplit(){for(var testCode=[["qx.util.StringSplit.split('')",[""]],["qx.util.StringSplit.split('', /./)",[""]],["qx.util.StringSplit.split('', /.?/)",[]],["qx.util.StringSplit.split('', /.??/)",[]],["qx.util.StringSplit.split('ab', /a*/)",["","b"]],["qx.util.StringSplit.split('ab', /a*?/)",["a","b"]],["qx.util.StringSplit.split('ab', /(?:ab)/)",["",""]],["qx.util.StringSplit.split('ab', /(?:ab)*/)",["",""]],["qx.util.StringSplit.split('ab', /(?:ab)*?/)",["a","b"]],["qx.util.StringSplit.split('test', '')",["t","e","s","t"]],["qx.util.StringSplit.split('test')",["test"]],["qx.util.StringSplit.split('111', 1)",["","","",""]],["qx.util.StringSplit.split('test', /(?:)/, 2)",["t","e"]],["qx.util.StringSplit.split('test', /(?:)/, -1)",["t","e","s","t"]],["qx.util.StringSplit.split('test', /(?:)/, undefined)",["t","e","s","t"]],["qx.util.StringSplit.split('test', /(?:)/, null)",[]],["qx.util.StringSplit.split('test', /(?:)/, NaN)",[]],["qx.util.StringSplit.split('test', /(?:)/, true)",["t"]],["qx.util.StringSplit.split('test', /(?:)/, '2')",["t","e"]],["qx.util.StringSplit.split('test', /(?:)/, 'two')",[]],["qx.util.StringSplit.split('a', /-/)",["a"]],["qx.util.StringSplit.split('a', /-?/)",["a"]],["qx.util.StringSplit.split('a', /-??/)",["a"]],["qx.util.StringSplit.split('a', /a/)",["",""]],["qx.util.StringSplit.split('a', /a?/)",["",""]],["qx.util.StringSplit.split('a', /a??/)",["a"]],["qx.util.StringSplit.split('ab', /-/)",["ab"]],["qx.util.StringSplit.split('ab', /-?/)",["a","b"]],["qx.util.StringSplit.split('ab', /-??/)",["a","b"]],["qx.util.StringSplit.split('a-b', /-/)",["a","b"]],["qx.util.StringSplit.split('a-b', /-?/)",["a","b"]],["qx.util.StringSplit.split('a-b', /-??/)",["a","-","b"]],["qx.util.StringSplit.split('a--b', /-/)",["a","","b"]],["qx.util.StringSplit.split('a--b', /-?/)",["a","","b"]],["qx.util.StringSplit.split('a--b', /-??/)",["a","-","-","b"]],["qx.util.StringSplit.split('', /()()/)",[]],["qx.util.StringSplit.split('.', /()()/)",["."]],["qx.util.StringSplit.split('.', /(.?)(.?)/)",["",".","",""]],["qx.util.StringSplit.split('.', /(.??)(.??)/)",["."]],["qx.util.StringSplit.split('.', /(.)?(.)?/)",["",".",void 0,""]],["qx.util.StringSplit.split('tesst', /(s)*/)",["t",void 0,"e","s","t"]],["qx.util.StringSplit.split('tesst', /(s)*?/)",["t",void 0,"e",void 0,"s",void 0,"s",void 0,"t"]],["qx.util.StringSplit.split('tesst', /(s*)/)",["t","","e","ss","t"]],["qx.util.StringSplit.split('tesst', /(s*?)/)",["t","","e","","s","","s","","t"]],["qx.util.StringSplit.split('tesst', /(?:s)*/)",["t","e","t"]],["qx.util.StringSplit.split('tesst', /(?=s+)/)",["te","s","st"]],["qx.util.StringSplit.split('test', 't')",["","es",""]],["qx.util.StringSplit.split('test', 'es')",["t","t"]],["qx.util.StringSplit.split('test', /t/)",["","es",""]],["qx.util.StringSplit.split('test', /es/)",["t","t"]],["qx.util.StringSplit.split('test', /(t)/)",["","t","es","t",""]],["qx.util.StringSplit.split('test', /(es)/)",["t","es","t"]],["qx.util.StringSplit.split('test', /(t)(e)(s)(t)/)",["","t","e","s","t",""]],["qx.util.StringSplit.split('.', /(((.((.??)))))/)",["",".",".",".","","",""]],["qx.util.StringSplit.split('.', /(((((.??)))))/)",["."]]],i=0;i<testCode.length;i++){var result=eval(testCode[i][0]);this.assertArrayEquals(testCode[i][1],result)}var ecmaSampleRe=/<(\/)?([^<>]+)>/;this.assertArrayEquals(["A",void 0,"B","bold","/","B","and",void 0,"CODE","coded","/","CODE",""],qx.util.StringSplit.split("A<B>bold</B>and<CODE>coded</CODE>",ecmaSampleRe))}}});qx.test.util.StringSplit.$$dbClassInfo=$$dbClassInfo}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.Uri":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Uri",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.Uri=qx.util.Uri},"test: appendParamsToUrl() with string":function(){var e=this.Uri.appendParamsToUrl("http://example.com/path","affe=true&maus=false");this.assertEquals("http://example.com/path?affe=true&maus=false",e)},testToParameter:function(){var e=qx.util.Uri.toParameter({affe:!0,maus:!1});this.assertEquals("affe=true&maus=false",e)},testToParameterUmlauts:function(){var e=qx.util.Uri.toParameter({"äffe":"jøah","maüs":"nö"});this.assertEquals("%C3%A4ffe=j%C3%B8ah&ma%C3%BCs=n%C3%B6",e)},testToParameterSpaces:function(){var e=qx.util.Uri.toParameter({"a f f e":!0});this.assertEquals("a%20f%20f%20e=true",e)},testToParameterSpacesPost:function(){var e=qx.util.Uri.toParameter({"a f  f e":"j a"},!0);this.assertEquals("a+f++f+e=j+a",e)},testToParameterArray:function(){var e=qx.util.Uri.toParameter({id:[1,2,3]});this.assertEquals("id=1&id=2&id=3",e)},"test: appendParamsToUrl() with string when existing query":function(){var e=this.Uri.appendParamsToUrl("http://example.com/path?giraffe=true","affe=true&maus=false");this.assertEquals("http://example.com/path?giraffe=true&affe=true&maus=false",e)},"test: appendParamsToUrl() with map":function(){var e=this.Uri.appendParamsToUrl("http://example.com/path",{affe:!0,maus:!1});this.assertTrue(/^http.*example.com\/path/.test(e));this.assertTrue(/affe=true/.test(e));this.assertTrue(/maus=false/.test(e))},"test: appendParamsToUrl() with undefined":function(){var e="http://example.com/path",t=this.Uri.appendParamsToUrl(e,void 0);this.assertEquals(e,t)},"test: appendParamsToUrl() with empty map":function(){var e="http://example.com/path",t=this.Uri.appendParamsToUrl(e,{});this.assertEquals(e,t)},"test: parseUri()":function(){var e=this.Uri.parseUri("http://www.example.com:80/foo/bar?affe=true#here");this.assertEquals("http",e.protocol);this.assertEquals("www.example.com",e.host);this.assertEquals("80",e.port);this.assertEquals("/foo/bar?affe=true#here",e.relative);this.assertEquals("here",e.anchor)},"test: parseUri() with ipv6 loopback address":function(){var e=this.Uri.parseUri("http://[::1]:80/foo/bar?affe=true#here");this.assertEquals("http",e.protocol);this.assertEquals("[::1]",e.host);this.assertEquals("80",e.port);this.assertEquals("/foo/bar?affe=true#here",e.relative);this.assertEquals("here",e.anchor)},"test: parseUri() with ipv6 address":function(){var e=this.Uri.parseUri("http://[FE80:0000:0000:0000:0202:B3FF:FE1E:8329]:80/foo/bar?affe=true#here");this.assertEquals("http",e.protocol);this.assertEquals("[FE80:0000:0000:0000:0202:B3FF:FE1E:8329]",e.host);this.assertEquals("80",e.port);this.assertEquals("/foo/bar?affe=true#here",e.relative);this.assertEquals("here",e.anchor)},"test: parseUri() with at-sign in query":function(){var e=this.Uri.parseUri("http://www.example.com/foo/bar?separator=@");this.assertEquals("http",e.protocol);this.assertEquals("www.example.com",e.host);this.assertEquals("/foo/bar?separator=@",e.relative);this.assertEquals("separator=@",e.query)},"test: parseUri() with user name in domain":function(){var e=this.Uri.parseUri("http://userid@www.example.com/foo/bar");this.assertEquals("http",e.protocol);this.assertEquals("www.example.com",e.host);this.assertEquals("/foo/bar",e.relative);this.assertEquals("userid",e.user)}}});qx.test.util.Uri.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.Validate":{},"qx.core.ValidationError":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.Validate",{extend:qx.dev.unit.TestCase,members:{testNumber:function(){qx.util.Validate.number()(2);this.assertException(function(){qx.util.Validate.number()("not a number")},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.number("Custom Error Message")("not a number")},qx.core.ValidationError,"Custom Error Message")},testEmail:function(){qx.util.Validate.email()("an@email.ro");this.assertException(function(){qx.util.Validate.email()("not an email")},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.email("Custom Error Message")("not an email")},qx.core.ValidationError,"Custom Error Message");qx.util.Validate.email()("foo@bar.qooxdoo");qx.util.Validate.email()("foobar+alias@qooxdoo.org")},testString:function(){qx.util.Validate.string()("I'm a string");this.assertException(function(){qx.util.Validate.string()(1)},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.string("Custom Error Message")(1)},qx.core.ValidationError,"Custom Error Message")},testUrl:function(){qx.util.Validate.url()("http://anurl.ro");this.assertException(function(){qx.util.Validate.url()("not an url")},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.url("Custom Error Message")("not an url")},qx.core.ValidationError,"Custom Error Message")},testColor:function(){qx.util.Validate.color()("#667788");this.assertException(function(){qx.util.Validate.color()("not a color value")},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.color("Custom Error Message")("not a color value")},qx.core.ValidationError,"Custom Error Message")},testRange:function(){qx.util.Validate.range(2,4)(3);this.assertException(function(){qx.util.Validate.range(2,4)(5)},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.range(2,4,"Custom Error Message")(5)},qx.core.ValidationError,"Custom Error Message")},testInArray:function(){qx.util.Validate.inArray([2,3])(3);this.assertException(function(){qx.util.Validate.inArray([2,3])(4)},qx.core.ValidationError);this.assertException(function(){qx.util.Validate.inArray([2,3],"Custom Error Message")(4)},qx.core.ValidationError,"Custom Error Message")},testRegex:function(){var e=qx.util.Validate.regExp(/^\dand\d$/);e("1and1");this.assertException(function(){e("oneandone")},qx.core.ValidationError,/oneandone/g);this.assertException(function(){e("xyz")},qx.core.ValidationError,/xyz/g);this.assertException(function(){qx.util.Validate.regExp(/^\dand\d$/,"Custom Error Message")("oneandone")},qx.core.ValidationError,"Custom Error Message")}}});qx.test.util.Validate.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.placement.BestFitAxis":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.placement.BestFitAxis",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.axis=qx.util.placement.BestFitAxis},tearDown:function(){delete this.axis},testEnoughSpace:function(){var e={start:500,end:600},t={start:10,end:20};this.assertEquals(430,this.axis.computeStart(50,e,t,1e3,"edge-start"));this.assertEquals(610,this.axis.computeStart(50,e,t,1e3,"edge-end"));this.assertEquals(510,this.axis.computeStart(50,e,t,1e3,"align-start"));this.assertEquals(535,this.axis.computeStart(50,e,t,1e3,"align-center"));this.assertEquals(530,this.axis.computeStart(50,e,t,1e3,"align-end"))},testNotEnoughSpaceStart:function(){var e={start:30,end:200},t={start:10,end:20};this.assertEquals(0,this.axis.computeStart(250,e,t,1e3,"edge-start"));this.assertEquals(210,this.axis.computeStart(250,e,t,1e3,"edge-end"));this.assertEquals(40,this.axis.computeStart(250,e,t,1e3,"align-start"));this.assertEquals(0,this.axis.computeStart(260,e,t,1e3,"align-center"));this.assertEquals(0,this.axis.computeStart(250,e,t,1e3,"align-end"))},testNotEnoughSpaceEnd:function(){var e={start:300,end:400},t={start:10,end:20};this.assertEquals(30,this.axis.computeStart(250,e,t,500,"edge-start"));this.assertEquals(250,this.axis.computeStart(250,e,t,500,"edge-end"));this.assertEquals(250,this.axis.computeStart(250,e,t,500,"align-start"));this.assertEquals(210,this.axis.computeStart(290,e,t,500,"align-center"));this.assertEquals(130,this.axis.computeStart(250,e,t,500,"align-end"))},testNotEnoughSpaceBothSides:function(){var e={start:50,end:100},t={start:10,end:20};this.assertEquals(-100,this.axis.computeStart(250,e,t,150,"edge-start"));this.assertEquals(0,this.axis.computeStart(250,e,t,150,"edge-end"));this.assertEquals(0,this.axis.computeStart(250,e,t,150,"align-start"));this.assertEquals(-100,this.axis.computeStart(250,e,t,150,"align-center"));this.assertEquals(-100,this.axis.computeStart(250,e,t,150,"align-end"))}}});qx.test.util.placement.BestFitAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.placement.DirectAxis":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.placement.DirectAxis",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.axis=qx.util.placement.DirectAxis},tearDown:function(){delete this.axis},testEnoughSpace:function(){var e={start:500,end:600},t={start:10,end:20};this.assertEquals(430,this.axis.computeStart(50,e,t,1e3,"edge-start"));this.assertEquals(610,this.axis.computeStart(50,e,t,1e3,"edge-end"));this.assertEquals(510,this.axis.computeStart(50,e,t,1e3,"align-start"));this.assertEquals(535,this.axis.computeStart(50,e,t,1e3,"align-center"));this.assertEquals(530,this.axis.computeStart(50,e,t,1e3,"align-end"))}}});qx.test.util.placement.DirectAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.placement.KeepAlignAxis":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.placement.KeepAlignAxis",{extend:qx.dev.unit.TestCase,members:{setUp:function(){this.axis=qx.util.placement.KeepAlignAxis},tearDown:function(){delete this.axis},testEnoughSpace:function(){var e={start:500,end:600},t={start:10,end:20};this.assertEquals(430,this.axis.computeStart(50,e,t,1e3,"edge-start"));this.assertEquals(610,this.axis.computeStart(50,e,t,1e3,"edge-end"));this.assertEquals(510,this.axis.computeStart(50,e,t,1e3,"align-start"));this.assertEquals(535,this.axis.computeStart(50,e,t,1e3,"align-center"));this.assertEquals(530,this.axis.computeStart(50,e,t,1e3,"align-end"))},testNotEnoughSpaceStart:function(){var e={start:30,end:200},t={start:10,end:20};this.assertEquals(210,this.axis.computeStart(260,e,t,1e3,"edge-start"));this.assertEquals(210,this.axis.computeStart(260,e,t,1e3,"edge-end"));this.assertEquals(40,this.axis.computeStart(260,e,t,1e3,"align-start"));this.assertEquals(40,this.axis.computeStart(260,e,t,1e3,"align-center"));this.assertEquals(40,this.axis.computeStart(260,e,t,1e3,"align-end"))},testNotEnoughSpaceEnd:function(){var e={start:300,end:400},t={start:10,end:20};this.assertEquals(0,this.axis.computeStart(290,e,t,500,"edge-start"));this.assertEquals(0,this.axis.computeStart(290,e,t,500,"edge-end"));this.assertEquals(90,this.axis.computeStart(290,e,t,500,"align-start"));this.assertEquals(90,this.axis.computeStart(290,e,t,500,"align-center"));this.assertEquals(90,this.axis.computeStart(290,e,t,500,"align-end"))},testNotEnoughSpaceBothSides:function(){var e={start:50,end:100},t={start:10,end:20};this.assertEquals(110,this.axis.computeStart(250,e,t,200,"edge-start"));this.assertEquals(110,this.axis.computeStart(250,e,t,200,"edge-end"));this.assertEquals(60,this.axis.computeStart(250,e,t,200,"align-start"));this.assertEquals(60,this.axis.computeStart(250,e,t,200,"align-center"));this.assertEquals(60,this.axis.computeStart(250,e,t,200,"align-end"))}}});qx.test.util.placement.KeepAlignAxis.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestCase":{require:!0},"qx.util.placement.Placement":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.test.util.placement.Placement",{extend:qx.dev.unit.TestCase,members:{testEnoughSpace:function(){for(var e={width:200,height:300},t={width:1e3,height:1e3},i={left:500,top:500,right:600,bottom:550},n={top:0,left:0,bottom:0,right:0},s=["direct","keep-align","best-fit"],r=0;r<s.length;r++){var o=s[r];this.assertJsonEquals({left:500,top:200},qx.util.placement.Placement.compute(e,t,i,n,"top-left",o,o),o);this.assertJsonEquals({left:450,top:200},qx.util.placement.Placement.compute(e,t,i,n,"top-center",o,o),o);this.assertJsonEquals({left:400,top:200},qx.util.placement.Placement.compute(e,t,i,n,"top-right",o,o),o);this.assertJsonEquals({left:500,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-left",o,o),o);this.assertJsonEquals({left:450,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-center",o,o),o);this.assertJsonEquals({left:400,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-right",o,o),o);this.assertJsonEquals({left:300,top:500},qx.util.placement.Placement.compute(e,t,i,n,"left-top",o,o),o);this.assertJsonEquals({left:300,top:375},qx.util.placement.Placement.compute(e,t,i,n,"left-middle",o,o),o);this.assertJsonEquals({left:300,top:250},qx.util.placement.Placement.compute(e,t,i,n,"left-bottom",o,o),o);this.assertJsonEquals({left:600,top:500},qx.util.placement.Placement.compute(e,t,i,n,"right-top",o,o),o);this.assertJsonEquals({left:600,top:375},qx.util.placement.Placement.compute(e,t,i,n,"right-middle",o,o),o);this.assertJsonEquals({left:600,top:250},qx.util.placement.Placement.compute(e,t,i,n,"right-bottom",o,o),o)}},testRestrictedBottomKeepAlign:function(){var e={width:200,height:300},t={width:1e3,height:600},i={left:500,top:500,right:600,bottom:550},n={top:0,left:0,bottom:0,right:0};this.assertJsonEquals({left:500,top:200},qx.util.placement.Placement.compute(e,t,i,n,"bottom-left","keep-align","keep-align"));this.assertJsonEquals({left:450,top:200},qx.util.placement.Placement.compute(e,t,i,n,"bottom-center","keep-align","keep-align"));this.assertJsonEquals({left:400,top:200},qx.util.placement.Placement.compute(e,t,i,n,"bottom-right","keep-align","keep-align"));this.assertJsonEquals({left:300,top:250},qx.util.placement.Placement.compute(e,t,i,n,"left-top","keep-align","keep-align"));this.assertJsonEquals({left:300,top:250},qx.util.placement.Placement.compute(e,t,i,n,"left-middle","keep-align","keep-align"));this.assertJsonEquals({left:600,top:250},qx.util.placement.Placement.compute(e,t,i,n,"right-top","keep-align","keep-align"));this.assertJsonEquals({left:600,top:250},qx.util.placement.Placement.compute(e,t,i,n,"right-middle","keep-align","keep-align"))},testRestrictedTopKeepAlign:function(){var e={width:200,height:300},t={width:1e3,height:1e3},i={left:500,top:100,right:600,bottom:150},n={top:0,left:0,bottom:0,right:0};this.assertJsonEquals({left:500,top:150},qx.util.placement.Placement.compute(e,t,i,n,"top-left","keep-align","keep-align"));this.assertJsonEquals({left:450,top:150},qx.util.placement.Placement.compute(e,t,i,n,"top-center","keep-align","keep-align"));this.assertJsonEquals({left:400,top:150},qx.util.placement.Placement.compute(e,t,i,n,"top-right","keep-align","keep-align"));this.assertJsonEquals({left:300,top:100},qx.util.placement.Placement.compute(e,t,i,n,"left-middle","keep-align","keep-align"));this.assertJsonEquals({left:300,top:100},qx.util.placement.Placement.compute(e,t,i,n,"left-bottom","keep-align","keep-align"));this.assertJsonEquals({left:600,top:100},qx.util.placement.Placement.compute(e,t,i,n,"right-middle","keep-align","keep-align"));this.assertJsonEquals({left:600,top:100},qx.util.placement.Placement.compute(e,t,i,n,"right-bottom","keep-align","keep-align"))},testRestrictedRightKeepAlign:function(){var e={width:200,height:300},t={width:700,height:1e3},i={left:500,top:500,right:600,bottom:550},n={top:0,left:0,bottom:0,right:0};this.assertJsonEquals({left:300,top:500},qx.util.placement.Placement.compute(e,t,i,n,"right-top","keep-align","keep-align"));this.assertJsonEquals({left:300,top:375},qx.util.placement.Placement.compute(e,t,i,n,"right-middle","keep-align","keep-align"));this.assertJsonEquals({left:300,top:250},qx.util.placement.Placement.compute(e,t,i,n,"right-bottom","keep-align","keep-align"))},testRestrictedLeftKeepAlign:function(){var e={width:200,height:300},t={width:1e3,height:1e3},i={left:100,top:500,right:200,bottom:550},n={top:0,left:0,bottom:0,right:0};this.assertJsonEquals({left:200,top:500},qx.util.placement.Placement.compute(e,t,i,n,"left-top","keep-align","keep-align"));this.assertJsonEquals({left:200,top:375},qx.util.placement.Placement.compute(e,t,i,n,"left-middle","keep-align","keep-align"));this.assertJsonEquals({left:200,top:250},qx.util.placement.Placement.compute(e,t,i,n,"left-bottom","keep-align","keep-align"))},testRestrictedBottomAndTopWithBetterBottomKeepAlign:function(){var e={width:200,height:300},t={width:1e3,height:440},i={left:500,top:100,right:600,bottom:150},n={top:10,bottom:20,left:0,right:0};this.assertJsonEquals({left:500,top:160},qx.util.placement.Placement.compute(e,t,i,n,"bottom-left","keep-align","keep-align"));this.assertJsonEquals({left:450,top:160},qx.util.placement.Placement.compute(e,t,i,n,"bottom-center","keep-align","keep-align"));this.assertJsonEquals({left:500,top:160},qx.util.placement.Placement.compute(e,t,i,n,"top-left","keep-align","keep-align"));this.assertJsonEquals({left:450,top:160},qx.util.placement.Placement.compute(e,t,i,n,"top-center","keep-align","keep-align"));this.assertJsonEquals({left:600,top:110},qx.util.placement.Placement.compute(e,t,i,n,"right-top","keep-align","keep-align"));this.assertJsonEquals({left:600,top:110},qx.util.placement.Placement.compute(e,t,i,n,"right-middle","keep-align","keep-align"));this.assertJsonEquals({left:600,top:110},qx.util.placement.Placement.compute(e,t,i,n,"right-bottom","keep-align","keep-align"))},testRestrictedLeftAndRightWithBetterLeftKeepAlign:function(){var e={width:200,height:300},t={width:650,height:1e3},i={left:500,top:500,right:600,bottom:550},n={top:0,bottom:0,left:10,right:20};this.assertJsonEquals({left:280,top:500},qx.util.placement.Placement.compute(e,t,i,n,"left-top","keep-align","keep-align"));this.assertJsonEquals({left:280,top:375},qx.util.placement.Placement.compute(e,t,i,n,"left-middle","keep-align","keep-align"));this.assertJsonEquals({left:280,top:500},qx.util.placement.Placement.compute(e,t,i,n,"right-top","keep-align","keep-align"));this.assertJsonEquals({left:280,top:375},qx.util.placement.Placement.compute(e,t,i,n,"right-middle","keep-align","keep-align"));this.assertJsonEquals({left:380,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-left","keep-align","keep-align"));this.assertJsonEquals({left:380,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-center","keep-align","keep-align"));this.assertJsonEquals({left:380,top:550},qx.util.placement.Placement.compute(e,t,i,n,"bottom-right","keep-align","keep-align"))}}});qx.test.util.placement.Placement.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Interface":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Interface.define("qx.application.IApplication",{members:{main:function(){},finalize:function(){},close:function(){},terminate:function(){}}});qx.application.IApplication.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Init":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.application.IApplication":{require:!0},"qx.locale.MTranslation":{require:!0},"qx.theme.manager.Meta":{},"qx.ui.tooltip.Manager":{},"qx.ui.style.Stylesheet":{},"qx.ui.core.queue.Manager":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.application.AbstractGui",{type:"abstract",extend:qx.core.Object,implement:[qx.application.IApplication],include:qx.locale.MTranslation,members:{__root:null,_createRootWidget:function(){throw new Error("Abstract method call")},getRoot:function(){return this.__root},main:function(){qx.theme.manager.Meta.getInstance().initialize();qx.ui.tooltip.Manager.getInstance();var e=["-webkit-touch-callout: none;","-ms-touch-select: none;","-webkit-tap-highlight-color: rgba(0,0,0,0);","-webkit-tap-highlight-color: transparent;"].join("");qx.ui.style.Stylesheet.getInstance().addRule("*",e);this.__root=this._createRootWidget();window.scrollTo(0,0)},finalize:function(){this.render()},render:function(){qx.ui.core.queue.Manager.flush()},close:function(e){},terminate:function(){}}});qx.application.AbstractGui.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Init":{require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.application.AbstractGui":{require:!0},"qx.ui.root.Application":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.application.Standalone",{extend:qx.application.AbstractGui,members:{_createRootWidget:function(){return new qx.ui.root.Application(document)}}});qx.application.Standalone.$$dbClassInfo=e}();function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){i.push(o.value);if(t&&i.length===t)break}}catch(e){s=!0;r=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.application.Standalone":{require:!0},"qx.log.Logger":{},"qx.ui.container.Composite":{},"qx.ui.layout.VBox":{},"qx.ui.basic.Label":{},"qxl.logpane.LogPane":{},"qx.dev.unit.TestLoaderBasic":{},"qx.Promise":{},"qx.dev.unit.TestResult":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qxl.testtapper.Application",{extend:qx.application.Standalone,members:{_cnt:null,_failed:null,log:function(e){console.log(e);qx.log.Logger.debug(e)},info:function(e){console.log(e);qx.log.Logger.info(e)},error:function(e){console.log(e);qx.log.Logger.error(e)},main:function(){var e=this;qxl.testtapper.Application.prototype.main.base.call(this);this._cnt=0;this._failed={};var t={};if("undefined"!=typeof location&&location.search){var i=decodeURI(location.search.substring(1));(i+="&").split("&").forEach(function(e){if(e.length){var i=_slicedToArray(e.split("="),2),n=i[0],s=i[1];t[n]=s}})}var n=new qx.ui.container.Composite;n.setLayout(new qx.ui.layout.VBox);n.add(new qx.ui.basic.Label("\n                <h1>TestTAPper - the Qooxdoo Testrunner is at work</h1>\n                ").set({rich:!0}));var s=new qxl.logpane.LogPane;s.setShowToolBar(!1);s.fetch();n.add(s,{flex:1});n.setHeight(640);n.setWidth(1024);this.getRoot().add(n);this.loader=new qx.dev.unit.TestLoaderBasic;this.loader.setTestNamespace("qx.test");var r=this.loader.getSuite().getTestClasses();if(t.class){var o=new RegExp(t.class);this.log("# running only test classes that match "+o);r=r.filter(function(e){return e.getName().match(o)})}var a=new qx.Promise(function(e){return e(!0)});r.forEach(function(i){a=a.then(function(){return e.runAll(t,i).then(function(){e.info("# done testing ".concat(i.getName(),"."))})})});return a.then(function(){e.log("1..".concat(e._cnt));n.add(new qx.ui.basic.Label("\n                    <h1>TestTAPper - is Done</h1>\n                    ").set({rich:!0}))})},runAll:function(e,t){var i=this,n=this;this.info("# start testing ".concat(t.getName(),"."));var s=t.getTestMethods();if(e.method){var r=new RegExp(e.method);this.log("# running only test methods that match "+r);s=s.filter(function(e){return e.getName().match(r)})}return new qx.Promise(function(e){var r=new qx.dev.unit.TestResult,o=-1,a=function(){++o<s.length?n.loader.runTests(r,t.getName(),s[o].getName()):e()},l=function(e){e.forEach(function(e){if(e.test.getFullName){var t=e.test.getFullName();n._failed[t]=!0;n._cnt++;var s=String(e.exception);if(e.exception)if(e.exception.message){s=e.exception.message;i.info("not ok ".concat(n._cnt," - ").concat(t," - ").concat(s))}else i.error("# "+e.exception)}else i.error("Unexpected Error - ",e)});setTimeout(a,0)};r.addListener("startTest",function(e){i.info("# start "+e.getData().getFullName())});r.addListener("wait",function(e){i.info("# wait "+e.getData().getFullName())});r.addListener("endMeasurement",function(e){i.info("# endMeasurement "+e.getData()[0].test.getFullName())});r.addListener("endTest",function(e){var t=e.getData().getFullName();if(!n._failed[t]){n._cnt++;i.info("ok ".concat(n._cnt," - ")+t)}setTimeout(a,0)});r.addListener("failure",function(e){return l(e.getData())});r.addListener("error",function(e){return l(e.getData())});r.addListener("skip",function(e){n._cnt++;var t=e.getData()[0].test.getFullName();n._failed[t]=!0;i.info("ok ".concat(n._cnt," - # SKIP ").concat(t))});a()})}}});qxl.testtapper.Application.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.event.Registration":{construct:!0},"qx.event.Timer":{construct:!0},"qx.ui.tooltip.ToolTip":{},"qx.ui.core.Widget":{},"qx.ui.form.IForm":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.ui.tooltip.Manager",{type:"singleton",extend:qx.core.Object,construct:function(){qx.core.Object.constructor.call(this);qx.event.Registration.addListener(document.body,"pointerover",this.__onPointerOverRoot,this,!0);this.__showTimer=new qx.event.Timer;this.__showTimer.addListener("interval",this.__onShowInterval,this);this.__hideTimer=new qx.event.Timer;this.__hideTimer.addListener("interval",this.__onHideInterval,this);this.__pointerPosition={left:0,top:0}},properties:{current:{check:"qx.ui.tooltip.ToolTip",nullable:!0,apply:"_applyCurrent"},showInvalidToolTips:{check:"Boolean",init:!0},showToolTips:{check:"Boolean",init:!0}},members:{__pointerPosition:null,__hideTimer:null,__showTimer:null,__sharedToolTip:null,__sharedErrorToolTip:null,getSharedTooltip:function(){this.__sharedToolTip||(this.__sharedToolTip=(new qx.ui.tooltip.ToolTip).set({rich:!0}));return this.__sharedToolTip},getSharedErrorTooltip:function(){if(!this.__sharedErrorToolTip){this.__sharedErrorToolTip=(new qx.ui.tooltip.ToolTip).set({appearance:"tooltip-error",rich:!0});this.__sharedErrorToolTip.setLabel("");this.__sharedErrorToolTip.syncAppearance()}return this.__sharedErrorToolTip},_applyCurrent:function(e,t){if(!t||!qx.ui.core.Widget.contains(t,e)){if(t){t.isDisposed()||t.exclude();this.__showTimer.stop();this.__hideTimer.stop()}var i=qx.event.Registration,n=document.body;if(e){this.__showTimer.startWith(e.getShowTimeout());i.addListener(n,"pointerout",this.__onPointerOutRoot,this,!0);i.addListener(n,"focusout",this.__onFocusOutRoot,this,!0);i.addListener(n,"pointermove",this.__onPointerMoveRoot,this,!0)}else{i.removeListener(n,"pointerout",this.__onPointerOutRoot,this,!0);i.removeListener(n,"focusout",this.__onFocusOutRoot,this,!0);i.removeListener(n,"pointermove",this.__onPointerMoveRoot,this,!0)}}},__onShowInterval:function(e){var t=this.getCurrent();if(t&&!t.isDisposed()){this.__hideTimer.startWith(t.getHideTimeout());"widget"==t.getPlaceMethod()?t.placeToWidget(t.getOpener()):t.placeToPoint(this.__pointerPosition);t.show()}this.__showTimer.stop()},__onHideInterval:function(e){var t=this.getCurrent();if(!t||t.getAutoHide()){t&&!t.isDisposed()&&t.exclude();this.__hideTimer.stop();this.resetCurrent()}},__onPointerMoveRoot:function(e){var t=this.__pointerPosition;t.left=Math.round(e.getDocumentLeft());t.top=Math.round(e.getDocumentTop())},__onPointerOverRoot:function(e){var t=qx.ui.core.Widget.getWidgetByElement(e.getTarget());this.__onPointerMoveRoot(e);this.showToolTip(t)},showToolTip:function(e){if(e){for(var t,i,n,s;null!=e;){t=e.getToolTip();i=e.getToolTipText()||null;n=e.getToolTipIcon()||null;qx.Class.hasInterface(e.constructor,qx.ui.form.IForm)&&!e.isValid()&&(s=e.getInvalidMessage());if(t||i||n||s)break;e=e.getLayoutParent()}if(e&&(e.getEnabled()||e.isShowToolTipWhenDisabled())&&!e.isBlockToolTip()&&(s||this.getShowToolTips())&&(!s||this.getShowInvalidToolTips())){s&&(t=this.getSharedErrorTooltip().set({label:s}));t||(t=this.getSharedTooltip().set({label:i,icon:n}));this.setCurrent(t);t.setOpener(e)}}},__onPointerOutRoot:function(e){var t=qx.ui.core.Widget.getWidgetByElement(e.getTarget());if(t){var i=qx.ui.core.Widget.getWidgetByElement(e.getRelatedTarget());if(i||"mouse"!=e.getPointerType()){var n=this.getCurrent();n&&(i==n||qx.ui.core.Widget.contains(n,i))||i&&t&&qx.ui.core.Widget.contains(t,i)||n&&!n.getAutoHide()||(n&&!i?this.setCurrent(null):this.resetCurrent())}}},__onFocusOutRoot:function(e){var t=qx.ui.core.Widget.getWidgetByElement(e.getTarget());if(t){var i=this.getCurrent();i&&!i.getAutoHide()||i&&i==t.getToolTip()&&this.setCurrent(null)}}},destruct:function(){qx.event.Registration.removeListener(document.body,"pointerover",this.__onPointerOverRoot,this,!0);this._disposeObjects("__showTimer","__hideTimer","__sharedToolTip");this.__pointerPosition=null}});qx.ui.tooltip.Manager.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",construct:!0,require:!0},"qx.Class":{usage:"dynamic",require:!0},"qx.ui.container.Composite":{construct:!0,require:!0},"qx.ui.layout.VBox":{construct:!0},"qx.ui.basic.Label":{construct:!0},"qx.ui.toolbar.ToolBar":{construct:!0},"qx.ui.toolbar.Button":{construct:!0},"qx.ui.embed.Html":{construct:!0},"qx.bom.client.Device":{construct:!0},"qx.log.appender.Element":{construct:!0},"qx.log.Logger":{construct:!0},"qx.ui.menu.Menu":{},"qx.ui.toolbar.MenuButton":{},"qx.ui.menu.Button":{}},environment:{provided:[],required:{"device.type":{construct:!0,className:"qx.bom.client.Device"}}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qxl.logpane.LogPane",{extend:qx.ui.container.Composite,construct:function(){this.__logLevelData=[["debug","Debug","icon/16/categories/system.png"],["info","Info","icon/16/status/dialog-information.png"],["warn","Warning","icon/16/status/dialog-warning.png"],["error","Error","icon/16/status/dialog-error.png"]];var e=new qx.ui.layout.VBox;e.setSeparator("separator-vertical");qx.ui.container.Composite.constructor.call(this,e);this.setDecorator("main");var t=new qx.ui.basic.Label(this.tr("Log")).set({font:"bold",padding:10,alignY:"middle",allowGrowX:!0,allowGrowY:!0});this.__toolbar=new qx.ui.toolbar.ToolBar;this.__toolbar.add(t);this.__toolbar.addSpacer();this.__toolbar.setBackgroundColor("white");var i=new qx.ui.toolbar.Button(this.tr("Clear"),"icon/16/actions/edit-clear.png");i.addListener("execute",function(e){this.clear()},this);this.__toolbar.add(i);this.add(this.__toolbar);var n=new qx.ui.embed.Html("");n.set({backgroundColor:"white",overflowY:"scroll",overflowX:"auto",font:"monospace",padding:3});if("desktop"!==qx.core.Environment.get("device.type")){n.getContentElement().setStyle("WebkitOverflowScrolling","touch");n.getContentElement().setStyle("touchAction","auto")}this.add(n,{flex:1});this.__logAppender=new qx.log.appender.Element;qx.log.Logger.unregister(this.__logAppender);this.__logElem=document.createElement("DIV");this.__logAppender.setElement(this.__logElem);n.addListenerOnce("appear",function(){n.getContentElement().getDomElement().appendChild(this.__logElem)},this)},properties:{showToolBar:{check:"Boolean",apply:"_applyShowToolBar",init:!0},logLevel:{check:["debug","info","warn","error"],init:"debug",event:"changeLogLevel"}},members:{__logElem:null,__logAppender:null,__logLevelData:null,__logLevelButton:null,__toolbar:null,clear:function(){this.__logAppender.clear()},fetch:function(e){e||(e=qx.log.Logger);e.register(this.__logAppender);e.clear()},getAppenderElement:function(){return this.__logElem},_applyShowToolBar:function(e,t){e?this.__toolbar.show():this.__toolbar.exclude()},_applyShowLogLevel:function(e,t){if(!this.__logLevelButton){this.__logLevelButton=this.__createLogLevelMenu();this.__toolbar.add(this.__logLevelButton)}e?this.__logLevelButton.show():this.__logLevelButton.exclude()},__createLogLevelMenu:function(){var e=new qx.ui.menu.Menu,t=new qx.ui.toolbar.MenuButton("Log Level","icon/16/categories/system.png");t.setMenu(e);for(var i=0,n=this.__logLevelData.length;i<n;i++){var s=this.__logLevelData[i],r=new qx.ui.menu.Button(s[1],s[2]);r.setUserData("model",s[0]);r.addListener("execute",function(e){var i=e.getTarget();this.setLogLevel(i.getUserData("model"));t.setIcon(i.getIcon())},this);e.add(r)}return t}},destruct:function(){this._disposeObjects("__logAppender");this.__logElem=null}});qxl.logpane.LogPane.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Mixin":{usage:"dynamic",require:!0},"qx.dev.unit.TestSuite":{},"qx.dev.unit.JsUnitTestResult":{},"qx.dev.unit.TestResult":{},"qx.lang.Json":{}}};qx.Bootstrap.executePendingDefers(e);qx.Mixin.define("qx.dev.unit.MTestLoader",{properties:{suite:{check:"qx.dev.unit.TestSuite",nullable:!0,init:null}},members:{_getClassNameFromUrl:function(){var e=window.location.search.match(/[\?&]testclass=([A-Za-z0-9_\.]+)/);return e=e?e[1]:"__unknown_class__"},setTestNamespace:function(e){var t=new qx.dev.unit.TestSuite;t.add(e);this.setSuite(t)},runJsUnit:function(){var e=new qx.dev.unit.JsUnitTestResult;this.getSuite().run(e);e.exportToJsUnit()},runStandAlone:function(){var e=new qx.dev.unit.TestResult;e.addListener("failure",function(e){var t=e.getData()[0].exception,i=e.getData()[0].test;this.error("Test '"+i.getFullName()+"' failed: "+t.message+" - "+t.getComment());t.getStackTrace&&this.error("Stack trace: "+t.getStackTrace().join("\n"))},this);e.addListener("error",function(e){var t=e.getData()[0].exception,i=e.getData()[0].test;this.error("The test '"+i.getFullName()+"' had an error: "+t,t)},this);this.getSuite().run(e)},getTestDescriptions:function(){for(var e=[],t=this.getSuite().getTestClasses(),i=0;i<t.length;i++){var n=t[i],s={};s.classname=n.getName();s.tests=[];for(var r=n.getTestMethods(),o=0;o<r.length;o++)s.tests.push(r[o].getName());e.push(s)}return qx.lang.Json.stringify(e)},runTests:function(e,t,i){for(var n=this.getSuite().getTestClasses(),s=0;s<n.length;s++)if(t==n[s].getName()){for(var r=n[s].getTestMethods(),o=0;o<r.length;o++)i&&r[o].getName()!=i||r[o].run(e);return}},runTestsFromNamespace:function(e,t){for(var i=this.getSuite().getTestClasses(),n=0;n<i.length;n++)0==i[n].getName().indexOf(t)&&i[n].run(e)}}});qx.dev.unit.MTestLoader.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.dev.unit.MTestLoader":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestLoaderBasic",{extend:qx.core.Object,include:[qx.dev.unit.MTestLoader],construct:function(e){e&&this.setTestNamespace(e)}});qx.dev.unit.TestLoaderBasic.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.type.BaseError":{},"qx.dev.unit.AsyncWrapper":{},"qx.core.AssertionError":{},"qx.event.Timer":{},"qx.dev.unit.MeasurementResult":{},"qx.event.Registration":{},"qx.lang.String":{},"qx.dev.Debug":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestResult",{extend:qx.core.Object,events:{startTest:"qx.event.type.Data",endTest:"qx.event.type.Data",error:"qx.event.type.Data",failure:"qx.event.type.Data",wait:"qx.event.type.Data",skip:"qx.event.type.Data",endMeasurement:"qx.event.type.Data"},statics:{run:function(e,t,i){e.run(t,i)}},members:{_timeout:null,run:function(e,t,i,n){this._timeout||(this._timeout={});var s=e.getTestClass();s.hasListener("assertionFailed")||s.addListener("assertionFailed",function(t){var i=[{exception:t.getData(),test:e}];this.fireDataEvent("failure",i)},this);if(!n||this._timeout[e.getFullName()]){this.fireDataEvent("startTest",e);if(this._timeout[e.getFullName()]){if("failed"!==this._timeout[e.getFullName()]){this._timeout[e.getFullName()].stop();this._timeout[e.getFullName()].dispose()}delete this._timeout[e.getFullName()]}else try{e.setUp()}catch(t){if(t instanceof qx.dev.unit.AsyncWrapper){if(this._timeout[e.getFullName()])return;if(t.getDelay()){var r=this,o=function(){throw new qx.core.AssertionError("Asynchronous Test Error in setUp","Timeout reached before resume() was called.")},a=t.getDeferredFunction()?t.getDeferredFunction():o,l=t.getContext()?t.getContext():window;this._timeout[e.getFullName()]=qx.event.Timer.once(function(){this.run(e,a,l)},r,t.getDelay());this.fireDataEvent("wait",e)}return}try{this.tearDown(e)}catch(e){}if("qx.dev.unit.RequirementError"==t.classname){this._createError("skip",[t],e);this.fireDataEvent("endTest",e)}else{t instanceof qx.type.BaseError&&t.message==qx.type.BaseError.DEFAULTMESSAGE?t.message="setUp failed":t.message="setUp failed: "+t.message;this._createError("error",[t],e);this.fireDataEvent("endTest",e)}return}var u;try{u=t.call(i||window)}catch(t){var c=!0;if(t instanceof qx.dev.unit.AsyncWrapper){if(this._timeout[e.getFullName()])return;if(t.getDelay()){r=this,o=function(){throw new qx.core.AssertionError("Asynchronous Test Error","Timeout reached before resume() was called.")},a=t.getDeferredFunction()?t.getDeferredFunction():o,l=t.getContext()?t.getContext():window;this._timeout[e.getFullName()]=qx.event.Timer.once(function(){this.run(e,a,l)},r,t.getDelay());this.fireDataEvent("wait",e)}}else if(t instanceof qx.dev.unit.MeasurementResult){c=!1;this._createError("endMeasurement",[t],e)}else{try{this.tearDown(e)}catch(e){}if("qx.core.AssertionError"==t.classname){this._createError("failure",[t],e);this.fireDataEvent("endTest",e)}else if("qx.dev.unit.RequirementError"==t.classname){this._createError("skip",[t],e);this.fireDataEvent("endTest",e)}else{this._createError("error",[t],e);this.fireDataEvent("endTest",e)}}}if(!c)try{this.tearDown(e);this.fireDataEvent("endTest",e)}catch(t){t instanceof qx.type.BaseError&&t.message==qx.type.BaseError.DEFAULTMESSAGE?t.message="tearDown failed":t.message="tearDown failed: "+t.message;this._createError("error",[t],e);this.fireDataEvent("endTest",e)}return u}this._timeout[e.getFullName()]="failed";var d=new qx.type.BaseError("Error in asynchronous test","resume() called before wait()");this._createError("failure",[d],e);this.fireDataEvent("endTest",e)},_createError:function(e,t,i){for(var n=[],s=0,r=t.length;s<r;s++)n.push({exception:t[s],test:i});this.fireDataEvent(e,n)},__wrapAddListener:function(e){e._addedListeners=[];if(!qx.event.Registration.addListenerOriginal){qx.event.Registration.addListenerOriginal=qx.event.Registration.addListener;qx.event.Registration.addListener=function(t,i,n,s,r){var o=qx.event.Registration.addListenerOriginal(t,i,n,s,r),a=!0;(t.classname&&0==t.classname.indexOf("testrunner.unit")||s&&s.classname&&0==s.classname.indexOf("testrunner.unit"))&&(a=!1);a&&e._addedListeners.push([t,o]);return o}}},__removeListeners:function(e){if(e._addedListeners)for(var t=e._addedListeners,i=0,n=t.length;i<n;i++){var s=t[i][0],r=t[i][1];try{qx.event.Registration.removeListenerById(s,r)}catch(e){}}},tearDown:function(e){e.tearDown();var t=e.getTestClass(),i="tearDown"+qx.lang.String.firstUp(e.getName());t[i]&&t[i]();t.doAutoDispose()}},destruct:function(){this._timeout=null}});qx.dev.unit.TestResult.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.bom.Stylesheet":{construct:!0},"qx.log.Logger":{construct:!0},"qx.bom.element.Class":{},"qx.log.appender.Formatter":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.log.appender.Element",{extend:qx.core.Object,construct:function(e){qx.core.Object.constructor.call(this);qx.bom.Stylesheet.createElement([".qxappender .level-debug{background:white}",".qxappender .level-info{background:#DEEDFA}",".qxappender .level-warn{background:#FFF7D5}",".qxappender .level-error{background:#FFE2D5}",".qxappender .level-user{background:#E3EFE9}",".qxappender .type-string{color:black;font-weight:normal;}",".qxappender .type-number{color:#155791;font-weight:normal;}",".qxappender .type-boolean{color:#15BC91;font-weight:normal;}",".qxappender .type-array{color:#CC3E8A;font-weight:bold;}",".qxappender .type-map{color:#CC3E8A;font-weight:bold;}",".qxappender .type-key{color:#565656;font-style:italic}",".qxappender .type-class{color:#5F3E8A;font-weight:bold}",".qxappender .type-instance{color:#565656;font-weight:bold}",".qxappender .type-stringify{color:#565656;font-weight:bold}"].join(""));qx.log.Logger.register(this)},members:{__element:null,setElement:function(e){this.clear();e&&qx.bom.element.Class.add(e,"qxappender");this.__element=e},clear:function(){var e=this.__element;e&&(e.innerHTML="")},process:function(e){var t=this.__element;if(t){var i=qx.log.appender.Formatter.getFormatter();t.appendChild(i.toHtml(e));t.scrollTop=t.scrollHeight}}}});qx.log.appender.Element.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{construct:!0,require:!0},"qx.dev.unit.TestFunction":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.AbstractTestSuite",{extend:qx.core.Object,type:"abstract",construct:function(){qx.core.Object.constructor.call(this);this._tests=[]},members:{_tests:null,addTestFunction:function(e,t){this._tests.push(new qx.dev.unit.TestFunction(null,e,t))},addTestMethod:function(e,t){this._tests.push(new qx.dev.unit.TestFunction(e,t))},addFail:function(e,t){this.addTestFunction(e,function(){this.fail(t)})},run:function(e){for(var t=0;t<this._tests.length;t++)this._tests[t].run(e)},getTestMethods:function(){for(var e=[],t=0;t<this._tests.length;t++){var i=this._tests[t];i instanceof qx.dev.unit.TestFunction&&e.push(i)}return e}},destruct:function(){this._disposeArray("_tests")}});qx.dev.unit.AbstractTestSuite.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.AbstractTestSuite":{construct:!0,require:!0},"qx.lang.Type":{},"qx.dev.unit.TestCase":{},"qx.dev.unit.TestClass":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestSuite",{extend:qx.dev.unit.AbstractTestSuite,construct:function(e){qx.dev.unit.AbstractTestSuite.constructor.call(this);this._tests=[];e&&this.add(e)},members:{add:function(e){if(qx.lang.Type.isString(e)){var t=window.eval(e);t||this.addFail(e,"The class/namespace '"+e+"' is undefined!");e=t}if(qx.lang.Type.isFunction(e))this.addTestClass(e);else{if(!qx.lang.Type.isObject(e)){this.addFail("existsCheck","Unknown test class '"+e+"'!");return}this.addTestNamespace(e)}},addTestNamespace:function(e){if(qx.lang.Type.isFunction(e)&&e.classname){if(qx.Class.isSubClassOf(e,qx.dev.unit.TestCase)){"abstract"!==e.$$classtype&&this.addTestClass(e);return}}else if(qx.lang.Type.isObject(e)&&!(e instanceof Array))for(var t in e)this.addTestNamespace(e[t])},addTestClass:function(e){this._tests.push(new qx.dev.unit.TestClass(e))},getTestClasses:function(){for(var e=[],t=0;t<this._tests.length;t++){var i=this._tests[t];i instanceof qx.dev.unit.TestClass&&e.push(i)}return e}}});qx.dev.unit.TestSuite.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.dev.unit.TestResult":{construct:!0,require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.JsUnitTestResult",{extend:qx.dev.unit.TestResult,construct:function(){qx.dev.unit.TestResult.constructor.call(this);this.__testFunctionNames=[]},members:{__testFunctionNames:null,run:function(e,t){var i="$test_"+e.getFullName().replace(/\W/g,"_");this.__testFunctionNames.push(i);window[i]=t},exportToJsUnit:function(){var e=this;window.exposeTestFunctionNames=function(){return e.__testFunctionNames};window.isTestPageLoaded=!0}}});qx.dev.unit.JsUnitTestResult.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",require:!0},"qx.core.Object":{require:!0},"qx.lang.Type":{}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestFunction",{extend:qx.core.Object,construct:function(e,t,i){i&&this.setTestFunction(i);if(e){this.setClassName(e.classname);this.setTestClass(e)}this.setName(t)},properties:{testFunction:{check:"Function"},name:{check:"String"},className:{check:"String",init:""},testClass:{check:"qx.dev.unit.TestCase",init:null}},members:{run:function(e){var t=this.getTestClass(),i=this.getName();t.set({testFunc:this,testResult:e});e.run(this,function(){switch(t[i].constructor.name){case"Function":try{t[i]()}catch(e){throw e}break;case"AsyncFunction":t[i]().then(function(){t.resume()}).catch(function(e){t.resume(function(){throw e})});t.wait()}})},setUp:function(){var e=this.getTestClass();qx.lang.Type.isFunction(e.setUp)&&e.setUp()},tearDown:function(){var e=this.getTestClass();qx.lang.Type.isFunction(e.tearDown)&&e.tearDown()},getFullName:function(){return[this.getClassName(),this.getName()].join(":")}}});qx.dev.unit.TestFunction.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Class":{usage:"dynamic",construct:!0,require:!0},"qx.dev.unit.AbstractTestSuite":{construct:!0,require:!0},"qx.dev.unit.TestCase":{construct:!0},"qx.lang.Type":{construct:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Class.define("qx.dev.unit.TestClass",{extend:qx.dev.unit.AbstractTestSuite,construct:function(e){qx.dev.unit.AbstractTestSuite.constructor.call(this);if(e)if(qx.Class.isSubClassOf(e,qx.dev.unit.TestCase)){var t=e.prototype,i=new e;for(var n in t)qx.lang.Type.isFunctionOrAsyncFunction(t[n])&&0==n.indexOf("test")&&this.addTestMethod(i,n);this.setName(e.classname)}else this.addFail("Sub class check.","The test class '"+e.classname+"'is not a sub class of 'qx.dev.unit.TestCase'");else this.addFail("existsCheck","Unknown test class!")},properties:{name:{check:"String"}}});qx.dev.unit.TestClass.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.core.Environment":{defer:"load",usage:"dynamic",require:!0},"qx.Theme":{usage:"dynamic",require:!0},"qx.bom.client.Css":{require:!0}},environment:{provided:[],required:{"css.rgba":{load:!0,className:"qx.bom.client.Css"}}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.simple.Color",{colors:{background:"white","dark-blue":"#5685D6","light-background":"#E0ECFF","background-selected":"#6694E3","background-selected-disabled":"#CDCDCD","background-selected-dark":"#5685D6","background-disabled":"#F7F7F7","background-disabled-checked":"#BBBBBB","background-pane":"#FAFBFE","tabview-unselected":"#1866B5","tabview-button-border":"#134983","tabview-label-active-disabled":"#D9D9D9",link:"#24B","scrollbar-bright":"#F1F1F1","scrollbar-dark":"#EBEBEB",button:"#E8F0E3","button-border":"#BBB","button-border-hovered":"#939393",invalid:"#FF0000","button-box-bright":"#F9F9F9","button-box-dark":"#E3E3E3","button-box-bright-pressed":"#DDDDDD","button-box-dark-pressed":"#F5F5F5","border-lead":"#888888","window-border":"#2E3A46","window-border-inner":"#9DCBFE","white-box-border":"#BCBCBC",shadow:qx.core.Environment.get("css.rgba")?"rgba(0, 0, 0, 0.4)":"#666666","border-main":"#6694E3","border-light":"#B7B7B7","border-light-shadow":"#686868","border-separator":"#808080",text:"black","text-disabled":"#A7A6AA","text-selected":"white","text-placeholder":"#CBC8CD",tooltip:"#FFFFE1","tooltip-text":"black","table-header":[242,242,242],"table-focus-indicator":[179,217,255],"table-header-cell":[235,234,219],"table-row-background-focused-selected":[90,138,211],"table-row-background-focused":[221,238,255],"table-row-background-selected":[51,94,168],"table-row-background-even":"white","table-row-background-odd":"white","table-row-selected":[255,255,255],"table-row":[0,0,0],"table-row-line":"#EEE","table-column-line":"#EEE","progressive-table-header":"#AAAAAA","progressive-table-row-background-even":[250,248,243],"progressive-table-row-background-odd":[255,255,255],"progressive-progressbar-background":"gray","progressive-progressbar-indicator-done":"#CCCCCC","progressive-progressbar-indicator-undone":"white","progressive-progressbar-percent-background":"gray","progressive-progressbar-percent-text":"white"}});qx.theme.simple.Color.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.simple.Decoration",{aliases:{decoration:"qx/decoration/Simple"},decorations:{"border-blue":{style:{width:4,color:"background-selected"}},main:{style:{width:1,color:"border-main"}},"main-dark":{style:{width:1,color:"button-border"}},popup:{style:{width:1,color:"window-border",shadowLength:2,shadowBlurRadius:5,shadowColor:"shadow"}},dragover:{style:{bottom:[2,"solid","dark-blue"]}},"button-box":{style:{radius:3,width:1,color:"button-border",gradientStart:["button-box-bright",40],gradientEnd:["button-box-dark",70],backgroundColor:"button-box-bright"}},"button-box-pressed":{include:"button-box",style:{gradientStart:["button-box-bright-pressed",40],gradientEnd:["button-box-dark-pressed",70],backgroundColor:"button-box-bright-pressed"}},"button-box-pressed-hovered":{include:"button-box-pressed",style:{color:"button-border-hovered"}},"button-box-hovered":{include:"button-box",style:{color:"button-border-hovered"}},"button-box-invalid":{include:"button-box",style:{color:"invalid"}},"button-box-pressed-invalid":{include:"button-box-pressed",style:{color:"invalid"}},"button-box-hovered-invalid":{include:"button-box-invalid"},"button-box-pressed-hovered-invalid":{include:"button-box-pressed-invalid"},"button-box-focused":{include:"button-box",style:{color:"background-selected"}},"button-box-pressed-focused":{include:"button-box-pressed",style:{color:"background-selected"}},"button-box-hovered-focused":{include:"button-box-focused"},"button-box-pressed-hovered-focused":{include:"button-box-pressed-focused"},"button-box-right":{include:"button-box",style:{radius:[0,3,3,0]}},"button-box-pressed-right":{include:"button-box-pressed",style:{radius:[0,3,3,0]}},"button-box-pressed-hovered-right":{include:"button-box-pressed-hovered",style:{radius:[0,3,3,0]}},"button-box-hovered-right":{include:"button-box-hovered",style:{radius:[0,3,3,0]}},"button-box-focused-right":{include:"button-box-focused",style:{radius:[0,3,3,0]}},"button-box-hovered-focused-right":{include:"button-box-hovered-focused",style:{radius:[0,3,3,0]}},"button-box-pressed-focused-right":{include:"button-box-pressed-focused",style:{radius:[0,3,3,0]}},"button-box-pressed-hovered-focused-right":{include:"button-box-pressed-hovered-focused",style:{radius:[0,3,3,0]}},"button-box-right-borderless":{include:"button-box",style:{radius:[0,3,3,0],width:[1,1,1,0]}},"button-box-pressed-right-borderless":{include:"button-box-pressed",style:{radius:[0,3,3,0],width:[1,1,1,0]}},"button-box-pressed-hovered-right-borderless":{include:"button-box-pressed-hovered",style:{radius:[0,3,3,0],width:[1,1,1,0]}},"button-box-hovered-right-borderless":{include:"button-box-hovered",style:{radius:[0,3,3,0],width:[1,1,1,0]}},"button-box-top-right":{include:"button-box",style:{radius:[0,3,0,0],width:[1,1,1,0]}},"button-box-pressed-top-right":{include:"button-box-pressed",style:{radius:[0,3,0,0],width:[1,1,1,0]}},"button-box-pressed-hovered-top-right":{include:"button-box-pressed-hovered",style:{radius:[0,3,0,0],width:[1,1,1,0]}},"button-box-hovered-top-right":{include:"button-box-hovered",style:{radius:[0,3,0,0],width:[1,1,1,0]}},"button-box-bottom-right":{include:"button-box",style:{radius:[0,0,3,0],width:[0,1,1,0]}},"button-box-pressed-bottom-right":{include:"button-box-pressed",style:{radius:[0,0,3,0],width:[0,1,1,0]}},"button-box-pressed-hovered-bottom-right":{include:"button-box-pressed-hovered",style:{radius:[0,0,3,0],width:[0,1,1,0]}},"button-box-hovered-bottom-right":{include:"button-box-hovered",style:{radius:[0,0,3,0],width:[0,1,1,0]}},"button-box-bottom-left":{include:"button-box",style:{radius:[0,0,0,3],width:[0,0,1,1]}},"button-box-pressed-bottom-left":{include:"button-box-pressed",style:{radius:[0,0,0,3],width:[0,0,1,1]}},"button-box-pressed-hovered-bottom-left":{include:"button-box-pressed-hovered",style:{radius:[0,0,0,3],width:[0,0,1,1]}},"button-box-hovered-bottom-left":{include:"button-box-hovered",style:{radius:[0,0,0,3],width:[0,0,1,1]}},"button-box-top-left":{include:"button-box",style:{radius:[3,0,0,0],width:[1,0,0,1]}},"button-box-pressed-top-left":{include:"button-box-pressed",style:{radius:[3,0,0,0],width:[1,0,0,1]}},"button-box-pressed-hovered-top-left":{include:"button-box-pressed-hovered",style:{radius:[3,0,0,0],width:[1,0,0,1]}},"button-box-hovered-top-left":{include:"button-box-hovered",style:{radius:[3,0,0,0],width:[1,0,0,1]}},"button-box-middle":{include:"button-box",style:{radius:0,width:[1,0,1,1]}},"button-box-pressed-middle":{include:"button-box-pressed",style:{radius:0,width:[1,0,1,1]}},"button-box-pressed-hovered-middle":{include:"button-box-pressed-hovered",style:{radius:0,width:[1,0,1,1]}},"button-box-hovered-middle":{include:"button-box-hovered",style:{radius:0,width:[1,0,1,1]}},"button-box-left":{include:"button-box",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-pressed-left":{include:"button-box-pressed",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-pressed-hovered-left":{include:"button-box-pressed-hovered",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-hovered-left":{include:"button-box-hovered",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-focused-left":{include:"button-box-focused",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-hovered-focused-left":{include:"button-box-hovered-focused",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-pressed-hovered-focused-left":{include:"button-box-pressed-hovered-focused",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"button-box-pressed-focused-left":{include:"button-box-pressed-focused",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"separator-horizontal":{style:{widthLeft:1,colorLeft:"border-separator"}},"separator-vertical":{style:{widthTop:1,colorTop:"border-separator"}},"scroll-knob":{style:{radius:3,width:1,color:"button-border",backgroundColor:"scrollbar-bright"}},"scroll-knob-pressed":{include:"scroll-knob",style:{backgroundColor:"scrollbar-dark"}},"scroll-knob-hovered":{include:"scroll-knob",style:{color:"button-border-hovered"}},"scroll-knob-pressed-hovered":{include:"scroll-knob-pressed",style:{color:"button-border-hovered"}},"button-hover":{style:{backgroundColor:"button",radius:3}},window:{style:{width:1,color:"window-border",innerWidth:4,innerColor:"window-border-inner",shadowLength:1,shadowBlurRadius:3,shadowColor:"shadow",backgroundColor:"background"}},"window-active":{include:"window",style:{shadowLength:2,shadowBlurRadius:5}},"window-caption":{style:{width:[0,0,2,0],color:"window-border-inner"}},"white-box":{style:{width:1,color:"white-box-border",shadowBlurRadius:2,shadowColor:"#999999",radius:7,backgroundColor:"white",shadowLength:0}},inset:{style:{width:1,color:["border-light-shadow","border-light","border-light","border-light"]}},"focused-inset":{style:{width:2,color:"background-selected"}},"border-invalid":{style:{width:2,color:"invalid"}},"lead-item":{style:{width:1,style:"dotted",color:"border-lead"}},tooltip:{style:{width:1,color:"tooltip-text",shadowLength:1,shadowBlurRadius:2,shadowColor:"shadow"}},"tooltip-error":{style:{radius:5,backgroundColor:"invalid"}},"toolbar-separator":{style:{widthLeft:1,colorLeft:"button-border"}},"menu-separator":{style:{widthTop:1,colorTop:"background-selected"}},"menubar-button-hovered":{style:{width:1,color:"border-main",radius:3,backgroundColor:"white"}},"menubar-button-pressed":{include:"menubar-button-hovered",style:{radius:[3,3,0,0],width:[1,1,0,1]}},"datechooser-date-pane":{style:{widthTop:1,colorTop:"gray",style:"solid"}},"datechooser-weekday":{style:{widthBottom:1,colorBottom:"gray",style:"solid"}},"datechooser-week":{style:{widthRight:1,colorRight:"gray",style:"solid"}},"datechooser-week-header":{style:{widthBottom:1,colorBottom:"gray",widthRight:1,colorRight:"gray",style:"solid"}},"tabview-page-button-top":{style:{width:[1,1,0,1],backgroundColor:"background",color:"border-main",radius:[3,3,0,0]}},"tabview-page-button-bottom":{include:"tabview-page-button-top",style:{radius:[0,0,3,3],width:[0,1,1,1]}},"tabview-page-button-left":{include:"tabview-page-button-top",style:{radius:[3,0,0,3],width:[1,0,1,1]}},"tabview-page-button-right":{include:"tabview-page-button-top",style:{radius:[0,3,3,0],width:[1,1,1,0]}},statusbar:{style:{widthTop:1,colorTop:"background-selected",styleTop:"solid"}},"table-scroller-focus-indicator":{style:{width:2,color:"table-focus-indicator",style:"solid"}},"table-header":{include:"button-box",style:{radius:0,width:[1,0,1,0]}},"table-header-column-button":{include:"table-header",style:{width:1,color:"button-border"}},"table-header-cell":{style:{widthRight:1,color:"button-border"}},"table-header-cell-first":{include:"table-header-cell",style:{widthLeft:1}},"progressive-table-header":{include:"button-box",style:{radius:0,width:[1,0,1,1]}},"progressive-table-header-cell":{style:{widthRight:1,color:"button-border"}},progressbar:{style:{backgroundColor:"#FFF",width:1,color:"border-separator"}},radiobutton:{style:{radius:10,width:1,color:"button-border",innerColor:"background",innerWidth:2}},"radiobutton-focused":{include:"radiobutton",style:{color:"background-selected"}},"radiobutton-invalid":{include:"radiobutton",style:{color:"invalid"}},checkbox:{style:{width:1,color:"button-border"}},"checkbox-focused":{include:"checkbox",style:{color:"background-selected"}},"checkbox-invalid":{include:"checkbox",style:{color:"invalid"}}}});qx.theme.simple.Decoration.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.simple.Font",{fonts:{default:{size:13,family:["arial","sans-serif"]},bold:{size:13,family:["arial","sans-serif"],bold:!0},headline:{size:24,family:["sans-serif","arial"]},small:{size:11,family:["arial","sans-serif"]},monospace:{size:11,family:["DejaVu Sans Mono","Courier New","monospace"]}}});qx.theme.simple.Font.$$dbClassInfo=e}();!function(){var e={dependsOn:{"qx.Theme":{usage:"dynamic",require:!0},"qx.theme.simple.Color":{require:!0},"qx.theme.simple.Decoration":{require:!0},"qx.theme.simple.Font":{require:!0},"qx.theme.simple.Appearance":{require:!0},"qx.theme.icon.Tango":{require:!0}}};qx.Bootstrap.executePendingDefers(e);qx.Theme.define("qx.theme.Simple",{title:"Simple",meta:{color:qx.theme.simple.Color,decoration:qx.theme.simple.Decoration,font:qx.theme.simple.Font,appearance:qx.theme.simple.Appearance,icon:qx.theme.icon.Tango}});qx.theme.Simple.$$dbClassInfo=e}();
//# sourceMappingURL=part-0.js.map